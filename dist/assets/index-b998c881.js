function PM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function OM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var FM={exports:{}},$b={},DM={exports:{}},Sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=Symbol.for("react.element"),ZK=Symbol.for("react.portal"),eY=Symbol.for("react.fragment"),tY=Symbol.for("react.strict_mode"),rY=Symbol.for("react.profiler"),nY=Symbol.for("react.provider"),aY=Symbol.for("react.context"),iY=Symbol.for("react.forward_ref"),sY=Symbol.for("react.suspense"),oY=Symbol.for("react.memo"),lY=Symbol.for("react.lazy"),gk=Symbol.iterator;function cY(e){return e===null||typeof e!="object"?null:(e=gk&&e[gk]||e["@@iterator"],typeof e=="function"?e:null)}var LM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IM=Object.assign,MM={};function V0(e,t,r){this.props=e,this.context=t,this.refs=MM,this.updater=r||LM}V0.prototype.isReactComponent={};V0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};V0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RM(){}RM.prototype=V0.prototype;function GA(e,t,r){this.props=e,this.context=t,this.refs=MM,this.updater=r||LM}var KA=GA.prototype=new RM;KA.constructor=GA;IM(KA,V0.prototype);KA.isPureReactComponent=!0;var vk=Array.isArray,$M=Object.prototype.hasOwnProperty,YA={current:null},BM={key:!0,ref:!0,__self:!0,__source:!0};function UM(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$M.call(t,n)&&!BM.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:$v,type:e,key:i,ref:o,props:a,_owner:YA.current}}function uY(e,t){return{$$typeof:$v,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function XA(e){return typeof e=="object"&&e!==null&&e.$$typeof===$v}function dY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xk=/\/+/g;function l5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dY(""+e.key):t.toString(36)}function xy(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $v:case ZK:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+l5(o,0):n,vk(a)?(r="",e!=null&&(r=e.replace(xk,"$&/")+"/"),xy(a,t,r,"",function(u){return u})):a!=null&&(XA(a)&&(a=uY(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(xk,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",vk(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+l5(i,l);o+=xy(i,t,r,c,a)}else if(c=cY(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+l5(i,l++),o+=xy(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function o1(e,t,r){if(e==null)return e;var n=[],a=0;return xy(e,n,"","",function(i){return t.call(r,i,a++)}),n}function fY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ri={current:null},yy={transition:null},hY={ReactCurrentDispatcher:Ri,ReactCurrentBatchConfig:yy,ReactCurrentOwner:YA};function zM(){throw Error("act(...) is not supported in production builds of React.")}Sr.Children={map:o1,forEach:function(e,t,r){o1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return o1(e,function(){t++}),t},toArray:function(e){return o1(e,function(t){return t})||[]},only:function(e){if(!XA(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Sr.Component=V0;Sr.Fragment=eY;Sr.Profiler=rY;Sr.PureComponent=GA;Sr.StrictMode=tY;Sr.Suspense=sY;Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hY;Sr.act=zM;Sr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=IM({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=YA.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$M.call(t,c)&&!BM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:$v,type:e.type,key:a,ref:i,props:n,_owner:o}};Sr.createContext=function(e){return e={$$typeof:aY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nY,_context:e},e.Consumer=e};Sr.createElement=UM;Sr.createFactory=function(e){var t=UM.bind(null,e);return t.type=e,t};Sr.createRef=function(){return{current:null}};Sr.forwardRef=function(e){return{$$typeof:iY,render:e}};Sr.isValidElement=XA;Sr.lazy=function(e){return{$$typeof:lY,_payload:{_status:-1,_result:e},_init:fY}};Sr.memo=function(e,t){return{$$typeof:oY,type:e,compare:t===void 0?null:t}};Sr.startTransition=function(e){var t=yy.transition;yy.transition={};try{e()}finally{yy.transition=t}};Sr.unstable_act=zM;Sr.useCallback=function(e,t){return Ri.current.useCallback(e,t)};Sr.useContext=function(e){return Ri.current.useContext(e)};Sr.useDebugValue=function(){};Sr.useDeferredValue=function(e){return Ri.current.useDeferredValue(e)};Sr.useEffect=function(e,t){return Ri.current.useEffect(e,t)};Sr.useId=function(){return Ri.current.useId()};Sr.useImperativeHandle=function(e,t,r){return Ri.current.useImperativeHandle(e,t,r)};Sr.useInsertionEffect=function(e,t){return Ri.current.useInsertionEffect(e,t)};Sr.useLayoutEffect=function(e,t){return Ri.current.useLayoutEffect(e,t)};Sr.useMemo=function(e,t){return Ri.current.useMemo(e,t)};Sr.useReducer=function(e,t,r){return Ri.current.useReducer(e,t,r)};Sr.useRef=function(e){return Ri.current.useRef(e)};Sr.useState=function(e){return Ri.current.useState(e)};Sr.useSyncExternalStore=function(e,t,r){return Ri.current.useSyncExternalStore(e,t,r)};Sr.useTransition=function(){return Ri.current.useTransition()};Sr.version="18.3.1";DM.exports=Sr;var O=DM.exports;const Ae=Vr(O),pY=PM({__proto__:null,default:Ae},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mY=O,gY=Symbol.for("react.element"),vY=Symbol.for("react.fragment"),xY=Object.prototype.hasOwnProperty,yY=mY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bY={key:!0,ref:!0,__self:!0,__source:!0};function VM(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)xY.call(t,n)&&!bY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:gY,type:e,key:i,ref:o,props:a,_owner:yY.current}}$b.Fragment=vY;$b.jsx=VM;$b.jsxs=VM;FM.exports=$b;var s=FM.exports,dS={},HM={exports:{}},Os={},WM={exports:{}},qM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,F){var z=q.length;q.push(F);e:for(;0<z;){var J=z-1>>>1,E=q[J];if(0<a(E,F))q[J]=F,q[z]=E,z=J;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var F=q[0],z=q.pop();if(z!==F){q[0]=z;e:for(var J=0,E=q.length,V=E>>>1;J<V;){var K=2*(J+1)-1,W=q[K],Y=K+1,ee=q[Y];if(0>a(W,z))Y<E&&0>a(ee,W)?(q[J]=ee,q[Y]=z,J=Y):(q[J]=W,q[K]=z,J=K);else if(Y<E&&0>a(ee,z))q[J]=ee,q[Y]=z,J=Y;else break e}}return F}function a(q,F){var z=q.sortIndex-F.sortIndex;return z!==0?z:q.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(q){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=q)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function S(q){if(m=!1,b(q),!v)if(r(c)!==null)v=!0,B(_);else{var F=r(u);F!==null&&I(S,F.startTime-q)}}function _(q,F){v=!1,m&&(m=!1,g(A),A=-1),p=!0;var z=h;try{for(b(F),f=r(c);f!==null&&(!(f.expirationTime>F)||q&&!C());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var E=J(f.expirationTime<=F);F=e.unstable_now(),typeof E=="function"?f.callback=E:f===r(c)&&n(c),b(F)}else n(c);f=r(c)}if(f!==null)var V=!0;else{var K=r(u);K!==null&&I(S,K.startTime-F),V=!1}return V}finally{f=null,h=z,p=!1}}var N=!1,j=null,A=-1,P=5,H=-1;function C(){return!(e.unstable_now()-H<P)}function k(){if(j!==null){var q=e.unstable_now();H=q;var F=!0;try{F=j(!0,q)}finally{F?U():(N=!1,j=null)}}else N=!1}var U;if(typeof y=="function")U=function(){y(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=k,U=function(){M.postMessage(null)}}else U=function(){x(k,0)};function B(q){j=q,N||(N=!0,U())}function I(q,F){A=x(function(){q(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,B(_))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var z=h;h=F;try{return q()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,F){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var z=h;h=q;try{return F()}finally{h=z}},e.unstable_scheduleCallback=function(q,F,z){var J=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,q){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=z+E,q={id:d++,callback:F,priorityLevel:q,startTime:z,expirationTime:E,sortIndex:-1},z>J?(q.sortIndex=z,t(u,q),r(c)===null&&q===r(u)&&(m?(g(A),A=-1):m=!0,I(S,z-J))):(q.sortIndex=E,t(c,q),v||p||(v=!0,B(_))),q},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(q){var F=h;return function(){var z=h;h=F;try{return q.apply(this,arguments)}finally{h=z}}}})(qM);WM.exports=qM;var wY=WM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _Y=O,Ts=wY;function ht(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GM=new Set,yg={};function hf(e,t){r0(e,t),r0(e+"Capture",t)}function r0(e,t){for(yg[e]=t,e=0;e<t.length;e++)GM.add(t[e])}var pc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fS=Object.prototype.hasOwnProperty,jY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yk={},bk={};function SY(e){return fS.call(bk,e)?!0:fS.call(yk,e)?!1:jY.test(e)?bk[e]=!0:(yk[e]=!0,!1)}function NY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AY(e,t,r,n){if(t===null||typeof t>"u"||NY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $i(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ja={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ja[e]=new $i(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ja[t]=new $i(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ja[e]=new $i(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ja[e]=new $i(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ja[e]=new $i(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ja[e]=new $i(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ja[e]=new $i(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ja[e]=new $i(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ja[e]=new $i(e,5,!1,e.toLowerCase(),null,!1,!1)});var JA=/[\-:]([a-z])/g;function QA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(JA,QA);Ja[t]=new $i(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(JA,QA);Ja[t]=new $i(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(JA,QA);Ja[t]=new $i(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ja[e]=new $i(e,1,!1,e.toLowerCase(),null,!1,!1)});Ja.xlinkHref=new $i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ja[e]=new $i(e,1,!1,e.toLowerCase(),null,!0,!0)});function ZA(e,t,r,n){var a=Ja.hasOwnProperty(t)?Ja[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AY(t,r,a,n)&&(r=null),n||a===null?SY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ac=_Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l1=Symbol.for("react.element"),mh=Symbol.for("react.portal"),gh=Symbol.for("react.fragment"),eT=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),KM=Symbol.for("react.provider"),YM=Symbol.for("react.context"),tT=Symbol.for("react.forward_ref"),pS=Symbol.for("react.suspense"),mS=Symbol.for("react.suspense_list"),rT=Symbol.for("react.memo"),ru=Symbol.for("react.lazy"),XM=Symbol.for("react.offscreen"),wk=Symbol.iterator;function qp(e){return e===null||typeof e!="object"?null:(e=wk&&e[wk]||e["@@iterator"],typeof e=="function"?e:null)}var Rn=Object.assign,c5;function Sm(e){if(c5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);c5=t&&t[1]||""}return`
`+c5+e}var u5=!1;function d5(e,t){if(!e||u5)return"";u5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{u5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sm(e):""}function TY(e){switch(e.tag){case 5:return Sm(e.type);case 16:return Sm("Lazy");case 13:return Sm("Suspense");case 19:return Sm("SuspenseList");case 0:case 2:case 15:return e=d5(e.type,!1),e;case 11:return e=d5(e.type.render,!1),e;case 1:return e=d5(e.type,!0),e;default:return""}}function gS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gh:return"Fragment";case mh:return"Portal";case hS:return"Profiler";case eT:return"StrictMode";case pS:return"Suspense";case mS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case YM:return(e.displayName||"Context")+".Consumer";case KM:return(e._context.displayName||"Context")+".Provider";case tT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rT:return t=e.displayName||null,t!==null?t:gS(e.type)||"Memo";case ru:t=e._payload,e=e._init;try{return gS(e(t))}catch{}}return null}function CY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gS(t);case 8:return t===eT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function EY(e){var t=JM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function c1(e){e._valueTracker||(e._valueTracker=EY(e))}function QM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=JM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vS(e,t){var r=t.checked;return Rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function _k(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ZM(e,t){t=t.checked,t!=null&&ZA(e,"checked",t,!1)}function xS(e,t){ZM(e,t);var r=Pu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yS(e,t.type,r):t.hasOwnProperty("defaultValue")&&yS(e,t.type,Pu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yS(e,t,r){(t!=="number"||zy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nm=Array.isArray;function Ih(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function bS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ht(91));return Rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ht(92));if(Nm(r)){if(1<r.length)throw Error(ht(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pu(r)}}function eR(e,t){var r=Pu(t.value),n=Pu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Nk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var u1,rR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(u1=u1||document.createElement("div"),u1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=u1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $m={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kY=["Webkit","ms","Moz","O"];Object.keys($m).forEach(function(e){kY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$m[t]=$m[e]})});function nR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$m.hasOwnProperty(e)&&$m[e]?(""+t).trim():t+"px"}function aR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=nR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var PY=Rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _S(e,t){if(t){if(PY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ht(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ht(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ht(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ht(62))}}function jS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SS=null;function nT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var NS=null,Mh=null,Rh=null;function Ak(e){if(e=zv(e)){if(typeof NS!="function")throw Error(ht(280));var t=e.stateNode;t&&(t=Hb(t),NS(e.stateNode,e.type,t))}}function iR(e){Mh?Rh?Rh.push(e):Rh=[e]:Mh=e}function sR(){if(Mh){var e=Mh,t=Rh;if(Rh=Mh=null,Ak(e),t)for(e=0;e<t.length;e++)Ak(t[e])}}function oR(e,t){return e(t)}function lR(){}var f5=!1;function cR(e,t,r){if(f5)return e(t,r);f5=!0;try{return oR(e,t,r)}finally{f5=!1,(Mh!==null||Rh!==null)&&(lR(),sR())}}function wg(e,t){var r=e.stateNode;if(r===null)return null;var n=Hb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ht(231,t,typeof r));return r}var AS=!1;if(pc)try{var Gp={};Object.defineProperty(Gp,"passive",{get:function(){AS=!0}}),window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{AS=!1}function OY(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bm=!1,Vy=null,Hy=!1,TS=null,FY={onError:function(e){Bm=!0,Vy=e}};function DY(e,t,r,n,a,i,o,l,c){Bm=!1,Vy=null,OY.apply(FY,arguments)}function LY(e,t,r,n,a,i,o,l,c){if(DY.apply(this,arguments),Bm){if(Bm){var u=Vy;Bm=!1,Vy=null}else throw Error(ht(198));Hy||(Hy=!0,TS=u)}}function pf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function uR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tk(e){if(pf(e)!==e)throw Error(ht(188))}function IY(e){var t=e.alternate;if(!t){if(t=pf(e),t===null)throw Error(ht(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Tk(a),e;if(i===n)return Tk(a),t;i=i.sibling}throw Error(ht(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ht(189))}}if(r.alternate!==n)throw Error(ht(190))}if(r.tag!==3)throw Error(ht(188));return r.stateNode.current===r?e:t}function dR(e){return e=IY(e),e!==null?fR(e):null}function fR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fR(e);if(t!==null)return t;e=e.sibling}return null}var hR=Ts.unstable_scheduleCallback,Ck=Ts.unstable_cancelCallback,MY=Ts.unstable_shouldYield,RY=Ts.unstable_requestPaint,Zn=Ts.unstable_now,$Y=Ts.unstable_getCurrentPriorityLevel,aT=Ts.unstable_ImmediatePriority,pR=Ts.unstable_UserBlockingPriority,Wy=Ts.unstable_NormalPriority,BY=Ts.unstable_LowPriority,mR=Ts.unstable_IdlePriority,Bb=null,gl=null;function UY(e){if(gl&&typeof gl.onCommitFiberRoot=="function")try{gl.onCommitFiberRoot(Bb,e,void 0,(e.current.flags&128)===128)}catch{}}var Uo=Math.clz32?Math.clz32:HY,zY=Math.log,VY=Math.LN2;function HY(e){return e>>>=0,e===0?32:31-(zY(e)/VY|0)|0}var d1=64,f1=4194304;function Am(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Am(l):(i&=o,i!==0&&(n=Am(i)))}else o=r&~a,o!==0?n=Am(o):i!==0&&(n=Am(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Uo(t),a=1<<r,n|=e[r],t&=~a;return n}function WY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qY(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Uo(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=WY(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function CS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gR(){var e=d1;return d1<<=1,!(d1&4194240)&&(d1=64),e}function h5(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Uo(t),e[t]=r}function GY(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Uo(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function iT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Uo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var en=0;function vR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xR,sT,yR,bR,wR,ES=!1,h1=[],xu=null,yu=null,bu=null,_g=new Map,jg=new Map,su=[],KY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ek(e,t){switch(e){case"focusin":case"focusout":xu=null;break;case"dragenter":case"dragleave":yu=null;break;case"mouseover":case"mouseout":bu=null;break;case"pointerover":case"pointerout":_g.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jg.delete(t.pointerId)}}function Kp(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=zv(t),t!==null&&sT(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function YY(e,t,r,n,a){switch(t){case"focusin":return xu=Kp(xu,e,t,r,n,a),!0;case"dragenter":return yu=Kp(yu,e,t,r,n,a),!0;case"mouseover":return bu=Kp(bu,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return _g.set(i,Kp(_g.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,jg.set(i,Kp(jg.get(i)||null,e,t,r,n,a)),!0}return!1}function _R(e){var t=Td(e.target);if(t!==null){var r=pf(t);if(r!==null){if(t=r.tag,t===13){if(t=uR(r),t!==null){e.blockedOn=t,wR(e.priority,function(){yR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function by(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=kS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);SS=n,r.target.dispatchEvent(n),SS=null}else return t=zv(r),t!==null&&sT(t),e.blockedOn=r,!1;t.shift()}return!0}function kk(e,t,r){by(e)&&r.delete(t)}function XY(){ES=!1,xu!==null&&by(xu)&&(xu=null),yu!==null&&by(yu)&&(yu=null),bu!==null&&by(bu)&&(bu=null),_g.forEach(kk),jg.forEach(kk)}function Yp(e,t){e.blockedOn===t&&(e.blockedOn=null,ES||(ES=!0,Ts.unstable_scheduleCallback(Ts.unstable_NormalPriority,XY)))}function Sg(e){function t(a){return Yp(a,e)}if(0<h1.length){Yp(h1[0],e);for(var r=1;r<h1.length;r++){var n=h1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xu!==null&&Yp(xu,e),yu!==null&&Yp(yu,e),bu!==null&&Yp(bu,e),_g.forEach(t),jg.forEach(t),r=0;r<su.length;r++)n=su[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<su.length&&(r=su[0],r.blockedOn===null);)_R(r),r.blockedOn===null&&su.shift()}var $h=Ac.ReactCurrentBatchConfig,Gy=!0;function JY(e,t,r,n){var a=en,i=$h.transition;$h.transition=null;try{en=1,oT(e,t,r,n)}finally{en=a,$h.transition=i}}function QY(e,t,r,n){var a=en,i=$h.transition;$h.transition=null;try{en=4,oT(e,t,r,n)}finally{en=a,$h.transition=i}}function oT(e,t,r,n){if(Gy){var a=kS(e,t,r,n);if(a===null)j5(e,t,n,Ky,r),Ek(e,n);else if(YY(a,e,t,r,n))n.stopPropagation();else if(Ek(e,n),t&4&&-1<KY.indexOf(e)){for(;a!==null;){var i=zv(a);if(i!==null&&xR(i),i=kS(e,t,r,n),i===null&&j5(e,t,n,Ky,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else j5(e,t,n,null,r)}}var Ky=null;function kS(e,t,r,n){if(Ky=null,e=nT(n),e=Td(e),e!==null)if(t=pf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=uR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ky=e,null}function jR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($Y()){case aT:return 1;case pR:return 4;case Wy:case BY:return 16;case mR:return 536870912;default:return 16}default:return 16}}var fu=null,lT=null,wy=null;function SR(){if(wy)return wy;var e,t=lT,r=t.length,n,a="value"in fu?fu.value:fu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return wy=a.slice(e,1<n?1-n:void 0)}function _y(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function p1(){return!0}function Pk(){return!1}function Fs(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?p1:Pk,this.isPropagationStopped=Pk,this}return Rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=p1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=p1)},persist:function(){},isPersistent:p1}),t}var H0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cT=Fs(H0),Uv=Rn({},H0,{view:0,detail:0}),ZY=Fs(Uv),p5,m5,Xp,Ub=Rn({},Uv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xp&&(Xp&&e.type==="mousemove"?(p5=e.screenX-Xp.screenX,m5=e.screenY-Xp.screenY):m5=p5=0,Xp=e),p5)},movementY:function(e){return"movementY"in e?e.movementY:m5}}),Ok=Fs(Ub),eX=Rn({},Ub,{dataTransfer:0}),tX=Fs(eX),rX=Rn({},Uv,{relatedTarget:0}),g5=Fs(rX),nX=Rn({},H0,{animationName:0,elapsedTime:0,pseudoElement:0}),aX=Fs(nX),iX=Rn({},H0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sX=Fs(iX),oX=Rn({},H0,{data:0}),Fk=Fs(oX),lX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uX[e])?!!t[e]:!1}function uT(){return dX}var fX=Rn({},Uv,{key:function(e){if(e.key){var t=lX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_y(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uT,charCode:function(e){return e.type==="keypress"?_y(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_y(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hX=Fs(fX),pX=Rn({},Ub,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dk=Fs(pX),mX=Rn({},Uv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uT}),gX=Fs(mX),vX=Rn({},H0,{propertyName:0,elapsedTime:0,pseudoElement:0}),xX=Fs(vX),yX=Rn({},Ub,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bX=Fs(yX),wX=[9,13,27,32],dT=pc&&"CompositionEvent"in window,Um=null;pc&&"documentMode"in document&&(Um=document.documentMode);var _X=pc&&"TextEvent"in window&&!Um,NR=pc&&(!dT||Um&&8<Um&&11>=Um),Lk=String.fromCharCode(32),Ik=!1;function AR(e,t){switch(e){case"keyup":return wX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vh=!1;function jX(e,t){switch(e){case"compositionend":return TR(t);case"keypress":return t.which!==32?null:(Ik=!0,Lk);case"textInput":return e=t.data,e===Lk&&Ik?null:e;default:return null}}function SX(e,t){if(vh)return e==="compositionend"||!dT&&AR(e,t)?(e=SR(),wy=lT=fu=null,vh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return NR&&t.locale!=="ko"?null:t.data;default:return null}}var NX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NX[e.type]:t==="textarea"}function CR(e,t,r,n){iR(n),t=Yy(t,"onChange"),0<t.length&&(r=new cT("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zm=null,Ng=null;function AX(e){$R(e,0)}function zb(e){var t=bh(e);if(QM(t))return e}function TX(e,t){if(e==="change")return t}var ER=!1;if(pc){var v5;if(pc){var x5="oninput"in document;if(!x5){var Rk=document.createElement("div");Rk.setAttribute("oninput","return;"),x5=typeof Rk.oninput=="function"}v5=x5}else v5=!1;ER=v5&&(!document.documentMode||9<document.documentMode)}function $k(){zm&&(zm.detachEvent("onpropertychange",kR),Ng=zm=null)}function kR(e){if(e.propertyName==="value"&&zb(Ng)){var t=[];CR(t,Ng,e,nT(e)),cR(AX,t)}}function CX(e,t,r){e==="focusin"?($k(),zm=t,Ng=r,zm.attachEvent("onpropertychange",kR)):e==="focusout"&&$k()}function EX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zb(Ng)}function kX(e,t){if(e==="click")return zb(t)}function PX(e,t){if(e==="input"||e==="change")return zb(t)}function OX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ho=typeof Object.is=="function"?Object.is:OX;function Ag(e,t){if(Ho(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!fS.call(t,a)||!Ho(e[a],t[a]))return!1}return!0}function Bk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uk(e,t){var r=Bk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bk(r)}}function PR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function OR(){for(var e=window,t=zy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zy(e.document)}return t}function fT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FX(e){var t=OR(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&PR(r.ownerDocument.documentElement,r)){if(n!==null&&fT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Uk(r,i);var o=Uk(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DX=pc&&"documentMode"in document&&11>=document.documentMode,xh=null,PS=null,Vm=null,OS=!1;function zk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;OS||xh==null||xh!==zy(n)||(n=xh,"selectionStart"in n&&fT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vm&&Ag(Vm,n)||(Vm=n,n=Yy(PS,"onSelect"),0<n.length&&(t=new cT("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xh)))}function m1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yh={animationend:m1("Animation","AnimationEnd"),animationiteration:m1("Animation","AnimationIteration"),animationstart:m1("Animation","AnimationStart"),transitionend:m1("Transition","TransitionEnd")},y5={},FR={};pc&&(FR=document.createElement("div").style,"AnimationEvent"in window||(delete yh.animationend.animation,delete yh.animationiteration.animation,delete yh.animationstart.animation),"TransitionEvent"in window||delete yh.transitionend.transition);function Vb(e){if(y5[e])return y5[e];if(!yh[e])return e;var t=yh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in FR)return y5[e]=t[r];return e}var DR=Vb("animationend"),LR=Vb("animationiteration"),IR=Vb("animationstart"),MR=Vb("transitionend"),RR=new Map,Vk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vu(e,t){RR.set(e,t),hf(t,[e])}for(var b5=0;b5<Vk.length;b5++){var w5=Vk[b5],LX=w5.toLowerCase(),IX=w5[0].toUpperCase()+w5.slice(1);Vu(LX,"on"+IX)}Vu(DR,"onAnimationEnd");Vu(LR,"onAnimationIteration");Vu(IR,"onAnimationStart");Vu("dblclick","onDoubleClick");Vu("focusin","onFocus");Vu("focusout","onBlur");Vu(MR,"onTransitionEnd");r0("onMouseEnter",["mouseout","mouseover"]);r0("onMouseLeave",["mouseout","mouseover"]);r0("onPointerEnter",["pointerout","pointerover"]);r0("onPointerLeave",["pointerout","pointerover"]);hf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hf("onBeforeInput",["compositionend","keypress","textInput","paste"]);hf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tm));function Hk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,LY(n,t,void 0,e),e.currentTarget=null}function $R(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Hk(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Hk(a,l,u),i=c}}}if(Hy)throw e=TS,Hy=!1,TS=null,e}function yn(e,t){var r=t[MS];r===void 0&&(r=t[MS]=new Set);var n=e+"__bubble";r.has(n)||(BR(t,e,2,!1),r.add(n))}function _5(e,t,r){var n=0;t&&(n|=4),BR(r,e,n,t)}var g1="_reactListening"+Math.random().toString(36).slice(2);function Tg(e){if(!e[g1]){e[g1]=!0,GM.forEach(function(r){r!=="selectionchange"&&(MX.has(r)||_5(r,!1,e),_5(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[g1]||(t[g1]=!0,_5("selectionchange",!1,t))}}function BR(e,t,r,n){switch(jR(t)){case 1:var a=JY;break;case 4:a=QY;break;default:a=oT}r=a.bind(null,t,r,e),a=void 0,!AS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function j5(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Td(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}cR(function(){var u=i,d=nT(r),f=[];e:{var h=RR.get(e);if(h!==void 0){var p=cT,v=e;switch(e){case"keypress":if(_y(r)===0)break e;case"keydown":case"keyup":p=hX;break;case"focusin":v="focus",p=g5;break;case"focusout":v="blur",p=g5;break;case"beforeblur":case"afterblur":p=g5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ok;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gX;break;case DR:case LR:case IR:p=aX;break;case MR:p=xX;break;case"scroll":p=ZY;break;case"wheel":p=bX;break;case"copy":case"cut":case"paste":p=sX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dk}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,g!==null&&(S=wg(y,g),S!=null&&m.push(Cg(y,S,b)))),x)break;y=y.return}0<m.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==SS&&(v=r.relatedTarget||r.fromElement)&&(Td(v)||v[mc]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Td(v):null,v!==null&&(x=pf(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=Ok,S="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Dk,S="onPointerLeave",g="onPointerEnter",y="pointer"),x=p==null?h:bh(p),b=v==null?h:bh(v),h=new m(S,y+"leave",p,r,d),h.target=x,h.relatedTarget=b,S=null,Td(d)===u&&(m=new m(g,y+"enter",v,r,d),m.target=b,m.relatedTarget=x,S=m),x=S,p&&v)t:{for(m=p,g=v,y=0,b=m;b;b=Jf(b))y++;for(b=0,S=g;S;S=Jf(S))b++;for(;0<y-b;)m=Jf(m),y--;for(;0<b-y;)g=Jf(g),b--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Jf(m),g=Jf(g)}m=null}else m=null;p!==null&&Wk(f,h,p,m,!1),v!==null&&x!==null&&Wk(f,x,v,m,!0)}}e:{if(h=u?bh(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=TX;else if(Mk(h))if(ER)_=PX;else{_=EX;var N=CX}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=kX);if(_&&(_=_(e,u))){CR(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&yS(h,"number",h.value)}switch(N=u?bh(u):window,e){case"focusin":(Mk(N)||N.contentEditable==="true")&&(xh=N,PS=u,Vm=null);break;case"focusout":Vm=PS=xh=null;break;case"mousedown":OS=!0;break;case"contextmenu":case"mouseup":case"dragend":OS=!1,zk(f,r,d);break;case"selectionchange":if(DX)break;case"keydown":case"keyup":zk(f,r,d)}var j;if(dT)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else vh?AR(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(NR&&r.locale!=="ko"&&(vh||A!=="onCompositionStart"?A==="onCompositionEnd"&&vh&&(j=SR()):(fu=d,lT="value"in fu?fu.value:fu.textContent,vh=!0)),N=Yy(u,A),0<N.length&&(A=new Fk(A,e,null,r,d),f.push({event:A,listeners:N}),j?A.data=j:(j=TR(r),j!==null&&(A.data=j)))),(j=_X?jX(e,r):SX(e,r))&&(u=Yy(u,"onBeforeInput"),0<u.length&&(d=new Fk("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}$R(f,t)})}function Cg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yy(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=wg(e,r),i!=null&&n.unshift(Cg(e,i,a)),i=wg(e,t),i!=null&&n.push(Cg(e,i,a))),e=e.return}return n}function Jf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wk(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=wg(r,i),c!=null&&o.unshift(Cg(r,c,l))):a||(c=wg(r,i),c!=null&&o.push(Cg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var RX=/\r\n?/g,$X=/\u0000|\uFFFD/g;function qk(e){return(typeof e=="string"?e:""+e).replace(RX,`
`).replace($X,"")}function v1(e,t,r){if(t=qk(t),qk(e)!==t&&r)throw Error(ht(425))}function Xy(){}var FS=null,DS=null;function LS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var IS=typeof setTimeout=="function"?setTimeout:void 0,BX=typeof clearTimeout=="function"?clearTimeout:void 0,Gk=typeof Promise=="function"?Promise:void 0,UX=typeof queueMicrotask=="function"?queueMicrotask:typeof Gk<"u"?function(e){return Gk.resolve(null).then(e).catch(zX)}:IS;function zX(e){setTimeout(function(){throw e})}function S5(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Sg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Sg(t)}function wu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var W0=Math.random().toString(36).slice(2),fl="__reactFiber$"+W0,Eg="__reactProps$"+W0,mc="__reactContainer$"+W0,MS="__reactEvents$"+W0,VX="__reactListeners$"+W0,HX="__reactHandles$"+W0;function Td(e){var t=e[fl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mc]||r[fl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Kk(e);e!==null;){if(r=e[fl])return r;e=Kk(e)}return t}e=r,r=e.parentNode}return null}function zv(e){return e=e[fl]||e[mc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ht(33))}function Hb(e){return e[Eg]||null}var RS=[],wh=-1;function Hu(e){return{current:e}}function jn(e){0>wh||(e.current=RS[wh],RS[wh]=null,wh--)}function mn(e,t){wh++,RS[wh]=e.current,e.current=t}var Ou={},bi=Hu(Ou),Zi=Hu(!1),Yd=Ou;function n0(e,t){var r=e.type.contextTypes;if(!r)return Ou;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function es(e){return e=e.childContextTypes,e!=null}function Jy(){jn(Zi),jn(bi)}function Yk(e,t,r){if(bi.current!==Ou)throw Error(ht(168));mn(bi,t),mn(Zi,r)}function UR(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ht(108,CY(e)||"Unknown",a));return Rn({},r,n)}function Qy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ou,Yd=bi.current,mn(bi,e),mn(Zi,Zi.current),!0}function Xk(e,t,r){var n=e.stateNode;if(!n)throw Error(ht(169));r?(e=UR(e,t,Yd),n.__reactInternalMemoizedMergedChildContext=e,jn(Zi),jn(bi),mn(bi,e)):jn(Zi),mn(Zi,r)}var Jl=null,Wb=!1,N5=!1;function zR(e){Jl===null?Jl=[e]:Jl.push(e)}function WX(e){Wb=!0,zR(e)}function Wu(){if(!N5&&Jl!==null){N5=!0;var e=0,t=en;try{var r=Jl;for(en=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Jl=null,Wb=!1}catch(a){throw Jl!==null&&(Jl=Jl.slice(e+1)),hR(aT,Wu),a}finally{en=t,N5=!1}}return null}var _h=[],jh=0,Zy=null,e2=0,Ys=[],Xs=0,Xd=null,Ql=1,Zl="";function pd(e,t){_h[jh++]=e2,_h[jh++]=Zy,Zy=e,e2=t}function VR(e,t,r){Ys[Xs++]=Ql,Ys[Xs++]=Zl,Ys[Xs++]=Xd,Xd=e;var n=Ql;e=Zl;var a=32-Uo(n)-1;n&=~(1<<a),r+=1;var i=32-Uo(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ql=1<<32-Uo(t)+a|r<<a|n,Zl=i+e}else Ql=1<<i|r<<a|n,Zl=e}function hT(e){e.return!==null&&(pd(e,1),VR(e,1,0))}function pT(e){for(;e===Zy;)Zy=_h[--jh],_h[jh]=null,e2=_h[--jh],_h[jh]=null;for(;e===Xd;)Xd=Ys[--Xs],Ys[Xs]=null,Zl=Ys[--Xs],Ys[Xs]=null,Ql=Ys[--Xs],Ys[Xs]=null}var js=null,ws=null,Cn=!1,Fo=null;function HR(e,t){var r=Js(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Jk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,js=e,ws=wu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,js=e,ws=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xd!==null?{id:Ql,overflow:Zl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Js(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,js=e,ws=null,!0):!1;default:return!1}}function $S(e){return(e.mode&1)!==0&&(e.flags&128)===0}function BS(e){if(Cn){var t=ws;if(t){var r=t;if(!Jk(e,t)){if($S(e))throw Error(ht(418));t=wu(r.nextSibling);var n=js;t&&Jk(e,t)?HR(n,r):(e.flags=e.flags&-4097|2,Cn=!1,js=e)}}else{if($S(e))throw Error(ht(418));e.flags=e.flags&-4097|2,Cn=!1,js=e}}}function Qk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;js=e}function x1(e){if(e!==js)return!1;if(!Cn)return Qk(e),Cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!LS(e.type,e.memoizedProps)),t&&(t=ws)){if($S(e))throw WR(),Error(ht(418));for(;t;)HR(e,t),t=wu(t.nextSibling)}if(Qk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ht(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ws=wu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ws=null}}else ws=js?wu(e.stateNode.nextSibling):null;return!0}function WR(){for(var e=ws;e;)e=wu(e.nextSibling)}function a0(){ws=js=null,Cn=!1}function mT(e){Fo===null?Fo=[e]:Fo.push(e)}var qX=Ac.ReactCurrentBatchConfig;function Jp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ht(309));var n=r.stateNode}if(!n)throw Error(ht(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ht(284));if(!r._owner)throw Error(ht(290,e))}return e}function y1(e,t){throw e=Object.prototype.toString.call(t),Error(ht(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zk(e){var t=e._init;return t(e._payload)}function qR(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(g,y){return g=Nu(g,y),g.index=0,g.sibling=null,g}function i(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,b,S){return y===null||y.tag!==6?(y=O5(b,g.mode,S),y.return=g,y):(y=a(y,b),y.return=g,y)}function c(g,y,b,S){var _=b.type;return _===gh?d(g,y,b.props.children,S,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ru&&Zk(_)===y.type)?(S=a(y,b.props),S.ref=Jp(g,y,b),S.return=g,S):(S=Ey(b.type,b.key,b.props,null,g.mode,S),S.ref=Jp(g,y,b),S.return=g,S)}function u(g,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=F5(b,g.mode,S),y.return=g,y):(y=a(y,b.children||[]),y.return=g,y)}function d(g,y,b,S,_){return y===null||y.tag!==7?(y=Rd(b,g.mode,S,_),y.return=g,y):(y=a(y,b),y.return=g,y)}function f(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=O5(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case l1:return b=Ey(y.type,y.key,y.props,null,g.mode,b),b.ref=Jp(g,null,y),b.return=g,b;case mh:return y=F5(y,g.mode,b),y.return=g,y;case ru:var S=y._init;return f(g,S(y._payload),b)}if(Nm(y)||qp(y))return y=Rd(y,g.mode,b,null),y.return=g,y;y1(g,y)}return null}function h(g,y,b,S){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(g,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case l1:return b.key===_?c(g,y,b,S):null;case mh:return b.key===_?u(g,y,b,S):null;case ru:return _=b._init,h(g,y,_(b._payload),S)}if(Nm(b)||qp(b))return _!==null?null:d(g,y,b,S,null);y1(g,b)}return null}function p(g,y,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(b)||null,l(y,g,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case l1:return g=g.get(S.key===null?b:S.key)||null,c(y,g,S,_);case mh:return g=g.get(S.key===null?b:S.key)||null,u(y,g,S,_);case ru:var N=S._init;return p(g,y,b,N(S._payload),_)}if(Nm(S)||qp(S))return g=g.get(b)||null,d(y,g,S,_,null);y1(y,S)}return null}function v(g,y,b,S){for(var _=null,N=null,j=y,A=y=0,P=null;j!==null&&A<b.length;A++){j.index>A?(P=j,j=null):P=j.sibling;var H=h(g,j,b[A],S);if(H===null){j===null&&(j=P);break}e&&j&&H.alternate===null&&t(g,j),y=i(H,y,A),N===null?_=H:N.sibling=H,N=H,j=P}if(A===b.length)return r(g,j),Cn&&pd(g,A),_;if(j===null){for(;A<b.length;A++)j=f(g,b[A],S),j!==null&&(y=i(j,y,A),N===null?_=j:N.sibling=j,N=j);return Cn&&pd(g,A),_}for(j=n(g,j);A<b.length;A++)P=p(j,g,A,b[A],S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?A:P.key),y=i(P,y,A),N===null?_=P:N.sibling=P,N=P);return e&&j.forEach(function(C){return t(g,C)}),Cn&&pd(g,A),_}function m(g,y,b,S){var _=qp(b);if(typeof _!="function")throw Error(ht(150));if(b=_.call(b),b==null)throw Error(ht(151));for(var N=_=null,j=y,A=y=0,P=null,H=b.next();j!==null&&!H.done;A++,H=b.next()){j.index>A?(P=j,j=null):P=j.sibling;var C=h(g,j,H.value,S);if(C===null){j===null&&(j=P);break}e&&j&&C.alternate===null&&t(g,j),y=i(C,y,A),N===null?_=C:N.sibling=C,N=C,j=P}if(H.done)return r(g,j),Cn&&pd(g,A),_;if(j===null){for(;!H.done;A++,H=b.next())H=f(g,H.value,S),H!==null&&(y=i(H,y,A),N===null?_=H:N.sibling=H,N=H);return Cn&&pd(g,A),_}for(j=n(g,j);!H.done;A++,H=b.next())H=p(j,g,A,H.value,S),H!==null&&(e&&H.alternate!==null&&j.delete(H.key===null?A:H.key),y=i(H,y,A),N===null?_=H:N.sibling=H,N=H);return e&&j.forEach(function(k){return t(g,k)}),Cn&&pd(g,A),_}function x(g,y,b,S){if(typeof b=="object"&&b!==null&&b.type===gh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case l1:e:{for(var _=b.key,N=y;N!==null;){if(N.key===_){if(_=b.type,_===gh){if(N.tag===7){r(g,N.sibling),y=a(N,b.props.children),y.return=g,g=y;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ru&&Zk(_)===N.type){r(g,N.sibling),y=a(N,b.props),y.ref=Jp(g,N,b),y.return=g,g=y;break e}r(g,N);break}else t(g,N);N=N.sibling}b.type===gh?(y=Rd(b.props.children,g.mode,S,b.key),y.return=g,g=y):(S=Ey(b.type,b.key,b.props,null,g.mode,S),S.ref=Jp(g,y,b),S.return=g,g=S)}return o(g);case mh:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(g,y.sibling),y=a(y,b.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=F5(b,g.mode,S),y.return=g,g=y}return o(g);case ru:return N=b._init,x(g,y,N(b._payload),S)}if(Nm(b))return v(g,y,b,S);if(qp(b))return m(g,y,b,S);y1(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(g,y.sibling),y=a(y,b),y.return=g,g=y):(r(g,y),y=O5(b,g.mode,S),y.return=g,g=y),o(g)):r(g,y)}return x}var i0=qR(!0),GR=qR(!1),t2=Hu(null),r2=null,Sh=null,gT=null;function vT(){gT=Sh=r2=null}function xT(e){var t=t2.current;jn(t2),e._currentValue=t}function US(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bh(e,t){r2=e,gT=Sh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ji=!0),e.firstContext=null)}function ao(e){var t=e._currentValue;if(gT!==e)if(e={context:e,memoizedValue:t,next:null},Sh===null){if(r2===null)throw Error(ht(308));Sh=e,r2.dependencies={lanes:0,firstContext:e}}else Sh=Sh.next=e;return t}var Cd=null;function yT(e){Cd===null?Cd=[e]:Cd.push(e)}function KR(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,yT(t)):(r.next=a.next,a.next=r),t.interleaved=r,gc(e,n)}function gc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var nu=!1;function bT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ic(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _u(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$r&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,gc(e,r)}return a=n.interleaved,a===null?(t.next=t,yT(n)):(t.next=a.next,a.next=t),n.interleaved=t,gc(e,r)}function jy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iT(e,r)}}function eP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function n2(e,t,r,n){var a=e.updateQueue;nu=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(h=t,p=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Rn({},f,h);break e;case 2:nu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Qd|=o,e.lanes=o,e.memoizedState=f}}function tP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ht(191,a));a.call(n)}}}var Vv={},vl=Hu(Vv),kg=Hu(Vv),Pg=Hu(Vv);function Ed(e){if(e===Vv)throw Error(ht(174));return e}function wT(e,t){switch(mn(Pg,t),mn(kg,e),mn(vl,Vv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wS(t,e)}jn(vl),mn(vl,t)}function s0(){jn(vl),jn(kg),jn(Pg)}function XR(e){Ed(Pg.current);var t=Ed(vl.current),r=wS(t,e.type);t!==r&&(mn(kg,e),mn(vl,r))}function _T(e){kg.current===e&&(jn(vl),jn(kg))}var Fn=Hu(0);function a2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var A5=[];function jT(){for(var e=0;e<A5.length;e++)A5[e]._workInProgressVersionPrimary=null;A5.length=0}var Sy=Ac.ReactCurrentDispatcher,T5=Ac.ReactCurrentBatchConfig,Jd=0,Mn=null,xa=null,Fa=null,i2=!1,Hm=!1,Og=0,GX=0;function ti(){throw Error(ht(321))}function ST(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ho(e[r],t[r]))return!1;return!0}function NT(e,t,r,n,a,i){if(Jd=i,Mn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sy.current=e===null||e.memoizedState===null?JX:QX,e=r(n,a),Hm){i=0;do{if(Hm=!1,Og=0,25<=i)throw Error(ht(301));i+=1,Fa=xa=null,t.updateQueue=null,Sy.current=ZX,e=r(n,a)}while(Hm)}if(Sy.current=s2,t=xa!==null&&xa.next!==null,Jd=0,Fa=xa=Mn=null,i2=!1,t)throw Error(ht(300));return e}function AT(){var e=Og!==0;return Og=0,e}function ul(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fa===null?Mn.memoizedState=Fa=e:Fa=Fa.next=e,Fa}function io(){if(xa===null){var e=Mn.alternate;e=e!==null?e.memoizedState:null}else e=xa.next;var t=Fa===null?Mn.memoizedState:Fa.next;if(t!==null)Fa=t,xa=e;else{if(e===null)throw Error(ht(310));xa=e,e={memoizedState:xa.memoizedState,baseState:xa.baseState,baseQueue:xa.baseQueue,queue:xa.queue,next:null},Fa===null?Mn.memoizedState=Fa=e:Fa=Fa.next=e}return Fa}function Fg(e,t){return typeof t=="function"?t(e):t}function C5(e){var t=io(),r=t.queue;if(r===null)throw Error(ht(311));r.lastRenderedReducer=e;var n=xa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Jd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Mn.lanes|=d,Qd|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ho(n,t.memoizedState)||(Ji=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Mn.lanes|=i,Qd|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function E5(e){var t=io(),r=t.queue;if(r===null)throw Error(ht(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ho(i,t.memoizedState)||(Ji=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function JR(){}function QR(e,t){var r=Mn,n=io(),a=t(),i=!Ho(n.memoizedState,a);if(i&&(n.memoizedState=a,Ji=!0),n=n.queue,TT(t7.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Fa!==null&&Fa.memoizedState.tag&1){if(r.flags|=2048,Dg(9,e7.bind(null,r,n,a,t),void 0,null),Da===null)throw Error(ht(349));Jd&30||ZR(r,t,a)}return a}function ZR(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function e7(e,t,r,n){t.value=r,t.getSnapshot=n,r7(t)&&n7(e)}function t7(e,t,r){return r(function(){r7(t)&&n7(e)})}function r7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ho(e,r)}catch{return!0}}function n7(e){var t=gc(e,1);t!==null&&zo(t,e,1,-1)}function rP(e){var t=ul();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:e},t.queue=e,e=e.dispatch=XX.bind(null,Mn,e),[t.memoizedState,e]}function Dg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function a7(){return io().memoizedState}function Ny(e,t,r,n){var a=ul();Mn.flags|=e,a.memoizedState=Dg(1|t,r,void 0,n===void 0?null:n)}function qb(e,t,r,n){var a=io();n=n===void 0?null:n;var i=void 0;if(xa!==null){var o=xa.memoizedState;if(i=o.destroy,n!==null&&ST(n,o.deps)){a.memoizedState=Dg(t,r,i,n);return}}Mn.flags|=e,a.memoizedState=Dg(1|t,r,i,n)}function nP(e,t){return Ny(8390656,8,e,t)}function TT(e,t){return qb(2048,8,e,t)}function i7(e,t){return qb(4,2,e,t)}function s7(e,t){return qb(4,4,e,t)}function o7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l7(e,t,r){return r=r!=null?r.concat([e]):null,qb(4,4,o7.bind(null,t,e),r)}function CT(){}function c7(e,t){var r=io();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ST(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function u7(e,t){var r=io();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ST(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function d7(e,t,r){return Jd&21?(Ho(r,t)||(r=gR(),Mn.lanes|=r,Qd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ji=!0),e.memoizedState=r)}function KX(e,t){var r=en;en=r!==0&&4>r?r:4,e(!0);var n=T5.transition;T5.transition={};try{e(!1),t()}finally{en=r,T5.transition=n}}function f7(){return io().memoizedState}function YX(e,t,r){var n=Su(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},h7(e))p7(t,r);else if(r=KR(e,t,r,n),r!==null){var a=Di();zo(r,e,n,a),m7(r,t,n)}}function XX(e,t,r){var n=Su(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(h7(e))p7(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ho(l,o)){var c=t.interleaved;c===null?(a.next=a,yT(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=KR(e,t,a,n),r!==null&&(a=Di(),zo(r,e,n,a),m7(r,t,n))}}function h7(e){var t=e.alternate;return e===Mn||t!==null&&t===Mn}function p7(e,t){Hm=i2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function m7(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iT(e,r)}}var s2={readContext:ao,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},JX={readContext:ao,useCallback:function(e,t){return ul().memoizedState=[e,t===void 0?null:t],e},useContext:ao,useEffect:nP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ny(4194308,4,o7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ny(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ny(4,2,e,t)},useMemo:function(e,t){var r=ul();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ul();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=YX.bind(null,Mn,e),[n.memoizedState,e]},useRef:function(e){var t=ul();return e={current:e},t.memoizedState=e},useState:rP,useDebugValue:CT,useDeferredValue:function(e){return ul().memoizedState=e},useTransition:function(){var e=rP(!1),t=e[0];return e=KX.bind(null,e[1]),ul().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Mn,a=ul();if(Cn){if(r===void 0)throw Error(ht(407));r=r()}else{if(r=t(),Da===null)throw Error(ht(349));Jd&30||ZR(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,nP(t7.bind(null,n,i,e),[e]),n.flags|=2048,Dg(9,e7.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ul(),t=Da.identifierPrefix;if(Cn){var r=Zl,n=Ql;r=(n&~(1<<32-Uo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Og++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=GX++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QX={readContext:ao,useCallback:c7,useContext:ao,useEffect:TT,useImperativeHandle:l7,useInsertionEffect:i7,useLayoutEffect:s7,useMemo:u7,useReducer:C5,useRef:a7,useState:function(){return C5(Fg)},useDebugValue:CT,useDeferredValue:function(e){var t=io();return d7(t,xa.memoizedState,e)},useTransition:function(){var e=C5(Fg)[0],t=io().memoizedState;return[e,t]},useMutableSource:JR,useSyncExternalStore:QR,useId:f7,unstable_isNewReconciler:!1},ZX={readContext:ao,useCallback:c7,useContext:ao,useEffect:TT,useImperativeHandle:l7,useInsertionEffect:i7,useLayoutEffect:s7,useMemo:u7,useReducer:E5,useRef:a7,useState:function(){return E5(Fg)},useDebugValue:CT,useDeferredValue:function(e){var t=io();return xa===null?t.memoizedState=e:d7(t,xa.memoizedState,e)},useTransition:function(){var e=E5(Fg)[0],t=io().memoizedState;return[e,t]},useMutableSource:JR,useSyncExternalStore:QR,useId:f7,unstable_isNewReconciler:!1};function To(e,t){if(e&&e.defaultProps){t=Rn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zS(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Rn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gb={isMounted:function(e){return(e=e._reactInternals)?pf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Di(),a=Su(e),i=ic(n,a);i.payload=t,r!=null&&(i.callback=r),t=_u(e,i,a),t!==null&&(zo(t,e,a,n),jy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Di(),a=Su(e),i=ic(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=_u(e,i,a),t!==null&&(zo(t,e,a,n),jy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Di(),n=Su(e),a=ic(r,n);a.tag=2,t!=null&&(a.callback=t),t=_u(e,a,n),t!==null&&(zo(t,e,n,r),jy(t,e,n))}};function aP(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ag(r,n)||!Ag(a,i):!0}function g7(e,t,r){var n=!1,a=Ou,i=t.contextType;return typeof i=="object"&&i!==null?i=ao(i):(a=es(t)?Yd:bi.current,n=t.contextTypes,i=(n=n!=null)?n0(e,a):Ou),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function iP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gb.enqueueReplaceState(t,t.state,null)}function VS(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},bT(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ao(i):(i=es(t)?Yd:bi.current,a.context=n0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zS(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gb.enqueueReplaceState(a,a.state,null),n2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function o0(e,t){try{var r="",n=t;do r+=TY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function k5(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function HS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var eJ=typeof WeakMap=="function"?WeakMap:Map;function v7(e,t,r){r=ic(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){l2||(l2=!0,eN=n),HS(e,t)},r}function x7(e,t,r){r=ic(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){HS(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){HS(e,t),typeof n!="function"&&(ju===null?ju=new Set([this]):ju.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function sP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new eJ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=pJ.bind(null,e,t,r),t.then(e,e))}function oP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lP(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ic(-1,1),t.tag=2,_u(r,t,1))),r.lanes|=1),e)}var tJ=Ac.ReactCurrentOwner,Ji=!1;function Ei(e,t,r,n){t.child=e===null?GR(t,null,r,n):i0(t,e.child,r,n)}function cP(e,t,r,n,a){r=r.render;var i=t.ref;return Bh(t,a),n=NT(e,t,r,n,i,a),r=AT(),e!==null&&!Ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vc(e,t,a)):(Cn&&r&&hT(t),t.flags|=1,Ei(e,t,n,a),t.child)}function uP(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!IT(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,y7(e,t,i,n,a)):(e=Ey(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ag,r(o,n)&&e.ref===t.ref)return vc(e,t,a)}return t.flags|=1,e=Nu(i,n),e.ref=t.ref,e.return=t,t.child=e}function y7(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ag(i,n)&&e.ref===t.ref)if(Ji=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ji=!0);else return t.lanes=e.lanes,vc(e,t,a)}return WS(e,t,r,n,a)}function b7(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(Ah,ps),ps|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mn(Ah,ps),ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,mn(Ah,ps),ps|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,mn(Ah,ps),ps|=n;return Ei(e,t,a,r),t.child}function w7(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function WS(e,t,r,n,a){var i=es(r)?Yd:bi.current;return i=n0(t,i),Bh(t,a),r=NT(e,t,r,n,i,a),n=AT(),e!==null&&!Ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vc(e,t,a)):(Cn&&n&&hT(t),t.flags|=1,Ei(e,t,r,a),t.child)}function dP(e,t,r,n,a){if(es(r)){var i=!0;Qy(t)}else i=!1;if(Bh(t,a),t.stateNode===null)Ay(e,t),g7(t,r,n),VS(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ao(u):(u=es(r)?Yd:bi.current,u=n0(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&iP(t,o,n,u),nu=!1;var h=t.memoizedState;o.state=h,n2(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Zi.current||nu?(typeof d=="function"&&(zS(t,r,d,n),c=t.memoizedState),(l=nu||aP(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,YR(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:To(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ao(c):(c=es(r)?Yd:bi.current,c=n0(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&iP(t,o,n,c),nu=!1,h=t.memoizedState,o.state=h,n2(t,n,o,a);var v=t.memoizedState;l!==f||h!==v||Zi.current||nu?(typeof p=="function"&&(zS(t,r,p,n),v=t.memoizedState),(u=nu||aP(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return qS(e,t,r,n,i,a)}function qS(e,t,r,n,a,i){w7(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Xk(t,r,!1),vc(e,t,i);n=t.stateNode,tJ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=i0(t,e.child,null,i),t.child=i0(t,null,l,i)):Ei(e,t,l,i),t.memoizedState=n.state,a&&Xk(t,r,!0),t.child}function _7(e){var t=e.stateNode;t.pendingContext?Yk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yk(e,t.context,!1),wT(e,t.containerInfo)}function fP(e,t,r,n,a){return a0(),mT(a),t.flags|=256,Ei(e,t,r,n),t.child}var GS={dehydrated:null,treeContext:null,retryLane:0};function KS(e){return{baseLanes:e,cachePool:null,transitions:null}}function j7(e,t,r){var n=t.pendingProps,a=Fn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),mn(Fn,a&1),e===null)return BS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xb(o,n,0,null),e=Rd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=KS(r),t.memoizedState=GS,e):ET(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return rJ(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Nu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Nu(l,i):(i=Rd(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?KS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=GS,n}return i=e.child,e=i.sibling,n=Nu(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ET(e,t){return t=Xb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function b1(e,t,r,n){return n!==null&&mT(n),i0(t,e.child,null,r),e=ET(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rJ(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=k5(Error(ht(422))),b1(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Xb({mode:"visible",children:n.children},a,0,null),i=Rd(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&i0(t,e.child,null,o),t.child.memoizedState=KS(o),t.memoizedState=GS,i);if(!(t.mode&1))return b1(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ht(419)),n=k5(i,n,void 0),b1(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ji||l){if(n=Da,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,gc(e,a),zo(n,e,a,-1))}return LT(),n=k5(Error(ht(421))),b1(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=mJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ws=wu(a.nextSibling),js=t,Cn=!0,Fo=null,e!==null&&(Ys[Xs++]=Ql,Ys[Xs++]=Zl,Ys[Xs++]=Xd,Ql=e.id,Zl=e.overflow,Xd=t),t=ET(t,n.children),t.flags|=4096,t)}function hP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),US(e.return,t,r)}function P5(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function S7(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ei(e,t,n.children,r),n=Fn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hP(e,r,t);else if(e.tag===19)hP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(mn(Fn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&a2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),P5(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&a2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}P5(t,!0,r,null,i);break;case"together":P5(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ay(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ht(153));if(t.child!==null){for(e=t.child,r=Nu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function nJ(e,t,r){switch(t.tag){case 3:_7(t),a0();break;case 5:XR(t);break;case 1:es(t.type)&&Qy(t);break;case 4:wT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;mn(t2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(mn(Fn,Fn.current&1),t.flags|=128,null):r&t.child.childLanes?j7(e,t,r):(mn(Fn,Fn.current&1),e=vc(e,t,r),e!==null?e.sibling:null);mn(Fn,Fn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return S7(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),mn(Fn,Fn.current),n)break;return null;case 22:case 23:return t.lanes=0,b7(e,t,r)}return vc(e,t,r)}var N7,YS,A7,T7;N7=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};YS=function(){};A7=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ed(vl.current);var i=null;switch(r){case"input":a=vS(e,a),n=vS(e,n),i=[];break;case"select":a=Rn({},a,{value:void 0}),n=Rn({},n,{value:void 0}),i=[];break;case"textarea":a=bS(e,a),n=bS(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xy)}_S(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yg.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&yn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};T7=function(e,t,r,n){r!==n&&(t.flags|=4)};function Qp(e,t){if(!Cn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function aJ(e,t,r){var n=t.pendingProps;switch(pT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(t),null;case 1:return es(t.type)&&Jy(),ri(t),null;case 3:return n=t.stateNode,s0(),jn(Zi),jn(bi),jT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(x1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fo!==null&&(nN(Fo),Fo=null))),YS(e,t),ri(t),null;case 5:_T(t);var a=Ed(Pg.current);if(r=t.type,e!==null&&t.stateNode!=null)A7(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ht(166));return ri(t),null}if(e=Ed(vl.current),x1(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fl]=t,n[Eg]=i,e=(t.mode&1)!==0,r){case"dialog":yn("cancel",n),yn("close",n);break;case"iframe":case"object":case"embed":yn("load",n);break;case"video":case"audio":for(a=0;a<Tm.length;a++)yn(Tm[a],n);break;case"source":yn("error",n);break;case"img":case"image":case"link":yn("error",n),yn("load",n);break;case"details":yn("toggle",n);break;case"input":_k(n,i),yn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},yn("invalid",n);break;case"textarea":Sk(n,i),yn("invalid",n)}_S(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&v1(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&v1(n.textContent,l,e),a=["children",""+l]):yg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&yn("scroll",n)}switch(r){case"input":c1(n),jk(n,i,!0);break;case"textarea":c1(n),Nk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Xy)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fl]=t,e[Eg]=n,N7(e,t,!1,!1),t.stateNode=e;e:{switch(o=jS(r,n),r){case"dialog":yn("cancel",e),yn("close",e),a=n;break;case"iframe":case"object":case"embed":yn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Tm.length;a++)yn(Tm[a],e);a=n;break;case"source":yn("error",e),a=n;break;case"img":case"image":case"link":yn("error",e),yn("load",e),a=n;break;case"details":yn("toggle",e),a=n;break;case"input":_k(e,n),a=vS(e,n),yn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Rn({},n,{value:void 0}),yn("invalid",e);break;case"textarea":Sk(e,n),a=bS(e,n),yn("invalid",e);break;default:a=n}_S(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?aR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bg(e,c):typeof c=="number"&&bg(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yn("scroll",e):c!=null&&ZA(e,i,c,o))}switch(r){case"input":c1(e),jk(e,n,!1);break;case"textarea":c1(e),Nk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pu(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ih(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ih(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ri(t),null;case 6:if(e&&t.stateNode!=null)T7(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ht(166));if(r=Ed(Pg.current),Ed(vl.current),x1(t)){if(n=t.stateNode,r=t.memoizedProps,n[fl]=t,(i=n.nodeValue!==r)&&(e=js,e!==null))switch(e.tag){case 3:v1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&v1(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fl]=t,t.stateNode=n}return ri(t),null;case 13:if(jn(Fn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Cn&&ws!==null&&t.mode&1&&!(t.flags&128))WR(),a0(),t.flags|=98560,i=!1;else if(i=x1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ht(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ht(317));i[fl]=t}else a0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ri(t),i=!1}else Fo!==null&&(nN(Fo),Fo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fn.current&1?ba===0&&(ba=3):LT())),t.updateQueue!==null&&(t.flags|=4),ri(t),null);case 4:return s0(),YS(e,t),e===null&&Tg(t.stateNode.containerInfo),ri(t),null;case 10:return xT(t.type._context),ri(t),null;case 17:return es(t.type)&&Jy(),ri(t),null;case 19:if(jn(Fn),i=t.memoizedState,i===null)return ri(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Qp(i,!1);else{if(ba!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=a2(e),o!==null){for(t.flags|=128,Qp(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return mn(Fn,Fn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Zn()>l0&&(t.flags|=128,n=!0,Qp(i,!1),t.lanes=4194304)}else{if(!n)if(e=a2(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Cn)return ri(t),null}else 2*Zn()-i.renderingStartTime>l0&&r!==1073741824&&(t.flags|=128,n=!0,Qp(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Zn(),t.sibling=null,r=Fn.current,mn(Fn,n?r&1|2:r&1),t):(ri(t),null);case 22:case 23:return DT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ps&1073741824&&(ri(t),t.subtreeFlags&6&&(t.flags|=8192)):ri(t),null;case 24:return null;case 25:return null}throw Error(ht(156,t.tag))}function iJ(e,t){switch(pT(t),t.tag){case 1:return es(t.type)&&Jy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return s0(),jn(Zi),jn(bi),jT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _T(t),null;case 13:if(jn(Fn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ht(340));a0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jn(Fn),null;case 4:return s0(),null;case 10:return xT(t.type._context),null;case 22:case 23:return DT(),null;case 24:return null;default:return null}}var w1=!1,di=!1,sJ=typeof WeakSet=="function"?WeakSet:Set,It=null;function Nh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vn(e,t,n)}else r.current=null}function XS(e,t,r){try{r()}catch(n){Vn(e,t,n)}}var pP=!1;function oJ(e,t){if(FS=Gy,e=OR(),fT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(DS={focusedElem:e,selectionRange:r},Gy=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){t=It;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:To(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(S){Vn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}return v=pP,pP=!1,v}function Wm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&XS(t,r,i)}a=a.next}while(a!==n)}}function Kb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function JS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function C7(e){var t=e.alternate;t!==null&&(e.alternate=null,C7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fl],delete t[Eg],delete t[MS],delete t[VX],delete t[HX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E7(e){return e.tag===5||e.tag===3||e.tag===4}function mP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function QS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xy));else if(n!==4&&(e=e.child,e!==null))for(QS(e,t,r),e=e.sibling;e!==null;)QS(e,t,r),e=e.sibling}function ZS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ZS(e,t,r),e=e.sibling;e!==null;)ZS(e,t,r),e=e.sibling}var Ha=null,Eo=!1;function Wc(e,t,r){for(r=r.child;r!==null;)k7(e,t,r),r=r.sibling}function k7(e,t,r){if(gl&&typeof gl.onCommitFiberUnmount=="function")try{gl.onCommitFiberUnmount(Bb,r)}catch{}switch(r.tag){case 5:di||Nh(r,t);case 6:var n=Ha,a=Eo;Ha=null,Wc(e,t,r),Ha=n,Eo=a,Ha!==null&&(Eo?(e=Ha,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ha.removeChild(r.stateNode));break;case 18:Ha!==null&&(Eo?(e=Ha,r=r.stateNode,e.nodeType===8?S5(e.parentNode,r):e.nodeType===1&&S5(e,r),Sg(e)):S5(Ha,r.stateNode));break;case 4:n=Ha,a=Eo,Ha=r.stateNode.containerInfo,Eo=!0,Wc(e,t,r),Ha=n,Eo=a;break;case 0:case 11:case 14:case 15:if(!di&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&XS(r,t,o),a=a.next}while(a!==n)}Wc(e,t,r);break;case 1:if(!di&&(Nh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Vn(r,t,l)}Wc(e,t,r);break;case 21:Wc(e,t,r);break;case 22:r.mode&1?(di=(n=di)||r.memoizedState!==null,Wc(e,t,r),di=n):Wc(e,t,r);break;default:Wc(e,t,r)}}function gP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sJ),t.forEach(function(n){var a=gJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function yo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ha=l.stateNode,Eo=!1;break e;case 3:Ha=l.stateNode.containerInfo,Eo=!0;break e;case 4:Ha=l.stateNode.containerInfo,Eo=!0;break e}l=l.return}if(Ha===null)throw Error(ht(160));k7(i,o,a),Ha=null,Eo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Vn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)P7(t,e),t=t.sibling}function P7(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yo(t,e),sl(e),n&4){try{Wm(3,e,e.return),Kb(3,e)}catch(m){Vn(e,e.return,m)}try{Wm(5,e,e.return)}catch(m){Vn(e,e.return,m)}}break;case 1:yo(t,e),sl(e),n&512&&r!==null&&Nh(r,r.return);break;case 5:if(yo(t,e),sl(e),n&512&&r!==null&&Nh(r,r.return),e.flags&32){var a=e.stateNode;try{bg(a,"")}catch(m){Vn(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ZM(a,i),jS(l,o);var u=jS(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?aR(a,f):d==="dangerouslySetInnerHTML"?rR(a,f):d==="children"?bg(a,f):ZA(a,d,f,u)}switch(l){case"input":xS(a,i);break;case"textarea":eR(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ih(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ih(a,!!i.multiple,i.defaultValue,!0):Ih(a,!!i.multiple,i.multiple?[]:"",!1))}a[Eg]=i}catch(m){Vn(e,e.return,m)}}break;case 6:if(yo(t,e),sl(e),n&4){if(e.stateNode===null)throw Error(ht(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Vn(e,e.return,m)}}break;case 3:if(yo(t,e),sl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sg(t.containerInfo)}catch(m){Vn(e,e.return,m)}break;case 4:yo(t,e),sl(e);break;case 13:yo(t,e),sl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(OT=Zn())),n&4&&gP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(di=(u=di)||d,yo(t,e),di=u):yo(t,e),sl(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(It=e,d=e.child;d!==null;){for(f=It=d;It!==null;){switch(h=It,p=h.child,h.tag){case 0:case 11:case 14:case 15:Wm(4,h,h.return);break;case 1:Nh(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Vn(n,r,m)}}break;case 5:Nh(h,h.return);break;case 22:if(h.memoizedState!==null){xP(f);continue}}p!==null?(p.return=h,It=p):xP(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=nR("display",o))}catch(m){Vn(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Vn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yo(t,e),sl(e),n&4&&gP(e);break;case 21:break;default:yo(t,e),sl(e)}}function sl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(E7(r)){var n=r;break e}r=r.return}throw Error(ht(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(bg(a,""),n.flags&=-33);var i=mP(e);ZS(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=mP(e);QS(e,l,o);break;default:throw Error(ht(161))}}catch(c){Vn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lJ(e,t,r){It=e,O7(e)}function O7(e,t,r){for(var n=(e.mode&1)!==0;It!==null;){var a=It,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||w1;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||di;l=w1;var u=di;if(w1=o,(di=c)&&!u)for(It=a;It!==null;)o=It,c=o.child,o.tag===22&&o.memoizedState!==null?yP(a):c!==null?(c.return=o,It=c):yP(a);for(;i!==null;)It=i,O7(i),i=i.sibling;It=a,w1=l,di=u}vP(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,It=i):vP(e)}}function vP(e){for(;It!==null;){var t=It;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:di||Kb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!di)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:To(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}di||t.flags&512&&JS(t)}catch(h){Vn(t,t.return,h)}}if(t===e){It=null;break}if(r=t.sibling,r!==null){r.return=t.return,It=r;break}It=t.return}}function xP(e){for(;It!==null;){var t=It;if(t===e){It=null;break}var r=t.sibling;if(r!==null){r.return=t.return,It=r;break}It=t.return}}function yP(e){for(;It!==null;){var t=It;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Kb(4,t)}catch(c){Vn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Vn(t,a,c)}}var i=t.return;try{JS(t)}catch(c){Vn(t,i,c)}break;case 5:var o=t.return;try{JS(t)}catch(c){Vn(t,o,c)}}}catch(c){Vn(t,t.return,c)}if(t===e){It=null;break}var l=t.sibling;if(l!==null){l.return=t.return,It=l;break}It=t.return}}var cJ=Math.ceil,o2=Ac.ReactCurrentDispatcher,kT=Ac.ReactCurrentOwner,eo=Ac.ReactCurrentBatchConfig,$r=0,Da=null,fa=null,Ka=0,ps=0,Ah=Hu(0),ba=0,Lg=null,Qd=0,Yb=0,PT=0,qm=null,Yi=null,OT=0,l0=1/0,Yl=null,l2=!1,eN=null,ju=null,_1=!1,hu=null,c2=0,Gm=0,tN=null,Ty=-1,Cy=0;function Di(){return $r&6?Zn():Ty!==-1?Ty:Ty=Zn()}function Su(e){return e.mode&1?$r&2&&Ka!==0?Ka&-Ka:qX.transition!==null?(Cy===0&&(Cy=gR()),Cy):(e=en,e!==0||(e=window.event,e=e===void 0?16:jR(e.type)),e):1}function zo(e,t,r,n){if(50<Gm)throw Gm=0,tN=null,Error(ht(185));Bv(e,r,n),(!($r&2)||e!==Da)&&(e===Da&&(!($r&2)&&(Yb|=r),ba===4&&ou(e,Ka)),ts(e,n),r===1&&$r===0&&!(t.mode&1)&&(l0=Zn()+500,Wb&&Wu()))}function ts(e,t){var r=e.callbackNode;qY(e,t);var n=qy(e,e===Da?Ka:0);if(n===0)r!==null&&Ck(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ck(r),t===1)e.tag===0?WX(bP.bind(null,e)):zR(bP.bind(null,e)),UX(function(){!($r&6)&&Wu()}),r=null;else{switch(vR(n)){case 1:r=aT;break;case 4:r=pR;break;case 16:r=Wy;break;case 536870912:r=mR;break;default:r=Wy}r=B7(r,F7.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function F7(e,t){if(Ty=-1,Cy=0,$r&6)throw Error(ht(327));var r=e.callbackNode;if(Uh()&&e.callbackNode!==r)return null;var n=qy(e,e===Da?Ka:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=u2(e,n);else{t=n;var a=$r;$r|=2;var i=L7();(Da!==e||Ka!==t)&&(Yl=null,l0=Zn()+500,Md(e,t));do try{fJ();break}catch(l){D7(e,l)}while(1);vT(),o2.current=i,$r=a,fa!==null?t=0:(Da=null,Ka=0,t=ba)}if(t!==0){if(t===2&&(a=CS(e),a!==0&&(n=a,t=rN(e,a))),t===1)throw r=Lg,Md(e,0),ou(e,n),ts(e,Zn()),r;if(t===6)ou(e,n);else{if(a=e.current.alternate,!(n&30)&&!uJ(a)&&(t=u2(e,n),t===2&&(i=CS(e),i!==0&&(n=i,t=rN(e,i))),t===1))throw r=Lg,Md(e,0),ou(e,n),ts(e,Zn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ht(345));case 2:md(e,Yi,Yl);break;case 3:if(ou(e,n),(n&130023424)===n&&(t=OT+500-Zn(),10<t)){if(qy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Di(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=IS(md.bind(null,e,Yi,Yl),t);break}md(e,Yi,Yl);break;case 4:if(ou(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Uo(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Zn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cJ(n/1960))-n,10<n){e.timeoutHandle=IS(md.bind(null,e,Yi,Yl),n);break}md(e,Yi,Yl);break;case 5:md(e,Yi,Yl);break;default:throw Error(ht(329))}}}return ts(e,Zn()),e.callbackNode===r?F7.bind(null,e):null}function rN(e,t){var r=qm;return e.current.memoizedState.isDehydrated&&(Md(e,t).flags|=256),e=u2(e,t),e!==2&&(t=Yi,Yi=r,t!==null&&nN(t)),e}function nN(e){Yi===null?Yi=e:Yi.push.apply(Yi,e)}function uJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ho(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ou(e,t){for(t&=~PT,t&=~Yb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Uo(t),n=1<<r;e[r]=-1,t&=~n}}function bP(e){if($r&6)throw Error(ht(327));Uh();var t=qy(e,0);if(!(t&1))return ts(e,Zn()),null;var r=u2(e,t);if(e.tag!==0&&r===2){var n=CS(e);n!==0&&(t=n,r=rN(e,n))}if(r===1)throw r=Lg,Md(e,0),ou(e,t),ts(e,Zn()),r;if(r===6)throw Error(ht(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,md(e,Yi,Yl),ts(e,Zn()),null}function FT(e,t){var r=$r;$r|=1;try{return e(t)}finally{$r=r,$r===0&&(l0=Zn()+500,Wb&&Wu())}}function Zd(e){hu!==null&&hu.tag===0&&!($r&6)&&Uh();var t=$r;$r|=1;var r=eo.transition,n=en;try{if(eo.transition=null,en=1,e)return e()}finally{en=n,eo.transition=r,$r=t,!($r&6)&&Wu()}}function DT(){ps=Ah.current,jn(Ah)}function Md(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,BX(r)),fa!==null)for(r=fa.return;r!==null;){var n=r;switch(pT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jy();break;case 3:s0(),jn(Zi),jn(bi),jT();break;case 5:_T(n);break;case 4:s0();break;case 13:jn(Fn);break;case 19:jn(Fn);break;case 10:xT(n.type._context);break;case 22:case 23:DT()}r=r.return}if(Da=e,fa=e=Nu(e.current,null),Ka=ps=t,ba=0,Lg=null,PT=Yb=Qd=0,Yi=qm=null,Cd!==null){for(t=0;t<Cd.length;t++)if(r=Cd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Cd=null}return e}function D7(e,t){do{var r=fa;try{if(vT(),Sy.current=s2,i2){for(var n=Mn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}i2=!1}if(Jd=0,Fa=xa=Mn=null,Hm=!1,Og=0,kT.current=null,r===null||r.return===null){ba=1,Lg=t,fa=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ka,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=oP(o);if(p!==null){p.flags&=-257,lP(p,o,l,i,t),p.mode&1&&sP(i,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){sP(i,u,t),LT();break e}c=Error(ht(426))}}else if(Cn&&l.mode&1){var x=oP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lP(x,o,l,i,t),mT(o0(c,l));break e}}i=c=o0(c,l),ba!==4&&(ba=2),qm===null?qm=[i]:qm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=v7(i,c,t);eP(i,g);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ju===null||!ju.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=x7(i,l,t);eP(i,S);break e}}i=i.return}while(i!==null)}M7(r)}catch(_){t=_,fa===r&&r!==null&&(fa=r=r.return);continue}break}while(1)}function L7(){var e=o2.current;return o2.current=s2,e===null?s2:e}function LT(){(ba===0||ba===3||ba===2)&&(ba=4),Da===null||!(Qd&268435455)&&!(Yb&268435455)||ou(Da,Ka)}function u2(e,t){var r=$r;$r|=2;var n=L7();(Da!==e||Ka!==t)&&(Yl=null,Md(e,t));do try{dJ();break}catch(a){D7(e,a)}while(1);if(vT(),$r=r,o2.current=n,fa!==null)throw Error(ht(261));return Da=null,Ka=0,ba}function dJ(){for(;fa!==null;)I7(fa)}function fJ(){for(;fa!==null&&!MY();)I7(fa)}function I7(e){var t=$7(e.alternate,e,ps);e.memoizedProps=e.pendingProps,t===null?M7(e):fa=t,kT.current=null}function M7(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iJ(r,t),r!==null){r.flags&=32767,fa=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ba=6,fa=null;return}}else if(r=aJ(r,t,ps),r!==null){fa=r;return}if(t=t.sibling,t!==null){fa=t;return}fa=t=e}while(t!==null);ba===0&&(ba=5)}function md(e,t,r){var n=en,a=eo.transition;try{eo.transition=null,en=1,hJ(e,t,r,n)}finally{eo.transition=a,en=n}return null}function hJ(e,t,r,n){do Uh();while(hu!==null);if($r&6)throw Error(ht(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ht(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(GY(e,i),e===Da&&(fa=Da=null,Ka=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_1||(_1=!0,B7(Wy,function(){return Uh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=eo.transition,eo.transition=null;var o=en;en=1;var l=$r;$r|=4,kT.current=null,oJ(e,r),P7(r,e),FX(DS),Gy=!!FS,DS=FS=null,e.current=r,lJ(r),RY(),$r=l,en=o,eo.transition=i}else e.current=r;if(_1&&(_1=!1,hu=e,c2=a),i=e.pendingLanes,i===0&&(ju=null),UY(r.stateNode),ts(e,Zn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(l2)throw l2=!1,e=eN,eN=null,e;return c2&1&&e.tag!==0&&Uh(),i=e.pendingLanes,i&1?e===tN?Gm++:(Gm=0,tN=e):Gm=0,Wu(),null}function Uh(){if(hu!==null){var e=vR(c2),t=eo.transition,r=en;try{if(eo.transition=null,en=16>e?16:e,hu===null)var n=!1;else{if(e=hu,hu=null,c2=0,$r&6)throw Error(ht(331));var a=$r;for($r|=4,It=e.current;It!==null;){var i=It,o=i.child;if(It.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(It=u;It!==null;){var d=It;switch(d.tag){case 0:case 11:case 15:Wm(8,d,i)}var f=d.child;if(f!==null)f.return=d,It=f;else for(;It!==null;){d=It;var h=d.sibling,p=d.return;if(C7(d),d===u){It=null;break}if(h!==null){h.return=p,It=h;break}It=p}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}It=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,It=o;else e:for(;It!==null;){if(i=It,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wm(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,It=g;break e}It=i.return}}var y=e.current;for(It=y;It!==null;){o=It;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,It=b;else e:for(o=y;It!==null;){if(l=It,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kb(9,l)}}catch(_){Vn(l,l.return,_)}if(l===o){It=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,It=S;break e}It=l.return}}if($r=a,Wu(),gl&&typeof gl.onPostCommitFiberRoot=="function")try{gl.onPostCommitFiberRoot(Bb,e)}catch{}n=!0}return n}finally{en=r,eo.transition=t}}return!1}function wP(e,t,r){t=o0(r,t),t=v7(e,t,1),e=_u(e,t,1),t=Di(),e!==null&&(Bv(e,1,t),ts(e,t))}function Vn(e,t,r){if(e.tag===3)wP(e,e,r);else for(;t!==null;){if(t.tag===3){wP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ju===null||!ju.has(n))){e=o0(r,e),e=x7(t,e,1),t=_u(t,e,1),e=Di(),t!==null&&(Bv(t,1,e),ts(t,e));break}}t=t.return}}function pJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Di(),e.pingedLanes|=e.suspendedLanes&r,Da===e&&(Ka&r)===r&&(ba===4||ba===3&&(Ka&130023424)===Ka&&500>Zn()-OT?Md(e,0):PT|=r),ts(e,t)}function R7(e,t){t===0&&(e.mode&1?(t=f1,f1<<=1,!(f1&130023424)&&(f1=4194304)):t=1);var r=Di();e=gc(e,t),e!==null&&(Bv(e,t,r),ts(e,r))}function mJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),R7(e,r)}function gJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ht(314))}n!==null&&n.delete(t),R7(e,r)}var $7;$7=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zi.current)Ji=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ji=!1,nJ(e,t,r);Ji=!!(e.flags&131072)}else Ji=!1,Cn&&t.flags&1048576&&VR(t,e2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ay(e,t),e=t.pendingProps;var a=n0(t,bi.current);Bh(t,r),a=NT(null,t,n,e,a,r);var i=AT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,es(n)?(i=!0,Qy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,bT(t),a.updater=Gb,t.stateNode=a,a._reactInternals=t,VS(t,n,e,r),t=qS(null,t,n,!0,i,r)):(t.tag=0,Cn&&i&&hT(t),Ei(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ay(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=xJ(n),e=To(n,e),a){case 0:t=WS(null,t,n,e,r);break e;case 1:t=dP(null,t,n,e,r);break e;case 11:t=cP(null,t,n,e,r);break e;case 14:t=uP(null,t,n,To(n.type,e),r);break e}throw Error(ht(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:To(n,a),WS(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:To(n,a),dP(e,t,n,a,r);case 3:e:{if(_7(t),e===null)throw Error(ht(387));n=t.pendingProps,i=t.memoizedState,a=i.element,YR(e,t),n2(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=o0(Error(ht(423)),t),t=fP(e,t,n,r,a);break e}else if(n!==a){a=o0(Error(ht(424)),t),t=fP(e,t,n,r,a);break e}else for(ws=wu(t.stateNode.containerInfo.firstChild),js=t,Cn=!0,Fo=null,r=GR(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(a0(),n===a){t=vc(e,t,r);break e}Ei(e,t,n,r)}t=t.child}return t;case 5:return XR(t),e===null&&BS(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,LS(n,a)?o=null:i!==null&&LS(n,i)&&(t.flags|=32),w7(e,t),Ei(e,t,o,r),t.child;case 6:return e===null&&BS(t),null;case 13:return j7(e,t,r);case 4:return wT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=i0(t,null,n,r):Ei(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:To(n,a),cP(e,t,n,a,r);case 7:return Ei(e,t,t.pendingProps,r),t.child;case 8:return Ei(e,t,t.pendingProps.children,r),t.child;case 12:return Ei(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,mn(t2,n._currentValue),n._currentValue=o,i!==null)if(Ho(i.value,o)){if(i.children===a.children&&!Zi.current){t=vc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ic(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),US(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ht(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),US(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ei(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Bh(t,r),a=ao(a),n=n(a),t.flags|=1,Ei(e,t,n,r),t.child;case 14:return n=t.type,a=To(n,t.pendingProps),a=To(n.type,a),uP(e,t,n,a,r);case 15:return y7(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:To(n,a),Ay(e,t),t.tag=1,es(n)?(e=!0,Qy(t)):e=!1,Bh(t,r),g7(t,n,a),VS(t,n,a,r),qS(null,t,n,!0,e,r);case 19:return S7(e,t,r);case 22:return b7(e,t,r)}throw Error(ht(156,t.tag))};function B7(e,t){return hR(e,t)}function vJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(e,t,r,n){return new vJ(e,t,r,n)}function IT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xJ(e){if(typeof e=="function")return IT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tT)return 11;if(e===rT)return 14}return 2}function Nu(e,t){var r=e.alternate;return r===null?(r=Js(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ey(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")IT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case gh:return Rd(r.children,a,i,t);case eT:o=8,a|=8;break;case hS:return e=Js(12,r,t,a|2),e.elementType=hS,e.lanes=i,e;case pS:return e=Js(13,r,t,a),e.elementType=pS,e.lanes=i,e;case mS:return e=Js(19,r,t,a),e.elementType=mS,e.lanes=i,e;case XM:return Xb(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case KM:o=10;break e;case YM:o=9;break e;case tT:o=11;break e;case rT:o=14;break e;case ru:o=16,n=null;break e}throw Error(ht(130,e==null?e:typeof e,""))}return t=Js(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Rd(e,t,r,n){return e=Js(7,e,n,t),e.lanes=r,e}function Xb(e,t,r,n){return e=Js(22,e,n,t),e.elementType=XM,e.lanes=r,e.stateNode={isHidden:!1},e}function O5(e,t,r){return e=Js(6,e,null,t),e.lanes=r,e}function F5(e,t,r){return t=Js(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h5(0),this.expirationTimes=h5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h5(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function MT(e,t,r,n,a,i,o,l,c){return e=new yJ(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Js(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bT(i),e}function bJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function U7(e){if(!e)return Ou;e=e._reactInternals;e:{if(pf(e)!==e||e.tag!==1)throw Error(ht(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(es(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ht(171))}if(e.tag===1){var r=e.type;if(es(r))return UR(e,r,t)}return t}function z7(e,t,r,n,a,i,o,l,c){return e=MT(r,n,!0,e,a,i,o,l,c),e.context=U7(null),r=e.current,n=Di(),a=Su(r),i=ic(n,a),i.callback=t??null,_u(r,i,a),e.current.lanes=a,Bv(e,a,n),ts(e,n),e}function Jb(e,t,r,n){var a=t.current,i=Di(),o=Su(a);return r=U7(r),t.context===null?t.context=r:t.pendingContext=r,t=ic(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=_u(a,t,o),e!==null&&(zo(e,a,o,i),jy(e,a,o)),o}function d2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _P(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function RT(e,t){_P(e,t),(e=e.alternate)&&_P(e,t)}function wJ(){return null}var V7=typeof reportError=="function"?reportError:function(e){console.error(e)};function $T(e){this._internalRoot=e}Qb.prototype.render=$T.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ht(409));Jb(e,t,null,null)};Qb.prototype.unmount=$T.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zd(function(){Jb(null,e,null,null)}),t[mc]=null}};function Qb(e){this._internalRoot=e}Qb.prototype.unstable_scheduleHydration=function(e){if(e){var t=bR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<su.length&&t!==0&&t<su[r].priority;r++);su.splice(r,0,e),r===0&&_R(e)}};function BT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jP(){}function _J(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=d2(o);i.call(u)}}var o=z7(t,n,e,0,null,!1,!1,"",jP);return e._reactRootContainer=o,e[mc]=o.current,Tg(e.nodeType===8?e.parentNode:e),Zd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=d2(c);l.call(u)}}var c=MT(e,0,!1,null,null,!1,!1,"",jP);return e._reactRootContainer=c,e[mc]=c.current,Tg(e.nodeType===8?e.parentNode:e),Zd(function(){Jb(t,c,r,n)}),c}function ew(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=d2(o);l.call(c)}}Jb(t,o,e,a)}else o=_J(r,t,e,a,n);return d2(o)}xR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Am(t.pendingLanes);r!==0&&(iT(t,r|1),ts(t,Zn()),!($r&6)&&(l0=Zn()+500,Wu()))}break;case 13:Zd(function(){var n=gc(e,1);if(n!==null){var a=Di();zo(n,e,1,a)}}),RT(e,1)}};sT=function(e){if(e.tag===13){var t=gc(e,134217728);if(t!==null){var r=Di();zo(t,e,134217728,r)}RT(e,134217728)}};yR=function(e){if(e.tag===13){var t=Su(e),r=gc(e,t);if(r!==null){var n=Di();zo(r,e,t,n)}RT(e,t)}};bR=function(){return en};wR=function(e,t){var r=en;try{return en=e,t()}finally{en=r}};NS=function(e,t,r){switch(t){case"input":if(xS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Hb(n);if(!a)throw Error(ht(90));QM(n),xS(n,a)}}}break;case"textarea":eR(e,r);break;case"select":t=r.value,t!=null&&Ih(e,!!r.multiple,t,!1)}};oR=FT;lR=Zd;var jJ={usingClientEntryPoint:!1,Events:[zv,bh,Hb,iR,sR,FT]},Zp={findFiberByHostInstance:Td,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SJ={bundleType:Zp.bundleType,version:Zp.version,rendererPackageName:Zp.rendererPackageName,rendererConfig:Zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ac.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dR(e),e===null?null:e.stateNode},findFiberByHostInstance:Zp.findFiberByHostInstance||wJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j1.isDisabled&&j1.supportsFiber)try{Bb=j1.inject(SJ),gl=j1}catch{}}Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jJ;Os.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BT(t))throw Error(ht(200));return bJ(e,t,null,r)};Os.createRoot=function(e,t){if(!BT(e))throw Error(ht(299));var r=!1,n="",a=V7;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=MT(e,1,!1,null,null,r,!1,n,a),e[mc]=t.current,Tg(e.nodeType===8?e.parentNode:e),new $T(t)};Os.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ht(188)):(e=Object.keys(e).join(","),Error(ht(268,e)));return e=dR(t),e=e===null?null:e.stateNode,e};Os.flushSync=function(e){return Zd(e)};Os.hydrate=function(e,t,r){if(!Zb(t))throw Error(ht(200));return ew(null,e,t,!0,r)};Os.hydrateRoot=function(e,t,r){if(!BT(e))throw Error(ht(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=V7;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=z7(t,null,e,1,r??null,a,!1,i,o),e[mc]=t.current,Tg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Qb(t)};Os.render=function(e,t,r){if(!Zb(t))throw Error(ht(200));return ew(null,e,t,!1,r)};Os.unmountComponentAtNode=function(e){if(!Zb(e))throw Error(ht(40));return e._reactRootContainer?(Zd(function(){ew(null,null,e,!1,function(){e._reactRootContainer=null,e[mc]=null})}),!0):!1};Os.unstable_batchedUpdates=FT;Os.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zb(r))throw Error(ht(200));if(e==null||e._reactInternals===void 0)throw Error(ht(38));return ew(e,t,r,!1,n)};Os.version="18.3.1-next-f1338f8080-20240426";function H7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H7)}catch(e){console.error(e)}}H7(),HM.exports=Os;var mf=HM.exports;const NJ=Vr(mf);var SP=mf;dS.createRoot=SP.createRoot,dS.hydrateRoot=SP.hydrateRoot;var W7={exports:{}},AJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TJ=AJ,CJ=TJ;function q7(){}function G7(){}G7.resetWarningCache=q7;var EJ=function(){function e(n,a,i,o,l,c){if(c!==CJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:G7,resetWarningCache:q7};return r.PropTypes=r,r};W7.exports=EJ();var kJ=W7.exports;const zt=Vr(kJ);function PJ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var K7=O,OJ=PJ(K7);function NP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FJ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var DJ=!!(typeof window<"u"&&window.document&&window.document.createElement);function LJ(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(d){return d.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(d){FJ(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var v=l;return l=void 0,o=[],v};var h=f.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),c()},h.componentDidUpdate=function(){c()},h.componentWillUnmount=function(){var v=o.indexOf(this);o.splice(v,1),c()},h.render=function(){return OJ.createElement(i,this.props)},f}(K7.PureComponent);return NP(u,"displayName","SideEffect("+n(i)+")"),NP(u,"canUseDOM",DJ),u}}var IJ=LJ;const MJ=Vr(IJ);var RJ=typeof Element<"u",$J=typeof Map=="function",BJ=typeof Set=="function",UJ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ky(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!ky(e[n],t[n]))return!1;return!0}var i;if($J&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!ky(n.value[1],t.get(n.value[0])))return!1;return!0}if(BJ&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(UJ&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(RJ&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!ky(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var zJ=function(t,r){try{return ky(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const VJ=Vr(zJ);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var AP=Object.getOwnPropertySymbols,HJ=Object.prototype.hasOwnProperty,WJ=Object.prototype.propertyIsEnumerable;function qJ(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function GJ(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var KJ=GJ()?Object.assign:function(e,t){for(var r,n=qJ(e),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)HJ.call(r,o)&&(n[o]=r[o]);if(AP){a=AP(r);for(var l=0;l<a.length;l++)WJ.call(r,a[l])&&(n[a[l]]=r[a[l]])}}return n};const YJ=Vr(KJ);var $d={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},pr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(pr).map(function(e){return pr[e]});var An={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},f2={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ig={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},XJ=Object.keys(f2).reduce(function(e,t){return e[f2[t]]=t,e},{}),JJ=[pr.NOSCRIPT,pr.SCRIPT,pr.STYLE],Mo="data-react-helmet",QJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZJ=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},eQ=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tQ=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},TP=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},rQ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},aN=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},nQ=function(t){var r=zh(t,pr.TITLE),n=zh(t,Ig.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=zh(t,Ig.DEFAULT_TITLE);return r||a||void 0},aQ=function(t){return zh(t,Ig.ON_CHANGE_CLIENT_STATE)||function(){}},D5=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,a){return Gi({},n,a)},{})},iQ=function(t,r){return r.filter(function(n){return typeof n[pr.BASE]<"u"}).map(function(n){return n[pr.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},em=function(t,r,n){var a={};return n.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&cQ("Helmet: "+t+' should be of type "Array". Instead found type "'+QJ(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(h){for(var p=void 0,v=Object.keys(h),m=0;m<v.length;m++){var x=v[m],g=x.toLowerCase();r.indexOf(g)!==-1&&!(p===An.REL&&h[p].toLowerCase()==="canonical")&&!(g===An.REL&&h[g].toLowerCase()==="stylesheet")&&(p=g),r.indexOf(x)!==-1&&(x===An.INNER_HTML||x===An.CSS_TEXT||x===An.ITEM_PROP)&&(p=x)}if(!p||!h[p])return!1;var y=h[p].toLowerCase();return a[p]||(a[p]={}),l[p]||(l[p]={}),a[p][y]?!1:(l[p][y]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=YJ({},a[d],l[d]);a[d]=f}return i},[]).reverse()},zh=function(t,r){for(var n=t.length-1;n>=0;n--){var a=t[n];if(a.hasOwnProperty(r))return a[r]}return null},sQ=function(t){return{baseTag:iQ([An.HREF,An.TARGET],t),bodyAttributes:D5($d.BODY,t),defer:zh(t,Ig.DEFER),encode:zh(t,Ig.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:D5($d.HTML,t),linkTags:em(pr.LINK,[An.REL,An.HREF],t),metaTags:em(pr.META,[An.NAME,An.CHARSET,An.HTTPEQUIV,An.PROPERTY,An.ITEM_PROP],t),noscriptTags:em(pr.NOSCRIPT,[An.INNER_HTML],t),onChangeClientState:aQ(t),scriptTags:em(pr.SCRIPT,[An.SRC,An.INNER_HTML],t),styleTags:em(pr.STYLE,[An.CSS_TEXT],t),title:nQ(t),titleAttributes:D5($d.TITLE,t)}},iN=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){iN(t)},0)}}(),CP=function(t){return clearTimeout(t)},oQ=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||iN:global.requestAnimationFrame||iN,lQ=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||CP:global.cancelAnimationFrame||CP,cQ=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},tm=null,uQ=function(t){tm&&lQ(tm),t.defer?tm=oQ(function(){EP(t,function(){tm=null})}):(EP(t),tm=null)},EP=function(t,r){var n=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,f=t.styleTags,h=t.title,p=t.titleAttributes;sN(pr.BODY,a),sN(pr.HTML,i),dQ(h,p);var v={baseTag:Qf(pr.BASE,n),linkTags:Qf(pr.LINK,o),metaTags:Qf(pr.META,l),noscriptTags:Qf(pr.NOSCRIPT,c),scriptTags:Qf(pr.SCRIPT,d),styleTags:Qf(pr.STYLE,f)},m={},x={};Object.keys(v).forEach(function(g){var y=v[g],b=y.newTags,S=y.oldTags;b.length&&(m[g]=b),S.length&&(x[g]=v[g].oldTags)}),r&&r(),u(t,m,x)},Y7=function(t){return Array.isArray(t)?t.join(""):t},dQ=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=Y7(t)),sN(pr.TITLE,r)},sN=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var a=n.getAttribute(Mo),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],d=r[u]||"";n.getAttribute(u)!==d&&n.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var f=o.indexOf(u);f!==-1&&o.splice(f,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute(Mo):n.getAttribute(Mo)!==l.join(",")&&n.setAttribute(Mo,l.join(","))}},Qf=function(t,r){var n=document.head||document.querySelector(pr.HEAD),a=n.querySelectorAll(t+"["+Mo+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===An.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===An.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(Mo,"true"),i.some(function(h,p){return l=p,u.isEqualNode(h)})?i.splice(l,1):o.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:o}},X7=function(t){return Object.keys(t).reduce(function(r,n){var a=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+a:a},"")},fQ=function(t,r,n,a){var i=X7(n),o=Y7(r);return i?"<"+t+" "+Mo+'="true" '+i+">"+aN(o,a)+"</"+t+">":"<"+t+" "+Mo+'="true">'+aN(o,a)+"</"+t+">"},hQ=function(t,r,n){return r.reduce(function(a,i){var o=Object.keys(i).filter(function(u){return!(u===An.INNER_HTML||u===An.CSS_TEXT)}).reduce(function(u,d){var f=typeof i[d]>"u"?d:d+'="'+aN(i[d],n)+'"';return u?u+" "+f:f},""),l=i.innerHTML||i.cssText||"",c=JJ.indexOf(t)===-1;return a+"<"+t+" "+Mo+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},J7=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[f2[a]||a]=t[a],n},r)},pQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[XJ[a]||a]=t[a],n},r)},mQ=function(t,r,n){var a,i=(a={key:r},a[Mo]=!0,a),o=J7(n,i);return[Ae.createElement(pr.TITLE,o,r)]},gQ=function(t,r){return r.map(function(n,a){var i,o=(i={key:a},i[Mo]=!0,i);return Object.keys(n).forEach(function(l){var c=f2[l]||l;if(c===An.INNER_HTML||c===An.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),Ae.createElement(t,o)})},Vl=function(t,r,n){switch(t){case pr.TITLE:return{toComponent:function(){return mQ(t,r.title,r.titleAttributes)},toString:function(){return fQ(t,r.title,r.titleAttributes,n)}};case $d.BODY:case $d.HTML:return{toComponent:function(){return J7(r)},toString:function(){return X7(r)}};default:return{toComponent:function(){return gQ(t,r)},toString:function(){return hQ(t,r,n)}}}},Q7=function(t){var r=t.baseTag,n=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,f=t.title,h=f===void 0?"":f,p=t.titleAttributes;return{base:Vl(pr.BASE,r,a),bodyAttributes:Vl($d.BODY,n,a),htmlAttributes:Vl($d.HTML,i,a),link:Vl(pr.LINK,o,a),meta:Vl(pr.META,l,a),noscript:Vl(pr.NOSCRIPT,c,a),script:Vl(pr.SCRIPT,u,a),style:Vl(pr.STYLE,d,a),title:Vl(pr.TITLE,{title:h,titleAttributes:p},a)}},vQ=function(t){var r,n;return n=r=function(a){tQ(i,a);function i(){return ZJ(this,i),rQ(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!VJ(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case pr.SCRIPT:case pr.NOSCRIPT:return{innerHTML:c};case pr.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,h=l.nestedChildren;return Gi({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[Gi({},f,this.mapNestedChildrenToProps(u,h))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,h=l.newChildProps,p=l.nestedChildren;switch(d.type){case pr.TITLE:return Gi({},f,(c={},c[d.type]=p,c.titleAttributes=Gi({},h),c));case pr.BODY:return Gi({},f,{bodyAttributes:Gi({},h)});case pr.HTML:return Gi({},f,{htmlAttributes:Gi({},h)})}return Gi({},f,(u={},u[d.type]=Gi({},h),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Gi({},c);return Object.keys(l).forEach(function(d){var f;u=Gi({},u,(f={},f[d]=l[d],f))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Ae.Children.forEach(l,function(f){if(!(!f||!f.props)){var h=f.props,p=h.children,v=TP(h,["children"]),m=pQ(v);switch(u.warnOnInvalidChildren(f,p),f.type){case pr.LINK:case pr.META:case pr.NOSCRIPT:case pr.SCRIPT:case pr.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:m,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:m,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=TP(l,["children"]),d=Gi({},u);return c&&(d=this.mapChildrenToProps(c,d)),Ae.createElement(t,d)},eQ(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(Ae.Component),r.propTypes={base:zt.object,bodyAttributes:zt.object,children:zt.oneOfType([zt.arrayOf(zt.node),zt.node]),defaultTitle:zt.string,defer:zt.bool,encodeSpecialCharacters:zt.bool,htmlAttributes:zt.object,link:zt.arrayOf(zt.object),meta:zt.arrayOf(zt.object),noscript:zt.arrayOf(zt.object),onChangeClientState:zt.func,script:zt.arrayOf(zt.object),style:zt.arrayOf(zt.object),title:zt.string,titleAttributes:zt.object,titleTemplate:zt.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var a=t.rewind();return a||(a=Q7({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},xQ=function(){return null},yQ=MJ(sQ,uQ,Q7)(xQ),oN=vQ(yQ);oN.renderStatic=oN.rewind;const bQ="modulepreload",wQ=function(e){return"/"+e},kP={},xc=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=wQ(i),i in kP)return;kP[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let d=a.length-1;d>=0;d--){const f=a[d];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":bQ,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},_Q=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xc(()=>Promise.resolve().then(()=>Wv),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class UT extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class jQ extends UT{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class SQ extends UT{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class NQ extends UT{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var lN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(lN||(lN={}));var AQ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class TQ{constructor(t,{headers:r={},customFetch:n,region:a=lN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=_Q(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return AQ(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new jQ(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new SQ(d);if(!d.ok)throw new NQ(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Xi={},zT={},tw={},Hv={},rw={},nw={},CQ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},c0=CQ();const EQ=c0.fetch,kQ=c0.fetch.bind(c0),PQ=c0.Headers,OQ=c0.Request,FQ=c0.Response,Wv=Object.freeze(Object.defineProperty({__proto__:null,Headers:PQ,Request:OQ,Response:FQ,default:kQ,fetch:EQ},Symbol.toStringTag,{value:"Module"})),DQ=OM(Wv);var aw={};Object.defineProperty(aw,"__esModule",{value:!0});let LQ=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};aw.default=LQ;var Z7=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nw,"__esModule",{value:!0});const IQ=Z7(DQ),MQ=Z7(aw);let RQ=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=IQ.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new MQ.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}};nw.default=RQ;var $Q=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rw,"__esModule",{value:!0});const BQ=$Q(nw);let UQ=class extends BQ.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rw.default=UQ;var zQ=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hv,"__esModule",{value:!0});const VQ=zQ(rw);let HQ=class extends VQ.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Hv.default=HQ;var WQ=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tw,"__esModule",{value:!0});const rm=WQ(Hv);let qQ=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new rm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new rm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new rm.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new rm.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new rm.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};tw.default=qQ;var iw={},sw={};Object.defineProperty(sw,"__esModule",{value:!0});sw.version=void 0;sw.version="0.0.0-automated";Object.defineProperty(iw,"__esModule",{value:!0});iw.DEFAULT_HEADERS=void 0;const GQ=sw;iw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${GQ.version}`};var e$=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zT,"__esModule",{value:!0});const KQ=e$(tw),YQ=e$(Hv),XQ=iw;let JQ=class t${constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},XQ.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new KQ.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new t$(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new YQ.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};zT.default=JQ;var q0=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.PostgrestError=Xi.PostgrestBuilder=Xi.PostgrestTransformBuilder=Xi.PostgrestFilterBuilder=Xi.PostgrestQueryBuilder=Xi.PostgrestClient=void 0;const r$=q0(zT);Xi.PostgrestClient=r$.default;const n$=q0(tw);Xi.PostgrestQueryBuilder=n$.default;const a$=q0(Hv);Xi.PostgrestFilterBuilder=a$.default;const i$=q0(rw);Xi.PostgrestTransformBuilder=i$.default;const s$=q0(nw);Xi.PostgrestBuilder=s$.default;const o$=q0(aw);Xi.PostgrestError=o$.default;var QQ=Xi.default={PostgrestClient:r$.default,PostgrestQueryBuilder:n$.default,PostgrestFilterBuilder:a$.default,PostgrestTransformBuilder:i$.default,PostgrestBuilder:s$.default,PostgrestError:o$.default};const{PostgrestClient:ZQ,PostgrestQueryBuilder:ZBe,PostgrestFilterBuilder:e9e,PostgrestTransformBuilder:t9e,PostgrestBuilder:r9e,PostgrestError:n9e}=QQ,eZ="2.11.3",tZ={"X-Client-Info":`realtime-js/${eZ}`},rZ="1.0.0",l$=1e4,nZ=1e3;var Vh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vh||(Vh={}));var fs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fs||(fs={}));var ko;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ko||(ko={}));var cN;(function(e){e.websocket="websocket"})(cN||(cN={}));var jd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jd||(jd={}));class aZ{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class c${constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(hn||(hn={}));const PP=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=iZ(o,e,t,a),i),{})},iZ=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?u$(i,o):uN(o)},u$=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return cZ(t,r)}switch(e){case hn.bool:return sZ(t);case hn.float4:case hn.float8:case hn.int2:case hn.int4:case hn.int8:case hn.numeric:case hn.oid:return oZ(t);case hn.json:case hn.jsonb:return lZ(t);case hn.timestamp:return uZ(t);case hn.abstime:case hn.date:case hn.daterange:case hn.int4range:case hn.int8range:case hn.money:case hn.reltime:case hn.text:case hn.time:case hn.timestamptz:case hn.timetz:case hn.tsrange:case hn.tstzrange:return uN(t);default:return uN(t)}},uN=e=>e,sZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>u$(t,l))}return e},uZ=e=>typeof e=="string"?e.replace(" ","T"):e,d$=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class L5{constructor(t,r,n={},a=l$){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var OP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(OP||(OP={}));class Km{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Km.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Km.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Km.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),v=d.filter(x=>p.indexOf(x.presence_ref)<0),m=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(FP||(FP={}));var DP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(DP||(DP={}));var Xl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xl||(Xl={}));class VT{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=fs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new L5(this,ko.join,this.params,this.timeout),this.rejoinTimer=new c$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ko.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Km(this),this.broadcastEndpointURL=d$(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Xl.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Xl.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Xl.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let m=0;m<p;m++){const x=h[m],{filter:{event:g,schema:y,table:b,filter:S}}=x,_=d&&d[m];if(_&&_.event===g&&_.schema===y&&_.table===b&&_.filter===S)v.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),t==null||t(Xl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Xl.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Xl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ko.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new L5(this,ko.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new L5(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ko;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var v,m,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(m=p.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,m,x,g,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:x,commit_timestamp:g,type:y,errors:b}=v;h=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===fs.closed}_isJoined(){return this.state===fs.joined}_isJoining(){return this.state===fs.joining}_isLeaving(){return this.state===fs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&VT.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ko.close,{},t)}_onError(t){this._on(ko.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=PP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=PP(t.columns,t.old_record)),r}}const dZ=()=>{},fZ=typeof WebSocket<"u",hZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pZ{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=tZ,this.params={},this.timeout=l$,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=dZ,this.conn=null,this.sendBuffer=[],this.serializer=new aZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>xc(()=>Promise.resolve().then(()=>Wv),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${cN.websocket}`,this.httpEndpoint=d$(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new c$(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}if(fZ){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new mZ(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),xc(()=>import("./browser-0a7d5e67.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rZ}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vh.connecting:return jd.Connecting;case Vh.open:return jd.Open;case Vh.closing:return jd.Closing;default:return jd.Closed}}isConnected(){return this.connectionState()===jd.Open}channel(t,r={config:{}}){const n=new VT(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(ko.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(nZ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ko.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class mZ{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Vh.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class HT extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ka(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gZ extends HT{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class dN extends HT{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var vZ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const f$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xc(()=>Promise.resolve().then(()=>Wv),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},xZ=()=>vZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xc(()=>Promise.resolve().then(()=>Wv),void 0)).Response:Response}),fN=e=>{if(Array.isArray(e))return e.map(r=>fN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=fN(n)}),t};var gf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const I5=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yZ=(e,t,r)=>gf(void 0,void 0,void 0,function*(){const n=yield xZ();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new gZ(I5(a),e.status||500))}).catch(a=>{t(new dN(I5(a),a))}):t(new dN(I5(e),e))}),bZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function qv(e,t,r,n,a,i){return gf(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,bZ(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>yZ(c,l,n))})})}function h2(e,t,r,n){return gf(this,void 0,void 0,function*(){return qv(e,"GET",t,r,n)})}function au(e,t,r,n,a){return gf(this,void 0,void 0,function*(){return qv(e,"POST",t,n,a,r)})}function wZ(e,t,r,n,a){return gf(this,void 0,void 0,function*(){return qv(e,"PUT",t,n,a,r)})}function _Z(e,t,r,n){return gf(this,void 0,void 0,function*(){return qv(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function h$(e,t,r,n,a){return gf(this,void 0,void 0,function*(){return qv(e,"DELETE",t,n,a,r)})}var Wi=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const jZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SZ{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=f$(a)}uploadOrUpdate(t,r,n,a){return Wi(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},LP),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ka(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Wi(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:LP.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ka(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Wi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield au(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new HT("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(ka(n))return{data:null,error:n};throw n}})}update(t,r,n){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Wi(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Wi(this,void 0,void 0,function*(){try{return{data:{path:(yield au(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Wi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield au(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Wi(this,void 0,void 0,function*(){try{const a=yield au(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}download(t,r){return Wi(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield h2(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ka(l))return{data:null,error:l};throw l}})}info(t){return Wi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield h2(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fN(n),error:null}}catch(n){if(ka(n))return{data:null,error:n};throw n}})}exists(t){return Wi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield _Z(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ka(n)&&n instanceof dN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Wi(this,void 0,void 0,function*(){try{return{data:yield h$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ka(r))return{data:null,error:r};throw r}})}list(t,r,n){return Wi(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},jZ),r),{prefix:t||""});return{data:yield au(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const NZ="2.7.1",AZ={"X-Client-Info":`storage-js/${NZ}`};var Zf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class TZ{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},AZ),r),this.fetch=f$(n)}listBuckets(){return Zf(this,void 0,void 0,function*(){try{return{data:yield h2(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ka(t))return{data:null,error:t};throw t}})}getBucket(t){return Zf(this,void 0,void 0,function*(){try{return{data:yield h2(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ka(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Zf(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ka(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Zf(this,void 0,void 0,function*(){try{return{data:yield wZ(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ka(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Zf(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ka(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Zf(this,void 0,void 0,function*(){try{return{data:yield h$(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ka(r))return{data:null,error:r};throw r}})}}class CZ extends TZ{constructor(t,r={},n){super(t,r,n)}from(t){return new SZ(this.url,this.headers,t,this.fetch)}}const EZ="2.30.0",kZ={"X-Client-Info":`supabase-js/${EZ}`};var hN={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ln<"u"&&Ln,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof Ln<"u"&&Ln||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(M){return M&&DataView.prototype.isPrototypeOf(M)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(M){return M&&d.indexOf(Object.prototype.toString.call(M))>-1};function h(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function p(M){return typeof M!="string"&&(M=String(M)),M}function v(M){var B={next:function(){var I=M.shift();return{done:I===void 0,value:I}}};return c.iterable&&(B[Symbol.iterator]=function(){return B}),B}function m(M){this.map={},M instanceof m?M.forEach(function(B,I){this.append(I,B)},this):Array.isArray(M)?M.forEach(function(B){if(B.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+B.length);this.append(B[0],B[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(B){this.append(B,M[B])},this)}m.prototype.append=function(M,B){M=h(M),B=p(B);var I=this.map[M];this.map[M]=I?I+", "+B:B},m.prototype.delete=function(M){delete this.map[h(M)]},m.prototype.get=function(M){return M=h(M),this.has(M)?this.map[M]:null},m.prototype.has=function(M){return this.map.hasOwnProperty(h(M))},m.prototype.set=function(M,B){this.map[h(M)]=p(B)},m.prototype.forEach=function(M,B){for(var I in this.map)this.map.hasOwnProperty(I)&&M.call(B,this.map[I],I,this)},m.prototype.keys=function(){var M=[];return this.forEach(function(B,I){M.push(I)}),v(M)},m.prototype.values=function(){var M=[];return this.forEach(function(B){M.push(B)}),v(M)},m.prototype.entries=function(){var M=[];return this.forEach(function(B,I){M.push([I,B])}),v(M)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function x(M){if(!M._noBody){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}}function g(M){return new Promise(function(B,I){M.onload=function(){B(M.result)},M.onerror=function(){I(M.error)}})}function y(M){var B=new FileReader,I=g(B);return B.readAsArrayBuffer(M),I}function b(M){var B=new FileReader,I=g(B),q=/charset=([A-Za-z0-9_-]+)/.exec(M.type),F=q?q[1]:"utf-8";return B.readAsText(M,F),I}function S(M){for(var B=new Uint8Array(M),I=new Array(B.length),q=0;q<B.length;q++)I[q]=String.fromCharCode(B[q]);return I.join("")}function _(M){if(M.slice)return M.slice(0);var B=new Uint8Array(M.byteLength);return B.set(new Uint8Array(M)),B.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:c.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:c.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():c.arrayBuffer&&c.blob&&u(M)?(this._bodyArrayBuffer=_(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||f(M))?this._bodyArrayBuffer=_(M):this._bodyText=M=Object.prototype.toString.call(M):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var M=x(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=x(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var M=x(this);if(M)return M;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(M){var B=M.toUpperCase();return j.indexOf(B)>-1?B:M}function P(M,B){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');B=B||{};var I=B.body;if(M instanceof P){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,B.headers||(this.headers=new m(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!I&&M._bodyInit!=null&&(I=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=B.credentials||this.credentials||"same-origin",(B.headers||!this.headers)&&(this.headers=new m(B.headers)),this.method=A(B.method||this.method||"GET"),this.mode=B.mode||this.mode||null,this.signal=B.signal||this.signal||function(){if("AbortController"in l){var z=new AbortController;return z.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&I)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(I),(this.method==="GET"||this.method==="HEAD")&&(B.cache==="no-store"||B.cache==="no-cache")){var q=/([?&])_=[^&]*/;if(q.test(this.url))this.url=this.url.replace(q,"$1_="+new Date().getTime());else{var F=/\?/;this.url+=(F.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})};function H(M){var B=new FormData;return M.trim().split("&").forEach(function(I){if(I){var q=I.split("="),F=q.shift().replace(/\+/g," "),z=q.join("=").replace(/\+/g," ");B.append(decodeURIComponent(F),decodeURIComponent(z))}}),B}function C(M){var B=new m,I=M.replace(/\r?\n[\t ]+/g," ");return I.split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var F=q.split(":"),z=F.shift().trim();if(z){var J=F.join(":").trim();try{B.append(z,J)}catch(E){console.warn("Response "+E.message)}}}),B}N.call(P.prototype);function k(M,B){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(B||(B={}),this.type="default",this.status=B.status===void 0?200:B.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=B.statusText===void 0?"":""+B.statusText,this.headers=new m(B.headers),this.url=B.url||"",this._initBody(M)}N.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},k.error=function(){var M=new k(null,{status:200,statusText:""});return M.ok=!1,M.status=0,M.type="error",M};var U=[301,302,303,307,308];k.redirect=function(M,B){if(U.indexOf(B)===-1)throw new RangeError("Invalid status code");return new k(null,{status:B,headers:{location:M}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(B,I){this.message=B,this.name=I;var q=Error(B);this.stack=q.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function D(M,B){return new Promise(function(I,q){var F=new P(M,B);if(F.signal&&F.signal.aborted)return q(new o.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function J(){z.abort()}z.onload=function(){var K={statusText:z.statusText,headers:C(z.getAllResponseHeaders()||"")};F.url.indexOf("file://")===0&&(z.status<200||z.status>599)?K.status=200:K.status=z.status,K.url="responseURL"in z?z.responseURL:K.headers.get("X-Request-URL");var W="response"in z?z.response:z.responseText;setTimeout(function(){I(new k(W,K))},0)},z.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},z.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request timed out"))},0)},z.onabort=function(){setTimeout(function(){q(new o.DOMException("Aborted","AbortError"))},0)};function E(K){try{return K===""&&l.location.href?l.location.href:K}catch{return K}}if(z.open(F.method,E(F.url),!0),F.credentials==="include"?z.withCredentials=!0:F.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&(c.blob?z.responseType="blob":c.arrayBuffer&&(z.responseType="arraybuffer")),B&&typeof B.headers=="object"&&!(B.headers instanceof m||l.Headers&&B.headers instanceof l.Headers)){var V=[];Object.getOwnPropertyNames(B.headers).forEach(function(K){V.push(h(K)),z.setRequestHeader(K,p(B.headers[K]))}),F.headers.forEach(function(K,W){V.indexOf(W)===-1&&z.setRequestHeader(W,K)})}else F.headers.forEach(function(K,W){z.setRequestHeader(W,K)});F.signal&&(F.signal.addEventListener("abort",J),z.onreadystatechange=function(){z.readyState===4&&F.signal.removeEventListener("abort",J)}),z.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}return D.polyfill=!0,l.fetch||(l.fetch=D,l.Headers=m,l.Request=P,l.Response=k),o.Headers=m,o.Request=P,o.Response=k,o.fetch=D,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(hN,hN.exports);var WT=hN.exports;const p$=Vr(WT),PZ=PM({__proto__:null,default:p$},[WT]);var OZ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const FZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=p$:t=fetch,(...r)=>t(...r)},DZ=()=>typeof Headers>"u"?WT.Headers:Headers,LZ=(e,t,r)=>{const n=FZ(r),a=DZ();return(i,o)=>OZ(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};function IZ(e){return e.replace(/\/$/,"")}function MZ(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i)}}function RZ(e){return Math.round(Date.now()/1e3)+e}function $Z(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kl=()=>typeof document<"u",dd={tested:!1,writable:!1},Py=()=>{if(!Kl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dd.tested)return dd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dd.tested=!0,dd.writable=!0}catch{dd.tested=!0,dd.writable=!1}return dd.writable};function qi(e,t){var r;t||(t=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=n.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const m$=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...r)=>await(await xc(()=>Promise.resolve().then(()=>PZ),void 0)).fetch(...r):t=fetch,(...r)=>t(...r)},BZ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},S1=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},M5=async(e,t)=>{await e.removeItem(t)};function UZ(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=o<<2|l>>4,a=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&a!=0&&(r=r+String.fromCharCode(a)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class ow{constructor(){this.promise=new ow.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ow.promiseConstructor=Promise;function IP(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(UZ(n))}function zZ(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function VZ(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function HZ(e){return("0"+e.toString(16)).substr(-2)}function N1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,HZ).join("")}async function WZ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function qZ(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function A1(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await WZ(e);return qZ(t)}const GZ="__stack_guard__",KZ="__",YZ=/__stack_guard__([a-zA-Z0-9_-]+)__/;let MP=!1,qT;function pN(e){var t,r;qT();let n;try{throw new Error}catch(i){n=i}const a=(r=(t=n.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&r!==void 0?r:[];for(let i=0;i<a.length;i+=1){const l=a[i].match(YZ);if(l&&l[1]===e)return!0}return!1}async function mN(e,t){await qT();const r=`${GZ}${e}${KZ}`;return await{[r]:async()=>await t()}[r]()}qT=async()=>{MP||(MP=!0,await mN("ENV_CHECK",async()=>{const e=pN("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class GT extends Error{constructor(t,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function Rr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XZ extends GT{constructor(t,r){super(t,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function JZ(e){return Rr(e)&&e.name==="AuthApiError"}class g$ extends GT{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class G0 extends GT{constructor(t,r,n){super(t),this.name=r,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eh extends G0{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class R5 extends G0{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class T1 extends G0{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Hl extends G0{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $5 extends G0{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gN extends G0{constructor(t,r){super(t,"AuthRetryableFetchError",r)}}function RP(e){return Rr(e)&&e.name==="AuthRetryableFetchError"}var QZ=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Cm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZZ=[502,503,504];async function $P(e){if(!BZ(e))throw new gN(Cm(e),0);if(ZZ.includes(e.status))throw new gN(Cm(e),e.status);let t;try{t=await e.json()}catch(r){throw new g$(Cm(r),r)}throw new XZ(Cm(t),e.status||500)}const eee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function qr(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await tee(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function tee(e,t,r,n,a,i){const o=eee(t,n,a,i);let l;try{l=await e(r,o)}catch(c){throw console.error(c),new gN(Cm(c),0)}if(l.ok||await $P(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await $P(c)}}function qc(e){var t;let r=null;iee(e)&&(r=Object.assign({},e),r.expires_at=RZ(e.expires_in));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Sd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ree(e){return{data:e,error:null}}function nee(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=QZ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function aee(e){return e}function iee(e){return e.access_token&&e.refresh_token&&e.expires_in}var see=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class oee{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=m$(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await qr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await qr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Sd})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=see(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await qr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:nee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Rr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sd})}catch(r){if(Rr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await qr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:aee});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Rr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await qr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sd})}catch(r){if(Rr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await qr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Sd})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await qr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Sd})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await qr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await qr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Rr(r))return{data:null,error:r};throw r}}}const lee="2.43.1",cee="http://localhost:9999",uee="supabase.auth.token",dee={"X-Client-Info":`gotrue-js/${lee}`},BP=10,UP={getItem:e=>Py()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Py()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Py()&&globalThis.localStorage.removeItem(e)}};function fee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}fee();const hee={url:cee,storageKey:uee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dee,flowType:"implicit",debug:!1},C1=30*1e3,zP=3;class Mg{constructor(t){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=Mg.nextInstanceID,Mg.nextInstanceID+=1,this.instanceID>0&&Kl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},hee),t);if(this.logDebugMessages=n.debug,this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||UP,this.admin=new oee({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=m$(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===UP&&!Py()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),Kl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=mN("_initialize",async()=>{try{const t=Kl()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromUrl(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Rr(t)?{error:t}:{error:new g$("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var r,n,a;try{await this._removeSession();let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;if(this.flowType==="pkce"){const m=N1();await nm(this.storage,`${this.storageKey}-code-verifier`,m),p=await A1(m),v=m===p?"plain":"s256"}i=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:qc})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qc})}else throw new T1("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Rr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{await this._removeSession();let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await qr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await qr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qc})}else throw new T1("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new R5}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:a})}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){const r=await S1(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:a}=await qr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:qc});return await M5(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new R5}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:a})}async signInWithIdToken(t){await this._removeSession();try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await qr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qc}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new R5}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,d=null;if(this.flowType==="pkce"){const h=N1();await nm(this.storage,`${this.storageKey}-code-verifier`,h),u=await A1(h),d=h===u?"plain":"s256"}const{error:f}=await qr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await qr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new T1("You must provide either an email or phone number.")}catch(l){if(Rr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:a,error:i}=await qr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(r=t.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,xform:qc});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Rr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{return await this._removeSession(),await qr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:ree})}catch(i){if(Rr(i))return{data:null,error:i};throw i}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new eh;const{error:a}=await qr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Rr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await qr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await qr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new T1("You must provide either an email or phone number and a type")}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await mN("_useSession",async()=>{const r=await this.__loadSession();return await t(r)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!pN("_useSession"))throw new Error("Please use #_useSession()");pN("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const i=await S1(this.storage,this.storageKey);this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:n,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async r=>{var n,a;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0}return await qr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sd})})}catch(r){if(Rr(r))return{data:{user:null},error:r};throw r}}async updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new eh;const o=a.session,{data:l,error:c}=await qr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:t,jwt:o.access_token,xform:Sd});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return IP(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new eh;const r=Date.now()/1e3;let n=r,a=!0,i=null;const o=IP(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Rr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new eh;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromUrl(t){try{if(!Kl())throw new Hl("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Hl("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new $5("Not a valid PKCE flow url.");if(t){const x=qi("code");if(!x)throw new $5("No code detected.");const{data:g,error:y}=await this.exchangeCodeForSession(x);if(y)throw y;if(!g.session)throw new $5("No session detected.");let b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const r=qi("error_description");if(r){const x=qi("error_code");if(!x)throw new Hl("No error_code detected.");const g=qi("error");throw g?new Hl(r,{error:g,code:x}):new Hl("No error detected.")}const n=qi("provider_token"),a=qi("provider_refresh_token"),i=qi("access_token");if(!i)throw new Hl("No access_token detected.");const o=qi("expires_in");if(!o)throw new Hl("No expires_in detected.");const l=qi("refresh_token");if(!l)throw new Hl("No refresh_token detected.");const c=qi("token_type");if(!c)throw new Hl("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(o),{data:f,error:h}=await this.getUser(i);if(h)throw h;const p=f.user,v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:parseInt(o),expires_at:d,refresh_token:l,token_type:c,user:p},m=qi("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:v,redirectType:m},error:null}}catch(r){if(Rr(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){return Kl()&&(!!qi("access_token")||!!qi("error_description"))}async _isPKCEFlow(){const t=await S1(this.storage,`${this.storageKey}-code-verifier`);return!!qi("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(JZ(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await M5(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=$Z(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),this._emitInitialSession(r),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;if(this.flowType==="pkce"){const i=N1();await nm(this.storage,`${this.storageKey}-code-verifier`,i),n=await A1(i),a=i===n?"plain":"s256"}try{return await qr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Rr(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await VZ(async a=>(await zZ(a*200),this._debug(r,"refreshing attempt",a),await qr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qc})),(a,i,o)=>o&&o.error&&RP(o.error)&&Date.now()+(a+1)*200-n<C1)}catch(n){if(this._debug(r,"error",n),Rr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kl()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await S1(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<a+BP;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${BP}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),RP(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new eh;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ow;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new eh;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Rr(i)){const o={session:null,error:i};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),nm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await M5(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kl()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),C1);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/C1);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${C1}ms, refresh threshold is ${zP} ticks`),a<=zP&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kl()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const a=N1();await nm(this.storage,`${this.storageKey}-code-verifier`,a);const i=await A1(a),o=a===i?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",i,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);n.push(a.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await qr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:l,error:c}=await qr(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _verify(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await qr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _challenge(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await qr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}})}}Mg.nextInstanceID=0;class pee extends Mg{constructor(t){super(t)}}var mee=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const gee={headers:kZ},vee={schema:"public"},xee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yee={};class bee{constructor(t,r,n){var a,i,o,l,c,u,d,f;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=IZ(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:vee,realtime:yee,auth:Object.assign(Object.assign({},xee),{storageKey:p}),global:gee},m=MZ(n??{},v);this.storageKey=(i=(a=m.auth)===null||a===void 0?void 0:a.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(o=m.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,(u=m.global)===null||u===void 0?void 0:u.fetch),this.fetch=LZ(r,this._getAccessToken.bind(this),(d=m.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new ZQ(`${h}/rest/v1`,{headers:this.headers,schema:(f=m.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new TQ(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new CZ(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,r={},n){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return mee(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pee({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,debug:l,fetch:u})}_initRealtimeClient(t){return new pZ(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wee=(e,t,r)=>new bee(e,t,r),_ee="https://rfvgjyfrjawqpdpwicev.supabase.co",jee="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmdmdqeWZyamF3cXBkcHdpY2V2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMTM5OTUsImV4cCI6MjA4MDg4OTk5NX0.ORKsqnNyfOtU9T9u6YWmo4j1pldMAC_ZakMCRMCiVmo",Ne=wee(_ee,jee),See=1;let B5=0;function Nee(){return B5=(B5+1)%Number.MAX_VALUE,B5.toString()}const Ci={state:{toasts:[]},listeners:[],getState:()=>Ci.state,setState:e=>{typeof e=="function"?Ci.state=e(Ci.state):Ci.state={...Ci.state,...e},Ci.listeners.forEach(t=>t(Ci.state))},subscribe:e=>(Ci.listeners.push(e),()=>{Ci.listeners=Ci.listeners.filter(t=>t!==e)})},Aee=({...e})=>{const t=Nee(),r=a=>Ci.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===t?{...o,...a}:o)})),n=()=>Ci.setState(a=>({...a,toasts:a.toasts.filter(i=>i.id!==t)}));return Ci.setState(a=>({...a,toasts:[{...e,id:t,dismiss:n},...a.toasts].slice(0,See)})),{id:t,dismiss:n,update:r}};function Cr(){const[e,t]=O.useState(Ci.getState());return O.useEffect(()=>Ci.subscribe(n=>{t(n)}),[]),O.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const a=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(a)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:Aee,toasts:e.toasts}}const v$=O.createContext(void 0),Tee=({children:e})=>{const{toast:t}=Cr(),[r,n]=O.useState(null),[a,i]=O.useState(null),[o,l]=O.useState(null),[c,u]=O.useState(!0),d=async x=>{try{const{data:g,error:y}=await Ne.from("app_users").select("*").eq("id",x).maybeSingle();if(y)throw y;return g}catch(g){return console.error("Error fetching user profile:",g),null}},f=O.useCallback(async x=>{var y;l(x);const g=(x==null?void 0:x.user)??null;if(n(g),g){let b=await d(g.id);!b&&g.email==="3762437@gmail.com"?b={id:g.id,role:"principal",name:"System Admin"}:b||(b={id:g.id,role:"teacher",name:((y=g.user_metadata)==null?void 0:y.name)||"User"}),i(b)}else i(null);u(!1)},[]);O.useEffect(()=>{(async()=>{const{data:{session:y}}=await Ne.auth.getSession();await f(y)})();const{data:{subscription:g}}=Ne.auth.onAuthStateChange(async(y,b)=>{y==="SIGNED_OUT"?(i(null),n(null),l(null),u(!1)):(y==="SIGNED_IN"||y==="TOKEN_REFRESHED")&&await f(b)});return()=>g.unsubscribe()},[f]);const h=O.useCallback(async(x,g,y)=>{const{error:b}=await Ne.auth.signUp({email:x,password:g,options:y});return b&&t({variant:"destructive",title:"Sign up Failed",description:b.message}),{error:b}},[t]),p=O.useCallback(async(x,g)=>{const{error:y}=await Ne.auth.signInWithPassword({email:x,password:g});return y&&t({variant:"destructive",title:"Sign in Failed",description:y.message}),{error:y}},[t]),v=O.useCallback(async()=>{const{error:x}=await Ne.auth.signOut();return x&&t({variant:"destructive",title:"Sign out Failed",description:x.message}),{error:x}},[t]),m=O.useMemo(()=>({user:r,profile:a,session:o,loading:c,signUp:h,signIn:p,signOut:v}),[r,a,o,c,h,p,v]);return s.jsx(v$.Provider,{value:m,children:e})},lw=()=>{const e=O.useContext(v$);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Cee={nav:{overview:"Overview",students:"Students",issues:"Issues",calls:"Call Logs",meetings:"Meetings",calendar:"Calendar",reports:"Reports",templates:"Templates",timeslots:"Time Slots",bulkschedule:"Bulk Schedule",activity:"Activity Log",logout:"Logout",role:"Role",welcome:"Welcome"},overview:{title:"Control Center",subtitle:"School overview at a glance",totalStudents:"Total Students",openIssues:"Open Issues",pendingCalls:"Calls Pending",upcomingMeetings:"Upcoming Meetings",emergency:"Urgent! Past due meetings"},students:{title:"Student List",search:"Search students...",add:"Add Student",import:"Import from Excel",class:"Class",teacher:"Teacher",father:"Father",mother:"Mother",phone:"Phone",viewProfile:"View Full Profile",markAttendance:"Mark Attendance",sms:"Send SMS",selectAll:"Select All",status:{present:"Present",absent:"Absent",late:"Late",excused:"Excused"}},calls:{title:"Call Logs",add:"Log a Call",contact:"Contact Person",outcome:"Outcome",notes:"Notes",followUp:"Follow-up Date",status:"Status",completed:"Completed",pending:"Pending",search:"Search logs...",deleteConfirm:"Are you sure you want to delete this?"},issues:{title:"Issues / Problems",add:"Add Issue",description:"Description",priority:"Priority",status:"Status",priorities:{low:"Low",medium:"Medium",high:"High / Urgent"},statuses:{open:"Open",resolved:"Resolved"}},meetings:{title:"Meetings",add:"Schedule Meeting",calendarView:"Calendar View",listView:"List View",date:"Date",time:"Time",location:"Location",duration:"Duration (min)",with:"With"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",confirm:"Confirm",next:"Next",back:"Back",download:"Download",print:"Print"},forms:{selectStudent:"Select Student",enterDetails:"Enter Details",required:"Required Field",name:"Name",contactPerson:"Contact Person",relation:"Relation (Father/Mother/Other)"},profile:{tabs:{overview:"Overview",academic:"Academic",communication:"Communication",intervention:"Plans & Assessments"},father:"Father",contactInfo:"Contact Information",recentIssues:"Recent Issues",performance:"Performance",gradeHistory:"Grade History",newAssessment:"New Assessment"}},x$=O.createContext(),Eee=({children:e})=>{const t=n=>{const a=n.split(".");let i=Cee;for(const o of a)i=i==null?void 0:i[o];return i||n};return s.jsx(x$.Provider,{value:{t,isRTL:!1},children:s.jsx("div",{dir:"ltr",className:"font-sans",children:e})})},KT=()=>O.useContext(x$);function y$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=y$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ir(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=y$(e))&&(n&&(n+=" "),n+=t);return n}const YT="-",kee=e=>{const t=Oee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(YT);return l[0]===""&&l.length!==1&&l.shift(),b$(l,t)||Pee(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},b$=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?b$(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(YT);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},VP=/^\[(.+)\]$/,Pee=e=>{if(VP.test(e)){const t=VP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Oee=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Dee(Object.entries(e.classGroups),r).forEach(([i,o])=>{vN(o,n,i,t)}),n},vN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:HP(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Fee(a)){vN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{vN(o,HP(t,i),r,n)})})},HP=(e,t)=>{let r=e;return t.split(YT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Fee=e=>e.isThemeGetter,Dee=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Lee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},w$="!",Iee=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===a&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(g==="/"){f=x;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(w$),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},Mee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Ree=e=>({cache:Lee(e.cacheSize),parseClassName:Iee(e),...kee(e)}),$ee=/\s+/,Bee=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split($ee);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=Mee(d).join(":"),g=f?x+w$:x,y=g+m;if(i.includes(y))continue;i.push(y);const b=a(m,v);for(let S=0;S<b.length;++S){const _=b[S];i.push(g+_)}l=u+(l.length>0?" "+l:l)}return l};function Uee(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_$(t))&&(n&&(n+=" "),n+=r);return n}const _$=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_$(e[n]))&&(r&&(r+=" "),r+=t);return r};function zee(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Ree(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Bee(c,r);return a(c,d),d}return function(){return i(Uee.apply(null,arguments))}}const xn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},j$=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vee=/^\d+\/\d+$/,Hee=new Set(["px","full","screen"]),Wee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wl=e=>Hh(e)||Hee.has(e)||Vee.test(e),Gc=e=>K0(e,"length",nte),Hh=e=>!!e&&!Number.isNaN(Number(e)),U5=e=>K0(e,"number",Hh),am=e=>!!e&&Number.isInteger(Number(e)),Xee=e=>e.endsWith("%")&&Hh(e.slice(0,-1)),vr=e=>j$.test(e),Kc=e=>Wee.test(e),Jee=new Set(["length","size","percentage"]),Qee=e=>K0(e,Jee,S$),Zee=e=>K0(e,"position",S$),ete=new Set(["image","url"]),tte=e=>K0(e,ete,ite),rte=e=>K0(e,"",ate),im=()=>!0,K0=(e,t,r)=>{const n=j$.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},nte=e=>qee.test(e)&&!Gee.test(e),S$=()=>!1,ate=e=>Kee.test(e),ite=e=>Yee.test(e),ste=()=>{const e=xn("colors"),t=xn("spacing"),r=xn("blur"),n=xn("brightness"),a=xn("borderColor"),i=xn("borderRadius"),o=xn("borderSpacing"),l=xn("borderWidth"),c=xn("contrast"),u=xn("grayscale"),d=xn("hueRotate"),f=xn("invert"),h=xn("gap"),p=xn("gradientColorStops"),v=xn("gradientColorStopPositions"),m=xn("inset"),x=xn("margin"),g=xn("opacity"),y=xn("padding"),b=xn("saturate"),S=xn("scale"),_=xn("sepia"),N=xn("skew"),j=xn("space"),A=xn("translate"),P=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",vr,t],k=()=>[vr,t],U=()=>["",Wl,Gc],D=()=>["auto",Hh,vr],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",vr],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Hh,vr];return{cacheSize:500,separator:":",theme:{colors:[im],spacing:[Wl,Gc],blur:["none","",Kc,vr],brightness:J(),borderColor:[e],borderRadius:["none","","full",Kc,vr],borderSpacing:k(),borderWidth:U(),contrast:J(),grayscale:F(),hueRotate:J(),invert:F(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[Xee,Gc],inset:C(),margin:C(),opacity:J(),padding:k(),saturate:J(),scale:J(),sepia:F(),skew:J(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",vr]}],container:["container"],columns:[{columns:[Kc]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),vr]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",am,vr]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",vr]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",am,vr]}],"grid-cols":[{"grid-cols":[im]}],"col-start-end":[{col:["auto",{span:["full",am,vr]},vr]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[im]}],"row-start-end":[{row:["auto",{span:[am,vr]},vr]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",vr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",vr]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",vr,t]}],"min-w":[{"min-w":[vr,t,"min","max","fit"]}],"max-w":[{"max-w":[vr,t,"none","full","min","max","fit","prose",{screen:[Kc]},Kc]}],h:[{h:[vr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[vr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[vr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[vr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Kc,Gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",U5]}],"font-family":[{font:[im]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",vr]}],"line-clamp":[{"line-clamp":["none",Hh,U5]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wl,vr]}],"list-image":[{"list-image":["none",vr]}],"list-style-type":[{list:["none","disc","decimal",vr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wl,Gc]}],"underline-offset":[{"underline-offset":["auto",Wl,vr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),Zee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Qee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tte]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Wl,vr]}],"outline-w":[{outline:[Wl,Gc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Wl,Gc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Kc,rte]}],"shadow-color":[{shadow:[im]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Kc,vr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",vr]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",vr]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",vr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[am,vr]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",vr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wl,Gc,U5]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ote=zee(ste);function yr(...e){return ote(Ir(e))}function cr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function WP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function N$(...e){return t=>{let r=!1;const n=e.map(a=>{const i=WP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():WP(e[a],null)}}}}function kn(...e){return O.useCallback(N$(...e),e)}function lte(e,t){const r=O.createContext(t),n=i=>{const{children:o,...l}=i,c=O.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=O.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function vf(e,t=[]){let r=[];function n(i,o){const l=O.createContext(o),c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...v}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=O.useMemo(()=>v,Object.values(v));return s.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,v=O.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>O.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return O.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,cte(a,...t)]}function cte(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ef=O.forwardRef((e,t)=>{const{children:r,...n}=e,a=O.Children.toArray(r),i=a.find(dte);if(i){const o=i.props.children,l=a.map(c=>c===i?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:c);return s.jsx(xN,{...n,ref:t,children:O.isValidElement(o)?O.cloneElement(o,void 0,l):null})}return s.jsx(xN,{...n,ref:t,children:r})});ef.displayName="Slot";var xN=O.forwardRef((e,t)=>{const{children:r,...n}=e;if(O.isValidElement(r)){const a=hte(r);return O.cloneElement(r,{...fte(n,r.props),ref:t?N$(t,a):a})}return O.Children.count(r)>1?O.Children.only(null):null});xN.displayName="SlotClone";var ute=({children:e})=>s.jsx(s.Fragment,{children:e});function dte(e){return O.isValidElement(e)&&e.type===ute}function fte(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function hte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function XT(e){const t=e+"CollectionProvider",[r,n]=vf(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:m}=p,x=Ae.useRef(null),g=Ae.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:g,collectionRef:x,children:m})};o.displayName=t;const l=e+"CollectionSlot",c=Ae.forwardRef((p,v)=>{const{scope:m,children:x}=p,g=i(l,m),y=kn(v,g.collectionRef);return s.jsx(ef,{ref:y,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=Ae.forwardRef((p,v)=>{const{scope:m,children:x,...g}=p,y=Ae.useRef(null),b=kn(v,y),S=i(u,m);return Ae.useEffect(()=>(S.itemMap.set(y,{ref:y,...g}),()=>void S.itemMap.delete(y))),s.jsx(ef,{[d]:"",ref:b,children:x})});f.displayName=u;function h(p){const v=i(e+"CollectionConsumer",p);return Ae.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const g=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((S,_)=>g.indexOf(S.ref.current)-g.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}var pte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_r=pte.reduce((e,t)=>{const r=O.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?ef:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function A$(e,t){e&&mf.flushSync(()=>e.dispatchEvent(t))}function ns(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function mte(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e);O.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var gte="DismissableLayer",yN="dismissableLayer.update",vte="dismissableLayer.pointerDownOutside",xte="dismissableLayer.focusOutside",qP,T$=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cw=O.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=O.useContext(T$),[d,f]=O.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=O.useState({}),v=kn(t,j=>f(j)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=g,_=bte(j=>{const A=j.target,P=[...u.branches].some(H=>H.contains(A));!S||P||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},h),N=wte(j=>{const A=j.target;[...u.branches].some(H=>H.contains(A))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},h);return mte(j=>{y===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),O.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),GP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qP)}},[d,h,r,u]),O.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),GP())},[d,u]),O.useEffect(()=>{const j=()=>p({});return document.addEventListener(yN,j),()=>document.removeEventListener(yN,j)},[]),s.jsx(_r.div,{...c,ref:v,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:cr(e.onFocusCapture,N.onFocusCapture),onBlurCapture:cr(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:cr(e.onPointerDownCapture,_.onPointerDownCapture)})});cw.displayName=gte;var yte="DismissableLayerBranch",C$=O.forwardRef((e,t)=>{const r=O.useContext(T$),n=O.useRef(null),a=kn(t,n);return O.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(_r.div,{...e,ref:a})});C$.displayName=yte;function bte(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e),n=O.useRef(!1),a=O.useRef(()=>{});return O.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){E$(vte,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wte(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e),n=O.useRef(!1);return O.useEffect(()=>{const a=i=>{i.target&&!n.current&&E$(xte,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function GP(){const e=new CustomEvent(yN);document.dispatchEvent(e)}function E$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?A$(a,i):a.dispatchEvent(i)}var _te=cw,jte=C$,wi=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},Ste="Portal",uw=O.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=O.useState(!1);wi(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?NJ.createPortal(s.jsx(_r.div,{...n,ref:t}),o):null});uw.displayName=Ste;function Nte(e,t){return O.useReducer((r,n)=>t[r][n]??r,e)}var Y0=e=>{const{present:t,children:r}=e,n=Ate(t),a=typeof r=="function"?r({present:n.isPresent}):O.Children.only(r),i=kn(n.ref,Tte(a));return typeof r=="function"||n.isPresent?O.cloneElement(a,{ref:i}):null};Y0.displayName="Presence";function Ate(e){const[t,r]=O.useState(),n=O.useRef({}),a=O.useRef(e),i=O.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Nte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const u=E1(n.current);i.current=l==="mounted"?u:"none"},[l]),wi(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=E1(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),wi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=E1(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=E1(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:O.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function E1(e){return(e==null?void 0:e.animationName)||"none"}function Tte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function u0({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Cte({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=ns(r),c=O.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function Cte({defaultProp:e,onChange:t}){const r=O.useState(e),[n]=r,a=O.useRef(n),i=ns(t);return O.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var Ete="VisuallyHidden",dw=O.forwardRef((e,t)=>s.jsx(_r.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));dw.displayName=Ete;var JT="ToastProvider",[QT,kte,Pte]=XT("Toast"),[k$,a9e]=vf("Toast",[Pte]),[Ote,fw]=k$(JT),P$=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=O.useState(null),[u,d]=O.useState(0),f=O.useRef(!1),h=O.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${JT}\`. Expected non-empty \`string\`.`),s.jsx(QT.Provider,{scope:t,children:s.jsx(Ote,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:O.useCallback(()=>d(p=>p+1),[]),onToastRemove:O.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};P$.displayName=JT;var O$="ToastViewport",Fte=["F8"],bN="toast.viewportPause",wN="toast.viewportResume",F$=O.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Fte,label:a="Notifications ({hotkey})",...i}=e,o=fw(O$,r),l=kte(r),c=O.useRef(null),u=O.useRef(null),d=O.useRef(null),f=O.useRef(null),h=kn(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;O.useEffect(()=>{const x=g=>{var b;n.length!==0&&n.every(S=>g[S]||g.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),O.useEffect(()=>{const x=c.current,g=f.current;if(v&&x&&g){const y=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(bN);g.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(wN);g.dispatchEvent(N),o.isClosePausedRef.current=!1}},S=N=>{!x.contains(N.relatedTarget)&&b()},_=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",S),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[v,o.isClosePausedRef]);const m=O.useCallback(({tabbingDirection:x})=>{const y=l().map(b=>{const S=b.ref.current,_=[S,...qte(S)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return O.useEffect(()=>{const x=f.current;if(x){const g=y=>{var _,N,j;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const A=document.activeElement,P=y.shiftKey;if(y.target===x&&P){(_=u.current)==null||_.focus();return}const k=m({tabbingDirection:P?"backwards":"forwards"}),U=k.findIndex(D=>D===A);z5(k.slice(U+1))?y.preventDefault():P?(N=u.current)==null||N.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[l,m]),s.jsxs(jte,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(_N,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});z5(x)}}),s.jsx(QT.Slot,{scope:r,children:s.jsx(_r.ol,{tabIndex:-1,...i,ref:h})}),v&&s.jsx(_N,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});z5(x)}})]})});F$.displayName=O$;var D$="ToastFocusProxy",_N=O.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=fw(D$,r);return s.jsx(dw,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});_N.displayName=D$;var hw="Toast",Dte="toast.swipeStart",Lte="toast.swipeMove",Ite="toast.swipeCancel",Mte="toast.swipeEnd",L$=O.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=u0({prop:n,defaultProp:a,onChange:i});return s.jsx(Y0,{present:r||l,children:s.jsx(Bte,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ns(e.onPause),onResume:ns(e.onResume),onSwipeStart:cr(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:cr(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:cr(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:cr(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});L$.displayName=hw;var[Rte,$te]=k$(hw,{onClose(){}}),Bte=O.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=e,m=fw(hw,r),[x,g]=O.useState(null),y=kn(t,D=>g(D)),b=O.useRef(null),S=O.useRef(null),_=a||m.duration,N=O.useRef(0),j=O.useRef(_),A=O.useRef(0),{onToastAdd:P,onToastRemove:H}=m,C=ns(()=>{var M;(x==null?void 0:x.contains(document.activeElement))&&((M=m.viewport)==null||M.focus()),o()}),k=O.useCallback(D=>{!D||D===1/0||(window.clearTimeout(A.current),N.current=new Date().getTime(),A.current=window.setTimeout(C,D))},[C]);O.useEffect(()=>{const D=m.viewport;if(D){const M=()=>{k(j.current),u==null||u()},B=()=>{const I=new Date().getTime()-N.current;j.current=j.current-I,window.clearTimeout(A.current),c==null||c()};return D.addEventListener(bN,B),D.addEventListener(wN,M),()=>{D.removeEventListener(bN,B),D.removeEventListener(wN,M)}}},[m.viewport,_,c,u,k]),O.useEffect(()=>{i&&!m.isClosePausedRef.current&&k(_)},[i,_,m.isClosePausedRef,k]),O.useEffect(()=>(P(),()=>H()),[P,H]);const U=O.useMemo(()=>x?z$(x):null,[x]);return m.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(Ute,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),s.jsx(Rte,{scope:r,onClose:C,children:mf.createPortal(s.jsx(QT.ItemSlot,{scope:r,children:s.jsx(_te,{asChild:!0,onEscapeKeyDown:cr(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(_r.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:cr(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:cr(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:cr(e.onPointerMove,D=>{if(!b.current)return;const M=D.clientX-b.current.x,B=D.clientY-b.current.y,I=!!S.current,q=["left","right"].includes(m.swipeDirection),F=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,z=q?F(0,M):0,J=q?0:F(0,B),E=D.pointerType==="touch"?10:2,V={x:z,y:J},K={originalEvent:D,delta:V};I?(S.current=V,k1(Lte,f,K,{discrete:!1})):KP(V,m.swipeDirection,E)?(S.current=V,k1(Dte,d,K,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(M)>E||Math.abs(B)>E)&&(b.current=null)}),onPointerUp:cr(e.onPointerUp,D=>{const M=S.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),S.current=null,b.current=null,M){const I=D.currentTarget,q={originalEvent:D,delta:M};KP(M,m.swipeDirection,m.swipeThreshold)?k1(Mte,p,q,{discrete:!0}):k1(Ite,h,q,{discrete:!0}),I.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Ute=e=>{const{__scopeToast:t,children:r,...n}=e,a=fw(hw,t),[i,o]=O.useState(!1),[l,c]=O.useState(!1);return Hte(()=>o(!0)),O.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(uw,{asChild:!0,children:s.jsx(dw,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},zte="ToastTitle",I$=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(_r.div,{...n,ref:t})});I$.displayName=zte;var Vte="ToastDescription",M$=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(_r.div,{...n,ref:t})});M$.displayName=Vte;var R$="ToastAction",$$=O.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(U$,{altText:r,asChild:!0,children:s.jsx(ZT,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${R$}\`. Expected non-empty \`string\`.`),null)});$$.displayName=R$;var B$="ToastClose",ZT=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=$te(B$,r);return s.jsx(U$,{asChild:!0,children:s.jsx(_r.button,{type:"button",...n,ref:t,onClick:cr(e.onClick,a.onClose)})})});ZT.displayName=B$;var U$=O.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(_r.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function z$(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Wte(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...z$(n))}}),t}function k1(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?A$(a,i):a.dispatchEvent(i)}var KP=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Hte(e=()=>{}){const t=ns(e);wi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Wte(e){return e.nodeType===e.ELEMENT_NODE}function qte(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function z5(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Gte=P$,V$=F$,H$=L$,W$=I$,q$=M$,G$=$$,K$=ZT;const YP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,XP=Ir,eC=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return XP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=YP(d)||YP(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,x]=v;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,f,h]:u},[]);return XP(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>O.createElement("svg",{ref:c,...Yte,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Y$("lucide",a),...l},[...o.map(([u,d])=>O.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(e,t)=>{const r=O.forwardRef(({className:n,...a},i)=>O.createElement(Xte,{ref:i,iconNode:t,className:Y$(`lucide-${Kte(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=At("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=At("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=At("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=At("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=At("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=At("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=At("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=At("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=At("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=At("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=At("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=At("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=At("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=At("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=At("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=At("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=At("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=At("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=At("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=At("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=At("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=At("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=At("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=At("Contact",[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=At("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=At("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=At("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=At("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=At("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=At("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=At("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=At("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=At("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=At("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=At("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=At("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=At("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=At("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=At("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=At("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=At("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=At("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=At("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=At("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=At("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=At("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=At("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=At("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=At("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=At("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=At("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=At("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=At("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=At("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=At("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=At("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=At("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=At("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=At("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=At("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=At("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=At("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=At("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=At("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=At("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=At("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=At("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=At("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=At("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=At("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=At("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=At("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=At("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=At("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=At("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=At("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=At("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=At("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=At("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sre=Gte,nB=Ae.forwardRef(({className:e,...t},r)=>s.jsx(V$,{ref:r,className:yr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));nB.displayName=V$.displayName;const Nre=eC("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aB=Ae.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(H$,{ref:n,className:yr(Nre({variant:t}),e),...r}));aB.displayName=H$.displayName;const Are=Ae.forwardRef(({className:e,...t},r)=>s.jsx(G$,{ref:r,className:yr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Are.displayName=G$.displayName;const iB=Ae.forwardRef(({className:e,...t},r)=>s.jsx(K$,{ref:r,className:yr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(X0,{className:"h-4 w-4"})}));iB.displayName=K$.displayName;const sB=Ae.forwardRef(({className:e,...t},r)=>s.jsx(W$,{ref:r,className:yr("text-sm font-semibold",e),...t}));sB.displayName=W$.displayName;const oB=Ae.forwardRef(({className:e,...t},r)=>s.jsx(q$,{ref:r,className:yr("text-sm opacity-90",e),...t}));oB.displayName=q$.displayName;function Tre(){const{toasts:e}=Cr();return s.jsxs(Sre,{children:[e.map(({id:t,title:r,description:n,action:a,...i})=>s.jsxs(aB,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(sB,{children:r}),n&&s.jsx(oB,{children:n})]}),a,s.jsx(iB,{})]},t)),s.jsx(nB,{})]})}function Cre(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function mw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const AN=e=>Array.isArray(e);function lB(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function $g(e){return typeof e=="string"||Array.isArray(e)}function aO(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function sC(e,t,r,n){if(typeof t=="function"){const[a,i]=aO(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=aO(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function gw(e,t,r){const n=e.getProps();return sC(n,t,r!==void 0?r:n.custom,e)}const oC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lC=["initial",...oC],Gv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xf=new Set(Gv),sc=e=>e*1e3,oc=e=>e/1e3,Ere={type:"spring",stiffness:500,damping:25,restSpeed:10},kre=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Pre={type:"keyframes",duration:.8},Ore={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fre=(e,{keyframes:t})=>t.length>2?Pre:xf.has(e)?e.startsWith("scale")?kre(t[1]):Ere:Ore;function cC(e,t){return e?e[t]||e.default||e:void 0}const Dre={skipAnimations:!1,useManualTiming:!1},Lre=e=>e!==null;function vw(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Lre),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Ns=e=>e;let cB=Ns;function Ire(e){let t=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&n?t:r;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){a=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,a&&(a=!1,c.process(u))}};return c}const P1=["read","resolveKeyframes","update","preRender","render","postRender"],Mre=40;function uB(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=P1.reduce((g,y)=>(g[y]=Ire(i),g),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const g=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(g-a.timestamp,Mre),1),a.timestamp=g,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(p))},v=()=>{r=!0,n=!0,a.isProcessing||e(p)};return{schedule:P1.reduce((g,y)=>{const b=o[y];return g[y]=(S,_=!1,N=!1)=>(r||v(),b.schedule(S,_,N)),g},{}),cancel:g=>{for(let y=0;y<P1.length;y++)o[P1[y]].cancel(g)},state:a,steps:o}}const{schedule:Sn,cancel:Fu,state:Wa,steps:H5}=uB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ns,!0),dB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Rre=1e-7,$re=12;function Bre(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=dB(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>Rre&&++l<$re);return o}function Kv(e,t,r,n){if(e===t&&r===n)return Ns;const a=i=>Bre(i,0,1,e,r);return i=>i===0||i===1?i:dB(a(i),t,n)}const fB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hB=e=>t=>1-e(1-t),pB=Kv(.33,1.53,.69,.99),uC=hB(pB),mB=fB(uC),gB=e=>(e*=2)<1?.5*uC(e):.5*(2-Math.pow(2,-10*(e-1))),dC=e=>1-Math.sin(Math.acos(e)),vB=hB(dC),xB=fB(dC),yB=e=>/^0[^.\s]+$/u.test(e);function Ure(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||yB(e):!0}const bB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),wB=e=>t=>typeof t=="string"&&t.startsWith(e),_B=wB("--"),zre=wB("var(--"),fC=e=>zre(e)?Vre.test(e.split("/*")[0].trim()):!1,Vre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hre=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wre(e){const t=Hre.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function jB(e,t,r=1){const[n,a]=Wre(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return bB(o)?parseFloat(o):o}return fC(a)?jB(a,t,r+1):a}const yc=(e,t,r)=>r>t?t:r<e?e:r,J0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bg={...J0,transform:e=>yc(0,1,e)},O1={...J0,default:1},Yv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),eu=Yv("deg"),xl=Yv("%"),Yt=Yv("px"),qre=Yv("vh"),Gre=Yv("vw"),iO={...xl,parse:e=>xl.parse(e)/100,transform:e=>xl.transform(e*100)},Kre=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),sO=e=>e===J0||e===Yt,oO=(e,t)=>parseFloat(e.split(", ")[t]),lO=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return oO(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?oO(i[1],e):0}},Yre=new Set(["x","y","z"]),Xre=Gv.filter(e=>!Yre.has(e));function Jre(e){const t=[];return Xre.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const p0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lO(4,13),y:lO(5,14)};p0.translateX=p0.x;p0.translateY=p0.y;const SB=e=>t=>t.test(e),Qre={test:e=>e==="auto",parse:e=>e},NB=[J0,Yt,xl,eu,Gre,qre,Qre],cO=e=>NB.find(SB(e)),Bd=new Set;let TN=!1,CN=!1;function AB(){if(CN){const e=Array.from(Bd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Jre(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}CN=!1,TN=!1,Bd.forEach(e=>e.complete()),Bd.clear()}function TB(){Bd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(CN=!0)})}function Zre(){TB(),AB()}class hC{constructor(t,r,n,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bd.add(this),TN||(TN=!0,Sn.read(TB),Sn.resolveKeyframes(AB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Xm=e=>Math.round(e*1e5)/1e5,pC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ene(e){return e==null}const tne=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mC=(e,t)=>r=>!!(typeof r=="string"&&tne.test(r)&&r.startsWith(e)||t&&!ene(r)&&Object.prototype.hasOwnProperty.call(r,t)),CB=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(pC);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},rne=e=>yc(0,255,e),W5={...J0,transform:e=>Math.round(rne(e))},kd={test:mC("rgb","red"),parse:CB("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+W5.transform(e)+", "+W5.transform(t)+", "+W5.transform(r)+", "+Xm(Bg.transform(n))+")"};function nne(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const EN={test:mC("#"),parse:nne,transform:kd.transform},Th={test:mC("hsl","hue"),parse:CB("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+xl.transform(Xm(t))+", "+xl.transform(Xm(r))+", "+Xm(Bg.transform(n))+")"},li={test:e=>kd.test(e)||EN.test(e)||Th.test(e),parse:e=>kd.test(e)?kd.parse(e):Th.test(e)?Th.parse(e):EN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?kd.transform(e):Th.transform(e)},ane=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ine(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(pC))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(ane))===null||r===void 0?void 0:r.length)||0)>0}const EB="number",kB="color",sne="var",one="var(",uO="${}",lne=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ug(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(lne,c=>(li.test(c)?(n.color.push(i),a.push(kB),r.push(li.parse(c))):c.startsWith(one)?(n.var.push(i),a.push(sne),r.push(c)):(n.number.push(i),a.push(EB),r.push(parseFloat(c))),++i,uO)).split(uO);return{values:r,split:l,indexes:n,types:a}}function PB(e){return Ug(e).values}function OB(e){const{split:t,types:r}=Ug(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===EB?i+=Xm(a[o]):l===kB?i+=li.transform(a[o]):i+=a[o]}return i}}const cne=e=>typeof e=="number"?0:e;function une(e){const t=PB(e);return OB(e)(t.map(cne))}const Du={test:ine,parse:PB,createTransformer:OB,getAnimatableNone:une},dne=new Set(["brightness","contrast","saturate","opacity"]);function fne(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(pC)||[];if(!n)return e;const a=r.replace(n,"");let i=dne.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const hne=/\b([a-z-]*)\(.*?\)/gu,kN={...Du,getAnimatableNone:e=>{const t=e.match(hne);return t?t.map(fne).join(" "):e}},pne={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,backgroundPositionX:Yt,backgroundPositionY:Yt},mne={rotate:eu,rotateX:eu,rotateY:eu,rotateZ:eu,scale:O1,scaleX:O1,scaleY:O1,scaleZ:O1,skew:eu,skewX:eu,skewY:eu,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:Bg,originX:iO,originY:iO,originZ:Yt},dO={...J0,transform:Math.round},gC={...pne,...mne,zIndex:dO,size:Yt,fillOpacity:Bg,strokeOpacity:Bg,numOctaves:dO},gne={...gC,color:li,backgroundColor:li,outlineColor:li,fill:li,stroke:li,borderColor:li,borderTopColor:li,borderRightColor:li,borderBottomColor:li,borderLeftColor:li,filter:kN,WebkitFilter:kN},vC=e=>gne[e];function FB(e,t){let r=vC(e);return r!==kN&&(r=Du),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const vne=new Set(["auto","none","0"]);function xne(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!vne.has(i)&&Ug(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=FB(r,a)}class DB extends hC{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),fC(u))){const d=jB(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Kre.has(n)||t.length!==2)return;const[a,i]=t,o=cO(a),l=cO(i);if(o!==l)if(sO(o)&&sO(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)Ure(t[a])&&n.push(a);n.length&&xne(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=p0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=p0[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function xC(e){return typeof e=="function"}let Iy;function yne(){Iy=void 0}const yl={now:()=>(Iy===void 0&&yl.set(Wa.isProcessing||Dre.useManualTiming?Wa.timestamp:performance.now()),Iy),set:e=>{Iy=e,queueMicrotask(yne)}},fO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Du.test(e)||e==="0")&&!e.startsWith("url("));function bne(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function wne(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=fO(a,t),l=fO(i,t);return!o||!l?!1:bne(e)||(r==="spring"||xC(r))&&n}const _ne=40;class LB{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yl.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_ne?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Zre(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=yl.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!wne(t,n,a,i))if(o)this.options.duration=0;else{c==null||c(vw(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const m0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},IB=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(m0(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function MB(e,t){return t?e*(1e3/t):0}const jne=5;function RB(e,t,r){const n=Math.max(t-jne,0);return MB(r-e(n),t-n)}const zn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},q5=.001;function Sne({duration:e=zn.duration,bounce:t=zn.bounce,velocity:r=zn.velocity,mass:n=zn.mass}){let a,i,o=1-t;o=yc(zn.minDamping,zn.maxDamping,o),e=yc(zn.minDuration,zn.maxDuration,oc(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-r,p=PN(u,o),v=Math.exp(-f);return q5-h/p*v},i=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-f),m=PN(Math.pow(u,2),o);return(-a(u)+q5>0?-1:1)*((h-p)*v)/m}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-q5+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=Ane(a,i,l);if(e=sc(e),isNaN(c))return{stiffness:zn.stiffness,damping:zn.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const Nne=12;function Ane(e,t,r){let n=r;for(let a=1;a<Nne;a++)n=n-e(n)/t(n);return n}function PN(e,t){return e*Math.sqrt(1-t*t)}const ON=2e4;function $B(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ON;)t+=r,n=e.next(t);return t>=ON?1/0:t}const Tne=["duration","bounce"],Cne=["stiffness","damping","mass"];function hO(e,t){return t.some(r=>e[r]!==void 0)}function Ene(e){let t={velocity:zn.velocity,stiffness:zn.stiffness,damping:zn.damping,mass:zn.mass,isResolvedFromDuration:!1,...e};if(!hO(e,Cne)&&hO(e,Tne))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*yc(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:zn.mass,stiffness:a,damping:i}}else{const r=Sne(e);t={...t,...r,mass:zn.mass},t.isResolvedFromDuration=!0}return t}function BB(e=zn.visualDuration,t=zn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=Ene({...r,velocity:-oc(r.velocity||0)}),v=h||0,m=u/(2*Math.sqrt(c*d)),x=o-i,g=oc(Math.sqrt(c/d)),y=Math.abs(x)<5;n||(n=y?zn.restSpeed.granular:zn.restSpeed.default),a||(a=y?zn.restDelta.granular:zn.restDelta.default);let b;if(m<1){const _=PN(g,m);b=N=>{const j=Math.exp(-m*g*N);return o-j*((v+m*g*x)/_*Math.sin(_*N)+x*Math.cos(_*N))}}else if(m===1)b=_=>o-Math.exp(-g*_)*(x+(v+g*x)*_);else{const _=g*Math.sqrt(m*m-1);b=N=>{const j=Math.exp(-m*g*N),A=Math.min(_*N,300);return o-j*((v+m*g*x)*Math.sinh(A)+_*x*Math.cosh(A))/_}}const S={calculatedDuration:p&&f||null,next:_=>{const N=b(_);if(p)l.done=_>=f;else{let j=0;m<1&&(j=_===0?sc(v):RB(b,_,N));const A=Math.abs(j)<=n,P=Math.abs(o-N)<=a;l.done=A&&P}return l.value=l.done?o:N,l},toString:()=>{const _=Math.min($B(S),ON),N=IB(j=>S.next(_*j).value,_,30);return _+"ms "+N}};return S}function pO({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=A=>l!==void 0&&A<l||c!==void 0&&A>c,v=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let m=r*t;const x=f+m,g=o===void 0?x:o(x);g!==x&&(m=g-f);const y=A=>-m*Math.exp(-A/n),b=A=>g+y(A),S=A=>{const P=y(A),H=b(A);h.done=Math.abs(P)<=u,h.value=h.done?g:H};let _,N;const j=A=>{p(h.value)&&(_=A,N=BB({keyframes:[h.value,v(h.value)],velocity:RB(b,A,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:A=>{let P=!1;return!N&&_===void 0&&(P=!0,S(A),j(A)),_!==void 0&&A>=_?N.next(A-_):(!P&&S(A),h)}}}const kne=Kv(.42,0,1,1),Pne=Kv(0,0,.58,1),UB=Kv(.42,0,.58,1),One=e=>Array.isArray(e)&&typeof e[0]!="number",yC=e=>Array.isArray(e)&&typeof e[0]=="number",Fne={linear:Ns,easeIn:kne,easeInOut:UB,easeOut:Pne,circIn:dC,circInOut:xB,circOut:vB,backIn:uC,backInOut:mB,backOut:pB,anticipate:gB},mO=e=>{if(yC(e)){cB(e.length===4);const[t,r,n,a]=e;return Kv(t,r,n,a)}else if(typeof e=="string")return Fne[e];return e},Dne=(e,t)=>r=>t(e(r)),Xv=(...e)=>e.reduce(Dne),Dn=(e,t,r)=>e+(t-e)*r;function G5(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Lne({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=G5(c,l,e+1/3),i=G5(c,l,e),o=G5(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function p2(e,t){return r=>r>0?t:e}const K5=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Ine=[EN,kd,Th],Mne=e=>Ine.find(t=>t.test(e));function gO(e){const t=Mne(e);if(!t)return!1;let r=t.parse(e);return t===Th&&(r=Lne(r)),r}const vO=(e,t)=>{const r=gO(e),n=gO(t);if(!r||!n)return p2(e,t);const a={...r};return i=>(a.red=K5(r.red,n.red,i),a.green=K5(r.green,n.green,i),a.blue=K5(r.blue,n.blue,i),a.alpha=Dn(r.alpha,n.alpha,i),kd.transform(a))},FN=new Set(["none","hidden"]);function Rne(e,t){return FN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function $ne(e,t){return r=>Dn(e,t,r)}function bC(e){return typeof e=="number"?$ne:typeof e=="string"?fC(e)?p2:li.test(e)?vO:zne:Array.isArray(e)?zB:typeof e=="object"?li.test(e)?vO:Bne:p2}function zB(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>bC(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function Bne(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=bC(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Une(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,a[o]++}return n}const zne=(e,t)=>{const r=Du.createTransformer(t),n=Ug(e),a=Ug(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?FN.has(e)&&!a.values.length||FN.has(t)&&!n.values.length?Rne(e,t):Xv(zB(Une(n,a),a.values),r):p2(e,t)};function VB(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Dn(e,t,r):bC(e)(e,t)}function Vne(e,t,r){const n=[],a=r||VB,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ns:t;l=Xv(c,l)}n.push(l)}return n}function Hne(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(cB(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Vne(t,n,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=m0(e[d],e[d+1],u);return o[d](f)};return r?u=>c(yc(e[0],e[i-1],u)):c}function Wne(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=m0(0,t,n);e.push(Dn(r,1,a))}}function qne(e){const t=[0];return Wne(t,e.length-1),t}function Gne(e,t){return e.map(r=>r*t)}function Kne(e,t){return e.map(()=>t||UB).splice(0,e.length-1)}function m2({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=One(n)?n.map(mO):mO(n),i={done:!1,value:t[0]},o=Gne(r&&r.length===t.length?r:qne(t),e),l=Hne(o,t,{ease:Array.isArray(a)?a:Kne(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Yne=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Sn.update(t,!0),stop:()=>Fu(t),now:()=>Wa.isProcessing?Wa.timestamp:yl.now()}},Xne={decay:pO,inertia:pO,tween:m2,keyframes:m2,spring:BB},Jne=e=>e/100;class wC extends LB{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||hC,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=xC(r)?r:Xne[r]||m2;let c,u;l!==m2&&typeof t[0]!="number"&&(c=Xv(Jne,VB(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=$B(d));const{calculatedDuration:f}=d,h=f+a,p=h*(n+1)-a;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:v,repeatDelay:m,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,S=i;if(p){const A=Math.min(this.currentTime,d)/f;let P=Math.floor(A),H=A%1;!H&&A>=1&&(H=1),H===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(v==="reverse"?(H=1-H,m&&(H-=m/f)):v==="mirror"&&(S=o)),b=yc(0,1,H)*f}const _=y?{done:!1,value:c[0]}:S.next(b);l&&(_.value=l(_.value));let{done:N}=_;!y&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return j&&a!==void 0&&(_.value=vw(c,this.options,a)),x&&x(_.value),j&&this.finish(),_}get duration(){const{resolved:t}=this;return t?oc(t.calculatedDuration):0}get time(){return oc(this.currentTime)}set time(t){t=sc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=oc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Yne,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Qne=new Set(["opacity","clipPath","filter","transform"]);function _C(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zne={linearEasing:void 0};function eae(e,t){const r=_C(e);return()=>{var n;return(n=Zne[t])!==null&&n!==void 0?n:r()}}const g2=eae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function HB(e){return!!(typeof e=="function"&&g2()||!e||typeof e=="string"&&(e in DN||g2())||yC(e)||Array.isArray(e)&&e.every(HB))}const Em=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,DN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Em([0,.65,.55,1]),circOut:Em([.55,0,1,.45]),backIn:Em([.31,.01,.66,-.59]),backOut:Em([.33,1.53,.69,.99])};function WB(e,t){if(e)return typeof e=="function"&&g2()?IB(e,t):yC(e)?Em(e):Array.isArray(e)?e.map(r=>WB(r,t)||DN.easeOut):DN[e]}function tae(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=WB(l,a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function xO(e,t){e.timeline=t,e.onfinish=null}const rae=_C(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),v2=10,nae=2e4;function aae(e){return xC(e.type)||e.type==="spring"||!HB(e.ease)}function iae(e,t){const r=new wC({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<nae;)n=r.sample(i),a.push(n.value),i+=v2;return{times:void 0,keyframes:a,duration:i-v2,ease:"linear"}}const qB={anticipate:gB,backInOut:mB,circInOut:xB};function sae(e){return e in qB}class yO extends LB{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new DB(i,(o,l)=>this.onKeyframesResolved(o,l),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:a=300,times:i,ease:o,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&g2()&&sae(o)&&(o=qB[o]),aae(this.options)){const{onComplete:h,onUpdate:p,motionValue:v,element:m,...x}=this.options,g=iae(t,x);t=g.keyframes,t.length===1&&(t[1]=t[0]),a=g.duration,i=g.times,o=g.ease,l="keyframes"}const f=tae(c.owner.current,u,t,{...this.options,duration:a,times:i,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(xO(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(vw(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:a,times:i,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return oc(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return oc(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=sc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Ns;const{animation:n}=r;xO(n,t)}return Ns}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,v=new wC({...p,keyframes:n,duration:a,type:i,ease:o,times:l,isGenerator:!0}),m=sc(this.time);u.setWithVelocity(v.sample(m-v2).value,v.sample(m).value,v2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:o,type:l}=t;return rae()&&n&&Qne.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const oae=_C(()=>window.ScrollTimeline!==void 0);class lae{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>oae()&&a.attachTimeline?a.attachTimeline(t):r(a));return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function cae({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const jC=(e,t,r,n={},a,i)=>o=>{const l=cC(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-sc(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};cae(l)||(d={...d,...Fre(e,d)}),d.duration&&(d.duration=sc(d.duration)),d.repeatDelay&&(d.repeatDelay=sc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const h=vw(d.keyframes,l);if(h!==void 0)return Sn.update(()=>{d.onUpdate(h),d.onComplete()}),new lae([])}return!i&&yO.supports(d)?new yO(d):new wC(d)},uae=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),dae=e=>AN(e)?e[e.length-1]||0:e;function SC(e,t){e.indexOf(t)===-1&&e.push(t)}function NC(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class AC{constructor(){this.subscriptions=[]}add(t){return SC(this.subscriptions,t),()=>NC(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bO=30,fae=e=>!isNaN(parseFloat(e));class hae{constructor(t,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=yl.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=yl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fae(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new AC);const n=this.events[t].add(r);return t==="change"?()=>{n(),Sn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bO)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,bO);return MB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zg(e,t){return new hae(e,t)}function pae(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,zg(r))}function mae(e,t){const r=gw(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=dae(i[o]);pae(e,o,l)}}const TC=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gae="framerAppearId",GB="data-"+TC(gae);function KB(e){return e.props[GB]}const gi=e=>!!(e&&e.getVelocity);function vae(e){return!!(gi(e)&&e.add)}function LN(e,t){const r=e.getValue("willChange");if(vae(r))return r.add(t)}function xae({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function YB(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const h=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),p=c[f];if(p===void 0||d&&xae(d,f))continue;const v={delay:r,...cC(o||{},f)};let m=!1;if(window.MotionHandoffAnimation){const g=KB(e);if(g){const y=window.MotionHandoffAnimation(g,f,Sn);y!==null&&(v.startTime=y,m=!0)}}LN(e,f),h.start(jC(f,h,p,e.shouldReduceMotion&&xf.has(f)?{type:!1}:v,e,m));const x=h.animation;x&&u.push(x)}return l&&Promise.all(u).then(()=>{Sn.update(()=>{l&&mae(e,l)})}),u}function IN(e,t,r={}){var n;const a=gw(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(YB(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return yae(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function yae(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(bae).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(IN(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function bae(e,t){return e.sortNodePosition(t)}function wae(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>IN(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=IN(e,t,r);else{const a=typeof t=="function"?gw(e,t,r.custom):t;n=Promise.all(YB(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const _ae=lC.length;function XB(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?XB(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<_ae;r++){const n=lC[r],a=e.props[n];($g(a)||a===!1)&&(t[n]=a)}return t}const jae=[...oC].reverse(),Sae=oC.length;function Nae(e){return t=>Promise.all(t.map(({animation:r,options:n})=>wae(e,r,n)))}function Aae(e){let t=Nae(e),r=wO(),n=!0;const a=c=>(u,d)=>{var f;const h=gw(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:v,...m}=h;u={...u,...m,...v}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=XB(e.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let x=0;x<Sae;x++){const g=jae[x],y=r[g],b=u[g]!==void 0?u[g]:d[g],S=$g(b),_=g===c?y.isActive:null;_===!1&&(v=x);let N=b===d[g]&&b!==u[g]&&S;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...p},!y.isActive&&_===null||!b&&!y.prevProp||mw(b)||typeof b=="boolean")continue;const j=Tae(y.prevProp,b);let A=j||g===c&&y.isActive&&!N&&S||x>v&&S,P=!1;const H=Array.isArray(b)?b:[b];let C=H.reduce(a(g),{});_===!1&&(C={});const{prevResolvedValues:k={}}=y,U={...k,...C},D=I=>{A=!0,h.has(I)&&(P=!0,h.delete(I)),y.needsAnimating[I]=!0;const q=e.getValue(I);q&&(q.liveStyle=!1)};for(const I in U){const q=C[I],F=k[I];if(p.hasOwnProperty(I))continue;let z=!1;AN(q)&&AN(F)?z=!lB(q,F):z=q!==F,z?q!=null?D(I):h.add(I):q!==void 0&&h.has(I)?D(I):y.protectedKeys[I]=!0}y.prevProp=b,y.prevResolvedValues=C,y.isActive&&(p={...p,...C}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(N&&j)||P)&&f.push(...H.map(I=>({animation:I,options:{type:g}})))}if(h.size){const x={};h.forEach(g=>{const y=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),x[g]=y??null}),f.push({animation:x})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=wO(),n=!0}}}function Tae(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lB(t,e):!1}function fd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wO(){return{animate:fd(!0),whileInView:fd(),whileHover:fd(),whileTap:fd(),whileDrag:fd(),whileFocus:fd(),exit:fd()}}class qu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Cae extends qu{constructor(t){super(t),t.animationState||(t.animationState=Aae(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();mw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Eae=0;class kae extends qu{constructor(){super(...arguments),this.id=Eae++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Pae={animation:{Feature:Cae},exit:{Feature:kae}},No={x:!1,y:!1};function JB(){return No.x||No.y}function Oae(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;t&&(a=t.current);const i=(n=r==null?void 0:r[e])!==null&&n!==void 0?n:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function QB(e,t){const r=Oae(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function _O(e){return t=>{t.pointerType==="touch"||JB()||e(t)}}function Fae(e,t,r={}){const[n,a,i]=QB(e,r),o=_O(l=>{const{target:c}=l,u=t(l);if(!u||!c)return;const d=_O(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,a)});return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const CC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,km=new WeakSet;function jO(e){return t=>{t.key==="Enter"&&e(t)}}function Y5(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Dae=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=jO(()=>{if(km.has(r))return;Y5(r,"down");const a=jO(()=>{Y5(r,"up")}),i=()=>Y5(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)},Lae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Iae(e){return Lae.has(e.tagName)||e.tabIndex!==-1}const ZB=(e,t)=>t?e===t?!0:ZB(e,t.parentElement):!1;function SO(e){return CC(e)&&!JB()}function Mae(e,t,r={}){const[n,a,i]=QB(e,r),o=l=>{const c=l.currentTarget;if(!SO(l)||km.has(c))return;km.add(c);const u=t(l),d=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!SO(p)||!km.has(c))&&(km.delete(c),u&&u(p,{success:v}))},f=p=>{d(p,r.useGlobalTarget||ZB(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{Iae(l)||(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",u=>Dae(u,a),a)}),i}function Rae(e){return e==="x"||e==="y"?No[e]?null:(No[e]=!0,()=>{No[e]=!1}):No.x||No.y?null:(No.x=No.y=!0,()=>{No.x=No.y=!1})}function Jv(e){return{point:{x:e.pageX,y:e.pageY}}}const $ae=e=>t=>CC(t)&&e(t,Jv(t));function Vg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Jm(e,t,r,n){return Vg(e,t,$ae(r),n)}const NO=(e,t)=>Math.abs(e-t);function Bae(e,t){const r=NO(e.x,t.x),n=NO(e.y,t.y);return Math.sqrt(r**2+n**2)}class e9{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=J5(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Bae(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=f,{timestamp:m}=Wa;this.history.push({...v,timestamp:m});const{onStart:x,onMove:g}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=X5(h,this.transformPagePoint),Sn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=J5(f.type==="pointercancel"?this.lastMoveEventInfo:X5(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),v&&v(f,x)},!CC(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Jv(t),l=X5(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Wa;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,J5(l,this.history)),this.removeListeners=Xv(Jm(this.contextWindow,"pointermove",this.handlePointerMove),Jm(this.contextWindow,"pointerup",this.handlePointerUp),Jm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fu(this.updatePoint)}}function X5(e,t){return t?{point:t(e.point)}:e}function AO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function J5({point:e},t){return{point:e,delta:AO(e,t9(t)),offset:AO(e,Uae(t)),velocity:zae(t,.1)}}function Uae(e){return e[0]}function t9(e){return e[e.length-1]}function zae(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=t9(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>sc(t)));)r--;if(!n)return{x:0,y:0};const i=oc(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ch(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const r9=1e-4,Vae=1-r9,Hae=1+r9,n9=.01,Wae=0-n9,qae=0+n9;function Es(e){return e.max-e.min}function Gae(e,t,r){return Math.abs(e-t)<=r}function TO(e,t,r,n=.5){e.origin=n,e.originPoint=Dn(t.min,t.max,e.origin),e.scale=Es(r)/Es(t),e.translate=Dn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Vae&&e.scale<=Hae||isNaN(e.scale))&&(e.scale=1),(e.translate>=Wae&&e.translate<=qae||isNaN(e.translate))&&(e.translate=0)}function Qm(e,t,r,n){TO(e.x,t.x,r.x,n?n.originX:void 0),TO(e.y,t.y,r.y,n?n.originY:void 0)}function CO(e,t,r){e.min=r.min+t.min,e.max=e.min+Es(t)}function Kae(e,t,r){CO(e.x,t.x,r.x),CO(e.y,t.y,r.y)}function EO(e,t,r){e.min=t.min-r.min,e.max=e.min+Es(t)}function Zm(e,t,r){EO(e.x,t.x,r.x),EO(e.y,t.y,r.y)}function Yae(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Dn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Dn(r,e,n.max):Math.min(e,r)),e}function kO(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Xae(e,{top:t,left:r,bottom:n,right:a}){return{x:kO(e.x,r,a),y:kO(e.y,t,n)}}function PO(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Jae(e,t){return{x:PO(e.x,t.x),y:PO(e.y,t.y)}}function Qae(e,t){let r=.5;const n=Es(e),a=Es(t);return a>n?r=m0(t.min,t.max-n,e.min):n>a&&(r=m0(e.min,e.max-a,t.min)),yc(0,1,r)}function Zae(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const MN=.35;function eie(e=MN){return e===!1?e=0:e===!0&&(e=MN),{x:OO(e,"left","right"),y:OO(e,"top","bottom")}}function OO(e,t,r){return{min:FO(e,t),max:FO(e,r)}}function FO(e,t){return typeof e=="number"?e:e[t]||0}const DO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eh=()=>({x:DO(),y:DO()}),LO=()=>({min:0,max:0}),Qn=()=>({x:LO(),y:LO()});function Gs(e){return[e("x"),e("y")]}function a9({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function tie({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function rie(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Q5(e){return e===void 0||e===1}function RN({scale:e,scaleX:t,scaleY:r}){return!Q5(e)||!Q5(t)||!Q5(r)}function gd(e){return RN(e)||i9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function i9(e){return IO(e.x)||IO(e.y)}function IO(e){return e&&e!=="0%"}function x2(e,t,r){const n=e-r,a=t*n;return r+a}function MO(e,t,r,n,a){return a!==void 0&&(e=x2(e,a,n)),x2(e,r,n)+t}function $N(e,t=0,r=1,n,a){e.min=MO(e.min,t,r,n,a),e.max=MO(e.max,t,r,n,a)}function s9(e,{x:t,y:r}){$N(e.x,t.translate,t.scale,t.originPoint),$N(e.y,r.translate,r.scale,r.originPoint)}const RO=.999999999999,$O=1.0000000000001;function nie(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ph(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,s9(e,o)),n&&gd(i.latestValues)&&Ph(e,i.latestValues))}t.x<$O&&t.x>RO&&(t.x=1),t.y<$O&&t.y>RO&&(t.y=1)}function kh(e,t){e.min=e.min+t,e.max=e.max+t}function BO(e,t,r,n,a=.5){const i=Dn(e.min,e.max,a);$N(e,t,r,i,n)}function Ph(e,t){BO(e.x,t.x,t.scaleX,t.scale,t.originX),BO(e.y,t.y,t.scaleY,t.scale,t.originY)}function o9(e,t){return a9(rie(e.getBoundingClientRect(),t))}function aie(e,t,r){const n=o9(e,r),{scroll:a}=t;return a&&(kh(n.x,a.offset.x),kh(n.y,a.offset.y)),n}const l9=({current:e})=>e?e.ownerDocument.defaultView:null,iie=new WeakMap;class sie{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jv(d).point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rae(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gs(x=>{let g=this.getAxisMotionValue(x).get()||0;if(xl.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[x];b&&(g=Es(b)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&Sn.postRender(()=>v(d,f)),LN(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=oie(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Gs(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new e9(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:l9(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Sn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!F1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Yae(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Ch(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=Xae(a.layoutBox,r):this.constraints=!1,this.elastic=eie(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Gs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Zae(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ch(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=aie(n,a.root,this.visualElement.getTransformPagePoint());let o=Jae(a.layout.layoutBox,i);if(r){const l=r(tie(o));this.hasMutatedConstraints=!!l,l&&(o=a9(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Gs(d=>{if(!F1(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return LN(this.visualElement,t),n.start(jC(t,n,0,r,this.visualElement,!1))}stopAnimation(){Gs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gs(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Gs(r=>{const{drag:n}=this.getProps();if(!F1(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-Dn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ch(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Qae({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Gs(o=>{if(!F1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Dn(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;iie.set(this.visualElement,this);const t=this.visualElement.current,r=Jm(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ch(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Sn.read(n);const o=Vg(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=MN,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function F1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function oie(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class lie extends qu{constructor(t){super(t),this.removeGroupControls=Ns,this.removeListeners=Ns,this.controls=new sie(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ns}unmount(){this.removeGroupControls(),this.removeListeners()}}const UO=e=>(t,r)=>{e&&Sn.postRender(()=>e(t,r))};class cie extends qu{constructor(){super(...arguments),this.removePointerDownListener=Ns}onPointerDown(t){this.session=new e9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:l9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:UO(t),onStart:UO(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Sn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Jm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xw=O.createContext(null);function uie(){const e=O.useContext(xw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=O.useId();O.useEffect(()=>n(a),[]);const i=O.useCallback(()=>r&&r(a),[a,r]);return!t&&r?[!1,i]:[!0]}const EC=O.createContext({}),c9=O.createContext({}),My={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Yt.test(e))e=parseFloat(e);else return e;const r=zO(e,t.target.x),n=zO(e,t.target.y);return`${r}% ${n}%`}},die={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Du.parse(e);if(a.length>5)return n;const i=Du.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=Dn(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}},y2={};function fie(e){Object.assign(y2,e)}const{schedule:kC,cancel:i9e}=uB(queueMicrotask,!1);class hie extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;fie(pie),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),My.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Sn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kC.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function u9(e){const[t,r]=uie(),n=O.useContext(EC);return s.jsx(hie,{...e,layoutGroup:n,switchLayoutGroup:O.useContext(c9),isPresent:t,safeToRemove:r})}const pie={borderRadius:{...sm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sm,borderTopRightRadius:sm,borderBottomLeftRadius:sm,borderBottomRightRadius:sm,boxShadow:die},d9=["TopLeft","TopRight","BottomLeft","BottomRight"],mie=d9.length,VO=e=>typeof e=="string"?parseFloat(e):e,HO=e=>typeof e=="number"||Yt.test(e);function gie(e,t,r,n,a,i){a?(e.opacity=Dn(0,r.opacity!==void 0?r.opacity:1,vie(n)),e.opacityExit=Dn(t.opacity!==void 0?t.opacity:1,0,xie(n))):i&&(e.opacity=Dn(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<mie;o++){const l=`border${d9[o]}Radius`;let c=WO(t,l),u=WO(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||HO(c)===HO(u)?(e[l]=Math.max(Dn(VO(c),VO(u),n),0),(xl.test(u)||xl.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Dn(t.rotate||0,r.rotate||0,n))}function WO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vie=f9(0,.5,vB),xie=f9(.5,.95,Ns);function f9(e,t,r){return n=>n<e?0:n>t?1:r(m0(e,t,n))}function qO(e,t){e.min=t.min,e.max=t.max}function Us(e,t){qO(e.x,t.x),qO(e.y,t.y)}function GO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function KO(e,t,r,n,a){return e-=t,e=x2(e,1/r,n),a!==void 0&&(e=x2(e,1/a,n)),e}function yie(e,t=0,r=1,n=.5,a,i=e,o=e){if(xl.test(t)&&(t=parseFloat(t),t=Dn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Dn(i.min,i.max,n);e===i&&(l-=t),e.min=KO(e.min,t,r,l,a),e.max=KO(e.max,t,r,l,a)}function YO(e,t,[r,n,a],i,o){yie(e,t[r],t[n],t[a],t.scale,i,o)}const bie=["x","scaleX","originX"],wie=["y","scaleY","originY"];function XO(e,t,r,n){YO(e.x,t,bie,r?r.x:void 0,n?n.x:void 0),YO(e.y,t,wie,r?r.y:void 0,n?n.y:void 0)}function JO(e){return e.translate===0&&e.scale===1}function h9(e){return JO(e.x)&&JO(e.y)}function QO(e,t){return e.min===t.min&&e.max===t.max}function _ie(e,t){return QO(e.x,t.x)&&QO(e.y,t.y)}function ZO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function p9(e,t){return ZO(e.x,t.x)&&ZO(e.y,t.y)}function e6(e){return Es(e.x)/Es(e.y)}function t6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jie{constructor(){this.members=[]}add(t){SC(this.members,t),t.scheduleRender()}remove(t){if(NC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sie(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Nie=(e,t)=>e.depth-t.depth;class Aie{constructor(){this.children=[],this.isDirty=!1}add(t){SC(this.children,t),this.isDirty=!0}remove(t){NC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Nie),this.isDirty=!1,this.children.forEach(t)}}function Ry(e){const t=gi(e)?e.get():e;return uae(t)?t.toValue():t}function Tie(e,t){const r=yl.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Fu(n),e(i-t))};return Sn.read(n,!0),()=>Fu(n)}function Cie(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Eie(e,t,r){const n=gi(e)?e:zg(e);return n.start(jC("",n,t,r)),n.animation}const vd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Pm=typeof window<"u"&&window.MotionDebug!==void 0,Z5=["","X","Y","Z"],kie={visibility:"hidden"},r6=1e3;let Pie=0;function ej(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function m9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=KB(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Sn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&m9(n)}function g9({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Pie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pm&&(vd.totalNodes=vd.resolvedTargetDeltas=vd.recalculatedProjection=0),this.nodes.forEach(Die),this.nodes.forEach($ie),this.nodes.forEach(Bie),this.nodes.forEach(Lie),Pm&&window.MotionDebug.record(vd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Aie)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new AC),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Cie(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Tie(h,250),My.hasAnimatedSinceResize&&(My.hasAnimatedSinceResize=!1,this.nodes.forEach(a6))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||Wie,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),y=!this.targetLayout||!p9(this.targetLayout,v)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...cC(m,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||a6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Uie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n6);return}this.isUpdating||this.nodes.forEach(Mie),this.isUpdating=!1,this.nodes.forEach(Rie),this.nodes.forEach(Oie),this.nodes.forEach(Fie),this.clearAllSnapshots();const l=yl.now();Wa.delta=yc(0,1e3/60,l-Wa.timestamp),Wa.timestamp=l,Wa.isProcessing=!0,H5.update.process(Wa),H5.preRender.process(Wa),H5.render.process(Wa),Wa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Iie),this.sharedNodes.forEach(zie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!h9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||gd(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),qie(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Qn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Gie))){const{scroll:d}=this.root;d&&(kh(c.x,d.offset.x),kh(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Qn();if(Us(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Us(c,o),kh(c.x,f.offset.x),kh(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Qn();Us(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ph(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),gd(d.latestValues)&&Ph(c,d.latestValues)}return gd(this.latestValues)&&Ph(c,this.latestValues),c}removeTransform(o){const l=Qn();Us(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!gd(u.latestValues))continue;RN(u.latestValues)&&u.updateSnapshot();const d=Qn(),f=u.measurePageBox();Us(d,f),XO(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return gd(this.latestValues)&&XO(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Wa.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),Zm(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qn(),this.targetWithTransforms=Qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Us(this.target,this.layout.layoutBox),s9(this.target,this.targetDelta)):Us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),Zm(this.relativeTargetOrigin,this.target,p.target),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pm&&vd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||RN(this.parent.latestValues)||i9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Wa.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Us(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;nie(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Qn());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GO(this.prevProjectionDelta.x,this.projectionDelta.x),GO(this.prevProjectionDelta.y,this.projectionDelta.y)),Qm(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!t6(this.projectionDelta.x,this.prevProjectionDelta.x)||!t6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Pm&&vd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Eh(),this.projectionDelta=Eh(),this.projectionDeltaWithTransform=Eh()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Eh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Qn(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,m=p!==v,x=this.getStack(),g=!x||x.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(Hie));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const _=S/1e3;i6(f.x,o.x,_),i6(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zm(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vie(this.relativeTarget,this.relativeTargetOrigin,h,_),b&&_ie(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Qn()),Us(b,this.relativeTarget)),m&&(this.animationValues=d,gie(d,u,this.latestValues,_,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Sn.update(()=>{My.hasAnimatedSinceResize=!0,this.currentAnimation=Eie(0,r6,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(r6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&v9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Qn();const f=Es(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Es(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Us(l,c),Ph(l,d),Qm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jie),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&ej("z",o,u,this.animationValues);for(let d=0;d<Z5.length;d++)ej(`rotate${Z5[d]}`,o,u,this.animationValues),ej(`skew${Z5[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kie;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ry(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ry(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!gd(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Sie(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in y2){if(h[m]===void 0)continue;const{correct:x,applyTo:g}=y2[m],y=u.transform==="none"?h[m]:x(h[m],f);if(g){const b=g.length;for(let S=0;S<b;S++)u[g[S]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?Ry(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(n6),this.root.sharedNodes.clear()}}}function Oie(e){e.updateLayout()}function Fie(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Gs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Es(h);h.min=n[f].min,h.max=h.min+p}):v9(i,r.layoutBox,n)&&Gs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Es(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Eh();Qm(l,n,r.layoutBox);const c=Eh();o?Qm(c,e.applyTransform(a,!0),r.measuredBox):Qm(c,n,r.layoutBox);const u=!h9(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=Qn();Zm(v,r.layoutBox,h.layoutBox);const m=Qn();Zm(m,n,p.layoutBox),p9(v,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Die(e){Pm&&vd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Lie(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Iie(e){e.clearSnapshot()}function n6(e){e.clearMeasurements()}function Mie(e){e.isLayoutDirty=!1}function Rie(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function a6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $ie(e){e.resolveTargetDelta()}function Bie(e){e.calcProjection()}function Uie(e){e.resetSkewAndRotation()}function zie(e){e.removeLeadSnapshot()}function i6(e,t,r){e.translate=Dn(t.translate,0,r),e.scale=Dn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function s6(e,t,r,n){e.min=Dn(t.min,r.min,n),e.max=Dn(t.max,r.max,n)}function Vie(e,t,r,n){s6(e.x,t.x,r.x,n),s6(e.y,t.y,r.y,n)}function Hie(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Wie={duration:.45,ease:[.4,0,.1,1]},o6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),l6=o6("applewebkit/")&&!o6("chrome/")?Math.round:Ns;function c6(e){e.min=l6(e.min),e.max=l6(e.max)}function qie(e){c6(e.x),c6(e.y)}function v9(e,t,r){return e==="position"||e==="preserve-aspect"&&!Gae(e6(t),e6(r),.2)}function Gie(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Kie=g9({attachResizeListener:(e,t)=>Vg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tj={current:void 0},x9=g9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!tj.current){const e=new Kie({});e.mount(window),e.setOptions({layoutScroll:!0}),tj.current=e}return tj.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Yie={pan:{Feature:cie},drag:{Feature:lie,ProjectionNode:x9,MeasureLayout:u9}};function u6(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Sn.postRender(()=>i(t,Jv(t)))}class Xie extends qu{mount(){const{current:t}=this.node;t&&(this.unmount=Fae(t,r=>(u6(this.node,r,"Start"),n=>u6(this.node,n,"End"))))}unmount(){}}class Jie extends qu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xv(Vg(this.node.current,"focus",()=>this.onFocus()),Vg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function d6(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Sn.postRender(()=>i(t,Jv(t)))}class Qie extends qu{mount(){const{current:t}=this.node;t&&(this.unmount=Mae(t,r=>(d6(this.node,r,"Start"),(n,{success:a})=>d6(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const BN=new WeakMap,rj=new WeakMap,Zie=e=>{const t=BN.get(e.target);t&&t(e)},ese=e=>{e.forEach(Zie)};function tse({root:e,...t}){const r=e||document;rj.has(r)||rj.set(r,{});const n=rj.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(ese,{root:e,...t})),n[a]}function rse(e,t,r){const n=tse(t);return BN.set(e,r),n.observe(e),()=>{BN.delete(e),n.unobserve(e)}}const nse={some:0,all:1};class ase extends qu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:nse[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return rse(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(ise(t,r))&&this.startObserver()}unmount(){}}function ise({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const sse={inView:{Feature:ase},tap:{Feature:Qie},focus:{Feature:Jie},hover:{Feature:Xie}},ose={layout:{ProjectionNode:x9,MeasureLayout:u9}},PC=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),yw=O.createContext({}),OC=typeof window<"u",y9=OC?O.useLayoutEffect:O.useEffect,b9=O.createContext({strict:!1});function lse(e,t,r,n,a){var i,o;const{visualElement:l}=O.useContext(yw),c=O.useContext(b9),u=O.useContext(xw),d=O.useContext(PC).reducedMotion,f=O.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=O.useContext(c9);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&cse(f.current,r,a,p);const v=O.useRef(!1);O.useInsertionEffect(()=>{h&&v.current&&h.update(r,u)});const m=r[GB],x=O.useRef(!!m&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return y9(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),kC.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),O.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),x.current=!1))}),h}function cse(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:w9(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Ch(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function w9(e){if(e)return e.options.allowProjection!==!1?e.projection:w9(e.parent)}function use(e,t,r){return O.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ch(r)&&(r.current=n))},[t])}function bw(e){return mw(e.animate)||lC.some(t=>$g(e[t]))}function _9(e){return!!(bw(e)||e.variants)}function dse(e,t){if(bw(e)){const{initial:r,animate:n}=e;return{initial:r===!1||$g(r)?r:void 0,animate:$g(n)?n:void 0}}return e.inherit!==!1?t:{}}function fse(e){const{initial:t,animate:r}=dse(e,O.useContext(yw));return O.useMemo(()=>({initial:t,animate:r}),[f6(t),f6(r)])}function f6(e){return Array.isArray(e)?e.join(" "):e}const h6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},g0={};for(const e in h6)g0[e]={isEnabled:t=>h6[e].some(r=>!!t[r])};function hse(e){for(const t in e)g0[t]={...g0[t],...e[t]}}const pse=Symbol.for("motionComponentSymbol");function mse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&hse(e);function i(l,c){let u;const d={...O.useContext(PC),...l,layoutId:gse(l)},{isStatic:f}=d,h=fse(l),p=n(l,f);if(!f&&OC){vse();const v=xse(d);u=v.MeasureLayout,h.visualElement=lse(a,p,d,t,v.ProjectionNode)}return s.jsxs(yw.Provider,{value:h,children:[u&&h.visualElement?s.jsx(u,{visualElement:h.visualElement,...d}):null,r(a,l,use(p,h.visualElement,c),p,f,h.visualElement)]})}const o=O.forwardRef(i);return o[pse]=a,o}function gse({layoutId:e}){const t=O.useContext(EC).id;return t&&e!==void 0?t+"-"+e:e}function vse(e,t){O.useContext(b9).strict}function xse(e){const{drag:t,layout:r}=g0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const yse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FC(e){return typeof e!="string"||e.includes("-")?!1:!!(yse.indexOf(e)>-1||/[A-Z]/u.test(e))}function j9(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const S9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function N9(e,t,r,n){j9(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(S9.has(a)?a:TC(a),t.attrs[a])}function A9(e,{layout:t,layoutId:r}){return xf.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!y2[e]||e==="opacity")}function DC(e,t,r){var n;const{style:a}=e,i={};for(const o in a)(gi(a[o])||t.style&&gi(t.style[o])||A9(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function T9(e,t,r){const n=DC(e,t,r);for(const a in e)if(gi(e[a])||gi(t[a])){const i=Gv.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function LC(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}function bse({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,i){const o={latestValues:wse(n,a,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const C9=e=>(t,r)=>{const n=O.useContext(yw),a=O.useContext(xw),i=()=>bse(e,t,n,a);return r?i():LC(i)};function wse(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=Ry(i[h]);let{initial:o,animate:l}=e;const c=bw(e),u=_9(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!mw(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=sC(e,h[p]);if(v){const{transitionEnd:m,transition:x,...g}=v;for(const y in g){let b=g[y];if(Array.isArray(b)){const S=d?b.length-1:0;b=b[S]}b!==null&&(a[y]=b)}for(const y in m)a[y]=m[y]}}}return a}const IC=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),E9=()=>({...IC(),attrs:{}}),k9=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_se={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jse=Gv.length;function Sse(e,t,r){let n="",a=!0;for(let i=0;i<jse;i++){const o=Gv[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=k9(l,gC[o]);if(!c){a=!1;const d=_se[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function MC(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(xf.has(c)){o=!0;continue}else if(_B(c)){a[c]=u;continue}else{const d=k9(u,gC[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=Sse(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}function p6(e,t,r){return typeof e=="string"?e:Yt.transform(t+r*e)}function Nse(e,t,r){const n=p6(t,e.x,e.width),a=p6(r,e.y,e.height);return`${n} ${a}`}const Ase={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tse={offset:"strokeDashoffset",array:"strokeDasharray"};function Cse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Ase:Tse;e[i.offset]=Yt.transform(-n);const o=Yt.transform(t),l=Yt.transform(r);e[i.array]=`${o} ${l}`}function RC(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(MC(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:v}=e;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Nse(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&Cse(h,o,l,c,!1)}const $C=e=>typeof e=="string"&&e.toLowerCase()==="svg",Ese={useVisualState:C9({scrapeMotionValuesFromProps:T9,createRenderState:E9,onMount:(e,t,{renderState:r,latestValues:n})=>{Sn.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Sn.render(()=>{RC(r,n,$C(t.tagName),e.transformTemplate),N9(t,r)})}})},kse={useVisualState:C9({scrapeMotionValuesFromProps:DC,createRenderState:IC})};function P9(e,t,r){for(const n in t)!gi(t[n])&&!A9(n,r)&&(e[n]=t[n])}function Pse({transformTemplate:e},t){return O.useMemo(()=>{const r=IC();return MC(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Ose(e,t){const r=e.style||{},n={};return P9(n,r,e),Object.assign(n,Pse(e,t)),n}function Fse(e,t){const r={},n=Ose(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Dse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function b2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Dse.has(e)}let O9=e=>!b2(e);function Lse(e){e&&(O9=t=>t.startsWith("on")?!b2(t):e(t))}try{Lse(require("@emotion/is-prop-valid").default)}catch{}function Ise(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(O9(a)||r===!0&&b2(a)||!t&&!b2(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Mse(e,t,r,n){const a=O.useMemo(()=>{const i=E9();return RC(i,t,$C(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};P9(i,e.style,e),a.style={...i,...a.style}}return a}function Rse(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(FC(r)?Mse:Fse)(n,i,o,r),u=Ise(n,typeof r=="string",e),d=r!==O.Fragment?{...u,...c,ref:a}:{},{children:f}=n,h=O.useMemo(()=>gi(f)?f.get():f,[f]);return O.createElement(r,{...d,children:h})}}function $se(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...FC(n)?Ese:kse,preloadedFeatures:e,useRender:Rse(a),createVisualElement:t,Component:n};return mse(o)}}const UN={current:null},F9={current:!1};function Bse(){if(F9.current=!0,!!OC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>UN.current=e.matches;e.addListener(t),t()}else UN.current=!1}function Use(e,t,r){for(const n in t){const a=t[n],i=r[n];if(gi(a))e.addValue(n,a);else if(gi(i))e.addValue(n,zg(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,zg(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const m6=new WeakMap,zse=[...NB,li,Du],Vse=e=>zse.find(SB(e)),g6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Hse{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=yl.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Sn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=bw(r),this.isVariantNode=_9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];c[h]!==void 0&&gi(p)&&p.set(c[h],!1)}}mount(t){this.current=t,m6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),F9.current||Bse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:UN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){m6.delete(this.current),this.projection&&this.projection.unmount(),Fu(this.notifyUpdate),Fu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=xf.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Sn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in g0){const r=g0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<g6.length;n++){const a=g6[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Use(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=zg(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(bB(a)||yB(a))?a=parseFloat(a):!Vse(a)&&Du.test(r)&&(a=FB(t,r)),this.setBaseTarget(t,gi(a)?a.get():a)),gi(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=sC(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!gi(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new AC),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class D9 extends Hse{constructor(){super(...arguments),this.KeyframeResolver=DB}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Wse(e){return window.getComputedStyle(e)}class qse extends D9{constructor(){super(...arguments),this.type="html",this.renderInstance=j9}readValueFromInstance(t,r){if(xf.has(r)){const n=vC(r);return n&&n.default||0}else{const n=Wse(t),a=(_B(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return o9(t,r)}build(t,r,n){MC(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return DC(t,r,n)}}class Gse extends D9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(xf.has(r)){const n=vC(r);return n&&n.default||0}return r=S9.has(r)?r:TC(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return T9(t,r,n)}build(t,r,n){RC(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){N9(t,r,n,a)}mount(t){this.isSVGTag=$C(t.tagName),super.mount(t)}}const Kse=(e,t)=>FC(e)?new Gse(t):new qse(t,{allowProjection:e!==O.Fragment}),Yse=$se({...Pae,...sse,...Yie,...ose},Kse),zN=Cre(Yse);class Xse extends O.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Jse({children:e,isPresent:t}){const r=O.useId(),n=O.useRef(null),a=O.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=O.useContext(PC);return O.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=a.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),s.jsx(Xse,{isPresent:t,childRef:n,sizeRef:a,children:O.cloneElement(e,{ref:n})})}const Qse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=LC(Zse),c=O.useId(),u=O.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),d=O.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),u]:[r,u]);return O.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),O.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(Jse,{isPresent:r,children:e})),s.jsx(xw.Provider,{value:d,children:e})};function Zse(){return new Map}const D1=e=>e.key||"";function v6(e){const t=[];return O.Children.forEach(e,r=>{O.isValidElement(r)&&t.push(r)}),t}const x6=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=O.useMemo(()=>v6(e),[e]),c=l.map(D1),u=O.useRef(!0),d=O.useRef(l),f=LC(()=>new Map),[h,p]=O.useState(l),[v,m]=O.useState(l);y9(()=>{u.current=!1,d.current=l;for(let y=0;y<v.length;y++){const b=D1(v[y]);c.includes(b)?f.delete(b):f.get(b)!==!0&&f.set(b,!1)}},[v,c.length,c.join("-")]);const x=[];if(l!==h){let y=[...l];for(let b=0;b<v.length;b++){const S=v[b],_=D1(S);c.includes(_)||(y.splice(b,0,S),x.push(S))}o==="wait"&&x.length&&(y=x),m(v6(y)),p(l);return}const{forceRender:g}=O.useContext(EC);return s.jsx(s.Fragment,{children:v.map(y=>{const b=D1(y),S=l===v||c.includes(b),_=()=>{if(f.has(b))f.set(b,!0);else return;let N=!0;f.forEach(j=>{j||(N=!1)}),N&&(g==null||g(),m(d.current),a&&a())};return s.jsx(Qse,{isPresent:S,initial:!u.current||n?void 0:!1,custom:S?void 0:r,presenceAffectsLayout:i,mode:o,onExitComplete:S?void 0:_,children:y},b)})})},eoe=eC("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=Ae.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?ef:"button";return s.jsx(o,{className:yr(eoe({variant:t,size:r,className:e})),ref:i,...a})});Se.displayName="Button";var toe=pY["useId".toString()]||(()=>{}),roe=0;function Au(e){const[t,r]=O.useState(toe());return wi(()=>{e||r(n=>n??String(roe++))},[e]),e||(t?`radix-${t}`:"")}var nj="focusScope.autoFocusOnMount",aj="focusScope.autoFocusOnUnmount",y6={bubbles:!1,cancelable:!0},noe="FocusScope",BC=O.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=O.useState(null),u=ns(a),d=ns(i),f=O.useRef(null),h=kn(t,m=>c(m)),p=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const S=b.target;l.contains(S)?f.current=S:tu(f.current,{select:!0})},x=function(b){if(p.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||tu(f.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&tu(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(g);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,p.paused]),O.useEffect(()=>{if(l){w6.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(nj,y6);l.addEventListener(nj,u),l.dispatchEvent(g),g.defaultPrevented||(aoe(coe(L9(l)),{select:!0}),document.activeElement===m&&tu(l))}return()=>{l.removeEventListener(nj,u),setTimeout(()=>{const g=new CustomEvent(aj,y6);l.addEventListener(aj,d),l.dispatchEvent(g),g.defaultPrevented||tu(m??document.body,{select:!0}),l.removeEventListener(aj,d),w6.remove(p)},0)}}},[l,u,d,p]);const v=O.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(x&&g){const y=m.currentTarget,[b,S]=ioe(y);b&&S?!m.shiftKey&&g===S?(m.preventDefault(),r&&tu(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),r&&tu(S,{select:!0})):g===y&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(_r.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});BC.displayName=noe;function aoe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(tu(n,{select:t}),document.activeElement!==r)return}function ioe(e){const t=L9(e),r=b6(t,e),n=b6(t.reverse(),e);return[r,n]}function L9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function b6(e,t){for(const r of e)if(!soe(r,{upTo:t}))return r}function soe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ooe(e){return e instanceof HTMLInputElement&&"select"in e}function tu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ooe(e)&&t&&e.select()}}var w6=loe();function loe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_6(e,t),e.unshift(t)},remove(t){var r;e=_6(e,t),(r=e[0])==null||r.resume()}}}function _6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function coe(e){return e.filter(t=>t.tagName!=="A")}var ij=0;function I9(){O.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??j6()),document.body.insertAdjacentElement("beforeend",e[1]??j6()),ij++,()=>{ij===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ij--}},[])}function j6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hl=function(){return hl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},hl.apply(this,arguments)};function M9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function uoe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var $y="right-scroll-bar-position",By="width-before-scroll-bar",doe="with-scroll-bars-hidden",foe="--removed-body-scroll-bar-size";function sj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hoe(e,t){var r=O.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var poe=typeof window<"u"?O.useLayoutEffect:O.useEffect,S6=new WeakMap;function moe(e,t){var r=hoe(t||null,function(n){return e.forEach(function(a){return sj(a,n)})});return poe(function(){var n=S6.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||sj(l,null)}),i.forEach(function(l){a.has(l)||sj(l,o)})}S6.set(r,e)},[e]),r}function goe(e){return e}function voe(e,t){t===void 0&&(t=goe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function xoe(e){e===void 0&&(e={});var t=voe(null);return t.options=hl({async:!0,ssr:!1},e),t}var R9=function(e){var t=e.sideCar,r=M9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return O.createElement(n,hl({},r))};R9.isSideCarExport=!0;function yoe(e,t){return e.useMedium(t),R9}var $9=xoe(),oj=function(){},ww=O.forwardRef(function(e,t){var r=O.useRef(null),n=O.useState({onScrollCapture:oj,onWheelCapture:oj,onTouchMoveCapture:oj}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,m=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,y=e.gapMode,b=M9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=moe([r,t]),N=hl(hl({},b),a);return O.createElement(O.Fragment,null,d&&O.createElement(S,{sideCar:$9,removeScrollBar:u,shards:f,noIsolation:p,inert:v,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?O.cloneElement(O.Children.only(l),hl(hl({},N),{ref:_})):O.createElement(g,hl({},N,{className:c,ref:_}),l))});ww.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ww.classNames={fullWidth:By,zeroRight:$y};var N6,boe=function(){if(N6)return N6;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function woe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=boe();return t&&e.setAttribute("nonce",t),e}function _oe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function joe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Soe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=woe())&&(_oe(t,r),joe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Noe=function(){var e=Soe();return function(t,r){O.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},B9=function(){var e=Noe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Aoe={left:0,top:0,right:0,gap:0},lj=function(e){return parseInt(e||"",10)||0},Toe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[lj(r),lj(n),lj(a)]},Coe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Aoe;var t=Toe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Eoe=B9(),Gh="data-scroll-locked",koe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(doe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Gh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($y,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(By,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($y," .").concat($y,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(By," .").concat(By,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Gh,`] {
    `).concat(foe,": ").concat(l,`px;
  }
`)},A6=function(){var e=parseInt(document.body.getAttribute(Gh)||"0",10);return isFinite(e)?e:0},Poe=function(){O.useEffect(function(){return document.body.setAttribute(Gh,(A6()+1).toString()),function(){var e=A6()-1;e<=0?document.body.removeAttribute(Gh):document.body.setAttribute(Gh,e.toString())}},[])},Ooe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Poe();var i=O.useMemo(function(){return Coe(a)},[a]);return O.createElement(Eoe,{styles:koe(i,!t,a,r?"":"!important")})},VN=!1;if(typeof window<"u")try{var L1=Object.defineProperty({},"passive",{get:function(){return VN=!0,!0}});window.addEventListener("test",L1,L1),window.removeEventListener("test",L1,L1)}catch{VN=!1}var th=VN?{passive:!1}:!1,Foe=function(e){return e.tagName==="TEXTAREA"},U9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Foe(e)&&r[t]==="visible")},Doe=function(e){return U9(e,"overflowY")},Loe=function(e){return U9(e,"overflowX")},T6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=z9(e,n);if(a){var i=V9(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Ioe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Moe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},z9=function(e,t){return e==="v"?Doe(t):Loe(t)},V9=function(e,t){return e==="v"?Ioe(t):Moe(t)},Roe=function(e,t){return e==="h"&&t==="rtl"?-1:1},$oe=function(e,t,r,n,a){var i=Roe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=V9(e,l),v=p[0],m=p[1],x=p[2],g=m-x-i*v;(v||g)&&z9(e,l)&&(f+=g,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(a&&Math.abs(f)<1||!a&&o>f)||!d&&(a&&Math.abs(h)<1||!a&&-o>h))&&(u=!0),u},I1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},C6=function(e){return[e.deltaX,e.deltaY]},E6=function(e){return e&&"current"in e?e.current:e},Boe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Uoe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zoe=0,rh=[];function Voe(e){var t=O.useRef([]),r=O.useRef([0,0]),n=O.useRef(),a=O.useState(zoe++)[0],i=O.useState(B9)[0],o=O.useRef(e);O.useEffect(function(){o.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=uoe([e.lockRef.current],(e.shards||[]).map(E6),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=O.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=I1(m),y=r.current,b="deltaX"in m?m.deltaX:y[0]-g[0],S="deltaY"in m?m.deltaY:y[1]-g[1],_,N=m.target,j=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&j==="h"&&N.type==="range")return!1;var A=T6(j,N);if(!A)return!0;if(A?_=j:(_=j==="v"?"h":"v",A=T6(j,N)),!A)return!1;if(!n.current&&"changedTouches"in m&&(b||S)&&(n.current=_),!_)return!0;var P=n.current||_;return $oe(P,x,m,P==="h"?b:S,!0)},[]),c=O.useCallback(function(m){var x=m;if(!(!rh.length||rh[rh.length-1]!==i)){var g="deltaY"in x?C6(x):I1(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&Boe(_.delta,g)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(E6).filter(Boolean).filter(function(_){return _.contains(x.target)}),S=b.length>0?l(x,b[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=O.useCallback(function(m,x,g,y){var b={name:m,delta:x,target:g,should:y,shadowParent:Hoe(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=O.useCallback(function(m){r.current=I1(m),n.current=void 0},[]),f=O.useCallback(function(m){u(m.type,C6(m),m.target,l(m,e.lockRef.current))},[]),h=O.useCallback(function(m){u(m.type,I1(m),m.target,l(m,e.lockRef.current))},[]);O.useEffect(function(){return rh.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,th),document.addEventListener("touchmove",c,th),document.addEventListener("touchstart",d,th),function(){rh=rh.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,th),document.removeEventListener("touchmove",c,th),document.removeEventListener("touchstart",d,th)}},[]);var p=e.removeScrollBar,v=e.inert;return O.createElement(O.Fragment,null,v?O.createElement(i,{styles:Uoe(a)}):null,p?O.createElement(Ooe,{gapMode:e.gapMode}):null)}function Hoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Woe=yoe($9,Voe);var H9=O.forwardRef(function(e,t){return O.createElement(ww,hl({},e,{ref:t,sideCar:Woe}))});H9.classNames=ww.classNames;const W9=H9;var qoe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},nh=new WeakMap,M1=new WeakMap,R1={},cj=0,q9=function(e){return e&&(e.host||q9(e.parentNode))},Goe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=q9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Koe=function(e,t,r,n){var a=Goe(t,Array.isArray(e)?e:[e]);R1[r]||(R1[r]=new WeakMap);var i=R1[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(nh.get(h)||0)+1,x=(i.get(h)||0)+1;nh.set(h,m),i.set(h,x),o.push(h),m===1&&v&&M1.set(h,!0),x===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),l.clear(),cj++,function(){o.forEach(function(f){var h=nh.get(f)-1,p=i.get(f)-1;nh.set(f,h),i.set(f,p),h||(M1.has(f)||f.removeAttribute(n),M1.delete(f)),p||f.removeAttribute(r)}),cj--,cj||(nh=new WeakMap,nh=new WeakMap,M1=new WeakMap,R1={})}},G9=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||qoe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Koe(n,a,r,"aria-hidden")):function(){return null}},UC="Dialog",[K9,o9e]=vf(UC),[Yoe,Yo]=K9(UC),Y9=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=O.useRef(null),c=O.useRef(null),[u=!1,d]=u0({prop:n,defaultProp:a,onChange:i});return s.jsx(Yoe,{scope:t,triggerRef:l,contentRef:c,contentId:Au(),titleId:Au(),descriptionId:Au(),open:u,onOpenChange:d,onOpenToggle:O.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};Y9.displayName=UC;var X9="DialogTrigger",Xoe=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(X9,r),i=kn(t,a.triggerRef);return s.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":HC(a.open),...n,ref:i,onClick:cr(e.onClick,a.onOpenToggle)})});Xoe.displayName=X9;var zC="DialogPortal",[Joe,J9]=K9(zC,{forceMount:void 0}),Q9=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Yo(zC,t);return s.jsx(Joe,{scope:t,forceMount:r,children:O.Children.map(n,o=>s.jsx(Y0,{present:r||i.open,children:s.jsx(uw,{asChild:!0,container:a,children:o})}))})};Q9.displayName=zC;var w2="DialogOverlay",Z9=O.forwardRef((e,t)=>{const r=J9(w2,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Yo(w2,e.__scopeDialog);return i.modal?s.jsx(Y0,{present:n||i.open,children:s.jsx(Qoe,{...a,ref:t})}):null});Z9.displayName=w2;var Qoe=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(w2,r);return s.jsx(W9,{as:ef,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(_r.div,{"data-state":HC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),rf="DialogContent",eU=O.forwardRef((e,t)=>{const r=J9(rf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Yo(rf,e.__scopeDialog);return s.jsx(Y0,{present:n||i.open,children:i.modal?s.jsx(Zoe,{...a,ref:t}):s.jsx(ele,{...a,ref:t})})});eU.displayName=rf;var Zoe=O.forwardRef((e,t)=>{const r=Yo(rf,e.__scopeDialog),n=O.useRef(null),a=kn(t,r.contentRef,n);return O.useEffect(()=>{const i=n.current;if(i)return G9(i)},[]),s.jsx(tU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cr(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:cr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:cr(e.onFocusOutside,i=>i.preventDefault())})}),ele=O.forwardRef((e,t)=>{const r=Yo(rf,e.__scopeDialog),n=O.useRef(!1),a=O.useRef(!1);return s.jsx(tU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),tU=O.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Yo(rf,r),c=O.useRef(null),u=kn(t,c);return I9(),s.jsxs(s.Fragment,{children:[s.jsx(BC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(cw,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":HC(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(tle,{titleId:l.titleId}),s.jsx(nle,{contentRef:c,descriptionId:l.descriptionId})]})]})}),VC="DialogTitle",rU=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(VC,r);return s.jsx(_r.h2,{id:a.titleId,...n,ref:t})});rU.displayName=VC;var nU="DialogDescription",aU=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(nU,r);return s.jsx(_r.p,{id:a.descriptionId,...n,ref:t})});aU.displayName=nU;var iU="DialogClose",sU=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(iU,r);return s.jsx(_r.button,{type:"button",...n,ref:t,onClick:cr(e.onClick,()=>a.onOpenChange(!1))})});sU.displayName=iU;function HC(e){return e?"open":"closed"}var oU="DialogTitleWarning",[l9e,lU]=lte(oU,{contentName:rf,titleName:VC,docsSlug:"dialog"}),tle=({titleId:e})=>{const t=lU(oU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return O.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},rle="DialogDescriptionWarning",nle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lU(rle).contentName}}.`;return O.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ale=Y9,ile=Q9,cU=Z9,uU=eU,dU=rU,fU=aU,sle=sU;const ur=ale,ole=ile,hU=Ae.forwardRef(({className:e,...t},r)=>s.jsx(cU,{ref:r,className:yr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));hU.displayName=cU.displayName;const ir=Ae.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(ole,{children:[s.jsx(hU,{}),s.jsxs(uU,{ref:n,className:yr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(sle,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500",children:[s.jsx(X0,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ir.displayName=uU.displayName;const dr=({className:e,...t})=>s.jsx("div",{className:yr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dr.displayName="DialogHeader";const Ar=({className:e,...t})=>s.jsx("div",{className:yr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ar.displayName="DialogFooter";const fr=Ae.forwardRef(({className:e,...t},r)=>s.jsx(dU,{ref:r,className:yr("text-lg font-semibold leading-none tracking-tight",e),...t}));fr.displayName=dU.displayName;const Lu=Ae.forwardRef(({className:e,...t},r)=>s.jsx(fU,{ref:r,className:yr("text-sm text-slate-500",e),...t}));Lu.displayName=fU.displayName;var lle="Label",pU=O.forwardRef((e,t)=>s.jsx(_r.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));pU.displayName=lle;var mU=pU;const ye=Ae.forwardRef(({className:e,...t},r)=>s.jsx(mU,{ref:r,className:yr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));ye.displayName=mU.displayName;function k6(e,[t,r]){return Math.min(r,Math.max(t,e))}var cle=O.createContext(void 0);function WC(e){const t=O.useContext(cle);return e||t||"ltr"}const ule=["top","right","bottom","left"],Iu=Math.min,vs=Math.max,_2=Math.round,$1=Math.floor,bl=e=>({x:e,y:e}),dle={left:"right",right:"left",bottom:"top",top:"bottom"},fle={start:"end",end:"start"};function HN(e,t,r){return vs(e,Iu(t,r))}function bc(e,t){return typeof e=="function"?e(t):e}function wc(e){return e.split("-")[0]}function Q0(e){return e.split("-")[1]}function qC(e){return e==="x"?"y":"x"}function GC(e){return e==="y"?"height":"width"}function Mu(e){return["top","bottom"].includes(wc(e))?"y":"x"}function KC(e){return qC(Mu(e))}function hle(e,t,r){r===void 0&&(r=!1);const n=Q0(e),a=KC(e),i=GC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=j2(o)),[o,j2(o)]}function ple(e){const t=j2(e);return[WN(e),t,WN(t)]}function WN(e){return e.replace(/start|end/g,t=>fle[t])}function mle(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function gle(e,t,r,n){const a=Q0(e);let i=mle(wc(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(WN)))),i}function j2(e){return e.replace(/left|right|bottom|top/g,t=>dle[t])}function vle(e){return{top:0,right:0,bottom:0,left:0,...e}}function gU(e){return typeof e!="number"?vle(e):{top:e,right:e,bottom:e,left:e}}function S2(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function P6(e,t,r){let{reference:n,floating:a}=e;const i=Mu(t),o=KC(t),l=GC(o),c=wc(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Q0(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const xle=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=P6(u,n,c),h=n,p={},v=0;for(let m=0;m<l.length;m++){const{name:x,fn:g}=l[m],{x:y,y:b,data:S,reset:_}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=b??f,p={...p,[x]:{...p[x],...S}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=P6(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function Hg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=bc(t,e),v=gU(p),x=l[h?f==="floating"?"reference":"floating":f],g=S2(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=S2(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(g.top-_.top+v.top)/S.y,bottom:(_.bottom-g.bottom+v.bottom)/S.y,left:(g.left-_.left+v.left)/S.x,right:(_.right-g.right+v.right)/S.x}}const yle=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=bc(e,t)||{};if(u==null)return{};const f=gU(d),h={x:r,y:n},p=KC(a),v=GC(p),m=await o.getDimensions(u),x=p==="y",g=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[p]-h[p]-i.floating[v],_=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=N?N[b]:0;(!j||!await(o.isElement==null?void 0:o.isElement(N)))&&(j=l.floating[b]||i.floating[v]);const A=S/2-_/2,P=j/2-m[v]/2-1,H=Iu(f[g],P),C=Iu(f[y],P),k=H,U=j-m[v]-C,D=j/2-m[v]/2+A,M=HN(k,D,U),B=!c.arrow&&Q0(a)!=null&&D!==M&&i.reference[v]/2-(D<k?H:C)-m[v]/2<0,I=B?D<k?D-k:D-U:0;return{[p]:h[p]+I,data:{[p]:M,centerOffset:D-M-I,...B&&{alignmentOffset:I}},reset:B}}}),ble=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...x}=bc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=wc(a),y=Mu(l),b=wc(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!m?[j2(l)]:ple(l)),N=v!=="none";!h&&N&&_.push(...gle(l,m,v,S));const j=[l,..._],A=await Hg(t,x),P=[];let H=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(A[g]),f){const D=hle(a,o,S);P.push(A[D[0]],A[D[1]])}if(H=[...H,{placement:a,overflows:P}],!P.every(D=>D<=0)){var C,k;const D=(((C=i.flip)==null?void 0:C.index)||0)+1,M=j[D];if(M)return{data:{index:D,overflows:H},reset:{placement:M}};let B=(k=H.filter(I=>I.overflows[0]<=0).sort((I,q)=>I.overflows[1]-q.overflows[1])[0])==null?void 0:k.placement;if(!B)switch(p){case"bestFit":{var U;const I=(U=H.filter(q=>{if(N){const F=Mu(q.placement);return F===y||F==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(F=>F>0).reduce((F,z)=>F+z,0)]).sort((q,F)=>q[1]-F[1])[0])==null?void 0:U[0];I&&(B=I);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function O6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function F6(e){return ule.some(t=>e[t]>=0)}const wle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=bc(e,t);switch(n){case"referenceHidden":{const i=await Hg(t,{...a,elementContext:"reference"}),o=O6(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:F6(o)}}}case"escaped":{const i=await Hg(t,{...a,altBoundary:!0}),o=O6(i,r.floating);return{data:{escapedOffsets:o,escaped:F6(o)}}}default:return{}}}}};async function _le(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=wc(r),l=Q0(r),c=Mu(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=bc(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const jle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await _le(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Sle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:g,y}=x;return{x:g,y}}},...c}=bc(e,t),u={x:r,y:n},d=await Hg(t,c),f=Mu(wc(a)),h=qC(f);let p=u[h],v=u[f];if(i){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=p+d[x],b=p-d[g];p=HN(y,p,b)}if(o){const x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=v+d[x],b=v-d[g];v=HN(y,v,b)}const m=l.fn({...t,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},Nle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bc(e,t),d={x:r,y:n},f=Mu(a),h=qC(f);let p=d[h],v=d[f];const m=bc(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",S=i.reference[h]-i.floating[b]+x.mainAxis,_=i.reference[h]+i.reference[b]-x.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var g,y;const b=h==="y"?"width":"height",S=["top","left"].includes(wc(a)),_=i.reference[f]-i.floating[b]+(S&&((g=o.offset)==null?void 0:g[f])||0)+(S?0:x.crossAxis),N=i.reference[f]+i.reference[b]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?x.crossAxis:0);v<_?v=_:v>N&&(v=N)}return{[h]:p,[f]:v}}}},Ale=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=bc(e,t),d=await Hg(t,u),f=wc(a),h=Q0(a),p=Mu(a)==="y",{width:v,height:m}=i.floating;let x,g;f==="top"||f==="bottom"?(x=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,x=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=v-d.left-d.right,S=Iu(m-d[x],y),_=Iu(v-d[g],b),N=!t.middlewareData.shift;let j=S,A=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=y),N&&!h){const H=vs(d.left,0),C=vs(d.right,0),k=vs(d.top,0),U=vs(d.bottom,0);p?A=v-2*(H!==0||C!==0?H+C:vs(d.left,d.right)):j=m-2*(k!==0||U!==0?k+U:vs(d.top,d.bottom))}await c({...t,availableWidth:A,availableHeight:j});const P=await o.getDimensions(l.floating);return v!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function _w(){return typeof window<"u"}function Z0(e){return vU(e)?(e.nodeName||"").toLowerCase():"#document"}function As(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tl(e){var t;return(t=(vU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vU(e){return _w()?e instanceof Node||e instanceof As(e).Node:!1}function qo(e){return _w()?e instanceof Element||e instanceof As(e).Element:!1}function Sl(e){return _w()?e instanceof HTMLElement||e instanceof As(e).HTMLElement:!1}function D6(e){return!_w()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof As(e).ShadowRoot}function Qv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Go(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function Tle(e){return["table","td","th"].includes(Z0(e))}function jw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function YC(e){const t=XC(),r=qo(e)?Go(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Cle(e){let t=Ru(e);for(;Sl(t)&&!v0(t);){if(YC(t))return t;if(jw(t))return null;t=Ru(t)}return null}function XC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function v0(e){return["html","body","#document"].includes(Z0(e))}function Go(e){return As(e).getComputedStyle(e)}function Sw(e){return qo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ru(e){if(Z0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||D6(e)&&e.host||Tl(e);return D6(t)?t.host:t}function xU(e){const t=Ru(e);return v0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sl(t)&&Qv(t)?t:xU(t)}function Wg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=xU(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=As(a);if(i){const l=qN(o);return t.concat(o,o.visualViewport||[],Qv(a)?a:[],l&&r?Wg(l):[])}return t.concat(a,Wg(a,[],r))}function qN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yU(e){const t=Go(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Sl(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=_2(r)!==i||_2(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function JC(e){return qo(e)?e:e.contextElement}function Kh(e){const t=JC(e);if(!Sl(t))return bl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=yU(t);let o=(i?_2(r.width):r.width)/n,l=(i?_2(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Ele=bl(0);function bU(e){const t=As(e);return!XC()||!t.visualViewport?Ele:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kle(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==As(e)?!1:t}function nf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=JC(e);let o=bl(1);t&&(n?qo(n)&&(o=Kh(n)):o=Kh(e));const l=kle(i,r,n)?bU(i):bl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=As(i),p=n&&qo(n)?As(n):n;let v=h,m=qN(v);for(;m&&n&&p!==v;){const x=Kh(m),g=m.getBoundingClientRect(),y=Go(m),b=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,S=g.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=S,v=As(m),m=qN(v)}}return S2({width:d,height:f,x:c,y:u})}function QC(e,t){const r=Sw(e).scrollLeft;return t?t.left+r:nf(Tl(e)).left+r}function wU(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:QC(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Ple(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Tl(n),l=t?jw(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=bl(1);const d=bl(0),f=Sl(n);if((f||!f&&!i)&&((Z0(n)!=="body"||Qv(o))&&(c=Sw(n)),Sl(n))){const p=nf(n);u=Kh(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?wU(o,c,!0):bl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Ole(e){return Array.from(e.getClientRects())}function Fle(e){const t=Tl(e),r=Sw(e),n=e.ownerDocument.body,a=vs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=vs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+QC(e);const l=-r.scrollTop;return Go(n).direction==="rtl"&&(o+=vs(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Dle(e,t){const r=As(e),n=Tl(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=XC();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Lle(e,t){const r=nf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Sl(e)?Kh(e):bl(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function L6(e,t,r){let n;if(t==="viewport")n=Dle(e,r);else if(t==="document")n=Fle(Tl(e));else if(qo(t))n=Lle(t,r);else{const a=bU(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return S2(n)}function _U(e,t){const r=Ru(e);return r===t||!qo(r)||v0(r)?!1:Go(r).position==="fixed"||_U(r,t)}function Ile(e,t){const r=t.get(e);if(r)return r;let n=Wg(e,[],!1).filter(l=>qo(l)&&Z0(l)!=="body"),a=null;const i=Go(e).position==="fixed";let o=i?Ru(e):e;for(;qo(o)&&!v0(o);){const l=Go(o),c=YC(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Qv(o)&&!c&&_U(e,o))?n=n.filter(d=>d!==o):a=l,o=Ru(o)}return t.set(e,n),n}function Mle(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?jw(t)?[]:Ile(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=L6(t,d,a);return u.top=vs(f.top,u.top),u.right=Iu(f.right,u.right),u.bottom=Iu(f.bottom,u.bottom),u.left=vs(f.left,u.left),u},L6(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Rle(e){const{width:t,height:r}=yU(e);return{width:t,height:r}}function $le(e,t,r){const n=Sl(t),a=Tl(t),i=r==="fixed",o=nf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=bl(0);if(n||!n&&!i)if((Z0(t)!=="body"||Qv(a))&&(l=Sw(t)),n){const h=nf(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=QC(a));const u=a&&!n&&!i?wU(a,l):bl(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function uj(e){return Go(e).position==="static"}function I6(e,t){if(!Sl(e)||Go(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Tl(e)===r&&(r=r.ownerDocument.body),r}function jU(e,t){const r=As(e);if(jw(e))return r;if(!Sl(e)){let a=Ru(e);for(;a&&!v0(a);){if(qo(a)&&!uj(a))return a;a=Ru(a)}return r}let n=I6(e,t);for(;n&&Tle(n)&&uj(n);)n=I6(n,t);return n&&v0(n)&&uj(n)&&!YC(n)?r:n||Cle(e)||r}const Ble=async function(e){const t=this.getOffsetParent||jU,r=this.getDimensions,n=await r(e.floating);return{reference:$le(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ule(e){return Go(e).direction==="rtl"}const zle={convertOffsetParentRelativeRectToViewportRelativeRect:Ple,getDocumentElement:Tl,getClippingRect:Mle,getOffsetParent:jU,getElementRects:Ble,getClientRects:Ole,getDimensions:Rle,getScale:Kh,isElement:qo,isRTL:Ule};function Vle(e,t){let r=null,n;const a=Tl(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const p=$1(d),v=$1(a.clientWidth-(u+f)),m=$1(a.clientHeight-(d+h)),x=$1(u),y={rootMargin:-p+"px "+-v+"px "+-m+"px "+-x+"px",threshold:vs(0,Iu(1,c))||1};let b=!0;function S(_){const N=_[0].intersectionRatio;if(N!==c){if(!b)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(S,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(e)}return o(!0),i}function Hle(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=JC(e),d=a||i?[...u?Wg(u):[],...Wg(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?Vle(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let v,m=c?nf(e):null;c&&x();function x(){const g=nf(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&r(),m=g,v=requestAnimationFrame(x)}return r(),()=>{var g;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const Wle=jle,qle=Sle,Gle=ble,Kle=Ale,Yle=wle,M6=yle,Xle=Nle,Jle=(e,t,r)=>{const n=new Map,a={platform:zle,...r},i={...a.platform,_c:n};return xle(e,t,{...a,platform:i})};var Uy=typeof document<"u"?O.useLayoutEffect:O.useEffect;function N2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!N2(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!N2(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function SU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function R6(e,t){const r=SU(e);return Math.round(t*r)/r}function dj(e){const t=O.useRef(e);return Uy(()=>{t.current=e}),t}function Qle(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=O.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=O.useState(n);N2(h,n)||p(n);const[v,m]=O.useState(null),[x,g]=O.useState(null),y=O.useCallback(q=>{q!==N.current&&(N.current=q,m(q))},[]),b=O.useCallback(q=>{q!==j.current&&(j.current=q,g(q))},[]),S=i||v,_=o||x,N=O.useRef(null),j=O.useRef(null),A=O.useRef(d),P=c!=null,H=dj(c),C=dj(a),k=dj(u),U=O.useCallback(()=>{if(!N.current||!j.current)return;const q={placement:t,strategy:r,middleware:h};C.current&&(q.platform=C.current),Jle(N.current,j.current,q).then(F=>{const z={...F,isPositioned:k.current!==!1};D.current&&!N2(A.current,z)&&(A.current=z,mf.flushSync(()=>{f(z)}))})},[h,t,r,C,k]);Uy(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const D=O.useRef(!1);Uy(()=>(D.current=!0,()=>{D.current=!1}),[]),Uy(()=>{if(S&&(N.current=S),_&&(j.current=_),S&&_){if(H.current)return H.current(S,_,U);U()}},[S,_,U,H,P]);const M=O.useMemo(()=>({reference:N,floating:j,setReference:y,setFloating:b}),[y,b]),B=O.useMemo(()=>({reference:S,floating:_}),[S,_]),I=O.useMemo(()=>{const q={position:r,left:0,top:0};if(!B.floating)return q;const F=R6(B.floating,d.x),z=R6(B.floating,d.y);return l?{...q,transform:"translate("+F+"px, "+z+"px)",...SU(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:z}},[r,l,B.floating,d.x,d.y]);return O.useMemo(()=>({...d,update:U,refs:M,elements:B,floatingStyles:I}),[d,U,M,B,I])}const Zle=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?M6({element:n.current,padding:a}).fn(r):{}:n?M6({element:n,padding:a}).fn(r):{}}}},ece=(e,t)=>({...Wle(e),options:[e,t]}),tce=(e,t)=>({...qle(e),options:[e,t]}),rce=(e,t)=>({...Xle(e),options:[e,t]}),nce=(e,t)=>({...Gle(e),options:[e,t]}),ace=(e,t)=>({...Kle(e),options:[e,t]}),ice=(e,t)=>({...Yle(e),options:[e,t]}),sce=(e,t)=>({...Zle(e),options:[e,t]});var oce="Arrow",NU=O.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(_r.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});NU.displayName=oce;var lce=NU;function cce(e){const[t,r]=O.useState(void 0);return wi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ZC="Popper",[AU,TU]=vf(ZC),[uce,CU]=AU(ZC),EU=e=>{const{__scopePopper:t,children:r}=e,[n,a]=O.useState(null);return s.jsx(uce,{scope:t,anchor:n,onAnchorChange:a,children:r})};EU.displayName=ZC;var kU="PopperAnchor",PU=O.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=CU(kU,r),o=O.useRef(null),l=kn(t,o);return O.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(_r.div,{...a,ref:l})});PU.displayName=kU;var eE="PopperContent",[dce,fce]=AU(eE),OU=O.forwardRef((e,t)=>{var ee,oe,G,se,he,Q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=e,x=CU(eE,r),[g,y]=O.useState(null),b=kn(t,Pe=>y(Pe)),[S,_]=O.useState(null),N=cce(S),j=(N==null?void 0:N.width)??0,A=(N==null?void 0:N.height)??0,P=n+(i!=="center"?"-"+i:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],k=C.length>0,U={padding:H,boundary:C.filter(pce),altBoundary:k},{refs:D,floatingStyles:M,placement:B,isPositioned:I,middlewareData:q}=Qle({strategy:"fixed",placement:P,whileElementsMounted:(...Pe)=>Hle(...Pe,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[ece({mainAxis:a+A,alignmentAxis:o}),c&&tce({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?rce():void 0,...U}),c&&nce({...U}),ace({...U,apply:({elements:Pe,rects:De,availableWidth:je,availableHeight:Z})=>{const{width:ke,height:Ge}=De.reference,Le=Pe.floating.style;Le.setProperty("--radix-popper-available-width",`${je}px`),Le.setProperty("--radix-popper-available-height",`${Z}px`),Le.setProperty("--radix-popper-anchor-width",`${ke}px`),Le.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),S&&sce({element:S,padding:l}),mce({arrowWidth:j,arrowHeight:A}),h&&ice({strategy:"referenceHidden",...U})]}),[F,z]=LU(B),J=ns(v);wi(()=>{I&&(J==null||J())},[I,J]);const E=(ee=q.arrow)==null?void 0:ee.x,V=(oe=q.arrow)==null?void 0:oe.y,K=((G=q.arrow)==null?void 0:G.centerOffset)!==0,[W,Y]=O.useState();return wi(()=>{g&&Y(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:I?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(se=q.transformOrigin)==null?void 0:se.x,(he=q.transformOrigin)==null?void 0:he.y].join(" "),...((Q=q.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(dce,{scope:r,placedSide:F,onArrowChange:_,arrowX:E,arrowY:V,shouldHideArrow:K,children:s.jsx(_r.div,{"data-side":F,"data-align":z,...m,ref:b,style:{...m.style,animation:I?void 0:"none"}})})})});OU.displayName=eE;var FU="PopperArrow",hce={top:"bottom",right:"left",bottom:"top",left:"right"},DU=O.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=fce(FU,n),o=hce[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(lce,{...a,ref:r,style:{...a.style,display:"block"}})})});DU.displayName=FU;function pce(e){return e!==null}var mce=e=>({name:"transformOrigin",options:e,fn(t){var x,g,y;const{placement:r,rects:n,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=LU(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=o?f:`${h}px`,m=`${-c}px`):u==="top"?(v=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:v,y:m}}}});function LU(e){const[t,r="center"]=e.split("-");return[t,r]}var gce=EU,vce=PU,xce=OU,yce=DU;function bce(e){const t=O.useRef({value:e,previous:e});return O.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wce=[" ","Enter","ArrowUp","ArrowDown"],_ce=[" ","Enter"],Zv="Select",[Nw,Aw,jce]=XT(Zv),[ep,c9e]=vf(Zv,[jce,TU]),Tw=TU(),[Sce,Gu]=ep(Zv),[Nce,Ace]=ep(Zv),IU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,m=Tw(t),[x,g]=O.useState(null),[y,b]=O.useState(null),[S,_]=O.useState(!1),N=WC(u),[j=!1,A]=u0({prop:n,defaultProp:a,onChange:i}),[P,H]=u0({prop:o,defaultProp:l,onChange:c}),C=O.useRef(null),k=x?v||!!x.closest("form"):!0,[U,D]=O.useState(new Set),M=Array.from(U).map(B=>B.props.value).join(";");return s.jsx(gce,{...m,children:s.jsxs(Sce,{required:p,scope:t,trigger:x,onTriggerChange:g,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Au(),value:P,onValueChange:H,open:j,onOpenChange:A,dir:N,triggerPointerDownPosRef:C,disabled:h,children:[s.jsx(Nw.Provider,{scope:t,children:s.jsx(Nce,{scope:e.__scopeSelect,onNativeOptionAdd:O.useCallback(B=>{D(I=>new Set(I).add(B))},[]),onNativeOptionRemove:O.useCallback(B=>{D(I=>{const q=new Set(I);return q.delete(B),q})},[]),children:r})}),k?s.jsxs(iz,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:B=>H(B.target.value),disabled:h,form:v,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},M):null]})})};IU.displayName=Zv;var MU="SelectTrigger",RU=O.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Tw(r),o=Gu(MU,r),l=o.disabled||n,c=kn(t,o.onTriggerChange),u=Aw(r),d=O.useRef("touch"),[f,h,p]=sz(m=>{const x=u().filter(b=>!b.disabled),g=x.find(b=>b.value===o.value),y=oz(x,m,g);y!==void 0&&o.onValueChange(y.value)}),v=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(vce,{asChild:!0,...i,children:s.jsx(_r.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":az(o.value)?"":void 0,...a,ref:c,onClick:cr(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:cr(a.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:cr(a.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&wce.includes(m.key)&&(v(),m.preventDefault())})})})});RU.displayName=MU;var $U="SelectValue",BU=O.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Gu($U,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=kn(t,c.onValueNodeChange);return wi(()=>{u(d)},[u,d]),s.jsx(_r.span,{...l,ref:f,style:{pointerEvents:"none"},children:az(c.value)?s.jsx(s.Fragment,{children:o}):i})});BU.displayName=$U;var Tce="SelectIcon",UU=O.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(_r.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});UU.displayName=Tce;var Cce="SelectPortal",zU=e=>s.jsx(uw,{asChild:!0,...e});zU.displayName=Cce;var af="SelectContent",VU=O.forwardRef((e,t)=>{const r=Gu(af,e.__scopeSelect),[n,a]=O.useState();if(wi(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?mf.createPortal(s.jsx(HU,{scope:e.__scopeSelect,children:s.jsx(Nw.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(WU,{...e,ref:t})});VU.displayName=af;var Ao=10,[HU,Ku]=ep(af),Ece="SelectContentImpl",WU=O.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:x,...g}=e,y=Gu(af,r),[b,S]=O.useState(null),[_,N]=O.useState(null),j=kn(t,ee=>S(ee)),[A,P]=O.useState(null),[H,C]=O.useState(null),k=Aw(r),[U,D]=O.useState(!1),M=O.useRef(!1);O.useEffect(()=>{if(b)return G9(b)},[b]),I9();const B=O.useCallback(ee=>{const[oe,...G]=k().map(Q=>Q.ref.current),[se]=G.slice(-1),he=document.activeElement;for(const Q of ee)if(Q===he||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===oe&&_&&(_.scrollTop=0),Q===se&&_&&(_.scrollTop=_.scrollHeight),Q==null||Q.focus(),document.activeElement!==he))return},[k,_]),I=O.useCallback(()=>B([A,b]),[B,A,b]);O.useEffect(()=>{U&&I()},[U,I]);const{onOpenChange:q,triggerPointerDownPosRef:F}=y;O.useEffect(()=>{if(b){let ee={x:0,y:0};const oe=se=>{var he,Q;ee={x:Math.abs(Math.round(se.pageX)-(((he=F.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(se.pageY)-(((Q=F.current)==null?void 0:Q.y)??0))}},G=se=>{ee.x<=10&&ee.y<=10?se.preventDefault():b.contains(se.target)||q(!1),document.removeEventListener("pointermove",oe),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",G,{capture:!0})}}},[b,q,F]),O.useEffect(()=>{const ee=()=>q(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[q]);const[z,J]=sz(ee=>{const oe=k().filter(he=>!he.disabled),G=oe.find(he=>he.ref.current===document.activeElement),se=oz(oe,ee,G);se&&setTimeout(()=>se.ref.current.focus())}),E=O.useCallback((ee,oe,G)=>{const se=!M.current&&!G;(y.value!==void 0&&y.value===oe||se)&&(P(ee),se&&(M.current=!0))},[y.value]),V=O.useCallback(()=>b==null?void 0:b.focus(),[b]),K=O.useCallback((ee,oe,G)=>{const se=!M.current&&!G;(y.value!==void 0&&y.value===oe||se)&&C(ee)},[y.value]),W=n==="popper"?GN:qU,Y=W===GN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:x}:{};return s.jsx(HU,{scope:r,content:b,viewport:_,onViewportChange:N,itemRefCallback:E,selectedItem:A,onItemLeave:V,itemTextRefCallback:K,focusSelectedItem:I,selectedItemText:H,position:n,isPositioned:U,searchRef:z,children:s.jsx(W9,{as:ef,allowPinchZoom:!0,children:s.jsx(BC,{asChild:!0,trapped:y.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:cr(a,ee=>{var oe;(oe=y.trigger)==null||oe.focus({preventScroll:!0}),ee.preventDefault()}),children:s.jsx(cw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(W,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ee=>ee.preventDefault(),...g,...Y,onPlaced:()=>D(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:cr(g.onKeyDown,ee=>{const oe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!oe&&ee.key.length===1&&J(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let se=k().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const he=ee.target,Q=se.indexOf(he);se=se.slice(Q+1)}setTimeout(()=>B(se)),ee.preventDefault()}})})})})})})});WU.displayName=Ece;var kce="SelectItemAlignedPosition",qU=O.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Gu(af,r),o=Ku(af,r),[l,c]=O.useState(null),[u,d]=O.useState(null),f=kn(t,j=>d(j)),h=Aw(r),p=O.useRef(!1),v=O.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:g,focusSelectedItem:y}=o,b=O.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&x&&g){const j=i.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),H=g.getBoundingClientRect();if(i.dir!=="rtl"){const he=H.left-A.left,Q=P.left-he,Pe=j.left-Q,De=j.width+Pe,je=Math.max(De,A.width),Z=window.innerWidth-Ao,ke=k6(Q,[Ao,Math.max(Ao,Z-je)]);l.style.minWidth=De+"px",l.style.left=ke+"px"}else{const he=A.right-H.right,Q=window.innerWidth-P.right-he,Pe=window.innerWidth-j.right-Q,De=j.width+Pe,je=Math.max(De,A.width),Z=window.innerWidth-Ao,ke=k6(Q,[Ao,Math.max(Ao,Z-je)]);l.style.minWidth=De+"px",l.style.right=ke+"px"}const C=h(),k=window.innerHeight-Ao*2,U=m.scrollHeight,D=window.getComputedStyle(u),M=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),I=parseInt(D.borderBottomWidth,10),q=parseInt(D.paddingBottom,10),F=M+B+U+q+I,z=Math.min(x.offsetHeight*5,F),J=window.getComputedStyle(m),E=parseInt(J.paddingTop,10),V=parseInt(J.paddingBottom,10),K=j.top+j.height/2-Ao,W=k-K,Y=x.offsetHeight/2,ee=x.offsetTop+Y,oe=M+B+ee,G=F-oe;if(oe<=K){const he=C.length>0&&x===C[C.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-m.offsetTop-m.offsetHeight,Pe=Math.max(W,Y+(he?V:0)+Q+I),De=oe+Pe;l.style.height=De+"px"}else{const he=C.length>0&&x===C[0].ref.current;l.style.top="0px";const Pe=Math.max(K,M+m.offsetTop+(he?E:0)+Y)+G;l.style.height=Pe+"px",m.scrollTop=oe-K+m.offsetTop}l.style.margin=`${Ao}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,x,g,i.dir,n]);wi(()=>b(),[b]);const[S,_]=O.useState();wi(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=O.useCallback(j=>{j&&v.current===!0&&(b(),y==null||y(),v.current=!1)},[b,y]);return s.jsx(Oce,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(_r.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});qU.displayName=kce;var Pce="SelectPopperPosition",GN=O.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ao,...i}=e,o=Tw(r);return s.jsx(xce,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});GN.displayName=Pce;var[Oce,tE]=ep(af,{}),KN="SelectViewport",GU=O.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ku(KN,r),o=tE(KN,r),l=kn(t,i.onViewportChange),c=O.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Nw.Slot,{scope:r,children:s.jsx(_r.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:cr(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-Ao*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),g=Math.max(m,x);if(g<v){const y=g+p,b=Math.min(v,y),S=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});GU.displayName=KN;var KU="SelectGroup",[Fce,Dce]=ep(KU),Lce=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Au();return s.jsx(Fce,{scope:r,id:a,children:s.jsx(_r.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Lce.displayName=KU;var YU="SelectLabel",XU=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Dce(YU,r);return s.jsx(_r.div,{id:a.id,...n,ref:t})});XU.displayName=YU;var A2="SelectItem",[Ice,JU]=ep(A2),QU=O.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Gu(A2,r),c=Ku(A2,r),u=l.value===n,[d,f]=O.useState(i??""),[h,p]=O.useState(!1),v=kn(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,a)}),m=Au(),x=O.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Ice,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:O.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Nw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(_r.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:cr(o.onFocus,()=>p(!0)),onBlur:cr(o.onBlur,()=>p(!1)),onClick:cr(o.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:cr(o.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:cr(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:cr(o.onPointerMove,y=>{var b;x.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:cr(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:cr(o.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(_ce.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});QU.displayName=A2;var Om="SelectItemText",ZU=O.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Gu(Om,r),l=Ku(Om,r),c=JU(Om,r),u=Ace(Om,r),[d,f]=O.useState(null),h=kn(t,g=>f(g),c.onItemTextChange,g=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,g,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=O.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return wi(()=>(m(v),()=>x(v)),[m,x,v]),s.jsxs(s.Fragment,{children:[s.jsx(_r.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?mf.createPortal(i.children,o.valueNode):null]})});ZU.displayName=Om;var ez="SelectItemIndicator",tz=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return JU(ez,r).isSelected?s.jsx(_r.span,{"aria-hidden":!0,...n,ref:t}):null});tz.displayName=ez;var YN="SelectScrollUpButton",Mce=O.forwardRef((e,t)=>{const r=Ku(YN,e.__scopeSelect),n=tE(YN,e.__scopeSelect),[a,i]=O.useState(!1),o=kn(t,n.onScrollButtonChange);return wi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(rz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Mce.displayName=YN;var XN="SelectScrollDownButton",Rce=O.forwardRef((e,t)=>{const r=Ku(XN,e.__scopeSelect),n=tE(XN,e.__scopeSelect),[a,i]=O.useState(!1),o=kn(t,n.onScrollButtonChange);return wi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(rz,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Rce.displayName=XN;var rz=O.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ku("SelectScrollButton",r),o=O.useRef(null),l=Aw(r),c=O.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return O.useEffect(()=>()=>c(),[c]),wi(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(_r.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:cr(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:cr(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:cr(a.onPointerLeave,()=>{c()})})}),$ce="SelectSeparator",nz=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(_r.div,{"aria-hidden":!0,...n,ref:t})});nz.displayName=$ce;var JN="SelectArrow",Bce=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Tw(r),i=Gu(JN,r),o=Ku(JN,r);return i.open&&o.position==="popper"?s.jsx(yce,{...a,...n,ref:t}):null});Bce.displayName=JN;function az(e){return e===""||e===void 0}var iz=O.forwardRef((e,t)=>{const{value:r,...n}=e,a=O.useRef(null),i=kn(t,a),o=bce(r);return O.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(dw,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});iz.displayName="BubbleSelect";function sz(e){const t=ns(e),r=O.useRef(""),n=O.useRef(0),a=O.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=O.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function oz(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Uce(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Uce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zce=IU,lz=RU,Vce=BU,Hce=UU,Wce=zU,cz=VU,qce=GU,uz=XU,dz=QU,Gce=ZU,Kce=tz,fz=nz;const bt=zce,wt=Vce,xt=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(lz,{ref:n,className:yr("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",e),...r,children:[t,s.jsx(Hce,{asChild:!0,children:s.jsx(rC,{className:"h-4 w-4 opacity-50"})})]}));xt.displayName=lz.displayName;const yt=O.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Wce,{children:s.jsx(cz,{ref:a,className:yr("relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:s.jsx(qce,{className:yr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));yt.displayName=cz.displayName;const Yce=O.forwardRef(({className:e,...t},r)=>s.jsx(uz,{ref:r,className:yr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Yce.displayName=uz.displayName;const Ie=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(dz,{ref:n,className:yr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Kce,{children:s.jsx(tC,{className:"h-4 w-4"})})}),s.jsx(Gce,{children:t})]}));Ie.displayName=dz.displayName;const Xce=O.forwardRef(({className:e,...t},r)=>s.jsx(fz,{ref:r,className:yr("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",e),...t}));Xce.displayName=fz.displayName;const We=O.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:yr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));We.displayName="Input";const kr=O.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:yr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));kr.displayName="Textarea";const Jce=({isOpen:e,onClose:t,student:r,onSuccess:n})=>{const{toast:a}=Cr(),[i,o]=O.useState(!1),[l,c]=O.useState({first_name:"",last_name:"",hebrew_name:"",class_id:"",date_of_birth:"",address:"",father_name:"",father_phone:"",father_email:"",mother_name:"",mother_phone:"",mother_email:"",emergency_contact:"",emergency_phone:"",notes:"",is_active:!0}),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState([]);O.useEffect(()=>{e&&(g(),r?(c({first_name:r.first_name||"",last_name:r.last_name||"",hebrew_name:r.hebrew_name||"",class_id:r.class_id||"",date_of_birth:r.date_of_birth||"",address:r.address||"",father_name:r.father_name||"",father_phone:r.father_phone||"",father_email:r.father_email||"",mother_name:r.mother_name||"",mother_phone:r.mother_phone||"",mother_email:r.mother_email||"",emergency_contact:r.emergency_contact||"",emergency_phone:r.emergency_phone||"",notes:r.notes||"",is_active:r.is_active!==!1}),m(r.id)):(x(),d([])))},[r,e]);const m=async S=>{const{data:_}=await Ne.from("tutor_assignments").select("tutor_id").eq("student_id",S).eq("is_active",!0);_&&d(_.map(N=>N.tutor_id))},x=()=>{c({first_name:"",last_name:"",hebrew_name:"",class_id:"",date_of_birth:"",address:"",father_name:"",father_phone:"",father_email:"",mother_name:"",mother_phone:"",mother_email:"",emergency_contact:"",emergency_phone:"",notes:"",is_active:!0})},g=async()=>{try{const{data:S}=await Ne.from("classes").select("id, name, grade:grades(name)").eq("is_active",!0).order("name");h(S||[]);const{data:_}=await Ne.from("app_users").select("id, first_name, last_name").eq("role","tutor").eq("is_active",!0).order("last_name");v(_||[])}catch(S){console.error("Error fetching options:",S)}},y=S=>{d(_=>_.includes(S)?_.filter(N=>N!==S):[..._,S])},b=async S=>{if(S.preventDefault(),o(!0),!l.first_name||!l.last_name){a({variant:"destructive",title:"Error",description:"First name and last name are required"}),o(!1);return}try{let _=r==null?void 0:r.id;const N={first_name:l.first_name,last_name:l.last_name,hebrew_name:l.hebrew_name||null,class_id:l.class_id||null,date_of_birth:l.date_of_birth||null,address:l.address||null,father_name:l.father_name||null,father_phone:l.father_phone||null,father_email:l.father_email||null,mother_name:l.mother_name||null,mother_phone:l.mother_phone||null,mother_email:l.mother_email||null,emergency_contact:l.emergency_contact||null,emergency_phone:l.emergency_phone||null,notes:l.notes||null,is_active:l.is_active};if(r){const{error:j}=await Ne.from("students").update(N).eq("id",_);if(j)throw j}else{const{data:j,error:A}=await Ne.from("students").insert([N]).select().single();if(A)throw A;_=j.id}if(await Ne.from("tutor_assignments").update({is_active:!1}).eq("student_id",_),u.length>0){const j=u.map(A=>({student_id:_,tutor_id:A,is_active:!0}));for(const A of j)await Ne.from("tutor_assignments").upsert(A,{onConflict:"student_id,tutor_id"})}a({title:"Success",description:"Student saved successfully"}),n(),t()}catch(_){console.error("Error saving student:",_),a({variant:"destructive",title:"Error",description:_.message})}finally{o(!1)}};return s.jsx(ur,{open:e,onOpenChange:t,children:s.jsxs(ir,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(fr,{children:r?"Edit Student":"Add New Student"})}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Student Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"first_name",children:"First Name *"}),s.jsx(We,{id:"first_name",value:l.first_name,onChange:S=>c({...l,first_name:S.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"last_name",children:"Last Name *"}),s.jsx(We,{id:"last_name",value:l.last_name,onChange:S=>c({...l,last_name:S.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"hebrew_name",children:"Hebrew Name"}),s.jsx(We,{id:"hebrew_name",value:l.hebrew_name,onChange:S=>c({...l,hebrew_name:S.target.value}),dir:"rtl",placeholder:"Hebrew Name"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"class_id",children:"Class"}),s.jsxs(bt,{value:l.class_id||"none",onValueChange:S=>c({...l,class_id:S==="none"?null:S}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select Class"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"none",children:"No Class"}),f.map(S=>{var _;return s.jsxs(Ie,{value:S.id,children:[S.name," ",(_=S.grade)!=null&&_.name?`(${S.grade.name})`:""]},S.id)})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"date_of_birth",children:"Date of Birth"}),s.jsx(We,{id:"date_of_birth",type:"date",value:l.date_of_birth,onChange:S=>c({...l,date_of_birth:S.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"address",children:"Address"}),s.jsx(We,{id:"address",value:l.address,onChange:S=>c({...l,address:S.target.value}),placeholder:"Street, City, Zip"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Father's Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Name"}),s.jsx(We,{value:l.father_name,onChange:S=>c({...l,father_name:S.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Phone"}),s.jsx(We,{value:l.father_phone,onChange:S=>c({...l,father_phone:S.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Email"}),s.jsx(We,{type:"email",value:l.father_email,onChange:S=>c({...l,father_email:S.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Mother's Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Name"}),s.jsx(We,{value:l.mother_name,onChange:S=>c({...l,mother_name:S.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Phone"}),s.jsx(We,{value:l.mother_phone,onChange:S=>c({...l,mother_phone:S.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Email"}),s.jsx(We,{type:"email",value:l.mother_email,onChange:S=>c({...l,mother_email:S.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Emergency Contact"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Contact Name"}),s.jsx(We,{value:l.emergency_contact,onChange:S=>c({...l,emergency_contact:S.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Contact Phone"}),s.jsx(We,{value:l.emergency_phone,onChange:S=>c({...l,emergency_phone:S.target.value})})]})]})]}),p.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Assigned Tutors"}),s.jsx("div",{className:"border rounded-md p-3 max-h-32 overflow-y-auto bg-slate-50 grid grid-cols-2 gap-2",children:p.map(S=>s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer hover:bg-slate-100 p-1.5 rounded",children:[s.jsx("input",{type:"checkbox",checked:u.includes(S.id),onChange:()=>y(S.id),className:"rounded border-slate-300"}),S.first_name," ",S.last_name]},S.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Additional Notes"}),s.jsx(kr,{value:l.notes,onChange:S=>c({...l,notes:S.target.value}),placeholder:"Any additional notes about this student...",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(Se,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(Se,{type:"submit",disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:[i?s.jsx(In,{className:"mr-2 h-4 w-4 animate-spin"}):null,r?"Update Student":"Create Student"]})]})]})]})})},Qce=({isOpen:e,onClose:t,student:r})=>{const{toast:n}=Cr(),[a,i]=O.useState([]),[o,l]=O.useState({subject:"",grade:"",date:new Date().toISOString().split("T")[0]});O.useEffect(()=>{r&&e&&c()},[r,e]);const c=async()=>{const{data:f,error:h}=await Ne.from("grades").select("*").eq("student_id",r.id).order("date",{ascending:!1});h?n({variant:"destructive",title:"Error",description:"Failed to load grades"}):i(f||[])},u=async f=>{if(f.preventDefault(),!o.subject||!o.grade){n({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}const{error:h}=await Ne.from("grades").insert([{student_id:r.id,...o}]);h?n({variant:"destructive",title:"Error",description:"Failed to add grade"}):(n({title:"Success",description:"Grade added successfully"}),l({subject:"",grade:"",date:new Date().toISOString().split("T")[0]}),c())},d=async f=>{const{error:h}=await Ne.from("grades").delete().eq("id",f);h?n({variant:"destructive",title:"Error",description:"Failed to delete grade"}):(n({title:"Success",description:"Grade deleted successfully"}),c())};return r?s.jsx(ur,{open:e,onOpenChange:t,children:s.jsxs(ir,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsxs(fr,{children:["Grades for ",r.name]})}),s.jsxs("form",{onSubmit:u,className:"space-y-4 border-b pb-4",children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:"Add New Grade"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"subject",children:"Subject"}),s.jsx("input",{id:"subject",type:"text",value:o.subject,onChange:f=>l({...o,subject:f.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"grade",children:"Grade"}),s.jsx("input",{id:"grade",type:"text",value:o.grade,onChange:f=>l({...o,grade:f.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"date",children:"Date"}),s.jsx("input",{id:"date",type:"date",value:o.date,onChange:f=>l({...o,date:f.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs(Se,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-blue-600",children:[s.jsx(on,{size:16,className:"mr-2"}),"Add Grade"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:"Grade History"}),a.length===0?s.jsx("p",{className:"text-slate-600 text-sm",children:"No grades recorded yet"}):s.jsx("div",{className:"space-y-2",children:a.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-slate-800",children:f.subject}),s.jsxs("p",{className:"text-sm text-slate-600",children:["Grade: ",f.grade," - ",new Date(f.date).toLocaleDateString()]})]}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>d(f.id),className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(Qa,{size:16})})]},f.id))})]})]})}):null};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var hz=1252,Zce=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],rE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},nE=function(e){Zce.indexOf(e)!=-1&&(hz=rE[0]=e)};function eue(){nE(1252)}var Ro=function(e){nE(e)};function pz(){Ro(1200),eue()}function $6(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function tue(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function mz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Fm=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?tue(e.slice(2)):t==254&&r==255?mz(e.slice(2)):t==65279?e.slice(1):e},B1=function(t){return String.fromCharCode(t)},B6=function(t){return String.fromCharCode(t)},lu,pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function U6(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=pu.charAt(i)+pu.charAt(o)+pu.charAt(l)+pu.charAt(c);return t}function ks(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=pu.indexOf(e.charAt(u++)),o=pu.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=pu.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=pu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Pr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),yf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function $u(e){return Pr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function z6(e){return Pr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Lo=function(t){return Pr?yf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function bf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function aE(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return aE(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var cu=Pr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:yf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function rue(e){for(var t=[],r=0,n=e.length+250,a=$u(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=$u(65535),n=65530)}return t.push(a.slice(0,r)),cu(t)}var Ii=/\u0000/g,Dm=/[\u0001-\u0006]/g;function Yh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function $o(e,t){var r=""+e;return r.length>=t?r:Hn("0",t-r.length)+r}function iE(e,t){var r=""+e;return r.length>=t?r:Hn(" ",t-r.length)+r}function T2(e,t){var r=""+e;return r.length>=t?r:r+Hn(" ",t-r.length)}function nue(e,t){var r=""+Math.round(e);return r.length>=t?r:Hn("0",t-r.length)+r}function aue(e,t){var r=""+e;return r.length>=t?r:Hn("0",t-r.length)+r}var V6=Math.pow(2,32);function ah(e,t){if(e>V6||e<-V6)return nue(e,t);var r=Math.round(e);return aue(r,t)}function C2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var H6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],fj=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function iue(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},W6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},sue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function E2(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Pd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=fue(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var gz=new Date(1899,11,31,0,0,0),oue=gz.getTime(),lue=new Date(1900,2,1,0,0,0);function vz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=lue&&(r+=24*60*60*1e3),(r-(oue+(e.getTimezoneOffset()-gz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function sE(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function cue(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function uue(e){var t=e<0?12:11,r=sE(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function due(e){var t=sE(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function qg(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=uue(e):t===10?r=e.toFixed(10).substr(0,12):r=due(e),sE(cue(r.toUpperCase()))}function sf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):qg(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return so(14,vz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function fue(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function hue(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return fj[r.m-1][1];case 5:return fj[r.m-1][0];default:return fj[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return H6[r.q][0];default:return H6[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?$o(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=$o(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?$o(c,u):"";return d}function mu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var xz=/%/g;function pue(e,t,r){var n=t.replace(xz,""),a=t.length-n.length;return lc(e,n,r*Math.pow(10,2*a))+Hn("%",a)}function mue(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return lc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function yz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+yz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var bz=/# (\?+)( ?)\/( ?)(\d+)/;function gue(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Hn(" ",e[1].length+1+e[4].length):iE(o,e[1].length)+e[2]+"/"+e[3]+$o(l,e[4].length))}function vue(e,t,r){return r+(t===0?"":""+t)+Hn(" ",e[1].length+2+e[4].length)}var wz=/^#*0*\.([0#]+)/,_z=/\).*[0#]/,jz=/\(###\) ###\\?-####/;function ki(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function q6(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function G6(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function xue(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function yue(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function qs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_z)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?qs("n",n,r):"("+qs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return mue(e,t,r);if(t.indexOf("%")!==-1)return pue(e,t,r);if(t.indexOf("E")!==-1)return yz(t,r);if(t.charCodeAt(0)===36)return"$"+qs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ah(c,t.length);if(t.match(/^[#?]+$/))return a=ah(r,0),a==="0"&&(a=""),a.length>t.length?a:ki(t.substr(0,t.length-a.length))+a;if(i=t.match(bz))return gue(i,c,u);if(t.match(/^#+0+$/))return u+ah(c,t.length-t.indexOf("0"));if(i=t.match(wz))return a=q6(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ki(i[1])).replace(/\.$/,"."+ki(i[1])).replace(/\.(\d*)$/,function(v,m){return"."+m+Hn("0",ki(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+q6(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+mu(ah(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+qs(e,t,-r):mu(""+(Math.floor(r)+xue(r,i[1].length)))+"."+$o(G6(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return qs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Yh(qs(e,t.replace(/[\\-]/g,""),r)),o=0,Yh(Yh(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(jz))return a=qs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=E2(c,Math.pow(10,o)-1,!1),a=""+u,d=lc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=T2(l[2],o),d.length<i[4].length&&(d=ki(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=E2(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?iE(l[1],o)+i[2]+"/"+i[3]+T2(l[2],o):Hn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=ah(r,0),t.length<=a.length?a:ki(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return ki(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=G6(r,i[1].length),r<0?"-"+qs(e,t,-r):mu(yue(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?$o(0,3-v.length):"")+v})+"."+$o(o,i[1].length);switch(t){case"###,##0.00":return qs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=mu(ah(c,0));return p!=="0"?u+p:"";case"###,###.00":return qs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return qs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function bue(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return lc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function wue(e,t,r){var n=t.replace(xz,""),a=t.length-n.length;return lc(e,n,r*Math.pow(10,2*a))+Hn("%",a)}function Sz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Sz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ll(e,t,r){if(e.charCodeAt(0)===40&&!t.match(_z)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ll("n",n,r):"("+ll("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return bue(e,t,r);if(t.indexOf("%")!==-1)return wue(e,t,r);if(t.indexOf("E")!==-1)return Sz(t,r);if(t.charCodeAt(0)===36)return"$"+ll(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+$o(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ki(t.substr(0,t.length-a.length))+a;if(i=t.match(bz))return vue(i,c,u);if(t.match(/^#+0+$/))return u+$o(c,t.length-t.indexOf("0"));if(i=t.match(wz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ki(i[1])).replace(/\.$/,"."+ki(i[1])),a=a.replace(/\.(\d*)$/,function(v,m){return"."+m+Hn("0",ki(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+mu(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ll(e,t,-r):mu(""+r)+"."+Hn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ll(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Yh(ll(e,t.replace(/[\\-]/g,""),r)),o=0,Yh(Yh(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(jz))return a=ll(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=E2(c,Math.pow(10,o)-1,!1),a=""+u,d=lc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=T2(l[2],o),d.length<i[4].length&&(d=ki(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=E2(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?iE(l[1],o)+i[2]+"/"+i[3]+T2(l[2],o):Hn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ki(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return ki(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ll(e,t,-r):mu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?$o(0,3-v.length):"")+v})+"."+$o(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=mu(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return ll(e,t.slice(0,t.lastIndexOf(".")),r)+ki(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function lc(e,t,r){return(r|0)===r?ll(e,t,r):qs(e,t,r)}function _ue(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Nz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function tp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":C2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Nz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function jue(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!C2(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),v=p==="("||p===")"?p:"t";a[a.length]={t:v,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Pd(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Pd(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(u==null&&(u=Pd(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),u==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Nz)){if(u==null&&(u=Pd(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",tp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var x=0,g=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(g=Math.max(g,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[o].v.match(/[Hh]/)&&(x=1),x<2&&a[o].v.match(/[Mm]/)&&(x=2),x<3&&a[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",S;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=hue(a[o].t.charCodeAt(0),a[o].v,u,g),a[o].t="t";break;case"n":case"?":for(S=o+1;a[S]!=null&&((l=a[S].t)==="?"||l==="D"||(l===" "||l==="t")&&a[S+1]!=null&&(a[S+1].t==="?"||a[S+1].t==="t"&&a[S+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[S].v==="/"||a[S].v===" "&&a[S+1]!=null&&a[S+1].t=="?"));)a[o].v+=a[S].v,a[S]={v:"",t:";"},++S;b+=a[o].v,o=S-1;break;case"G":a[o].t="t",a[o].v=sf(t,r);break}var _="",N,j;if(b.length>0){b.charCodeAt(0)==40?(N=t<0&&b.charCodeAt(0)===45?-t:t,j=lc("n",b,N)):(N=t<0&&n>1?-t:t,j=lc("n",b,N),N<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),S=j.length-1;var A=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){A=o;break}var P=a.length;if(A===a.length&&j.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(S>=a[o].v.length-1?(S-=a[o].v.length,a[o].v=j.substr(S+1,a[o].v.length)):S<0?a[o].v="":(a[o].v=j.substr(0,S+1),S=-1),a[o].t="t",P=o);S>=0&&P<a.length&&(a[P].v=j.substr(0,S+1)+a[P].v)}else if(A!==a.length&&j.indexOf("E")===-1){for(S=j.indexOf(".")-1,o=A;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")-1:a[o].v.length-1,_=a[o].v.substr(d+1);d>=0;--d)S>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(_=j.charAt(S--)+_);a[o].v=_,a[o].t="t",P=o}for(S>=0&&P<a.length&&(a[P].v=j.substr(0,S+1)+a[P].v),S=j.indexOf(".")+1,o=A;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==A)){for(d=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")+1:0,_=a[o].v.substr(0,d);d<a[o].v.length;++d)S<j.length&&(_+=j.charAt(S++));a[o].v=_,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=lc(a[o].t,a[o].v,N),a[o].t="t");var H="";for(o=0;o!==a.length;++o)a[o]!=null&&(H+=a[o].v);return H}var K6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Y6(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Sue(e,t){var r=_ue(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(K6),l=r[1].match(K6);return Y6(t,o)?[n,r[0]]:Y6(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function so(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:gr)[e],n==null&&(n=r.table&&r.table[W6[e]]||gr[W6[e]]),n==null&&(n=sue[e]||"General");break}if(C2(n,0))return sf(t,r);t instanceof Date&&(t=vz(t,r.date1904));var a=Sue(n,t);if(C2(a[1]))return sf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return jue(a[1],t,r,a[0])}function Ud(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(gr[r]==null){t<0&&(t=r);continue}if(gr[r]==e){t=r;break}}t<0&&(t=391)}return gr[t]=e,t}function Az(){gr=iue()}var Nue={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Tz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Aue(e){var t=typeof e=="number"?gr[e]:e;return t=t.replace(Tz,"(\\d+)"),new RegExp("^"+t+"$")}function Tue(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(Tz)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var Cue=function(){var e={};e.version="1.2.0";function t(){for(var j=0,A=new Array(256),P=0;P!=256;++P)j=P,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,A[P]=j;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(j){var A=0,P=0,H=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)C[H]=j[H];for(H=0;H!=256;++H)for(P=j[H],A=256+H;A<4096;A+=256)P=C[A]=P>>>8^j[P&255];var k=[];for(H=1;H!=16;++H)k[H-1]=typeof Int32Array<"u"?C.subarray(H*256,H*256+256):C.slice(H*256,H*256+256);return k}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],v=a[9],m=a[10],x=a[11],g=a[12],y=a[13],b=a[14];function S(j,A){for(var P=A^-1,H=0,C=j.length;H<C;)P=P>>>8^r[(P^j.charCodeAt(H++))&255];return~P}function _(j,A){for(var P=A^-1,H=j.length-15,C=0;C<H;)P=b[j[C++]^P&255]^y[j[C++]^P>>8&255]^g[j[C++]^P>>16&255]^x[j[C++]^P>>>24]^m[j[C++]]^v[j[C++]]^p[j[C++]]^h[j[C++]]^f[j[C++]]^d[j[C++]]^u[j[C++]]^c[j[C++]]^l[j[C++]]^o[j[C++]]^i[j[C++]]^r[j[C++]];for(H+=15;C<H;)P=P>>>8^r[(P^j[C++])&255];return~P}function N(j,A){for(var P=A^-1,H=0,C=j.length,k=0,U=0;H<C;)k=j.charCodeAt(H++),k<128?P=P>>>8^r[(P^k)&255]:k<2048?(P=P>>>8^r[(P^(192|k>>6&31))&255],P=P>>>8^r[(P^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,U=j.charCodeAt(H++)&1023,P=P>>>8^r[(P^(240|k>>8&7))&255],P=P>>>8^r[(P^(128|k>>2&63))&255],P=P>>>8^r[(P^(128|U>>6&15|(k&3)<<4))&255],P=P>>>8^r[(P^(128|U&63))&255]):(P=P>>>8^r[(P^(224|k>>12&15))&255],P=P>>>8^r[(P^(128|k>>6&63))&255],P=P>>>8^r[(P^(128|k&63))&255]);return~P}return e.table=r,e.bstr=S,e.buf=_,e.str=N,e}(),Dr=function(){var t={};t.version="1.2.1";function r(ne,ve){for(var fe=ne.split("/"),pe=ve.split("/"),xe=0,be=0,$e=Math.min(fe.length,pe.length);xe<$e;++xe){if(be=fe[xe].length-pe[xe].length)return be;if(fe[xe]!=pe[xe])return fe[xe]<pe[xe]?-1:1}return fe.length-pe.length}function n(ne){if(ne.charAt(ne.length-1)=="/")return ne.slice(0,-1).indexOf("/")===-1?ne:n(ne.slice(0,-1));var ve=ne.lastIndexOf("/");return ve===-1?ne:ne.slice(0,ve+1)}function a(ne){if(ne.charAt(ne.length-1)=="/")return a(ne.slice(0,-1));var ve=ne.lastIndexOf("/");return ve===-1?ne:ne.slice(ve+1)}function i(ne,ve){typeof ve=="string"&&(ve=new Date(ve));var fe=ve.getHours();fe=fe<<6|ve.getMinutes(),fe=fe<<5|ve.getSeconds()>>>1,ne.write_shift(2,fe);var pe=ve.getFullYear()-1980;pe=pe<<4|ve.getMonth()+1,pe=pe<<5|ve.getDate(),ne.write_shift(2,pe)}function o(ne){var ve=ne.read_shift(2)&65535,fe=ne.read_shift(2)&65535,pe=new Date,xe=fe&31;fe>>>=5;var be=fe&15;fe>>>=4,pe.setMilliseconds(0),pe.setFullYear(fe+1980),pe.setMonth(be-1),pe.setDate(xe);var $e=ve&31;ve>>>=5;var Xe=ve&63;return ve>>>=6,pe.setHours(ve),pe.setMinutes(Xe),pe.setSeconds($e<<1),pe}function l(ne){qa(ne,0);for(var ve={},fe=0;ne.l<=ne.length-4;){var pe=ne.read_shift(2),xe=ne.read_shift(2),be=ne.l+xe,$e={};switch(pe){case 21589:fe=ne.read_shift(1),fe&1&&($e.mtime=ne.read_shift(4)),xe>5&&(fe&2&&($e.atime=ne.read_shift(4)),fe&4&&($e.ctime=ne.read_shift(4))),$e.mtime&&($e.mt=new Date($e.mtime*1e3));break}ne.l=be,ve[pe]=$e}return ve}var c;function u(){return c||(c={})}function d(ne,ve){if(ne[0]==80&&ne[1]==75)return ce(ne,ve);if((ne[0]|32)==109&&(ne[1]|32)==105)return Ct(ne,ve);if(ne.length<512)throw new Error("CFB file size "+ne.length+" < 512");var fe=3,pe=512,xe=0,be=0,$e=0,Xe=0,Re=0,Ve=[],He=ne.slice(0,512);qa(He,0);var dt=f(He);switch(fe=dt[0],fe){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(dt[1]==0)return ce(ne,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+fe)}pe!==512&&(He=ne.slice(0,pe),qa(He,28));var vt=ne.slice(0,pe);h(He,fe);var Ot=He.read_shift(4,"i");if(fe===3&&Ot!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ot);He.l+=4,$e=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),Xe=He.read_shift(4,"i"),xe=He.read_shift(4,"i"),Re=He.read_shift(4,"i"),be=He.read_shift(4,"i");for(var pt=-1,Pt=0;Pt<109&&(pt=He.read_shift(4,"i"),!(pt<0));++Pt)Ve[Pt]=pt;var Zt=p(ne,pe);x(Re,be,Zt,pe,Ve);var Gr=y(Zt,$e,Ve,pe);Gr[$e].name="!Directory",xe>0&&Xe!==U&&(Gr[Xe].name="!MiniFAT"),Gr[Ve[0]].name="!FAT",Gr.fat_addrs=Ve,Gr.ssz=pe;var nn={},aa=[],fo=[],Fl=[];b($e,Gr,Zt,aa,xe,nn,fo,Xe),v(fo,Fl,aa),aa.shift();var el={FileIndex:fo,FullPaths:Fl};return ve&&ve.raw&&(el.raw={header:vt,sectors:Zt}),el}function f(ne){if(ne[ne.l]==80&&ne[ne.l+1]==75)return[0,0];ne.chk(D,"Header Signature: "),ne.l+=16;var ve=ne.read_shift(2,"u");return[ne.read_shift(2,"u"),ve]}function h(ne,ve){var fe=9;switch(ne.l+=2,fe=ne.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+fe);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+fe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+fe)}ne.chk("0600","Mini Sector Shift: "),ne.chk("000000000000","Reserved: ")}function p(ne,ve){for(var fe=Math.ceil(ne.length/ve)-1,pe=[],xe=1;xe<fe;++xe)pe[xe-1]=ne.slice(xe*ve,(xe+1)*ve);return pe[fe-1]=ne.slice(fe*ve),pe}function v(ne,ve,fe){for(var pe=0,xe=0,be=0,$e=0,Xe=0,Re=fe.length,Ve=[],He=[];pe<Re;++pe)Ve[pe]=He[pe]=pe,ve[pe]=fe[pe];for(;Xe<He.length;++Xe)pe=He[Xe],xe=ne[pe].L,be=ne[pe].R,$e=ne[pe].C,Ve[pe]===pe&&(xe!==-1&&Ve[xe]!==xe&&(Ve[pe]=Ve[xe]),be!==-1&&Ve[be]!==be&&(Ve[pe]=Ve[be])),$e!==-1&&(Ve[$e]=pe),xe!==-1&&pe!=Ve[pe]&&(Ve[xe]=Ve[pe],He.lastIndexOf(xe)<Xe&&He.push(xe)),be!==-1&&pe!=Ve[pe]&&(Ve[be]=Ve[pe],He.lastIndexOf(be)<Xe&&He.push(be));for(pe=1;pe<Re;++pe)Ve[pe]===pe&&(be!==-1&&Ve[be]!==be?Ve[pe]=Ve[be]:xe!==-1&&Ve[xe]!==xe&&(Ve[pe]=Ve[xe]));for(pe=1;pe<Re;++pe)if(ne[pe].type!==0){if(Xe=pe,Xe!=Ve[Xe])do Xe=Ve[Xe],ve[pe]=ve[Xe]+"/"+ve[pe];while(Xe!==0&&Ve[Xe]!==-1&&Xe!=Ve[Xe]);Ve[pe]=-1}for(ve[0]+="/",pe=1;pe<Re;++pe)ne[pe].type!==2&&(ve[pe]+="/")}function m(ne,ve,fe){for(var pe=ne.start,xe=ne.size,be=[],$e=pe;fe&&xe>0&&$e>=0;)be.push(ve.slice($e*k,$e*k+k)),xe-=k,$e=Ad(fe,$e*4);return be.length===0?va(0):cu(be).slice(0,ne.size)}function x(ne,ve,fe,pe,xe){var be=U;if(ne===U){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(ne!==-1){var $e=fe[ne],Xe=(pe>>>2)-1;if(!$e)return;for(var Re=0;Re<Xe&&(be=Ad($e,Re*4))!==U;++Re)xe.push(be);x(Ad($e,pe-4),ve-1,fe,pe,xe)}}function g(ne,ve,fe,pe,xe){var be=[],$e=[];xe||(xe=[]);var Xe=pe-1,Re=0,Ve=0;for(Re=ve;Re>=0;){xe[Re]=!0,be[be.length]=Re,$e.push(ne[Re]);var He=fe[Math.floor(Re*4/pe)];if(Ve=Re*4&Xe,pe<4+Ve)throw new Error("FAT boundary crossed: "+Re+" 4 "+pe);if(!ne[He])break;Re=Ad(ne[He],Ve)}return{nodes:be,data:i8([$e])}}function y(ne,ve,fe,pe){var xe=ne.length,be=[],$e=[],Xe=[],Re=[],Ve=pe-1,He=0,dt=0,vt=0,Ot=0;for(He=0;He<xe;++He)if(Xe=[],vt=He+ve,vt>=xe&&(vt-=xe),!$e[vt]){Re=[];var pt=[];for(dt=vt;dt>=0;){pt[dt]=!0,$e[dt]=!0,Xe[Xe.length]=dt,Re.push(ne[dt]);var Pt=fe[Math.floor(dt*4/pe)];if(Ot=dt*4&Ve,pe<4+Ot)throw new Error("FAT boundary crossed: "+dt+" 4 "+pe);if(!ne[Pt]||(dt=Ad(ne[Pt],Ot),pt[dt]))break}be[vt]={nodes:Xe,data:i8([Re])}}return be}function b(ne,ve,fe,pe,xe,be,$e,Xe){for(var Re=0,Ve=pe.length?2:0,He=ve[ne].data,dt=0,vt=0,Ot;dt<He.length;dt+=128){var pt=He.slice(dt,dt+128);qa(pt,64),vt=pt.read_shift(2),Ot=dE(pt,0,vt-Ve),pe.push(Ot);var Pt={name:Ot,type:pt.read_shift(1),color:pt.read_shift(1),L:pt.read_shift(4,"i"),R:pt.read_shift(4,"i"),C:pt.read_shift(4,"i"),clsid:pt.read_shift(16),state:pt.read_shift(4,"i"),start:0,size:0},Zt=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Zt!==0&&(Pt.ct=S(pt,pt.l-8));var Gr=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Gr!==0&&(Pt.mt=S(pt,pt.l-8)),Pt.start=pt.read_shift(4,"i"),Pt.size=pt.read_shift(4,"i"),Pt.size<0&&Pt.start<0&&(Pt.size=Pt.type=0,Pt.start=U,Pt.name=""),Pt.type===5?(Re=Pt.start,xe>0&&Re!==U&&(ve[Re].name="!StreamData")):Pt.size>=4096?(Pt.storage="fat",ve[Pt.start]===void 0&&(ve[Pt.start]=g(fe,Pt.start,ve.fat_addrs,ve.ssz)),ve[Pt.start].name=Pt.name,Pt.content=ve[Pt.start].data.slice(0,Pt.size)):(Pt.storage="minifat",Pt.size<0?Pt.size=0:Re!==U&&Pt.start!==U&&ve[Re]&&(Pt.content=m(Pt,ve[Re].data,(ve[Xe]||{}).data))),Pt.content&&qa(Pt.content,0),be[Ot]=Pt,$e.push(Pt)}}function S(ne,ve){return new Date((xs(ne,ve+4)/1e7*Math.pow(2,32)+xs(ne,ve)/1e7-11644473600)*1e3)}function _(ne,ve){return u(),d(c.readFileSync(ne),ve)}function N(ne,ve){var fe=ve&&ve.type;switch(fe||Pr&&Buffer.isBuffer(ne)&&(fe="buffer"),fe||"base64"){case"file":return _(ne,ve);case"base64":return d(Lo(ks(ne)),ve);case"binary":return d(Lo(ne),ve)}return d(ne,ve)}function j(ne,ve){var fe=ve||{},pe=fe.root||"Root Entry";if(ne.FullPaths||(ne.FullPaths=[]),ne.FileIndex||(ne.FileIndex=[]),ne.FullPaths.length!==ne.FileIndex.length)throw new Error("inconsistent CFB structure");ne.FullPaths.length===0&&(ne.FullPaths[0]=pe+"/",ne.FileIndex[0]={name:pe,type:5}),fe.CLSID&&(ne.FileIndex[0].clsid=fe.CLSID),A(ne)}function A(ne){var ve="Sh33tJ5";if(!Dr.find(ne,"/"+ve)){var fe=va(4);fe[0]=55,fe[1]=fe[3]=50,fe[2]=54,ne.FileIndex.push({name:ve,type:2,content:fe,size:4,L:69,R:69,C:69}),ne.FullPaths.push(ne.FullPaths[0]+ve),P(ne)}}function P(ne,ve){j(ne);for(var fe=!1,pe=!1,xe=ne.FullPaths.length-1;xe>=0;--xe){var be=ne.FileIndex[xe];switch(be.type){case 0:pe?fe=!0:(ne.FileIndex.pop(),ne.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(be.R*be.L*be.C)&&(fe=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(fe=!0);break;default:fe=!0;break}}if(!(!fe&&!ve)){var $e=new Date(1987,1,19),Xe=0,Re=Object.create?Object.create(null):{},Ve=[];for(xe=0;xe<ne.FullPaths.length;++xe)Re[ne.FullPaths[xe]]=!0,ne.FileIndex[xe].type!==0&&Ve.push([ne.FullPaths[xe],ne.FileIndex[xe]]);for(xe=0;xe<Ve.length;++xe){var He=n(Ve[xe][0]);pe=Re[He],pe||(Ve.push([He,{name:a(He).replace("/",""),type:1,clsid:B,ct:$e,mt:$e,content:null}]),Re[He]=!0)}for(Ve.sort(function(Ot,pt){return r(Ot[0],pt[0])}),ne.FullPaths=[],ne.FileIndex=[],xe=0;xe<Ve.length;++xe)ne.FullPaths[xe]=Ve[xe][0],ne.FileIndex[xe]=Ve[xe][1];for(xe=0;xe<Ve.length;++xe){var dt=ne.FileIndex[xe],vt=ne.FullPaths[xe];if(dt.name=a(vt).replace("/",""),dt.L=dt.R=dt.C=-(dt.color=1),dt.size=dt.content?dt.content.length:0,dt.start=0,dt.clsid=dt.clsid||B,xe===0)dt.C=Ve.length>1?1:-1,dt.size=0,dt.type=5;else if(vt.slice(-1)=="/"){for(Xe=xe+1;Xe<Ve.length&&n(ne.FullPaths[Xe])!=vt;++Xe);for(dt.C=Xe>=Ve.length?-1:Xe,Xe=xe+1;Xe<Ve.length&&n(ne.FullPaths[Xe])!=n(vt);++Xe);dt.R=Xe>=Ve.length?-1:Xe,dt.type=1}else n(ne.FullPaths[xe+1]||"")==n(vt)&&(dt.R=xe+1),dt.type=2}}}function H(ne,ve){var fe=ve||{};if(fe.fileType=="mad")return mt(ne,fe);switch(P(ne),fe.fileType){case"zip":return Er(ne,fe)}var pe=function(Ot){for(var pt=0,Pt=0,Zt=0;Zt<Ot.FileIndex.length;++Zt){var Gr=Ot.FileIndex[Zt];if(Gr.content){var nn=Gr.content.length;nn>0&&(nn<4096?pt+=nn+63>>6:Pt+=nn+511>>9)}}for(var aa=Ot.FullPaths.length+3>>2,fo=pt+7>>3,Fl=pt+127>>7,el=fo+Pt+aa+Fl,ho=el+127>>7,tl=ho<=109?0:Math.ceil((ho-109)/127);el+ho+tl+127>>7>ho;)tl=++ho<=109?0:Math.ceil((ho-109)/127);var ss=[1,tl,ho,Fl,aa,Pt,pt,0];return Ot.FileIndex[0].size=pt<<6,ss[7]=(Ot.FileIndex[0].start=ss[0]+ss[1]+ss[2]+ss[3]+ss[4]+ss[5])+(ss[6]+7>>3),ss}(ne),xe=va(pe[7]<<9),be=0,$e=0;{for(be=0;be<8;++be)xe.write_shift(1,M[be]);for(be=0;be<8;++be)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),be=0;be<3;++be)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,pe[2]),xe.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:U),xe.write_shift(4,pe[3]),xe.write_shift(-4,pe[1]?pe[0]-1:U),xe.write_shift(4,pe[1]),be=0;be<109;++be)xe.write_shift(-4,be<pe[2]?pe[1]+be:-1)}if(pe[1])for($e=0;$e<pe[1];++$e){for(;be<236+$e*127;++be)xe.write_shift(-4,be<pe[2]?pe[1]+be:-1);xe.write_shift(-4,$e===pe[1]-1?U:$e+1)}var Xe=function(Ot){for($e+=Ot;be<$e-1;++be)xe.write_shift(-4,be+1);Ot&&(++be,xe.write_shift(-4,U))};for($e=be=0,$e+=pe[1];be<$e;++be)xe.write_shift(-4,I.DIFSECT);for($e+=pe[2];be<$e;++be)xe.write_shift(-4,I.FATSECT);Xe(pe[3]),Xe(pe[4]);for(var Re=0,Ve=0,He=ne.FileIndex[0];Re<ne.FileIndex.length;++Re)He=ne.FileIndex[Re],He.content&&(Ve=He.content.length,!(Ve<4096)&&(He.start=$e,Xe(Ve+511>>9)));for(Xe(pe[6]+7>>3);xe.l&511;)xe.write_shift(-4,I.ENDOFCHAIN);for($e=be=0,Re=0;Re<ne.FileIndex.length;++Re)He=ne.FileIndex[Re],He.content&&(Ve=He.content.length,!(!Ve||Ve>=4096)&&(He.start=$e,Xe(Ve+63>>6)));for(;xe.l&511;)xe.write_shift(-4,I.ENDOFCHAIN);for(be=0;be<pe[4]<<2;++be){var dt=ne.FullPaths[be];if(!dt||dt.length===0){for(Re=0;Re<17;++Re)xe.write_shift(4,0);for(Re=0;Re<3;++Re)xe.write_shift(4,-1);for(Re=0;Re<12;++Re)xe.write_shift(4,0);continue}He=ne.FileIndex[be],be===0&&(He.start=He.size?He.start-1:U);var vt=be===0&&fe.root||He.name;if(Ve=2*(vt.length+1),xe.write_shift(64,vt,"utf16le"),xe.write_shift(2,Ve),xe.write_shift(1,He.type),xe.write_shift(1,He.color),xe.write_shift(-4,He.L),xe.write_shift(-4,He.R),xe.write_shift(-4,He.C),He.clsid)xe.write_shift(16,He.clsid,"hex");else for(Re=0;Re<4;++Re)xe.write_shift(4,0);xe.write_shift(4,He.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,He.start),xe.write_shift(4,He.size),xe.write_shift(4,0)}for(be=1;be<ne.FileIndex.length;++be)if(He=ne.FileIndex[be],He.size>=4096)if(xe.l=He.start+1<<9,Pr&&Buffer.isBuffer(He.content))He.content.copy(xe,xe.l,0,He.size),xe.l+=He.size+511&-512;else{for(Re=0;Re<He.size;++Re)xe.write_shift(1,He.content[Re]);for(;Re&511;++Re)xe.write_shift(1,0)}for(be=1;be<ne.FileIndex.length;++be)if(He=ne.FileIndex[be],He.size>0&&He.size<4096)if(Pr&&Buffer.isBuffer(He.content))He.content.copy(xe,xe.l,0,He.size),xe.l+=He.size+63&-64;else{for(Re=0;Re<He.size;++Re)xe.write_shift(1,He.content[Re]);for(;Re&63;++Re)xe.write_shift(1,0)}if(Pr)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function C(ne,ve){var fe=ne.FullPaths.map(function(Re){return Re.toUpperCase()}),pe=fe.map(function(Re){var Ve=Re.split("/");return Ve[Ve.length-(Re.slice(-1)=="/"?2:1)]}),xe=!1;ve.charCodeAt(0)===47?(xe=!0,ve=fe[0].slice(0,-1)+ve):xe=ve.indexOf("/")!==-1;var be=ve.toUpperCase(),$e=xe===!0?fe.indexOf(be):pe.indexOf(be);if($e!==-1)return ne.FileIndex[$e];var Xe=!be.match(Dm);for(be=be.replace(Ii,""),Xe&&(be=be.replace(Dm,"!")),$e=0;$e<fe.length;++$e)if((Xe?fe[$e].replace(Dm,"!"):fe[$e]).replace(Ii,"")==be||(Xe?pe[$e].replace(Dm,"!"):pe[$e]).replace(Ii,"")==be)return ne.FileIndex[$e];return null}var k=64,U=-2,D="d0cf11e0a1b11ae1",M=[208,207,17,224,161,177,26,225],B="00000000000000000000000000000000",I={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:D,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:B,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(ne,ve,fe){u();var pe=H(ne,fe);c.writeFileSync(ve,pe)}function F(ne){for(var ve=new Array(ne.length),fe=0;fe<ne.length;++fe)ve[fe]=String.fromCharCode(ne[fe]);return ve.join("")}function z(ne,ve){var fe=H(ne,ve);switch(ve&&ve.type||"buffer"){case"file":return u(),c.writeFileSync(ve.filename,fe),fe;case"binary":return typeof fe=="string"?fe:F(fe);case"base64":return U6(typeof fe=="string"?fe:F(fe));case"buffer":if(Pr)return Buffer.isBuffer(fe)?fe:yf(fe);case"array":return typeof fe=="string"?Lo(fe):fe}return fe}var J;function E(ne){try{var ve=ne.InflateRaw,fe=new ve;if(fe._processChunk(new Uint8Array([3,0]),fe._finishFlushFlag),fe.bytesRead)J=ne;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function V(ne,ve){if(!J)return Ht(ne,ve);var fe=J.InflateRaw,pe=new fe,xe=pe._processChunk(ne.slice(ne.l),pe._finishFlushFlag);return ne.l+=pe.bytesRead,xe}function K(ne){return J?J.deflateRawSync(ne):ot(ne)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function oe(ne){var ve=(ne<<1|ne<<11)&139536|(ne<<5|ne<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var G=typeof Uint8Array<"u",se=G?new Uint8Array(256):[],he=0;he<256;++he)se[he]=oe(he);function Q(ne,ve){var fe=se[ne&255];return ve<=8?fe>>>8-ve:(fe=fe<<8|se[ne>>8&255],ve<=16?fe>>>16-ve:(fe=fe<<8|se[ne>>16&255],fe>>>24-ve))}function Pe(ne,ve){var fe=ve&7,pe=ve>>>3;return(ne[pe]|(fe<=6?0:ne[pe+1]<<8))>>>fe&3}function De(ne,ve){var fe=ve&7,pe=ve>>>3;return(ne[pe]|(fe<=5?0:ne[pe+1]<<8))>>>fe&7}function je(ne,ve){var fe=ve&7,pe=ve>>>3;return(ne[pe]|(fe<=4?0:ne[pe+1]<<8))>>>fe&15}function Z(ne,ve){var fe=ve&7,pe=ve>>>3;return(ne[pe]|(fe<=3?0:ne[pe+1]<<8))>>>fe&31}function ke(ne,ve){var fe=ve&7,pe=ve>>>3;return(ne[pe]|(fe<=1?0:ne[pe+1]<<8))>>>fe&127}function Ge(ne,ve,fe){var pe=ve&7,xe=ve>>>3,be=(1<<fe)-1,$e=ne[xe]>>>pe;return fe<8-pe||($e|=ne[xe+1]<<8-pe,fe<16-pe)||($e|=ne[xe+2]<<16-pe,fe<24-pe)||($e|=ne[xe+3]<<24-pe),$e&be}function Le(ne,ve,fe){var pe=ve&7,xe=ve>>>3;return pe<=5?ne[xe]|=(fe&7)<<pe:(ne[xe]|=fe<<pe&255,ne[xe+1]=(fe&7)>>8-pe),ve+3}function qe(ne,ve,fe){var pe=ve&7,xe=ve>>>3;return fe=(fe&1)<<pe,ne[xe]|=fe,ve+1}function ge(ne,ve,fe){var pe=ve&7,xe=ve>>>3;return fe<<=pe,ne[xe]|=fe&255,fe>>>=8,ne[xe+1]=fe,ve+8}function de(ne,ve,fe){var pe=ve&7,xe=ve>>>3;return fe<<=pe,ne[xe]|=fe&255,fe>>>=8,ne[xe+1]=fe&255,ne[xe+2]=fe>>>8,ve+16}function ze(ne,ve){var fe=ne.length,pe=2*fe>ve?2*fe:ve+5,xe=0;if(fe>=ve)return ne;if(Pr){var be=z6(pe);if(ne.copy)ne.copy(be);else for(;xe<ne.length;++xe)be[xe]=ne[xe];return be}else if(G){var $e=new Uint8Array(pe);if($e.set)$e.set(ne);else for(;xe<fe;++xe)$e[xe]=ne[xe];return $e}return ne.length=pe,ne}function Ke(ne){for(var ve=new Array(ne),fe=0;fe<ne;++fe)ve[fe]=0;return ve}function ft(ne,ve,fe){var pe=1,xe=0,be=0,$e=0,Xe=0,Re=ne.length,Ve=G?new Uint16Array(32):Ke(32);for(be=0;be<32;++be)Ve[be]=0;for(be=Re;be<fe;++be)ne[be]=0;Re=ne.length;var He=G?new Uint16Array(Re):Ke(Re);for(be=0;be<Re;++be)Ve[xe=ne[be]]++,pe<xe&&(pe=xe),He[be]=0;for(Ve[0]=0,be=1;be<=pe;++be)Ve[be+16]=Xe=Xe+Ve[be-1]<<1;for(be=0;be<Re;++be)Xe=ne[be],Xe!=0&&(He[be]=Ve[Xe+16]++);var dt=0;for(be=0;be<Re;++be)if(dt=ne[be],dt!=0)for(Xe=Q(He[be],pe)>>pe-dt,$e=(1<<pe+4-dt)-1;$e>=0;--$e)ve[Xe|$e<<dt]=dt&15|be<<4;return pe}var _t=G?new Uint16Array(512):Ke(512),St=G?new Uint16Array(32):Ke(32);if(!G){for(var Et=0;Et<512;++Et)_t[Et]=0;for(Et=0;Et<32;++Et)St[Et]=0}(function(){for(var ne=[],ve=0;ve<32;ve++)ne.push(5);ft(ne,St,32);var fe=[];for(ve=0;ve<=143;ve++)fe.push(8);for(;ve<=255;ve++)fe.push(9);for(;ve<=279;ve++)fe.push(7);for(;ve<=287;ve++)fe.push(8);ft(fe,_t,288)})();var _e=function(){for(var ve=G?new Uint8Array(32768):[],fe=0,pe=0;fe<ee.length-1;++fe)for(;pe<ee[fe+1];++pe)ve[pe]=fe;for(;pe<32768;++pe)ve[pe]=29;var xe=G?new Uint8Array(259):[];for(fe=0,pe=0;fe<Y.length-1;++fe)for(;pe<Y[fe+1];++pe)xe[pe]=fe;function be(Xe,Re){for(var Ve=0;Ve<Xe.length;){var He=Math.min(65535,Xe.length-Ve),dt=Ve+He==Xe.length;for(Re.write_shift(1,+dt),Re.write_shift(2,He),Re.write_shift(2,~He&65535);He-- >0;)Re[Re.l++]=Xe[Ve++]}return Re.l}function $e(Xe,Re){for(var Ve=0,He=0,dt=G?new Uint16Array(32768):[];He<Xe.length;){var vt=Math.min(65535,Xe.length-He);if(vt<10){for(Ve=Le(Re,Ve,+(He+vt==Xe.length)),Ve&7&&(Ve+=8-(Ve&7)),Re.l=Ve/8|0,Re.write_shift(2,vt),Re.write_shift(2,~vt&65535);vt-- >0;)Re[Re.l++]=Xe[He++];Ve=Re.l*8;continue}Ve=Le(Re,Ve,+(He+vt==Xe.length)+2);for(var Ot=0;vt-- >0;){var pt=Xe[He];Ot=(Ot<<5^pt)&32767;var Pt=-1,Zt=0;if((Pt=dt[Ot])&&(Pt|=He&-32768,Pt>He&&(Pt-=32768),Pt<He))for(;Xe[Pt+Zt]==Xe[He+Zt]&&Zt<250;)++Zt;if(Zt>2){pt=xe[Zt],pt<=22?Ve=ge(Re,Ve,se[pt+1]>>1)-1:(ge(Re,Ve,3),Ve+=5,ge(Re,Ve,se[pt-23]>>5),Ve+=3);var Gr=pt<8?0:pt-4>>2;Gr>0&&(de(Re,Ve,Zt-Y[pt]),Ve+=Gr),pt=ve[He-Pt],Ve=ge(Re,Ve,se[pt]>>3),Ve-=3;var nn=pt<4?0:pt-2>>1;nn>0&&(de(Re,Ve,He-Pt-ee[pt]),Ve+=nn);for(var aa=0;aa<Zt;++aa)dt[Ot]=He&32767,Ot=(Ot<<5^Xe[He])&32767,++He;vt-=Zt-1}else pt<=143?pt=pt+48:Ve=qe(Re,Ve,1),Ve=ge(Re,Ve,se[pt]),dt[Ot]=He&32767,++He}Ve=ge(Re,Ve,0)-1}return Re.l=(Ve+7)/8|0,Re.l}return function(Re,Ve){return Re.length<8?be(Re,Ve):$e(Re,Ve)}}();function ot(ne){var ve=va(50+Math.floor(ne.length*1.1)),fe=_e(ne,ve);return ve.slice(0,fe)}var rt=G?new Uint16Array(32768):Ke(32768),qt=G?new Uint16Array(32768):Ke(32768),gt=G?new Uint16Array(128):Ke(128),jr=1,Gt=1;function rr(ne,ve){var fe=Z(ne,ve)+257;ve+=5;var pe=Z(ne,ve)+1;ve+=5;var xe=je(ne,ve)+4;ve+=4;for(var be=0,$e=G?new Uint8Array(19):Ke(19),Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=1,Ve=G?new Uint8Array(8):Ke(8),He=G?new Uint8Array(8):Ke(8),dt=$e.length,vt=0;vt<xe;++vt)$e[W[vt]]=be=De(ne,ve),Re<be&&(Re=be),Ve[be]++,ve+=3;var Ot=0;for(Ve[0]=0,vt=1;vt<=Re;++vt)He[vt]=Ot=Ot+Ve[vt-1]<<1;for(vt=0;vt<dt;++vt)(Ot=$e[vt])!=0&&(Xe[vt]=He[Ot]++);var pt=0;for(vt=0;vt<dt;++vt)if(pt=$e[vt],pt!=0){Ot=se[Xe[vt]]>>8-pt;for(var Pt=(1<<7-pt)-1;Pt>=0;--Pt)gt[Ot|Pt<<pt]=pt&7|vt<<3}var Zt=[];for(Re=1;Zt.length<fe+pe;)switch(Ot=gt[ke(ne,ve)],ve+=Ot&7,Ot>>>=3){case 16:for(be=3+Pe(ne,ve),ve+=2,Ot=Zt[Zt.length-1];be-- >0;)Zt.push(Ot);break;case 17:for(be=3+De(ne,ve),ve+=3;be-- >0;)Zt.push(0);break;case 18:for(be=11+ke(ne,ve),ve+=7;be-- >0;)Zt.push(0);break;default:Zt.push(Ot),Re<Ot&&(Re=Ot);break}var Gr=Zt.slice(0,fe),nn=Zt.slice(fe);for(vt=fe;vt<286;++vt)Gr[vt]=0;for(vt=pe;vt<30;++vt)nn[vt]=0;return jr=ft(Gr,rt,286),Gt=ft(nn,qt,30),ve}function Hr(ne,ve){if(ne[0]==3&&!(ne[1]&3))return[$u(ve),2];for(var fe=0,pe=0,xe=z6(ve||1<<18),be=0,$e=xe.length>>>0,Xe=0,Re=0;!(pe&1);){if(pe=De(ne,fe),fe+=3,pe>>>1)pe>>1==1?(Xe=9,Re=5):(fe=rr(ne,fe),Xe=jr,Re=Gt);else{fe&7&&(fe+=8-(fe&7));var Ve=ne[fe>>>3]|ne[(fe>>>3)+1]<<8;if(fe+=32,Ve>0)for(!ve&&$e<be+Ve&&(xe=ze(xe,be+Ve),$e=xe.length);Ve-- >0;)xe[be++]=ne[fe>>>3],fe+=8;continue}for(;;){!ve&&$e<be+32767&&(xe=ze(xe,be+32767),$e=xe.length);var He=Ge(ne,fe,Xe),dt=pe>>>1==1?_t[He]:rt[He];if(fe+=dt&15,dt>>>=4,!(dt>>>8&255))xe[be++]=dt;else{if(dt==256)break;dt-=257;var vt=dt<8?0:dt-4>>2;vt>5&&(vt=0);var Ot=be+Y[dt];vt>0&&(Ot+=Ge(ne,fe,vt),fe+=vt),He=Ge(ne,fe,Re),dt=pe>>>1==1?St[He]:qt[He],fe+=dt&15,dt>>>=4;var pt=dt<4?0:dt-2>>1,Pt=ee[dt];for(pt>0&&(Pt+=Ge(ne,fe,pt),fe+=pt),!ve&&$e<Ot&&(xe=ze(xe,Ot+100),$e=xe.length);be<Ot;)xe[be]=xe[be-Pt],++be}}}return ve?[xe,fe+7>>>3]:[xe.slice(0,be),fe+7>>>3]}function Ht(ne,ve){var fe=ne.slice(ne.l||0),pe=Hr(fe,ve);return ne.l+=pe[1],pe[0]}function Kr(ne,ve){if(ne)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function ce(ne,ve){var fe=ne;qa(fe,0);var pe=[],xe=[],be={FileIndex:pe,FullPaths:xe};j(be,{root:ve.root});for(var $e=fe.length-4;(fe[$e]!=80||fe[$e+1]!=75||fe[$e+2]!=5||fe[$e+3]!=6)&&$e>=0;)--$e;fe.l=$e+4,fe.l+=4;var Xe=fe.read_shift(2);fe.l+=6;var Re=fe.read_shift(4);for(fe.l=Re,$e=0;$e<Xe;++$e){fe.l+=20;var Ve=fe.read_shift(4),He=fe.read_shift(4),dt=fe.read_shift(2),vt=fe.read_shift(2),Ot=fe.read_shift(2);fe.l+=8;var pt=fe.read_shift(4),Pt=l(fe.slice(fe.l+dt,fe.l+dt+vt));fe.l+=dt+vt+Ot;var Zt=fe.l;fe.l=pt+4,$t(fe,Ve,He,be,Pt),fe.l=Zt}return be}function $t(ne,ve,fe,pe,xe){ne.l+=2;var be=ne.read_shift(2),$e=ne.read_shift(2),Xe=o(ne);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var Re=ne.read_shift(4),Ve=ne.read_shift(4),He=ne.read_shift(4),dt=ne.read_shift(2),vt=ne.read_shift(2),Ot="",pt=0;pt<dt;++pt)Ot+=String.fromCharCode(ne[ne.l++]);if(vt){var Pt=l(ne.slice(ne.l,ne.l+vt));(Pt[21589]||{}).mt&&(Xe=Pt[21589].mt),((xe||{})[21589]||{}).mt&&(Xe=xe[21589].mt)}ne.l+=vt;var Zt=ne.slice(ne.l,ne.l+Ve);switch($e){case 8:Zt=V(ne,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+$e)}var Gr=!1;be&8&&(Re=ne.read_shift(4),Re==134695760&&(Re=ne.read_shift(4),Gr=!0),Ve=ne.read_shift(4),He=ne.read_shift(4)),Ve!=ve&&Kr(Gr,"Bad compressed size: "+ve+" != "+Ve),He!=fe&&Kr(Gr,"Bad uncompressed size: "+fe+" != "+He),Ur(pe,Ot,Zt,{unsafe:!0,mt:Xe})}function Er(ne,ve){var fe=ve||{},pe=[],xe=[],be=va(1),$e=fe.compression?8:0,Xe=0,Re=0,Ve=0,He=0,dt=0,vt=ne.FullPaths[0],Ot=vt,pt=ne.FileIndex[0],Pt=[],Zt=0;for(Re=1;Re<ne.FullPaths.length;++Re)if(Ot=ne.FullPaths[Re].slice(vt.length),pt=ne.FileIndex[Re],!(!pt.size||!pt.content||Ot=="Sh33tJ5")){var Gr=He,nn=va(Ot.length);for(Ve=0;Ve<Ot.length;++Ve)nn.write_shift(1,Ot.charCodeAt(Ve)&127);nn=nn.slice(0,nn.l),Pt[dt]=Cue.buf(pt.content,0);var aa=pt.content;$e==8&&(aa=K(aa)),be=va(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,Xe),be.write_shift(2,$e),pt.mt?i(be,pt.mt):be.write_shift(4,0),be.write_shift(-4,Pt[dt]),be.write_shift(4,aa.length),be.write_shift(4,pt.content.length),be.write_shift(2,nn.length),be.write_shift(2,0),He+=be.length,pe.push(be),He+=nn.length,pe.push(nn),He+=aa.length,pe.push(aa),be=va(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,Xe),be.write_shift(2,$e),be.write_shift(4,0),be.write_shift(-4,Pt[dt]),be.write_shift(4,aa.length),be.write_shift(4,pt.content.length),be.write_shift(2,nn.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,Gr),Zt+=be.l,xe.push(be),Zt+=nn.length,xe.push(nn),++dt}return be=va(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,dt),be.write_shift(2,dt),be.write_shift(4,Zt),be.write_shift(4,He),be.write_shift(2,0),cu([cu(pe),cu(xe),be])}var nr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Bt(ne,ve){if(ne.ctype)return ne.ctype;var fe=ne.name||"",pe=fe.match(/\.([^\.]+)$/);return pe&&nr[pe[1]]||ve&&(pe=(fe=ve).match(/[\.\\]([^\.\\])+$/),pe&&nr[pe[1]])?nr[pe[1]]:"application/octet-stream"}function Qt(ne){for(var ve=U6(ne),fe=[],pe=0;pe<ve.length;pe+=76)fe.push(ve.slice(pe,pe+76));return fe.join(`\r
`)+`\r
`}function Aa(ne){var ve=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var He=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var fe=[],pe=ve.split(`\r
`),xe=0;xe<pe.length;++xe){var be=pe[xe];if(be.length==0){fe.push("");continue}for(var $e=0;$e<be.length;){var Xe=76,Re=be.slice($e,$e+Xe);Re.charAt(Xe-1)=="="?Xe--:Re.charAt(Xe-2)=="="?Xe-=2:Re.charAt(Xe-3)=="="&&(Xe-=3),Re=be.slice($e,$e+Xe),$e+=Xe,$e<be.length&&(Re+="="),fe.push(Re)}}return fe.join(`\r
`)}function rn(ne){for(var ve=[],fe=0;fe<ne.length;++fe){for(var pe=ne[fe];fe<=ne.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+ne[++fe];ve.push(pe)}for(var xe=0;xe<ve.length;++xe)ve[xe]=ve[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return Lo(ve.join(`\r
`))}function Ye(ne,ve,fe){for(var pe="",xe="",be="",$e,Xe=0;Xe<10;++Xe){var Re=ve[Xe];if(!Re||Re.match(/^\s*$/))break;var Ve=Re.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":pe=Ve[2].trim();break;case"content-type":be=Ve[2].trim();break;case"content-transfer-encoding":xe=Ve[2].trim();break}}switch(++Xe,xe.toLowerCase()){case"base64":$e=Lo(ks(ve.slice(Xe).join("")));break;case"quoted-printable":$e=rn(ve.slice(Xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var He=Ur(ne,pe.slice(fe.length),$e,{unsafe:!0});be&&(He.ctype=be)}function Ct(ne,ve){if(F(ne.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var fe=ve&&ve.root||"",pe=(Pr&&Buffer.isBuffer(ne)?ne.toString("binary"):F(ne)).split(`\r
`),xe=0,be="";for(xe=0;xe<pe.length;++xe)if(be=pe[xe],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),fe||(fe=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,fe.length)!=fe))for(;fe.length>0&&(fe=fe.slice(0,fe.length-1),fe=fe.slice(0,fe.lastIndexOf("/")+1),be.slice(0,fe.length)!=fe););var $e=(pe[1]||"").match(/boundary="(.*?)"/);if(!$e)throw new Error("MAD cannot find boundary");var Xe="--"+($e[1]||""),Re=[],Ve=[],He={FileIndex:Re,FullPaths:Ve};j(He);var dt,vt=0;for(xe=0;xe<pe.length;++xe){var Ot=pe[xe];Ot!==Xe&&Ot!==Xe+"--"||(vt++&&Ye(He,pe.slice(dt,xe),fe),dt=xe)}return He}function mt(ne,ve){var fe=ve||{},pe=fe.boundary||"SheetJS";pe="------="+pe;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],be=ne.FullPaths[0],$e=be,Xe=ne.FileIndex[0],Re=1;Re<ne.FullPaths.length;++Re)if($e=ne.FullPaths[Re].slice(be.length),Xe=ne.FileIndex[Re],!(!Xe.size||!Xe.content||$e=="Sh33tJ5")){$e=$e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Zt){return"_x"+Zt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Zt){return"_u"+Zt.charCodeAt(0).toString(16)+"_"});for(var Ve=Xe.content,He=Pr&&Buffer.isBuffer(Ve)?Ve.toString("binary"):F(Ve),dt=0,vt=Math.min(1024,He.length),Ot=0,pt=0;pt<=vt;++pt)(Ot=He.charCodeAt(pt))>=32&&Ot<128&&++dt;var Pt=dt>=vt*4/5;xe.push(pe),xe.push("Content-Location: "+(fe.root||"file:///C:/SheetJS/")+$e),xe.push("Content-Transfer-Encoding: "+(Pt?"quoted-printable":"base64")),xe.push("Content-Type: "+Bt(Xe,$e)),xe.push(""),xe.push(Pt?Aa(He):Qt(He))}return xe.push(pe+`--\r
`),xe.join(`\r
`)}function jt(ne){var ve={};return j(ve,ne),ve}function Ur(ne,ve,fe,pe){var xe=pe&&pe.unsafe;xe||j(ne);var be=!xe&&Dr.find(ne,ve);if(!be){var $e=ne.FullPaths[0];ve.slice(0,$e.length)==$e?$e=ve:($e.slice(-1)!="/"&&($e+="/"),$e=($e+ve).replace("//","/")),be={name:a(ve),type:2},ne.FileIndex.push(be),ne.FullPaths.push($e),xe||Dr.utils.cfb_gc(ne)}return be.content=fe,be.size=fe?fe.length:0,pe&&(pe.CLSID&&(be.clsid=pe.CLSID),pe.mt&&(be.mt=pe.mt),pe.ct&&(be.ct=pe.ct)),be}function Pn(ne,ve){j(ne);var fe=Dr.find(ne,ve);if(fe){for(var pe=0;pe<ne.FileIndex.length;++pe)if(ne.FileIndex[pe]==fe)return ne.FileIndex.splice(pe,1),ne.FullPaths.splice(pe,1),!0}return!1}function Nn(ne,ve,fe){j(ne);var pe=Dr.find(ne,ve);if(pe){for(var xe=0;xe<ne.FileIndex.length;++xe)if(ne.FileIndex[xe]==pe)return ne.FileIndex[xe].name=a(fe),ne.FullPaths[xe]=fe,!0}return!1}function vn(ne){P(ne,!0)}return t.find=C,t.read=N,t.parse=d,t.write=z,t.writeFile=q,t.utils={cfb_new:jt,cfb_add:Ur,cfb_del:Pn,cfb_mov:Nn,cfb_gc:vn,ReadShift:eg,CheckField:Xz,prep_blob:qa,bconcat:cu,use_zlib:E,_deflateRaw:ot,_inflateRaw:Ht,consts:I},t}();function Eue(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Nl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function oE(e){for(var t=[],r=Nl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var k2=new Date(1899,11,30,0,0,0);function Mi(e,t){var r=e.getTime();t&&(r-=1462*24*60*60*1e3);var n=k2.getTime()+(e.getTimezoneOffset()-k2.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Cz=new Date,kue=k2.getTime()+(Cz.getTimezoneOffset()-k2.getTimezoneOffset())*6e4,X6=Cz.getTimezoneOffset();function Cw(e){var t=new Date;return t.setTime(e*24*60*60*1e3+kue),t.getTimezoneOffset()!==X6&&t.setTime(t.getTime()+(t.getTimezoneOffset()-X6)*6e4),t}function Pue(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var J6=new Date("2017-02-19T19:06:09.000Z"),Ez=isNaN(J6.getFullYear())?new Date("2/19/17"):J6,Oue=Ez.getFullYear()==2017;function Ia(e,t){var r=new Date(e);if(Oue)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Ez.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function of(e,t){if(Pr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Im(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Im(mz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Im(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Im(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ya(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ya(e[r]));return t}function Hn(e,t){for(var r="";r.length<t;)r+=e;return r}function Vo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Fue=["january","february","march","april","may","june","july","august","september","october","november","december"];function x0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Fue.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Due=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}}();function kz(e){return e?e.content&&e.type?of(e.content,!0):e.data?Fm(e.data):e.asNodeBuffer&&Pr?Fm(e.asNodeBuffer().toString("binary")):e.asBinary?Fm(e.asBinary()):e._data&&e._data.getContent?Fm(of(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Pz(e){if(!e)return null;if(e.data)return $6(e.data);if(e.asNodeBuffer&&Pr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?$6(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Lue(e){return e&&e.name.slice(-4)===".bin"?Pz(e):kz(e)}function Ks(e,t){for(var r=e.FullPaths||Nl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function lE(e,t){var r=Ks(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ca(e,t,r){if(!r)return Lue(lE(e,t));if(!t)return null;try{return ca(e,t)}catch{return null}}function ys(e,t,r){if(!r)return kz(lE(e,t));if(!t)return null;try{return ys(e,t)}catch{return null}}function Oz(e,t,r){if(!r)return Pz(lE(e,t));if(!t)return null;try{return Oz(e,t)}catch{return null}}function Q6(e){for(var t=e.FullPaths||Nl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Iue(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Pr?n=yf(r):n=rue(r),Dr.utils.cfb_add(e,t,n)}Dr.utils.cfb_add(e,t,r)}else e.file(t,r)}function Fz(e,t){switch(t.type){case"base64":return Dr.read(e,{type:"base64"});case"binary":return Dr.read(e,{type:"binary"});case"buffer":case"array":return Dr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Lm(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Dz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Mue=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Z6=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Rue=/<[^>]*>/g,ji=Dz.match(Z6)?Z6:Rue,$ue=/<\w*:/,Bue=/<(\/?)\w+:/;function Jt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(Mue),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,r||(n[d.toLowerCase()]=c);else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,r||(n[p.toLowerCase()]=c)}}return n}function Cl(e){return e.replace(Bue,"<$1")}var Lz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Uue=oE(Lz),Br=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return Lz[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}}(),zue=/[&<>'"]/g,Vue=/[\u0000-\u001f]/g;function cE(e){var t=e+"";return t.replace(zue,function(r){return Uue[r]}).replace(/\n/g,"<br/>").replace(Vue,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var e8=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Tn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function hj(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function t8(e){var t=$u(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function r8(e){return yf(e,"binary").toString("utf8")}var U1="foo bar baz",gn=Pr&&(r8(U1)==hj(U1)&&r8||t8(U1)==hj(U1)&&t8)||hj,Im=Pr?function(e){return yf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Gg=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Iz=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Hue=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Wue=/<\/?(?:vt:)?variant>/g,que=/<(?:vt:)([^>]*)>([\s\S]*)</;function n8(e,t){var r=Jt(e),n=e.match(Hue(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(Wue,"").match(que);o&&a.push({v:gn(o[2]),t:o[1]})}),a}var Gue=/(^\s|\s$|\n)/;function Kue(e){return Nl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Yue(e,t,r){return"<"+e+(r!=null?Kue(r):"")+(t!=null?(t.match(Gue)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function uE(e){if(Pr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return gn(bf(aE(e)));throw new Error("Bad input format: expected Buffer or string")}var Kg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Xue={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Jue=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Que(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Zue(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var a8=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},i8=Pr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:yf(t)})):a8(e)}:a8,s8=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(ec(e,a)));return n.join("").replace(Ii,"")},dE=Pr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ii,""):s8(e,t,r)}:s8,o8=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Mz=Pr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):o8(e,t,r)}:o8,l8=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(fh(e,a)));return n.join("")},ex=Pr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):l8(t,r,n)}:l8,Rz=function(e,t){var r=xs(e,t);return r>0?ex(e,t+4,t+4+r-1):""},$z=Rz,Bz=function(e,t){var r=xs(e,t);return r>0?ex(e,t+4,t+4+r-1):""},Uz=Bz,zz=function(e,t){var r=2*xs(e,t);return r>0?ex(e,t+4,t+4+r-1):""},Vz=zz,Hz=function(t,r){var n=xs(t,r);return n>0?dE(t,r+4,r+4+n):""},Wz=Hz,qz=function(e,t){var r=xs(e,t);return r>0?ex(e,t+4,t+4+r):""},Gz=qz,Kz=function(e,t){return Que(e,t)},P2=Kz,Yz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Pr&&($z=function(t,r){if(!Buffer.isBuffer(t))return Rz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Uz=function(t,r){if(!Buffer.isBuffer(t))return Bz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Vz=function(t,r){if(!Buffer.isBuffer(t))return zz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Wz=function(t,r){if(!Buffer.isBuffer(t))return Hz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Gz=function(t,r){if(!Buffer.isBuffer(t))return qz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},P2=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Kz(t,r)},Yz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var fh=function(e,t){return e[t]},ec=function(e,t){return e[t+1]*256+e[t]},ede=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},xs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ad=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},tde=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function eg(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Pr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ec(this,u)),u+=2;e*=2;break;case"utf8":r=ex(this,this.l,this.l+e);break;case"utf16le":e*=2,r=dE(this,this.l,this.l+e);break;case"wstr":return eg.call(this,e,"dbcs");case"lpstr-ansi":r=$z(this,this.l),e=4+xs(this,this.l);break;case"lpstr-cp":r=Uz(this,this.l),e=4+xs(this,this.l);break;case"lpwstr":r=Vz(this,this.l),e=4+2*xs(this,this.l);break;case"lpp4":e=4+xs(this,this.l),r=Wz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+xs(this,this.l),r=Gz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=fh(this,this.l+e++))!==0;)i.push(B1(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=ec(this,this.l+e))!==0;)i.push(B1(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=fh(this,u),this.l=u+1,l=eg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(B1(ec(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=fh(this,u),this.l=u+1,l=eg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(B1(fh(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=fh(this,this.l),this.l++,n;case 2:return n=(t==="i"?ede:ec)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ad:tde)(this,this.l),this.l+=4,n):(a=xs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=P2(this,this.l):a=P2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Mz(this,this.l,e);break}}return this.l+=e,r}var rde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},nde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},ade=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ide(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)ade(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,rde(this,t,this.l);break;case 8:if(n=8,r==="f"){Zue(this,t,this.l);break}case 16:break;case-4:n=4,nde(this,t,this.l);break}return this.l+=n,this}function Xz(e,t){var r=Mz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function qa(e,t){e.l=t,e.read_shift=eg,e.chk=Xz,e.write_shift=ide}function _i(e,t){e.l+=t}function va(e){var t=$u(e);return qa(t,0),t}function Tc(e,t,r){if(e){var n,a,i;qa(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=M2[l]||M2[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function QN(){var e=[],t=Pr?256:2048,r=function(u){var d=va(u);return qa(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),cu(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function tg(e,t,r){var n=Ya(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function c8(e,t,r){var n=Ya(e);return n.s=tg(n.s,t.s,r),n.e=tg(n.e,t.s,r),n}function rg(e,t){if(e.cRel&&e.c<0)for(e=Ya(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ya(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=lr(e);return!e.cRel&&e.cRel!=null&&(r=lde(r)),!e.rRel&&e.rRel!=null&&(r=sde(r)),r}function pj(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+wa(e.s.c)+":"+(e.e.cRel?"":"$")+wa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Xa(e.s.r)+":"+(e.e.rRel?"":"$")+Xa(e.e.r):rg(e.s,t.biff)+":"+rg(e.e,t.biff)}function fE(e){return parseInt(ode(e),10)-1}function Xa(e){return""+(e+1)}function sde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ode(e){return e.replace(/\$(\d+)$/,"$1")}function hE(e){for(var t=cde(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function wa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function lde(e){return e.replace(/^([A-Z])/,"$$$1")}function cde(e){return e.replace(/^\$([A-Z])/,"$1")}function ude(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Oi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function lr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function rp(e){var t=e.indexOf(":");return t==-1?{s:Oi(e),e:Oi(e)}:{s:Oi(e.slice(0,t)),e:Oi(e.slice(t+1))}}function Lr(e,t){return typeof t>"u"||typeof t=="number"?Lr(e.s,e.e):(typeof e!="string"&&(e=lr(e)),typeof t!="string"&&(t=lr(t)),e==t?e:e+":"+t)}function Gn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function u8(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=so(e.z,r?Mi(t):t)}catch{}try{return e.w=so((e.XF||{}).numFmtId||(r?14:0),r?Mi(t):t)}catch{return""+t}}function _c(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?jf[e.v]||e.v:t==null?u8(e,e.v):u8(e,t))}function Yu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Jz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Oi(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Gn(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},v=o+f,m=l+h;if(u.s.r>v&&(u.s.r=v),u.s.c>m&&(u.s.c=m),u.e.r<v&&(u.e.r=v),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||gr[14],n.cellDates?(p.t="d",p.w=so(p.z,Mi(p.v))):(p.t="n",p.v=Mi(p.v),p.w=so(p.z,p.v))):p.t="s";if(a)i[v]||(i[v]=[]),i[v][m]&&i[v][m].z&&(p.z=i[v][m].z),i[v][m]=p;else{var x=lr({c:m,r:v});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return u.s.c<1e7&&(i["!ref"]=Lr(u)),i}function np(e,t){return Jz(null,e,t)}function dde(e){return e.read_shift(4,"i")}function yi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function fde(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function pE(e,t){var r=e.l,n=e.read_shift(1),a=yi(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(fde(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var hde=pE;function lo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function wf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var pde=yi;function mE(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var mde=yi,ZN=mE;function gE(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?P2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ad(t,0)>>2;return r?a/100:a}function Qz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var _f=Qz;function pi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function gde(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=zd[a];u&&(t.rgb=Xg(u));break;case 2:t.rgb=Xg([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function vde(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Zz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function xde(e){return Zz(e,1)}function yde(e){return Zz(e,2)}var vE=2,Ki=3,z1=11,d8=12,O2=19,V1=64,bde=65,wde=71,_de=4108,jde=4126,Pa=80,eV=81,Sde=[Pa,eV],Nde={1:{n:"CodePage",t:vE},2:{n:"Category",t:Pa},3:{n:"PresentationFormat",t:Pa},4:{n:"ByteCount",t:Ki},5:{n:"LineCount",t:Ki},6:{n:"ParagraphCount",t:Ki},7:{n:"SlideCount",t:Ki},8:{n:"NoteCount",t:Ki},9:{n:"HiddenCount",t:Ki},10:{n:"MultimediaClipCount",t:Ki},11:{n:"ScaleCrop",t:z1},12:{n:"HeadingPairs",t:_de},13:{n:"TitlesOfParts",t:jde},14:{n:"Manager",t:Pa},15:{n:"Company",t:Pa},16:{n:"LinksUpToDate",t:z1},17:{n:"CharacterCount",t:Ki},19:{n:"SharedDoc",t:z1},22:{n:"HyperlinksChanged",t:z1},23:{n:"AppVersion",t:Ki,p:"version"},24:{n:"DigSig",t:bde},26:{n:"ContentType",t:Pa},27:{n:"ContentStatus",t:Pa},28:{n:"Language",t:Pa},29:{n:"Version",t:Pa},255:{},2147483648:{n:"Locale",t:O2},2147483651:{n:"Behavior",t:O2},1919054434:{}},Ade={1:{n:"CodePage",t:vE},2:{n:"Title",t:Pa},3:{n:"Subject",t:Pa},4:{n:"Author",t:Pa},5:{n:"Keywords",t:Pa},6:{n:"Comments",t:Pa},7:{n:"Template",t:Pa},8:{n:"LastAuthor",t:Pa},9:{n:"RevNumber",t:Pa},10:{n:"EditTime",t:V1},11:{n:"LastPrinted",t:V1},12:{n:"CreatedDate",t:V1},13:{n:"ModifiedDate",t:V1},14:{n:"PageCount",t:Ki},15:{n:"WordCount",t:Ki},16:{n:"CharCount",t:Ki},17:{n:"Thumbnail",t:wde},18:{n:"Application",t:Pa},19:{n:"DocSecurity",t:Ki},255:{},2147483648:{n:"Locale",t:O2},2147483651:{n:"Behavior",t:O2},1919054434:{}},f8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Tde=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Cde(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ede=Cde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),zd=Ya(Ede),jf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},tV={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},h8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function kde(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Pde(e){var t=kde();if(!e||!e.match)return t;var r={};if((e.match(ji)||[]).forEach(function(n){var a=Jt(n);switch(a[0].replace($ue,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[h8[a.ContentType]]!==void 0&&t[h8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Xue.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Oh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function e4(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ng(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(ji)||[]).forEach(function(a){var i=Jt(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Lm(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}var Ode="application/vnd.oasis.opendocument.spreadsheet";function Fde(e,t){for(var r=uE(e),n,a;n=Kg.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Jt(n[0],!1),a.path=="/"&&a.type!==Ode)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var ag=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Dde=function(){for(var e=new Array(ag.length),t=0;t<ag.length;++t){var r=ag[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function rV(e){var t={};e=gn(e);for(var r=0;r<ag.length;++r){var n=ag[r],a=e.match(Dde[r]);a!=null&&a.length>0&&(t[n[1]]=Br(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ia(t[n[1]]))}return t}var Lde=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function nV(e,t,r,n){var a=[];if(typeof e=="string")a=n8(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?n8(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function Ide(e,t,r){var n={};return t||(t={}),e=gn(e),Lde.forEach(function(a){var i=(e.match(Gg(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Br(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&nV(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Mde=/<[^>]+>[^<]*/g;function Rde(e,t){var r={},n="",a=e.match(Mde);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=Jt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Br(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Br(d);break;case"bool":r[n]=Tn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Ia(d);break;case"cy":case"error":r[n]=Br(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var $de={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},mj;function Bde(e,t,r){mj||(mj=oE($de)),t=mj[t]||t,e[t]=r}function xE(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function aV(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function iV(e,t,r){var n=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(n.length+1&3)&3),n}function sV(e,t,r){return t===31?iV(e):aV(e,t,r)}function t4(e,t,r){return sV(e,t,r===!1?0:4)}function Ude(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return sV(e,t,0)}function zde(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ii,""),e.l-a&2&&(e.l+=2)}return r}function Vde(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ii,"");return r}function Hde(e){var t=e.l,r=F2(e,eV);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=F2(e,Ki);return[r,n]}function Wde(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Hde(e));return r}function p8(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ii,"").replace(Dm,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>2+1<<2),n}function oV(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function qde(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function F2(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==d8&&n!==t&&Sde.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===d8?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return aV(e,n,4).replace(Ii,"");case 31:return iV(e);case 64:return xE(e);case 65:return oV(e);case 71:return qde(e);case 80:return t4(e,n,!i.raw).replace(Ii,"");case 81:return Ude(e,n).replace(Ii,"");case 4108:return Wde(e);case 4126:case 4127:return n==4127?zde(e):Vde(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function m8(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(y,b){return y[1]-b[1]});var h={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var v=t[i[o][0]];if(h[v.n]=F2(e,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ro(l=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(i[o][0]===1){if(l=h.CodePage=F2(e,vE),Ro(l),c!==-1){var m=e.l;e.l=i[c][1],u=p8(e,l),e.l=m}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=p8(e,l)}else{var x=u[i[o][0]],g;switch(e[e.l]){case 65:e.l+=4,g=oV(e);break;case 30:e.l+=4,g=t4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,g=t4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=Jn(e,4);break;case 64:e.l+=4,g=Ia(xE(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[x]=g}}return e.l=r+n,h}function g8(e,t,r){var n=e.content;if(!n)return{};qa(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Dr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=m8(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var v;try{v=m8(n,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[i,o],h}function Yc(e,t){return e.read_shift(t),null}function Gde(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Jn(e,t){return e.read_shift(t)===1}function ua(e){return e.read_shift(2,"u")}function lV(e,t){return Gde(e,t,ua)}function Kde(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function tx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function Yde(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function lf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function rx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):lf(e,n,r)}function Sf(e,t,r){if(r.biff>5)return rx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Xde(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Jde(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ii,"");return n&&(e.l+=24),a}function Qde(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(Ii,"");return r+o}function Zde(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Jde(e);case"0303000000000000c000000000000046":return Qde(e);default:throw new Error("Unsupported Moniker "+r)}}function H1(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ii,""):"";return r}function efe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=H1(e,r-e.l)),a&128&&(o=H1(e,r-e.l)),(a&257)===257&&(l=H1(e,r-e.l)),(a&257)===1&&(c=Zde(e,r-e.l)),a&8&&(u=H1(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=xE(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function cV(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function uV(e,t){var r=cV(e);return r[3]=0,r}function El(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function tfe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function rfe(e,t,r){return t===0?"":Sf(e,t,r)}function nfe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function dV(e){var t=e.read_shift(2),r=gE(e);return[t,r]}function afe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=tx(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function Ew(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function fV(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var ife=fV;function hV(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function sfe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function ofe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ni(e){e.l+=2,e.l+=e.read_shift(2)}var lfe={0:ni,4:ni,5:ni,6:ni,7:ofe,8:ni,9:ni,10:ni,11:ni,12:ni,13:sfe,14:ni,15:ni,16:ni,17:ni,18:ni,19:ni,20:ni,21:hV};function cfe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(lfe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function W1(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function ufe(e,t){return t===0||e.read_shift(2),1200}function dfe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Sf(e,0,r);return e.read_shift(t+n-e.l),a}function ffe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function hfe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=tx(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function pfe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(Yde(e));return i.Count=n,i.Unique=a,i}function mfe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function gfe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function vfe(e){var t=tfe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function xfe(e){return e.read_shift(2),e.read_shift(4)}function v8(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function yfe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function bfe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function wfe(){}function _fe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=tx(e,0,r),n}function jfe(e){var t=El(e);return t.isst=e.read_shift(4),t}function Sfe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=El(e);r.biff==2&&e.l++;var i=rx(e,n-e.l,r);return a.val=i,a}function Nfe(e,t,r){var n=e.read_shift(2),a=Sf(e,0,r);return[n,a]}var Afe=Sf;function x8(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function Tfe(e){var t=e.read_shift(2),r=e.read_shift(2),n=dV(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Cfe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(dV(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function Efe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function kfe(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=Tde[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function Pfe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=kfe(e,t,n.fStyle,r),n}function Ofe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function y8(e,t,r){var n=El(e);(r.biff==2||t==9)&&++e.l;var a=Kde(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Ffe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=El(e),a=pi(e);return n.val=a,n}var b8=rfe;function Dfe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=lf(e,i),l=[];n>e.l;)l.push(rx(e));return[i,a,o,l]}function w8(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=afe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Lfe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _8(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=lf(e,o,r);a&32&&(u=Lfe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:gme(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function pV(e,t,r){if(r.biff<8)return Ife(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(nfe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Ife(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=tx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Mfe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=lf(e,n,r),o=lf(e,a,r);return[i,o]}function Rfe(e,t,r){var n=fV(e);e.l++;var a=e.read_shift(1);return t-=8,[vme(e,t,r),a,n]}function j8(e,t,r){var n=ife(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,pme(e,t,r)]}function $fe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Bfe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=Sf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,i]}}function Ufe(e,t,r){return Bfe(e,t,r)}function zfe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Ew(e));return r}function Vfe(e,t,r){if(r&&r.biff<8)return Wfe(e,t,r);var n=hV(e),a=cfe(e,t-22,n[1]);return{cmo:n,ft:a}}var Hfe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Wfe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((Hfe[n]||_i)(e,t,r)),{cmo:[a,n,i],ft:o}}function qfe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=Xde(e,6,r);var l=e.read_shift(2);e.read_shift(2),ua(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=lf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Gfe(e,t){var r=Ew(e);e.l+=16;var n=efe(e,t-24);return[r,n]}function Kfe(e,t){e.read_shift(2);var r=Ew(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ii,""),[r,n]}function Yfe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=f8[r]||r,r=e.read_shift(2),t[1]=f8[r]||r,t}function Xfe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(uV(e));return r}function Jfe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(uV(e));return r}function Qfe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function mV(e,t,r){if(!r.cellStyles)return _i(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Zfe(e,t){var r={};return t<32||(e.l+=16,r.header=pi(e),r.footer=pi(e),e.l+=2),r}function ehe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var the=El,rhe=lV,nhe=rx;function ahe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function ihe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=El(e);++e.l;var a=Sf(e,t-7,r);return n.t="str",n.val=a,n}function she(e){var t=El(e);++e.l;var r=pi(e);return t.t="n",t.val=r,t}function ohe(e){var t=El(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function lhe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function che(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function uhe(e,t,r){var n=e.l+t,a=El(e),i=e.read_shift(2),o=lf(e,i,r);return e.l=n,a.t="str",a.val=o,a}var dhe=[2,3,48,49,131,139,140,245],S8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=oE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=$u(1);switch(c.type){case"base64":d=Lo(ks(l));break;case"binary":d=Lo(l);break;case"buffer":case"array":d=l;break}qa(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,x=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(x=d.read_shift(2));var g=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var b=[],S={},_=Math.min(d.length,f==2?521:x-10-(p?264:0)),N=v?32:11;d.l<_&&d[d.l]!=13;)switch(S={},S.name=lu.utils.decode(y,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,S.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(S.offset=d.read_shift(4)),S.len=d.read_shift(1),f==2&&(S.offset=d.read_shift(2)),S.dec=d.read_shift(1),S.name.length&&b.push(S),f!=2&&(d.l+=v?13:14),S.type){case"B":(!p||S.len!=8)&&c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var j=0,A=0;for(u[0]=[],A=0;A!=b.length;++A)u[0][A]=b[A].name;for(;m-- >0;){if(d[d.l]===42){d.l+=g;continue}for(++d.l,u[++j]=[],A=0,A=0;A!=b.length;++A){var P=d.slice(d.l,d.l+b[A].len);d.l+=b[A].len,qa(P,0);var H=lu.utils.decode(y,P);switch(b[A].type){case"C":H.trim().length&&(u[j][A]=H.replace(/\s+$/,""));break;case"D":H.length===8?u[j][A]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):u[j][A]=H;break;case"F":u[j][A]=parseFloat(H.trim());break;case"+":case"I":u[j][A]=v?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":u[j][A]=!0;break;case"N":case"F":u[j][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][A]="##MEMO##"+(v?parseInt(H.trim(),10):P.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(u[j][A]=+H||0);break;case"@":u[j][A]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[j][A]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[j][A]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][A]=-P.read_shift(-8,"f");break;case"B":if(p&&b[A].len==8){u[j][A]=P.read_shift(8,"f");break}case"G":case"P":P.l+=b[A].len;break;case"0":if(b[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[A].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=np(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Yu(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Ro(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=QN(),f=l4(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=l["!cols"]||[],m=0,x=0,g=0,y=1;for(m=0;m<h.length;++m){if(((v[m]||{}).DBF||{}).name){h[m]=v[m].DBF.name,++g;continue}if(h[m]!=null){if(++g,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(x=0;x<1024;++x)if(h.indexOf(h[m]+"_"+x)==-1){h[m]+="_"+x;break}}}}var b=Gn(l["!ref"]),S=[],_=[],N=[];for(m=0;m<=b.e.c-b.s.c;++m){var j="",A="",P=0,H=[];for(x=0;x<p.length;++x)p[x][m]!=null&&H.push(p[x][m]);if(H.length==0||h[m]==null){S[m]="?";continue}for(x=0;x<H.length;++x){switch(typeof H[x]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=H[x]instanceof Date?"D":"C";break;default:A="C"}P=Math.max(P,String(H[x]).length),j=j&&j!=A?"C":A}P>250&&(P=250),A=((v[m]||{}).DBF||{}).type,A=="C"&&v[m].DBF.len>P&&(P=v[m].DBF.len),j=="B"&&A=="N"&&(j="N",N[m]=v[m].DBF.dec,P=v[m].DBF.len),_[m]=j=="C"||A=="N"?P:i[j]||0,y+=_[m],S[m]=j}var C=d.next(32);for(C.write_shift(4,318902576),C.write_shift(4,p.length),C.write_shift(2,296+32*g),C.write_shift(2,y),m=0;m<4;++m)C.write_shift(4,0);for(C.write_shift(4,0|(+t[hz]||3)<<8),m=0,x=0;m<h.length;++m)if(h[m]!=null){var k=d.next(32),U=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,U,"sbcs"),k.write_shift(1,S[m]=="?"?"C":S[m],"sbcs"),k.write_shift(4,x),k.write_shift(1,_[m]||i[S[m]]||0),k.write_shift(1,N[m]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),x+=_[m]||i[S[m]]||0}var D=d.next(264);for(D.write_shift(4,13),m=0;m<65;++m)D.write_shift(4,0);for(m=0;m<p.length;++m){var M=d.next(y);for(M.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(S[x]){case"L":M.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":M.write_shift(8,p[m][x]||0,"f");break;case"N":var B="0";for(typeof p[m][x]=="number"&&(B=p[m][x].toFixed(N[x]||0)),g=0;g<_[x]-B.length;++g)M.write_shift(1,32);M.write_shift(1,B,"sbcs");break;case"D":p[m][x]?(M.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var I=String(p[m][x]!=null?p[m][x]:"").slice(0,_[x]);for(M.write_shift(1,I,"sbcs"),g=0;g<_[x]-I.length;++g)M.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),fhe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Nl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var v=e[p];return typeof v=="number"?B6(v):v},n=function(h,p,v){var m=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return m==59?h:B6(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(ks(h),p);case"binary":return i(h,p);case"buffer":return i(Pr&&Buffer.isBuffer(h)?h.toString("binary"):bf(h),p);case"array":return i(of(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var v=h.split(/[\n\r]+/),m=-1,x=-1,g=0,y=0,b=[],S=[],_=null,N={},j=[],A=[],P=[],H=0,C;for(+p.codepage>=0&&Ro(+p.codepage);g!==v.length;++g){H=0;var k=v[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=k.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),D=U[0],M;if(k.length>0)switch(D){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&S.push(k.slice(3).replace(/;;/g,";"));break;case"C":var B=!1,I=!1,q=!1,F=!1,z=-1,J=-1;for(y=1;y<U.length;++y)switch(U[y].charAt(0)){case"A":break;case"X":x=parseInt(U[y].slice(1))-1,I=!0;break;case"Y":for(m=parseInt(U[y].slice(1))-1,I||(x=0),C=b.length;C<=m;++C)b[C]=[];break;case"K":M=U[y].slice(1),M.charAt(0)==='"'?M=M.slice(1,M.length-1):M==="TRUE"?M=!0:M==="FALSE"?M=!1:isNaN(Vo(M))?isNaN(x0(M).getDate())||(M=Ia(M)):(M=Vo(M),_!==null&&tp(_)&&(M=Cw(M))),B=!0;break;case"E":F=!0;var E=Xh(U[y].slice(1),{r:m,c:x});b[m][x]=[b[m][x],E];break;case"S":q=!0,b[m][x]=[b[m][x],"S5S"];break;case"G":break;case"R":z=parseInt(U[y].slice(1))-1;break;case"C":J=parseInt(U[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}if(B&&(b[m][x]&&b[m][x].length==2?b[m][x][0]=M:b[m][x]=M,_=null),q){if(F)throw new Error("SYLK shared formula cannot have own formula");var V=z>-1&&b[z][J];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");b[m][x][1]=NV(V[1],{r:m-z,c:x-J})}break;case"F":var K=0;for(y=1;y<U.length;++y)switch(U[y].charAt(0)){case"X":x=parseInt(U[y].slice(1))-1,++K;break;case"Y":for(m=parseInt(U[y].slice(1))-1,C=b.length;C<=m;++C)b[C]=[];break;case"M":H=parseInt(U[y].slice(1))/20;break;case"F":break;case"G":break;case"P":_=S[parseInt(U[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=U[y].slice(1).split(" "),C=parseInt(P[0],10);C<=parseInt(P[1],10);++C)H=parseInt(P[2],10),A[C-1]=H===0?{hidden:!0}:{wch:H},y0(A[C-1]);break;case"C":x=parseInt(U[y].slice(1))-1,A[x]||(A[x]={});break;case"R":m=parseInt(U[y].slice(1))-1,j[m]||(j[m]={}),H>0?(j[m].hpt=H,j[m].hpx=Jg(H)):H===0&&(j[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}K<1&&(_=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}}return j.length>0&&(N["!rows"]=j),A.length>0&&(N["!cols"]=A),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,N]}function o(h,p){var v=a(h,p),m=v[0],x=v[1],g=np(m,p);return Nl(x).forEach(function(y){g[y]=x[y]}),g}function l(h,p){return Yu(o(h,p),p)}function c(h,p,v,m){var x="C;Y"+(v+1)+";X"+(m+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+Q0e(h.f,{r:v,c:m}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(v,m){var x="F;W"+(m+1)+" "+(m+1)+" ";v.hidden?x+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=L2(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=I2(v.wpx)),typeof v.wch=="number"&&(x+=Math.round(v.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(v,m){var x="F;";v.hidden?x+="M0;":v.hpt?x+="M"+20*v.hpt+";":v.hpx&&(x+="M"+20*_V(v.hpx)+";"),x.length>2&&h.push(x+"R"+(m+1))})}function f(h,p){var v=["ID;PWXL;N;E"],m=[],x=Gn(h["!ref"]),g,y=Array.isArray(h),b=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&u(v,h["!cols"]),h["!rows"]&&d(v,h["!rows"]),v.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var S=x.s.r;S<=x.e.r;++S)for(var _=x.s.c;_<=x.e.c;++_){var N=lr({r:S,c:_});g=y?(h[S]||[])[_]:h[N],!(!g||g.v==null&&(!g.f||g.F))&&m.push(c(g,h,S,_))}return v.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),hhe=function(){function e(i,o){switch(o.type){case"base64":return t(ks(i),o);case"binary":return t(i,o);case"buffer":return t(Pr&&Buffer.isBuffer(i)?i.toString("binary"):bf(i),o);case"array":return t(of(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],v=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(Vo(v))?isNaN(x0(v).getDate())?f[c][u]=v:f[c][u]=Ia(v):f[c][u]=Vo(v),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return np(e(i,o),o)}function n(i,o){return Yu(r(i,o),o)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Gn(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var m=lr({r:p,c:v});if(f=h?(c[p]||[])[v]:c[m],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=so(f.z||gr[14],Mi(Ia(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var g=`\r
`,y=u.join(g);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),phe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),v=-1,m=-1,x=0,g=[];x!==p.length;++x){var y=p[x].trim().split(":");if(y[0]==="cell"){var b=Oi(y[1]);if(g.length<=b.r)for(v=g.length;v<=b.r;++v)g[v]||(g[v]=[]);switch(v=b.r,m=b.c,y[2]){case"t":g[v][m]=e(y[3]);break;case"v":g[v][m]=+y[3];break;case"vtf":var S=y[y.length-1];case"vtc":switch(y[3]){case"nl":g[v][m]=!!+y[4];break;default:g[v][m]=+y[4];break}y[2]=="vtf"&&(g[v][m]=[g[v][m],S])}}}return h&&h.sheetRows&&(g=g.slice(0,h.sheetRows)),g}function n(f,h){return np(r(f,h),h)}function a(f,h){return Yu(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,m="",x=rp(f["!ref"]),g=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var b=x.s.c;b<=x.e.c;++b)if(m=lr({r:y,c:b}),v=g?(f[y]||[])[b]:f[m],!(!v||v.v==null||v.t==="z")){switch(p=["cell",m,"t"],v.t){case"s":case"str":p.push(t(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=t(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var S=Mi(Ia(v.v));p[2]="vtc",p[3]="nd",p[4]=""+S,p[5]=v.w||so(v.z||gr[14],S);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Yg=function(){function e(d,f,h,p,v){v.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Vo(d))?isNaN(x0(d).getDate())?f[h][p]=d:f[h][p]=Ia(d):f[h][p]=Vo(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var v=d.split(/[\r\n]/),m=v.length-1;m>=0&&v[m].length===0;)--m;for(var x=10,g=0,y=0;y<=m;++y)g=v[y].indexOf(" "),g==-1?g=v[y].length:g++,x=Math.max(x,g);for(y=0;y<=m;++y){p[y]=[];var b=0;for(e(v[y].slice(0,x).trim(),p,y,b,h),b=1;b<=(v[y].length-x)/10+1;++b)e(v[y].slice(x+(b-1)*10,x+b*10).trim(),p,y,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,v=0;p<d.length;++p)(v=d.charCodeAt(p))==34?h=!h:!h&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(m,x){return m[0]-x[0]||n[m[1]]-n[x[1]]}),r[v.pop()[1]]||44}function i(d,f){var h=f||{},p="",v=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,g=0,y=0,b=0,S=0,_=p.charCodeAt(0),N=!1,j=0,A=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=h.dateNF!=null?Aue(h.dateNF):null;function H(){var C=d.slice(b,S),k={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)k.t="z";else if(h.raw)k.t="s",k.v=C;else if(C.trim().length===0)k.t="s",k.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(k.t="s",k.v=C.slice(2,-1).replace(/""/g,'"')):epe(C)?(k.t="n",k.f=C.slice(1)):(k.t="s",k.v=C);else if(C=="TRUE")k.t="b",k.v=!0;else if(C=="FALSE")k.t="b",k.v=!1;else if(!isNaN(y=Vo(C)))k.t="n",h.cellText!==!1&&(k.w=C),k.v=y;else if(!isNaN(x0(C).getDate())||P&&C.match(P)){k.z=h.dateNF||gr[14];var U=0;P&&C.match(P)&&(C=Tue(C,h.dateNF,C.match(P)||[]),U=1),h.cellDates?(k.t="d",k.v=Ia(C,U)):(k.t="n",k.v=Mi(Ia(C,U))),h.cellText!==!1&&(k.w=so(k.z,k.v instanceof Date?Mi(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=C;if(k.t=="z"||(h.dense?(v[x]||(v[x]=[]),v[x][g]=k):v[lr({c:g,r:x})]=k),b=S+1,A=d.charCodeAt(b),m.e.c<g&&(m.e.c=g),m.e.r<x&&(m.e.r=x),j==_)++g;else if(g=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;S<d.length;++S)switch(j=d.charCodeAt(S)){case 34:A===34&&(N=!N);break;case _:case 10:case 13:if(!N&&H())break e;break}return S-b>0&&H(),v["!ref"]=Lr(m),v}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):np(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:AE(d,f);switch(f.type){case"base64":h=ks(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof lu<"u"?h=lu.utils.decode(f.codepage,d):h=Pr&&Buffer.isBuffer(d)?d.toString("binary"):bf(d);break;case"array":h=of(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=gn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=gn(h):f.type=="binary"&&typeof lu<"u"&&f.codepage&&(h=lu.utils.decode(f.codepage,lu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?phe.to_sheet(f.type=="string"?h:gn(h),f):o(h,f)}function c(d,f){return Yu(l(d,f),f)}function u(d){for(var f=[],h=Gn(d["!ref"]),p,v=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var x=[],g=h.s.c;g<=h.e.c;++g){var y=lr({r:m,c:g});if(p=v?(d[m]||[])[g]:d[y],!p||p.v==null){x.push("          ");continue}for(var b=(p.w||(_c(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(g===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function mhe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=fhe.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Yg.to_workbook(e,t)}}var ig=function(){function e(E,V,K){if(E){qa(E,E.l||0);for(var W=K.Enum||z;E.l<E.length;){var Y=E.read_shift(2),ee=W[Y]||W[65535],oe=E.read_shift(2),G=E.l+oe,se=ee.f&&ee.f(E,oe,K);if(E.l=G,V(se,ee,Y))return}}}function t(E,V){switch(V.type){case"base64":return r(Lo(ks(E)),V);case"binary":return r(Lo(E),V);case"buffer":case"array":return r(E,V)}throw"Unsupported type "+V.type}function r(E,V){if(!E)return E;var K=V||{},W=K.dense?[]:{},Y="Sheet1",ee="",oe=0,G={},se=[],he=[],Q={s:{r:0,c:0},e:{r:0,c:0}},Pe=K.sheetRows||0;if(E[2]==0&&(E[3]==8||E[3]==9)&&E.length>=16&&E[14]==5&&E[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(E[2]==2)K.Enum=z,e(E,function(ke,Ge,Le){switch(Le){case 0:K.vers=ke,ke>=4096&&(K.qpro=!0);break;case 6:Q=ke;break;case 204:ke&&(ee=ke);break;case 222:ee=ke;break;case 15:case 51:K.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:Le==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=K.dateNF||gr[14],K.cellDates&&(ke[1].t="d",ke[1].v=Cw(ke[1].v))),K.qpro&&ke[3]>oe&&(W["!ref"]=Lr(Q),G[Y]=W,se.push(Y),W=K.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},oe=ke[3],Y=ee||"Sheet"+(oe+1),ee="");var qe=K.dense?(W[ke[0].r]||[])[ke[0].c]:W[lr(ke[0])];if(qe){qe.t=ke[1].t,qe.v=ke[1].v,ke[1].z!=null&&(qe.z=ke[1].z),ke[1].f!=null&&(qe.f=ke[1].f);break}K.dense?(W[ke[0].r]||(W[ke[0].r]=[]),W[ke[0].r][ke[0].c]=ke[1]):W[lr(ke[0])]=ke[1];break}},K);else if(E[2]==26||E[2]==14)K.Enum=J,E[2]==14&&(K.qpro=!0,E.l=0),e(E,function(ke,Ge,Le){switch(Le){case 204:Y=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>oe&&(W["!ref"]=Lr(Q),G[Y]=W,se.push(Y),W=K.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},oe=ke[3],Y="Sheet"+(oe+1)),Pe>0&&ke[0].r>=Pe)break;K.dense?(W[ke[0].r]||(W[ke[0].r]=[]),W[ke[0].r][ke[0].c]=ke[1]):W[lr(ke[0])]=ke[1],Q.e.c<ke[0].c&&(Q.e.c=ke[0].c),Q.e.r<ke[0].r&&(Q.e.r=ke[0].r);break;case 27:ke[14e3]&&(he[ke[14e3][0]]=ke[14e3][1]);break;case 1537:he[ke[0]]=ke[1],ke[0]==oe&&(Y=ke[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+E[2]);if(W["!ref"]=Lr(Q),G[ee||Y]=W,se.push(ee||Y),!he.length)return{SheetNames:se,Sheets:G};for(var De={},je=[],Z=0;Z<he.length;++Z)G[se[Z]]?(je.push(he[Z]||se[Z]),De[he[Z]]=G[he[Z]]||G[se[Z]]):(je.push(he[Z]),De[he[Z]]={"!ref":"A1"});return{SheetNames:je,Sheets:De}}function n(E,V){var K=V||{};if(+K.codepage>=0&&Ro(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var W=QN(),Y=Gn(E["!ref"]),ee=Array.isArray(E),oe=[];wo(W,0,i(1030)),wo(W,6,c(Y));for(var G=Math.min(Y.e.r,8191),se=Y.s.r;se<=G;++se)for(var he=Xa(se),Q=Y.s.c;Q<=Y.e.c;++Q){se===Y.s.r&&(oe[Q]=wa(Q));var Pe=oe[Q]+he,De=ee?(E[se]||[])[Q]:E[Pe];if(!(!De||De.t=="z"))if(De.t=="n")(De.v|0)==De.v&&De.v>=-32768&&De.v<=32767?wo(W,13,p(se,Q,De.v)):wo(W,14,m(se,Q,De.v));else{var je=_c(De);wo(W,15,f(se,Q,je.slice(0,239)))}}return wo(W,1),W.end()}function a(E,V){var K=V||{};if(+K.codepage>=0&&Ro(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var W=QN();wo(W,0,o(E));for(var Y=0,ee=0;Y<E.SheetNames.length;++Y)(E.Sheets[E.SheetNames[Y]]||{})["!ref"]&&wo(W,27,F(E.SheetNames[Y],ee++));var oe=0;for(Y=0;Y<E.SheetNames.length;++Y){var G=E.Sheets[E.SheetNames[Y]];if(!(!G||!G["!ref"])){for(var se=Gn(G["!ref"]),he=Array.isArray(G),Q=[],Pe=Math.min(se.e.r,8191),De=se.s.r;De<=Pe;++De)for(var je=Xa(De),Z=se.s.c;Z<=se.e.c;++Z){De===se.s.r&&(Q[Z]=wa(Z));var ke=Q[Z]+je,Ge=he?(G[De]||[])[Z]:G[ke];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")wo(W,23,H(De,Z,oe,Ge.v));else{var Le=_c(Ge);wo(W,22,j(De,Z,oe,Le.slice(0,239)))}}++oe}}return wo(W,1),W.end()}function i(E){var V=va(2);return V.write_shift(2,E),V}function o(E){var V=va(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var K=0,W=0,Y=0,ee=0;ee<E.SheetNames.length;++ee){var oe=E.SheetNames[ee],G=E.Sheets[oe];if(!(!G||!G["!ref"])){++Y;var se=rp(G["!ref"]);K<se.e.r&&(K=se.e.r),W<se.e.c&&(W=se.e.c)}}return K>8191&&(K=8191),V.write_shift(2,K),V.write_shift(1,Y),V.write_shift(1,W),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function l(E,V,K){var W={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&K.qpro?(W.s.c=E.read_shift(1),E.l++,W.s.r=E.read_shift(2),W.e.c=E.read_shift(1),E.l++,W.e.r=E.read_shift(2),W):(W.s.c=E.read_shift(2),W.s.r=E.read_shift(2),V==12&&K.qpro&&(E.l+=2),W.e.c=E.read_shift(2),W.e.r=E.read_shift(2),V==12&&K.qpro&&(E.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function c(E){var V=va(8);return V.write_shift(2,E.s.c),V.write_shift(2,E.s.r),V.write_shift(2,E.e.c),V.write_shift(2,E.e.r),V}function u(E,V,K){var W=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(W[0].c=E.read_shift(1),W[3]=E.read_shift(1),W[0].r=E.read_shift(2),E.l+=2):(W[2]=E.read_shift(1),W[0].c=E.read_shift(2),W[0].r=E.read_shift(2)),W}function d(E,V,K){var W=E.l+V,Y=u(E,V,K);if(Y[1].t="s",K.vers==20768){E.l++;var ee=E.read_shift(1);return Y[1].v=E.read_shift(ee,"utf8"),Y}return K.qpro&&E.l++,Y[1].v=E.read_shift(W-E.l,"cstr"),Y}function f(E,V,K){var W=va(7+K.length);W.write_shift(1,255),W.write_shift(2,V),W.write_shift(2,E),W.write_shift(1,39);for(var Y=0;Y<W.length;++Y){var ee=K.charCodeAt(Y);W.write_shift(1,ee>=128?95:ee)}return W.write_shift(1,0),W}function h(E,V,K){var W=u(E,V,K);return W[1].v=E.read_shift(2,"i"),W}function p(E,V,K){var W=va(7);return W.write_shift(1,255),W.write_shift(2,V),W.write_shift(2,E),W.write_shift(2,K,"i"),W}function v(E,V,K){var W=u(E,V,K);return W[1].v=E.read_shift(8,"f"),W}function m(E,V,K){var W=va(13);return W.write_shift(1,255),W.write_shift(2,V),W.write_shift(2,E),W.write_shift(8,K,"f"),W}function x(E,V,K){var W=E.l+V,Y=u(E,V,K);if(Y[1].v=E.read_shift(8,"f"),K.qpro)E.l=W;else{var ee=E.read_shift(2);S(E.slice(E.l,E.l+ee),Y),E.l+=ee}return Y}function g(E,V,K){var W=V&32768;return V&=-32769,V=(W?E:0)+(V>=8192?V-16384:V),(W?"":"$")+(K?wa(V):Xa(V))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(E,V){qa(E,0);for(var K=[],W=0,Y="",ee="",oe="",G="";E.l<E.length;){var se=E[E.l++];switch(se){case 0:K.push(E.read_shift(8,"f"));break;case 1:ee=g(V[0].c,E.read_shift(2),!0),Y=g(V[0].r,E.read_shift(2),!1),K.push(ee+Y);break;case 2:{var he=g(V[0].c,E.read_shift(2),!0),Q=g(V[0].r,E.read_shift(2),!1);ee=g(V[0].c,E.read_shift(2),!0),Y=g(V[0].r,E.read_shift(2),!1),K.push(he+Q+":"+ee+Y)}break;case 3:if(E.l<E.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(E.read_shift(2));break;case 6:{for(var Pe="";se=E[E.l++];)Pe+=String.fromCharCode(se);K.push('"'+Pe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:G=K.pop(),oe=K.pop(),K.push(["AND","OR"][se-20]+"("+oe+","+G+")");break;default:if(se<32&&b[se])G=K.pop(),oe=K.pop(),K.push(oe+b[se]+G);else if(y[se]){if(W=y[se][1],W==69&&(W=E[E.l++]),W>K.length){console.error("WK1 bad formula parse 0x"+se.toString(16)+":|"+K.join("|")+"|");return}var De=K.slice(-W);K.length-=W,K.push(y[se][0]+"("+De.join(",")+")")}else return se<=7?console.error("WK1 invalid opcode "+se.toString(16)):se<=24?console.error("WK1 unsupported op "+se.toString(16)):se<=30?console.error("WK1 invalid opcode "+se.toString(16)):se<=115?console.error("WK1 unsupported function opcode "+se.toString(16)):console.error("WK1 unrecognized opcode "+se.toString(16))}}K.length==1?V[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function _(E){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=E.read_shift(2),V[3]=E[E.l++],V[0].c=E[E.l++],V}function N(E,V){var K=_(E);return K[1].t="s",K[1].v=E.read_shift(V-4,"cstr"),K}function j(E,V,K,W){var Y=va(6+W.length);Y.write_shift(2,E),Y.write_shift(1,K),Y.write_shift(1,V),Y.write_shift(1,39);for(var ee=0;ee<W.length;++ee){var oe=W.charCodeAt(ee);Y.write_shift(1,oe>=128?95:oe)}return Y.write_shift(1,0),Y}function A(E,V){var K=_(E);K[1].v=E.read_shift(2);var W=K[1].v>>1;if(K[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return K[1].v=W,K}function P(E,V){var K=_(E),W=E.read_shift(4),Y=E.read_shift(4),ee=E.read_shift(2);if(ee==65535)return W===0&&Y===3221225472?(K[1].t="e",K[1].v=15):W===0&&Y===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var oe=ee&32768;return ee=(ee&32767)-16446,K[1].v=(1-oe*2)*(Y*Math.pow(2,ee+32)+W*Math.pow(2,ee)),K}function H(E,V,K,W){var Y=va(14);if(Y.write_shift(2,E),Y.write_shift(1,K),Y.write_shift(1,V),W==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var ee=0,oe=0,G=0,se=0;return W<0&&(ee=1,W=-W),oe=Math.log2(W)|0,W/=Math.pow(2,oe-31),se=W>>>0,se&2147483648||(W/=2,++oe,se=W>>>0),W-=se,se|=2147483648,se>>>=0,W*=Math.pow(2,32),G=W>>>0,Y.write_shift(4,G),Y.write_shift(4,se),oe+=16383+(ee?32768:0),Y.write_shift(2,oe),Y}function C(E,V){var K=P(E);return E.l+=V-14,K}function k(E,V){var K=_(E),W=E.read_shift(4);return K[1].v=W>>6,K}function U(E,V){var K=_(E),W=E.read_shift(8,"f");return K[1].v=W,K}function D(E,V){var K=U(E);return E.l+=V-10,K}function M(E,V){return E[E.l+V-1]==0?E.read_shift(V,"cstr"):""}function B(E,V){var K=E[E.l++];K>V-1&&(K=V-1);for(var W="";W.length<K;)W+=String.fromCharCode(E[E.l++]);return W}function I(E,V,K){if(!(!K.qpro||V<21)){var W=E.read_shift(1);E.l+=17,E.l+=1,E.l+=2;var Y=E.read_shift(V-21,"cstr");return[W,Y]}}function q(E,V){for(var K={},W=E.l+V;E.l<W;){var Y=E.read_shift(2);if(Y==14e3){for(K[Y]=[0,""],K[Y][0]=E.read_shift(2);E[E.l];)K[Y][1]+=String.fromCharCode(E[E.l]),E.l++;E.l++}}return K}function F(E,V){var K=va(5+E.length);K.write_shift(2,14e3),K.write_shift(2,V);for(var W=0;W<E.length;++W){var Y=E.charCodeAt(W);K[K.l++]=Y>127?95:Y}return K[K.l++]=0,K}var z={0:{n:"BOF",f:ua},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:M},222:{n:"SHEETNAMELP",f:B},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:D},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:M},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:I},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function ghe(e){var t={},r=e.match(ji),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Jt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=rE[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var vhe=function(){var e=Gg("t"),t=Gg("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:Br(o[1])},c=i.match(t);return c&&(l.s=ghe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),xhe=function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),yhe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,bhe=/<(?:\w+:)?r>/,whe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function yE(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Br(gn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=gn(e),r&&(n.h=cE(n.t))):e.match(bhe)&&(n.r=gn(e),n.t=Br(gn((e.replace(whe,"").match(yhe)||[]).join("").replace(ji,""))),r&&(n.h=xhe(vhe(n.r)))),n):{t:""}}var _he=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,jhe=/<(?:\w+:)?(?:si|sstItem)>/g,She=/<\/(?:\w+:)?(?:si|sstItem)>/;function Nhe(e,t){var r=[],n="";if(!e)return r;var a=e.match(_he);if(a){n=a[2].replace(jhe,"").split(She);for(var i=0;i!=n.length;++i){var o=yE(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=Jt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Ahe(e){return[e.read_shift(4),e.read_shift(4)]}function The(e,t){var r=[],n=!1;return Tc(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function gV(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function cc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Che(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=cc(e,4),t.U=cc(e,4),t.W=cc(e,4),t}function Ehe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function khe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Ehe(e));return t}function Phe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Ohe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=cc(e,4),t.U=cc(e,4),t.W=cc(e,4),t}function Fhe(e){var t=Ohe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function vV(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function xV(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Dhe(e){var t=cc(e);switch(t.Minor){case 2:return[t.Minor,Lhe(e)];case 3:return[t.Minor,Ihe()];case 4:return[t.Minor,Mhe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Lhe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=vV(e,r),a=xV(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Ihe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Mhe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(ji,function(i){var o=Jt(i);switch(Cl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function Rhe(e,t){var r={},n=r.EncryptionVersionInfo=cc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=vV(e,a),t-=a,r.EncryptionVerifier=xV(e,t),r}function $he(e){var t={},r=t.EncryptionVersionInfo=cc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Bhe(e){var t=0,r,n=gV(e),a=n.length+1,i,o,l,c,u;for(r=$u(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var yV=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=gV(o),c=i(l),u=l.length,d=$u(16),f=0;f!=16;++f)d[f]=0;var h,p,v;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=l[l.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,v=15-l.length;v>0;)h=c>>8,d[u]=a(e[v],h),--u,--v,h=c&255,d[u]=a(l[u],h),--u,--v;return d}}(),Uhe=function(e,t,r,n,a){a||(a=t),n||(n=yV(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},zhe=function(e){var t=0,r=yV(e);return function(n){var a=Uhe("",n,t,r);return t=a[1],a[0]}};function Vhe(e,t,r,n){var a={key:ua(e),verificationBytes:ua(e)};return r.password&&(a.verifier=Bhe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=zhe(r.password)),a}function Hhe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=$he(e):n.Data=Rhe(e,t),n}function Whe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Hhe(e,t-2,n):Vhe(e,r.biff>=8?t:t-2,r,n),n}var qhe=function(){function e(a,i){switch(i.type){case"base64":return t(ks(a),i);case"binary":return t(a,i);case"buffer":return t(Pr&&Buffer.isBuffer(a)?a.toString("binary"):bf(a),i);case"array":return t(of(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,v,m=-1;v=h.exec(d);){switch(v[0]){case"\\cell":var x=d.slice(p,h.lastIndex-v[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var g={v:x,t:"s"};Array.isArray(l)?l[f][m]=g:l[lr({r:f,c:m})]=g}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=Lr(u),l}function r(a,i){return Yu(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Gn(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=lr({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(_c(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Ghe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Xg(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Khe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function Yhe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function D2(e,t){if(t===0)return e;var r=Khe(Ghe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Xg(Yhe(r))}var bV=6,Xhe=15,Jhe=1,Pi=bV;function L2(e){return Math.floor((e+Math.round(128/Pi)/256)*Pi)}function I2(e){return Math.floor((e-5)/Pi*100+.5)/100}function r4(e){return Math.round((e*Pi+5)/Pi*256)/256}function gj(e){return r4(I2(L2(e)))}function bE(e){var t=Math.abs(e-gj(e)),r=Pi;if(t>.005)for(Pi=Jhe;Pi<Xhe;++Pi)Math.abs(e-gj(e))<=t&&(t=Math.abs(e-gj(e)),r=Pi);Pi=r}function y0(e){e.width?(e.wpx=L2(e.width),e.wch=I2(e.wpx),e.MDW=Pi):e.wpx?(e.wch=I2(e.wpx),e.width=r4(e.wch),e.MDW=Pi):typeof e.wch=="number"&&(e.width=r4(e.wch),e.wpx=L2(e.width),e.MDW=Pi),e.customWidth&&delete e.customWidth}var Qhe=96,wV=Qhe;function _V(e){return e*96/wV}function Jg(e){return e*wV/96}var Zhe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function e0e(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(ji)||[]).forEach(function(o){var l=Jt(o);switch(Cl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Tn(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Tn(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function t0e(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(ji)||[]).forEach(function(o){var l=Jt(o);switch(Cl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function r0e(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(ji)||[]).forEach(function(o){var l=Jt(o);switch(Cl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=gn(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Tn(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Tn(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Tn(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Tn(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Tn(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Tn(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Tn(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=rE[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Tn(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=zd[a.color.index];a.color.index==81&&(c=zd[1]),c||(c=zd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=D2(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function n0e(e,t,r){t.NumberFmt=[];for(var n=Nl(gr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=gr[n[a]];var i=e[0].match(ji);if(i)for(a=0;a<i.length;++a){var o=Jt(i[a]);switch(Cl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Br(gn(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Ud(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var q1=["numFmtId","fillId","fontId","borderId","xfId"],G1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function a0e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(ji)||[]).forEach(function(i){var o=Jt(i),l=0;switch(Cl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<q1.length;++l)n[q1[l]]&&(n[q1[l]]=parseInt(n[q1[l]],10));for(l=0;l<G1.length;++l)n[G1[l]]&&(n[G1[l]]=Tn(n[G1[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Tn(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var i0e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&n0e(f,d,u),(f=l.match(a))&&r0e(f,d,c,u),(f=l.match(n))&&t0e(f,d,c,u),(f=l.match(i))&&e0e(f,d,c,u),(f=l.match(r))&&a0e(f,d,u),d}}();function s0e(e,t){var r=e.read_shift(2),n=yi(e);return[r,n]}function o0e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=vde(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=gde(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=yi(e),n}var l0e=_i;function c0e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var u0e=_i;function d0e(e,t,r){var n={};n.NumberFmt=[];for(var a in gr)n.NumberFmt[a]=gr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Tc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Ud(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=D2(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var f0e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function h0e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(ji)||[]).forEach(function(a){var i=Jt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[f0e.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function p0e(){}function m0e(){}var g0e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,v0e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,x0e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function y0e(e,t,r){t.themeElements={};var n;[["clrScheme",g0e,h0e],["fontScheme",v0e,p0e],["fmtScheme",x0e,m0e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var b0e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function jV(e,t){(!e||e.length===0)&&(e=w0e());var r,n={};if(!(r=e.match(b0e)))throw new Error("themeElements not found in theme");return y0e(r[0],n,t),n.raw=e,n}function w0e(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Dz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function _0e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=Fz(i,{type:"array"})}catch{return}var l=ys(o,"theme/theme/theme1.xml",!0);if(l)return jV(l,r)}}function j0e(e){return e.read_shift(4)}function S0e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=N0e(e,4);break;case 2:t.xclrValue=cV(e);break;case 3:t.xclrValue=j0e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function N0e(e,t){return _i(e,t)}function A0e(e,t){return _i(e,t)}function T0e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=S0e(e);break;case 6:n[1]=A0e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function C0e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(T0e(e,r-e.l));return{ixfe:n,ext:i}}function E0e(e,t){t.forEach(function(r){switch(r[0]){}})}function k0e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:yi(e)}}function P0e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function O0e(e){return e.l+=4,e.read_shift(4)!=0}function F0e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return Tc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function D0e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(ji,function(l){var c=Jt(l);switch(Cl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function L0e(e){var t=[];if(!e)return t;var r=1;return(e.match(ji)||[]).forEach(function(n){var a=Jt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function I0e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=lr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function M0e(e,t,r){var n=[];return Tc(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function R0e(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Tc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function $0e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function N8(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var l=Oi(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=Gn(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Lr(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function B0e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Jt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Oi(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&yE(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function U0e(e,t){var r=[],n=!1,a={},i=0;return e.replace(ji,function(l,c){var u=Jt(l);switch(Cl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function z0e(e,t){var r=[],n=!1;return e.replace(ji,function(i){var o=Jt(i);switch(Cl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function V0e(e){var t={};t.iauthor=e.read_shift(4);var r=_f(e);return t.rfx=r.s,t.ref=lr(r.s),e.l+=16,t}var H0e=yi;function W0e(e,t){var r=[],n=[],a={},i=!1;return Tc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var q0e="application/vnd.ms-office.vbaProject";function G0e(e){var t=Dr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Dr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Dr.write(t)}function K0e(){return{"!type":"dialog"}}function Y0e(){return{"!type":"dialog"}}function X0e(){return{"!type":"macro"}}function J0e(){return{"!type":"macro"}}var Xh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+wa(d)+(c?"":"$")+Xa(u)}return function(a,i){return t=i,a.replace(e,r)}}(),SV=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Q0e=function(){return function(t,r){return t.replace(SV,function(n,a,i,o,l,c){var u=hE(o)-(i?0:r.c),d=fE(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function NV(e,t){return e.replace(SV,function(r,n,a,i,o,l){return n+(a=="$"?a+i:wa(hE(i)+t.c))+(o=="$"?o+l:Xa(fE(l)+t.r))})}function Z0e(e,t,r){var n=rp(t),a=n.s,i=Oi(r),o={r:i.r-a.r,c:i.c-a.c};return NV(e,o)}function epe(e){return e.length!=1}function A8(e){return e.replace(/_xlfn\./g,"")}function la(e){e.l+=1}function Bu(e,t){var r=e.read_shift(t==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function AV(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return TV(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Bu(e,2),l=Bu(e,2);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function TV(e){var t=Bu(e,2),r=Bu(e,2),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function tpe(e,t,r){if(r.biff<8)return TV(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Bu(e,2),o=Bu(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function CV(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return rpe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Bu(e,2);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function rpe(e){var t=Bu(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function npe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function ape(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ipe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function ipe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function spe(e,t,r){var n=(e[e.l++]&96)>>5,a=AV(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function ope(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=AV(e,i,r);return[n,a,o]}function lpe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function cpe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function upe(e,t,r){var n=(e[e.l++]&96)>>5,a=tpe(e,t-1,r);return[n,a]}function dpe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function T8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function fpe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function hpe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ppe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function mpe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function gpe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function EV(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function vpe(e){return e.read_shift(2),EV(e)}function xpe(e){return e.read_shift(2),EV(e)}function ype(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=CV(e,0,r);return[n,a]}function bpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=ape(e,0,r);return[n,a]}function wpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=CV(e,0,r);return[n,a,i]}function _pe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[jme[a],OV[a],n]}function jpe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Spe(e);return[a,(i[0]===0?OV:_me)[i[1]]]}function Spe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Npe(e,t,r){e.l+=r&&r.biff==2?3:4}function Ape(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Tpe(e){return e.l++,jf[e.read_shift(1)]}function Cpe(e){return e.l++,e.read_shift(2)}function Epe(e){return e.l++,e.read_shift(1)!==0}function kpe(e){return e.l++,pi(e)}function Ppe(e,t,r){return e.l++,tx(e,t-1,r)}function Ope(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Jn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=jf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=pi(e);break;case 2:r[1]=Sf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Fpe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?_f:Ew)(e));return a}function Dpe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=Ope(e,r.biff);return o}function Lpe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Ipe(e,t,r){if(r.biff==5)return Mpe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Mpe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Rpe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function $pe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Bpe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Upe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var zpe=_i,Vpe=_i,Hpe=_i;function nx(e,t,r){return e.l+=2,[npe(e)]}function wE(e){return e.l+=6,[]}var Wpe=nx,qpe=wE,Gpe=wE,Kpe=nx;function kV(e){return e.l+=2,[ua(e),e.read_shift(2)&1]}var Ype=nx,Xpe=kV,Jpe=wE,Qpe=nx,Zpe=nx,eme=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tme(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=eme[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function rme(e){return e.l+=2,[e.read_shift(4)]}function nme(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function ame(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ime(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function sme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ome(e){return e.l+=4,[0,0]}var C8={1:{n:"PtgExp",f:Ape},2:{n:"PtgTbl",f:Hpe},3:{n:"PtgAdd",f:la},4:{n:"PtgSub",f:la},5:{n:"PtgMul",f:la},6:{n:"PtgDiv",f:la},7:{n:"PtgPower",f:la},8:{n:"PtgConcat",f:la},9:{n:"PtgLt",f:la},10:{n:"PtgLe",f:la},11:{n:"PtgEq",f:la},12:{n:"PtgGe",f:la},13:{n:"PtgGt",f:la},14:{n:"PtgNe",f:la},15:{n:"PtgIsect",f:la},16:{n:"PtgUnion",f:la},17:{n:"PtgRange",f:la},18:{n:"PtgUplus",f:la},19:{n:"PtgUminus",f:la},20:{n:"PtgPercent",f:la},21:{n:"PtgParen",f:la},22:{n:"PtgMissArg",f:la},23:{n:"PtgStr",f:Ppe},26:{n:"PtgSheet",f:nme},27:{n:"PtgEndSheet",f:ame},28:{n:"PtgErr",f:Tpe},29:{n:"PtgBool",f:Epe},30:{n:"PtgInt",f:Cpe},31:{n:"PtgNum",f:kpe},32:{n:"PtgArray",f:dpe},33:{n:"PtgFunc",f:_pe},34:{n:"PtgFuncVar",f:jpe},35:{n:"PtgName",f:Lpe},36:{n:"PtgRef",f:ype},37:{n:"PtgArea",f:spe},38:{n:"PtgMemArea",f:Rpe},39:{n:"PtgMemErr",f:zpe},40:{n:"PtgMemNoMem",f:Vpe},41:{n:"PtgMemFunc",f:$pe},42:{n:"PtgRefErr",f:Bpe},43:{n:"PtgAreaErr",f:lpe},44:{n:"PtgRefN",f:bpe},45:{n:"PtgAreaN",f:upe},46:{n:"PtgMemAreaN",f:ime},47:{n:"PtgMemNoMemN",f:sme},57:{n:"PtgNameX",f:Ipe},58:{n:"PtgRef3d",f:wpe},59:{n:"PtgArea3d",f:ope},60:{n:"PtgRefErr3d",f:Upe},61:{n:"PtgAreaErr3d",f:cpe},255:{}},lme={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cme={1:{n:"PtgElfLel",f:kV},2:{n:"PtgElfRw",f:Qpe},3:{n:"PtgElfCol",f:Wpe},6:{n:"PtgElfRwV",f:Zpe},7:{n:"PtgElfColV",f:Kpe},10:{n:"PtgElfRadical",f:Ype},11:{n:"PtgElfRadicalS",f:Jpe},13:{n:"PtgElfColS",f:qpe},15:{n:"PtgElfColSV",f:Gpe},16:{n:"PtgElfRadicalLel",f:Xpe},25:{n:"PtgList",f:tme},29:{n:"PtgSxName",f:rme},255:{}},ume={0:{n:"PtgAttrNoop",f:ome},1:{n:"PtgAttrSemi",f:gpe},2:{n:"PtgAttrIf",f:ppe},4:{n:"PtgAttrChoose",f:fpe},8:{n:"PtgAttrGoto",f:hpe},16:{n:"PtgAttrSum",f:Npe},32:{n:"PtgAttrBaxcel",f:T8},33:{n:"PtgAttrBaxcel",f:T8},64:{n:"PtgAttrSpace",f:vpe},65:{n:"PtgAttrSpaceSemi",f:xpe},128:{n:"PtgAttrIfError",f:mpe},255:{}};function ax(e,t,r,n){if(n.biff<8)return _i(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Dpe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Fpe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(_i(e,t)),i}function ix(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=C8[i]||C8[lme[i]],(i===24||i===25)&&(a=(i===24?cme:ume)[e[e.l+1]]),!a||!a.f?_i(e,t):o.push([a.n,a.f(e,t,r)]);return o}function dme(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var fme={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function hme(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function PV(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function E8(e,t,r){var n=PV(e,t,r);return n=="#REF"?n:hme(n,r)}function ui(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,v="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",g=0,y=e[0].length;g<y;++g){var b=e[0][g];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=Hn(" ",e[0][m][1][1]);break;case 1:x=Hn("\r",e[0][m][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+x,m=-1}l.push(u+fme[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=tg(b[1][1],o,a),l.push(rg(d,i));break;case"PtgRefN":d=r?tg(b[1][1],r,a):b[1][1],l.push(rg(d,i));break;case"PtgRef3d":f=b[1][1],d=tg(b[1][2],o,a),v=E8(n,f,a),l.push(v+"!"+rg(d,i));break;case"PtgFunc":case"PtgFuncVar":var S=b[1][0],_=b[1][1];S||(S=0),S&=127;var N=S==0?[]:l.slice(-S);l.length-=S,_==="User"&&(_=N.shift()),l.push(_+"("+N.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":p=c8(b[1][1],r?{s:r}:o,a),l.push(pj(p,a));break;case"PtgArea":p=c8(b[1][1],o,a),l.push(pj(p,a));break;case"PtgArea3d":f=b[1][1],p=b[1][2],v=E8(n,f,a),l.push(v+"!"+pj(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],A=j?j.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var P=b[1][1];h=b[1][2];var H;if(a.biff<=5)P<0&&(P=-P),n[P]&&(H=n[P][h]);else{var C="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][h]&&n[P][h].itab>0&&(C=n.SheetNames[n[P][h].itab-1]+"!"):C=n.SheetNames[h-1]+"!"),n[P]&&n[P][h])C+=n[P][h].Name;else if(n[0]&&n[0][h])C+=n[0][h].Name;else{var k=(PV(n,P,a)||"").split(";;");k[h-1]?C=k[h-1]:C+="SH33TJSERRX"}l.push(C);break}H||(H={Name:"SH33TJSERRY"}),l.push(H.Name);break;case"PtgParen":var U="(",D=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:U=Hn(" ",e[0][m][1][1])+U;break;case 3:U=Hn("\r",e[0][m][1][1])+U;break;case 4:D=Hn(" ",e[0][m][1][1])+D;break;case 5:D=Hn("\r",e[0][m][1][1])+D;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(U+l.pop()+D);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var M={c:r.c,r:r.r};if(n.sharedf[lr(d)]){var B=n.sharedf[lr(d)];l.push(ui(B,o,M,n,a))}else{var I=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(ui(u[1],o,M,n,a)),I=!0;break}I||l.push(b[1])}break;case"PtgArray":l.push("{"+dme(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&q.indexOf(e[0][g][0])==-1){b=e[0][m];var F=!0;switch(b[1][0]){case 4:F=!1;case 0:x=Hn(" ",b[1][1]);break;case 5:F=!1;case 1:x=Hn("\r",b[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((F?x:"")+l.pop()+(F?"":x)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function pme(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],_i(e,t-2)];var l=ix(e,o,r);return t!==o+a&&(i=ax(e,t-o-a,l,r)),e.l=n,[l,i]}function mme(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],_i(e,t-2)];var l=ix(e,o,r);return t!==o+a&&(i=ax(e,t-o-a,l,r)),e.l=n,[l,i]}function gme(e,t,r,n){var a=e.l+t,i=ix(e,n,r),o;return a!==e.l&&(o=ax(e,a-e.l,i,r)),[i,o]}function vme(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=ix(e,i,r);return i==65535?[[],_i(e,t-2)]:(t!==i+2&&(a=ax(e,n-i-2,o,r)),[o,a])}function xme(e){var t;if(ec(e,e.l+6)!==65535)return[pi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function vj(e,t,r){var n=e.l+t,a=El(e);r.biff==2&&++e.l;var i=xme(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=mme(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function kw(e,t,r){var n=e.read_shift(4),a=ix(e,n,r),i=e.read_shift(4),o=i>0?ax(e,i,a,r):null;return[a,o]}var yme=kw,Pw=kw,bme=kw,wme=kw,_me={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},OV={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jme={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function k8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function xj(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var sg={},Jh={};function og(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function FV(e,t,r,n,a,i){try{n.cellNF&&(e.z=gr[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ia(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(gr[t]==null&&Ud(Nue[t]||"General",t),e.t==="e")e.w=e.w||jf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qg(e.v);else if(e.t==="d"){var o=Mi(e.v);(o|0)===o?e.w=o.toString(10):e.w=qg(o)}else{if(e.v===void 0)return"";e.w=sf(e.v,Jh)}else e.t==="d"?e.w=so(t,Mi(e.v),Jh):e.w=so(t,e.v,Jh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=D2(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=D2(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function Sme(e,t){var r=Gn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Lr(r))}var Nme=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Ame=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Tme=/<(?:\w:)?hyperlink [^>]*>/mg,Cme=/"(\w*:\w*)"/,Eme=/<(?:\w:)?col\b[^>]*[\/]?>/g,kme=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Pme=/<(?:\w:)?pageMargins[^>]*\/>/g,DV=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Ome=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Fme=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Dme(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Ame);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(DV);h?_E(h[0],l,a,r):(h=u.match(Ome))&&Lme(h[0],h[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=u.slice(p,p+50).match(Cme);v&&Sme(l,v[1])}var m=u.match(Fme);m&&m[1]&&Ume(m[1],a);var x=[];if(t.cellStyles){var g=u.match(Eme);g&&Rme(x,g)}f&&zme(f[1],l,t,c,i,o);var y=d.match(kme);y&&(l["!autofilter"]=$me(y[0]));var b=[],S=d.match(Nme);if(S)for(p=0;p!=S.length;++p)b[p]=Gn(S[p].slice(S[p].indexOf('"')+1));var _=d.match(Tme);_&&Ime(l,_,n);var N=d.match(Pme);if(N&&(l["!margins"]=Mme(Jt(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Lr(c)),t.sheetRows>0&&l["!ref"]){var j=Gn(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Lr(j))}return x.length>0&&(l["!cols"]=x),b.length>0&&(l["!merges"]=b),l}function _E(e,t,r,n){var a=Jt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Br(gn(a.codeName)))}function Lme(e,t,r,n,a){_E(e.slice(0,e.indexOf(">")),r,n,a)}function Ime(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Jt(gn(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Br(i.location))):(i.Target="#"+Br(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Gn(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=lr({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function Mme(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Rme(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Jt(t[n],!0);a.hidden&&(a.hidden=Tn(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,bE(a.width)),y0(a);i<=o;)e[i++]=Ya(a)}}function $me(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Bme=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Ume(e,t){t.Views||(t.Views=[{}]),(e.match(Bme)||[]).forEach(function(r,n){var a=Jt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Tn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var zme=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Gg("v"),o=Gg("f");return function(c,u,d,f,h,p){for(var v=0,m="",x=[],g=[],y=0,b=0,S=0,_="",N,j,A=0,P=0,H,C,k=0,U=0,D=Array.isArray(p.CellXf),M,B=[],I=[],q=Array.isArray(u),F=[],z={},J=!1,E=!!d.sheetStubs,V=c.split(t),K=0,W=V.length;K!=W;++K){m=V[K].trim();var Y=m.length;if(Y!==0){var ee=0;e:for(v=0;v<Y;++v)switch(m[v]){case">":if(m[v-1]!="/"){++v;break e}if(d&&d.cellStyles){if(j=Jt(m.slice(ee,v),!0),A=j.r!=null?parseInt(j.r,10):A+1,P=-1,d.sheetRows&&d.sheetRows<A)continue;z={},J=!1,j.ht&&(J=!0,z.hpt=parseFloat(j.ht),z.hpx=Jg(z.hpt)),j.hidden=="1"&&(J=!0,z.hidden=!0),j.outlineLevel!=null&&(J=!0,z.level=+j.outlineLevel),J&&(F[A-1]=z)}break;case"<":ee=v;break}if(ee>=v)break;if(j=Jt(m.slice(ee,v),!0),A=j.r!=null?parseInt(j.r,10):A+1,P=-1,!(d.sheetRows&&d.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),d&&d.cellStyles&&(z={},J=!1,j.ht&&(J=!0,z.hpt=parseFloat(j.ht),z.hpx=Jg(z.hpt)),j.hidden=="1"&&(J=!0,z.hidden=!0),j.outlineLevel!=null&&(J=!0,z.level=+j.outlineLevel),J&&(F[A-1]=z)),x=m.slice(v).split(e);for(var oe=0;oe!=x.length&&x[oe].trim().charAt(0)=="<";++oe);for(x=x.slice(oe),v=0;v!=x.length;++v)if(m=x[v].trim(),m.length!==0){if(g=m.match(r),y=v,b=0,S=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,g!=null&&g.length===2){for(y=0,_=g[1],b=0;b!=_.length&&!((S=_.charCodeAt(b)-64)<1||S>26);++b)y=26*y+S;--y,P=y}else++P;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,j=Jt(m.slice(0,b),!0),j.r||(j.r=lr({r:A-1,c:P})),_=m.slice(b),N={t:""},(g=_.match(i))!=null&&g[1]!==""&&(N.v=Br(g[1])),d.cellFormula){if((g=_.match(o))!=null&&g[1]!==""){if(N.f=Br(gn(g[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=A8(N.f)),g[0].indexOf('t="array"')>-1)N.F=(_.match(a)||[])[1],N.F.indexOf(":")>-1&&B.push([Gn(N.F),N.F]);else if(g[0].indexOf('t="shared"')>-1){C=Jt(g[0]);var G=Br(gn(g[1]));d.xlfn||(G=A8(G)),I[parseInt(C.si,10)]=[C,G,j.r]}}else(g=_.match(/<f[^>]*\/>/))&&(C=Jt(g[0]),I[C.si]&&(N.f=Z0e(I[C.si][1],I[C.si][2],j.r)));var se=Oi(j.r);for(b=0;b<B.length;++b)se.r>=B[b][0].s.r&&se.r<=B[b][0].e.r&&se.c>=B[b][0].s.c&&se.c<=B[b][0].e.c&&(N.F=B[b][1])}if(j.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(E)N.t="z";else continue;else N.t=j.t||"n";switch(f.s.c>P&&(f.s.c=P),f.e.c<P&&(f.e.c=P),N.t){case"n":if(N.v==""||N.v==null){if(!E)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!E)continue;N.t="z"}else H=sg[parseInt(N.v,10)],N.v=H.t,N.r=H.r,d.cellHTML&&(N.h=H.h);break;case"str":N.t="s",N.v=N.v!=null?gn(N.v):"",d.cellHTML&&(N.h=cE(N.v));break;case"inlineStr":g=_.match(n),N.t="s",g!=null&&(H=yE(g[1]))?(N.v=H.t,d.cellHTML&&(N.h=H.h)):N.v="";break;case"b":N.v=Tn(N.v);break;case"d":d.cellDates?N.v=Ia(N.v,1):(N.v=Mi(Ia(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=tV[N.v];break}if(k=U=0,M=null,D&&j.s!==void 0&&(M=p.CellXf[j.s],M!=null&&(M.numFmtId!=null&&(k=M.numFmtId),d.cellStyles&&M.fillId!=null&&(U=M.fillId))),FV(N,k,U,d,h,p),d.cellDates&&D&&N.t=="n"&&tp(gr[k])&&(N.t="d",N.v=Cw(N.v)),j.cm&&d.xlmeta){var he=(d.xlmeta.Cell||[])[+j.cm-1];he&&he.type=="XLDAPR"&&(N.D=!0)}if(q){var Q=Oi(j.r);u[Q.r]||(u[Q.r]=[]),u[Q.r][Q.c]=N}else u[j.r]=N}}}}F.length>0&&(u["!rows"]=F)}}();function Vme(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Hme=_f;function Wme(){}function qme(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=pde(e),r}function Gme(e){var t=lo(e);return[t]}function Kme(e){var t=wf(e);return[t]}function Yme(e){var t=lo(e),r=e.read_shift(1);return[t,r,"b"]}function Xme(e){var t=wf(e),r=e.read_shift(1);return[t,r,"b"]}function Jme(e){var t=lo(e),r=e.read_shift(1);return[t,r,"e"]}function Qme(e){var t=wf(e),r=e.read_shift(1);return[t,r,"e"]}function Zme(e){var t=lo(e),r=e.read_shift(4);return[t,r,"s"]}function ege(e){var t=wf(e),r=e.read_shift(4);return[t,r,"s"]}function tge(e){var t=lo(e),r=pi(e);return[t,r,"n"]}function LV(e){var t=wf(e),r=pi(e);return[t,r,"n"]}function rge(e){var t=lo(e),r=gE(e);return[t,r,"n"]}function nge(e){var t=wf(e),r=gE(e);return[t,r,"n"]}function age(e){var t=lo(e),r=pE(e);return[t,r,"is"]}function ige(e){var t=lo(e),r=yi(e);return[t,r,"str"]}function sge(e){var t=wf(e),r=yi(e);return[t,r,"str"]}function oge(e,t,r){var n=e.l+t,a=lo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=Pw(e,n-e.l,r);o[3]=ui(l,null,a,r.supbooks,r)}else e.l=n;return o}function lge(e,t,r){var n=e.l+t,a=lo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=Pw(e,n-e.l,r);o[3]=ui(l,null,a,r.supbooks,r)}else e.l=n;return o}function cge(e,t,r){var n=e.l+t,a=lo(e);a.r=r["!row"];var i=pi(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=Pw(e,n-e.l,r);o[3]=ui(l,null,a,r.supbooks,r)}else e.l=n;return o}function uge(e,t,r){var n=e.l+t,a=lo(e);a.r=r["!row"];var i=yi(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=Pw(e,n-e.l,r);o[3]=ui(l,null,a,r.supbooks,r)}else e.l=n;return o}var dge=_f;function fge(e,t){var r=e.l+t,n=_f(e),a=mE(e),i=yi(e),o=yi(e),l=yi(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function hge(){}function pge(e,t,r){var n=e.l+t,a=Qz(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=yme(e,n-e.l,r);o[1]=l}else e.l=n;return o}function mge(e,t,r){var n=e.l+t,a=_f(e),i=[a];if(r.cellFormula){var o=wme(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}var gge=["left","right","top","bottom","header","footer"];function vge(e){var t={};return gge.forEach(function(r){t[r]=pi(e)}),t}function xge(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function yge(){}function bge(){}function wge(e,t,r,n,a,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,m,x,g,y,b,S,_,N=[];l.biff=12,l["!row"]=0;var j=0,A=!1,P=[],H={},C=l.supbooks||a.supbooks||[[]];if(C.sharedf=H,C.arrayf=P,C.SheetNames=a.SheetNames||a.Sheets.map(function(q){return q.name}),!l.supbooks&&(l.supbooks=C,a.Names))for(var k=0;k<a.Names.length;++k)C[0][k+1]=a.Names[k];var U=[],D=[],M=!1;M2[16]={n:"BrtShortReal",f:LV};var B;if(Tc(e,function(F,z,J){if(!h)switch(J){case 148:u=F;break;case 0:p=F,l.sheetRows&&l.sheetRows<=p.r&&(h=!0),S=Xa(x=p.r),l["!row"]=p.r,(F.hidden||F.hpt||F.level!=null)&&(F.hpt&&(F.hpx=Jg(F.hpt)),D[F.r]=F);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:F[2]},F[2]){case"n":v.v=F[1];break;case"s":b=sg[F[1]],v.v=b.t,v.r=b.r;break;case"b":v.v=!!F[1];break;case"e":v.v=F[1],l.cellText!==!1&&(v.w=jf[v.v]);break;case"str":v.t="s",v.v=F[1];break;case"is":v.t="s",v.v=F[1].t;break}if((m=o.CellXf[F[0].iStyleRef])&&FV(v,m.numFmtId,null,l,i,o),g=F[0].c==-1?g+1:F[0].c,l.dense?(c[x]||(c[x]=[]),c[x][g]=v):c[wa(g)+S]=v,l.cellFormula){for(A=!1,j=0;j<P.length;++j){var E=P[j];p.r>=E[0].s.r&&p.r<=E[0].e.r&&g>=E[0].s.c&&g<=E[0].e.c&&(v.F=Lr(E[0]),A=!0)}!A&&F.length>3&&(v.f=F[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>g&&(d.s.c=g),d.e.r<p.r&&(d.e.r=p.r),d.e.c<g&&(d.e.c=g),l.cellDates&&m&&v.t=="n"&&tp(gr[m.numFmtId])){var V=Pd(v.v);V&&(v.t="d",v.v=new Date(V.y,V.m-1,V.d,V.H,V.M,V.S,V.u))}B&&(B.type=="XLDAPR"&&(v.D=!0),B=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;v={t:"z",v:void 0},g=F[0].c==-1?g+1:F[0].c,l.dense?(c[x]||(c[x]=[]),c[x][g]=v):c[wa(g)+S]=v,d.s.r>p.r&&(d.s.r=p.r),d.s.c>g&&(d.s.c=g),d.e.r<p.r&&(d.e.r=p.r),d.e.c<g&&(d.e.c=g),B&&(B.type=="XLDAPR"&&(v.D=!0),B=void 0);break;case 176:N.push(F);break;case 49:B=((l.xlmeta||{}).Cell||[])[F-1];break;case 494:var K=n["!id"][F.relId];for(K?(F.Target=K.Target,F.loc&&(F.Target+="#"+F.loc),F.Rel=K):F.relId==""&&(F.Target="#"+F.loc),x=F.rfx.s.r;x<=F.rfx.e.r;++x)for(g=F.rfx.s.c;g<=F.rfx.e.c;++g)l.dense?(c[x]||(c[x]=[]),c[x][g]||(c[x][g]={t:"z",v:void 0}),c[x][g].l=F):(y=lr({c:g,r:x}),c[y]||(c[y]={t:"z",v:void 0}),c[y].l=F);break;case 426:if(!l.cellFormula)break;P.push(F),_=l.dense?c[x][g]:c[wa(g)+S],_.f=ui(F[1],d,{r:p.r,c:g},C,l),_.F=Lr(F[0]);break;case 427:if(!l.cellFormula)break;H[lr(F[0].s)]=F[1],_=l.dense?c[x][g]:c[wa(g)+S],_.f=ui(F[1],d,{r:p.r,c:g},C,l);break;case 60:if(!l.cellStyles)break;for(;F.e>=F.s;)U[F.e--]={width:F.w/256,hidden:!!(F.flags&1),level:F.level},M||(M=!0,bE(F.w/256)),y0(U[F.e+1]);break;case 161:c["!autofilter"]={ref:Lr(F)};break;case 476:c["!margins"]=F;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),F.name&&(a.Sheets[r].CodeName=F.name),(F.above||F.left)&&(c["!outline"]={above:F.above,left:F.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),F.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!z.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Lr(u||d)),l.sheetRows&&c["!ref"]){var I=Gn(c["!ref"]);l.sheetRows<=+I.e.r&&(I.e.r=l.sheetRows-1,I.e.r>d.e.r&&(I.e.r=d.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>d.e.c&&(I.e.c=d.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Lr(I))}return N.length>0&&(c["!merges"]=N),U.length>0&&(c["!cols"]=U),D.length>0&&(c["!rows"]=D),c}function _ge(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=Br((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function jge(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=_ge(f);d.s.r=d.s.c=0,d.e.c=l,u=wa(l),h[0].forEach(function(p,v){o[u+Xa(v)]={t:"n",v:p,z:h[1]},c=v}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Lr(d)),o}function Sge(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(DV);return l&&_E(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Nge(e,t){e.l+=10;var r=yi(e);return{name:r}}function Age(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Tc(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var IV=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Tge=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Cge=[],Ege=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function P8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Tn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function O8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Tn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function MV(e){O8(e.WBProps,IV),O8(e.CalcPr,Ege),P8(e.WBView,Tge),P8(e.Sheets,Cge),Jh.date1904=Tn(e.WBProps.date1904)}var kge="][*?/\\".split("");function Pge(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return kge.forEach(function(n){if(e.indexOf(n)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}var Oge=/<\w+:workbook/;function Fge(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(ji,function(c,u){var d=Jt(c);switch(Cl(d[0])){case"<?xml":break;case"<workbook":c.match(Oge)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":IV.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Tn(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=gn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Br(gn(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=gn(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Tn(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=Br(gn(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Jue.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return MV(r),r}function Dge(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=ZN(e),r.name=yi(e),r}function Lge(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?yi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Ige(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Mge(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=mde(e),o=bme(e,0,r),l=mE(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Rge(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],M2[16]={n:"BrtFRTArchID$",f:Ige},Tc(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ui(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),MV(r),r.Names=i,r.supbooks=o,r}function $ge(e,t,r){return t.slice(-4)===".bin"?Rge(e,r):Fge(e,r)}function Bge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?wge(e,n,r,a,i,o,l):Dme(e,n,r,a,i,o,l)}function Uge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?Age(e,n,r,a,i):Sge(e,n,r,a,i)}function zge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?X0e():J0e()}function Vge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?K0e():Y0e()}function Hge(e,t,r,n){return t.slice(-4)===".bin"?d0e(e,r,n):i0e(e,r,n)}function Wge(e,t,r){return jV(e,r)}function qge(e,t,r){return t.slice(-4)===".bin"?The(e,r):Nhe(e,r)}function Gge(e,t,r){return t.slice(-4)===".bin"?W0e(e,r):B0e(e,r)}function Kge(e,t,r){return t.slice(-4)===".bin"?M0e(e):L0e(e)}function Yge(e,t,r,n){return r.slice(-4)===".bin"?R0e(e,t,r,n):void 0}function Xge(e,t,r){return t.slice(-4)===".bin"?F0e(e,t,r):D0e(e,t,r)}var RV=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,$V=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function bo(e,t){var r=e.split(/\s+/),n=[];if(t||(n[0]=r[0]),r.length===1)return n;var a=e.match(RV),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match($V),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function Jge(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(RV),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match($V),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var lg;function Qge(e,t){var r=lg[e]||Br(e);return r==="General"?sf(t):so(r,t)}function Zge(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Tn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ia(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Br(t)]=a}function eve(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||jf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qg(e.v):e.w=sf(e.v):e.w=Qge(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=lg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&tp(n)){var a=Pd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function tve(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Zhe[n.Pattern]||n.Pattern)}e[t.ID]=t}function rve(e,t,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],v=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Tn(e);break;case"String":n.t="s",n.r=e8(Br(e)),n.v=e.indexOf("<")>-1?Br(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ia(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Br(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=tV[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=e8(t||e));break}if(eve(n,d,u),u.cellFormula!==!1)if(n.Formula){var m=Br(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=Xh(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Xh("RC:RC",a):n.ArrayRange&&(n.F=Xh(n.ArrayRange,a),c.push([Gn(n.F),n.F]))}else for(v=0;v<c.length;++v)a.r>=c[v][0].s.r&&a.r<=c[v][0].e.r&&a.c>=c[v][0].s.c&&a.c<=c[v][0].e.c&&(n.F=c[v][1]);u.cellStyles&&(p.forEach(function(x){!h.patternType&&x.patternType&&(h.patternType=x.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function nve(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function yj(e,t){var r=t||{};Az();var n=Fm(uE(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=gn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Ya(r);return o.type="string",Yg.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ge){a.indexOf("<"+Ge)>=0&&(i=!0)}),i)return fve(n,r);lg={"General Number":"General","General Date":gr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gr[15],"Short Date":gr[14],"Long Time":gr[19],"Medium Time":gr[18],"Short Time":gr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gr[2],Standard:gr[4],Percent:gr[10],Scientific:gr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},p="",v={},m={},x=bo('<Data ss:Type="String">'),g=0,y=0,b=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},N={},j="",A=0,P=[],H={},C={},k=0,U=[],D=[],M={},B=[],I,q=!1,F=[],z=[],J={},E=0,V=0,K={Sheets:[],WBProps:{date1904:!1}},W={};Kg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Y="";l=Kg.exec(n);)switch(l[3]=(Y=l[3]).toLowerCase()){case"data":if(Y=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?rve(n.slice(g,l.index),j,x,c[c.length-1][0]=="comment"?M:v,{c:y,r:b},_,B[y],m,F,r):(j="",x=bo(l[0]),g=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(D.length>0&&(v.c=D),(!r.sheetRows||r.sheetRows>b)&&v.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][y]=v):h[wa(y)+Xa(b)]=v),v.HRef&&(v.l={Target:Br(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(E=y+(parseInt(v.MergeAcross,10)|0),V=b+(parseInt(v.MergeDown,10)|0),P.push({s:{c:y,r:b},e:{c:E,r:V}})),!r.sheetStubs)v.MergeAcross?y=E+1:++y;else if(v.MergeAcross||v.MergeDown){for(var ee=y;ee<=E;++ee)for(var oe=b;oe<=V;++oe)(ee>y||oe>b)&&(r.dense?(h[oe]||(h[oe]=[]),h[oe][ee]={t:"z"}):h[wa(ee)+Xa(oe)]={t:"z"});y=E+1}else++y;else v=Jge(l[0]),v.Index&&(y=+v.Index-1),y<S.s.c&&(S.s.c=y),y>S.e.c&&(S.e.c=y),l[0].slice(-2)==="/>"&&++y,D=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<S.s.r&&(S.s.r=b),b>S.e.r&&(S.e.r=b),l[0].slice(-2)==="/>"&&(m=bo(l[0]),m.Index&&(b=+m.Index-1)),y=0,++b):(m=bo(l[0]),m.Index&&(b=+m.Index-1),J={},(m.AutoFitHeight=="0"||m.Height)&&(J.hpx=parseInt(m.Height,10),J.hpt=_V(J.hpx),z[b]=J),m.Hidden=="1"&&(J.hidden=!0,z[b]=J));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(h["!ref"]=Lr(S),r.sheetRows&&r.sheetRows<=S.e.r&&(h["!fullref"]=h["!ref"],S.e.r=r.sheetRows-1,h["!ref"]=Lr(S))),P.length&&(h["!merges"]=P),B.length>0&&(h["!cols"]=B),z.length>0&&(h["!rows"]=z),d[p]=h}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,c.push([l[3],!1]),u=bo(l[0]),p=Br(u.Name),h=r.dense?[]:{},P=[],F=[],z=[],W={name:p,Hidden:0},K.Sheets.push(W);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),B=[],q=!1}break;case"style":l[1]==="/"?tve(_,N,r):N=bo(l[0]);break;case"numberformat":N.nf=Br(bo(l[0]).Format||"General"),lg[N.nf]&&(N.nf=lg[N.nf]);for(var G=0;G!=392&&gr[G]!=N.nf;++G);if(G==392){for(G=57;G!=392;++G)if(gr[G]==null){Ud(N.nf,G);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(I=bo(l[0]),I.Hidden&&(I.hidden=!0,delete I.Hidden),I.Width&&(I.wpx=parseInt(I.Width,10)),!q&&I.wpx>10){q=!0,Pi=bV;for(var se=0;se<B.length;++se)B[se]&&y0(B[se])}q&&y0(I),B[I.Index-1||B.length]=I;for(var he=0;he<+I.Span;++he)B[B.length]=Ya(I);break;case"namedrange":if(l[1]==="/")break;K.Names||(K.Names=[]);var Q=Jt(l[0]),Pe={Name:Q.Name,Ref:Xh(Q.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Pe.Sheet=K.Sheets.length-1),K.Names.push(Pe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(A,l.index):A=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=bo(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Bde(H,Y,n.slice(k,l.index)):k=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));nve(M),D.push(M)}else c.push([l[3],!1]),u=bo(l[0]),M={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var De=bo(l[0]);h["!autofilter"]={ref:Xh(De.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return R8(n,r);var je=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:je=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:je=!1}break;case"excelworkbook":switch(l[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:je=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:je=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(k,l.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else k=l.index+l[0].length;break;case"header":h["!margins"]||og(h["!margins"]={},"xlml"),isNaN(+Jt(l[0]).Margin)||(h["!margins"].header=+Jt(l[0]).Margin);break;case"footer":h["!margins"]||og(h["!margins"]={},"xlml"),isNaN(+Jt(l[0]).Margin)||(h["!margins"].footer=+Jt(l[0]).Margin);break;case"pagemargins":var Z=Jt(l[0]);h["!margins"]||og(h["!margins"]={},"xlml"),isNaN(+Z.Top)||(h["!margins"].top=+Z.Top),isNaN(+Z.Left)||(h["!margins"].left=+Z.Left),isNaN(+Z.Right)||(h["!margins"].right=+Z.Right),isNaN(+Z.Bottom)||(h["!margins"].bottom=+Z.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:je=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:je=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:je=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:je=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:je=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:je=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:je=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:je=!1}break;case"smarttags":break;default:je=!1;break}if(je||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Zge(C,Y,U,n.slice(k,l.index)):(U=l,k=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var ke={};return!r.bookSheets&&!r.bookProps&&(ke.Sheets=d),ke.SheetNames=f,ke.Workbook=K,ke.SSF=Ya(gr),ke.Props=H,ke.Custprops=C,ke}function n4(e,t){switch(NE(t=t||{}),t.type||"base64"){case"base64":return yj(ks(e),t);case"binary":case"buffer":case"file":return yj(e,t);case"array":return yj(bf(e),t)}}function ave(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=xde(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=yde(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var ive=[60,1084,2066,2165,2175];function sve(e,t,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=ec(r,r.l),u=a4[c],d=0;u!=null&&ive.indexOf(c)>-1;)i=ec(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=a4[c=ec(r,r.l)];var f=cu(o);qa(f,0);var h=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(h),h+=o[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function ol(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=gr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||jf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qg(e.v):e.w=sf(e.v):e.w=so(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&tp(gr[n]||String(n))){var a=Pd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function K1(e,t,r){return{v:e,ixfe:t,t:r}}function ove(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,h="",p,v,m,x,g={},y=[],b,S,_=[],N=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},P=function(ot){return ot<8?zd[ot]:ot<64&&N[ot-8]||zd[ot]},H=function(ot,rt,qt){var gt=rt.XF.data;if(!(!gt||!gt.patternType||!qt||!qt.cellStyles)){rt.s={},rt.s.patternType=gt.patternType;var jr;(jr=Xg(P(gt.icvFore)))&&(rt.s.fgColor={rgb:jr}),(jr=Xg(P(gt.icvBack)))&&(rt.s.bgColor={rgb:jr})}},C=function(ot,rt,qt){if(!(J>1)&&!(qt.sheetRows&&ot.r>=qt.sheetRows)){if(qt.cellStyles&&rt.XF&&rt.XF.data&&H(ot,rt,qt),delete rt.ixfe,delete rt.XF,f=ot,h=lr(ot),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ot.r<o.s.r&&(o.s.r=ot.r),ot.c<o.s.c&&(o.s.c=ot.c),ot.r+1>o.e.r&&(o.e.r=ot.r+1),ot.c+1>o.e.c&&(o.e.c=ot.c+1),qt.cellFormula&&rt.f){for(var gt=0;gt<y.length;++gt)if(!(y[gt][0].s.c>ot.c||y[gt][0].s.r>ot.r)&&!(y[gt][0].e.c<ot.c||y[gt][0].e.r<ot.r)){rt.F=Lr(y[gt][0]),(y[gt][0].s.c!=ot.c||y[gt][0].s.r!=ot.r)&&delete rt.f,rt.f&&(rt.f=""+ui(y[gt][1],o,ot,F,k));break}}qt.dense?(a[ot.r]||(a[ot.r]=[]),a[ot.r][ot.c]=rt):a[h]=rt}},k={enc:!1,sbcch:0,snames:[],sharedf:g,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(k.password=t.password);var U,D=[],M=[],B=[],I=[],q=!1,F=[];F.SheetNames=k.snames,F.sharedf=k.sharedf,F.arrayf=k.arrayf,F.names=[],F.XTI=[];var z=0,J=0,E=0,V=[],K=[],W;k.codepage=1200,Ro(1200);for(var Y=!1;e.l<e.length-1;){var ee=e.l,oe=e.read_shift(2);if(oe===0&&z===10)break;var G=e.l===e.length?0:e.read_shift(2),se=a4[oe];if(se&&se.f){if(t.bookSheets&&z===133&&oe!==133)break;if(z=oe,se.r===2||se.r==12){var he=e.read_shift(2);if(G-=2,!k.enc&&he!==oe&&((he&255)<<8|he>>8)!==oe)throw new Error("rt mismatch: "+he+"!="+oe);se.r==12&&(e.l+=10,G-=10)}var Q={};if(oe===10?Q=se.f(e,G,k):Q=sve(oe,se,e,G,k),J==0&&[9,521,1033,2057].indexOf(z)===-1)continue;switch(oe){case 34:r.opts.Date1904=j.WBProps.date1904=Q;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(k.enc||(e.l=0),k.enc=Q,!t.password)throw new Error("File is password-protected");if(Q.valid==null)throw new Error("Encryption scheme unsupported");if(!Q.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=Q;break;case 66:var Pe=Number(Q);switch(Pe){case 21010:Pe=1200;break;case 32768:Pe=1e4;break;case 32769:Pe=1252;break}Ro(k.codepage=Pe),Y=!0;break;case 317:k.rrtabid=Q;break;case 25:k.winlocked=Q;break;case 439:r.opts.RefreshAll=Q;break;case 12:r.opts.CalcCount=Q;break;case 16:r.opts.CalcDelta=Q;break;case 17:r.opts.CalcIter=Q;break;case 13:r.opts.CalcMode=Q;break;case 14:r.opts.CalcPrecision=Q;break;case 95:r.opts.CalcSaveRecalc=Q;break;case 15:k.CalcRefMode=Q;break;case 2211:r.opts.FullCalc=Q;break;case 129:Q.fDialog&&(a["!type"]="dialog"),Q.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),Q.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:_.push(Q);break;case 430:F.push([Q]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(Q);break;case 24:case 536:W={Name:Q.Name,Ref:ui(Q.rgce,o,null,F,k)},Q.itab>0&&(W.Sheet=Q.itab-1),F.names.push(W),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(Q),Q.Name=="_xlnm._FilterDatabase"&&Q.itab>0&&Q.rgce&&Q.rgce[0]&&Q.rgce[0][0]&&Q.rgce[0][0][0]=="PtgArea3d"&&(K[Q.itab-1]={ref:Lr(Q.rgce[0][0][1][2])});break;case 22:k.ExternCount=Q;break;case 23:F.length==0&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(Q),F.XTI=F.XTI.concat(Q);break;case 2196:if(k.biff<8)break;W!=null&&(W.Comment=Q[1]);break;case 18:a["!protect"]=Q;break;case 19:Q!==0&&k.WTF&&console.error("Password verifier: "+Q);break;case 133:i[Q.pos]=Q,k.snames.push(Q.name);break;case 10:{if(--J)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Lr(o),t.sheetRows&&t.sheetRows<=o.e.r){var De=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Lr(o),o.e.r=De}o.e.r++,o.e.c++}D.length>0&&(a["!merges"]=D),M.length>0&&(a["!objects"]=M),B.length>0&&(a["!cols"]=B),I.length>0&&(a["!rows"]=I),j.Sheets.push(A)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[oe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Q.BIFFVer]||8),k.biffguess=Q.BIFFVer==0,Q.BIFFVer==0&&Q.dt==4096&&(k.biff=5,Y=!0,Ro(k.codepage=28591)),k.biff==8&&Q.BIFFVer==0&&Q.dt==16&&(k.biff=2),J++)break;if(a=t.dense?[]:{},k.biff<8&&!Y&&(Y=!0,Ro(k.codepage=t.codepage||1252)),k.biff<5||Q.BIFFVer==0&&Q.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var je={pos:e.l-G,name:u};i[je.pos]=je,k.snames.push(u)}else u=(i[ee]||{name:""}).name;Q.dt==32&&(a["!type"]="chart"),Q.dt==64&&(a["!type"]="macro"),D=[],M=[],k.arrayf=y=[],B=[],I=[],q=!1,A={Hidden:(i[ee]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[Q.r]||[])[Q.c]:a[lr({c:Q.c,r:Q.r})])&&++Q.c,b={ixfe:Q.ixfe,XF:_[Q.ixfe]||{},v:Q.val,t:"n"},E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 5:case 517:b={ixfe:Q.ixfe,XF:_[Q.ixfe],v:Q.val,t:Q.t},E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 638:b={ixfe:Q.ixfe,XF:_[Q.ixfe],v:Q.rknum,t:"n"},E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 189:for(var Z=Q.c;Z<=Q.C;++Z){var ke=Q.rkrec[Z-Q.c][0];b={ixfe:ke,XF:_[ke],v:Q.rkrec[Z-Q.c][1],t:"n"},E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Z,r:Q.r},b,t)}break;case 6:case 518:case 1030:{if(Q.val=="String"){l=Q;break}if(b=K1(Q.val,Q.cell.ixfe,Q.tt),b.XF=_[b.ixfe],t.cellFormula){var Ge=Q.formula;if(Ge&&Ge[0]&&Ge[0][0]&&Ge[0][0][0]=="PtgExp"){var Le=Ge[0][0][1][0],qe=Ge[0][0][1][1],ge=lr({r:Le,c:qe});g[ge]?b.f=""+ui(Q.formula,o,Q.cell,F,k):b.F=((t.dense?(a[Le]||[])[qe]:a[ge])||{}).F}else b.f=""+ui(Q.formula,o,Q.cell,F,k)}E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C(Q.cell,b,t),l=Q}break;case 7:case 519:if(l)l.val=Q,b=K1(Q,l.cell.ixfe,"s"),b.XF=_[b.ixfe],t.cellFormula&&(b.f=""+ui(l.formula,o,l.cell,F,k)),E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(Q);var de=lr(Q[0].s);if(p=t.dense?(a[Q[0].s.r]||[])[Q[0].s.c]:a[de],t.cellFormula&&p){if(!l||!de||!p)break;p.f=""+ui(Q[1],o,Q[0],F,k),p.F=Lr(Q[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;g[lr(l.cell)]=Q[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[lr(l.cell)],(p||{}).f=""+ui(Q[0],o,f,F,k)}}break;case 253:b=K1(c[Q.isst].t,Q.ixfe,"s"),c[Q.isst].h&&(b.h=c[Q.isst].h),b.XF=_[b.ixfe],E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:Q.ixfe,XF:_[Q.ixfe],t:"z"},E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t));break;case 190:if(t.sheetStubs)for(var ze=Q.c;ze<=Q.C;++ze){var Ke=Q.ixfe[ze-Q.c];b={ixfe:Ke,XF:_[Ke],t:"z"},E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:ze,r:Q.r},b,t)}break;case 214:case 516:case 4:b=K1(Q.val,Q.ixfe,"s"),b.XF=_[b.ixfe],E>0&&(b.z=V[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 0:case 512:J===1&&(o=Q);break;case 252:c=Q;break;case 1054:if(k.biff==4){V[E++]=Q[1];for(var ft=0;ft<E+163&&gr[ft]!=Q[1];++ft);ft>=163&&Ud(Q[1],E+163)}else Ud(Q[1],Q[0]);break;case 30:{V[E++]=Q;for(var _t=0;_t<E+163&&gr[_t]!=Q;++_t);_t>=163&&Ud(Q,E+163)}break;case 229:D=D.concat(Q);break;case 93:M[Q.cmo[0]]=k.lastobj=Q;break;case 438:k.lastobj.TxO=Q;break;case 127:k.lastobj.ImData=Q;break;case 440:for(x=Q[0].s.r;x<=Q[0].e.r;++x)for(m=Q[0].s.c;m<=Q[0].e.c;++m)p=t.dense?(a[x]||[])[m]:a[lr({c:m,r:x})],p&&(p.l=Q[1]);break;case 2048:for(x=Q[0].s.r;x<=Q[0].e.r;++x)for(m=Q[0].s.c;m<=Q[0].e.c;++m)p=t.dense?(a[x]||[])[m]:a[lr({c:m,r:x})],p&&p.l&&(p.l.Tooltip=Q[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;p=t.dense?(a[Q[0].r]||[])[Q[0].c]:a[lr(Q[0])];var St=M[Q[2]];p||(t.dense?(a[Q[0].r]||(a[Q[0].r]=[]),p=a[Q[0].r][Q[0].c]={t:"z"}):p=a[lr(Q[0])]={t:"z"},o.e.r=Math.max(o.e.r,Q[0].r),o.s.r=Math.min(o.s.r,Q[0].r),o.e.c=Math.max(o.e.c,Q[0].c),o.s.c=Math.min(o.s.c,Q[0].c)),p.c||(p.c=[]),v={a:Q[1],t:St.TxO.t},p.c.push(v)}break;case 2173:E0e(_[Q.ixfe],Q.ext);break;case 125:{if(!k.cellStyles)break;for(;Q.e>=Q.s;)B[Q.e--]={width:Q.w/256,level:Q.level||0,hidden:!!(Q.flags&1)},q||(q=!0,bE(Q.w/256)),y0(B[Q.e+1])}break;case 520:{var Et={};Q.level!=null&&(I[Q.r]=Et,Et.level=Q.level),Q.hidden&&(I[Q.r]=Et,Et.hidden=!0),Q.hpt&&(I[Q.r]=Et,Et.hpt=Q.hpt,Et.hpx=Jg(Q.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||og(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[oe]]=Q;break;case 161:a["!margins"]||og(a["!margins"]={}),a["!margins"].header=Q.header,a["!margins"].footer=Q.footer;break;case 574:Q.RTL&&(j.Views[0].RTL=!0);break;case 146:N=Q;break;case 2198:U=Q;break;case 140:S=Q;break;case 442:u?A.CodeName=Q||A.name:j.WBProps.CodeName=Q||"ThisWorkbook";break}}else se||console.error("Missing Info for XLS Record 0x"+oe.toString(16)),e.l+=G}return r.SheetNames=Nl(i).sort(function(_e,ot){return Number(_e)-Number(ot)}).map(function(_e){return i[_e].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&K.forEach(function(_e,ot){r.Sheets[r.SheetNames[ot]]["!autofilter"]=_e}),r.Strings=c,r.SSF=Ya(gr),k.enc&&(r.Encryption=k.enc),U&&(r.Themes=U),r.Metadata={},S!==void 0&&(r.Metadata.Country=S),F.names.length>0&&(j.Names=F.names),r.Workbook=j,r}var F8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function lve(e,t,r){var n=Dr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=g8(n,Nde,F8.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Dr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=g8(o,Ade,F8.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(nV(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function BV(e,t){t||(t={}),NE(t),pz(),t.codepage&&nE(t.codepage);var r,n;if(e.FullPaths){if(Dr.find(e,"/encryption"))throw new Error("File is password-protected");r=Dr.find(e,"!CompObj"),n=Dr.find(e,"/Workbook")||Dr.find(e,"/Book")}else{switch(t.type){case"base64":e=Lo(ks(e));break;case"binary":e=Lo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}qa(e,0),n={content:e}}var a,i;if(r&&ave(r),t.bookProps&&!t.bookSheets)a={};else{var o=Pr?"buffer":"array";if(n&&n.content)a=ove(n.content,t);else if((i=Dr.find(e,"PerfectOffice_MAIN"))&&i.content)a=ig.to_workbook(i.content,(t.type=o,t));else if((i=Dr.find(e,"NativeContent_MAIN"))&&i.content)a=ig.to_workbook(i.content,(t.type=o,t));else throw(i=Dr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Dr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=G0e(e))}var l={};return e.FullPaths&&lve(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var M2={0:{f:Vme},1:{f:Gme},2:{f:rge},3:{f:Jme},4:{f:Yme},5:{f:tge},6:{f:ige},7:{f:Zme},8:{f:uge},9:{f:cge},10:{f:oge},11:{f:lge},12:{f:Kme},13:{f:nge},14:{f:Qme},15:{f:Xme},16:{f:LV},17:{f:sge},18:{f:ege},19:{f:pE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Mge},40:{},42:{},43:{f:o0e},44:{f:s0e},45:{f:l0e},46:{f:u0e},47:{f:c0e},48:{},49:{f:dde},50:{},51:{f:P0e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mV},62:{f:age},63:{f:I0e},64:{f:yge},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:_i,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:xge},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:qme},148:{f:Hme,p:16},151:{f:hge},152:{},153:{f:Lge},154:{},155:{},156:{f:Dge},157:{},158:{},159:{T:1,f:Ahe},160:{T:-1},161:{T:1,f:_f},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:dge},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:k0e},336:{T:-1},337:{f:O0e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ZN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:pV},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:pge},427:{f:mge},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:vge},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Wme},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:fge},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ZN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:H0e},633:{T:1},634:{T:-1},635:{T:1,f:V0e},636:{T:-1},637:{f:hde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Nge},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:bge},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},a4={6:{f:vj},10:{f:Yc},12:{f:ua},13:{f:ua},14:{f:Jn},15:{f:Jn},16:{f:pi},17:{f:Jn},18:{f:Jn},19:{f:ua},20:{f:b8},21:{f:b8},23:{f:pV},24:{f:_8},25:{f:Jn},26:{},27:{},28:{f:Ufe},29:{},34:{f:Jn},35:{f:w8},38:{f:pi},39:{f:pi},40:{f:pi},41:{f:pi},42:{f:Jn},43:{f:Jn},47:{f:Whe},49:{f:_fe},51:{f:ua},60:{},61:{f:yfe},64:{f:Jn},65:{f:wfe},66:{f:ua},77:{},80:{},81:{},82:{},85:{f:ua},89:{},90:{},91:{},92:{f:dfe},93:{f:Vfe},94:{},95:{f:Jn},96:{},97:{},99:{f:Jn},125:{f:mV},128:{f:Ofe},129:{f:ffe},130:{f:ua},131:{f:Jn},132:{f:Jn},133:{f:hfe},134:{},140:{f:Yfe},141:{f:ua},144:{},146:{f:Jfe},151:{},152:{},153:{},154:{},155:{},156:{f:ua},157:{},158:{},160:{f:rhe},161:{f:Zfe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Cfe},190:{f:Efe},193:{f:Yc},197:{},198:{},199:{},200:{},201:{},202:{f:Jn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ua},220:{},221:{f:Jn},222:{},224:{f:Pfe},225:{f:ufe},226:{f:Yc},227:{},229:{f:zfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:pfe},253:{f:jfe},255:{f:mfe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:lV},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Jn},353:{f:Yc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Dfe},431:{f:Jn},432:{},433:{},434:{},437:{},438:{f:qfe},439:{f:Jn},440:{f:Gfe},441:{},442:{f:rx},443:{},444:{f:ua},445:{},446:{},448:{f:Yc},449:{f:xfe,r:2},450:{f:Yc},512:{f:x8},513:{f:the},515:{f:Ffe},516:{f:Sfe},517:{f:y8},519:{f:nhe},520:{f:gfe},523:{},545:{f:j8},549:{f:v8},566:{},574:{f:bfe},638:{f:Tfe},659:{},1048:{},1054:{f:Nfe},1084:{},1212:{f:Rfe},2048:{f:Kfe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:W1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Yc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Qfe,r:12},2173:{f:C0e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Jn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Mfe,r:12},2197:{},2198:{f:_0e,r:12},2199:{},2200:{},2201:{},2202:{f:$fe,r:12},2203:{f:Yc},2204:{},2205:{},2206:{},2207:{},2211:{f:vfe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ua},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:ehe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Xfe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:x8},1:{},2:{f:ohe},3:{f:she},4:{f:ihe},5:{f:y8},7:{f:lhe},8:{},9:{f:W1},11:{},22:{f:ua},30:{f:Afe},31:{},32:{},33:{f:j8},36:{},37:{f:v8},50:{f:che},62:{},52:{},67:{},68:{f:ua},69:{},86:{},126:{},127:{f:ahe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:uhe},223:{},234:{},354:{},421:{},518:{f:vj},521:{f:W1},536:{f:_8},547:{f:w8},561:{},579:{},1030:{f:vj},1033:{f:W1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function wo(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&Yz(r)&&e.push(r)}}function D8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=Due(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<c.length;++o){var m=c[o].trim(),x=m.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(x!="<td"&&x!="<th")){var g=m.split(/<\/t[dh]>/i);for(l=0;l<g.length;++l){var y=g[l].trim();if(y.match(/<t[dh]/i)){for(var b=y,S=0;b.charAt(0)=="<"&&(S=b.indexOf(">"))>-1;)b=b.slice(S+1);for(var _=0;_<v.length;++_){var N=v[_];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,_=-1)}var j=Jt(y.slice(0,y.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&v.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var A=j.t||j["data-t"]||"";if(!b.length){d+=h;continue}if(b=Iz(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!b.length){d+=h;continue}var P={t:"s",v:b};r.raw||!b.trim().length||A=="s"||(b==="TRUE"?P={t:"b",v:!0}:b==="FALSE"?P={t:"b",v:!1}:isNaN(Vo(b))?isNaN(x0(b).getDate())||(P={t:"d",v:Ia(b)},r.cellDates||(P={t:"n",v:Mi(P.v)}),P.z=r.dateNF||gr[14]):P={t:"n",v:Vo(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=P):n[lr({r:u,c:d})]=P,d+=h}}}}return n["!ref"]=Lr(p),v.length&&(n["!merges"]=v),n}function cve(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=lr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||cE(f.w||(_c(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(Yue("td",h,p))}}var v="<tr>";return v+i.join("")+"</tr>"}var uve='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',dve="</body></html>";function fve(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Yu(D8(r[0],t),t);var n=TE();return r.forEach(function(a,i){CE(n,D8(a,t),"Sheet"+(i+1))}),n}function hve(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function pve(e,t){var r=t||{},n=r.header!=null?r.header:uve,a=r.footer!=null?r.footer:dve,i=[n],o=rp(e["!ref"]);r.dense=Array.isArray(e),i.push(hve(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(cve(e,o,l,r));return i.push("</table>"+a),i.join("")}function UV(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Oi(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=rp(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),v=0,m=0,x=0,g=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);v<l.length&&m<c;++v){var S=l[v];if(L8(S)){if(n.display)continue;p[m]={hidden:!0}}var _=S.children;for(x=g=0;x<_.length;++x){var N=_[x];if(!(n.display&&L8(N))){var j=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):Iz(N.innerHTML),A=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var P=f[h];P.s.c==g+i&&P.s.r<m+a&&m+a<=P.e.r&&(g=P.e.c+1-i,h=-1)}b=+N.getAttribute("colspan")||1,((y=+N.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:m+a,c:g+i},e:{r:m+a+(y||1)-1,c:g+i+(b||1)-1}});var H={t:"s",v:j},C=N.getAttribute("data-t")||N.getAttribute("t")||"";j!=null&&(j.length==0?H.t=C||"z":n.raw||j.trim().length==0||C=="s"||(j==="TRUE"?H={t:"b",v:!0}:j==="FALSE"?H={t:"b",v:!1}:isNaN(Vo(j))?isNaN(x0(j).getDate())||(H={t:"d",v:Ia(j)},n.cellDates||(H={t:"n",v:Mi(H.v)}),H.z=n.dateNF||gr[14]):H={t:"n",v:Vo(j)})),H.z===void 0&&A!=null&&(H.z=A);var k="",U=N.getElementsByTagName("A");if(U&&U.length)for(var D=0;D<U.length&&!(U[D].hasAttribute("href")&&(k=U[D].getAttribute("href"),k.charAt(0)!="#"));++D);k&&k.charAt(0)!="#"&&(H.l={Target:k}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][g+i]=H):e[lr({c:g+i,r:m+a})]=H,u.e.c<g+i&&(u.e.c=g+i),g+=b}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=Lr(u),m>=c&&(e["!fullref"]=Lr((u.e.r=l.length-v+m-1+a,u))),e}function zV(e,t){var r=t||{},n=r.dense?[]:{};return UV(n,e,t)}function mve(e,t){return Yu(zV(e,t),t)}function L8(e){var t="",r=gve(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function gve(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function vve(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Br(t.replace(/<[^>]*>/g,""));return[r]}var I8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function VV(e,t){var r=t||{},n=uE(e),a=[],i,o,l={name:""},c="",u=0,d,f,h={},p=[],v=r.dense?[]:{},m,x,g={value:""},y="",b=0,S=[],_=-1,N=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,P={},H=[],C={},k=0,U=0,D=[],M=1,B=1,I=[],q={Names:[]},F={},z=["",""],J=[],E={},V="",K=0,W=!1,Y=!1,ee=0;for(Kg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Kg.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?v["!ref"]=Lr(j):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(v["!fullref"]=v["!ref"],j.e.r=r.sheetRows-1,v["!ref"]=Lr(j)),H.length&&(v["!merges"]=H),D.length&&(v["!rows"]=D),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=v,Y=!1):m[0].charAt(m[0].length-2)!=="/"&&(d=Jt(m[0],!1),_=N=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,v=r.dense?[]:{},H=[],D=[],Y=!0);break;case"table-row-group":m[1]==="/"?--A:++A;break;case"table-row":case"":if(m[1]==="/"){_+=M,M=1;break}if(f=Jt(m[0],!1),f.?_=f.-1:_==-1&&(_=0),M=+f["number-rows-repeated"]||1,M<10)for(ee=0;ee<M;++ee)A>0&&(D[_+ee]={level:A});N=-1;break;case"covered-table-cell":m[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(v[_]||(v[_]=[]),v[_][N]={t:"z"}):v[lr({r:_,c:N})]={t:"z"}),y="",S=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++N,g=Jt(m[0],!1),B=parseInt(g["number-columns-repeated"]||"1",10),x={t:"z",v:null},g.formula&&r.cellFormula!=!1&&(x.f=k8(Br(g.formula))),(g.||g["value-type"])=="string"&&(x.t="s",x.v=Br(g["string-value"]||""),r.dense?(v[_]||(v[_]=[]),v[_][N]=x):v[lr({r:_,c:N})]=x),N+=B-1;else if(m[1]!=="/"){++N,y="",b=0,S=[],B=1;var oe=M?_+M-1:_;if(N>j.e.c&&(j.e.c=N),N<j.s.c&&(j.s.c=N),_<j.s.r&&(j.s.r=_),oe>j.e.r&&(j.e.r=oe),g=Jt(m[0],!1),J=[],E={},x={t:g.||g["value-type"],v:null},r.cellFormula)if(g.formula&&(g.formula=Br(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(k=parseInt(g["number-matrix-rows-spanned"],10)||0,U=parseInt(g["number-matrix-columns-spanned"],10)||0,C={s:{r:_,c:N},e:{r:_+k-1,c:N+U-1}},x.F=Lr(C),I.push([C,x.F])),g.formula)x.f=k8(g.formula);else for(ee=0;ee<I.length;++ee)_>=I[ee][0].s.r&&_<=I[ee][0].e.r&&N>=I[ee][0].s.c&&N<=I[ee][0].e.c&&(x.F=I[ee][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(k=parseInt(g["number-rows-spanned"],10)||0,U=parseInt(g["number-columns-spanned"],10)||0,C={s:{r:_,c:N},e:{r:_+k-1,c:N+U-1}},H.push(C)),g["number-columns-repeated"]&&(B=parseInt(g["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Tn(g["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(g.value);break;case"percentage":x.t="n",x.v=parseFloat(g.value);break;case"currency":x.t="n",x.v=parseFloat(g.value);break;case"date":x.t="d",x.v=Ia(g["date-value"]),r.cellDates||(x.t="n",x.v=Mi(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=Pue(g["time-value"])/86400,r.cellDates&&(x.t="d",x.v=Cw(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(g.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",g["string-value"]!=null&&(y=Br(g["string-value"]),S=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(W=!1,x.t==="s"&&(x.v=y||"",S.length&&(x.R=S),W=b==0),F.Target&&(x.l=F),J.length>0&&(x.c=J,J=[]),y&&r.cellText!==!1&&(x.w=y),W&&(x.t="z",delete x.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=_))for(var G=0;G<M;++G){if(B=parseInt(g["number-columns-repeated"]||"1",10),r.dense)for(v[_+G]||(v[_+G]=[]),v[_+G][N]=G==0?x:Ya(x);--B>0;)v[_+G][N+B]=Ya(x);else for(v[lr({r:_+G,c:N})]=x;--B>0;)v[lr({r:_+G,c:N+B})]=Ya(x);j.e.c<=N&&(j.e.c=N)}B=parseInt(g["number-columns-repeated"]||"1",10),N+=B-1,B=0,x={},y="",S=[]}F={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;E.t=y,S.length&&(E.R=S),E.a=V,J.push(E)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);V="",K=0,y="",b=0,S=[];break;case"creator":m[1]==="/"?V=n.slice(K,m.index):K=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);y="",b=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(P[l.name]=c,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(c="",l=Jt(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Jt(m[0],!1),c+=I8[m[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Jt(m[0],!1),c+=I8[m[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":o=Jt(m[0],!1),z=xj(o["cell-range-address"]);var se={Name:o.name,Ref:z[0]+"!"+z[1]};Y&&(se.Sheet=p.length),q.Names.push(se);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!g||!g["string-value"])){var he=vve(n.slice(b,m.index));y=(y.length>0?y+`
`:"")+he[0]}else Jt(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{z=xj(Jt(m[0])["target-range-address"]),h[z[0]]["!autofilter"]={ref:z[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(F=Jt(m[0],!1),!F.href)break;F.Target=Br(F.href),delete F.href,F.Target.charAt(0)=="#"&&F.Target.indexOf(".")>-1?(z=xj(F.Target.slice(1)),F.Target="#"+z[0]+"!"+z[1]):F.Target.match(/^\.\.[\\\/]/)&&(F.Target=F.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var Q={Sheets:h,SheetNames:p,Workbook:q};return r.bookSheets&&delete Q.Sheets,Q}function M8(e,t){t=t||{},Ks(e,"META-INF/manifest.xml")&&Fde(ca(e,"META-INF/manifest.xml"),t);var r=ys(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=VV(gn(r),t);return Ks(e,"meta.xml")&&(n.Props=rV(ca(e,"meta.xml"))),n}function R8(e,t){return VV(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function jE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function i4(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):gn(bf(e))}function s4(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function $8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function xve(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Qg(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Sa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function vi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Qg(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Qg(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function SE(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function yve(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Qg(e,n),i=vi(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Sa(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=vi(l.data),u=Sa(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Sa(i[3][0].data)>>>0>0),r.push(o)}return r}function bve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Qg(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[s4(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=s4(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function wve(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(bve(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return s4(t)}function _ve(e,t,r,n){var a=jE(e),i=a.getUint32(4,!0),o=(n>1?12:8)+$8(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=$8(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function jve(e,t,r){var n=jE(e),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=xve(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Sve(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return _ve(e,t,r,e[0]);case 5:return jve(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Tu(e){var t=vi(e);return Qg(t[1][0].data)}function B8(e,t){var r=vi(t.data),n=Sa(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=vi(o.data),c=Sa(l[1][0].data)>>>0;switch(n){case 1:i[c]=i4(l[3][0].data);break;case 8:{var u=e[Tu(l[9][0].data)][0],d=vi(u.data),f=e[Tu(d[1][0].data)][0],h=Sa(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=vi(f.data);i[c]=p[3].map(function(v){return i4(v.data)}).join("")}break}}),i}function Nve(e,t){var r,n,a,i,o,l,c,u,d,f,h,p,v,m,x=vi(e),g=Sa(x[1][0].data)>>>0,y=Sa(x[2][0].data)>>>0,b=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&Sa(x[8][0].data)>0||!1,S,_;if((i=(a=x[7])==null?void 0:a[0])!=null&&i.data&&t!=0)S=(l=(o=x[7])==null?void 0:o[0])==null?void 0:l.data,_=(u=(c=x[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=x[4])==null?void 0:d[0])!=null&&f.data&&t!=1)S=(p=(h=x[4])==null?void 0:h[0])==null?void 0:p.data,_=(m=(v=x[3])==null?void 0:v[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=b?4:1,j=jE(S),A=[],P=0;P<S.length/2;++P){var H=j.getUint16(P*2,!0);H<65535&&A.push([P,H])}if(A.length!=y)throw"Expected ".concat(y," cells, found ").concat(A.length);var C=[];for(P=0;P<A.length-1;++P)C[A[P][0]]=_.subarray(A[P][1]*N,A[P+1][1]*N);return A.length>=1&&(C[A[A.length-1][0]]=_.subarray(A[A.length-1][1]*N)),{R:g,cells:C}}function Ave(e,t){var r,n=vi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Sa(n[7][0].data)>>>0>0?1:0:-1,i=SE(n[5],function(o){return Nve(o,a)});return{nrows:Sa(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function Tve(e,t,r){var n,a=vi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Sa(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Sa(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Lr(i);var o=vi(a[4][0].data),l=B8(e,e[Tu(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?B8(e,e[Tu(o[17][0].data)][0]):[],u=vi(o[3][0].data),d=0;u[1].forEach(function(f){var h=vi(f.data),p=e[Tu(h[2][0].data)][0],v=Sa(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var m=Ave(e,p);m.data.forEach(function(x,g){x.forEach(function(y,b){var S=lr({r:d+g,c:b}),_=Sve(y,l,c);_&&(r[S]=_)})}),d+=m.nrows})}function Cve(e,t){var r=vi(t.data),n={"!ref":"A1"},a=e[Tu(r[2][0].data)],i=Sa(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Tve(e,a[0],n),n}function Eve(e,t){var r,n=vi(t.data),a={name:(r=n[1])!=null&&r[0]?i4(n[1][0].data):"",sheets:[]},i=SE(n[2],Tu);return i.forEach(function(o){e[o].forEach(function(l){var c=Sa(l.meta[1][0].data);c==6e3&&a.sheets.push(Cve(e,l))})}),a}function kve(e,t){var r=TE(),n=vi(t.data),a=SE(n[1],Tu);if(a.forEach(function(i){e[i].forEach(function(o){var l=Sa(o.meta[1][0].data);if(l==2){var c=Eve(e,o);c.sheets.forEach(function(u,d){CE(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function bj(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=wve(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=yve(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Sa(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=Sa(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return kve(i,l)}function Pve(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function NE(e){Pve([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Ove(e){return Oh.WS.indexOf(e)>-1?"sheet":e==Oh.CS?"chart":e==Oh.DS?"dialog":e==Oh.MS?"macro":e&&e.length?e:"sheet"}function Fve(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Ove(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Dve(e,t,r,n,a,i,o,l,c,u,d,f){try{i[n]=ng(ys(e,r,!0),t);var h=ca(e,t),p;switch(l){case"sheet":p=Bge(h,t,a,c,i[n],u,d,f);break;case"chart":if(p=Uge(h,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var v=Lm(p["!drawel"].Target,t),m=e4(v),x=$0e(ys(e,v,!0),ng(ys(e,m,!0),v)),g=Lm(x,v),y=e4(g);p=jge(ys(e,g,!0),g,c,ng(ys(e,y,!0),g),u,p);break;case"macro":p=zge(h,t,a,c,i[n],u,d,f);break;case"dialog":p=Vge(h,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var b=[];i&&i[n]&&Nl(i[n]).forEach(function(S){var _="";if(i[n][S].Type==Oh.CMNT){_=Lm(i[n][S].Target,t);var N=Gge(ca(e,_,!0),_,c);if(!N||!N.length)return;N8(p,N,!1)}i[n][S].Type==Oh.TCMNT&&(_=Lm(i[n][S].Target,t),b=b.concat(U0e(ca(e,_,!0),c)))}),b&&b.length&&N8(p,b,!0,c.people||[])}catch(S){if(c.WTF)throw S}}function zs(e){return e.charAt(0)=="/"?e.slice(1):e}function Lve(e,t){if(Az(),t=t||{},NE(t),Ks(e,"META-INF/manifest.xml")||Ks(e,"objectdata.xml"))return M8(e,t);if(Ks(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof bj<"u"){if(e.FileIndex)return bj(e);var r=Dr.utils.cfb_new();return Q6(e).forEach(function(D){Iue(r,D,Oz(e,D))}),bj(r)}throw new Error("Unsupported NUMBERS file")}if(!Ks(e,"[Content_Types].xml"))throw Ks(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ks(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Q6(e),a=Pde(ys(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",ca(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!ca(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(sg=[],a.sst)try{sg=qge(ca(e,zs(a.sst)),a.sst,t)}catch(D){if(t.WTF)throw D}t.cellStyles&&a.themes.length&&(c=Wge(ys(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Hge(ca(e,zs(a.style)),a.style,c,t))}a.links.map(function(D){try{var M=ng(ys(e,e4(zs(D))),D);return Yge(ca(e,zs(D)),M,D,t)}catch{}});var d=$ge(ca(e,zs(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ca(e,zs(a.coreprops[0]),!0),h&&(f=rV(h)),a.extprops.length!==0&&(h=ca(e,zs(a.extprops[0]),!0),h&&Ide(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ys(e,zs(a.custprops[0]),!0),h&&(p=Rde(h,t)));var v={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(M){return M.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=p),t.bookSheets&&typeof o<"u"&&(v.SheetNames=o),t.bookSheets?v.SheetNames:t.bookProps))return v;o={};var m={};t.bookDeps&&a.calcchain&&(m=Kge(ca(e,zs(a.calcchain)),a.calcchain));var x=0,g={},y,b;{var S=d.Sheets;f.Worksheets=S.length,f.SheetNames=[];for(var _=0;_!=S.length;++_)f.SheetNames[_]=S[_].name}var N=i?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");Ks(e,A)||(A="xl/_rels/workbook."+N+".rels");var P=ng(ys(e,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Xge(ca(e,zs(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=z0e(ca(e,zs(a.people[0])),t)),P&&(P=Fve(P,d.Sheets));var H=ca(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var C="sheet";if(P&&P[x]?(y="xl/"+P[x][1].replace(/[\/]?xl\//,""),Ks(e,y)||(y=P[x][1]),Ks(e,y)||(y=A.replace(/_rels\/.*$/,"")+P[x][1]),C=P[x][2]):(y="xl/worksheets/sheet"+(x+1-H)+"."+N,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var k=!1,U=0;U!=t.sheets.length;++U)typeof t.sheets[U]=="number"&&t.sheets[U]==x&&(k=1),typeof t.sheets[U]=="string"&&t.sheets[U].toLowerCase()==f.SheetNames[x].toLowerCase()&&(k=1);if(!k)continue e}}Dve(e,y,b,f.SheetNames[x],x,g,o,C,t,d,c,u)}return v={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:m,Sheets:o,SheetNames:f.SheetNames,Strings:sg,Styles:u,Themes:c,SSF:Ya(gr)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(D,M){D=D.replace(/^Root Entry[\/]/,""),v.keys.push(D),v.files[D]=e.FileIndex[M]}))),t&&t.bookVBA&&(a.vba.length>0?v.vbaraw=ca(e,zs(a.vba[0]),!0):a.defaults&&a.defaults.bin===q0e&&(v.vbaraw=ca(e,"xl/vbaProject.bin",!0))),v}function Ive(e,t){var r=t||{},n="Workbook",a=Dr.find(e,n);try{if(n="/!DataSpaces/Version",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Che(a.content),n="/!DataSpaces/DataSpaceMap",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=khe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Phe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Fhe(a.content)}catch{}if(n="/EncryptionInfo",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Dhe(a.content);if(n="/EncryptedPackage",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function AE(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ks(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Mve(e,t){return Dr.find(e,"EncryptedPackage")?Ive(e,t):BV(e,t)}function Rve(e,t){var r,n=e,a=t||{};return a.type||(a.type=Pr&&Buffer.isBuffer(e)?"buffer":"base64"),r=Fz(n,a),Lve(r,a)}function HV(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return n4(e.slice(r),t);default:break e}return Yg.to_workbook(e,t)}function $ve(e,t){var r="",n=AE(e,t);switch(t.type){case"base64":r=ks(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=of(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=gn(r)),t.type="binary",HV(r,t)}function Bve(e,t){var r=e;return t.type=="base64"&&(r=ks(r)),r=lu.utils.decode(1200,r.slice(2),"str"),t.type="binary",HV(r,t)}function Uve(e){return e.match(/[^\x00-\x7F]/)?Im(e):e}function wj(e,t,r,n){return n?(r.type="string",Yg.to_workbook(e,r)):Yg.to_workbook(t,r)}function o4(e,t){pz();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return o4(new Uint8Array(e),(r=Ya(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Jh={},r.dateNF&&(Jh.dateNF=r.dateNF),r.type||(r.type=Pr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Pr?"buffer":"binary",n=Eue(e),typeof Uint8Array<"u"&&!Pr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Uve(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Ya(r),r.type="array",o4(aE(n),r)}switch((a=AE(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Mve(Dr.read(n,r),r);break;case 9:if(a[1]<=8)return BV(n,r);break;case 60:return n4(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return mhe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return hhe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Rve(n,r):wj(e,n,r,i);case 239:return a[3]===60?n4(n,r):wj(e,n,r,i);case 255:if(a[1]===254)return Bve(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return ig.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return ig.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return S8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return qhe.to_workbook(n,r);break;case 10:case 13:case 32:return $ve(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return dhe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?S8.to_workbook(n,r):wj(e,n,r,i)}function zve(e,t,r,n,a,i,o,l){var c=Xa(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var v=o?e[r][p]:e[n[p]+c];if(v===void 0||v.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var m=v.v;switch(v.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[p]!=null){if(m==null)if(v.t=="e"&&m===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&m===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(v.t!=="n"||v.t==="n"&&l.rawNumbers!==!1)?m:_c(v,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function l4(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Gn(d);break;case"number":c=Gn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Xa(c.s.r),h=[],p=[],v=0,m=0,x=Array.isArray(e),g=c.s.r,y=0,b={};x&&!e[g]&&(e[g]=[]);var S=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(S[y]||{}).hidden)switch(h[y]=wa(y),r=x?e[g][y]:e[h[y]+f],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=_c(r,null,u),m=b[o]||0,!m)b[o]=1;else{do l=o+"_"+m++;while(b[l]);b[o]=m,b[l]=1}i[y]=l}for(g=c.s.r+a;g<=c.e.r;++g)if(!(_[g]||{}).hidden){var N=zve(e,c,g,h,n,i,x,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[v++]=N.row)}return p.length=v,p}var U8=/"/g;function Vve(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Xa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:_c(p,null,l));for(var v=0,m=0;v!==d.length;++v)if((m=d.charCodeAt(v))===a||m===i||m===34||l.forceQuotes){d='"'+d.replace(U8,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(U8,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function WV(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Gn(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(h[v]||{}).hidden||(f[v]=wa(v));for(var m=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=Vve(e,a,x,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function Hve(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=WV(e,t);return r}function Wve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Gn(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=wa(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Xa(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function qV(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Oi(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Gn(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,x){Nl(m).forEach(function(g){(p=h.indexOf(g))==-1&&(h[p=h.length]=g);var y=m[g],b="z",S="",_=lr({c:l+p,r:o+x+a});u=Zg(i,_),y&&typeof y=="object"&&!(y instanceof Date)?i[_]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=Mi(y)),S=n.dateNF||gr[14]):y===null&&n.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,S&&(u.z=S)):i[_]=u={t:b,v:y},S&&(u.z=S))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var v=Xa(o);if(a)for(p=0;p<h.length;++p)i[wa(p+l)+v]={t:"s",v:h[p]};return i["!ref"]=Lr(d),i}function qve(e,t){return qV(null,e,t)}function Zg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Oi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Zg(e,lr(t)):Zg(e,lr({r:t,c:r||0}))}function Gve(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function TE(){return{SheetNames:[],Sheets:{}}}function CE(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Pge(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Kve(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Gve(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Yve(e,t){return e.z=t,e}function GV(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Xve(e,t,r){return GV(e,"#"+t,r)}function Jve(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Qve(e,t,r,n){for(var a=typeof t!="string"?t:Gn(t),i=typeof t=="string"?t:Lr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Zg(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Zve={encode_col:wa,encode_row:Xa,encode_cell:lr,encode_range:Lr,decode_col:hE,decode_row:fE,split_cell:ude,decode_cell:Oi,decode_range:rp,format_cell:_c,sheet_add_aoa:Jz,sheet_add_json:qV,sheet_add_dom:UV,aoa_to_sheet:np,json_to_sheet:qve,table_to_sheet:zV,table_to_book:mve,sheet_to_csv:WV,sheet_to_txt:Hve,sheet_to_json:l4,sheet_to_html:pve,sheet_to_formulae:Wve,sheet_to_row_object_array:l4,sheet_get_cell:Zg,book_new:TE,book_append_sheet:CE,book_set_sheet_visibility:Kve,cell_set_number_format:Yve,cell_set_hyperlink:GV,cell_set_internal_link:Xve,cell_add_comment:Jve,sheet_set_array_formula:Qve,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const exe=({isOpen:e,onClose:t,onSuccess:r})=>{const{toast:n}=Cr(),[a,i]=O.useState(null),[o,l]=O.useState([]),[c,u]=O.useState(!1),[d,f]=O.useState(!1),h=m=>{const x=m.target.files[0];x&&(i(x),p(x))},p=m=>{f(!0);const x=new FileReader;x.onload=g=>{const y=g.target.result,b=o4(y,{type:"binary"}),S=b.SheetNames[0],_=b.Sheets[S],j=Zve.sheet_to_json(_).map(A=>({name:A.Name||A["Student Name"]||A.name,class:A.Class||A.Grade||A.class,teacher:A.Teacher||A.Rebbe||A.teacher,father_name:A.Father||A["Father Name"]||"",father_phone:A["Father Phone"]||"",mother_name:A.Mother||A["Mother Name"]||"",mother_phone:A["Mother Phone"]||""})).filter(A=>A.name&&A.class);l(j),f(!1)},x.readAsBinaryString(m)},v=async()=>{if(o.length!==0){u(!0);try{const{error:m}=await Ne.from("students").insert(o);if(m)throw m;n({title:"Import Successful",description:`Successfully imported ${o.length} students.`}),r(),t(),i(null),l([])}catch(m){console.error(m),n({variant:"destructive",title:"Import Failed",description:m.message})}finally{u(!1)}}};return s.jsx(ur,{open:e,onOpenChange:t,children:s.jsxs(ir,{className:"max-w-xl",children:[s.jsxs(dr,{children:[s.jsx(fr,{children:"Bulk Import Students"}),s.jsx(Lu,{children:"Upload an Excel (.xlsx) file with columns: Name, Class, Teacher, Father Name, etc."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center hover:bg-slate-50 transition-colors",children:[s.jsx("input",{type:"file",accept:".xlsx, .xls, .csv",onChange:h,className:"hidden",id:"file-upload"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:[s.jsx(ore,{className:"h-12 w-12 text-slate-400 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:a?a.name:"Click to upload Excel file"}),s.jsx("span",{className:"text-xs text-slate-500 mt-1",children:"Supports .xlsx, .xls, .csv"})]})]}),d&&s.jsxs("div",{className:"text-center py-4 text-slate-500",children:[s.jsx(In,{className:"animate-spin h-6 w-6 mx-auto mb-2"}),"Processing file..."]}),o.length>0&&s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border max-h-60 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Preview (",o.length," students)"]}),s.jsxs("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(tC,{size:12})," Ready to import"]})]}),s.jsxs("table",{className:"w-full text-xs text-left",children:[s.jsx("thead",{className:"text-slate-500 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-1",children:"Name"}),s.jsx("th",{className:"py-1",children:"Class"}),s.jsx("th",{className:"py-1",children:"Teacher"})]})}),s.jsxs("tbody",{className:"divide-y",children:[o.slice(0,5).map((m,x)=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 font-medium",children:m.name}),s.jsx("td",{className:"py-1",children:m.class}),s.jsx("td",{className:"py-1",children:m.teacher})]},x)),o.length>5&&s.jsx("tr",{children:s.jsxs("td",{colSpan:"3",className:"py-2 text-center text-slate-400 italic",children:["...and ",o.length-5," more"]})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Se,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(Se,{onClick:v,disabled:o.length===0||c,className:"bg-green-600 hover:bg-green-700",children:[c?s.jsx(In,{className:"animate-spin mr-2 h-4 w-4"}):s.jsx(tB,{className:"mr-2 h-4 w-4"}),"Import Students"]})]})]})]})})},Qe=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:yr("rounded-lg border bg-card text-card-foreground shadow-sm bg-white",e),...t}));Qe.displayName="Card";const er=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:yr("flex flex-col space-y-1.5 p-6",e),...t}));er.displayName="CardHeader";const tr=O.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:yr("text-2xl font-semibold leading-none tracking-tight",e),...t}));tr.displayName="CardTitle";const _a=O.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:yr("text-sm text-muted-foreground text-slate-500",e),...t}));_a.displayName="CardDescription";const Ze=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:yr("p-6 pt-0",e),...t}));Ze.displayName="CardContent";const ev=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:yr("flex items-center p-6 pt-0",e),...t}));ev.displayName="CardFooter";var _j="rovingFocusGroup.onEntryFocus",txe={bubbles:!1,cancelable:!0},Ow="RovingFocusGroup",[c4,KV,rxe]=XT(Ow),[nxe,YV]=vf(Ow,[rxe]),[axe,ixe]=nxe(Ow),XV=O.forwardRef((e,t)=>s.jsx(c4.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(c4.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(sxe,{...e,ref:t})})}));XV.displayName=Ow;var sxe=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=O.useRef(null),p=kn(t,h),v=WC(i),[m=null,x]=u0({prop:o,defaultProp:l,onChange:c}),[g,y]=O.useState(!1),b=ns(u),S=KV(r),_=O.useRef(!1),[N,j]=O.useState(0);return O.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(_j,b),()=>A.removeEventListener(_j,b)},[b]),s.jsx(axe,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:m,onItemFocus:O.useCallback(A=>x(A),[x]),onItemShiftTab:O.useCallback(()=>y(!0),[]),onFocusableItemAdd:O.useCallback(()=>j(A=>A+1),[]),onFocusableItemRemove:O.useCallback(()=>j(A=>A-1),[]),children:s.jsx(_r.div,{tabIndex:g||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:cr(e.onMouseDown,()=>{_.current=!0}),onFocus:cr(e.onFocus,A=>{const P=!_.current;if(A.target===A.currentTarget&&P&&!g){const H=new CustomEvent(_j,txe);if(A.currentTarget.dispatchEvent(H),!H.defaultPrevented){const C=S().filter(B=>B.focusable),k=C.find(B=>B.active),U=C.find(B=>B.id===m),M=[k,U,...C].filter(Boolean).map(B=>B.ref.current);ZV(M,d)}}_.current=!1}),onBlur:cr(e.onBlur,()=>y(!1))})})}),JV="RovingFocusGroupItem",QV=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=Au(),c=i||l,u=ixe(JV,r),d=u.currentTabStopId===c,f=KV(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return O.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),s.jsx(c4.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(_r.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:cr(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:cr(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:cr(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=cxe(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let g=f().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const y=g.indexOf(v.currentTarget);g=u.loop?uxe(g,y+1):g.slice(y+1)}setTimeout(()=>ZV(g))}})})})});QV.displayName=JV;var oxe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lxe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cxe(e,t,r){const n=lxe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return oxe[n]}function ZV(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function uxe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var dxe=XV,fxe=QV,EE="Tabs",[hxe,u9e]=vf(EE,[YV]),eH=YV(),[pxe,kE]=hxe(EE),tH=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=WC(l),[f,h]=u0({prop:n,onChange:a,defaultProp:i});return s.jsx(pxe,{scope:r,baseId:Au(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(_r.div,{dir:d,"data-orientation":o,...u,ref:t})})});tH.displayName=EE;var rH="TabsList",nH=O.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=kE(rH,r),o=eH(r);return s.jsx(dxe,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(_r.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});nH.displayName=rH;var aH="TabsTrigger",iH=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=kE(aH,r),l=eH(r),c=lH(o.baseId,n),u=cH(o.baseId,n),d=n===o.value;return s.jsx(fxe,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(_r.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:cr(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:cr(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:cr(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});iH.displayName=aH;var sH="TabsContent",oH=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=kE(sH,r),c=lH(l.baseId,n),u=cH(l.baseId,n),d=n===l.value,f=O.useRef(d);return O.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Y0,{present:a||d,children:({present:h})=>s.jsx(_r.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});oH.displayName=sH;function lH(e,t){return`${e}-trigger-${t}`}function cH(e,t){return`${e}-content-${t}`}var mxe=tH,uH=nH,dH=iH,fH=oH;const kl=mxe,Xo=Ae.forwardRef(({className:e,...t},r)=>s.jsx(uH,{ref:r,className:yr("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500",e),...t}));Xo.displayName=uH.displayName;const wr=Ae.forwardRef(({className:e,...t},r)=>s.jsx(dH,{ref:r,className:yr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm",e),...t}));wr.displayName=dH.displayName;const Qr=Ae.forwardRef(({className:e,...t},r)=>s.jsx(fH,{ref:r,className:yr("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2",e),...t}));Qr.displayName=fH.displayName;var gxe=Array.isArray,as=gxe,vxe=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,hH=vxe,xxe=hH,yxe=typeof self=="object"&&self&&self.Object===Object&&self,bxe=xxe||yxe||Function("return this")(),Pl=bxe,wxe=Pl,_xe=wxe.Symbol,sx=_xe,z8=sx,pH=Object.prototype,jxe=pH.hasOwnProperty,Sxe=pH.toString,om=z8?z8.toStringTag:void 0;function Nxe(e){var t=jxe.call(e,om),r=e[om];try{e[om]=void 0;var n=!0}catch{}var a=Sxe.call(e);return n&&(t?e[om]=r:delete e[om]),a}var Axe=Nxe,Txe=Object.prototype,Cxe=Txe.toString;function Exe(e){return Cxe.call(e)}var kxe=Exe,V8=sx,Pxe=Axe,Oxe=kxe,Fxe="[object Null]",Dxe="[object Undefined]",H8=V8?V8.toStringTag:void 0;function Lxe(e){return e==null?e===void 0?Dxe:Fxe:H8&&H8 in Object(e)?Pxe(e):Oxe(e)}var Cc=Lxe;function Ixe(e){return e!=null&&typeof e=="object"}var Ec=Ixe,Mxe=Cc,Rxe=Ec,$xe="[object Symbol]";function Bxe(e){return typeof e=="symbol"||Rxe(e)&&Mxe(e)==$xe}var ap=Bxe,Uxe=as,zxe=ap,Vxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hxe=/^\w*$/;function Wxe(e,t){if(Uxe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||zxe(e)?!0:Hxe.test(e)||!Vxe.test(e)||t!=null&&e in Object(t)}var PE=Wxe;function qxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xu=qxe;const ip=Vr(Xu);var Gxe=Cc,Kxe=Xu,Yxe="[object AsyncFunction]",Xxe="[object Function]",Jxe="[object GeneratorFunction]",Qxe="[object Proxy]";function Zxe(e){if(!Kxe(e))return!1;var t=Gxe(e);return t==Xxe||t==Jxe||t==Yxe||t==Qxe}var OE=Zxe;const br=Vr(OE);var e1e=Pl,t1e=e1e["__core-js_shared__"],r1e=t1e,jj=r1e,W8=function(){var e=/[^.]+$/.exec(jj&&jj.keys&&jj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function n1e(e){return!!W8&&W8 in e}var a1e=n1e,i1e=Function.prototype,s1e=i1e.toString;function o1e(e){if(e!=null){try{return s1e.call(e)}catch{}try{return e+""}catch{}}return""}var mH=o1e,l1e=OE,c1e=a1e,u1e=Xu,d1e=mH,f1e=/[\\^$.*+?()[\]{}|]/g,h1e=/^\[object .+?Constructor\]$/,p1e=Function.prototype,m1e=Object.prototype,g1e=p1e.toString,v1e=m1e.hasOwnProperty,x1e=RegExp("^"+g1e.call(v1e).replace(f1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y1e(e){if(!u1e(e)||c1e(e))return!1;var t=l1e(e)?x1e:h1e;return t.test(d1e(e))}var b1e=y1e;function w1e(e,t){return e==null?void 0:e[t]}var _1e=w1e,j1e=b1e,S1e=_1e;function N1e(e,t){var r=S1e(e,t);return j1e(r)?r:void 0}var Nf=N1e,A1e=Nf,T1e=A1e(Object,"create"),Fw=T1e,q8=Fw;function C1e(){this.__data__=q8?q8(null):{},this.size=0}var E1e=C1e;function k1e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var P1e=k1e,O1e=Fw,F1e="__lodash_hash_undefined__",D1e=Object.prototype,L1e=D1e.hasOwnProperty;function I1e(e){var t=this.__data__;if(O1e){var r=t[e];return r===F1e?void 0:r}return L1e.call(t,e)?t[e]:void 0}var M1e=I1e,R1e=Fw,$1e=Object.prototype,B1e=$1e.hasOwnProperty;function U1e(e){var t=this.__data__;return R1e?t[e]!==void 0:B1e.call(t,e)}var z1e=U1e,V1e=Fw,H1e="__lodash_hash_undefined__";function W1e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=V1e&&t===void 0?H1e:t,this}var q1e=W1e,G1e=E1e,K1e=P1e,Y1e=M1e,X1e=z1e,J1e=q1e;function sp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sp.prototype.clear=G1e;sp.prototype.delete=K1e;sp.prototype.get=Y1e;sp.prototype.has=X1e;sp.prototype.set=J1e;var Q1e=sp;function Z1e(){this.__data__=[],this.size=0}var eye=Z1e;function tye(e,t){return e===t||e!==e&&t!==t}var FE=tye,rye=FE;function nye(e,t){for(var r=e.length;r--;)if(rye(e[r][0],t))return r;return-1}var Dw=nye,aye=Dw,iye=Array.prototype,sye=iye.splice;function oye(e){var t=this.__data__,r=aye(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sye.call(t,r,1),--this.size,!0}var lye=oye,cye=Dw;function uye(e){var t=this.__data__,r=cye(t,e);return r<0?void 0:t[r][1]}var dye=uye,fye=Dw;function hye(e){return fye(this.__data__,e)>-1}var pye=hye,mye=Dw;function gye(e,t){var r=this.__data__,n=mye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var vye=gye,xye=eye,yye=lye,bye=dye,wye=pye,_ye=vye;function op(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}op.prototype.clear=xye;op.prototype.delete=yye;op.prototype.get=bye;op.prototype.has=wye;op.prototype.set=_ye;var Lw=op,jye=Nf,Sye=Pl,Nye=jye(Sye,"Map"),DE=Nye,G8=Q1e,Aye=Lw,Tye=DE;function Cye(){this.size=0,this.__data__={hash:new G8,map:new(Tye||Aye),string:new G8}}var Eye=Cye;function kye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Pye=kye,Oye=Pye;function Fye(e,t){var r=e.__data__;return Oye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Iw=Fye,Dye=Iw;function Lye(e){var t=Dye(this,e).delete(e);return this.size-=t?1:0,t}var Iye=Lye,Mye=Iw;function Rye(e){return Mye(this,e).get(e)}var $ye=Rye,Bye=Iw;function Uye(e){return Bye(this,e).has(e)}var zye=Uye,Vye=Iw;function Hye(e,t){var r=Vye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Wye=Hye,qye=Eye,Gye=Iye,Kye=$ye,Yye=zye,Xye=Wye;function lp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lp.prototype.clear=qye;lp.prototype.delete=Gye;lp.prototype.get=Kye;lp.prototype.has=Yye;lp.prototype.set=Xye;var LE=lp,gH=LE,Jye="Expected a function";function IE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Jye);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(IE.Cache||gH),r}IE.Cache=gH;var vH=IE;const Qye=Vr(vH);var Zye=vH,e2e=500;function t2e(e){var t=Zye(e,function(n){return r.size===e2e&&r.clear(),n}),r=t.cache;return t}var r2e=t2e,n2e=r2e,a2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i2e=/\\(\\)?/g,s2e=n2e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(a2e,function(r,n,a,i){t.push(a?i.replace(i2e,"$1"):n||r)}),t}),o2e=s2e;function l2e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var ME=l2e,K8=sx,c2e=ME,u2e=as,d2e=ap,f2e=1/0,Y8=K8?K8.prototype:void 0,X8=Y8?Y8.toString:void 0;function xH(e){if(typeof e=="string")return e;if(u2e(e))return c2e(e,xH)+"";if(d2e(e))return X8?X8.call(e):"";var t=e+"";return t=="0"&&1/e==-f2e?"-0":t}var h2e=xH,p2e=h2e;function m2e(e){return e==null?"":p2e(e)}var yH=m2e,g2e=as,v2e=PE,x2e=o2e,y2e=yH;function b2e(e,t){return g2e(e)?e:v2e(e,t)?[e]:x2e(y2e(e))}var bH=b2e,w2e=ap,_2e=1/0;function j2e(e){if(typeof e=="string"||w2e(e))return e;var t=e+"";return t=="0"&&1/e==-_2e?"-0":t}var Mw=j2e,S2e=bH,N2e=Mw;function A2e(e,t){t=S2e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[N2e(t[r++])];return r&&r==n?e:void 0}var RE=A2e,T2e=RE;function C2e(e,t,r){var n=e==null?void 0:T2e(e,t);return n===void 0?r:n}var wH=C2e;const ro=Vr(wH);function E2e(e){return e==null}var k2e=E2e;const Tr=Vr(k2e);var P2e=Cc,O2e=as,F2e=Ec,D2e="[object String]";function L2e(e){return typeof e=="string"||!O2e(e)&&F2e(e)&&P2e(e)==D2e}var I2e=L2e;const ox=Vr(I2e);var _H={exports:{}},tn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E=Symbol.for("react.element"),BE=Symbol.for("react.portal"),Rw=Symbol.for("react.fragment"),$w=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),Uw=Symbol.for("react.provider"),zw=Symbol.for("react.context"),M2e=Symbol.for("react.server_context"),Vw=Symbol.for("react.forward_ref"),Hw=Symbol.for("react.suspense"),Ww=Symbol.for("react.suspense_list"),qw=Symbol.for("react.memo"),Gw=Symbol.for("react.lazy"),R2e=Symbol.for("react.offscreen"),jH;jH=Symbol.for("react.module.reference");function co(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $E:switch(e=e.type,e){case Rw:case Bw:case $w:case Hw:case Ww:return e;default:switch(e=e&&e.$$typeof,e){case M2e:case zw:case Vw:case Gw:case qw:case Uw:return e;default:return t}}case BE:return t}}}tn.ContextConsumer=zw;tn.ContextProvider=Uw;tn.Element=$E;tn.ForwardRef=Vw;tn.Fragment=Rw;tn.Lazy=Gw;tn.Memo=qw;tn.Portal=BE;tn.Profiler=Bw;tn.StrictMode=$w;tn.Suspense=Hw;tn.SuspenseList=Ww;tn.isAsyncMode=function(){return!1};tn.isConcurrentMode=function(){return!1};tn.isContextConsumer=function(e){return co(e)===zw};tn.isContextProvider=function(e){return co(e)===Uw};tn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$E};tn.isForwardRef=function(e){return co(e)===Vw};tn.isFragment=function(e){return co(e)===Rw};tn.isLazy=function(e){return co(e)===Gw};tn.isMemo=function(e){return co(e)===qw};tn.isPortal=function(e){return co(e)===BE};tn.isProfiler=function(e){return co(e)===Bw};tn.isStrictMode=function(e){return co(e)===$w};tn.isSuspense=function(e){return co(e)===Hw};tn.isSuspenseList=function(e){return co(e)===Ww};tn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rw||e===Bw||e===$w||e===Hw||e===Ww||e===R2e||typeof e=="object"&&e!==null&&(e.$$typeof===Gw||e.$$typeof===qw||e.$$typeof===Uw||e.$$typeof===zw||e.$$typeof===Vw||e.$$typeof===jH||e.getModuleId!==void 0)};tn.typeOf=co;_H.exports=tn;var $2e=_H.exports,B2e=Cc,U2e=Ec,z2e="[object Number]";function V2e(e){return typeof e=="number"||U2e(e)&&B2e(e)==z2e}var SH=V2e;const H2e=Vr(SH);var W2e=SH;function q2e(e){return W2e(e)&&e!=+e}var G2e=q2e;const lx=Vr(G2e);var Bo=function(t){return t===0?0:t>0?1:-1},Od=function(t){return ox(t)&&t.indexOf("%")===t.length-1},Tt=function(t){return H2e(t)&&!lx(t)},ja=function(t){return Tt(t)||ox(t)},K2e=0,cx=function(t){var r=++K2e;return"".concat(t||"").concat(r)},cf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Tt(t)&&!ox(t))return n;var i;if(Od(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return lx(i)&&(i=n),a&&i>r&&(i=r),i},uu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Y2e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Do=function(t,r){return Tt(t)&&Tt(r)?function(n){return t+n*(r-t)}:function(){return r}};function R2(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ro(n,t))===r})}function Qh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function u4(e){"@babel/helpers - typeof";return u4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u4(e)}var X2e=["viewBox","children"],J2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],J8=["points","pathLength"],Sj={svg:X2e,polygon:J8,polyline:J8},UE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!ip(n))return null;var a={};return Object.keys(n).forEach(function(i){UE.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Q2e=function(t,r,n){return function(a){return t(r,n,a),null}},B2=function(t,r,n){if(!ip(t)||u4(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];UE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Q2e(o,r,n))}),a},Z2e=["children"],ebe=["children"];function Q8(e,t){if(e==null)return{};var r=tbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d4(e){"@babel/helpers - typeof";return d4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d4(e)}var Z8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},eF=null,Nj=null,zE=function e(t){if(t===eF&&Array.isArray(Nj))return Nj;var r=[];return O.Children.forEach(t,function(n){Tr(n)||($2e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Nj=r,eF=t,r};function no(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return uc(a)}):n=[uc(t)],zE(e).forEach(function(a){var i=ro(a,"type.displayName")||ro(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ms(e,t){var r=no(e,t);return r&&r[0]}var tF=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Tt(n)||n<=0||!Tt(a)||a<=0)},rbe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nbe=function(t){return t&&t.type&&ox(t.type)&&rbe.indexOf(t.type)>=0},abe=function(t){return t&&d4(t)==="object"&&"clipDot"in t},ibe=function(t,r,n,a){var i,o=(i=Sj==null?void 0:Sj[a])!==null&&i!==void 0?i:[];return!br(t)&&(a&&o.includes(r)||J2e.includes(r))||n&&UE.includes(r)},Or=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!ip(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;ibe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},f4=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rF(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!rF(i,o))return!1}return!0},rF=function(t,r){if(Tr(t)&&Tr(r))return!0;if(!Tr(t)&&!Tr(r)){var n=t.props||{},a=n.children,i=Q8(n,Z2e),o=r.props||{},l=o.children,c=Q8(o,ebe);return a&&l?Qh(i,c)&&f4(a,l):!a&&!l?Qh(i,c):!1}return!1},nF=function(t,r){var n=[],a={};return zE(t).forEach(function(i,o){if(nbe(i))n.push(i);else if(i){var l=uc(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},sbe=function(t){var r=t&&t.type;return r&&Z8[r]?Z8[r]:null},obe=function(t,r){return zE(r).indexOf(t)},lbe=["children","width","height","viewBox","className","style","title","desc"];function h4(){return h4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h4.apply(this,arguments)}function cbe(e,t){if(e==null)return{};var r=ube(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ube(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p4(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=cbe(e,lbe),d=a||{width:r,height:n,x:0,y:0},f=Ir("recharts-surface",i);return Ae.createElement("svg",h4({},Or(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Ae.createElement("title",null,l),Ae.createElement("desc",null,c),t)}var dbe=["children","className"];function m4(){return m4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m4.apply(this,arguments)}function fbe(e,t){if(e==null)return{};var r=hbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var na=Ae.forwardRef(function(e,t){var r=e.children,n=e.className,a=fbe(e,dbe),i=Ir("recharts-layer",n);return Ae.createElement("g",m4({className:i},Or(a,!0),{ref:t}),r)}),dc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function pbe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var mbe=pbe,gbe=mbe;function vbe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:gbe(e,t,r)}var xbe=vbe,ybe="\\ud800-\\udfff",bbe="\\u0300-\\u036f",wbe="\\ufe20-\\ufe2f",_be="\\u20d0-\\u20ff",jbe=bbe+wbe+_be,Sbe="\\ufe0e\\ufe0f",Nbe="\\u200d",Abe=RegExp("["+Nbe+ybe+jbe+Sbe+"]");function Tbe(e){return Abe.test(e)}var NH=Tbe;function Cbe(e){return e.split("")}var Ebe=Cbe,AH="\\ud800-\\udfff",kbe="\\u0300-\\u036f",Pbe="\\ufe20-\\ufe2f",Obe="\\u20d0-\\u20ff",Fbe=kbe+Pbe+Obe,Dbe="\\ufe0e\\ufe0f",Lbe="["+AH+"]",g4="["+Fbe+"]",v4="\\ud83c[\\udffb-\\udfff]",Ibe="(?:"+g4+"|"+v4+")",TH="[^"+AH+"]",CH="(?:\\ud83c[\\udde6-\\uddff]){2}",EH="[\\ud800-\\udbff][\\udc00-\\udfff]",Mbe="\\u200d",kH=Ibe+"?",PH="["+Dbe+"]?",Rbe="(?:"+Mbe+"(?:"+[TH,CH,EH].join("|")+")"+PH+kH+")*",$be=PH+kH+Rbe,Bbe="(?:"+[TH+g4+"?",g4,CH,EH,Lbe].join("|")+")",Ube=RegExp(v4+"(?="+v4+")|"+Bbe+$be,"g");function zbe(e){return e.match(Ube)||[]}var Vbe=zbe,Hbe=Ebe,Wbe=NH,qbe=Vbe;function Gbe(e){return Wbe(e)?qbe(e):Hbe(e)}var Kbe=Gbe,Ybe=xbe,Xbe=NH,Jbe=Kbe,Qbe=yH;function Zbe(e){return function(t){t=Qbe(t);var r=Xbe(t)?Jbe(t):void 0,n=r?r[0]:t.charAt(0),a=r?Ybe(r,1).join(""):t.slice(1);return n[e]()+a}}var ewe=Zbe,twe=ewe,rwe=twe("toUpperCase"),nwe=rwe;const Kw=Vr(nwe);function pn(e){return function(){return e}}const OH=Math.cos,U2=Math.sin,Jo=Math.sqrt,z2=Math.PI,Yw=2*z2,x4=Math.PI,y4=2*x4,xd=1e-6,awe=y4-xd;function FH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function iwe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FH;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class swe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FH:iwe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>xd)if(!(Math.abs(f*c-u*d)>xd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=a-l,m=c*c+u*u,x=p*p+v*v,g=Math.sqrt(m),y=Math.sqrt(h),b=i*Math.tan((x4-Math.acos((m+h-x)/(2*g*y)))/2),S=b/y,_=b/g;Math.abs(S-1)>xd&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>d*v)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>xd||Math.abs(this._y1-d)>xd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%y4+y4),h>awe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>xd&&this._append`A${n},${n},0,${+(h>=x4)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function VE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new swe(t)}function HE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DH(e){this._context=e}DH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xw(e){return new DH(e)}function LH(e){return e[0]}function IH(e){return e[1]}function MH(e,t){var r=pn(!0),n=null,a=Xw,i=null,o=VE(l);e=typeof e=="function"?e:e===void 0?LH:pn(e),t=typeof t=="function"?t:t===void 0?IH:pn(t);function l(c){var u,d=(c=HE(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:pn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:pn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:pn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Y1(e,t,r){var n=null,a=pn(!0),i=null,o=Xw,l=null,c=VE(u);e=typeof e=="function"?e:e===void 0?LH:pn(+e),t=typeof t=="function"?t:pn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?IH:pn(+r);function u(f){var h,p,v,m=(f=HE(f)).length,x,g=!1,y,b=new Array(m),S=new Array(m);for(i==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&a(x=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(b[v],S[v]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(x,h,f),S[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):S[h]))}if(y)return l=null,y+""||null}function d(){return MH().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:pn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:pn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:pn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:pn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:pn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class RH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function owe(e){return new RH(e,!0)}function lwe(e){return new RH(e,!1)}const WE={draw(e,t){const r=Jo(t/z2);e.moveTo(r,0),e.arc(0,0,r,0,Yw)}},cwe={draw(e,t){const r=Jo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$H=Jo(1/3),uwe=$H*2,dwe={draw(e,t){const r=Jo(t/uwe),n=r*$H;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},fwe={draw(e,t){const r=Jo(t),n=-r/2;e.rect(n,n,r,r)}},hwe=.8908130915292852,BH=U2(z2/10)/U2(7*z2/10),pwe=U2(Yw/10)*BH,mwe=-OH(Yw/10)*BH,gwe={draw(e,t){const r=Jo(t*hwe),n=pwe*r,a=mwe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Yw*i/5,l=OH(o),c=U2(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Aj=Jo(3),vwe={draw(e,t){const r=-Jo(t/(Aj*3));e.moveTo(0,r*2),e.lineTo(-Aj*r,-r),e.lineTo(Aj*r,-r),e.closePath()}},Vs=-.5,Hs=Jo(3)/2,b4=1/Jo(12),xwe=(b4/2+1)*3,ywe={draw(e,t){const r=Jo(t/xwe),n=r/2,a=r*b4,i=n,o=r*b4+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Vs*n-Hs*a,Hs*n+Vs*a),e.lineTo(Vs*i-Hs*o,Hs*i+Vs*o),e.lineTo(Vs*l-Hs*c,Hs*l+Vs*c),e.lineTo(Vs*n+Hs*a,Vs*a-Hs*n),e.lineTo(Vs*i+Hs*o,Vs*o-Hs*i),e.lineTo(Vs*l+Hs*c,Vs*c-Hs*l),e.closePath()}};function bwe(e,t){let r=null,n=VE(a);e=typeof e=="function"?e:pn(e||WE),t=typeof t=="function"?t:pn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:pn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:pn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function V2(){}function H2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function UH(e){this._context=e}UH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:H2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:H2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wwe(e){return new UH(e)}function zH(e){this._context=e}zH.prototype={areaStart:V2,areaEnd:V2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:H2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _we(e){return new zH(e)}function VH(e){this._context=e}VH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:H2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jwe(e){return new VH(e)}function HH(e){this._context=e}HH.prototype={areaStart:V2,areaEnd:V2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Swe(e){return new HH(e)}function aF(e){return e<0?-1:1}function iF(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(aF(i)+aF(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function sF(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Tj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function W2(e){this._context=e}W2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tj(this,this._t0,sF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tj(this,sF(this,r=iF(this,e,t)),r);break;default:Tj(this,this._t0,r=iF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function WH(e){this._context=new qH(e)}(WH.prototype=Object.create(W2.prototype)).point=function(e,t){W2.prototype.point.call(this,t,e)};function qH(e){this._context=e}qH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Nwe(e){return new W2(e)}function Awe(e){return new WH(e)}function GH(e){this._context=e}GH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=oF(e),a=oF(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oF(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Twe(e){return new GH(e)}function Jw(e,t){this._context=e,this._t=t}Jw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Cwe(e){return new Jw(e,.5)}function Ewe(e){return new Jw(e,0)}function kwe(e){return new Jw(e,1)}function b0(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function w4(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Pwe(e,t){return e[t]}function Owe(e){const t=[];return t.key=e,t}function Fwe(){var e=pn([]),t=w4,r=b0,n=Pwe;function a(i){var o=Array.from(e.apply(this,arguments),Owe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=HE(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:pn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:pn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?w4:typeof i=="function"?i:pn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??b0,a):r},a}function Dwe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}b0(e,t)}}function Lwe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}b0(e,t)}}function Iwe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<l;++v){var m=e[t[v]],x=m[n][1]||0,g=m[n-1][1]||0;p+=x-g}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,b0(e,t)}}function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}var Mwe=["type","size","sizeType"];function _4(){return _4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_4.apply(this,arguments)}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(n){Rwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rwe(e,t,r){return t=$we(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $we(e){var t=Bwe(e,"string");return tv(t)=="symbol"?t:t+""}function Bwe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uwe(e,t){if(e==null)return{};var r=zwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var KH={symbolCircle:WE,symbolCross:cwe,symbolDiamond:dwe,symbolSquare:fwe,symbolStar:gwe,symbolTriangle:vwe,symbolWye:ywe},Vwe=Math.PI/180,Hwe=function(t){var r="symbol".concat(Kw(t));return KH[r]||WE},Wwe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Vwe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qwe=function(t,r){KH["symbol".concat(Kw(t))]=r},qE=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Uwe(t,Mwe),u=cF(cF({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=Hwe(n),g=bwe().type(x).size(Wwe(i,l,n));return g()},f=u.className,h=u.cx,p=u.cy,v=Or(u,!0);return h===+h&&p===+p&&i===+i?Ae.createElement("path",_4({},v,{className:Ir("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};qE.registerSymbol=qwe;function w0(e){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w0(e)}function j4(){return j4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j4.apply(this,arguments)}function uF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gwe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(r),!0).forEach(function(n){rv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XH(n.key),n)}}function Ywe(e,t,r){return t&&dF(e.prototype,t),r&&dF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xwe(e,t,r){return t=q2(t),Jwe(e,YH()?Reflect.construct(t,r||[],q2(e).constructor):t.apply(e,r))}function Jwe(e,t){if(t&&(w0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qwe(e)}function Qwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YH=function(){return!!e})()}function q2(e){return q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q2(e)}function Zwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S4(e,t)}function S4(e,t){return S4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S4(e,t)}function rv(e,t,r){return t=XH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=e_e(e,"string");return w0(t)=="symbol"?t:t+""}function e_e(e,t){if(w0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ws=32,GE=function(e){function t(){return Kwe(this,t),Xwe(this,t,arguments)}return Zwe(t,e),Ywe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ws/2,o=Ws/6,l=Ws/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Ae.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ws,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ae.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ws,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ae.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ws/8,"h").concat(Ws,"v").concat(Ws*3/4,"h").concat(-Ws,"z"),className:"recharts-legend-icon"});if(Ae.isValidElement(n.legendIcon)){var u=Gwe({},n);return delete u.legendIcon,Ae.cloneElement(n.legendIcon,u)}return Ae.createElement(qE,{fill:c,cx:i,cy:i,size:Ws,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ws,height:Ws},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var m=p.formatter||c,x=Ir(rv(rv({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=br(p.value)?null:p.value;dc(!br(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return Ae.createElement("li",j4({className:x,style:f,key:"legend-item-".concat(v)},B2(n.props,p,v)),Ae.createElement(p4,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),Ae.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(g,p,v):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ae.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);rv(GE,"displayName","Legend");rv(GE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var t_e=Lw;function r_e(){this.__data__=new t_e,this.size=0}var n_e=r_e;function a_e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var i_e=a_e;function s_e(e){return this.__data__.get(e)}var o_e=s_e;function l_e(e){return this.__data__.has(e)}var c_e=l_e,u_e=Lw,d_e=DE,f_e=LE,h_e=200;function p_e(e,t){var r=this.__data__;if(r instanceof u_e){var n=r.__data__;if(!d_e||n.length<h_e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new f_e(n)}return r.set(e,t),this.size=r.size,this}var m_e=p_e,g_e=Lw,v_e=n_e,x_e=i_e,y_e=o_e,b_e=c_e,w_e=m_e;function cp(e){var t=this.__data__=new g_e(e);this.size=t.size}cp.prototype.clear=v_e;cp.prototype.delete=x_e;cp.prototype.get=y_e;cp.prototype.has=b_e;cp.prototype.set=w_e;var JH=cp,__e="__lodash_hash_undefined__";function j_e(e){return this.__data__.set(e,__e),this}var S_e=j_e;function N_e(e){return this.__data__.has(e)}var A_e=N_e,T_e=LE,C_e=S_e,E_e=A_e;function G2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new T_e;++t<r;)this.add(e[t])}G2.prototype.add=G2.prototype.push=C_e;G2.prototype.has=E_e;var QH=G2;function k_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ZH=k_e;function P_e(e,t){return e.has(t)}var eW=P_e,O_e=QH,F_e=ZH,D_e=eW,L_e=1,I_e=2;function M_e(e,t,r,n,a,i){var o=r&L_e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&I_e?new O_e:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],m=t[f];if(n)var x=o?n(m,v,f,t,e,i):n(v,m,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!F_e(t,function(g,y){if(!D_e(p,y)&&(v===g||a(v,g,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(v===m||a(v,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var tW=M_e,R_e=Pl,$_e=R_e.Uint8Array,B_e=$_e;function U_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var z_e=U_e;function V_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var KE=V_e,fF=sx,hF=B_e,H_e=FE,W_e=tW,q_e=z_e,G_e=KE,K_e=1,Y_e=2,X_e="[object Boolean]",J_e="[object Date]",Q_e="[object Error]",Z_e="[object Map]",e5e="[object Number]",t5e="[object RegExp]",r5e="[object Set]",n5e="[object String]",a5e="[object Symbol]",i5e="[object ArrayBuffer]",s5e="[object DataView]",pF=fF?fF.prototype:void 0,Cj=pF?pF.valueOf:void 0;function o5e(e,t,r,n,a,i,o){switch(r){case s5e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case i5e:return!(e.byteLength!=t.byteLength||!i(new hF(e),new hF(t)));case X_e:case J_e:case e5e:return H_e(+e,+t);case Q_e:return e.name==t.name&&e.message==t.message;case t5e:case n5e:return e==t+"";case Z_e:var l=q_e;case r5e:var c=n&K_e;if(l||(l=G_e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Y_e,o.set(e,t);var d=W_e(l(e),l(t),n,a,i,o);return o.delete(e),d;case a5e:if(Cj)return Cj.call(e)==Cj.call(t)}return!1}var l5e=o5e;function c5e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var rW=c5e,u5e=rW,d5e=as;function f5e(e,t,r){var n=t(e);return d5e(e)?n:u5e(n,r(e))}var h5e=f5e;function p5e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var m5e=p5e;function g5e(){return[]}var v5e=g5e,x5e=m5e,y5e=v5e,b5e=Object.prototype,w5e=b5e.propertyIsEnumerable,mF=Object.getOwnPropertySymbols,_5e=mF?function(e){return e==null?[]:(e=Object(e),x5e(mF(e),function(t){return w5e.call(e,t)}))}:y5e,j5e=_5e;function S5e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var N5e=S5e,A5e=Cc,T5e=Ec,C5e="[object Arguments]";function E5e(e){return T5e(e)&&A5e(e)==C5e}var k5e=E5e,gF=k5e,P5e=Ec,nW=Object.prototype,O5e=nW.hasOwnProperty,F5e=nW.propertyIsEnumerable,D5e=gF(function(){return arguments}())?gF:function(e){return P5e(e)&&O5e.call(e,"callee")&&!F5e.call(e,"callee")},YE=D5e,K2={exports:{}};function L5e(){return!1}var I5e=L5e;K2.exports;(function(e,t){var r=Pl,n=I5e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(K2,K2.exports);var aW=K2.exports,M5e=9007199254740991,R5e=/^(?:0|[1-9]\d*)$/;function $5e(e,t){var r=typeof e;return t=t??M5e,!!t&&(r=="number"||r!="symbol"&&R5e.test(e))&&e>-1&&e%1==0&&e<t}var XE=$5e,B5e=9007199254740991;function U5e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=B5e}var JE=U5e,z5e=Cc,V5e=JE,H5e=Ec,W5e="[object Arguments]",q5e="[object Array]",G5e="[object Boolean]",K5e="[object Date]",Y5e="[object Error]",X5e="[object Function]",J5e="[object Map]",Q5e="[object Number]",Z5e="[object Object]",eje="[object RegExp]",tje="[object Set]",rje="[object String]",nje="[object WeakMap]",aje="[object ArrayBuffer]",ije="[object DataView]",sje="[object Float32Array]",oje="[object Float64Array]",lje="[object Int8Array]",cje="[object Int16Array]",uje="[object Int32Array]",dje="[object Uint8Array]",fje="[object Uint8ClampedArray]",hje="[object Uint16Array]",pje="[object Uint32Array]",bn={};bn[sje]=bn[oje]=bn[lje]=bn[cje]=bn[uje]=bn[dje]=bn[fje]=bn[hje]=bn[pje]=!0;bn[W5e]=bn[q5e]=bn[aje]=bn[G5e]=bn[ije]=bn[K5e]=bn[Y5e]=bn[X5e]=bn[J5e]=bn[Q5e]=bn[Z5e]=bn[eje]=bn[tje]=bn[rje]=bn[nje]=!1;function mje(e){return H5e(e)&&V5e(e.length)&&!!bn[z5e(e)]}var gje=mje;function vje(e){return function(t){return e(t)}}var iW=vje,Y2={exports:{}};Y2.exports;(function(e,t){var r=hH,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Y2,Y2.exports);var xje=Y2.exports,yje=gje,bje=iW,vF=xje,xF=vF&&vF.isTypedArray,wje=xF?bje(xF):yje,sW=wje,_je=N5e,jje=YE,Sje=as,Nje=aW,Aje=XE,Tje=sW,Cje=Object.prototype,Eje=Cje.hasOwnProperty;function kje(e,t){var r=Sje(e),n=!r&&jje(e),a=!r&&!n&&Nje(e),i=!r&&!n&&!a&&Tje(e),o=r||n||a||i,l=o?_je(e.length,String):[],c=l.length;for(var u in e)(t||Eje.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Aje(u,c)))&&l.push(u);return l}var Pje=kje,Oje=Object.prototype;function Fje(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Oje;return e===r}var Dje=Fje;function Lje(e,t){return function(r){return e(t(r))}}var oW=Lje,Ije=oW,Mje=Ije(Object.keys,Object),Rje=Mje,$je=Dje,Bje=Rje,Uje=Object.prototype,zje=Uje.hasOwnProperty;function Vje(e){if(!$je(e))return Bje(e);var t=[];for(var r in Object(e))zje.call(e,r)&&r!="constructor"&&t.push(r);return t}var Hje=Vje,Wje=OE,qje=JE;function Gje(e){return e!=null&&qje(e.length)&&!Wje(e)}var ux=Gje,Kje=Pje,Yje=Hje,Xje=ux;function Jje(e){return Xje(e)?Kje(e):Yje(e)}var Qw=Jje,Qje=h5e,Zje=j5e,eSe=Qw;function tSe(e){return Qje(e,eSe,Zje)}var rSe=tSe,yF=rSe,nSe=1,aSe=Object.prototype,iSe=aSe.hasOwnProperty;function sSe(e,t,r,n,a,i){var o=r&nSe,l=yF(e),c=l.length,u=yF(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:iSe.call(t,h)))return!1}var p=i.get(e),v=i.get(t);if(p&&v)return p==t&&v==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var g=e[h],y=t[h];if(n)var b=o?n(y,g,h,t,e,i):n(g,y,h,e,t,i);if(!(b===void 0?g===y||a(g,y,r,n,i):b)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var S=e.constructor,_=t.constructor;S!=_&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return i.delete(e),i.delete(t),m}var oSe=sSe,lSe=Nf,cSe=Pl,uSe=lSe(cSe,"DataView"),dSe=uSe,fSe=Nf,hSe=Pl,pSe=fSe(hSe,"Promise"),mSe=pSe,gSe=Nf,vSe=Pl,xSe=gSe(vSe,"Set"),lW=xSe,ySe=Nf,bSe=Pl,wSe=ySe(bSe,"WeakMap"),_Se=wSe,N4=dSe,A4=DE,T4=mSe,C4=lW,E4=_Se,cW=Cc,up=mH,bF="[object Map]",jSe="[object Object]",wF="[object Promise]",_F="[object Set]",jF="[object WeakMap]",SF="[object DataView]",SSe=up(N4),NSe=up(A4),ASe=up(T4),TSe=up(C4),CSe=up(E4),yd=cW;(N4&&yd(new N4(new ArrayBuffer(1)))!=SF||A4&&yd(new A4)!=bF||T4&&yd(T4.resolve())!=wF||C4&&yd(new C4)!=_F||E4&&yd(new E4)!=jF)&&(yd=function(e){var t=cW(e),r=t==jSe?e.constructor:void 0,n=r?up(r):"";if(n)switch(n){case SSe:return SF;case NSe:return bF;case ASe:return wF;case TSe:return _F;case CSe:return jF}return t});var ESe=yd,Ej=JH,kSe=tW,PSe=l5e,OSe=oSe,NF=ESe,AF=as,TF=aW,FSe=sW,DSe=1,CF="[object Arguments]",EF="[object Array]",X1="[object Object]",LSe=Object.prototype,kF=LSe.hasOwnProperty;function ISe(e,t,r,n,a,i){var o=AF(e),l=AF(t),c=o?EF:NF(e),u=l?EF:NF(t);c=c==CF?X1:c,u=u==CF?X1:u;var d=c==X1,f=u==X1,h=c==u;if(h&&TF(e)){if(!TF(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Ej),o||FSe(e)?kSe(e,t,r,n,a,i):PSe(e,t,c,r,n,a,i);if(!(r&DSe)){var p=d&&kF.call(e,"__wrapped__"),v=f&&kF.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,x=v?t.value():t;return i||(i=new Ej),a(m,x,r,n,i)}}return h?(i||(i=new Ej),OSe(e,t,r,n,a,i)):!1}var MSe=ISe,RSe=MSe,PF=Ec;function uW(e,t,r,n,a){return e===t?!0:e==null||t==null||!PF(e)&&!PF(t)?e!==e&&t!==t:RSe(e,t,r,n,uW,a)}var QE=uW,$Se=JH,BSe=QE,USe=1,zSe=2;function VSe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new $Se;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?BSe(d,u,USe|zSe,n,f):h))return!1}}return!0}var HSe=VSe,WSe=Xu;function qSe(e){return e===e&&!WSe(e)}var dW=qSe,GSe=dW,KSe=Qw;function YSe(e){for(var t=KSe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,GSe(a)]}return t}var XSe=YSe;function JSe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var fW=JSe,QSe=HSe,ZSe=XSe,eNe=fW;function tNe(e){var t=ZSe(e);return t.length==1&&t[0][2]?eNe(t[0][0],t[0][1]):function(r){return r===e||QSe(r,e,t)}}var rNe=tNe;function nNe(e,t){return e!=null&&t in Object(e)}var aNe=nNe,iNe=bH,sNe=YE,oNe=as,lNe=XE,cNe=JE,uNe=Mw;function dNe(e,t,r){t=iNe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=uNe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&cNe(a)&&lNe(o,a)&&(oNe(e)||sNe(e)))}var fNe=dNe,hNe=aNe,pNe=fNe;function mNe(e,t){return e!=null&&pNe(e,t,hNe)}var gNe=mNe,vNe=QE,xNe=wH,yNe=gNe,bNe=PE,wNe=dW,_Ne=fW,jNe=Mw,SNe=1,NNe=2;function ANe(e,t){return bNe(e)&&wNe(t)?_Ne(jNe(e),t):function(r){var n=xNe(r,e);return n===void 0&&n===t?yNe(r,e):vNe(t,n,SNe|NNe)}}var TNe=ANe;function CNe(e){return e}var dp=CNe;function ENe(e){return function(t){return t==null?void 0:t[e]}}var kNe=ENe,PNe=RE;function ONe(e){return function(t){return PNe(t,e)}}var FNe=ONe,DNe=kNe,LNe=FNe,INe=PE,MNe=Mw;function RNe(e){return INe(e)?DNe(MNe(e)):LNe(e)}var $Ne=RNe,BNe=rNe,UNe=TNe,zNe=dp,VNe=as,HNe=$Ne;function WNe(e){return typeof e=="function"?e:e==null?zNe:typeof e=="object"?VNe(e)?UNe(e[0],e[1]):BNe(e):HNe(e)}var Ju=WNe;function qNe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var hW=qNe;function GNe(e){return e!==e}var KNe=GNe;function YNe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var XNe=YNe,JNe=hW,QNe=KNe,ZNe=XNe;function e4e(e,t,r){return t===t?ZNe(e,t,r):JNe(e,QNe,r)}var t4e=e4e,r4e=t4e;function n4e(e,t){var r=e==null?0:e.length;return!!r&&r4e(e,t,0)>-1}var a4e=n4e;function i4e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var s4e=i4e;function o4e(){}var l4e=o4e,kj=lW,c4e=l4e,u4e=KE,d4e=1/0,f4e=kj&&1/u4e(new kj([,-0]))[1]==d4e?function(e){return new kj(e)}:c4e,h4e=f4e,p4e=QH,m4e=a4e,g4e=s4e,v4e=eW,x4e=h4e,y4e=KE,b4e=200;function w4e(e,t,r){var n=-1,a=m4e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=g4e;else if(i>=b4e){var u=t?null:x4e(e);if(u)return y4e(u);o=!1,a=v4e,c=new p4e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var _4e=w4e,j4e=Ju,S4e=_4e;function N4e(e,t){return e&&e.length?S4e(e,j4e(t)):[]}var A4e=N4e;const OF=Vr(A4e);function pW(e,t,r){return t===!0?OF(e,r):br(t)?OF(e,t):e}function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}var T4e=["ref"];function FF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FF(Object(r),!0).forEach(function(n){Zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gW(n.key),n)}}function E4e(e,t,r){return t&&DF(e.prototype,t),r&&DF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k4e(e,t,r){return t=X2(t),P4e(e,mW()?Reflect.construct(t,r||[],X2(e).constructor):t.apply(e,r))}function P4e(e,t){if(t&&(_0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O4e(e)}function O4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mW=function(){return!!e})()}function X2(e){return X2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X2(e)}function F4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k4(e,t)}function k4(e,t){return k4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k4(e,t)}function Zw(e,t,r){return t=gW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=D4e(e,"string");return _0(t)=="symbol"?t:t+""}function D4e(e,t){if(_0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L4e(e,t){if(e==null)return{};var r=I4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function M4e(e){return e.value}function R4e(e,t){if(Ae.isValidElement(e))return Ae.cloneElement(e,t);if(typeof e=="function")return Ae.createElement(e,t);t.ref;var r=L4e(t,T4e);return Ae.createElement(GE,r)}var LF=1,Zh=function(e){function t(){var r;C4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=k4e(this,t,[].concat(a)),Zw(r,"lastBoundingBox",{width:-1,height:-1}),r}return F4e(t,e),E4e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>LF||Math.abs(a.height-this.lastBoundingBox.height)>LF)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ql({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ql(ql({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=ql(ql({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ae.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},R4e(i,ql(ql({},this.props),{},{payload:pW(d,u,M4e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ql(ql({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Tt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);Zw(Zh,"displayName","Legend");Zw(Zh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var IF=sx,$4e=YE,B4e=as,MF=IF?IF.isConcatSpreadable:void 0;function U4e(e){return B4e(e)||$4e(e)||!!(MF&&e&&e[MF])}var z4e=U4e,V4e=rW,H4e=z4e;function vW(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=H4e),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?vW(l,t-1,r,n,a):V4e(a,l):n||(a[a.length]=l)}return a}var xW=vW;function W4e(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var q4e=W4e,G4e=q4e,K4e=G4e(),Y4e=K4e,X4e=Y4e,J4e=Qw;function Q4e(e,t){return e&&X4e(e,t,J4e)}var yW=Q4e,Z4e=ux;function eAe(e,t){return function(r,n){if(r==null)return r;if(!Z4e(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var tAe=eAe,rAe=yW,nAe=tAe,aAe=nAe(rAe),ZE=aAe,iAe=ZE,sAe=ux;function oAe(e,t){var r=-1,n=sAe(e)?Array(e.length):[];return iAe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var bW=oAe;function lAe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var cAe=lAe,RF=ap;function uAe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=RF(e),o=t!==void 0,l=t===null,c=t===t,u=RF(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var dAe=uAe,fAe=dAe;function hAe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=fAe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var pAe=hAe,Pj=ME,mAe=RE,gAe=Ju,vAe=bW,xAe=cAe,yAe=iW,bAe=pAe,wAe=dp,_Ae=as;function jAe(e,t,r){t.length?t=Pj(t,function(i){return _Ae(i)?function(o){return mAe(o,i.length===1?i[0]:i)}:i}):t=[wAe];var n=-1;t=Pj(t,yAe(gAe));var a=vAe(e,function(i,o,l){var c=Pj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return xAe(a,function(i,o){return bAe(i,o,r)})}var SAe=jAe;function NAe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var AAe=NAe,TAe=AAe,$F=Math.max;function CAe(e,t,r){return t=$F(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=$F(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),TAe(e,this,l)}}var EAe=CAe;function kAe(e){return function(){return e}}var PAe=kAe,OAe=Nf,FAe=function(){try{var e=OAe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wW=FAe,DAe=PAe,BF=wW,LAe=dp,IAe=BF?function(e,t){return BF(e,"toString",{configurable:!0,enumerable:!1,value:DAe(t),writable:!0})}:LAe,MAe=IAe,RAe=800,$Ae=16,BAe=Date.now;function UAe(e){var t=0,r=0;return function(){var n=BAe(),a=$Ae-(n-r);if(r=n,a>0){if(++t>=RAe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zAe=UAe,VAe=MAe,HAe=zAe,WAe=HAe(VAe),qAe=WAe,GAe=dp,KAe=EAe,YAe=qAe;function XAe(e,t){return YAe(KAe(e,t,GAe),e+"")}var JAe=XAe,QAe=FE,ZAe=ux,eTe=XE,tTe=Xu;function rTe(e,t,r){if(!tTe(r))return!1;var n=typeof t;return(n=="number"?ZAe(r)&&eTe(t,r.length):n=="string"&&t in r)?QAe(r[t],e):!1}var e_=rTe,nTe=xW,aTe=SAe,iTe=JAe,UF=e_,sTe=iTe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&UF(e,t[0],t[1])?t=[]:r>2&&UF(t[0],t[1],t[2])&&(t=[t[0]]),aTe(e,nTe(t,1),[])}),oTe=sTe;const e3=Vr(oTe);function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function P4(){return P4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P4.apply(this,arguments)}function lTe(e,t){return fTe(e)||dTe(e,t)||uTe(e,t)||cTe()}function cTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uTe(e,t){if(e){if(typeof e=="string")return zF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zF(e,t)}}function zF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function fTe(e){if(Array.isArray(e))return e}function VF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(r),!0).forEach(function(n){hTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hTe(e,t,r){return t=pTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pTe(e){var t=mTe(e,"string");return nv(t)=="symbol"?t:t+""}function mTe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gTe(e){return Array.isArray(e)&&ja(e[0])&&ja(e[1])?e.join(" ~ "):e}var vTe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,m=t.label,x=t.labelFormatter,g=t.accessibilityLayer,y=g===void 0?!1:g,b=function(){if(d&&d.length){var k={padding:0,margin:0},U=(h?e3(d,h):d).map(function(D,M){if(D.type==="none")return null;var B=Oj({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),I=D.formatter||f||gTe,q=D.value,F=D.name,z=q,J=F;if(I&&z!=null&&J!=null){var E=I(q,F,D,M,d);if(Array.isArray(E)){var V=lTe(E,2);z=V[0],J=V[1]}else z=E}return Ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:B},ja(J)?Ae.createElement("span",{className:"recharts-tooltip-item-name"},J):null,ja(J)?Ae.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ae.createElement("span",{className:"recharts-tooltip-item-value"},z),Ae.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return Ae.createElement("ul",{className:"recharts-tooltip-item-list",style:k},U)}return null},S=Oj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=Oj({margin:0},u),N=!Tr(m),j=N?m:"",A=Ir("recharts-default-tooltip",p),P=Ir("recharts-tooltip-label",v);N&&x&&d!==void 0&&d!==null&&(j=x(m,d));var H=y?{role:"status","aria-live":"assertive"}:{};return Ae.createElement("div",P4({className:A,style:S},H),Ae.createElement("p",{className:P,style:_},Ae.isValidElement(j)?j:"".concat(j)),b())};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function J1(e,t,r){return t=xTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xTe(e){var t=yTe(e,"string");return av(t)=="symbol"?t:t+""}function yTe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lm="recharts-tooltip-wrapper",bTe={visibility:"hidden"};function wTe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ir(lm,J1(J1(J1(J1({},"".concat(lm,"-right"),Tt(r)&&t&&Tt(t.x)&&r>=t.x),"".concat(lm,"-left"),Tt(r)&&t&&Tt(t.x)&&r<t.x),"".concat(lm,"-bottom"),Tt(n)&&t&&Tt(t.y)&&n>=t.y),"".concat(lm,"-top"),Tt(n)&&t&&Tt(t.y)&&n<t.y))}function HF(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Tt(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,m=c[n]+u;return v>m?Math.max(d,c[n]):Math.max(f,c[n])}function _Te(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jTe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=HF({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=HF({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=_Te({translateX:d,translateY:f,useTranslate3d:l})):u=bTe,{cssProperties:u,cssClasses:wTe({translateX:d,translateY:f,coordinate:r})}}function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function WF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WF(Object(r),!0).forEach(function(n){F4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function STe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jW(n.key),n)}}function NTe(e,t,r){return t&&GF(e.prototype,t),r&&GF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ATe(e,t,r){return t=J2(t),TTe(e,_W()?Reflect.construct(t,r||[],J2(e).constructor):t.apply(e,r))}function TTe(e,t){if(t&&(j0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CTe(e)}function CTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!e})()}function J2(e){return J2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J2(e)}function ETe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O4(e,t)}function O4(e,t){return O4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O4(e,t)}function F4(e,t,r){return t=jW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=kTe(e,"string");return j0(t)=="symbol"?t:t+""}function kTe(e,t){if(j0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KF=1,PTe=function(e){function t(){var r;STe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ATe(this,t,[].concat(a)),F4(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),F4(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return ETe(t,e),NTe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>KF||Math.abs(n.height-this.state.lastBoundingBox.height)>KF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,v=a.position,m=a.reverseDirection,x=a.useTranslate3d,g=a.viewBox,y=a.wrapperStyle,b=jTe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:g}),S=b.cssClasses,_=b.cssProperties,N=qF(qF({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return Ae.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(A){n.wrapperNode=A}},u)}}])}(O.PureComponent),OTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fc={isSsr:OTe(),get:function(t){return fc[t]},set:function(t,r){if(typeof t=="string")fc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){fc[a]=t[a]})}}};function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}function YF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(r),!0).forEach(function(n){t3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NW(n.key),n)}}function DTe(e,t,r){return t&&JF(e.prototype,t),r&&JF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LTe(e,t,r){return t=Q2(t),ITe(e,SW()?Reflect.construct(t,r||[],Q2(e).constructor):t.apply(e,r))}function ITe(e,t){if(t&&(S0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MTe(e)}function MTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SW=function(){return!!e})()}function Q2(e){return Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q2(e)}function RTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D4(e,t)}function D4(e,t){return D4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D4(e,t)}function t3(e,t,r){return t=NW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=$Te(e,"string");return S0(t)=="symbol"?t:t+""}function $Te(e,t){if(S0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BTe(e){return e.dataKey}function UTe(e,t){return Ae.isValidElement(e)?Ae.cloneElement(e,t):typeof e=="function"?Ae.createElement(e,t):Ae.createElement(vTe,t)}var dl=function(e){function t(){return FTe(this,t),LTe(this,t,arguments)}return RTe(t,e),DTe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,v=a.payload,m=a.payloadUniqBy,x=a.position,g=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,_=v??[];f&&_.length&&(_=pW(v.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),m,BTe));var N=_.length>0;return Ae.createElement(PTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:x,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:S},UTe(u,XF(XF({},this.props),{},{payload:_})))}}])}(O.PureComponent);t3(dl,"displayName","Tooltip");t3(dl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zTe=Pl,VTe=function(){return zTe.Date.now()},HTe=VTe,WTe=/\s/;function qTe(e){for(var t=e.length;t--&&WTe.test(e.charAt(t)););return t}var GTe=qTe,KTe=GTe,YTe=/^\s+/;function XTe(e){return e&&e.slice(0,KTe(e)+1).replace(YTe,"")}var JTe=XTe,QTe=JTe,QF=Xu,ZTe=ap,ZF=0/0,eCe=/^[-+]0x[0-9a-f]+$/i,tCe=/^0b[01]+$/i,rCe=/^0o[0-7]+$/i,nCe=parseInt;function aCe(e){if(typeof e=="number")return e;if(ZTe(e))return ZF;if(QF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=QF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=QTe(e);var r=tCe.test(e);return r||rCe.test(e)?nCe(e.slice(2),r?2:8):eCe.test(e)?ZF:+e}var AW=aCe,iCe=Xu,Fj=HTe,eD=AW,sCe="Expected a function",oCe=Math.max,lCe=Math.min;function cCe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(sCe);t=eD(t)||0,iCe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?oCe(eD(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var j=n,A=a;return n=a=void 0,u=N,o=e.apply(A,j),o}function v(N){return u=N,l=setTimeout(g,t),d?p(N):o}function m(N){var j=N-c,A=N-u,P=t-j;return f?lCe(P,i-A):P}function x(N){var j=N-c,A=N-u;return c===void 0||j>=t||j<0||f&&A>=i}function g(){var N=Fj();if(x(N))return y(N);l=setTimeout(g,m(N))}function y(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?o:y(Fj())}function _(){var N=Fj(),j=x(N);if(n=arguments,a=this,c=N,j){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return _.cancel=b,_.flush=S,_}var uCe=cCe,dCe=uCe,fCe=Xu,hCe="Expected a function";function pCe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(hCe);return fCe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),dCe(e,t,{leading:n,maxWait:t,trailing:a})}var mCe=pCe;const TW=Vr(mCe);function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){gCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gCe(e,t,r){return t=vCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vCe(e){var t=xCe(e,"string");return iv(t)=="symbol"?t:t+""}function xCe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yCe(e,t){return jCe(e)||_Ce(e,t)||wCe(e,t)||bCe()}function bCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wCe(e,t){if(e){if(typeof e=="string")return rD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rD(e,t)}}function rD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Ce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jCe(e){if(Array.isArray(e))return e}var SCe=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=v===void 0?0:v,x=e.id,g=e.className,y=e.onResize,b=e.style,S=b===void 0?{}:b,_=O.useRef(null),N=O.useRef();N.current=y,O.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var j=O.useState({containerWidth:a.width,containerHeight:a.height}),A=yCe(j,2),P=A[0],H=A[1],C=O.useCallback(function(U,D){H(function(M){var B=Math.round(U),I=Math.round(D);return M.containerWidth===B&&M.containerHeight===I?M:{containerWidth:B,containerHeight:I}})},[]);O.useEffect(function(){var U=function(F){var z,J=F[0].contentRect,E=J.width,V=J.height;C(E,V),(z=N.current)===null||z===void 0||z.call(N,E,V)};m>0&&(U=TW(U,m,{trailing:!0,leading:!1}));var D=new ResizeObserver(U),M=_.current.getBoundingClientRect(),B=M.width,I=M.height;return C(B,I),D.observe(_.current),function(){D.disconnect()}},[C,m]);var k=O.useMemo(function(){var U=P.containerWidth,D=P.containerHeight;if(U<0||D<0)return null;dc(Od(o)||Od(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),dc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Od(o)?U:o,B=Od(c)?D:c;r&&r>0&&(M?B=M/r:B&&(M=B*r),h&&B>h&&(B=h)),dc(M>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,B,o,c,d,f,r);var I=!Array.isArray(p)&&uc(p.type).endsWith("Chart");return Ae.Children.map(p,function(q){return Ae.isValidElement(q)?O.cloneElement(q,Q1({width:M,height:B},I?{style:Q1({height:"100%",width:"100%",maxHeight:B,maxWidth:M},q.props.style)}:{})):q})},[r,p,c,h,f,d,P,o]);return Ae.createElement("div",{id:x?"".concat(x):void 0,className:Ir("recharts-responsive-container",g),style:Q1(Q1({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},k)}),CW=function(t){return null};CW.displayName="Cell";function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){NCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NCe(e,t,r){return t=ACe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ACe(e){var t=TCe(e,"string");return sv(t)=="symbol"?t:t+""}function TCe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ih={widthCache:{},cacheCount:0},CCe=2e3,ECe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aD="recharts_measurement_span";function kCe(e){var t=L4({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var cg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fc.isSsr)return{width:0,height:0};var n=kCe(r),a=JSON.stringify({text:t,copyStyle:n});if(ih.widthCache[a])return ih.widthCache[a];try{var i=document.getElementById(aD);i||(i=document.createElement("span"),i.setAttribute("id",aD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=L4(L4({},ECe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ih.widthCache[a]=c,++ih.cacheCount>CCe&&(ih.cacheCount=0,ih.widthCache={}),c}catch{return{width:0,height:0}}},PCe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Z2(e,t){return LCe(e)||DCe(e,t)||FCe(e,t)||OCe()}function OCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FCe(e,t){if(e){if(typeof e=="string")return iD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iD(e,t)}}function iD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LCe(e){if(Array.isArray(e))return e}function ICe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RCe(n.key),n)}}function MCe(e,t,r){return t&&sD(e.prototype,t),r&&sD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RCe(e){var t=$Ce(e,"string");return ov(t)=="symbol"?t:t+""}function $Ce(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,UCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,EW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zCe=Object.keys(EW),Fh="NaN";function VCe(e,t){return e*EW[t]}var Z1=function(){function e(t,r){ICe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!BCe.test(r)&&(this.num=NaN,this.unit=""),zCe.includes(r)&&(this.num=VCe(t,r),this.unit="px")}return MCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=UCe.exec(r))!==null&&n!==void 0?n:[],i=Z2(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function kW(e){if(e.includes(Fh))return Fh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=oD.exec(t))!==null&&r!==void 0?r:[],a=Z2(n,4),i=a[1],o=a[2],l=a[3],c=Z1.parse(i??""),u=Z1.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Fh;t=t.replace(oD,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=lD.exec(t))!==null&&f!==void 0?f:[],p=Z2(h,4),v=p[1],m=p[2],x=p[3],g=Z1.parse(v??""),y=Z1.parse(x??""),b=m==="+"?g.add(y):g.subtract(y);if(b.isNaN())return Fh;t=t.replace(lD,b.toString())}return t}var cD=/\(([^()]*)\)/;function HCe(e){for(var t=e;t.includes("(");){var r=cD.exec(t),n=Z2(r,2),a=n[1];t=t.replace(cD,kW(a))}return t}function WCe(e){var t=e.replace(/\s+/g,"");return t=HCe(t),t=kW(t),t}function qCe(e){try{return WCe(e)}catch{return Fh}}function Dj(e){var t=qCe(e.slice(5,-1));return t===Fh?"":t}var GCe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],KCe=["dx","dy","angle","className","breakAll"];function I4(){return I4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I4.apply(this,arguments)}function uD(e,t){if(e==null)return{};var r=YCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dD(e,t){return ZCe(e)||QCe(e,t)||JCe(e,t)||XCe()}function XCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JCe(e,t){if(e){if(typeof e=="string")return fD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fD(e,t)}}function fD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ZCe(e){if(Array.isArray(e))return e}var PW=/[ \f\n\r\t\v\u2028\u2029]+/,OW=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Tr(r)||(n?i=r.toString().split(""):i=r.toString().split(PW));var o=i.map(function(c){return{word:c,width:cg(c,a).width}}),l=n?0:cg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},eEe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Tt(o),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(B,I){var q=I.word,F=I.width,z=B[B.length-1];if(z&&(a==null||i||z.width+F+n<Number(a)))z.words.push(q),z.width+=F+n;else{var J={words:[q],width:F};B.push(J)}return B},[])},p=h(r),v=function(M){return M.reduce(function(B,I){return B.width>I.width?B:I})};if(!d)return p;for(var m="",x=function(M){var B=f.slice(0,M),I=OW({breakAll:u,style:c,children:B+m}).wordsWithComputedWidth,q=h(I),F=q.length>o||v(q).width>Number(a);return[F,q]},g=0,y=f.length-1,b=0,S;g<=y&&b<=f.length-1;){var _=Math.floor((g+y)/2),N=_-1,j=x(N),A=dD(j,2),P=A[0],H=A[1],C=x(_),k=dD(C,1),U=k[0];if(!P&&!U&&(g=_+1),P&&U&&(y=_-1),!P&&U){S=H;break}b++}return S||p},hD=function(t){var r=Tr(t)?[]:t.toString().split(PW);return[{words:r}]},tEe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!fc.isSsr){var c,u,d=OW({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return hD(a);return eEe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return hD(a)},pD="#808080",eb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,x=t.fill,g=x===void 0?pD:x,y=uD(t,GCe),b=O.useMemo(function(){return tEe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,_=y.dy,N=y.angle,j=y.className,A=y.breakAll,P=uD(y,KCe);if(!ja(n)||!ja(i))return null;var H=n+(Tt(S)?S:0),C=i+(Tt(_)?_:0),k;switch(m){case"start":k=Dj("calc(".concat(u,")"));break;case"middle":k=Dj("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=Dj("calc(".concat(b.length-1," * -").concat(l,")"));break}var U=[];if(f){var D=b[0].width,M=y.width;U.push("scale(".concat((Tt(M)?M/D:1)/D,")"))}return N&&U.push("rotate(".concat(N,", ").concat(H,", ").concat(C,")")),U.length&&(P.transform=U.join(" ")),Ae.createElement("text",I4({},Or(P,!0),{x:H,y:C,className:Ir("recharts-text",j),textAnchor:p,fill:g.includes("url")?pD:g}),b.map(function(B,I){var q=B.words.join(A?"":" ");return Ae.createElement("tspan",{x:H,dy:I===0?k:l,key:"".concat(q,"-").concat(I)},q)}))};function Cu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rEe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r3(e){let t,r,n;e.length!==2?(t=Cu,r=(l,c)=>Cu(e(l),c),n=(l,c)=>e(l)-c):(t=e===Cu||e===rEe?e:nEe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function nEe(){return 0}function FW(e){return e===null?NaN:+e}function*aEe(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const iEe=r3(Cu),sEe=iEe.right;r3(FW).center;const dx=sEe;class mD extends Map{constructor(t,r=cEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(gD(this,t))}has(t){return super.has(gD(this,t))}set(t,r){return super.set(oEe(this,t),r)}delete(t){return super.delete(lEe(this,t))}}function gD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function oEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function lEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function cEe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uEe(e=Cu){if(e===Cu)return DW;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function DW(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dEe=Math.sqrt(50),fEe=Math.sqrt(10),hEe=Math.sqrt(2);function tb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=dEe?10:i>=fEe?5:i>=hEe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?tb(e,t,r*2):[l,c,u]}function M4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?tb(t,e,r):tb(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function R4(e,t,r){return t=+t,e=+e,r=+r,tb(e,t,r)[2]}function $4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?R4(t,e,r):R4(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function vD(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function xD(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function LW(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?DW:uEe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));LW(e,t,p,v,a)}const i=e[t];let o=r,l=n;for(cm(e,r,t),a(e[n],i)>0&&cm(e,r,n);o<l;){for(cm(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?cm(e,r,l):(++l,cm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function cm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function pEe(e,t,r){if(e=Float64Array.from(aEe(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return xD(e);if(t>=1)return vD(e);var n,a=(n-1)*t,i=Math.floor(a),o=vD(LW(e,i).subarray(0,i+1)),l=xD(e.subarray(i+1));return o+(l-o)*(a-i)}}function mEe(e,t,r=FW){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function gEe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function uo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function kc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const B4=Symbol("implicit");function n3(){var e=new mD,t=[],r=[],n=B4;function a(i){let o=e.get(i);if(o===void 0){if(n!==B4)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new mD;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return n3(t,r).unknown(n)},uo.apply(a,arguments),a}function lv(){var e=n3().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,v=p?a:n,m=p?n:a;i=(m-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(m-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=gEe(h).map(function(g){return v+i*g});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return lv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},uo.apply(f(),arguments)}function IW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IW(t())},e}function ug(){return IW(lv.apply(null,arguments).paddingInner(1))}function a3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MW(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fx(){}var cv=.7,rb=1/cv,e0="\\s*([+-]?\\d+)\\s*",uv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vEe=/^#([0-9a-f]{3,8})$/,xEe=new RegExp(`^rgb\\(${e0},${e0},${e0}\\)$`),yEe=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),bEe=new RegExp(`^rgba\\(${e0},${e0},${e0},${uv}\\)$`),wEe=new RegExp(`^rgba\\(${wl},${wl},${wl},${uv}\\)$`),_Ee=new RegExp(`^hsl\\(${uv},${wl},${wl}\\)$`),jEe=new RegExp(`^hsla\\(${uv},${wl},${wl},${uv}\\)$`),yD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a3(fx,dv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bD,formatHex:bD,formatHex8:SEe,formatHsl:NEe,formatRgb:wD,toString:wD});function bD(){return this.rgb().formatHex()}function SEe(){return this.rgb().formatHex8()}function NEe(){return RW(this).formatHsl()}function wD(){return this.rgb().formatRgb()}function dv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vEe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_D(t):r===3?new Qi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ey(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ey(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xEe.exec(e))?new Qi(t[1],t[2],t[3],1):(t=yEe.exec(e))?new Qi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bEe.exec(e))?ey(t[1],t[2],t[3],t[4]):(t=wEe.exec(e))?ey(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_Ee.exec(e))?ND(t[1],t[2]/100,t[3]/100,1):(t=jEe.exec(e))?ND(t[1],t[2]/100,t[3]/100,t[4]):yD.hasOwnProperty(e)?_D(yD[e]):e==="transparent"?new Qi(NaN,NaN,NaN,0):null}function _D(e){return new Qi(e>>16&255,e>>8&255,e&255,1)}function ey(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qi(e,t,r,n)}function AEe(e){return e instanceof fx||(e=dv(e)),e?(e=e.rgb(),new Qi(e.r,e.g,e.b,e.opacity)):new Qi}function U4(e,t,r,n){return arguments.length===1?AEe(e):new Qi(e,t,r,n??1)}function Qi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a3(Qi,U4,MW(fx,{brighter(e){return e=e==null?rb:Math.pow(rb,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cv:Math.pow(cv,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qi(Vd(this.r),Vd(this.g),Vd(this.b),nb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jD,formatHex:jD,formatHex8:TEe,formatRgb:SD,toString:SD}));function jD(){return`#${Fd(this.r)}${Fd(this.g)}${Fd(this.b)}`}function TEe(){return`#${Fd(this.r)}${Fd(this.g)}${Fd(this.b)}${Fd((isNaN(this.opacity)?1:this.opacity)*255)}`}function SD(){const e=nb(this.opacity);return`${e===1?"rgb(":"rgba("}${Vd(this.r)}, ${Vd(this.g)}, ${Vd(this.b)}${e===1?")":`, ${e})`}`}function nb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fd(e){return e=Vd(e),(e<16?"0":"")+e.toString(16)}function ND(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Io(e,t,r,n)}function RW(e){if(e instanceof Io)return new Io(e.h,e.s,e.l,e.opacity);if(e instanceof fx||(e=dv(e)),!e)return new Io;if(e instanceof Io)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Io(o,l,c,e.opacity)}function CEe(e,t,r,n){return arguments.length===1?RW(e):new Io(e,t,r,n??1)}function Io(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a3(Io,CEe,MW(fx,{brighter(e){return e=e==null?rb:Math.pow(rb,e),new Io(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cv:Math.pow(cv,e),new Io(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Qi(Lj(e>=240?e-240:e+120,a,n),Lj(e,a,n),Lj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Io(AD(this.h),ty(this.s),ty(this.l),nb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nb(this.opacity);return`${e===1?"hsl(":"hsla("}${AD(this.h)}, ${ty(this.s)*100}%, ${ty(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AD(e){return e=(e||0)%360,e<0?e+360:e}function ty(e){return Math.max(0,Math.min(1,e||0))}function Lj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const i3=e=>()=>e;function EEe(e,t){return function(r){return e+r*t}}function kEe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function PEe(e){return(e=+e)==1?$W:function(t,r){return r-t?kEe(t,r,e):i3(isNaN(t)?r:t)}}function $W(e,t){var r=t-e;return r?EEe(e,r):i3(isNaN(e)?t:e)}const TD=function e(t){var r=PEe(t);function n(a,i){var o=r((a=U4(a)).r,(i=U4(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=$W(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function OEe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function FEe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DEe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=fp(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function LEe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ab(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function IEe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=fp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var z4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ij=new RegExp(z4.source,"g");function MEe(e){return function(){return e}}function REe(e){return function(t){return e(t)+""}}function $Ee(e,t){var r=z4.lastIndex=Ij.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=z4.exec(e))&&(a=Ij.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ab(n,a)})),r=Ij.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?REe(c[0].x):MEe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function fp(e,t){var r=typeof t,n;return t==null||r==="boolean"?i3(t):(r==="number"?ab:r==="string"?(n=dv(t))?(t=n,TD):$Ee:t instanceof dv?TD:t instanceof Date?LEe:FEe(t)?OEe:Array.isArray(t)?DEe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?IEe:ab)(e,t)}function s3(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function BEe(e,t){t===void 0&&(t=e,e=fp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function UEe(e){return function(){return e}}function ib(e){return+e}var CD=[0,1];function Fi(e){return e}function V4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:UEe(isNaN(t)?NaN:.5)}function zEe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function VEe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=V4(a,n),i=r(o,i)):(n=V4(n,a),i=r(i,o)),function(l){return i(n(l))}}function HEe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=V4(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=dx(e,l,1,n)-1;return i[c](a[c](l))}}function hx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function t_(){var e=CD,t=CD,r=fp,n,a,i,o=Fi,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Fi&&(o=zEe(e[0],e[h-1])),l=h>2?HEe:VEe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ab)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ib),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=s3,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Fi,d()):o!==Fi},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function o3(){return t_()(Fi,Fi)}function WEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function N0(e){return e=sb(Math.abs(e)),e?e[1]:NaN}function qEe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function GEe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var KEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fv(e){if(!(t=KEe.exec(e)))throw new Error("invalid format: "+e);var t;return new l3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fv.prototype=l3.prototype;function l3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}l3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YEe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var BW;function XEe(e,t){var r=sb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(BW=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+sb(e,Math.max(0,t+i-1))[0]}function ED(e,t){var r=sb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const kD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ED(e*100,t),r:ED,s:XEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function PD(e){return e}var OD=Array.prototype.map,FD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function JEe(e){var t=e.grouping===void 0||e.thousands===void 0?PD:qEe(OD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?PD:GEe(OD.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=fv(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,x=f.zero,g=f.width,y=f.comma,b=f.precision,S=f.trim,_=f.type;_==="n"?(y=!0,_="g"):kD[_]||(b===void 0&&(b=12),S=!0,_="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",j=m==="$"?n:/[%p]/.test(_)?o:"",A=kD[_],P=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function H(C){var k=N,U=j,D,M,B;if(_==="c")U=A(C)+U,C="";else{C=+C;var I=C<0||1/C<0;if(C=isNaN(C)?c:A(Math.abs(C),b),S&&(C=YEe(C)),I&&+C==0&&v!=="+"&&(I=!1),k=(I?v==="("?v:l:v==="-"||v==="("?"":v)+k,U=(_==="s"?FD[8+BW/3]:"")+U+(I&&v==="("?")":""),P){for(D=-1,M=C.length;++D<M;)if(B=C.charCodeAt(D),48>B||B>57){U=(B===46?a+C.slice(D+1):C.slice(D))+U,C=C.slice(0,D);break}}}y&&!x&&(C=t(C,1/0));var q=k.length+C.length+U.length,F=q<g?new Array(g-q+1).join(h):"";switch(y&&x&&(C=t(F+C,F.length?g-U.length:1/0),F=""),p){case"<":C=k+C+U+F;break;case"=":C=k+F+C+U;break;case"^":C=F.slice(0,q=F.length>>1)+k+C+U+F.slice(q);break;default:C=F+k+C+U;break}return i(C)}return H.toString=function(){return f+""},H}function d(f,h){var p=u((f=fv(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(N0(h)/3)))*3,m=Math.pow(10,-v),x=FD[8+v/3];return function(g){return p(m*g)+x}}return{format:u,formatPrefix:d}}var ry,c3,UW;QEe({thousands:",",grouping:[3],currency:["$",""]});function QEe(e){return ry=JEe(e),c3=ry.format,UW=ry.formatPrefix,ry}function ZEe(e){return Math.max(0,-N0(Math.abs(e)))}function e3e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(N0(t)/3)))*3-N0(Math.abs(e)))}function t3e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,N0(t)-N0(e))+1}function zW(e,t,r,n){var a=$4(e,t,r),i;switch(n=fv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=e3e(a,o))&&(n.precision=i),UW(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=t3e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=ZEe(a))&&(n.precision=i-(n.type==="%")*2);break}}return c3(n)}function Qu(e){var t=e.domain;return e.ticks=function(r){var n=t();return M4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return zW(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=R4(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ob(){var e=o3();return e.copy=function(){return hx(e,ob())},uo.apply(e,arguments),Qu(e)}function VW(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ib),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VW(e).unknown(t)},e=arguments.length?Array.from(e,ib):[0,1],Qu(r)}function HW(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function DD(e){return Math.log(e)}function LD(e){return Math.exp(e)}function r3e(e){return-Math.log(-e)}function n3e(e){return-Math.exp(-e)}function a3e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function i3e(e){return e===10?a3e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function s3e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ID(e){return(t,r)=>-e(-t,r)}function u3(e){const t=e(DD,LD),r=t.domain;let n=10,a,i;function o(){return a=s3e(n),i=i3e(n),r()[0]<0?(a=ID(a),i=ID(i),e(r3e,n3e)):e(DD,LD),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),v,m;const x=l==null?10:+l;let g=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;g.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;g.push(m)}g.length*2<x&&(g=M4(u,d,x))}else g=M4(h,p,Math.min(p-h,x)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=fv(c)).precision==null&&(c.trim=!0),c=c3(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(HW(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function WW(){const e=u3(t_()).domain([1,10]);return e.copy=()=>hx(e,WW()).base(e.base()),uo.apply(e,arguments),e}function MD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function d3(e){var t=1,r=e(MD(t),RD(t));return r.constant=function(n){return arguments.length?e(MD(t=+n),RD(t)):t},Qu(r)}function qW(){var e=d3(t_());return e.copy=function(){return hx(e,qW()).constant(e.constant())},uo.apply(e,arguments)}function $D(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function o3e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function l3e(e){return e<0?-e*e:e*e}function f3(e){var t=e(Fi,Fi),r=1;function n(){return r===1?e(Fi,Fi):r===.5?e(o3e,l3e):e($D(r),$D(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Qu(t)}function h3(){var e=f3(t_());return e.copy=function(){return hx(e,h3()).exponent(e.exponent())},uo.apply(e,arguments),e}function c3e(){return h3.apply(null,arguments).exponent(.5)}function BD(e){return Math.sign(e)*e*e}function u3e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GW(){var e=o3(),t=[0,1],r=!1,n;function a(i){var o=u3e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(BD(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ib)).map(BD)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return GW(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},uo.apply(a,arguments),Qu(a)}function KW(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=mEe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[dx(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Cu),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return KW().domain(e).range(t).unknown(n)},uo.apply(i,arguments)}function YW(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[dx(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return YW().domain([e,t]).range(a).unknown(i)},uo.apply(Qu(o),arguments)}function XW(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[dx(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return XW().domain(e).range(t).unknown(r)},uo.apply(a,arguments)}const Mj=new Date,Rj=new Date;function Na(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Na(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Mj.setTime(+i),Rj.setTime(+o),e(Mj),e(Rj),Math.floor(r(Mj,Rj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const lb=Na(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Na(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lb);lb.range;const tc=1e3,Zs=tc*60,rc=Zs*60,jc=rc*24,p3=jc*7,UD=jc*30,$j=jc*365,Dd=Na(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tc)},(e,t)=>(t-e)/tc,e=>e.getUTCSeconds());Dd.range;const m3=Na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc)},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getMinutes());m3.range;const g3=Na(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getUTCMinutes());g3.range;const v3=Na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc-e.getMinutes()*Zs)},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getHours());v3.range;const x3=Na(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getUTCHours());x3.range;const px=Na(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zs)/jc,e=>e.getDate()-1);px.range;const r_=Na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jc,e=>e.getUTCDate()-1);r_.range;const JW=Na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jc,e=>Math.floor(e/jc));JW.range;function Af(e){return Na(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Zs)/p3)}const n_=Af(0),cb=Af(1),d3e=Af(2),f3e=Af(3),A0=Af(4),h3e=Af(5),p3e=Af(6);n_.range;cb.range;d3e.range;f3e.range;A0.range;h3e.range;p3e.range;function Tf(e){return Na(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/p3)}const a_=Tf(0),ub=Tf(1),m3e=Tf(2),g3e=Tf(3),T0=Tf(4),v3e=Tf(5),x3e=Tf(6);a_.range;ub.range;m3e.range;g3e.range;T0.range;v3e.range;x3e.range;const y3=Na(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());y3.range;const b3=Na(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());b3.range;const Sc=Na(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Na(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Sc.range;const Nc=Na(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Na(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Nc.range;function QW(e,t,r,n,a,i){const o=[[Dd,1,tc],[Dd,5,5*tc],[Dd,15,15*tc],[Dd,30,30*tc],[i,1,Zs],[i,5,5*Zs],[i,15,15*Zs],[i,30,30*Zs],[a,1,rc],[a,3,3*rc],[a,6,6*rc],[a,12,12*rc],[n,1,jc],[n,2,2*jc],[r,1,p3],[t,1,UD],[t,3,3*UD],[e,1,$j]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=r3(([,,x])=>x).right(o,h);if(p===o.length)return e.every($4(u/$j,d/$j,f));if(p===0)return lb.every(Math.max($4(u,d,f),1));const[v,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(m)}return[l,c]}const[y3e,b3e]=QW(Nc,b3,a_,JW,x3,g3),[w3e,_3e]=QW(Sc,y3,n_,px,v3,m3);function Bj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Uj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function um(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function j3e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=dm(a),d=fm(a),f=dm(i),h=fm(i),p=dm(o),v=fm(o),m=dm(l),x=fm(l),g=dm(c),y=fm(c),b={a:I,A:q,b:F,B:z,c:null,d:GD,e:GD,f:q3e,g:rke,G:ake,H:V3e,I:H3e,j:W3e,L:ZW,m:G3e,M:K3e,p:J,q:E,Q:XD,s:JD,S:Y3e,u:X3e,U:J3e,V:Q3e,w:Z3e,W:eke,x:null,X:null,y:tke,Y:nke,Z:ike,"%":YD},S={a:V,A:K,b:W,B:Y,c:null,d:KD,e:KD,f:cke,g:yke,G:wke,H:ske,I:oke,j:lke,L:tq,m:uke,M:dke,p:ee,q:oe,Q:XD,s:JD,S:fke,u:hke,U:pke,V:mke,w:gke,W:vke,x:null,X:null,y:xke,Y:bke,Z:_ke,"%":YD},_={a:H,A:C,b:k,B:U,c:D,d:WD,e:WD,f:$3e,g:HD,G:VD,H:qD,I:qD,j:L3e,L:R3e,m:D3e,M:I3e,p:P,q:F3e,Q:U3e,s:z3e,S:M3e,u:C3e,U:E3e,V:k3e,w:T3e,W:P3e,x:M,X:B,y:HD,Y:VD,Z:O3e,"%":B3e};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(G,se){return function(he){var Q=[],Pe=-1,De=0,je=G.length,Z,ke,Ge;for(he instanceof Date||(he=new Date(+he));++Pe<je;)G.charCodeAt(Pe)===37&&(Q.push(G.slice(De,Pe)),(ke=zD[Z=G.charAt(++Pe)])!=null?Z=G.charAt(++Pe):ke=Z==="e"?" ":"0",(Ge=se[Z])&&(Z=Ge(he,ke)),Q.push(Z),De=Pe+1);return Q.push(G.slice(De,Pe)),Q.join("")}}function j(G,se){return function(he){var Q=um(1900,void 0,1),Pe=A(Q,G,he+="",0),De,je;if(Pe!=he.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(se&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(De=Uj(um(Q.y,0,1)),je=De.getUTCDay(),De=je>4||je===0?ub.ceil(De):ub(De),De=r_.offset(De,(Q.V-1)*7),Q.y=De.getUTCFullYear(),Q.m=De.getUTCMonth(),Q.d=De.getUTCDate()+(Q.w+6)%7):(De=Bj(um(Q.y,0,1)),je=De.getDay(),De=je>4||je===0?cb.ceil(De):cb(De),De=px.offset(De,(Q.V-1)*7),Q.y=De.getFullYear(),Q.m=De.getMonth(),Q.d=De.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),je="Z"in Q?Uj(um(Q.y,0,1)).getUTCDay():Bj(um(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(je+5)%7:Q.w+Q.U*7-(je+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Uj(Q)):Bj(Q)}}function A(G,se,he,Q){for(var Pe=0,De=se.length,je=he.length,Z,ke;Pe<De;){if(Q>=je)return-1;if(Z=se.charCodeAt(Pe++),Z===37){if(Z=se.charAt(Pe++),ke=_[Z in zD?se.charAt(Pe++):Z],!ke||(Q=ke(G,he,Q))<0)return-1}else if(Z!=he.charCodeAt(Q++))return-1}return Q}function P(G,se,he){var Q=u.exec(se.slice(he));return Q?(G.p=d.get(Q[0].toLowerCase()),he+Q[0].length):-1}function H(G,se,he){var Q=p.exec(se.slice(he));return Q?(G.w=v.get(Q[0].toLowerCase()),he+Q[0].length):-1}function C(G,se,he){var Q=f.exec(se.slice(he));return Q?(G.w=h.get(Q[0].toLowerCase()),he+Q[0].length):-1}function k(G,se,he){var Q=g.exec(se.slice(he));return Q?(G.m=y.get(Q[0].toLowerCase()),he+Q[0].length):-1}function U(G,se,he){var Q=m.exec(se.slice(he));return Q?(G.m=x.get(Q[0].toLowerCase()),he+Q[0].length):-1}function D(G,se,he){return A(G,t,se,he)}function M(G,se,he){return A(G,r,se,he)}function B(G,se,he){return A(G,n,se,he)}function I(G){return o[G.getDay()]}function q(G){return i[G.getDay()]}function F(G){return c[G.getMonth()]}function z(G){return l[G.getMonth()]}function J(G){return a[+(G.getHours()>=12)]}function E(G){return 1+~~(G.getMonth()/3)}function V(G){return o[G.getUTCDay()]}function K(G){return i[G.getUTCDay()]}function W(G){return c[G.getUTCMonth()]}function Y(G){return l[G.getUTCMonth()]}function ee(G){return a[+(G.getUTCHours()>=12)]}function oe(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var se=N(G+="",b);return se.toString=function(){return G},se},parse:function(G){var se=j(G+="",!1);return se.toString=function(){return G},se},utcFormat:function(G){var se=N(G+="",S);return se.toString=function(){return G},se},utcParse:function(G){var se=j(G+="",!0);return se.toString=function(){return G},se}}}var zD={"-":"",_:" ",0:"0"},Ba=/^\s*\d+/,S3e=/^%/,N3e=/[\\^$*+?|[\]().{}]/g;function zr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function A3e(e){return e.replace(N3e,"\\$&")}function dm(e){return new RegExp("^(?:"+e.map(A3e).join("|")+")","i")}function fm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function T3e(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function C3e(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function E3e(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function k3e(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function P3e(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function VD(e,t,r){var n=Ba.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function HD(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function O3e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function F3e(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function D3e(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function WD(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function L3e(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function qD(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function I3e(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function M3e(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function R3e(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function $3e(e,t,r){var n=Ba.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function B3e(e,t,r){var n=S3e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function U3e(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function z3e(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function GD(e,t){return zr(e.getDate(),t,2)}function V3e(e,t){return zr(e.getHours(),t,2)}function H3e(e,t){return zr(e.getHours()%12||12,t,2)}function W3e(e,t){return zr(1+px.count(Sc(e),e),t,3)}function ZW(e,t){return zr(e.getMilliseconds(),t,3)}function q3e(e,t){return ZW(e,t)+"000"}function G3e(e,t){return zr(e.getMonth()+1,t,2)}function K3e(e,t){return zr(e.getMinutes(),t,2)}function Y3e(e,t){return zr(e.getSeconds(),t,2)}function X3e(e){var t=e.getDay();return t===0?7:t}function J3e(e,t){return zr(n_.count(Sc(e)-1,e),t,2)}function eq(e){var t=e.getDay();return t>=4||t===0?A0(e):A0.ceil(e)}function Q3e(e,t){return e=eq(e),zr(A0.count(Sc(e),e)+(Sc(e).getDay()===4),t,2)}function Z3e(e){return e.getDay()}function eke(e,t){return zr(cb.count(Sc(e)-1,e),t,2)}function tke(e,t){return zr(e.getFullYear()%100,t,2)}function rke(e,t){return e=eq(e),zr(e.getFullYear()%100,t,2)}function nke(e,t){return zr(e.getFullYear()%1e4,t,4)}function ake(e,t){var r=e.getDay();return e=r>=4||r===0?A0(e):A0.ceil(e),zr(e.getFullYear()%1e4,t,4)}function ike(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zr(t/60|0,"0",2)+zr(t%60,"0",2)}function KD(e,t){return zr(e.getUTCDate(),t,2)}function ske(e,t){return zr(e.getUTCHours(),t,2)}function oke(e,t){return zr(e.getUTCHours()%12||12,t,2)}function lke(e,t){return zr(1+r_.count(Nc(e),e),t,3)}function tq(e,t){return zr(e.getUTCMilliseconds(),t,3)}function cke(e,t){return tq(e,t)+"000"}function uke(e,t){return zr(e.getUTCMonth()+1,t,2)}function dke(e,t){return zr(e.getUTCMinutes(),t,2)}function fke(e,t){return zr(e.getUTCSeconds(),t,2)}function hke(e){var t=e.getUTCDay();return t===0?7:t}function pke(e,t){return zr(a_.count(Nc(e)-1,e),t,2)}function rq(e){var t=e.getUTCDay();return t>=4||t===0?T0(e):T0.ceil(e)}function mke(e,t){return e=rq(e),zr(T0.count(Nc(e),e)+(Nc(e).getUTCDay()===4),t,2)}function gke(e){return e.getUTCDay()}function vke(e,t){return zr(ub.count(Nc(e)-1,e),t,2)}function xke(e,t){return zr(e.getUTCFullYear()%100,t,2)}function yke(e,t){return e=rq(e),zr(e.getUTCFullYear()%100,t,2)}function bke(e,t){return zr(e.getUTCFullYear()%1e4,t,4)}function wke(e,t){var r=e.getUTCDay();return e=r>=4||r===0?T0(e):T0.ceil(e),zr(e.getUTCFullYear()%1e4,t,4)}function _ke(){return"+0000"}function YD(){return"%"}function XD(e){return+e}function JD(e){return Math.floor(+e/1e3)}var sh,nq,aq;jke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jke(e){return sh=j3e(e),nq=sh.format,sh.parse,aq=sh.utcFormat,sh.utcParse,sh}function Ske(e){return new Date(e)}function Nke(e){return e instanceof Date?+e:+new Date(+e)}function w3(e,t,r,n,a,i,o,l,c,u){var d=o3(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),x=u("%I %p"),g=u("%a %d"),y=u("%b %d"),b=u("%B"),S=u("%Y");function _(N){return(c(N)<N?p:l(N)<N?v:o(N)<N?m:i(N)<N?x:n(N)<N?a(N)<N?g:y:r(N)<N?b:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Nke)):h().map(Ske)},d.ticks=function(N){var j=h();return e(j[0],j[j.length-1],N??10)},d.tickFormat=function(N,j){return j==null?_:u(j)},d.nice=function(N){var j=h();return(!N||typeof N.range!="function")&&(N=t(j[0],j[j.length-1],N??10)),N?h(HW(j,N)):d},d.copy=function(){return hx(d,w3(e,t,r,n,a,i,o,l,c,u))},d}function Ake(){return uo.apply(w3(w3e,_3e,Sc,y3,n_,px,v3,m3,Dd,nq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tke(){return uo.apply(w3(y3e,b3e,Nc,b3,a_,r_,x3,g3,Dd,aq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function i_(){var e=0,t=1,r,n,a,i,o=Fi,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=d(fp),u.rangeRound=d(s3),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Zu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iq(){var e=Qu(i_()(Fi));return e.copy=function(){return Zu(e,iq())},kc.apply(e,arguments)}function sq(){var e=u3(i_()).domain([1,10]);return e.copy=function(){return Zu(e,sq()).base(e.base())},kc.apply(e,arguments)}function oq(){var e=d3(i_());return e.copy=function(){return Zu(e,oq()).constant(e.constant())},kc.apply(e,arguments)}function _3(){var e=f3(i_());return e.copy=function(){return Zu(e,_3()).exponent(e.exponent())},kc.apply(e,arguments)}function Cke(){return _3.apply(null,arguments).exponent(.5)}function lq(){var e=[],t=Fi;function r(n){if(n!=null&&!isNaN(n=+n))return t((dx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Cu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>pEe(e,i/n))},r.copy=function(){return lq(t).domain(e)},kc.apply(r,arguments)}function s_(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Fi,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function v(m){return function(x){var g,y,b;return arguments.length?([g,y,b]=x,u=BEe(m,[g,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=v(fp),p.rangeRound=v(s3),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function cq(){var e=Qu(s_()(Fi));return e.copy=function(){return Zu(e,cq())},kc.apply(e,arguments)}function uq(){var e=u3(s_()).domain([.1,1,10]);return e.copy=function(){return Zu(e,uq()).base(e.base())},kc.apply(e,arguments)}function dq(){var e=d3(s_());return e.copy=function(){return Zu(e,dq()).constant(e.constant())},kc.apply(e,arguments)}function j3(){var e=f3(s_());return e.copy=function(){return Zu(e,j3()).exponent(e.exponent())},kc.apply(e,arguments)}function Eke(){return j3.apply(null,arguments).exponent(.5)}const QD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lv,scaleDiverging:cq,scaleDivergingLog:uq,scaleDivergingPow:j3,scaleDivergingSqrt:Eke,scaleDivergingSymlog:dq,scaleIdentity:VW,scaleImplicit:B4,scaleLinear:ob,scaleLog:WW,scaleOrdinal:n3,scalePoint:ug,scalePow:h3,scaleQuantile:KW,scaleQuantize:YW,scaleRadial:GW,scaleSequential:iq,scaleSequentialLog:sq,scaleSequentialPow:_3,scaleSequentialQuantile:lq,scaleSequentialSqrt:Cke,scaleSequentialSymlog:oq,scaleSqrt:c3e,scaleSymlog:qW,scaleThreshold:XW,scaleTime:Ake,scaleUtc:Tke,tickFormat:zW},Symbol.toStringTag,{value:"Module"}));var kke=ap;function Pke(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!kke(o):r(o,l)))var l=o,c=i}return c}var fq=Pke;function Oke(e,t){return e>t}var Fke=Oke,Dke=fq,Lke=Fke,Ike=dp;function Mke(e){return e&&e.length?Dke(e,Ike,Lke):void 0}var Rke=Mke;const o_=Vr(Rke);function $ke(e,t){return e<t}var Bke=$ke,Uke=fq,zke=Bke,Vke=dp;function Hke(e){return e&&e.length?Uke(e,Vke,zke):void 0}var Wke=Hke;const l_=Vr(Wke);var qke=ME,Gke=Ju,Kke=bW,Yke=as;function Xke(e,t){var r=Yke(e)?qke:Kke;return r(e,Gke(t))}var Jke=Xke,Qke=xW,Zke=Jke;function ePe(e,t){return Qke(Zke(e,t),1)}var tPe=ePe;const rPe=Vr(tPe);var nPe=QE;function aPe(e,t){return nPe(e,t)}var iPe=aPe;const c_=Vr(iPe);var hp=1e9,sPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},N3,En=!0,oo="[DecimalError] ",Hd=oo+"Invalid argument: ",S3=oo+"Exponent out of range: ",pp=Math.floor,bd=Math.pow,oPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bs,Oa=1e7,wn=7,hq=9007199254740991,db=pp(hq/wn),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Mt.dividedBy=Mt.div=function(e){return hc(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,r=t.constructor;return un(hc(t,new r(e),0,1),r.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return pa(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bs))throw Error(oo+"NaN");if(r.s<1)throw Error(oo+(r.s?"NaN":"-Infinity"));return r.eq(bs)?new n(0):(En=!1,t=hc(hv(r,i),hv(e,i),i),En=!0,un(t,a))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gq(t,e):pq(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(oo+"NaN");return r.s?(En=!1,t=hc(r,e,0,1).times(e),En=!0,r.minus(t)):un(new n(r),a)};Mt.naturalExponential=Mt.exp=function(){return mq(this)};Mt.naturalLogarithm=Mt.ln=function(){return hv(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pq(t,e):gq(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hd+e);if(t=pa(a)+1,n=a.d.length-1,r=n*wn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Mt.squareRoot=Mt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(oo+"NaN")}for(e=pa(l),En=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=pl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=pp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(hc(l,i,o+2)).times(.5),pl(i.d).slice(0,o)===(t=pl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(un(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return En=!0,un(n,r)};Mt.times=Mt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Oa|0,t=l/Oa|0;i[a]=(i[a]+t)%Oa|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,En?un(e,f.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Al(e,0,hp),t===void 0?t=n.rounding:Al(t,0,8),un(r,e+pa(r)+1,t))};Mt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=uf(n,!0):(Al(e,0,hp),t===void 0?t=a.rounding:Al(t,0,8),n=un(new a(n),e+1,t),r=uf(n,!0,e+1)),r};Mt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?uf(a):(Al(e,0,hp),t===void 0?t=i.rounding:Al(t,0,8),n=un(new i(a),e+pa(a)+1,t),r=uf(n.abs(),!1,e+pa(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return un(new t(e),pa(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(bs);if(l=new c(l),!l.s){if(e.s<1)throw Error(oo+"Infinity");return l}if(l.eq(bs))return l;if(n=c.precision,e.eq(bs))return un(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=hq){for(a=new c(bs),t=Math.ceil(n/wn+4),En=!1;r%2&&(a=a.times(l),eL(a.d,t)),r=pp(r/2),r!==0;)l=l.times(l),eL(l.d,t);return En=!0,e.s<0?new c(bs).div(a):un(a,n)}}else if(i<0)throw Error(oo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,En=!1,a=e.times(hv(l,n+u)),En=!0,a=mq(a),a.s=i,a};Mt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=pa(a),n=uf(a,r<=i.toExpNeg||r>=i.toExpPos)):(Al(e,1,hp),t===void 0?t=i.rounding:Al(t,0,8),a=un(new i(a),e,t),r=pa(a),n=uf(a,e<=r||r<=i.toExpNeg,e)),n};Mt.toSignificantDigits=Mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Al(e,1,hp),t===void 0?t=n.rounding:Al(t,0,8)),un(new n(r),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pa(e),r=e.constructor;return uf(e,t<=r.toExpNeg||t>=r.toExpPos)};function pq(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),En?un(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/wn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Oa|0,c[i]%=Oa;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,En?un(t,f):t}function Al(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Hd+e)}function pl(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=wn-n.length,r&&(i+=iu(r)),i+=n;o=e[t],n=o+"",r=wn-n.length,r&&(i+=iu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var hc=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Oa|0,o=i/Oa|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Oa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,v,m,x,g,y,b,S,_,N,j,A,P=n.constructor,H=n.s==a.s?1:-1,C=n.d,k=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(oo+"Division by zero");for(c=n.e-a.e,j=k.length,_=C.length,p=new P(H),v=p.d=[],u=0;k[u]==(C[u]||0);)++u;if(k[u]>(C[u]||0)&&--c,i==null?y=i=P.precision:o?y=i+(pa(n)-pa(a))+1:y=i,y<0)return new P(0);if(y=y/wn+2|0,u=0,j==1)for(d=0,k=k[0],y++;(u<_||d)&&y--;u++)b=d*Oa+(C[u]||0),v[u]=b/k|0,d=b%k|0;else{for(d=Oa/(k[0]+1)|0,d>1&&(k=e(k,d),C=e(C,d),j=k.length,_=C.length),S=j,m=C.slice(0,j),x=m.length;x<j;)m[x++]=0;A=k.slice(),A.unshift(0),N=k[0],k[1]>=Oa/2&&++N;do d=0,l=t(k,m,j,x),l<0?(g=m[0],j!=x&&(g=g*Oa+(m[1]||0)),d=g/N|0,d>1?(d>=Oa&&(d=Oa-1),f=e(k,d),h=f.length,x=m.length,l=t(f,m,h,x),l==1&&(d--,r(f,j<h?A:k,h))):(d==0&&(l=d=1),f=k.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),l==-1&&(x=m.length,l=t(k,m,j,x),l<1&&(d++,r(m,j<x?A:k,x))),x=m.length):l===0&&(d++,m=[0]),v[u++]=d,l&&m[0]?m[x++]=C[S]||0:(m=[C[S]],x=1);while((S++<_||m[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,un(p,o?i+pa(p)+1:i)}}();function mq(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(pa(e)>16)throw Error(S3+pa(e));if(!e.s)return new d(bs);for(t==null?(En=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(bd(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(bs),d.precision=l;;){if(a=un(a.times(e),l),r=r.times(++c),o=i.plus(hc(a,r,l)),pl(o.d).slice(0,l)===pl(i.d).slice(0,l)){for(;u--;)i=un(i.times(i),l);return d.precision=f,t==null?(En=!0,un(i,f)):i}i=o}}function pa(e){for(var t=e.e*wn,r=e.d[0];r>=10;r/=10)t++;return t}function zj(e,t,r){if(t>e.LN10.sd())throw En=!0,r&&(e.precision=r),Error(oo+"LN10 precision limit exceeded");return un(new e(e.LN10),t)}function iu(e){for(var t="";e--;)t+="0";return t}function hv(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,v=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(oo+(p.s?"NaN":"-Infinity"));if(p.eq(bs))return new m(0);if(t==null?(En=!1,u=x):u=t,p.eq(10))return t==null&&(En=!0),zj(m,u);if(u+=h,m.precision=u,r=pl(v),n=r.charAt(0),i=pa(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=pl(p.d),n=r.charAt(0),f++;i=pa(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=zj(m,u+2,x).times(i+""),p=hv(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(En=!0,un(p,x)):p;for(l=o=p=hc(p.minus(bs),p.plus(bs),u),d=un(p.times(p),u),a=3;;){if(o=un(o.times(d),u),c=l.plus(hc(o,new m(a),u)),pl(c.d).slice(0,u)===pl(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(zj(m,u+2,x).times(i+""))),l=hc(l,new m(f),u),m.precision=x,t==null?(En=!0,un(l,x)):l;l=c,a+=2}}function ZD(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=pp(r/wn),e.d=[],n=(r+1)%wn,r<0&&(n+=wn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=wn;n<a;)e.d.push(+t.slice(n,n+=wn));t=t.slice(n),n=wn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),En&&(e.e>db||e.e<-db))throw Error(S3+r)}else e.s=0,e.e=0,e.d=[0];return e}function un(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=wn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/wn),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=wn,a=n-wn+o}if(r!==void 0&&(i=bd(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/bd(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=pa(e),f.length=1,t=t-i-1,f[0]=bd(10,(wn-t%wn)%wn),e.e=pp(-t/wn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=bd(10,wn-n),f[d]=a>0?(u/bd(10,o-a)%bd(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Oa&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Oa)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(En&&(e.e>db||e.e<-db))throw Error(S3+pa(e));return e}function gq(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),En?un(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/wn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Oa-1;--c[i],c[a]+=Oa}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,En?un(t,p):t):new h(0)}function uf(e,t,r){var n,a=pa(e),i=pl(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+iu(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+iu(-a-1)+i,r&&(n=r-o)>0&&(i+=iu(n))):a>=o?(i+=iu(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+iu(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=iu(n))),e.s<0?"-"+i:i}function eL(e,t){if(e.length>t)return e.length=t,!0}function vq(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return ZD(o,i.toString())}else if(typeof i!="string")throw Error(Hd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,oPe.test(i))ZD(o,i);else throw Error(Hd+i)}if(a.prototype=Mt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=vq,a.config=a.set=lPe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function lPe(e){if(!e||typeof e!="object")throw Error(oo+"Object expected");var t,r,n,a=["precision",1,hp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(pp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Hd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hd+r+": "+n);return this}var N3=vq(sPe);bs=new N3(1);const sn=N3;function cPe(e){return hPe(e)||fPe(e)||dPe(e)||uPe()}function uPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dPe(e,t){if(e){if(typeof e=="string")return H4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H4(e,t)}}function fPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hPe(e){if(Array.isArray(e))return H4(e)}function H4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pPe=function(t){return t},xq={"@@functional/placeholder":!0},yq=function(t){return t===xq},tL=function(t){return function r(){return arguments.length===0||arguments.length===1&&yq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},mPe=function e(t,r){return t===1?r:tL(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==xq}).length;return o>=t?r.apply(void 0,a):e(t-o,tL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return yq(f)?c.shift():f});return r.apply(void 0,cPe(d).concat(c))}))})},u_=function(t){return mPe(t.length,t)},W4=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},gPe=u_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),vPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return pPe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},q4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},bq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function xPe(e){var t;return e===0?t=1:t=Math.floor(new sn(e).abs().log(10).toNumber())+1,t}function yPe(e,t,r){for(var n=new sn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var bPe=u_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),wPe=u_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),_Pe=u_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const d_={rangeStep:yPe,getDigitCount:xPe,interpolateNumber:bPe,uninterpolateNumber:wPe,uninterpolateTruncation:_Pe};function G4(e){return NPe(e)||SPe(e)||wq(e)||jPe()}function jPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function NPe(e){if(Array.isArray(e))return K4(e)}function pv(e,t){return CPe(e)||TPe(e,t)||wq(e,t)||APe()}function APe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wq(e,t){if(e){if(typeof e=="string")return K4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K4(e,t)}}function K4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TPe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function CPe(e){if(Array.isArray(e))return e}function _q(e){var t=pv(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function jq(e,t,r){if(e.lte(0))return new sn(0);var n=d_.getDigitCount(e.toNumber()),a=new sn(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new sn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new sn(Math.ceil(c))}function EPe(e,t,r){var n=1,a=new sn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new sn(10).pow(d_.getDigitCount(e)-1),a=new sn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new sn(Math.floor(e)))}else e===0?a=new sn(Math.floor((t-1)/2)):r||(a=new sn(Math.floor(e)));var o=Math.floor((t-1)/2),l=vPe(gPe(function(c){return a.add(new sn(c-o).mul(n)).toNumber()}),W4);return l(0,t)}function Sq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new sn(0),tickMin:new sn(0),tickMax:new sn(0)};var i=jq(new sn(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new sn(0):(o=new sn(e).add(t).div(2),o=o.sub(new sn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new sn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Sq(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new sn(l).mul(i)),tickMax:o.add(new sn(c).mul(i))})}function kPe(e){var t=pv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=_q([r,n]),c=pv(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(G4(W4(0,a-1).map(function(){return 1/0}))):[].concat(G4(W4(0,a-1).map(function(){return-1/0})),[d]);return r>n?q4(f):f}if(u===d)return EPe(u,a,i);var h=Sq(u,d,o,i),p=h.step,v=h.tickMin,m=h.tickMax,x=d_.rangeStep(v,m.add(new sn(.1).mul(p)),p);return r>n?q4(x):x}function PPe(e,t){var r=pv(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=_q([n,a]),l=pv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=jq(new sn(u).sub(c).div(d-1),i,0),h=[].concat(G4(d_.rangeStep(new sn(c),new sn(u).sub(new sn(.99).mul(f)),f)),[u]);return n>a?q4(h):h}var OPe=bq(kPe),FPe=bq(PPe),DPe=!0,Vj="Invariant failed";function df(e,t){if(!e){if(DPe)throw new Error(Vj);var r=typeof t=="function"?t():t,n=r?"".concat(Vj,": ").concat(r):Vj;throw new Error(n)}}var LPe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fb.apply(this,arguments)}function IPe(e,t){return BPe(e)||$Pe(e,t)||RPe(e,t)||MPe()}function MPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RPe(e,t){if(e){if(typeof e=="string")return rL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rL(e,t)}}function rL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Pe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function BPe(e){if(Array.isArray(e))return e}function UPe(e,t){if(e==null)return{};var r=zPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tq(n.key),n)}}function HPe(e,t,r){return t&&nL(e.prototype,t),r&&nL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WPe(e,t,r){return t=hb(t),qPe(e,Nq()?Reflect.construct(t,r||[],hb(e).constructor):t.apply(e,r))}function qPe(e,t){if(t&&(C0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GPe(e)}function GPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hb(e)}function KPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y4(e,t)}function Y4(e,t){return Y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y4(e,t)}function Aq(e,t,r){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tq(e){var t=YPe(e,"string");return C0(t)=="symbol"?t:t+""}function YPe(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mx=function(e){function t(){return VPe(this,t),WPe(this,t,arguments)}return KPe(t,e),HPe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=UPe(n,LPe),p=Or(h,!1);this.props.direction==="x"&&d.type!=="number"&&df(!1);var v=c.map(function(m){var x=u(m,l),g=x.x,y=x.y,b=x.value,S=x.errorVal;if(!S)return null;var _=[],N,j;if(Array.isArray(S)){var A=IPe(S,2);N=A[0],j=A[1]}else N=j=S;if(i==="vertical"){var P=d.scale,H=y+a,C=H+o,k=H-o,U=P(b-N),D=P(b+j);_.push({x1:D,y1:C,x2:D,y2:k}),_.push({x1:U,y1:H,x2:D,y2:H}),_.push({x1:U,y1:C,x2:U,y2:k})}else if(i==="horizontal"){var M=f.scale,B=g+a,I=B-o,q=B+o,F=M(b-N),z=M(b+j);_.push({x1:I,y1:z,x2:q,y2:z}),_.push({x1:B,y1:F,x2:B,y2:z}),_.push({x1:I,y1:F,x2:q,y2:F})}return Ae.createElement(na,fb({className:"recharts-errorBar",key:"bar-".concat(_.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),_.map(function(J){return Ae.createElement("line",fb({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return Ae.createElement(na,{className:"recharts-errorBars"},v)}}])}(Ae.Component);Aq(mx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Aq(mx,"displayName","ErrorBar");function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function aL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(r),!0).forEach(function(n){XPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XPe(e,t,r){return t=JPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JPe(e){var t=QPe(e,"string");return mv(t)=="symbol"?t:t+""}function QPe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ms(r,Zh);if(!o)return null;var l=Zh.defaultProps,c=l!==void 0?hd(hd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?hd(hd({},h),f.props):{},v=p.dataKey,m=p.name,x=p.legendType,g=p.hide;return{inactive:g,dataKey:v,type:c.iconType||x||"square",color:A3(f),value:m||v,payload:p}}),hd(hd(hd({},c),Zh.getWithHeight(o,a)),{},{payload:u,item:o})};function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function iL(e){return rOe(e)||tOe(e)||eOe(e)||ZPe()}function ZPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eOe(e,t){if(e){if(typeof e=="string")return X4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X4(e,t)}}function tOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rOe(e){if(Array.isArray(e))return X4(e)}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(r),!0).forEach(function(n){t0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t0(e,t,r){return t=nOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nOe(e){var t=aOe(e,"string");return gv(t)=="symbol"?t:t+""}function aOe(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(e,t,r){return Tr(e)||Tr(t)?r:ja(t)?ro(e,t,r):br(t)?t(e):r}function dg(e,t,r,n){var a=rPe(e,function(l){return Ps(l,t)});if(r==="number"){var i=a.filter(function(l){return Tt(l)||parseFloat(l)});return i.length?[l_(i),o_(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Tr(l)}):a;return o.map(function(l){return ja(l)||l instanceof Date?l:""})}var iOe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Bo(f-d)!==Bo(h-f)){var v=[];if(Bo(h-f)===Bo(c[1]-c[0])){p=h;var m=f+c[1]-c[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+c[1]-c[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(t>(y+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},A3=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Wn(Wn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},sOe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,x=v.cateAxisId,g=m.filter(function(j){return uc(j.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,b=y!==void 0?Wn(Wn({},y),g[0].props):g[0].props,S=b.barSize,_=b[x];o[_]||(o[_]=[]);var N=Tr(S)?r:S;o[_].push({item:g[0],stackList:g.slice(1),barSize:Tr(N)?void 0:cf(N,n,0)})}}return o},oOe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=cf(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,v=o.reduce(function(S,_){return S+_.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&p>0&&(h=!0,p*=.9,v=c*p);var m=(a-v)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(S,_){var N={item:_.item,position:{offset:x.offset+x.size+u,size:h?p:_.barSize}},j=[].concat(iL(S),[N]);return x=j[j.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(A){j.push({item:A,position:x})}),j},f)}else{var g=cf(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var y=(a-2*g-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=o.reduce(function(S,_,N){var j=[].concat(iL(S),[{item:_.item,position:{offset:g+(y+u)*N+(y-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(A){j.push({item:A,position:j[j.length-1].position})}),j},f)}return d},lOe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Cq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&Tt(t[p]))return Wn(Wn({},t),{},t0({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&Tt(t[v]))return Wn(Wn({},t),{},t0({},v,t[v]+(h||0)))}return t},cOe=function(t,r,n){return Tr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Eq=function(t,r,n,a,i){var o=r.props.children,l=no(o,mx).filter(function(u){return cOe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ps(d,n);if(Tr(f))return u;var h=Array.isArray(f)?[l_(f),o_(f)]:[f,f],p=c.reduce(function(v,m){var x=Ps(d,m,0),g=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(g,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},uOe=function(t,r,n,a,i){var o=r.map(function(l){return Eq(t,l,n,i,a)}).filter(function(l){return!Tr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},kq=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Eq(t,c,u,a)||dg(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Pq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Oq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},nc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Bo(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!lx(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Hj=new WeakMap,ny=function(t,r){if(typeof r!="function")return t;Hj.has(t)||Hj.set(t,new WeakMap);var n=Hj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},dOe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:lv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ob(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ug(),realScaleType:"point"}:i==="category"?{scale:lv(),realScaleType:"band"}:{scale:ob(),realScaleType:"linear"};if(ox(a)){var c="scale".concat(Kw(a));return{scale:(QD[c]||ug)(),realScaleType:QD[c]?c:"point"}}return br(a)?{scale:a}:{scale:ug(),realScaleType:"point"}},oL=1e-4,fOe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-oL,o=Math.max(a[0],a[1])+oL,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},hOe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},pOe=function(t,r){if(!r||r.length!==2||!Tt(r[0])||!Tt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Tt(t[0])||t[0]<n)&&(i[0]=n),(!Tt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},mOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=lx(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},gOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=lx(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},vOe={sign:mOe,expand:Dwe,none:b0,silhouette:Lwe,wiggle:Iwe,positive:gOe},xOe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=vOe[n],o=Fwe().keys(a).value(function(l,c){return+Ps(l,c,0)}).order(w4).offset(i);return o(t)},yOe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Wn(Wn({},h.type.defaultProps),h.props):h.props,m=v.stackId,x=v.hide;if(x)return f;var g=v[n],y=f[g]||{hasStack:!1,stackGroups:{}};if(ja(m)){var b=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[m]=b}else y.stackGroups[cx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Wn(Wn({},f),{},t0({},g,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var g=p.stackGroups[x];return Wn(Wn({},m),{},t0({},x,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:xOe(t,g.items,i)}))},v)}return Wn(Wn({},f),{},t0({},h,p))},d)},bOe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=OPe(u,i,l);return t.domain([l_(d),o_(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=FPe(f,i,l);return{niceTicks:h}}return null};function lL(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Tr(a[t.dataKey])){var l=R2(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ps(a,Tr(o)?t.dataKey:o);return Tr(c)?null:t.scale(c)}var cL=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ps(o,r.dataKey,r.domain[l]);return Tr(c)?null:r.scale(c)-i/2+a},wOe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},_Oe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Wn(Wn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ja(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},jOe=function(t){return t.reduce(function(r,n){return[l_(n.concat([r[0]]).filter(Tt)),o_(n.concat([r[1]]).filter(Tt))]},[1/0,-1/0])},Fq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=jOe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},uL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J4=function(t,r,n){if(br(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Tt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(uL.test(t[0])){var i=+uL.exec(t[0])[1];a[0]=r[0]-i}else br(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Tt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(dL.test(t[1])){var o=+dL.exec(t[1])[1];a[1]=r[1]+o}else br(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},pb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=e3(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},fL=function(t,r,n){return!t||!t.length||c_(t,ro(n,"type.defaultProps.domain"))?r:t},Dq=function(t,r){var n=t.type.defaultProps?Wn(Wn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Wn(Wn({},Or(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:A3(t),value:Ps(r,a),type:c,payload:r,chartType:u,hide:d})};function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){SOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SOe(e,t,r){return t=NOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NOe(e){var t=AOe(e,"string");return vv(t)=="symbol"?t:t+""}function AOe(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mb=Math.PI/180,TOe=function(t){return t*180/Math.PI},Ga=function(t,r,n,a){return{x:t+Math.cos(-mb*a)*n,y:r+Math.sin(-mb*a)*n}},COe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},EOe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=COe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:TOe(u),angleInRadian:u}},kOe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},POe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},mL=function(t,r){var n=t.x,a=t.y,i=EOe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=kOe(r),f=d.startAngle,h=d.endAngle,p=l,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?pL(pL({},r),{},{radius:o,angle:POe(p,r)}):null};function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}var OOe=["offset"];function FOe(e){return MOe(e)||IOe(e)||LOe(e)||DOe()}function DOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LOe(e,t){if(e){if(typeof e=="string")return Q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q4(e,t)}}function IOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MOe(e){if(Array.isArray(e))return Q4(e)}function Q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ROe(e,t){if(e==null)return{};var r=$Oe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Oe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gL(Object(r),!0).forEach(function(n){BOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BOe(e,t,r){return t=UOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UOe(e){var t=zOe(e,"string");return xv(t)=="symbol"?t:t+""}function zOe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(this,arguments)}var VOe=function(t){var r=t.value,n=t.formatter,a=Tr(t.children)?r:t.children;return br(n)?n(a):a},HOe=function(t,r){var n=Bo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},WOe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,m=c.clockWise,x=(f+h)/2,g=HOe(p,v),y=g>=0?1:-1,b,S;a==="insideStart"?(b=p+y*o,S=m):a==="insideEnd"?(b=v-y*o,S=!m):a==="end"&&(b=v+y*o,S=m),S=g<=0?S:!S;var _=Ga(u,d,x,b),N=Ga(u,d,x,b+(S?1:-1)*359),j="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),A=Tr(t.id)?cx("recharts-radial-line-"):t.id;return Ae.createElement("text",yv({},n,{dominantBaseline:"central",className:Ir("recharts-radial-bar-label",l)}),Ae.createElement("defs",null,Ae.createElement("path",{id:A,d:j})),Ae.createElement("textPath",{xlinkHref:"#".concat(A)},r))},qOe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Ga(o,l,u+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,g=Ga(o,l,x,h),y=g.x,b=g.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},GOe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",v=f>0?"start":"end",m=u>=0?1:-1,x=m*a,g=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return ga(ga({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return ga(ga({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var _={x:l-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return ga(ga({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return ga(ga({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return i==="insideLeft"?ga({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},j):i==="insideRight"?ga({x:l+u-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},j):i==="insideTop"?ga({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},j):i==="insideBottom"?ga({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},j):i==="insideTopLeft"?ga({x:l+x,y:c+h,textAnchor:y,verticalAnchor:v},j):i==="insideTopRight"?ga({x:l+u-x,y:c+h,textAnchor:g,verticalAnchor:v},j):i==="insideBottomLeft"?ga({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:p},j):i==="insideBottomRight"?ga({x:l+u-x,y:c+d-h,textAnchor:g,verticalAnchor:p},j):ip(i)&&(Tt(i.x)||Od(i.x))&&(Tt(i.y)||Od(i.y))?ga({x:l+cf(i.x,u),y:c+cf(i.y,d),textAnchor:"end",verticalAnchor:"end"},j):ga({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},KOe=function(t){return"cx"in t&&Tt(t.cx)};function fi(e){var t=e.offset,r=t===void 0?5:t,n=ROe(e,OOe),a=ga({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Tr(l)&&Tr(c)&&!O.isValidElement(u)&&!br(u))return null;if(O.isValidElement(u))return O.cloneElement(u,a);var p;if(br(u)){if(p=O.createElement(u,a),O.isValidElement(p))return p}else p=VOe(a);var v=KOe(i),m=Or(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return WOe(a,p,m);var x=v?qOe(a):GOe(a);return Ae.createElement(eb,yv({className:Ir("recharts-label",f)},m,x,{breakAll:h}),p)}fi.displayName="Label";var Lq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,m=t.width,x=t.height,g=t.clockWise,y=t.labelViewBox;if(y)return y;if(Tt(m)&&Tt(x)){if(Tt(f)&&Tt(h))return{x:f,y:h,width:m,height:x};if(Tt(p)&&Tt(v))return{x:p,y:v,width:m,height:x}}return Tt(f)&&Tt(h)?{x:f,y:h,width:0,height:0}:Tt(r)&&Tt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},YOe=function(t,r){return t?t===!0?Ae.createElement(fi,{key:"label-implicit",viewBox:r}):ja(t)?Ae.createElement(fi,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===fi?O.cloneElement(t,{key:"label-implicit",viewBox:r}):Ae.createElement(fi,{key:"label-implicit",content:t,viewBox:r}):br(t)?Ae.createElement(fi,{key:"label-implicit",content:t,viewBox:r}):ip(t)?Ae.createElement(fi,yv({viewBox:r},t,{key:"label-implicit"})):null:null},XOe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Lq(t),o=no(a,fi).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=YOe(t.label,r||i);return[l].concat(FOe(o))};fi.parseViewBox=Lq;fi.renderCallByParent=XOe;function JOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var QOe=JOe;const ZOe=Vr(QOe);function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}var e6e=["valueAccessor"],t6e=["data","dataKey","clockWise","id","textBreakAll"];function r6e(e){return s6e(e)||i6e(e)||a6e(e)||n6e()}function n6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a6e(e,t){if(e){if(typeof e=="string")return Z4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(e,t)}}function i6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s6e(e){if(Array.isArray(e))return Z4(e)}function Z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(this,arguments)}function vL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(r),!0).forEach(function(n){o6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o6e(e,t,r){return t=l6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6e(e){var t=c6e(e,"string");return bv(t)=="symbol"?t:t+""}function c6e(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yL(e,t){if(e==null)return{};var r=u6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var d6e=function(t){return Array.isArray(t.value)?ZOe(t.value):t.value};function Eu(e){var t=e.valueAccessor,r=t===void 0?d6e:t,n=yL(e,e6e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=yL(n,t6e);return!a||!a.length?null:Ae.createElement(na,{className:"recharts-label-list"},a.map(function(d,f){var h=Tr(i)?r(d,f):Ps(d&&d.payload,i),p=Tr(l)?{}:{id:"".concat(l,"-").concat(f)};return Ae.createElement(fi,gb({},Or(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:fi.parseViewBox(Tr(o)?d:xL(xL({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Eu.displayName="LabelList";function f6e(e,t){return e?e===!0?Ae.createElement(Eu,{key:"labelList-implicit",data:t}):Ae.isValidElement(e)||br(e)?Ae.createElement(Eu,{key:"labelList-implicit",data:t,content:e}):ip(e)?Ae.createElement(Eu,gb({data:t},e,{key:"labelList-implicit"})):null:null}function h6e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=no(n,Eu).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=f6e(e.label,t);return[i].concat(r6e(a))}Eu.renderCallByParent=h6e;function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eA.apply(this,arguments)}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){p6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p6e(e,t,r){return t=m6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6e(e){var t=g6e(e,"string");return wv(t)=="symbol"?t:t+""}function g6e(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v6e=function(t,r){var n=Bo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ay=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/mb,h=u?i:i+o*f,p=Ga(r,n,d,h),v=Ga(r,n,a,h),m=u?i-o*f:i,x=Ga(r,n,d*Math.cos(f*mb),m);return{center:p,circleTangency:v,lineTangency:x,theta:f}},Iq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=v6e(o,l),u=o+c,d=Ga(r,n,i,o),f=Ga(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Ga(r,n,a,o),v=Ga(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},x6e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Bo(d-u),h=ay({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,m=h.theta,x=ay({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=x.circleTangency,y=x.lineTangency,b=x.theta,S=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(S<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Iq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=ay({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=N.circleTangency,A=N.lineTangency,P=N.theta,H=ay({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=H.circleTangency,k=H.lineTangency,U=H.theta,D=c?Math.abs(u-d):Math.abs(u-d)-P-U;if(D<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},y6e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Mq=function(t){var r=wL(wL({},y6e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Ir("recharts-sector",h),v=o-i,m=cf(l,v,0,!0),x;return m>0&&Math.abs(d-f)<360?x=x6e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=Iq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),Ae.createElement("path",eA({},Or(r,!0),{className:p,d:x,role:"img"}))};function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function tA(){return tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tA.apply(this,arguments)}function _L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(r),!0).forEach(function(n){b6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b6e(e,t,r){return t=w6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w6e(e){var t=_6e(e,"string");return _v(t)=="symbol"?t:t+""}function _6e(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SL={curveBasisClosed:_we,curveBasisOpen:jwe,curveBasis:wwe,curveBumpX:owe,curveBumpY:lwe,curveLinearClosed:Swe,curveLinear:Xw,curveMonotoneX:Nwe,curveMonotoneY:Awe,curveNatural:Twe,curveStep:Cwe,curveStepAfter:kwe,curveStepBefore:Ewe},iy=function(t){return t.x===+t.x&&t.y===+t.y},hm=function(t){return t.x},pm=function(t){return t.y},j6e=function(t,r){if(br(t))return t;var n="curve".concat(Kw(t));return(n==="curveMonotone"||n==="curveBump")&&r?SL["".concat(n).concat(r==="vertical"?"Y":"X")]:SL[n]||Xw},S6e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=j6e(n,l),f=u?i.filter(function(m){return iy(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return iy(m)}):o,v=f.map(function(m,x){return jL(jL({},m),{},{base:p[x]})});return l==="vertical"?h=Y1().y(pm).x1(hm).x0(function(m){return m.base.x}):h=Y1().x(hm).y1(pm).y0(function(m){return m.base.y}),h.defined(iy).curve(d),h(v)}return l==="vertical"&&Tt(o)?h=Y1().y(pm).x1(hm).x0(o):Tt(o)?h=Y1().x(hm).y1(pm).y0(o):h=MH().x(hm).y(pm),h.defined(iy).curve(d),h(f)},rA=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?S6e(t):a;return Ae.createElement("path",tA({},Or(t,!1),$2(t),{className:Ir("recharts-curve",r),d:o,ref:i}))},N6e=Object.getOwnPropertyNames,A6e=Object.getOwnPropertySymbols,T6e=Object.prototype.hasOwnProperty;function NL(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function sy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function AL(e){return N6e(e).concat(A6e(e))}var Rq=Object.hasOwn||function(e,t){return T6e.call(e,t)};function mp(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var $q="_owner",TL=Object.getOwnPropertyDescriptor,CL=Object.keys;function C6e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function E6e(e,t){return mp(e.getTime(),t.getTime())}function EL(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],p=f[1],v=l.value,m=v[0],x=v[1];!u&&!n[d]&&(u=r.equals(h,m,i,d,e,t,r)&&r.equals(p,x,h,m,e,t,r))&&(n[d]=!0),d++}if(!u)return!1;i++}return!0}function k6e(e,t,r){var n=CL(e),a=n.length;if(CL(t).length!==a)return!1;for(var i;a-- >0;)if(i=n[a],i===$q&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Rq(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function mm(e,t,r){var n=AL(e),a=n.length;if(AL(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],i===$q&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Rq(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=TL(e,i),l=TL(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function P6e(e,t){return mp(e.valueOf(),t.valueOf())}function O6e(e,t){return e.source===t.source&&e.flags===t.flags}function kL(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function F6e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var D6e="[object Arguments]",L6e="[object Boolean]",I6e="[object Date]",M6e="[object Map]",R6e="[object Number]",$6e="[object Object]",B6e="[object RegExp]",U6e="[object Set]",z6e="[object String]",V6e=Array.isArray,PL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,OL=Object.assign,H6e=Object.prototype.toString.call.bind(Object.prototype.toString);function W6e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return a(d,f,h);if(V6e(d))return t(d,f,h);if(PL!=null&&PL(d))return c(d,f,h);if(p===Date)return r(d,f,h);if(p===RegExp)return o(d,f,h);if(p===Map)return n(d,f,h);if(p===Set)return l(d,f,h);var v=H6e(d);return v===I6e?r(d,f,h):v===B6e?o(d,f,h):v===M6e?n(d,f,h):v===U6e?l(d,f,h):v===$6e?typeof d.then!="function"&&typeof f.then!="function"&&a(d,f,h):v===D6e?a(d,f,h):v===L6e||v===R6e||v===z6e?i(d,f,h):!1}}function q6e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?mm:C6e,areDatesEqual:E6e,areMapsEqual:n?NL(EL,mm):EL,areObjectsEqual:n?mm:k6e,arePrimitiveWrappersEqual:P6e,areRegExpsEqual:O6e,areSetsEqual:n?NL(kL,mm):kL,areTypedArraysEqual:n?mm:F6e};if(r&&(a=OL({},a,r(a))),t){var i=sy(a.areArraysEqual),o=sy(a.areMapsEqual),l=sy(a.areObjectsEqual),c=sy(a.areSetsEqual);a=OL({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function G6e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function K6e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Y6e=ed();ed({strict:!0});ed({circular:!0});ed({circular:!0,strict:!0});ed({createInternalComparator:function(){return mp}});ed({strict:!0,createInternalComparator:function(){return mp}});ed({circular:!0,createInternalComparator:function(){return mp}});ed({circular:!0,createInternalComparator:function(){return mp},strict:!0});function ed(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=q6e(e),c=W6e(l),u=n?n(c):G6e(c);return K6e({circular:r,comparator:c,createState:a,equals:u,strict:o})}function X6e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function FL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):X6e(a)};requestAnimationFrame(n)}function nA(e){"@babel/helpers - typeof";return nA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nA(e)}function J6e(e){return t8e(e)||e8e(e)||Z6e(e)||Q6e()}function Q6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z6e(e,t){if(e){if(typeof e=="string")return DL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DL(e,t)}}function DL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t8e(e){if(Array.isArray(e))return e}function r8e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=J6e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){FL(a.bind(null,u),c);return}a(c),FL(a.bind(null,u));return}nA(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function LL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(r),!0).forEach(function(n){Bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bq(e,t,r){return t=n8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8e(e){var t=a8e(e,"string");return jv(t)==="symbol"?t:String(t)}function a8e(e,t){if(jv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i8e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},s8e=function(t){return t},o8e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},fg=function(t,r){return Object.keys(r).reduce(function(n,a){return IL(IL({},n),{},Bq({},a,t(a,r[a])))},{})},ML=function(t,r,n){return t.map(function(a){return"".concat(o8e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function l8e(e,t){return d8e(e)||u8e(e,t)||Uq(e,t)||c8e()}function c8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function d8e(e){if(Array.isArray(e))return e}function f8e(e){return m8e(e)||p8e(e)||Uq(e)||h8e()}function h8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uq(e,t){if(e){if(typeof e=="string")return aA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aA(e,t)}}function p8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m8e(e){if(Array.isArray(e))return aA(e)}function aA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vb=1e-4,zq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Vq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},RL=function(t,r){return function(n){var a=zq(t,r);return Vq(a,n)}},g8e=function(t,r){return function(n){var a=zq(t,r),i=[].concat(f8e(a.map(function(o,l){return o*l}).slice(1)),[0]);return Vq(i,n)}},$L=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=l8e(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=RL(a,o),h=RL(i,l),p=g8e(a,o),v=function(g){return g>1?1:g<0?0:g},m=function(g){for(var y=g>1?1:g,b=y,S=0;S<8;++S){var _=f(b)-y,N=p(b);if(Math.abs(_-y)<vb||N<vb)return h(b);b=v(b-_/N)}return h(b)};return m.isStepper=!1,m},v8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,v=h*i,m=h+(p-v)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<vb&&Math.abs(m)<vb?[f,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},x8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $L(a);case"spring":return v8e();default:if(a.split("(")[0]==="cubic-bezier")return $L(a)}return typeof a=="function"?a:null};function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function BL(e){return w8e(e)||b8e(e)||Hq(e)||y8e()}function y8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w8e(e){if(Array.isArray(e))return sA(e)}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(n){iA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iA(e,t,r){return t=_8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8e(e){var t=j8e(e,"string");return Sv(t)==="symbol"?t:String(t)}function j8e(e,t){if(Sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S8e(e,t){return T8e(e)||A8e(e,t)||Hq(e,t)||N8e()}function N8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hq(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function T8e(e){if(Array.isArray(e))return e}var xb=function(t,r,n){return t+(r-t)*n},oA=function(t){var r=t.from,n=t.to;return r!==n},C8e=function e(t,r,n){var a=fg(function(i,o){if(oA(o)){var l=t(o.from,o.to,o.velocity),c=S8e(l,2),u=c[0],d=c[1];return Va(Va({},o),{},{from:u,velocity:d})}return o},r);return n<1?fg(function(i,o){return oA(o)?Va(Va({},o),{},{velocity:xb(o.velocity,a[i].velocity,n),from:xb(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const E8e=function(e,t,r,n,a){var i=i8e(e,t),o=i.reduce(function(x,g){return Va(Va({},x),{},iA({},g,[e[g],t[g]]))},{}),l=i.reduce(function(x,g){return Va(Va({},x),{},iA({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return fg(function(g,y){return y.from},l)},p=function(){return!Object.values(l).filter(oA).length},v=function(g){u||(u=g);var y=g-u,b=y/r.dt;l=C8e(r,l,b),a(Va(Va(Va({},e),t),h())),u=g,p()||(c=requestAnimationFrame(f))},m=function(g){d||(d=g);var y=(g-d)/n,b=fg(function(_,N){return xb.apply(void 0,BL(N).concat([r(y)]))},o);if(a(Va(Va(Va({},e),t),b)),y<1)c=requestAnimationFrame(f);else{var S=fg(function(_,N){return xb.apply(void 0,BL(N).concat([r(1)]))},o);a(Va(Va(Va({},e),t),S))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}var k8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function P8e(e,t){if(e==null)return{};var r=O8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Wj(e){return I8e(e)||L8e(e)||D8e(e)||F8e()}function F8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(e,t){if(e){if(typeof e=="string")return lA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(e,t)}}function L8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I8e(e){if(Array.isArray(e))return lA(e)}function lA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){Mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mm(e,t,r){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wq(n.key),n)}}function R8e(e,t,r){return t&&VL(e.prototype,t),r&&VL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wq(e){var t=$8e(e,"string");return E0(t)==="symbol"?t:String(t)}function $8e(e,t){if(E0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(E0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cA(e,t)}function cA(e,t){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cA(e,t)}function U8e(e){var t=z8e();return function(){var n=yb(e),a;if(t){var i=yb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return uA(this,a)}}function uA(e,t){if(t&&(E0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dA(e)}function dA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}var f_=function(e){B8e(r,e);var t=U8e(r);function r(n,a){var i;M8e(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(dA(i)),i.changeStyle=i.changeStyle.bind(dA(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),uA(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},uA(i);i.state={style:c?Mm({},c,u):u}}else i.state={style:{}};return i}return R8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Mm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Y6e(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?f:a.to;if(this.state&&h){var x={style:c?Mm({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(x)}this.runAnimation(_o(_o({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=E8e(o,l,x8e(u),c,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,g){if(g===0)return m;var y=x.duration,b=x.easing,S=b===void 0?"ease":b,_=x.style,N=x.properties,j=x.onAnimationEnd,A=g>0?o[g-1]:x,P=N||Object.keys(_);if(typeof S=="function"||S==="spring")return[].concat(Wj(m),[i.runJSAnimation.bind(i,{from:A.style,to:_,duration:y,easing:S}),y]);var H=ML(P,y,S),C=_o(_o(_o({},A.style),_),{},{transition:H});return[].concat(Wj(m),[C,y,j]).filter(s8e)};return this.manager.start([c].concat(Wj(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=r8e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?Mm({},l,c):c,x=ML(Object.keys(m),o,u);v.start([d,i,_o(_o({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=P8e(a,k8e),u=O.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var v=p.props,m=v.style,x=m===void 0?{}:m,g=v.className,y=O.cloneElement(p,_o(_o({},c),{},{style:_o(_o({},x),d),className:g}));return y};return u===1?f(O.Children.only(i)):Ae.createElement("div",null,O.Children.map(i,function(h){return f(h)}))}}]),r}(O.PureComponent);f_.displayName="Animate";f_.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};f_.propTypes={from:zt.oneOfType([zt.object,zt.string]),to:zt.oneOfType([zt.object,zt.string]),attributeName:zt.string,duration:zt.number,begin:zt.number,easing:zt.oneOfType([zt.string,zt.func]),steps:zt.arrayOf(zt.shape({duration:zt.number.isRequired,style:zt.object.isRequired,easing:zt.oneOfType([zt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zt.func]),properties:zt.arrayOf("string"),onAnimationEnd:zt.func})),children:zt.oneOfType([zt.node,zt.func]),isActive:zt.bool,canBegin:zt.bool,onAnimationEnd:zt.func,shouldReAnimate:zt.bool,onAnimationStart:zt.func,onAnimationReStart:zt.func};const k0=f_;function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(this,arguments)}function V8e(e,t){return G8e(e)||q8e(e,t)||W8e(e,t)||H8e()}function H8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8e(e,t){if(e){if(typeof e=="string")return HL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HL(e,t)}}function HL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function G8e(e){if(Array.isArray(e))return e}function WL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(r),!0).forEach(function(n){K8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K8e(e,t,r){return t=Y8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8e(e){var t=X8e(e,"string");return Nv(t)=="symbol"?t:t+""}function X8e(e,t){if(Nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GL=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},J8e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Q8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T3=function(t){var r=qL(qL({},Q8e),t),n=O.useRef(),a=O.useState(-1),i=V8e(a,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ir("recharts-rectangle",p);return y?Ae.createElement(k0,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:v,isActive:y},function(S){var _=S.width,N=S.height,j=S.x,A=S.y;return Ae.createElement(k0,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:g,easing:v},Ae.createElement("path",bb({},Or(r,!0),{className:b,d:GL(j,A,_,N,h),ref:n})))}):Ae.createElement("path",bb({},Or(r,!0),{className:b,d:GL(c,u,d,f,h)}))};function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fA.apply(this,arguments)}var C3=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ir("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ae.createElement("circle",fA({},Or(t,!1),$2(t),{className:o,cx:r,cy:n,r:a})):null};function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}var Z8e=["x","y","top","left","width","height","className"];function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hA.apply(this,arguments)}function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(n){tFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tFe(e,t,r){return t=rFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rFe(e){var t=nFe(e,"string");return Av(t)=="symbol"?t:t+""}function nFe(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aFe(e,t){if(e==null)return{};var r=iFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sFe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},oFe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,m=aFe(t,Z8e),x=eFe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!Tt(n)||!Tt(i)||!Tt(f)||!Tt(p)||!Tt(l)||!Tt(u)?null:Ae.createElement("path",hA({},Or(x,!0),{className:Ir("recharts-cross",v),d:sFe(n,i,f,p,l,u)}))},lFe=oW,cFe=lFe(Object.getPrototypeOf,Object),uFe=cFe,dFe=Cc,fFe=uFe,hFe=Ec,pFe="[object Object]",mFe=Function.prototype,gFe=Object.prototype,qq=mFe.toString,vFe=gFe.hasOwnProperty,xFe=qq.call(Object);function yFe(e){if(!hFe(e)||dFe(e)!=pFe)return!1;var t=fFe(e);if(t===null)return!0;var r=vFe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&qq.call(r)==xFe}var bFe=yFe;const wFe=Vr(bFe);var _Fe=Cc,jFe=Ec,SFe="[object Boolean]";function NFe(e){return e===!0||e===!1||jFe(e)&&_Fe(e)==SFe}var AFe=NFe;const TFe=Vr(AFe);function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}function CFe(e,t){return OFe(e)||PFe(e,t)||kFe(e,t)||EFe()}function EFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kFe(e,t){if(e){if(typeof e=="string")return YL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YL(e,t)}}function YL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function OFe(e){if(Array.isArray(e))return e}function XL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(r),!0).forEach(function(n){FFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FFe(e,t,r){return t=DFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DFe(e){var t=LFe(e,"string");return Tv(t)=="symbol"?t:t+""}function LFe(e,t){if(Tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QL=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},IFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MFe=function(t){var r=JL(JL({},IFe),t),n=O.useRef(),a=O.useState(-1),i=CFe(a,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ir("recharts-trapezoid",p);return g?Ae.createElement(k0,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:v,isActive:g},function(b){var S=b.upperWidth,_=b.lowerWidth,N=b.height,j=b.x,A=b.y;return Ae.createElement(k0,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:v},Ae.createElement("path",wb({},Or(r,!0),{className:y,d:QL(j,A,S,_,N),ref:n})))}):Ae.createElement("g",null,Ae.createElement("path",wb({},Or(r,!0),{className:y,d:QL(c,u,d,f,h)})))},RFe=["option","shapeType","propTransformer","activeClassName","isActive"];function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function $Fe(e,t){if(e==null)return{};var r=BFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(r),!0).forEach(function(n){UFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UFe(e,t,r){return t=zFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zFe(e){var t=VFe(e,"string");return Cv(t)=="symbol"?t:t+""}function VFe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HFe(e,t){return _b(_b({},t),e)}function WFe(e,t){return e==="symbols"}function eI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ae.createElement(T3,r);case"trapezoid":return Ae.createElement(MFe,r);case"sector":return Ae.createElement(Mq,r);case"symbols":if(WFe(t))return Ae.createElement(qE,r);break;default:return null}}function qFe(e){return O.isValidElement(e)?e.props:e}function GFe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?HFe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=$Fe(e,RFe),u;if(O.isValidElement(t))u=O.cloneElement(t,_b(_b({},c),qFe(t)));else if(br(t))u=t(c);else if(wFe(t)&&!TFe(t)){var d=a(t,c);u=Ae.createElement(eI,{shapeType:r,elementProps:d})}else{var f=c;u=Ae.createElement(eI,{shapeType:r,elementProps:f})}return l?Ae.createElement(na,{className:o},u):u}function h_(e,t){return t!=null&&"trapezoids"in e.props}function p_(e,t){return t!=null&&"sectors"in e.props}function Ev(e,t){return t!=null&&"points"in e.props}function KFe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function YFe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function XFe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function JFe(e,t){var r;return h_(e,t)?r=KFe:p_(e,t)?r=YFe:Ev(e,t)&&(r=XFe),r}function QFe(e,t){var r;return h_(e,t)?r="trapezoids":p_(e,t)?r="sectors":Ev(e,t)&&(r="points"),r}function ZFe(e,t){if(h_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(p_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ev(e,t)?t.payload:{}}function eDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=QFe(r,t),i=ZFe(r,t),o=n.filter(function(c,u){var d=c_(i,c),f=r.props[a].filter(function(v){var m=JFe(r,t);return m(v,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var tDe=Math.ceil,rDe=Math.max;function nDe(e,t,r,n){for(var a=-1,i=rDe(tDe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var aDe=nDe,iDe=AW,tI=1/0,sDe=17976931348623157e292;function oDe(e){if(!e)return e===0?e:0;if(e=iDe(e),e===tI||e===-tI){var t=e<0?-1:1;return t*sDe}return e===e?e:0}var Gq=oDe,lDe=aDe,cDe=e_,qj=Gq;function uDe(e){return function(t,r,n){return n&&typeof n!="number"&&cDe(t,r,n)&&(r=n=void 0),t=qj(t),r===void 0?(r=t,t=0):r=qj(r),n=n===void 0?t<r?1:-1:qj(n),lDe(t,r,n,e)}}var dDe=uDe,fDe=dDe,hDe=fDe(),pDe=hDe;const jb=Vr(pDe);function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){Kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kq(e,t,r){return t=mDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mDe(e){var t=gDe(e,"string");return kv(t)=="symbol"?t:t+""}function gDe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vDe=["Webkit","Moz","O","ms"],xDe=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=vDe.reduce(function(i,o){return nI(nI({},i),{},Kq({},o+n,r))},{});return a[t]=r,a};function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sb.apply(this,arguments)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xq(n.key),n)}}function bDe(e,t,r){return t&&iI(e.prototype,t),r&&iI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wDe(e,t,r){return t=Nb(t),_De(e,Yq()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function _De(e,t){if(t&&(P0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jDe(e)}function jDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yq=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function SDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pA(e,t)}function pA(e,t){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pA(e,t)}function hs(e,t,r){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=NDe(e,"string");return P0(t)=="symbol"?t:t+""}function NDe(e,t){if(P0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ADe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ug().domain(jb(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},sI=function(t){return t.changedTouches&&!!t.changedTouches.length},O0=function(e){function t(r){var n;return yDe(this,t),n=wDe(this,t,[r]),hs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),hs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),hs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),hs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hs(n,"handleSlideDragStart",function(a){var i=sI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return SDe(t,e),bDe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Ps(i[n],l,n);return br(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var x=this.getIndex({startX:o+m,endX:l+m});(x.startIndex!==h||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=sI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,x=d.data,g={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),g[o]=u+y;var b=this.getIndex(g),S=b.startIndex,_=b.endIndex,N=function(){var A=x.length-1;return o==="startX"&&(l>c?S%m===0:_%m===0)||l<c&&_===A||o==="endX"&&(l>c?_%m===0:S%m===0)||l>c&&_===A};this.setState(hs(hs({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&N()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(hs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Ae.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=O.Children.only(u);return f?Ae.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,m=c.startIndex,x=c.endIndex,g=Math.max(n,this.props.x),y=Gj(Gj({},Or(this.props,!1)),{},{x:g,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=v[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return Ae.createElement(na,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return Ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return Ae.createElement(na,{className:"recharts-brush-texts"},Ae.createElement(eb,Sb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},v),this.getTextOfTick(a)),Ae.createElement(eb,Sb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,x=h.isSlideMoving,g=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Tt(l)||!Tt(c)||!Tt(u)||!Tt(d)||u<=0||d<=0)return null;var b=Ir("recharts-brush",i),S=Ae.Children.count(o)===1,_=xDe("userSelect","none");return Ae.createElement(na,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||x||g||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return Ae.createElement(Ae.Fragment,null,Ae.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Ae.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),Ae.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ae.isValidElement(n)?i=Ae.cloneElement(n,a):br(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Gj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?ADe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(O.PureComponent);hs(O0,"displayName","Brush");hs(O0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var TDe=ZE;function CDe(e,t){var r;return TDe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var EDe=CDe,kDe=ZH,PDe=Ju,ODe=EDe,FDe=as,DDe=e_;function LDe(e,t,r){var n=FDe(e)?kDe:ODe;return r&&DDe(e,t,r)&&(t=void 0),n(e,PDe(t))}var IDe=LDe;const MDe=Vr(IDe);var _l=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},oI=wW;function RDe(e,t,r){t=="__proto__"&&oI?oI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var $De=RDe,BDe=$De,UDe=yW,zDe=Ju;function VDe(e,t){var r={};return t=zDe(t),UDe(e,function(n,a,i){BDe(r,a,t(n,a,i))}),r}var HDe=VDe;const WDe=Vr(HDe);function qDe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var GDe=qDe,KDe=ZE;function YDe(e,t){var r=!0;return KDe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var XDe=YDe,JDe=GDe,QDe=XDe,ZDe=Ju,eLe=as,tLe=e_;function rLe(e,t,r){var n=eLe(e)?JDe:QDe;return r&&tLe(e,t,r)&&(t=void 0),n(e,ZDe(t))}var nLe=rLe;const Jq=Vr(nLe);var aLe=["x","y"];function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function mA(){return mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mA.apply(this,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){iLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iLe(e,t,r){return t=sLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sLe(e){var t=oLe(e,"string");return Pv(t)=="symbol"?t:t+""}function oLe(e,t){if(Pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lLe(e,t){if(e==null)return{};var r=cLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uLe(e,t){var r=e.x,n=e.y,a=lLe(e,aLe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return gm(gm(gm(gm(gm({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function cI(e){return Ae.createElement(GFe,mA({shapeType:"rectangle",propTransformer:uLe,activeClassName:"recharts-active-bar"},e))}var dLe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||df(!1),r)}},fLe=["value","background"],Qq;function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function hLe(e,t){if(e==null)return{};var r=pLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eG(n.key),n)}}function gLe(e,t,r){return t&&dI(e.prototype,t),r&&dI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vLe(e,t,r){return t=Tb(t),xLe(e,Zq()?Reflect.construct(t,r||[],Tb(e).constructor):t.apply(e,r))}function xLe(e,t){if(t&&(F0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yLe(e)}function yLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zq=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}function bLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gA(e,t)}function gA(e,t){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gA(e,t)}function gu(e,t,r){return t=eG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=wLe(e,"string");return F0(t)=="symbol"?t:t+""}function wLe(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gx=function(e){function t(){var r;mLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=vLe(this,t,[].concat(a)),gu(r,"state",{isAnimationFinished:!1}),gu(r,"id",cx("recharts-bar-")),gu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),gu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return bLe(t,e),gLe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Or(this.props,!1);return n&&n.map(function(f,h){var p=h===c,v=p?u:o,m=da(da(da({},d),f),{},{isActive:p,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ae.createElement(na,Ab({className:"recharts-bar-rectangle"},B2(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),Ae.createElement(cI,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return Ae.createElement(k0,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=i.map(function(x,g){var y=h&&h[g];if(y){var b=Do(y.x,x.x),S=Do(y.y,x.y),_=Do(y.width,x.width),N=Do(y.height,x.height);return da(da({},x),{},{x:b(v),y:S(v),width:_(v),height:N(v)})}if(o==="horizontal"){var j=Do(0,x.height),A=j(v);return da(da({},x),{},{y:x.y+x.height-A,height:A})}var P=Do(0,x.width),H=P(v);return da(da({},x),{},{width:H})});return Ae.createElement(na,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!c_(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Or(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=hLe(u,fLe);if(!f)return null;var p=da(da(da(da(da({},h),{},{fill:"#eee"},f),c),B2(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return Ae.createElement(cI,Ab({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=no(d,mx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,g){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Ps(x,g)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ae.createElement(na,v,f.map(function(m){return Ae.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,g=Ir("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=y||b,_=Tr(m)?this.id:m;return Ae.createElement(na,{className:g},y||b?Ae.createElement("defs",null,Ae.createElement("clipPath",{id:"clipPath-".concat(_)},Ae.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,Ae.createElement(na,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,_),(!p||x)&&Eu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);Qq=gx;gu(gx,"displayName","Bar");gu(gx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gu(gx,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=hOe(n,r);if(!p)return null;var v=t.layout,m=r.type.defaultProps,x=m!==void 0?da(da({},m),r.props):r.props,g=x.dataKey,y=x.children,b=x.minPointSize,S=v==="horizontal"?o:i,_=u?S.scale.domain():null,N=wOe({numericAxis:S}),j=no(y,CW),A=f.map(function(P,H){var C,k,U,D,M,B;u?C=pOe(u[d+H],_):(C=Ps(P,g),Array.isArray(C)||(C=[N,C]));var I=dLe(b,Qq.defaultProps.minPointSize)(C[1],H);if(v==="horizontal"){var q,F=[o.scale(C[0]),o.scale(C[1])],z=F[0],J=F[1];k=cL({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:H}),U=(q=J??z)!==null&&q!==void 0?q:void 0,D=p.size;var E=z-J;if(M=Number.isNaN(E)?0:E,B={x:k,y:o.y,width:D,height:o.height},Math.abs(I)>0&&Math.abs(M)<Math.abs(I)){var V=Bo(M||I)*(Math.abs(I)-Math.abs(M));U-=V,M+=V}}else{var K=[i.scale(C[0]),i.scale(C[1])],W=K[0],Y=K[1];if(k=W,U=cL({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:H}),D=Y-W,M=p.size,B={x:i.x,y:U,width:i.width,height:M},Math.abs(I)>0&&Math.abs(D)<Math.abs(I)){var ee=Bo(D||I)*(Math.abs(I)-Math.abs(D));D+=ee}}return da(da(da({},P),{},{x:k,y:U,width:D,height:M,value:u?C:C[1],payload:P,background:B},j&&j[H]&&j[H].props),{},{tooltipPayload:[Dq(r,P)],tooltipPosition:{x:k+D/2,y:U+M/2}})});return da({data:A,layout:v},h)});function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function _Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tG(n.key),n)}}function jLe(e,t,r){return t&&fI(e.prototype,t),r&&fI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){m_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m_(e,t,r){return t=tG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=SLe(e,"string");return Ov(t)=="symbol"?t:t+""}function SLe(e,t){if(Ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NLe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ms(u,gx);return d.reduce(function(p,v){var m=r[v],x=m.orientation,g=m.domain,y=m.padding,b=y===void 0?{}:y,S=m.mirror,_=m.reversed,N="".concat(x).concat(S?"Mirror":""),j,A,P,H,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=g[1]-g[0],U=1/0,D=m.categoricalDomain.sort();if(D.forEach(function(K,W){W>0&&(U=Math.min((K||0)-(D[W-1]||0),U))}),Number.isFinite(U)){var M=U/k,B=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(j=M*B/2),m.padding==="no-gap"){var I=cf(t.barCategoryGap,M*B),q=M*B/2;j=q-I-(q-I)/B*I}}}a==="xAxis"?A=[n.left+(b.left||0)+(j||0),n.left+n.width-(b.right||0)-(j||0)]:a==="yAxis"?A=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(j||0),n.top+n.height-(b.bottom||0)-(j||0)]:A=m.range,_&&(A=[A[1],A[0]]);var F=dOe(m,i,h),z=F.scale,J=F.realScaleType;z.domain(g).range(A),fOe(z);var E=bOe(z,Po(Po({},m),{},{realScaleType:J}));a==="xAxis"?(C=x==="top"&&!S||x==="bottom"&&S,P=n.left,H=f[N]-C*m.height):a==="yAxis"&&(C=x==="left"&&!S||x==="right"&&S,P=f[N]-C*m.width,H=n.top);var V=Po(Po(Po({},m),E),{},{realScaleType:J,x:P,y:H,scale:z,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return V.bandSize=pb(V,E),!m.hide&&a==="xAxis"?f[N]+=(C?-1:1)*V.height:m.hide||(f[N]+=(C?-1:1)*V.width),Po(Po({},p),{},m_({},v,V))},{})},rG=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},ALe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return rG({x:r,y:n},{x:a,y:i})},nG=function(){function e(t){_Le(this,e),this.scale=t}return jLe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();m_(nG,"EPS",1e-4);var E3=function(t){var r=Object.keys(t).reduce(function(n,a){return Po(Po({},n),{},m_({},a,nG.create(t[a])))},{});return Po(Po({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return WDe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Jq(a,function(i,o){return r[o].isInRange(i)})}})};function TLe(e){return(e%180+180)%180}var CLe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=TLe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ELe=Ju,kLe=ux,PLe=Qw;function OLe(e){return function(t,r,n){var a=Object(t);if(!kLe(t)){var i=ELe(r);t=PLe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var FLe=OLe,DLe=Gq;function LLe(e){var t=DLe(e),r=t%1;return t===t?r?t-r:t:0}var ILe=LLe,MLe=hW,RLe=Ju,$Le=ILe,BLe=Math.max;function ULe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:$Le(r);return a<0&&(a=BLe(n+a,0)),MLe(e,RLe(t),a)}var zLe=ULe,VLe=FLe,HLe=zLe,WLe=VLe(HLe),qLe=WLe;const GLe=Vr(qLe);var KLe=Qye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),k3=O.createContext(void 0),P3=O.createContext(void 0),aG=O.createContext(void 0),iG=O.createContext({}),sG=O.createContext(void 0),oG=O.createContext(0),lG=O.createContext(0),pI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=KLe(i);return Ae.createElement(k3.Provider,{value:n},Ae.createElement(P3.Provider,{value:a},Ae.createElement(iG.Provider,{value:i},Ae.createElement(aG.Provider,{value:d},Ae.createElement(sG.Provider,{value:o},Ae.createElement(oG.Provider,{value:u},Ae.createElement(lG.Provider,{value:c},l)))))))},YLe=function(){return O.useContext(sG)},cG=function(t){var r=O.useContext(k3);r==null&&df(!1);var n=r[t];return n==null&&df(!1),n},XLe=function(){var t=O.useContext(k3);return uu(t)},JLe=function(){var t=O.useContext(P3),r=GLe(t,function(n){return Jq(n.domain,Number.isFinite)});return r||uu(t)},uG=function(t){var r=O.useContext(P3);r==null&&df(!1);var n=r[t];return n==null&&df(!1),n},QLe=function(){var t=O.useContext(aG);return t},ZLe=function(){return O.useContext(iG)},O3=function(){return O.useContext(lG)},F3=function(){return O.useContext(oG)};function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function eIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fG(n.key),n)}}function tIe(e,t,r){return t&&mI(e.prototype,t),r&&mI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rIe(e,t,r){return t=Cb(t),nIe(e,dG()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function nIe(e,t){if(t&&(D0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aIe(e)}function aIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dG=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function iIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vA(e,t)}function vA(e,t){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vA(e,t)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){D3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D3(e,t,r){return t=fG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=sIe(e,"string");return D0(t)=="symbol"?t:t+""}function sIe(e,t){if(D0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oIe(e,t){return dIe(e)||uIe(e,t)||cIe(e,t)||lIe()}function lIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cIe(e,t){if(e){if(typeof e=="string")return xI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xI(e,t)}}function xI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dIe(e){if(Array.isArray(e))return e}function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xA.apply(this,arguments)}var fIe=function(t,r){var n;return Ae.isValidElement(t)?n=Ae.cloneElement(t,r):br(t)?n=t(r):n=Ae.createElement("line",xA({},r,{className:"recharts-reference-line-line"})),n},hIe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var v=u.y,m=t.y.apply(v,{position:o});if(_l(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?x.reverse():x}if(r){var g=u.x,y=t.x.apply(g,{position:o});if(_l(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?b.reverse():b}if(a){var S=u.segment,_=S.map(function(N){return t.apply(N,{position:o})});return _l(u,"discard")&&MDe(_,function(N){return!t.isInRange(N)})?null:_}return null};function pIe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=YLe(),d=cG(a),f=uG(i),h=QLe();if(!u||!h)return null;dc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=E3({x:d.scale,y:f.scale}),v=ja(t),m=ja(r),x=n&&n.length===2,g=hIe(p,v,m,x,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var y=oIe(g,2),b=y[0],S=b.x,_=b.y,N=y[1],j=N.x,A=N.y,P=_l(e,"hidden")?"url(#".concat(u,")"):void 0,H=vI(vI({clipPath:P},Or(e,!0)),{},{x1:S,y1:_,x2:j,y2:A});return Ae.createElement(na,{className:Ir("recharts-reference-line",l)},fIe(o,H),fi.renderCallByParent(e,ALe({x1:S,y1:_,x2:j,y2:A})))}var L3=function(e){function t(){return eIe(this,t),rIe(this,t,arguments)}return iIe(t,e),tIe(t,[{key:"render",value:function(){return Ae.createElement(pIe,this.props)}}])}(Ae.Component);D3(L3,"displayName","ReferenceLine");D3(L3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yA(){return yA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yA.apply(this,arguments)}function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){g_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pG(n.key),n)}}function gIe(e,t,r){return t&&wI(e.prototype,t),r&&wI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vIe(e,t,r){return t=Eb(t),xIe(e,hG()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function xIe(e,t){if(t&&(L0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yIe(e)}function yIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hG=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function bIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bA(e,t)}function bA(e,t){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bA(e,t)}function g_(e,t,r){return t=pG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=wIe(e,"string");return L0(t)=="symbol"?t:t+""}function wIe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ie=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=E3({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return _l(t,"discard")&&!o.isInRange(l)?null:l},v_=function(e){function t(){return mIe(this,t),vIe(this,t,arguments)}return bIe(t,e),gIe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ja(a),d=ja(i);if(dc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=_Ie(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,x=v.className,g=_l(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=bI(bI({clipPath:g},Or(this.props,!0)),{},{cx:h,cy:p});return Ae.createElement(na,{className:Ir("recharts-reference-dot",x)},t.renderDot(m,y),fi.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(Ae.Component);g_(v_,"displayName","ReferenceDot");g_(v_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});g_(v_,"renderDot",function(e,t){var r;return Ae.isValidElement(e)?r=Ae.cloneElement(e,t):br(e)?r=e(t):r=Ae.createElement(C3,yA({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function wA(){return wA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wA.apply(this,arguments)}function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function _I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(r),!0).forEach(function(n){x_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gG(n.key),n)}}function SIe(e,t,r){return t&&SI(e.prototype,t),r&&SI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NIe(e,t,r){return t=kb(t),AIe(e,mG()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function AIe(e,t){if(t&&(I0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TIe(e)}function TIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mG=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function CIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}function _A(e,t){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_A(e,t)}function x_(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=EIe(e,"string");return I0(t)=="symbol"?t:t+""}function EIe(e,t){if(I0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kIe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=E3({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return _l(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:rG(p,v)},y_=function(e){function t(){return jIe(this,t),NIe(this,t,arguments)}return CIe(t,e),SIe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;dc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ja(a),h=ja(i),p=ja(o),v=ja(l),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var x=kIe(f,h,p,v,this.props);if(!x&&!m)return null;var g=_l(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Ae.createElement(na,{className:Ir("recharts-reference-area",c)},t.renderRect(m,jI(jI({clipPath:g},Or(this.props,!0)),x)),fi.renderCallByParent(this.props,x))}}])}(Ae.Component);x_(y_,"displayName","ReferenceArea");x_(y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});x_(y_,"renderRect",function(e,t){var r;return Ae.isValidElement(e)?r=Ae.cloneElement(e,t):br(e)?r=e(t):r=Ae.createElement(T3,wA({},t,{className:"recharts-reference-area-rect"})),r});function vG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function PIe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return CLe(n,r)}function OIe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Pb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function FIe(e,t){return vG(e,t+1)}function DIe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:vG(n,u)};var m=c,x,g=function(){return x===void 0&&(x=r(v,m)),x},y=v.coordinate,b=c===0||Pb(e,y,g,d,l);b||(c=0,d=o,u+=1),b&&(d=y+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){LIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LIe(e,t,r){return t=IIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IIe(e){var t=MIe(e,"string");return Fv(t)=="symbol"?t:t+""}function MIe(e,t){if(Fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RIe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var x=e*(p.coordinate+e*m()/2-c);i[h]=p=ci(ci({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=ci(ci({},p),{},{tickCoord:p.coordinate});var g=Pb(e,p.tickCoord,m,l,c);g&&(c=p.tickCoord-e*(m()/2+a),i[h]=ci(ci({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function $Ie(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=ci(ci({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Pb(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=ci(ci({},d),{},{isShow:!0}))}for(var v=i?l-1:l,m=function(y){var b=o[y],S,_=function(){return S===void 0&&(S=r(b,y)),S};if(y===0){var N=e*(b.coordinate-e*_()/2-c);o[y]=b=ci(ci({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[y]=b=ci(ci({},b),{},{tickCoord:b.coordinate});var j=Pb(e,b.tickCoord,_,c,u);j&&(c=b.tickCoord+e*(_()/2+a),o[y]=ci(ci({},b),{},{isShow:!0}))},x=0;x<v;x++)m(x);return o}function I3(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Tt(c)||fc.isSsr)return FIe(a,typeof c=="number"&&Tt(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?cg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,S){var _=br(u)?u(b.value,S):b.value;return p==="width"?PIe(cg(_,{fontSize:t,letterSpacing:r}),v,f):cg(_,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?Bo(a[1].coordinate-a[0].coordinate):1,g=OIe(i,x,p);return c==="equidistantPreserveStart"?DIe(x,g,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=$Ie(x,g,m,a,o,c==="preserveStartEnd"):h=RIe(x,g,m,a,o),h.filter(function(y){return y.isShow}))}var BIe=["viewBox"],UIe=["viewBox"],zIe=["ticks"];function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){M3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kj(e,t){if(e==null)return{};var r=VIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yG(n.key),n)}}function WIe(e,t,r){return t&&TI(e.prototype,t),r&&TI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qIe(e,t,r){return t=Ob(t),GIe(e,xG()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function GIe(e,t){if(t&&(M0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KIe(e)}function KIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function YIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jA(e,t)}function jA(e,t){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jA(e,t)}function M3(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=XIe(e,"string");return M0(t)=="symbol"?t:t+""}function XIe(e,t){if(M0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gp=function(e){function t(r){var n;return HIe(this,t),n=qIe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return YIe(t,e),WIe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Kj(n,BIe),l=this.props,c=l.viewBox,u=Kj(l,UIe);return!Qh(i,c)||!Qh(o,u)||!Qh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,v,m,x,g,y,b=f?-1:1,S=n.tickSize||d,_=Tt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,x=o+ +!f*c,m=x-b*S,y=m-b*h,g=_;break;case"left":m=x=n.coordinate,v=i+ +!f*l,p=v-b*S,g=p-b*h,y=_;break;case"right":m=x=n.coordinate,v=i+ +f*l,p=v+b*S,g=p+b*h,y=_;break;default:p=v=n.coordinate,x=o+ +f*c,m=x+b*S,y=m+b*h,g=_;break}return{line:{x1:p,y1:m,x2:v,y2:x},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ti(Ti(Ti({},Or(this.props,!1)),Or(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ti(Ti({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Ti(Ti({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return Ae.createElement("line",Dh({},f,{className:Ir("recharts-cartesian-axis-line",ro(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=I3(Ti(Ti({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=Or(this.props,!1),g=Or(d,!1),y=Ti(Ti({},x),{},{fill:"none"},Or(c,!1)),b=p.map(function(S,_){var N=o.getTickLineCoord(S),j=N.line,A=N.tick,P=Ti(Ti(Ti(Ti({textAnchor:v,verticalAnchor:m},x),{},{stroke:"none",fill:u},g),A),{},{index:_,payload:S,visibleTicksCount:p.length,tickFormatter:f});return Ae.createElement(na,Dh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},B2(o.props,S,_)),c&&Ae.createElement("line",Dh({},y,j,{className:Ir("recharts-cartesian-axis-tick-line",ro(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(br(f)?f(S.value,_):S.value).concat(h||"")))});return Ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Kj(f,zIe),v=h;return br(c)&&(v=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:Ae.createElement(na,{className:Ir("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),fi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ae.isValidElement(n)?o=Ae.cloneElement(n,a):br(n)?o=n(a):o=Ae.createElement(eb,Dh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);M3(gp,"displayName","CartesianAxis");M3(gp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var JIe=["x1","y1","x2","y2","key"],QIe=["offset"];function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){ZIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZIe(e,t,r){return t=eMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eMe(e){var t=tMe(e,"string");return ff(t)=="symbol"?t:t+""}function tMe(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(this,arguments)}function EI(e,t){if(e==null)return{};var r=rMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nMe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return Ae.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bG(e,t){var r;if(Ae.isValidElement(e))r=Ae.cloneElement(e,t);else if(br(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=EI(t,JIe),u=Or(c,!1);u.offset;var d=EI(u,QIe);r=Ae.createElement("line",Ld({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function aMe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hi(hi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return bG(a,u)});return Ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function iMe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hi(hi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return bG(a,u)});return Ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function sMe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?a+o-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return Ae.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function oMe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?i+l-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return Ae.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var lMe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Oq(I3(hi(hi(hi({},gp.defaultProps),n),{},{ticks:nc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},cMe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Oq(I3(hi(hi(hi({},gp.defaultProps),n),{},{ticks:nc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},oh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function wG(e){var t,r,n,a,i,o,l=O3(),c=F3(),u=ZLe(),d=hi(hi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:oh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:oh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:oh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:oh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:oh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:oh.verticalFill,x:Tt(e.x)?e.x:u.left,y:Tt(e.y)?e.y:u.top,width:Tt(e.width)?e.width:u.width,height:Tt(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,m=d.syncWithTicks,x=d.horizontalValues,g=d.verticalValues,y=XLe(),b=JLe();if(!Tt(p)||p<=0||!Tt(v)||v<=0||!Tt(f)||f!==+f||!Tt(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||lMe,_=d.horizontalCoordinatesGenerator||cMe,N=d.horizontalPoints,j=d.verticalPoints;if((!N||!N.length)&&br(_)){var A=x&&x.length,P=_({yAxis:b?hi(hi({},b),{},{ticks:A?x:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:m);dc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ff(P),"]")),Array.isArray(P)&&(N=P)}if((!j||!j.length)&&br(S)){var H=g&&g.length,C=S({xAxis:y?hi(hi({},y),{},{ticks:H?g:y.ticks}):void 0,width:l,height:c,offset:u},H?!0:m);dc(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ff(C),"]")),Array.isArray(C)&&(j=C)}return Ae.createElement("g",{className:"recharts-cartesian-grid"},Ae.createElement(nMe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Ae.createElement(aMe,Ld({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:b})),Ae.createElement(iMe,Ld({},d,{offset:u,verticalPoints:j,xAxis:y,yAxis:b})),Ae.createElement(sMe,Ld({},d,{horizontalPoints:N})),Ae.createElement(oMe,Ld({},d,{verticalPoints:j})))}wG.displayName="CartesianGrid";var uMe=["type","layout","connectNulls","ref"],dMe=["key"];function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function kI(e,t){if(e==null)return{};var r=fMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){Oo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lh(e){return gMe(e)||mMe(e)||pMe(e)||hMe()}function hMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(e,t){if(e){if(typeof e=="string")return SA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SA(e,t)}}function mMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gMe(e){if(Array.isArray(e))return SA(e)}function SA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jG(n.key),n)}}function xMe(e,t,r){return t&&OI(e.prototype,t),r&&OI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yMe(e,t,r){return t=Fb(t),bMe(e,_G()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function bMe(e,t){if(t&&(R0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wMe(e)}function wMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function _Me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NA(e,t)}function NA(e,t){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NA(e,t)}function Oo(e,t,r){return t=jG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=jMe(e,"string");return R0(t)=="symbol"?t:t+""}function jMe(e,t){if(R0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx=function(e){function t(){var r;vMe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=yMe(this,t,[].concat(a)),Oo(r,"state",{isAnimationFinished:!0,totalLength:0}),Oo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Oo(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,y){return g+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],v=0,m=0;v<c.length;m+=c[v],++v)if(m+c[v]>f){p=[].concat(lh(c.slice(0,v)),[f-m]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(lh(t.repeat(c,d)),lh(p),x).map(function(g){return"".concat(g,"px")}).join(", ")}),Oo(r,"id",cx("recharts-line-")),Oo(r,"pathRef",function(o){r.mainCurve=o}),Oo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Oo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _Me(t,e),xMe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=no(d,mx);if(!f)return null;var h=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:Ps(m.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ae.createElement(na,p,f.map(function(v){return Ae.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Or(this.props,!1),h=Or(c,!0),p=u.map(function(m,x){var g=ds(ds(ds({key:"dot-".concat(x),r:3},f),h),{},{value:m.value,dataKey:d,cx:m.x,cy:m.y,index:x,payload:m.payload});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ae.createElement(na,hg({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=kI(l,uMe),h=ds(ds(ds({},Or(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return Ae.createElement(rA,hg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,m=o.width,x=o.height,g=this.state,y=g.prevPoints,b=g.totalLength;return Ae.createElement(k0,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var _=S.t;if(y){var N=y.length/l.length,j=l.map(function(k,U){var D=Math.floor(U*N);if(y[D]){var M=y[D],B=Do(M.x,k.x),I=Do(M.y,k.y);return ds(ds({},k),{},{x:B(_),y:I(_)})}if(v){var q=Do(m*2,k.x),F=Do(x/2,k.y);return ds(ds({},k),{},{x:q(_),y:F(_)})}return ds(ds({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(j,n,a)}var A=Do(0,b),P=A(_),H;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});H=i.getStrokeDasharray(P,b,C)}else H=i.generateSimpleStrokeDasharray(b,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:H})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!c_(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,v=a.height,m=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,y=l.length===1,b=Ir("recharts-line",c),S=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,N=S||_,j=Tr(x)?this.id:x,A=(n=Or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=A.r,H=P===void 0?3:P,C=A.strokeWidth,k=C===void 0?2:C,U=abe(o)?o:{},D=U.clipDot,M=D===void 0?!0:D,B=H*2+k;return Ae.createElement(na,{className:b},S||_?Ae.createElement("defs",null,Ae.createElement("clipPath",{id:"clipPath-".concat(j)},Ae.createElement("rect",{x:S?h:h-p/2,y:_?f:f-v/2,width:S?p:p*2,height:_?v:v*2})),!M&&Ae.createElement("clipPath",{id:"clipPath-dots-".concat(j)},Ae.createElement("rect",{x:h-B/2,y:f-B/2,width:p+B,height:v+B}))):null,!y&&this.renderCurve(N,j),this.renderErrorBar(N,j),(y||o)&&this.renderDots(N,M,j),(!m||g)&&Eu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(lh(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(lh(o),lh(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Ae.isValidElement(n))i=Ae.cloneElement(n,a);else if(br(n))i=n(a);else{var o=a.key,l=kI(a,dMe),c=Ir("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ae.createElement(C3,hg({key:o},l,{className:c}))}return i}}])}(O.PureComponent);Oo(vx,"displayName","Line");Oo(vx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Oo(vx,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var v=Ps(h,o);return d==="horizontal"?{x:lL({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Tr(v)?null:n.scale(v),value:v,payload:h}:{x:Tr(v)?null:r.scale(v),y:lL({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:v,payload:h}});return ds({points:f,layout:d},u)});function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function SMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AG(n.key),n)}}function NMe(e,t,r){return t&&FI(e.prototype,t),r&&FI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AMe(e,t,r){return t=Db(t),TMe(e,SG()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function TMe(e,t){if(t&&($0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CMe(e)}function CMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SG=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function EMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AA(e,t)}function AA(e,t){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AA(e,t)}function NG(e,t,r){return t=AG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=kMe(e,"string");return $0(t)=="symbol"?t:t+""}function kMe(e,t){if($0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TA.apply(this,arguments)}function PMe(e){var t=e.xAxisId,r=O3(),n=F3(),a=cG(t);return a==null?null:Ae.createElement(gp,TA({},a,{className:Ir("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return nc(o,!0)}}))}var b_=function(e){function t(){return SMe(this,t),AMe(this,t,arguments)}return EMe(t,e),NMe(t,[{key:"render",value:function(){return Ae.createElement(PMe,this.props)}}])}(Ae.Component);NG(b_,"displayName","XAxis");NG(b_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function OMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EG(n.key),n)}}function FMe(e,t,r){return t&&DI(e.prototype,t),r&&DI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DMe(e,t,r){return t=Lb(t),LMe(e,TG()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function LMe(e,t){if(t&&(B0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IMe(e)}function IMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function MMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CA(e,t)}function CA(e,t){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CA(e,t)}function CG(e,t,r){return t=EG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=RMe(e,"string");return B0(t)=="symbol"?t:t+""}function RMe(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EA(){return EA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EA.apply(this,arguments)}var $Me=function(t){var r=t.yAxisId,n=O3(),a=F3(),i=uG(r);return i==null?null:Ae.createElement(gp,EA({},i,{className:Ir("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return nc(l,!0)}}))},w_=function(e){function t(){return OMe(this,t),DMe(this,t,arguments)}return MMe(t,e),FMe(t,[{key:"render",value:function(){return Ae.createElement($Me,this.props)}}])}(Ae.Component);CG(w_,"displayName","YAxis");CG(w_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LI(e){return VMe(e)||zMe(e)||UMe(e)||BMe()}function BMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UMe(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function zMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VMe(e){if(Array.isArray(e))return kA(e)}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PA=function(t,r,n,a,i){var o=no(t,L3),l=no(t,v_),c=[].concat(LI(o),LI(l)),u=no(t,y_),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,x){if(x.props[d]===n&&_l(x.props,"extendDomain")&&Tt(x.props[f])){var g=x.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&_l(x.props,"extendDomain")&&Tt(x.props[p])&&Tt(x.props[v])){var g=x.props[p],y=x.props[v];return[Math.min(m[0],g,y),Math.max(m[1],g,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,x){return Tt(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},kG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,v){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],g=arguments.length,y,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,v),!0}for(b=1,y=new Array(g-1);b<g;b++)y[b-1]=arguments[b];x.fn.apply(x.context,y)}else{var S=x.length,_;for(b=0;b<S;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),g){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!y)for(_=1,y=new Array(g-1);_<g;_++)y[_-1]=arguments[_];x[b].fn.apply(x[b].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var m=0,x=[],g=v.length;m<g;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&x.push(v[m]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(kG);var HMe=kG.exports;const WMe=Vr(HMe);var Yj=new WMe,Xj="recharts.syncMouseEvents";function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function qMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function II(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PG(n.key),n)}}function GMe(e,t,r){return t&&II(e.prototype,t),r&&II(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jj(e,t,r){return t=PG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=KMe(e,"string");return Dv(t)=="symbol"?t:t+""}function KMe(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YMe=function(){function e(){qMe(this,e),Jj(this,"activeIndex",0),Jj(this,"coordinateList",[]),Jj(this,"layout","horizontal")}return GMe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function XMe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Tt(n)&&Tt(a))return!0}return!1}function JMe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function OG(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Ga(t,r,n,a),l=Ga(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function QMe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ga(l,c,u,f),p=Ga(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return OG(t);return[{x:n,y:a},{x:i,y:o}]}function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){ZMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZMe(e,t,r){return t=eRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eRe(e){var t=tRe(e,"string");return Lv(t)=="symbol"?t:t+""}function tRe(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rRe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,m=rA;if(h==="ScatterChart")v=o,m=oFe;else if(h==="BarChart")v=JMe(f,o,c,d),m=T3;else if(f==="radial"){var x=OG(o),g=x.cx,y=x.cy,b=x.radius,S=x.startAngle,_=x.endAngle;v={cx:g,cy:y,startAngle:S,endAngle:_,innerRadius:b,outerRadius:b},m=Mq}else v={points:QMe(f,o,c)},m=rA;var N=oy(oy(oy(oy({stroke:"#ccc",pointerEvents:"none"},c),v),Or(p,!1)),{},{payload:l,payloadIndex:u,className:Ir("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,N):O.createElement(m,N)}var nRe=["item"],aRe=["children","className","width","height","style","compact","title","desc"];function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lh.apply(this,arguments)}function RI(e,t){return oRe(e)||sRe(e,t)||DG(e,t)||iRe()}function iRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oRe(e){if(Array.isArray(e))return e}function $I(e,t){if(e==null)return{};var r=lRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LG(n.key),n)}}function uRe(e,t,r){return t&&BI(e.prototype,t),r&&BI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dRe(e,t,r){return t=Ib(t),fRe(e,FG()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function fRe(e,t){if(t&&(U0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hRe(e)}function hRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FG=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function pRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OA(e,t)}function OA(e,t){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OA(e,t)}function z0(e){return vRe(e)||gRe(e)||DG(e)||mRe()}function mRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DG(e,t){if(e){if(typeof e=="string")return FA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(e,t)}}function gRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vRe(e){if(Array.isArray(e))return FA(e)}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){Kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kt(e,t,r){return t=LG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=xRe(e,"string");return U0(t)=="symbol"?t:t+""}function xRe(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yRe={xAxis:["bottom","top"],yAxis:["left","right"]},bRe={width:"100%",height:"100%"},IG={x:0,y:0};function ly(e){return e}var wRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},_Re=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return tt(tt(tt({},a),Ga(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return tt(tt(tt({},a),Ga(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return IG},__=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(z0(l),z0(u)):l},[]);return o.length>0?o:t&&t.length&&Tt(a)&&Tt(i)?t.slice(a,i+1):[]};function MG(e){return e==="number"?[0,"auto"]:void 0}var DA=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=__(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=R2(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(z0(c),[Dq(u,h)]):c},[])},zI=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=wRe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=iOe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=DA(t,r,d,f),p=_Re(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},jRe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=Pq(d,i);return n.reduce(function(v,m){var x,g=m.type.defaultProps!==void 0?tt(tt({},m.type.defaultProps),m.props):m.props,y=g.type,b=g.dataKey,S=g.allowDataOverflow,_=g.allowDuplicatedCategory,N=g.scale,j=g.ticks,A=g.includeHidden,P=g[o];if(v[P])return v;var H=__(t.data,{graphicalItems:a.filter(function(E){var V,K=o in E.props?E.props[o]:(V=E.type.defaultProps)===null||V===void 0?void 0:V[o];return K===P}),dataStartIndex:c,dataEndIndex:u}),C=H.length,k,U,D;XMe(g.domain,S,y)&&(k=J4(g.domain,null,S),p&&(y==="number"||N!=="auto")&&(D=dg(H,b,"category")));var M=MG(y);if(!k||k.length===0){var B,I=(B=g.domain)!==null&&B!==void 0?B:M;if(b){if(k=dg(H,b,y),y==="category"&&p){var q=Y2e(k);_&&q?(U=k,k=jb(0,C)):_||(k=fL(I,k,m).reduce(function(E,V){return E.indexOf(V)>=0?E:[].concat(z0(E),[V])},[]))}else if(y==="category")_?k=k.filter(function(E){return E!==""&&!Tr(E)}):k=fL(I,k,m).reduce(function(E,V){return E.indexOf(V)>=0||V===""||Tr(V)?E:[].concat(z0(E),[V])},[]);else if(y==="number"){var F=uOe(H,a.filter(function(E){var V,K,W=o in E.props?E.props[o]:(V=E.type.defaultProps)===null||V===void 0?void 0:V[o],Y="hide"in E.props?E.props.hide:(K=E.type.defaultProps)===null||K===void 0?void 0:K.hide;return W===P&&(A||!Y)}),b,i,d);F&&(k=F)}p&&(y==="number"||N!=="auto")&&(D=dg(H,b,"category"))}else p?k=jb(0,C):l&&l[P]&&l[P].hasStack&&y==="number"?k=h==="expand"?[0,1]:Fq(l[P].stackGroups,c,u):k=kq(H,a.filter(function(E){var V=o in E.props?E.props[o]:E.type.defaultProps[o],K="hide"in E.props?E.props.hide:E.type.defaultProps.hide;return V===P&&(A||!K)}),y,d,!0);if(y==="number")k=PA(f,k,P,i,j),I&&(k=J4(I,k,S));else if(y==="category"&&I){var z=I,J=k.every(function(E){return z.indexOf(E)>=0});J&&(k=z)}}return tt(tt({},v),{},Kt({},P,tt(tt({},g),{},{axisType:i,domain:k,categoricalDomain:D,duplicateDomain:U,originalDomain:(x=g.domain)!==null&&x!==void 0?x:M,isCategorical:p,layout:d})))},{})},SRe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=__(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=Pq(d,i),m=-1;return n.reduce(function(x,g){var y=g.type.defaultProps!==void 0?tt(tt({},g.type.defaultProps),g.props):g.props,b=y[o],S=MG("number");if(!x[b]){m++;var _;return v?_=jb(0,p):l&&l[b]&&l[b].hasStack?(_=Fq(l[b].stackGroups,c,u),_=PA(f,_,b,i)):(_=J4(S,kq(h,n.filter(function(N){var j,A,P=o in N.props?N.props[o]:(j=N.type.defaultProps)===null||j===void 0?void 0:j[o],H="hide"in N.props?N.props.hide:(A=N.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===b&&!H}),"number",d),a.defaultProps.allowDataOverflow),_=PA(f,_,b,i)),tt(tt({},x),{},Kt({},b,tt(tt({axisType:i},a.defaultProps),{},{hide:!0,orientation:ro(yRe,"".concat(i,".").concat(m%2),null),domain:_,originalDomain:S,isCategorical:v,layout:d})))}return x},{})},NRe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=no(d,i),p={};return h&&h.length?p=jRe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=SRe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},ARe=function(t){var r=uu(t),n=nc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:e3(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:pb(r,n)}},VI=function(t){var r=t.children,n=t.defaultShowTooltip,a=ms(r,O0),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},TRe=function(t){return!t||!t.length?!1:t.some(function(r){var n=uc(r&&r.type);return n&&n.indexOf("Bar")>=0})},HI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},CRe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ms(f,O0),v=ms(f,Zh),m=Object.keys(c).reduce(function(_,N){var j=c[N],A=j.orientation;return!j.mirror&&!j.hide?tt(tt({},_),{},Kt({},A,_[A]+j.width)):_},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(_,N){var j=o[N],A=j.orientation;return!j.mirror&&!j.hide?tt(tt({},_),{},Kt({},A,ro(_,"".concat(A))+j.height)):_},{top:h.top||0,bottom:h.bottom||0}),g=tt(tt({},x),m),y=g.bottom;p&&(g.bottom+=p.props.height||O0.defaultProps.height),v&&r&&(g=lOe(g,a,n,r));var b=u-g.left-g.right,S=d-g.top-g.bottom;return tt(tt({brushBottom:y},g),{},{width:Math.max(b,0),height:Math.max(S,0)})},ERe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},kRe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,y){var b=y.graphicalItems,S=y.stackGroups,_=y.offset,N=y.updateId,j=y.dataStartIndex,A=y.dataEndIndex,P=g.barSize,H=g.layout,C=g.barGap,k=g.barCategoryGap,U=g.maxBarSize,D=HI(H),M=D.numericAxisName,B=D.cateAxisName,I=TRe(b),q=[];return b.forEach(function(F,z){var J=__(g.data,{graphicalItems:[F],dataStartIndex:j,dataEndIndex:A}),E=F.type.defaultProps!==void 0?tt(tt({},F.type.defaultProps),F.props):F.props,V=E.dataKey,K=E.maxBarSize,W=E["".concat(M,"Id")],Y=E["".concat(B,"Id")],ee={},oe=c.reduce(function(ge,de){var ze=y["".concat(de.axisType,"Map")],Ke=E["".concat(de.axisType,"Id")];ze&&ze[Ke]||de.axisType==="zAxis"||df(!1);var ft=ze[Ke];return tt(tt({},ge),{},Kt(Kt({},de.axisType,ft),"".concat(de.axisType,"Ticks"),nc(ft)))},ee),G=oe[B],se=oe["".concat(B,"Ticks")],he=S&&S[W]&&S[W].hasStack&&_Oe(F,S[W].stackGroups),Q=uc(F.type).indexOf("Bar")>=0,Pe=pb(G,se),De=[],je=I&&sOe({barSize:P,stackGroups:S,totalSize:ERe(oe,B)});if(Q){var Z,ke,Ge=Tr(K)?U:K,Le=(Z=(ke=pb(G,se,!0))!==null&&ke!==void 0?ke:Ge)!==null&&Z!==void 0?Z:0;De=oOe({barGap:C,barCategoryGap:k,bandSize:Le!==Pe?Le:Pe,sizeList:je[Y],maxBarSize:Ge}),Le!==Pe&&(De=De.map(function(ge){return tt(tt({},ge),{},{position:tt(tt({},ge.position),{},{offset:ge.position.offset-Le/2})})}))}var qe=F&&F.type&&F.type.getComposedData;qe&&q.push({props:tt(tt({},qe(tt(tt({},oe),{},{displayedData:J,props:g,dataKey:V,item:F,bandSize:Pe,barPosition:De,offset:_,stackedData:he,layout:H,dataStartIndex:j,dataEndIndex:A}))),{},Kt(Kt(Kt({key:F.key||"item-".concat(z)},M,oe[M]),B,oe[B]),"animationId",N)),childIndex:obe(F,g.children),item:F})}),q},p=function(g,y){var b=g.props,S=g.dataStartIndex,_=g.dataEndIndex,N=g.updateId;if(!tF({props:b}))return null;var j=b.children,A=b.layout,P=b.stackOffset,H=b.data,C=b.reverseStackOrder,k=HI(A),U=k.numericAxisName,D=k.cateAxisName,M=no(j,n),B=yOe(H,M,"".concat(U,"Id"),"".concat(D,"Id"),P,C),I=c.reduce(function(E,V){var K="".concat(V.axisType,"Map");return tt(tt({},E),{},Kt({},K,NRe(b,tt(tt({},V),{},{graphicalItems:M,stackGroups:V.axisType===U&&B,dataStartIndex:S,dataEndIndex:_}))))},{}),q=CRe(tt(tt({},I),{},{props:b,graphicalItems:M}),y==null?void 0:y.legendBBox);Object.keys(I).forEach(function(E){I[E]=d(b,I[E],q,E.replace("Map",""),r)});var F=I["".concat(D,"Map")],z=ARe(F),J=h(b,tt(tt({},I),{},{dataStartIndex:S,dataEndIndex:_,updateId:N,graphicalItems:M,stackGroups:B,offset:q}));return tt(tt({formattedGraphicalItems:J,graphicalItems:M,offset:q,stackGroups:B},z),I)},v=function(x){function g(y){var b,S,_;return cRe(this,g),_=dRe(this,g,[y]),Kt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Kt(_,"accessibilityManager",new YMe),Kt(_,"handleLegendBBoxUpdate",function(N){if(N){var j=_.state,A=j.dataStartIndex,P=j.dataEndIndex,H=j.updateId;_.setState(tt({legendBBox:N},p({props:_.props,dataStartIndex:A,dataEndIndex:P,updateId:H},tt(tt({},_.state),{},{legendBBox:N}))))}}),Kt(_,"handleReceiveSyncEvent",function(N,j,A){if(_.props.syncId===N){if(A===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(j)}}),Kt(_,"handleBrushChange",function(N){var j=N.startIndex,A=N.endIndex;if(j!==_.state.dataStartIndex||A!==_.state.dataEndIndex){var P=_.state.updateId;_.setState(function(){return tt({dataStartIndex:j,dataEndIndex:A},p({props:_.props,dataStartIndex:j,dataEndIndex:A,updateId:P},_.state))}),_.triggerSyncEvent({dataStartIndex:j,dataEndIndex:A})}}),Kt(_,"handleMouseEnter",function(N){var j=_.getMouseInfo(N);if(j){var A=tt(tt({},j),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var P=_.props.onMouseEnter;br(P)&&P(A,N)}}),Kt(_,"triggeredAfterMouseMove",function(N){var j=_.getMouseInfo(N),A=j?tt(tt({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var P=_.props.onMouseMove;br(P)&&P(A,N)}),Kt(_,"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Kt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Kt(_,"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),Kt(_,"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};_.setState(j),_.triggerSyncEvent(j);var A=_.props.onMouseLeave;br(A)&&A(j,N)}),Kt(_,"handleOuterEvent",function(N){var j=sbe(N),A=ro(_.props,"".concat(j));if(j&&br(A)){var P,H;/.*touch.*/i.test(j)?H=_.getMouseInfo(N.changedTouches[0]):H=_.getMouseInfo(N),A((P=H)!==null&&P!==void 0?P:{},N)}}),Kt(_,"handleClick",function(N){var j=_.getMouseInfo(N);if(j){var A=tt(tt({},j),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var P=_.props.onClick;br(P)&&P(A,N)}}),Kt(_,"handleMouseDown",function(N){var j=_.props.onMouseDown;if(br(j)){var A=_.getMouseInfo(N);j(A,N)}}),Kt(_,"handleMouseUp",function(N){var j=_.props.onMouseUp;if(br(j)){var A=_.getMouseInfo(N);j(A,N)}}),Kt(_,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Kt(_,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),Kt(_,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),Kt(_,"handleDoubleClick",function(N){var j=_.props.onDoubleClick;if(br(j)){var A=_.getMouseInfo(N);j(A,N)}}),Kt(_,"handleContextMenu",function(N){var j=_.props.onContextMenu;if(br(j)){var A=_.getMouseInfo(N);j(A,N)}}),Kt(_,"triggerSyncEvent",function(N){_.props.syncId!==void 0&&Yj.emit(Xj,_.props.syncId,N,_.eventEmitterSymbol)}),Kt(_,"applySyncEvent",function(N){var j=_.props,A=j.layout,P=j.syncMethod,H=_.state.updateId,C=N.dataStartIndex,k=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(tt({dataStartIndex:C,dataEndIndex:k},p({props:_.props,dataStartIndex:C,dataEndIndex:k,updateId:H},_.state)));else if(N.activeTooltipIndex!==void 0){var U=N.chartX,D=N.chartY,M=N.activeTooltipIndex,B=_.state,I=B.offset,q=B.tooltipTicks;if(!I)return;if(typeof P=="function")M=P(q,N);else if(P==="value"){M=-1;for(var F=0;F<q.length;F++)if(q[F].value===N.activeLabel){M=F;break}}var z=tt(tt({},I),{},{x:I.left,y:I.top}),J=Math.min(U,z.x+z.width),E=Math.min(D,z.y+z.height),V=q[M]&&q[M].value,K=DA(_.state,_.props.data,M),W=q[M]?{x:A==="horizontal"?q[M].coordinate:J,y:A==="horizontal"?E:q[M].coordinate}:IG;_.setState(tt(tt({},N),{},{activeLabel:V,activeCoordinate:W,activePayload:K,activeTooltipIndex:M}))}else _.setState(N)}),Kt(_,"renderCursor",function(N){var j,A=_.state,P=A.isTooltipActive,H=A.activeCoordinate,C=A.activePayload,k=A.offset,U=A.activeTooltipIndex,D=A.tooltipAxisBandSize,M=_.getTooltipEventType(),B=(j=N.props.active)!==null&&j!==void 0?j:P,I=_.props.layout,q=N.key||"_recharts-cursor";return Ae.createElement(rRe,{key:q,activeCoordinate:H,activePayload:C,activeTooltipIndex:U,chartName:r,element:N,isActive:B,layout:I,offset:k,tooltipAxisBandSize:D,tooltipEventType:M})}),Kt(_,"renderPolarAxis",function(N,j,A){var P=ro(N,"type.axisType"),H=ro(_.state,"".concat(P,"Map")),C=N.type.defaultProps,k=C!==void 0?tt(tt({},C),N.props):N.props,U=H&&H[k["".concat(P,"Id")]];return O.cloneElement(N,tt(tt({},U),{},{className:Ir(P,U.className),key:N.key||"".concat(j,"-").concat(A),ticks:nc(U,!0)}))}),Kt(_,"renderPolarGrid",function(N){var j=N.props,A=j.radialLines,P=j.polarAngles,H=j.polarRadius,C=_.state,k=C.radiusAxisMap,U=C.angleAxisMap,D=uu(k),M=uu(U),B=M.cx,I=M.cy,q=M.innerRadius,F=M.outerRadius;return O.cloneElement(N,{polarAngles:Array.isArray(P)?P:nc(M,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(H)?H:nc(D,!0).map(function(z){return z.coordinate}),cx:B,cy:I,innerRadius:q,outerRadius:F,key:N.key||"polar-grid",radialLines:A})}),Kt(_,"renderLegend",function(){var N=_.state.formattedGraphicalItems,j=_.props,A=j.children,P=j.width,H=j.height,C=_.props.margin||{},k=P-(C.left||0)-(C.right||0),U=Cq({children:A,formattedGraphicalItems:N,legendWidth:k,legendContent:u});if(!U)return null;var D=U.item,M=$I(U,nRe);return O.cloneElement(D,tt(tt({},M),{},{chartWidth:P,chartHeight:H,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Kt(_,"renderTooltip",function(){var N,j=_.props,A=j.children,P=j.accessibilityLayer,H=ms(A,dl);if(!H)return null;var C=_.state,k=C.isTooltipActive,U=C.activeCoordinate,D=C.activePayload,M=C.activeLabel,B=C.offset,I=(N=H.props.active)!==null&&N!==void 0?N:k;return O.cloneElement(H,{viewBox:tt(tt({},B),{},{x:B.left,y:B.top}),active:I,label:M,payload:I?D:[],coordinate:U,accessibilityLayer:P})}),Kt(_,"renderBrush",function(N){var j=_.props,A=j.margin,P=j.data,H=_.state,C=H.offset,k=H.dataStartIndex,U=H.dataEndIndex,D=H.updateId;return O.cloneElement(N,{key:N.key||"_recharts-brush",onChange:ny(_.handleBrushChange,N.props.onChange),data:P,x:Tt(N.props.x)?N.props.x:C.left,y:Tt(N.props.y)?N.props.y:C.top+C.height+C.brushBottom-(A.bottom||0),width:Tt(N.props.width)?N.props.width:C.width,startIndex:k,endIndex:U,updateId:"brush-".concat(D)})}),Kt(_,"renderReferenceElement",function(N,j,A){if(!N)return null;var P=_,H=P.clipPathId,C=_.state,k=C.xAxisMap,U=C.yAxisMap,D=C.offset,M=N.type.defaultProps||{},B=N.props,I=B.xAxisId,q=I===void 0?M.xAxisId:I,F=B.yAxisId,z=F===void 0?M.yAxisId:F;return O.cloneElement(N,{key:N.key||"".concat(j,"-").concat(A),xAxis:k[q],yAxis:U[z],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:H})}),Kt(_,"renderActivePoints",function(N){var j=N.item,A=N.activePoint,P=N.basePoint,H=N.childIndex,C=N.isRange,k=[],U=j.props.key,D=j.item.type.defaultProps!==void 0?tt(tt({},j.item.type.defaultProps),j.item.props):j.item.props,M=D.activeDot,B=D.dataKey,I=tt(tt({index:H,dataKey:B,cx:A.x,cy:A.y,r:4,fill:A3(j.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Or(M,!1)),$2(M));return k.push(g.renderActiveDot(M,I,"".concat(U,"-activePoint-").concat(H))),P?k.push(g.renderActiveDot(M,tt(tt({},I),{},{cx:P.x,cy:P.y}),"".concat(U,"-basePoint-").concat(H))):C&&k.push(null),k}),Kt(_,"renderGraphicChild",function(N,j,A){var P=_.filterFormatItem(N,j,A);if(!P)return null;var H=_.getTooltipEventType(),C=_.state,k=C.isTooltipActive,U=C.tooltipAxis,D=C.activeTooltipIndex,M=C.activeLabel,B=_.props.children,I=ms(B,dl),q=P.props,F=q.points,z=q.isRange,J=q.baseLine,E=P.item.type.defaultProps!==void 0?tt(tt({},P.item.type.defaultProps),P.item.props):P.item.props,V=E.activeDot,K=E.hide,W=E.activeBar,Y=E.activeShape,ee=!!(!K&&k&&I&&(V||W||Y)),oe={};H!=="axis"&&I&&I.props.trigger==="click"?oe={onClick:ny(_.handleItemMouseEnter,N.props.onClick)}:H!=="axis"&&(oe={onMouseLeave:ny(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:ny(_.handleItemMouseEnter,N.props.onMouseEnter)});var G=O.cloneElement(N,tt(tt({},P.props),oe));function se(de){return typeof U.dataKey=="function"?U.dataKey(de.payload):null}if(ee)if(D>=0){var he,Q;if(U.dataKey&&!U.allowDuplicatedCategory){var Pe=typeof U.dataKey=="function"?se:"payload.".concat(U.dataKey.toString());he=R2(F,Pe,M),Q=z&&J&&R2(J,Pe,M)}else he=F==null?void 0:F[D],Q=z&&J&&J[D];if(Y||W){var De=N.props.activeIndex!==void 0?N.props.activeIndex:D;return[O.cloneElement(N,tt(tt(tt({},P.props),oe),{},{activeIndex:De})),null,null]}if(!Tr(he))return[G].concat(z0(_.renderActivePoints({item:P,activePoint:he,basePoint:Q,childIndex:D,isRange:z})))}else{var je,Z=(je=_.getItemByXY(_.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:G},ke=Z.graphicalItem,Ge=ke.item,Le=Ge===void 0?N:Ge,qe=ke.childIndex,ge=tt(tt(tt({},P.props),oe),{},{activeIndex:qe});return[O.cloneElement(Le,ge),null,null]}return z?[G,null,null]:[G,null]}),Kt(_,"renderCustomized",function(N,j,A){return O.cloneElement(N,tt(tt({key:"recharts-customized-".concat(A)},_.props),_.state))}),Kt(_,"renderMap",{CartesianGrid:{handler:ly,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:ly},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:ly},YAxis:{handler:ly},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:cx("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=TW(_.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),_.state={},_}return pRe(g,x),uRe(g,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,_=b.data,N=b.height,j=b.layout,A=ms(S,dl);if(A){var P=A.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=DA(this.state,_,P,H),k=this.state.tooltipTicks[P].coordinate,U=(this.state.offset.top+N)/2,D=j==="horizontal",M=D?{x:k,y:U}:{y:k,x:U},B=this.state.formattedGraphicalItems.find(function(q){var F=q.item;return F.type.name==="Scatter"});B&&(M=tt(tt({},M),B.props.points[P].tooltipPosition),C=B.props.points[P].tooltipPayload);var I={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:H,activePayload:C,activeCoordinate:M};this.setState(I),this.renderCursor(A),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){f4([ms(b.children,dl)],[ms(this.props.children,dl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ms(this.props.children,dl);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,_=S.getBoundingClientRect(),N=PCe(_),j={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},A=_.width/S.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,A);if(!P)return null;var H=this.state,C=H.xAxisMap,k=H.yAxisMap,U=this.getTooltipEventType();if(U!=="axis"&&C&&k){var D=uu(C).scale,M=uu(k).scale,B=D&&D.invert?D.invert(j.chartX):null,I=M&&M.invert?M.invert(j.chartY):null;return tt(tt({},j),{},{xValue:B,yValue:I})}var q=zI(this.state,this.props.data,this.props.layout,P);return q?tt(tt({},j),q):null}},{key:"inRange",value:function(b,S){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,j=b/_,A=S/_;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,H=j>=P.left&&j<=P.left+P.width&&A>=P.top&&A<=P.top+P.height;return H?{x:j,y:A}:null}var C=this.state,k=C.angleAxisMap,U=C.radiusAxisMap;if(k&&U){var D=uu(k);return mL({x:j,y:A},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),_=ms(b,dl),N={};_&&S==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=$2(this.props,this.handleOuterEvent);return tt(tt({},j),N)}},{key:"addListener",value:function(){Yj.on(Xj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yj.removeListener(Xj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,_){for(var N=this.state.formattedGraphicalItems,j=0,A=N.length;j<A;j++){var P=N[j];if(P.item===b||P.props.key===b.key||S===uc(P.item.type)&&_===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,_=S.left,N=S.top,j=S.height,A=S.width;return Ae.createElement("defs",null,Ae.createElement("clipPath",{id:b},Ae.createElement("rect",{x:_,y:N,height:j,width:A})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,_){var N=RI(_,2),j=N[0],A=N[1];return tt(tt({},S),{},Kt({},j,A.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,_){var N=RI(_,2),j=N[0],A=N[1];return tt(tt({},S),{},Kt({},j,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,_=S.formattedGraphicalItems,N=S.activeItem;if(_&&_.length)for(var j=0,A=_.length;j<A;j++){var P=_[j],H=P.props,C=P.item,k=C.type.defaultProps!==void 0?tt(tt({},C.type.defaultProps),C.props):C.props,U=uc(C.type);if(U==="Bar"){var D=(H.data||[]).find(function(q){return J8e(b,q)});if(D)return{graphicalItem:P,payload:D}}else if(U==="RadialBar"){var M=(H.data||[]).find(function(q){return mL(b,q)});if(M)return{graphicalItem:P,payload:M}}else if(h_(P,N)||p_(P,N)||Ev(P,N)){var B=eDe({graphicalItem:P,activeTooltipItem:N,itemData:k.data}),I=k.activeIndex===void 0?B:k.activeIndex;return{graphicalItem:tt(tt({},P),{},{childIndex:I}),payload:Ev(P,N)?k.data[B]:P.props.data[B]}}}return null}},{key:"render",value:function(){var b=this;if(!tF(this))return null;var S=this.props,_=S.children,N=S.className,j=S.width,A=S.height,P=S.style,H=S.compact,C=S.title,k=S.desc,U=$I(S,aRe),D=Or(U,!1);if(H)return Ae.createElement(pI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ae.createElement(p4,Lh({},D,{width:j,height:A,title:C,desc:k}),this.renderClipPath(),nF(_,this.renderMap)));if(this.props.accessibilityLayer){var M,B;D.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,D.role=(B=this.props.role)!==null&&B!==void 0?B:"application",D.onKeyDown=function(q){b.accessibilityManager.keyboardEvent(q)},D.onFocus=function(){b.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return Ae.createElement(pI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ae.createElement("div",Lh({className:Ir("recharts-wrapper",N),style:tt({position:"relative",cursor:"default",width:j,height:A},P)},I,{ref:function(F){b.container=F}}),Ae.createElement(p4,Lh({},D,{width:j,height:A,title:C,desc:k,style:bRe}),this.renderClipPath(),nF(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Kt(v,"displayName",r),Kt(v,"defaultProps",tt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Kt(v,"getDerivedStateFromProps",function(x,g){var y=x.dataKey,b=x.data,S=x.children,_=x.width,N=x.height,j=x.layout,A=x.stackOffset,P=x.margin,H=g.dataStartIndex,C=g.dataEndIndex;if(g.updateId===void 0){var k=VI(x);return tt(tt(tt({},k),{},{updateId:0},p(tt(tt({props:x},k),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:N,prevLayout:j,prevStackOffset:A,prevMargin:P,prevChildren:S})}if(y!==g.prevDataKey||b!==g.prevData||_!==g.prevWidth||N!==g.prevHeight||j!==g.prevLayout||A!==g.prevStackOffset||!Qh(P,g.prevMargin)){var U=VI(x),D={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},M=tt(tt({},zI(g,b,j)),{},{updateId:g.updateId+1}),B=tt(tt(tt({},U),D),M);return tt(tt(tt({},B),p(tt({props:x},B),g)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:N,prevLayout:j,prevStackOffset:A,prevMargin:P,prevChildren:S})}if(!f4(S,g.prevChildren)){var I,q,F,z,J=ms(S,O0),E=J&&(I=(q=J.props)===null||q===void 0?void 0:q.startIndex)!==null&&I!==void 0?I:H,V=J&&(F=(z=J.props)===null||z===void 0?void 0:z.endIndex)!==null&&F!==void 0?F:C,K=E!==H||V!==C,W=!Tr(b),Y=W&&!K?g.updateId:g.updateId+1;return tt(tt({updateId:Y},p(tt(tt({props:x},g),{},{updateId:Y,dataStartIndex:E,dataEndIndex:V}),g)),{},{prevChildren:S,dataStartIndex:E,dataEndIndex:V})}return null}),Kt(v,"renderActiveDot",function(x,g,y){var b;return O.isValidElement(x)?b=O.cloneElement(x,g):br(x)?b=x(g):b=Ae.createElement(C3,g),Ae.createElement(na,{className:"recharts-active-dot",key:y},b)});var m=O.forwardRef(function(g,y){return Ae.createElement(v,Lh({},g,{ref:y}))});return m.displayName=v.displayName,m},PRe=kRe({chartName:"LineChart",GraphicalChild:vx,axisComponents:[{axisType:"xAxis",AxisComp:b_},{axisType:"yAxis",AxisComp:w_}],formatAxisMap:NLe});const ORe=({formData:e,handleChange:t})=>s.jsxs("div",{className:"border border-slate-800 rounded-sm mb-6",children:[s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.limud_learning||"",onChange:r=>t("limud_learning",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Learning"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.ivri_language||"",onChange:r=>t("ivri_language",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Hebrew"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.hitnahagut_behavior||"",onChange:r=>t("hitnahagut_behavior",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Behavior"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.emotional||"",onChange:r=>t("emotional",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Emotional"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.social||"",onChange:r=>t("social",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Social"})]}),s.jsxs("div",{className:"grid grid-cols-12 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"General notes...",value:e.remarks||"",onChange:r=>t("remarks",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Notes / Other"})]}),s.jsxs("div",{className:"my-6",dir:"rtl",children:[s.jsx("h3",{className:"text-center font-bold mb-2 border-b-2 border-slate-800 pb-1 w-full",children:"Summary of the Situation"}),s.jsx("textarea",{className:"w-full p-2 border border-slate-300 rounded min-h-[100px]",placeholder:"Summary of the situation...",value:e.summary||"",onChange:r=>t("summary",r.target.value)})]}),s.jsxs("div",{className:"mb-8",dir:"rtl",children:[s.jsx("h3",{className:"text-center font-bold mb-2 border-b-2 border-slate-800 pb-1 w-full",children:"Plan"}),s.jsx("textarea",{className:"w-full p-2 border border-slate-300 rounded min-h-[100px]",placeholder:"Action plan...",value:e.plan||"",onChange:r=>t("plan",r.target.value)})]})]}),FRe=({schema:e,customData:t,onChange:r})=>s.jsx("div",{className:"space-y-6 mb-8",children:e.map(n=>{var a;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ye,{children:[n.label," ",n.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),n.type==="text"&&s.jsx(We,{value:t[n.id]||"",onChange:i=>r(n.id,i.target.value),placeholder:"Your answer..."}),n.type==="number"&&s.jsx(We,{type:"number",value:t[n.id]||"",onChange:i=>r(n.id,i.target.value),placeholder:"0"}),n.type==="date"&&s.jsx(We,{type:"date",value:t[n.id]||"",onChange:i=>r(n.id,i.target.value)}),n.type==="textarea"&&s.jsx("textarea",{className:"w-full p-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-400",rows:4,value:t[n.id]||"",onChange:i=>r(n.id,i.target.value)}),n.type==="select"&&s.jsxs(bt,{value:t[n.id]||"",onValueChange:i=>r(n.id,i),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select an option"})}),s.jsx(yt,{children:(a=n.options)==null?void 0:a.map((i,o)=>s.jsx(Ie,{value:i,children:i},o))})]}),n.type==="checkbox"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300",checked:!!t[n.id],onChange:i=>r(n.id,i.target.checked)}),s.jsx("span",{className:"text-sm text-slate-600",children:"Yes"})]})]},n.id)})}),DRe=({student:e,assessment:t=null,onSave:r,onCancel:n})=>{const{toast:a}=Cr(),[i,o]=O.useState([]),[l,c]=O.useState("standard"),[u,d]=O.useState(null),[f,h]=O.useState({teacher_name:"",date:new Date().toISOString().split("T")[0],limud_learning:"",ivri_language:"",hitnahagut_behavior:"",emotional:"",social:"",remarks:"",summary:"",plan:"",status:"draft",custom_data:{}});O.useEffect(()=>{p(),t?(h(t),t.template_id&&c(t.template_id)):e&&h(g=>({...g,teacher_name:e.teacher||""}))},[e,t]);const p=async()=>{const{data:g}=await Ne.from("assessment_templates").select("*");o(g||[])};O.useEffect(()=>{if(l&&l!=="standard"){const g=i.find(y=>y.id===l);d(g)}else d(null)},[l,i]);const v=(g,y)=>{h(b=>({...b,[g]:y}))},m=(g,y)=>{h(b=>({...b,custom_data:{...b.custom_data,[g]:y}}))},x=async g=>{const y={...f,status:g,student_id:e.id,template_id:l==="standard"?null:l};let b;t!=null&&t.id?b=await Ne.from("assessments").update(y).eq("id",t.id):b=await Ne.from("assessments").insert([y]),b.error?a({variant:"destructive",title:"Error",description:"Failed to save assessment"}):(a({title:g==="final"?"Assessment Finalized":"Draft Saved",description:`Assessment for ${e.name} has been saved.`}),r&&r())};return s.jsxs("div",{className:"bg-white rounded-lg border shadow-sm max-w-4xl mx-auto p-8 font-sans animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-1",children:u?u.name:"Standard Assessment"}),s.jsx("p",{className:"text-sm text-slate-500",children:u?u.description:"Official Special Education Form"})]}),!t&&s.jsxs("div",{className:"w-64",children:[s.jsx(ye,{children:"Select Template"}),s.jsxs(bt,{value:l,onValueChange:c,children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"standard",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ss,{size:14})," Standard Hebrew Form"]})}),i.map(g=>s.jsx(Ie,{value:g.id,children:g.name},g.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 text-right bg-slate-50 p-4 rounded-md border",dir:"rtl",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Student Name:"}),s.jsx("span",{children:e.name})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Son of Rabbi:"}),s.jsx("span",{children:e.father_name||"_________"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Class:"}),s.jsx("span",{className:"ml-4",children:e.class}),s.jsx("span",{className:"font-bold",children:"Teacher:"}),s.jsx("input",{className:"border-b border-slate-300 bg-transparent focus:outline-none",value:f.teacher_name,onChange:g=>v("teacher_name",g.target.value)})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Date:"}),s.jsx("input",{type:"date",className:"border-b border-slate-300 bg-transparent focus:outline-none",value:f.date,onChange:g=>v("date",g.target.value)})]})]})]}),l==="standard"?s.jsx(ORe,{formData:f,handleChange:v}):u&&s.jsx(FRe,{schema:u.schema,customData:f.custom_data||{},onChange:m}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t sticky bottom-0 bg-white pb-2",children:[s.jsxs(Se,{variant:"outline",onClick:n,className:"flex items-center gap-2",children:[s.jsx(X$,{size:16})," Cancel"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Se,{variant:"secondary",onClick:()=>x("draft"),className:"flex items-center gap-2",children:[s.jsx(pw,{size:16})," Save Draft"]}),s.jsxs(Se,{onClick:()=>x("final"),className:"flex items-center gap-2 bg-slate-900 text-white hover:bg-slate-800",children:[s.jsx(tC,{size:16})," Finalize Assessment"]})]})]})]})},LRe=eC("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ft({className:e,variant:t,...r}){return s.jsx("div",{className:yr(LRe({variant:t}),e),...r})}const WI={initial_contact:{label:"Initial Contact",color:"bg-blue-100 text-blue-800 border-blue-300",icon:Ss},info_gathering:{label:"Info Gathering",color:"bg-purple-100 text-purple-800 border-purple-300",icon:La},assessment:{label:"Assessment",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:rs},plan_creation:{label:"Creating Plan",color:"bg-orange-100 text-orange-800 border-orange-300",icon:Ss},plan_review:{label:"Plan Review",color:"bg-cyan-100 text-cyan-800 border-cyan-300",icon:ere},service_setup:{label:"Setting Up Services",color:"bg-indigo-100 text-indigo-800 border-indigo-300",icon:Qs},active_monitoring:{label:"Active Monitoring",color:"bg-green-100 text-green-800 border-green-300",icon:Ly},plan_adjustment:{label:"Plan Adjustment",color:"bg-red-100 text-red-800 border-red-300",icon:rs},completed:{label:"Completed",color:"bg-slate-100 text-slate-800 border-slate-300",icon:Li}},IRe=({stage:e,showIcon:t=!0,className:r=""})=>{const n=WI[e]||WI.initial_contact,a=n.icon;return s.jsxs(Ft,{variant:"outline",className:`${n.color} ${r}`,children:[t&&s.jsx(a,{size:14,className:"mr-1"}),n.label]})},MRe=({isOpen:e,onClose:t,studentId:r,plan:n,onSuccess:a})=>{const{toast:i}=Cr(),[o,l]=O.useState(!1),[c,u]=O.useState(null),[d,f]=O.useState([]),[h,p]=O.useState({goals:"",social_emotional_notes:"",kriah_notes:"",limud_notes:"",interventions:[{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}],review_frequency:"weekly",created_by:"",reviewed_by:"",status:"draft"});O.useEffect(()=>{e&&(v(),m(),n?p({...n,interventions:n.interventions||[{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}]}):x())},[e,n,r]);const v=async()=>{const{data:_}=await Ne.from("students").select("*").eq("id",r).single();u(_)},m=async()=>{const{data:_}=await Ne.from("app_users").select("id, name").eq("role","tutor").order("name");f(_||[])},x=()=>{p({goals:"",social_emotional_notes:"",kriah_notes:"",limud_notes:"",interventions:[{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}],review_frequency:"weekly",created_by:"",reviewed_by:"",status:"draft"})},g=()=>{p({...h,interventions:[...h.interventions,{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}]})},y=_=>{p({...h,interventions:h.interventions.filter((N,j)=>j!==_)})},b=(_,N,j)=>{const A=[...h.interventions];A[_][N]=j,p({...h,interventions:A})},S=async _=>{_.preventDefault(),l(!0);try{const N={student_id:r,...h,updated_at:new Date().toISOString()};n?await Ne.from("student_plans").update(N).eq("id",n.id):(N.created_at=new Date().toISOString(),await Ne.from("student_plans").insert([N])),i({title:"Success",description:"Plan saved successfully"}),a(),t()}catch(N){console.error(N),i({variant:"destructive",title:"Error",description:"Failed to save plan"})}finally{l(!1)}};return s.jsx(ur,{open:e,onOpenChange:t,children:s.jsxs(ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsxs(fr,{children:[n?"Edit Student Plan":"Create Student Plan",c&&` - ${c.name}`]})}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"goals",children:"Overall Goals & Objectives"}),s.jsx(kr,{id:"goals",value:h.goals,onChange:_=>p({...h,goals:_.target.value}),placeholder:"What are the main goals for this student?",rows:3,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"social",children:"Social/Emotional Notes"}),s.jsx(kr,{id:"social",value:h.social_emotional_notes,onChange:_=>p({...h,social_emotional_notes:_.target.value}),placeholder:"Assessment findings...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"kriah",children:"Kriah (Reading) Notes"}),s.jsx(kr,{id:"kriah",value:h.kriah_notes,onChange:_=>p({...h,kriah_notes:_.target.value}),placeholder:"Assessment findings...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"limud",children:"Limud (Learning) Notes"}),s.jsx(kr,{id:"limud",value:h.limud_notes,onChange:_=>p({...h,limud_notes:_.target.value}),placeholder:"Assessment findings...",rows:3})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ye,{children:"Interventions (Tutors/Therapists/Mentors)"}),s.jsxs(Se,{type:"button",size:"sm",variant:"outline",onClick:g,children:[s.jsx(on,{size:16,className:"mr-1"})," Add Intervention"]})]}),h.interventions.map((_,N)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3 bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ye,{className:"text-sm font-semibold",children:["Intervention #",N+1]}),h.interventions.length>1&&s.jsx(Se,{type:"button",size:"sm",variant:"ghost",onClick:()=>y(N),children:s.jsx(Qa,{size:16,className:"text-red-500"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Type"}),s.jsxs(bt,{value:_.type,onValueChange:j=>b(N,"type",j),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"tutor",children:"Tutor"}),s.jsx(Ie,{value:"therapist",children:"Therapist"}),s.jsx(Ie,{value:"mentor",children:"Mentor"}),s.jsx(Ie,{value:"other",children:"Other Support"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Assign to Tutor"}),s.jsxs(bt,{value:_.tutor_id,onValueChange:j=>b(N,"tutor_id",j),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select tutor..."})}),s.jsx(yt,{children:d.map(j=>s.jsx(Ie,{value:j.id,children:j.name},j.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Description"}),s.jsx(We,{value:_.description,onChange:j=>b(N,"description",j.target.value),placeholder:"e.g., Reading support"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Frequency"}),s.jsx(We,{value:_.frequency,onChange:j=>b(N,"frequency",j.target.value),placeholder:"e.g., 2x weekly"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(ye,{children:"Specific Goals for this Intervention"}),s.jsx(kr,{value:_.goals,onChange:j=>b(N,"goals",j.target.value),placeholder:"What should this intervention achieve?",rows:2})]})]})]},N))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Review Frequency"}),s.jsxs(bt,{value:h.review_frequency,onValueChange:_=>p({...h,review_frequency:_}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"weekly",children:"Weekly"}),s.jsx(Ie,{value:"biweekly",children:"Bi-weekly"}),s.jsx(Ie,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Plan Status"}),s.jsxs(bt,{value:h.status,onValueChange:_=>p({...h,status:_}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"draft",children:"Draft"}),s.jsx(Ie,{value:"pending_review",children:"Pending Review"}),s.jsx(Ie,{value:"approved",children:"Approved"}),s.jsx(Ie,{value:"active",children:"Active"}),s.jsx(Ie,{value:"needs_adjustment",children:"Needs Adjustment"})]})]})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(Se,{type:"submit",disabled:o,children:o?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(pw,{size:16,className:"mr-2"})," Save Plan"]})})]})]})]})})};async function RG({to:e,subject:t,body:r,from:n,relatedType:a,relatedId:i,sentBy:o}){const l=Array.isArray(e)?e:[e],c=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:l,subject:t,html:r.replace(/\n/g,"<br>"),text:r,from:n||"School Management <onboarding@resend.dev>",relatedType:a||null,relatedId:i||null,sentBy:o||null})}),u=await c.json();if(!c.ok)throw new Error(u.error||`Failed to send email (${c.status})`);return u}const xx=({isOpen:e,onClose:t,defaultSubject:r="",defaultBody:n="",currentUser:a,relatedType:i,relatedId:o})=>{const{toast:l}=Cr(),[c,u]=O.useState(!1),[d,f]=O.useState({recipients:[""],subject:r,body:n});Ae.useEffect(()=>{e&&f({recipients:[""],subject:r||"",body:n||""})},[e,r,n]);const h=()=>{f(x=>({...x,recipients:[...x.recipients,""]}))},p=x=>{f(g=>({...g,recipients:g.recipients.filter((y,b)=>b!==x)}))},v=(x,g)=>{f(y=>({...y,recipients:y.recipients.map((b,S)=>S===x?g:b)}))},m=async()=>{const x=d.recipients.filter(g=>g.trim()&&g.includes("@"));if(x.length===0){l({variant:"destructive",title:"Error",description:"Please add at least one email address"});return}if(!d.subject.trim()){l({variant:"destructive",title:"Error",description:"Please enter a subject"});return}u(!0);try{await RG({to:x,subject:d.subject,body:d.body,relatedType:i||null,relatedId:o||null,sentBy:a==null?void 0:a.id}),l({title:"Email Sent",description:`Email sent successfully to ${x.length} recipient(s)`}),t()}catch(g){console.error("Error sending email:",g),l({variant:"destructive",title:"Email Failed",description:g.message||"Failed to send email. Please try again."})}finally{u(!1)}};return s.jsx(ur,{open:e,onOpenChange:t,children:s.jsxs(ir,{className:"max-w-lg",dir:"rtl",children:[s.jsx(dr,{children:s.jsxs(fr,{className:"flex items-center gap-2",children:[s.jsx(to,{className:"h-5 w-5 text-blue-600"}),"Send Email"]})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"To (email addresses)"}),d.recipients.map((x,g)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(We,{type:"email",value:x,onChange:y=>v(g,y.target.value),placeholder:"email@example.com",className:"flex-1",dir:"ltr"}),d.recipients.length>1&&s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>p(g),children:s.jsx(X0,{className:"h-4 w-4"})})]},g)),s.jsxs(Se,{variant:"outline",size:"sm",onClick:h,children:[s.jsx(on,{className:"h-4 w-4 ml-1"})," Add Email"]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Subject"}),s.jsx(We,{value:d.subject,onChange:x=>f({...d,subject:x.target.value}),placeholder:"Email subject"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Content"}),s.jsx(kr,{value:d.body,onChange:x=>f({...d,body:x.target.value}),rows:6,placeholder:"Write the email content here..."})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(Se,{onClick:m,disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[c?s.jsx(In,{className:"h-4 w-4 animate-spin ml-2"}):s.jsx(to,{className:"h-4 w-4 ml-2"}),"Send Email"]})]})]})})},$G=({studentId:e,onBack:t})=>{var _t,St,Et;const{toast:r}=Cr(),[n,a]=O.useState(null),[i,o]=O.useState("overview"),[l,c]=O.useState("all"),[u,d]=O.useState(!1),[f,h]=O.useState("credit"),[p,v]=O.useState(""),[m,x]=O.useState(""),[g,y]=O.useState(!1),[b,S]=O.useState([]),[_,N]=O.useState(""),[j,A]=O.useState(""),[P,H]=O.useState("existing"),[C,k]=O.useState({calls:[],issues:[],grades:[],assessments:[],interventions:[],meetings:[],plans:[],progress_reviews:[],studentFees:[],payments:[]}),[U,D]=O.useState(!1),[M,B]=O.useState(null),[I,q]=O.useState(!1),[F,z]=O.useState(null),[J,E]=O.useState([]),[V,K]=O.useState(null),[W,Y]=O.useState([]),[ee,oe]=O.useState(!1),[G,se]=O.useState(null),[he,Q]=O.useState({title:"",content:"",note_type:"general",edit_mode:"update"}),[Pe,De]=O.useState(!1),[je,Z]=O.useState({});O.useEffect(()=>{Ge(),ke()},[e]);const ke=async()=>{try{const{data:_e,error:ot}=await Ne.from("fees").select("*, fee_type:fee_types(name, category)").order("name");if(ot){console.error("Error loading fees:",ot);return}S(_e||[])}catch(_e){console.error("Error loading fees:",_e)}},Ge=async()=>{try{const{data:_e}=await Ne.from("students").select("*").eq("id",e).single();a(_e);const[ot,rt,qt,gt,jr,Gt,rr,Hr,Ht,Kr]=await Promise.all([Ne.from("call_logs").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Ne.from("issues").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Ne.from("grades").select("*").eq("student_id",e).order("created_at",{ascending:!0}),Ne.from("assessments").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Ne.from("interventions").select("*").eq("student_id",e).order("start_date",{ascending:!1}),Ne.from("meetings").select("*").eq("student_id",e).order("meeting_date",{ascending:!1}),Ne.from("student_plans").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Ne.from("progress_reviews").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Ne.from("student_fees").select("*, fee:fees(name, description, due_date, academic_year, fee_type:fee_types(name, category))").eq("student_id",e).order("created_at",{ascending:!1}),Ne.from("payments").select("*, student_fee:student_fees(id, fee:fees(name, academic_year))").eq("student_id",e).order("payment_date",{ascending:!1})]);k({calls:ot.data||[],issues:rt.data||[],grades:qt.data||[],assessments:gt.data||[],interventions:jr.data||[],meetings:Gt.data||[],plans:rr.data||[],progress_reviews:Hr.data||[],studentFees:Ht.data||[],payments:Kr.data||[]});try{const{data:ce}=await Ne.from("student_notes").select("*").eq("student_id",e).eq("is_active",!0).order("created_at",{ascending:!1});E(ce||[])}catch{console.log("student_notes not available yet")}try{const{data:ce}=await Ne.from("late_arrivals").select("*").eq("student_id",e).order("date",{ascending:!1});Y(ce||[])}catch{console.log("late_arrivals not available yet")}try{const{data:ce}=await Ne.from("special_ed_students").select("*").eq("student_id",e).eq("is_active",!0).maybeSingle();if(ce){const[$t,Er,nr]=await Promise.all([Ne.from("special_ed_info_sources").select("*").eq("special_ed_student_id",ce.id).order("created_at",{ascending:!1}),Ne.from("special_ed_evaluations").select("*").eq("special_ed_student_id",ce.id).order("evaluation_date",{ascending:!1}),Ne.from("special_ed_tutoring").select("*, tutor:special_ed_staff(name, hebrew_name)").eq("special_ed_student_id",ce.id).eq("is_active",!0)]);K({...ce,info_sources:$t.data||[],evaluations:Er.data||[],tutoring:nr.data||[]})}else K(null)}catch{console.log("special_ed tables not available yet")}}catch(_e){console.error(_e),r({variant:"destructive",title:"Error",description:"Failed to load student profile"})}},Le=()=>{D(!1),B(null),Ge()},qe=C.studentFees.filter(_e=>_e.status!=="paid"&&_e.status!=="waived"&&parseFloat(_e.amount)-parseFloat(_e.amount_paid||0)>0),ge=_e=>{h(_e),v(""),x(""),N(""),A(""),H(_e==="credit"&&qe.length>0?"existing":"new"),d(!0)},de=async()=>{var _e,ot,rt,qt;if(!p||parseFloat(p)<=0){r({variant:"destructive",title:"Error",description:"Please enter a valid amount"});return}y(!0);try{const gt=parseFloat(p),jr=m||"";if(f==="credit")if(P==="existing"&&j){const Gt=qe.find(Kr=>Kr.id===j);if(!Gt)throw new Error("Charge not found");const rr=parseFloat(Gt.amount_paid||0)+gt,Hr=parseFloat(Gt.amount),Ht=rr>=Hr?"paid":"partial";await Ne.from("student_fees").update({amount_paid:rr,status:Ht}).eq("id",j),await Ne.from("payments").insert({student_id:e,student_fee_id:j,amount:gt,payment_method:"cash",payment_date:new Date().toISOString().split("T")[0],notes:jr||`Payment for ${((_e=Gt.fee)==null?void 0:_e.name)||"charge"}`}),r({title:" Payment Recorded!",description:`$${gt.toFixed(2)} paid toward ${((ot=Gt.fee)==null?void 0:ot.name)||"charge"}`})}else{const Gt=_||null;if(Gt){const{data:rr}=await Ne.from("student_fees").insert({student_id:e,fee_id:Gt,amount:gt,amount_paid:gt,status:"paid",notes:jr}).select().single(),Hr=b.find(Ht=>Ht.id===Gt);await Ne.from("payments").insert({student_id:e,student_fee_id:rr.id,amount:gt,payment_method:"cash",payment_date:new Date().toISOString().split("T")[0],notes:jr||`Payment for ${(Hr==null?void 0:Hr.name)||"fee"}`})}else{let{data:rr}=await Ne.from("fee_types").select("id").eq("category","donation"),Hr=(rt=rr==null?void 0:rr[0])==null?void 0:rt.id;if(!Hr){const{data:$t}=await Ne.from("fee_types").insert({name:"Donations",description:"General donations",category:"donation",is_active:!0}).select().single();Hr=$t.id}let{data:Ht}=await Ne.from("fees").select("id").eq("fee_type_id",Hr).eq("academic_year","2024-2025"),Kr=(qt=Ht==null?void 0:Ht[0])==null?void 0:qt.id;if(!Kr){const{data:$t}=await Ne.from("fees").insert({name:"General Payment",fee_type_id:Hr,academic_year:"2024-2025",is_active:!0}).select().single();Kr=$t.id}const{data:ce}=await Ne.from("student_fees").insert({student_id:e,fee_id:Kr,amount:gt,amount_paid:gt,status:"paid",notes:jr||"Payment/Donation"}).select().single();await Ne.from("payments").insert({student_id:e,student_fee_id:ce.id,amount:gt,payment_method:"cash",payment_date:new Date().toISOString().split("T")[0],notes:jr||"Payment/Donation"})}r({title:" Payment Added!",description:`+$${gt.toFixed(2)} recorded`})}else{if(!_){r({variant:"destructive",title:"Error",description:"Please select what this charge is for"}),y(!1);return}await Ne.from("student_fees").insert({student_id:e,fee_id:_,amount:gt,amount_paid:0,status:"pending",notes:jr});const Gt=b.find(rr=>rr.id===_);r({title:" Charge Added!",description:`$${gt.toFixed(2)} charge for ${(Gt==null?void 0:Gt.name)||"fee"}`})}v(""),x(""),N(""),A(""),d(!1),Ge()}catch(gt){console.error("Transaction save error:",gt),r({variant:"destructive",title:"Error",description:"Failed to save transaction"})}finally{y(!1)}};if(!n)return s.jsx("div",{className:"p-8 text-center",children:"Loading profile..."});const ze=[{value:"general",label:"General"},{value:"teacher_meeting",label:"Teacher Meeting"},{value:"discipline",label:"Discipline"},{value:"academic",label:"Academic"},{value:"behavioral",label:"Behavior"},{value:"parent_feedback",label:"Parent Feedback"},{value:"other",label:"Other"}],Ke=async()=>{if(!he.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{G&&he.edit_mode==="edit"?(await Ne.from("student_notes").update({title:he.title,content:he.content,note_type:he.note_type,previous_content:G.content,edit_mode:"edit",updated_at:new Date().toISOString()}).eq("id",G.id),r({title:"Edited",description:"Note has been updated"})):(await Ne.from("student_notes").insert([{student_id:e,title:he.title||null,content:he.content,note_type:he.note_type,edit_mode:"update"}]),r({title:"Added",description:"Note has been added"})),oe(!1),se(null),Ge()}catch(_e){r({variant:"destructive",title:"Error",description:_e.message})}};if(U)return s.jsx(DRe,{student:n,assessment:M,onSave:Le,onCancel:()=>{D(!1),B(null)}});const ft=C.grades.map(_e=>({date:new Date(_e.date).toLocaleDateString(),grade:isNaN(_e.grade)?0:parseInt(_e.grade),subject:_e.subject})).slice(-10);return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex items-center gap-4 border-b pb-4",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(Qte,{size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:n.name}),n.workflow_stage&&s.jsx(IRe,{stage:n.workflow_stage})]}),s.jsxs("p",{className:"text-slate-500",children:["Class: ",n.class,"  Teacher: ",n.teacher]})]}),s.jsxs("div",{className:"ml-auto flex gap-2",children:[s.jsxs(Se,{onClick:()=>D(!0),variant:"outline",children:[s.jsx(on,{size:16,className:"mr-2"})," New Assessment"]}),s.jsxs(Se,{onClick:()=>{z(null),q(!0)},children:[s.jsx(on,{size:16,className:"mr-2"})," Create Plan"]})]})]}),s.jsxs(kl,{value:i,onValueChange:o,className:"w-full",children:[s.jsxs(Xo,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0 overflow-x-auto",children:[s.jsx(wr,{value:"overview",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Overview"}),s.jsxs(wr,{value:"financial",className:"data-[state=active]:border-b-2 data-[state=active]:border-green-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-2",children:[s.jsx(gs,{size:16}),"Financial"]}),s.jsx(wr,{value:"workflow",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Workflow & Plans"}),s.jsx(wr,{value:"academic",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Academic"}),s.jsx(wr,{value:"communication",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Communication"}),s.jsx(wr,{value:"intervention",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Assessments"}),s.jsxs(wr,{value:"notes",className:"data-[state=active]:border-b-2 data-[state=active]:border-purple-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-1",children:[s.jsx(f0,{size:14}),"Notes (",J.length,")"]}),s.jsxs(wr,{value:"late-arrivals",className:"data-[state=active]:border-b-2 data-[state=active]:border-orange-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-1",children:[s.jsx(Qs,{size:14}),"Late Arrivals (",W.length,")"]}),V&&s.jsxs(wr,{value:"special-ed",className:"data-[state=active]:border-b-2 data-[state=active]:border-pink-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-1",children:[s.jsx(Fy,{size:14}),"Special Education"]})]}),s.jsx(Qr,{value:"overview",className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Contact Information"})}),s.jsxs(Ze,{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"text-slate-400",size:18}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Father: ",n.father_name||"N/A"]}),s.jsx("p",{className:"text-slate-500",children:n.father_phone})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"text-slate-400",size:18}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Mother: ",n.mother_name||"N/A"]}),s.jsx("p",{className:"text-slate-500",children:n.mother_phone})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tf,{className:"text-slate-400",size:18}),s.jsx("p",{children:n.home_phone||"N/A"})]})]})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Quick Stats"})}),s.jsxs(Ze,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded",children:[s.jsx("span",{children:"Average Grade"}),s.jsx("span",{className:"font-bold text-blue-600",children:C.grades.length>0?Math.round(C.grades.reduce((_e,ot)=>_e+(parseInt(ot.grade)||0),0)/C.grades.length)+"%":"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded",children:[s.jsx("span",{children:"Open Issues"}),s.jsx("span",{className:"font-bold text-amber-600",children:C.issues.filter(_e=>_e.status==="open").length})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded",children:[s.jsx("span",{children:"Assessments"}),s.jsx("span",{className:"font-bold text-purple-600",children:C.assessments.length})]})]})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Recent Issues"})}),s.jsxs(Ze,{className:"space-y-3",children:[C.issues.slice(0,3).map(_e=>s.jsxs("div",{className:"flex gap-2 items-start text-sm",children:[s.jsx(qh,{size:16,className:`shrink-0 mt-0.5 ${_e.priority==="high"?"text-red-500":"text-amber-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_e.title}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(_e.created_at).toLocaleDateString()})]})]},_e.id)),C.issues.length===0&&s.jsx("p",{className:"text-sm text-slate-400",children:"No issues recorded."})]})]})]})}),s.jsx(Qr,{value:"financial",className:"mt-6 space-y-6",children:(()=>{var Aa,rn;const ot=[...new Set(C.studentFees.map(Ye=>{var Ct;return(Ct=Ye.fee)==null?void 0:Ct.academic_year}).filter(Boolean))].sort().reverse(),rt=l==="all"?C.studentFees:C.studentFees.filter(Ye=>{var Ct;return((Ct=Ye.fee)==null?void 0:Ct.academic_year)===l}),qt=l==="all"?C.payments:C.payments.filter(Ye=>{var Ct,mt;return((mt=(Ct=Ye.student_fee)==null?void 0:Ct.fee)==null?void 0:mt.academic_year)===l}),gt=rt.filter(Ye=>{var Ct,mt;return((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)==="donation"}),jr=rt.filter(Ye=>{var Ct,mt;return((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)!=="donation"}),Gt=["tuition","registration","books"],rr=jr.filter(Ye=>{var Ct,mt;return Gt.includes((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)}),Hr=jr.filter(Ye=>{var Ct,mt;return!Gt.includes((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)}),Ht=jr.reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount)||0),0),Kr=jr.reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount_paid)||0),0),ce=gt.reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount_paid)||0),0),$t=l!=="all"?l:"2024-2025",Er=$t==="2024-2025"?"2023-2024":"2022-2023",nr=C.studentFees.filter(Ye=>{var Ct,mt,jt;return((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)==="donation"&&((jt=Ye.fee)==null?void 0:jt.academic_year)===Er}).reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount_paid)||0),0),Bt=C.studentFees.filter(Ye=>{var Ct,mt,jt;return((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)==="donation"&&((jt=Ye.fee)==null?void 0:jt.academic_year)===$t}).reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount_paid)||0),0),Qt=Bt-nr;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg",children:[s.jsx(Z$,{size:20,className:"text-slate-600"}),s.jsx("span",{className:"font-medium",children:"Filter by Year:"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Se,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),children:"All Years"}),ot.map(Ye=>s.jsx(Se,{variant:l===Ye?"default":"outline",size:"sm",onClick:()=>c(Ye),children:Ye},Ye))]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{className:"bg-blue-50 border-blue-200",children:s.jsxs(Ze,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Charges"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:["$",Ht.toFixed(2)]}),s.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"(excludes donations)"})]})}),s.jsx(Qe,{className:"bg-green-50 border-green-200",children:s.jsxs(Ze,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["$",Kr.toFixed(2)]})]})}),s.jsx(Qe,{className:`${Ht-Kr>0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:s.jsxs(Ze,{className:"p-4",children:[s.jsx("p",{className:`text-sm font-medium ${Ht-Kr>0?"text-red-600":"text-gray-600"}`,children:"Open Balance"}),s.jsxs("p",{className:`text-2xl font-bold ${Ht-Kr>0?"text-red-800":"text-gray-800"}`,children:["$",(Ht-Kr).toFixed(2)]})]})}),s.jsx(Qe,{className:"bg-pink-50 border-pink-200",children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("p",{className:"text-sm text-pink-600 font-medium flex items-center gap-1",children:[s.jsx(Fy,{size:14})," Donations Collected"]}),s.jsxs("p",{className:"text-2xl font-bold text-pink-800",children:["$",ce.toFixed(2)]})]})})]}),s.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[s.jsx(Se,{onClick:()=>ge("credit"),className:"bg-green-600 hover:bg-green-700 text-white text-lg px-6 py-5 h-auto rounded-xl shadow-lg",size:"lg",children:" Add Payment"}),s.jsx(Se,{onClick:()=>ge("debit"),className:"bg-red-600 hover:bg-red-700 text-white text-lg px-6 py-5 h-auto rounded-xl shadow-lg",size:"lg",children:" Add Charge"})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Qe,{className:"w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(er,{className:`border-b ${f==="credit"?"bg-green-100":"bg-red-100"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(tr,{className:`text-xl flex items-center gap-2 ${f==="credit"?"text-green-800":"text-red-800"}`,children:f==="credit"?" Add Payment":" Add Charge"}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>d(!1),children:s.jsx(X0,{size:20})})]}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["For: ",s.jsx("strong",{children:n.name})]})]}),s.jsxs(Ze,{className:"p-6 space-y-5",children:[f==="credit"?s.jsxs(s.Fragment,{children:[qe.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{className:"font-bold",children:"Payment Type"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Se,{type:"button",onClick:()=>{H("existing"),N("")},className:`h-12 ${P==="existing"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Pay Existing Charge"}),s.jsx(Se,{type:"button",onClick:()=>{H("new"),A("")},className:`h-12 ${P==="new"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"New Payment/Donation"})]})]}),P==="existing"&&qe.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{className:"font-bold text-blue-700",children:" Select Charge to Pay"}),s.jsxs(bt,{value:j,onValueChange:A,children:[s.jsx(xt,{className:"h-14 text-lg border-2 border-blue-300",children:s.jsx(wt,{placeholder:"Select a charge..."})}),s.jsx(yt,{children:qe.map(Ye=>{var mt;const Ct=parseFloat(Ye.amount)-parseFloat(Ye.amount_paid||0);return s.jsx(Ie,{value:Ye.id,className:"py-3",children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"font-medium",children:((mt=Ye.fee)==null?void 0:mt.name)||"Charge"}),s.jsxs("span",{className:"text-red-600 font-bold ml-4",children:["$",Ct.toFixed(2)," owed"]})]})},Ye.id)})})]}),j&&s.jsxs("p",{className:"text-sm text-blue-600",children:["Balance: $",(parseFloat(((Aa=qe.find(Ye=>Ye.id===j))==null?void 0:Aa.amount)||0)-parseFloat(((rn=qe.find(Ye=>Ye.id===j))==null?void 0:rn.amount_paid)||0)).toFixed(2)]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{className:"font-bold text-green-700",children:" What is this payment for? (Optional)"}),s.jsxs(bt,{value:_||"general",onValueChange:Ye=>N(Ye==="general"?"":Ye),children:[s.jsx(xt,{className:"h-12 border-2 border-green-300",children:s.jsx(wt,{placeholder:"General payment / donation"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"general",children:"General Payment / Donation"}),b.map(Ye=>{var Ct;return s.jsxs(Ie,{value:Ye.id,children:[Ye.name," ",(Ct=Ye.fee_type)!=null&&Ct.name?`(${Ye.fee_type.name})`:""," - ",Ye.academic_year]},Ye.id)})]})]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{className:"font-bold text-red-700",children:" What is this charge for? *"}),s.jsxs(bt,{value:_,onValueChange:N,children:[s.jsx(xt,{className:"h-14 text-lg border-2 border-red-300",children:s.jsx(wt,{placeholder:"Select fee type..."})}),s.jsx(yt,{children:b.map(Ye=>{var Ct;return s.jsxs(Ie,{value:Ye.id,children:[Ye.name," ",(Ct=Ye.fee_type)!=null&&Ct.name?`(${Ye.fee_type.name})`:""," - ",Ye.academic_year]},Ye.id)})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"text-lg font-bold",children:"Amount ($)"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx("span",{className:`absolute left-4 top-1/2 -translate-y-1/2 text-3xl font-bold ${f==="credit"?"text-green-600":"text-red-600"}`,children:"$"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:p,onChange:Ye=>v(Ye.target.value),placeholder:"0.00",className:`text-4xl h-20 pl-12 text-center font-bold border-2 ${f==="credit"?"border-green-300 focus:border-green-500":"border-red-300 focus:border-red-500"}`})]})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"text-sm",children:"Note (optional)"}),s.jsx(kr,{value:m,onChange:Ye=>x(Ye.target.value),placeholder:"Additional details...",className:"mt-1",rows:2})]}),s.jsx(Se,{onClick:de,disabled:g||!p||f==="debit"&&!_,className:`w-full h-14 text-xl ${f==="credit"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:g?"Saving...":f==="credit"?s.jsx(s.Fragment,{children:" Save Payment"}):s.jsx(s.Fragment,{children:" Save Charge"})})]})]})}),(Bt>0||nr>0)&&s.jsxs(Qe,{className:"border-2 border-pink-300 bg-gradient-to-r from-pink-50 to-purple-50",children:[s.jsx(er,{className:"pb-2",children:s.jsxs(tr,{className:"text-lg flex items-center gap-2",children:[s.jsx(lre,{size:20,className:"text-pink-600"})," Donation Collection"]})}),s.jsxs(Ze,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-1",children:["Last Year (",Er,")"]}),s.jsxs("p",{className:"text-3xl font-bold text-slate-700",children:["$",nr.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-pink-300",children:[s.jsxs("p",{className:"text-sm text-pink-600 mb-1",children:["This Year (",$t,")"]}),s.jsxs("p",{className:"text-3xl font-bold text-pink-700",children:["$",Bt.toFixed(2)]})]}),s.jsxs("div",{className:`p-4 rounded-lg border ${Qt>=0?"bg-green-50 border-green-300":"bg-amber-50 border-amber-300"}`,children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Change"}),s.jsxs("div",{className:"flex items-center gap-2",children:[Qt>=0?s.jsx(Ly,{size:24,className:"text-green-600"}):s.jsx(_re,{size:24,className:"text-amber-600"}),s.jsxs("p",{className:`text-3xl font-bold ${Qt>=0?"text-green-700":"text-amber-700"}`,children:[Qt>=0?"+":"","$",Qt.toFixed(2)]})]}),nr>0&&s.jsxs("p",{className:`text-xs mt-1 ${Qt>=0?"text-green-600":"text-amber-600"}`,children:[(Qt/nr*100).toFixed(0),"% ",Qt>=0?"increase":"decrease"]})]})]}),gt.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Donation Campaigns:"}),s.jsx("div",{className:"space-y-2",children:gt.map(Ye=>{var Ct,mt;return s.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-pink-800",children:(Ct=Ye.fee)==null?void 0:Ct.name}),s.jsx("p",{className:"text-xs text-slate-500",children:(mt=Ye.fee)==null?void 0:mt.academic_year})]}),s.jsxs("p",{className:"font-bold text-pink-600",children:["$",parseFloat(Ye.amount_paid||0).toFixed(2)]})]},Ye.id)})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Qe,{className:"border-2 border-green-300",children:[s.jsx(er,{className:"bg-green-50",children:s.jsxs(tr,{className:"text-lg flex items-center gap-2 text-green-800",children:[s.jsx(Ym,{size:20})," Payment History (",qt.length,")"]})}),s.jsx(Ze,{className:"p-4 space-y-3 max-h-96 overflow-y-auto",children:qt.length===0?s.jsxs("p",{className:"text-center text-slate-500 py-8",children:["No payments recorded ",l!=="all"?`for ${l}`:"yet"]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 bg-green-100 rounded-lg flex justify-between items-center mb-4",children:[s.jsx("span",{className:"font-medium text-green-800",children:"Total Paid:"}),s.jsxs("span",{className:"text-xl font-bold text-green-700",children:["$",qt.reduce((Ye,Ct)=>Ye+parseFloat(Ct.amount||0),0).toFixed(2)]})]}),qt.map(Ye=>{var Ct,mt;return s.jsx("div",{className:"p-3 bg-white border border-green-200 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:((mt=(Ct=Ye.student_fee)==null?void 0:Ct.fee)==null?void 0:mt.name)||"Payment"}),s.jsxs("p",{className:"text-sm text-slate-600",children:[Ye.payment_method==="cash"?" Cash":Ye.payment_method==="check"?" Check":Ye.payment_method==="credit_card"?" Credit Card":Ye.payment_method==="bank_transfer"?" Bank Transfer":Ye.payment_method,Ye.reference_number&&` - #${Ye.reference_number}`]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[new Date(Ye.payment_date).toLocaleDateString(),Ye.notes&&` - ${Ye.notes}`]})]}),s.jsxs("p",{className:"font-bold text-green-600 text-lg",children:["$",parseFloat(Ye.amount).toFixed(2)]})]})},Ye.id)})]})})]}),s.jsxs(Qe,{children:[s.jsx(er,{className:"bg-blue-50",children:s.jsxs(tr,{className:"text-lg flex items-center gap-2 text-blue-800",children:[s.jsx(Rg,{size:20}),"Charges (",jr.length,")"]})}),s.jsx(Ze,{className:"p-4 space-y-3 max-h-96 overflow-y-auto",children:jr.length===0?s.jsxs("p",{className:"text-center text-slate-500 py-8",children:["No charges recorded ",l!=="all"?`for ${l}`:""]}):s.jsxs(s.Fragment,{children:[rr.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-sm font-bold text-red-700 mb-2 flex items-center gap-1",children:[s.jsx(rs,{size:14})," Mandatory Fees (",rr.length,")"]}),rr.map(Ye=>{var Ct,mt,jt,Ur;return s.jsxs("div",{className:"p-3 mb-2 bg-red-50 border border-red-200 rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:((Ct=Ye.fee)==null?void 0:Ct.name)||"Charge"}),s.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-red-200 text-red-800 rounded font-medium",children:"Required"})]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(jt=(mt=Ye.fee)==null?void 0:mt.fee_type)==null?void 0:jt.name,((Ur=Ye.fee)==null?void 0:Ur.academic_year)&&s.jsxs("span",{className:"text-blue-600 ml-2",children:["| ",Ye.fee.academic_year]})]}),Ye.notes&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Ye.notes})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(Ye.amount).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Paid: $",parseFloat(Ye.amount_paid||0).toFixed(2)]}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Ye.status==="paid"?"bg-green-100 text-green-800":Ye.status==="partial"?"bg-blue-100 text-blue-800":Ye.status==="pending"?"bg-yellow-100 text-yellow-800":Ye.status==="waived"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:Ye.status})]})]},Ye.id)})]}),Hr.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold text-blue-700 mb-2 flex items-center gap-1",children:[s.jsx(JP,{size:14})," Optional Fees (",Hr.length,")"]}),Hr.map(Ye=>{var Ct,mt,jt,Ur;return s.jsxs("div",{className:"p-3 mb-2 bg-white border rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:((Ct=Ye.fee)==null?void 0:Ct.name)||"Charge"}),s.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Optional"})]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(jt=(mt=Ye.fee)==null?void 0:mt.fee_type)==null?void 0:jt.name,((Ur=Ye.fee)==null?void 0:Ur.academic_year)&&s.jsxs("span",{className:"text-blue-600 ml-2",children:["| ",Ye.fee.academic_year]})]}),Ye.notes&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Ye.notes})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(Ye.amount).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Paid: $",parseFloat(Ye.amount_paid||0).toFixed(2)]}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Ye.status==="paid"?"bg-green-100 text-green-800":Ye.status==="partial"?"bg-blue-100 text-blue-800":Ye.status==="pending"?"bg-yellow-100 text-yellow-800":Ye.status==="waived"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:Ye.status})]})]},Ye.id)})]})]})})]})]})]})})()}),s.jsx(Qr,{value:"workflow",className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Student Plans"}),s.jsxs(Se,{size:"sm",onClick:()=>{z(null),q(!0)},children:[s.jsx(on,{size:14,className:"mr-1"})," New Plan"]})]}),C.plans.length>0?s.jsx("div",{className:"space-y-3",children:C.plans.map(_e=>{var ot;return s.jsx(Qe,{className:"cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>{z(_e),q(!0)},children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ss,{size:18,className:"text-blue-500"}),s.jsxs("span",{className:"font-semibold",children:["Plan created ",new Date(_e.created_at).toLocaleDateString()]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${_e.status==="active"?"bg-green-100 text-green-800":_e.status==="approved"?"bg-blue-100 text-blue-800":_e.status==="needs_adjustment"?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"}`,children:(ot=_e.status)==null?void 0:ot.replace("_"," ")})]}),s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-2",children:_e.goals}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[_e.interventions&&_e.interventions.length>0&&s.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:[_e.interventions.length," intervention",_e.interventions.length!==1?"s":""]}),s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded capitalize",children:[_e.review_frequency||"monthly"," reviews"]})]})]})},_e.id)})}):s.jsx(Qe,{className:"bg-slate-50",children:s.jsxs(Ze,{className:"p-8 text-center text-slate-500",children:[s.jsx(Ss,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No plans created yet"}),s.jsx(Se,{size:"sm",className:"mt-3",onClick:()=>q(!0),children:"Create First Plan"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Progress Reviews"}),C.progress_reviews.length>0?s.jsx("div",{className:"space-y-3",children:C.progress_reviews.map(_e=>s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[_e.progress_rating==="excellent"&&s.jsx(Ly,{className:"text-green-600",size:18}),_e.progress_rating==="good"&&s.jsx(Li,{className:"text-blue-600",size:18}),_e.progress_rating==="fair"&&s.jsx(Qs,{className:"text-yellow-600",size:18}),_e.progress_rating==="poor"&&s.jsx(rs,{className:"text-red-600",size:18}),s.jsxs("span",{className:"font-semibold capitalize",children:[_e.progress_rating," Progress"]})]}),s.jsx("span",{className:"text-xs text-slate-500",children:new Date(_e.created_at).toLocaleDateString()})]}),_e.notes&&s.jsx("p",{className:"text-sm text-slate-600 mb-2",children:_e.notes}),_e.concerns&&s.jsxs("div",{className:"text-xs bg-orange-50 border border-orange-200 rounded p-2 mb-2",children:[s.jsx("span",{className:"font-semibold text-orange-800",children:"Concerns: "}),s.jsx("span",{className:"text-orange-700",children:_e.concerns})]}),_e.escalate_to_mz&&s.jsxs("div",{className:"text-xs bg-red-50 border border-red-200 rounded p-2 flex items-center gap-1",children:[s.jsx(rs,{size:12,className:"text-red-600"}),s.jsx("span",{className:"text-red-800 font-semibold",children:"Escalated to M.Z. - Needs Plan Adjustment"})]})]})},_e.id))}):s.jsx(Qe,{className:"bg-slate-50",children:s.jsxs(Ze,{className:"p-8 text-center text-slate-500",children:[s.jsx(Ly,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No progress reviews yet"})]})})]})]})}),s.jsxs(Qr,{value:"academic",className:"mt-6 space-y-6",children:[s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Performance Trends"})}),s.jsx(Ze,{className:"h-80",children:ft.length>0?s.jsx(SCe,{width:"100%",height:"100%",children:s.jsxs(PRe,{data:ft,children:[s.jsx(wG,{strokeDasharray:"3 3"}),s.jsx(b_,{dataKey:"date"}),s.jsx(w_,{}),s.jsx(dl,{}),s.jsx(vx,{type:"monotone",dataKey:"grade",stroke:"#2563eb",strokeWidth:2})]})}):s.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"No grade data available"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Grade History"}),s.jsxs("div",{className:"bg-white rounded border divide-y max-h-[400px] overflow-y-auto",children:[C.grades.map(_e=>s.jsxs("div",{className:"p-3 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_e.subject}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(_e.date).toLocaleDateString()})]}),s.jsx("span",{className:"font-bold bg-slate-100 px-2 py-1 rounded",children:_e.grade})]},_e.id)),C.grades.length===0&&s.jsx("p",{className:"p-4 text-center text-slate-400",children:"No grades recorded."})]})]})})]}),s.jsx(Qr,{value:"communication",className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs(Qe,{children:[s.jsxs(er,{className:"flex flex-row items-center justify-between",children:[s.jsx(tr,{children:"Detailed Call History"}),s.jsxs("span",{className:"text-sm text-slate-500",children:[C.calls.length," Total Calls"]})]}),s.jsx(Ze,{children:s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-medium border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Date & Time"}),s.jsx("th",{className:"px-4 py-3",children:"Contact"}),s.jsx("th",{className:"px-4 py-3",children:"Outcome"}),s.jsx("th",{className:"px-4 py-3",children:"Notes"}),s.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),s.jsxs("tbody",{className:"divide-y",children:[C.calls.map(_e=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:new Date(_e.created_at).toLocaleDateString()}),s.jsx("span",{className:"text-xs text-slate-500",children:new Date(_e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("p",{className:"font-medium",children:_e.contact_person}),s.jsx("p",{className:"text-xs text-slate-500",children:_e.phone_number})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-slate-100 text-slate-700 border",children:_e.outcome||"N/A"})}),s.jsx("td",{className:"px-4 py-3 max-w-xs truncate",title:_e.notes,children:_e.notes||"-"}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsxs("span",{className:"flex items-center text-green-600 gap-1 text-xs",children:[s.jsx(Li,{size:14})," Logged"]}),_e.follow_up_date&&s.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[s.jsx(Qs,{size:10})," ",new Date(_e.follow_up_date).toLocaleDateString()]})]})]},_e.id)),C.calls.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-400",children:"No call logs found for this student."})})]})]})})})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Meetings"})}),s.jsxs(Ze,{className:"space-y-4",children:[C.meetings.map(_e=>s.jsxs("div",{className:"flex gap-3 items-start p-3 bg-slate-50 rounded",children:[s.jsx(Cs,{className:"shrink-0 text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_e.title}),s.jsxs("p",{className:"text-sm text-slate-600",children:[new Date(_e.meeting_date).toLocaleDateString()," at ",new Date(_e.meeting_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1 capitalize",children:["Status: ",_e.status]})]})]},_e.id)),C.meetings.length===0&&s.jsx("p",{className:"text-center text-slate-400",children:"No meetings scheduled."})]})]})]})}),s.jsxs(Qr,{value:"intervention",className:"mt-6 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h3",{className:"text-xl font-bold",children:"Assessments & Plans"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-slate-600",children:"Assessments History"}),C.assessments.map(_e=>s.jsx(Qe,{className:"cursor-pointer hover:border-blue-300 transition-colors",onClick:()=>{B(_e),D(!0)},children:s.jsxs(Ze,{className:"p-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ss,{className:"text-slate-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[_e.template_id?"Custom Assessment":"Standard Assessment",s.jsx("span",{className:"text-slate-400 mx-2",children:"|"}),new Date(_e.date).toLocaleDateString()]}),s.jsxs("p",{className:"text-xs text-slate-500",children:["By ",_e.teacher_name]})]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${_e.status==="draft"?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:_e.status})]})},_e.id)),C.assessments.length===0&&s.jsx("div",{className:"border-2 border-dashed border-slate-200 rounded p-6 text-center text-slate-400",children:"No assessments created yet."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-slate-600",children:"Intervention Plans"}),s.jsx(Qe,{className:"bg-slate-50",children:s.jsxs(Ze,{className:"p-4 text-center text-slate-500 italic flex flex-col items-center",children:[s.jsx(JP,{className:"mb-2"}),"Intervention plans are typically generated from Finalized Assessments."]})})]})]})]}),s.jsxs(Qr,{value:"notes",className:"mt-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Notes / Communication Log"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>{Z({subject:`About ${n.hebrew_name||n.first_name||n.name}`,body:`Information about ${n.hebrew_name||n.first_name||n.name}

`}),De(!0)},children:[s.jsx(to,{size:14,className:"ml-1"})," Email"]}),s.jsxs(Se,{size:"sm",onClick:()=>{se(null),Q({title:"",content:"",note_type:"general",edit_mode:"update"}),oe(!0)},children:[s.jsx(on,{size:14,className:"ml-1"})," New Note"]})]})]}),J.length===0?s.jsx(Qe,{className:"bg-slate-50",children:s.jsxs(Ze,{className:"p-8 text-center text-slate-500",children:[s.jsx(f0,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No notes recorded yet"}),s.jsx(Se,{size:"sm",className:"mt-3",onClick:()=>{se(null),Q({title:"",content:"",note_type:"general",edit_mode:"update"}),oe(!0)},children:"Add First Note"})]})}):s.jsx("div",{className:"space-y-3",children:J.map(_e=>{var ot;return s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx(Ft,{variant:"outline",className:"text-xs",children:((ot=ze.find(rt=>rt.value===_e.note_type))==null?void 0:ot.label)||_e.note_type}),_e.title&&s.jsx("span",{className:"font-bold",children:_e.title}),_e.edit_mode==="edit"&&s.jsx(Ft,{className:"bg-orange-100 text-orange-800 text-xs",children:"Edited"})]}),s.jsx("p",{className:"text-slate-700 mt-1",children:_e.content}),_e.previous_content&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-orange-600 cursor-pointer",children:"Previous version"}),s.jsx("p",{className:"text-xs text-slate-400 mt-1 p-2 bg-slate-50 rounded",children:_e.previous_content})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-400",children:[s.jsx("span",{children:new Date(_e.created_at).toLocaleDateString("he-IL")}),s.jsx("span",{children:new Date(_e.created_at).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})}),_e.created_by_name&&s.jsxs("span",{children:["By: ",_e.created_by_name]})]})]}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{se(_e),Q({title:_e.title||"",content:_e.content,note_type:_e.note_type,edit_mode:"edit"}),oe(!0)},children:s.jsx(ha,{size:14})})]})})},_e.id)})})]}),s.jsxs(Qr,{value:"late-arrivals",className:"mt-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Qs,{size:20,className:"text-orange-600"})," Late Arrival History"]}),W.length>0&&s.jsxs(Ft,{className:"bg-orange-100 text-orange-800 text-sm px-3 py-1",children:[W.length," times late"]})]}),W.length>0&&(()=>{const _e={};return W.forEach(ot=>{const rt=new Date(ot.date).toLocaleDateString("he-IL",{year:"numeric",month:"long"});_e[rt]=(_e[rt]||0)+1}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(_e).slice(0,4).map(([ot,rt])=>s.jsx(Qe,{className:"bg-orange-50 border-orange-200",children:s.jsxs(Ze,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-sm text-orange-600",children:ot}),s.jsx("p",{className:"text-2xl font-bold text-orange-800",children:rt}),s.jsx("p",{className:"text-xs text-orange-500",children:"times late"})]})},ot))})})(),W.length===0?s.jsx(Qe,{className:"bg-green-50 border-green-200",children:s.jsxs(Ze,{className:"p-8 text-center",children:[s.jsx(Li,{size:48,className:"mx-auto mb-4 text-green-400"}),s.jsx("p",{className:"text-green-700 font-medium",children:"No late arrivals recorded"})]})}):s.jsx(Qe,{children:s.jsx(Ze,{className:"p-0",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Arrival Time"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Minutes Late"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Reason"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Notes"})]})}),s.jsx("tbody",{className:"divide-y",children:W.map(_e=>s.jsxs("tr",{className:"hover:bg-orange-50 transition-colors",children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("span",{className:"font-medium",children:new Date(_e.date).toLocaleDateString("he-IL")}),s.jsx("span",{className:"block text-xs text-slate-400",children:new Date(_e.date).toLocaleDateString("he-IL",{weekday:"long"})})]}),s.jsx("td",{className:"px-4 py-3",children:_e.arrival_time||""}),s.jsx("td",{className:"px-4 py-3",children:_e.minutes_late?s.jsxs(Ft,{className:_e.minutes_late>15?"bg-red-100 text-red-800":_e.minutes_late>5?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800",children:[_e.minutes_late," min"]}):""}),s.jsx("td",{className:"px-4 py-3 max-w-[200px]",children:_e.reason||""}),s.jsx("td",{className:"px-4 py-3 max-w-[200px] text-slate-500",children:_e.notes||""})]},_e.id))})]})})})]}),V&&s.jsxs(Qr,{value:"special-ed",className:"mt-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Fy,{size:20,className:"text-pink-600"})," Special Education Information"]}),s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[s.jsxs(Ft,{className:"bg-blue-100 text-blue-800",children:["Status: ",V.status]}),V.referral_reason&&s.jsxs(Ft,{variant:"outline",children:["Reason: ",V.referral_reason]})]})]}),((_t=V.info_sources)==null?void 0:_t.length)>0&&s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Information Sources"})}),s.jsx(Ze,{className:"space-y-2",children:V.info_sources.map(_e=>s.jsxs("div",{className:"p-3 bg-slate-50 rounded border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ft,{variant:"outline",className:"text-xs",children:_e.source_type}),_e.source_name&&s.jsx("span",{className:"font-medium text-sm",children:_e.source_name}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(_e.created_at).toLocaleDateString("he-IL")})]}),s.jsx("p",{className:"text-sm",children:_e.content})]},_e.id))})]}),((St=V.evaluations)==null?void 0:St.length)>0&&s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Evaluations"})}),s.jsx(Ze,{className:"space-y-3",children:V.evaluations.map(_e=>s.jsxs("div",{className:"p-3 border rounded",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx(Ft,{className:_e.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:_e.status}),s.jsx("span",{className:"text-xs text-slate-400",children:_e.evaluation_date&&new Date(_e.evaluation_date).toLocaleDateString("he-IL")})]}),_e.evaluator_name&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Evaluator:"})," ",_e.evaluator_name]}),_e.results&&s.jsxs("p",{className:"text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Results:"})," ",_e.results]}),_e.recommendations&&s.jsxs("p",{className:"text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Recommendations:"})," ",_e.recommendations]}),_e.action_plan&&s.jsxs("p",{className:"text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Plan:"})," ",_e.action_plan]})]},_e.id))})]}),((Et=V.tutoring)==null?void 0:Et.length)>0&&s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Private Tutoring"})}),s.jsx(Ze,{children:s.jsx("div",{className:"space-y-2",children:V.tutoring.map(_e=>{var ot,rt;return s.jsxs("div",{className:"p-3 bg-purple-50 rounded border border-purple-200",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((ot=_e.tutor)==null?void 0:ot.hebrew_name)||((rt=_e.tutor)==null?void 0:rt.name)||_e.tutor_name}),s.jsx("p",{className:"text-sm text-slate-600",children:_e.subject})]}),s.jsx("div",{className:"text-left text-sm",children:s.jsxs("p",{children:[_e.day_of_week," ",_e.start_time,"",_e.end_time]})})]}),_e.notes&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:_e.notes})]},_e.id)})})})]}),V.notes&&s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Notes"})}),s.jsx(Ze,{children:s.jsx("p",{children:V.notes})})]})]})]}),s.jsx(ur,{open:ee,onOpenChange:oe,children:s.jsxs(ir,{className:"max-w-lg",dir:"rtl",children:[s.jsx(dr,{children:s.jsxs(fr,{children:[G?"Edit Note":"New Note"," - ",n.hebrew_name||n.first_name||n.name]})}),s.jsxs("div",{className:"space-y-4 py-2",children:[G&&s.jsxs("div",{children:[s.jsx(ye,{children:"Mode"}),s.jsxs(bt,{value:he.edit_mode,onValueChange:_e=>Q({...he,edit_mode:_e}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"update",children:"UPDATE - Keep old, add new"}),s.jsx(Ie,{value:"edit",children:"EDIT - Replace text (keep record)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Type"}),s.jsxs(bt,{value:he.note_type,onValueChange:_e=>Q({...he,note_type:_e}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:ze.map(_e=>s.jsx(Ie,{value:_e.value,children:_e.label},_e.value))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Title"}),s.jsx(We,{value:he.title,onChange:_e=>Q({...he,title:_e.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Content *"}),s.jsx(kr,{value:he.content,onChange:_e=>Q({...he,content:_e.target.value}),rows:5,placeholder:"What was discussed..."})]})]}),s.jsxs(Ar,{className:"flex justify-between",children:[s.jsxs(Se,{variant:"outline",onClick:()=>{Z({subject:`Note - ${n.hebrew_name||n.first_name||n.name}`,body:`${he.title?he.title+`

`:""}${he.content}`}),De(!0)},children:[s.jsx(to,{size:14,className:"ml-1"})," Send Email"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{variant:"outline",onClick:()=>oe(!1),children:"Cancel"}),s.jsx(Se,{onClick:Ke,children:G&&he.edit_mode==="edit"?"EDIT - Replace":"UPDATE - Add"})]})]})]})}),s.jsx(xx,{isOpen:Pe,onClose:()=>De(!1),defaultSubject:je.subject,defaultBody:je.body}),s.jsx(MRe,{isOpen:I,onClose:()=>{q(!1),z(null)},studentId:e,plan:F,onSuccess:()=>{Ge(),q(!1),z(null)}})]})},Ma=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:yr("w-full caption-bottom text-sm",e),...t})}));Ma.displayName="Table";const Ra=O.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:yr("[&_tr]:border-b",e),...t}));Ra.displayName="TableHeader";const $a=O.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:yr("[&_tr:last-child]:border-0",e),...t}));$a.displayName="TableBody";const RRe=O.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:yr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));RRe.displayName="TableFooter";const xr=O.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:yr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));xr.displayName="TableRow";const lt=O.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:yr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));lt.displayName="TableHead";const it=O.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:yr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));it.displayName="TableCell";const $Re=O.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:yr("mt-4 text-sm text-muted-foreground",e),...t}));$Re.displayName="TableCaption";const BRe=({role:e,currentUser:t})=>{KT();const{toast:r}=Cr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState(!0),[u,d]=O.useState("grid"),[f,h]=O.useState({search:"",class_id:"all",grade_id:"all",hasOpenIssues:"all"}),[p,v]=O.useState([]),[m,x]=O.useState([]),[g,y]=O.useState(!1),[b,S]=O.useState(null),[_,N]=O.useState(!1),[j,A]=O.useState(!1),[P,H]=O.useState(()=>localStorage.getItem("viewingStudentId")||null),[C,k]=O.useState([]),[U,D]=O.useState(!1),[M,B]=O.useState({date:new Date().toISOString().split("T")[0],status:"present",note:""});O.useEffect(()=>{P?localStorage.setItem("viewingStudentId",P):localStorage.removeItem("viewingStudentId")},[P]),O.useEffect(()=>{q(),I()},[e,t]),O.useEffect(()=>{F()},[n,f]);const I=async()=>{try{const{data:Y,error:ee}=await Ne.from("classes").select("id, name, grade_id, grade:grades!grade_id(name)").order("name");ee?console.error("Error loading classes:",ee):(console.log("Loaded classes:",Y==null?void 0:Y.length),v(Y||[]));const{data:oe,error:G}=await Ne.from("grades").select("*").order("grade_number");G?console.error("Error loading grades:",G):(console.log("Loaded grades:",oe==null?void 0:oe.length),x(oe||[]))}catch(Y){console.error("Error loading filters:",Y)}},q=async()=>{c(!0);try{let Y=Ne.from("students").select(`
          *,
          class:classes!class_id(id, name, grade_id, grade:grades(id, name))
        `);if(e==="teacher"||e==="teacher_hebrew"||e==="teacher_english"){const{data:he}=await Ne.from("classes").select("id").or(`hebrew_teacher_id.eq.${t==null?void 0:t.id},english_teacher_id.eq.${t==null?void 0:t.id}`),Q=(he==null?void 0:he.map(Pe=>Pe.id))||[];if(Q.length>0)Y=Y.in("class_id",Q);else{a([]),c(!1);return}}else if(e==="tutor"){const{data:he}=await Ne.from("tutor_assignments").select("student_id").eq("tutor_id",t==null?void 0:t.id).eq("is_active",!0),Q=(he==null?void 0:he.map(Pe=>Pe.student_id))||[];if(Q.length>0)Y=Y.in("id",Q);else{a([]),c(!1);return}}const{data:ee,error:oe}=await Y.order("last_name");if(oe)throw oe;let G={};try{const{data:he}=await Ne.from("student_issues").select("student_id, status");he&&he.forEach(Q=>{G[Q.student_id]||(G[Q.student_id]=[]),G[Q.student_id].push(Q)})}catch{}const se=(ee||[]).map(he=>({...he,open_issues_count:(G[he.id]||[]).filter(Q=>Q.status==="open"||Q.status==="in_progress").length}));a(se)}catch(Y){console.error("Error loading students:",Y),r({variant:"destructive",title:"Error",description:"Failed to load students"})}finally{c(!1)}},F=()=>{let Y=[...n];if(f.search){const ee=f.search.toLowerCase();Y=Y.filter(oe=>{var G,se,he,Q,Pe;return((G=oe.first_name)==null?void 0:G.toLowerCase().includes(ee))||((se=oe.last_name)==null?void 0:se.toLowerCase().includes(ee))||((he=oe.hebrew_name)==null?void 0:he.toLowerCase().includes(ee))||((Q=oe.father_name)==null?void 0:Q.toLowerCase().includes(ee))||((Pe=oe.mother_name)==null?void 0:Pe.toLowerCase().includes(ee))})}f.class_id!=="all"&&(Y=Y.filter(ee=>ee.class_id===f.class_id)),f.grade_id!=="all"&&(Y=Y.filter(ee=>{var oe;return((oe=ee.class)==null?void 0:oe.grade_id)===f.grade_id})),f.hasOpenIssues!=="all"&&(Y=Y.filter(ee=>{const oe=ee.open_issues_count>0;return f.hasOpenIssues==="yes"?oe:!oe})),o(Y)},z=async Y=>{if(window.confirm("Are you sure you want to delete this student? This cannot be undone."))try{const{error:ee}=await Ne.from("students").delete().eq("id",Y);if(ee)throw ee;r({title:"Success",description:"Student deleted"}),q()}catch(ee){console.error("Error deleting student:",ee),r({variant:"destructive",title:"Error",description:"Could not delete student"})}},J=Y=>{Y.target.checked?k(i.map(ee=>ee.id)):k([])},E=Y=>{k(ee=>ee.includes(Y)?ee.filter(oe=>oe!==Y):[...ee,Y])},V=async()=>{if(C.length===0)return;const Y=C.map(ee=>({student_id:ee,date:M.date,status:M.status,note:M.note}));await Ne.from("attendance").insert(Y),r({title:"Success",description:"Attendance marked"}),D(!1),k([])},K=()=>{h({search:"",class_id:"all",grade_id:"all",hasOpenIssues:"all"})},W=Y=>Y.first_name&&Y.last_name?`${Y.first_name} ${Y.last_name}`:Y.first_name||Y.last_name||"Unnamed";return P?s.jsx($G,{studentId:P,onBack:()=>H(null)}):l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Students"}),s.jsx("p",{className:"text-slate-600 mt-1",children:e==="teacher"||e==="teacher_hebrew"||e==="teacher_english"?"Students in your classes":e==="tutor"?"Your assigned students":`${n.length} students registered`})]}),s.jsxs("div",{className:"flex gap-2",children:[["principal","principal_hebrew","principal_english","admin"].includes(e)&&s.jsxs(Se,{variant:"outline",onClick:()=>A(!0),className:"flex items-center gap-2",children:[s.jsx(tB,{size:18})," Import"]}),["principal","principal_hebrew","principal_english","admin","teacher","teacher_hebrew","teacher_english"].includes(e)&&s.jsxs(Se,{onClick:()=>{S(null),y(!0)},className:"bg-gradient-to-r from-blue-500 to-blue-600",children:[s.jsx(on,{size:20,className:"mr-2"})," Add Student"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search students...",value:f.search,onChange:Y=>h(ee=>({...ee,search:Y.target.value})),className:"w-full pl-9 pr-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),s.jsxs(bt,{value:f.grade_id,onValueChange:Y=>h(ee=>({...ee,grade_id:Y})),children:[s.jsx(xt,{className:"w-[140px]",children:s.jsx(wt,{placeholder:"Grade"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Grades"}),m.map(Y=>s.jsx(Ie,{value:Y.id,children:Y.name},Y.id))]})]}),s.jsxs(bt,{value:f.class_id,onValueChange:Y=>h(ee=>({...ee,class_id:Y})),children:[s.jsx(xt,{className:"w-[140px]",children:s.jsx(wt,{placeholder:"Class"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Classes"}),p.map(Y=>{var ee;return s.jsxs(Ie,{value:Y.id,children:[Y.name," (",(ee=Y.grade)==null?void 0:ee.name,")"]},Y.id)})]})]}),s.jsxs(bt,{value:f.hasOpenIssues,onValueChange:Y=>h(ee=>({...ee,hasOpenIssues:Y})),children:[s.jsx(xt,{className:"w-[140px]",children:s.jsx(wt,{placeholder:"Issues"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"Any Status"}),s.jsx(Ie,{value:"yes",children:"Has Open Issues"}),s.jsx(Ie,{value:"no",children:"No Open Issues"})]})]}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:K,title:"Clear Filters",className:"text-slate-500",children:s.jsx(X0,{size:18})})]}),s.jsx("div",{className:"flex items-center gap-2 border-l pl-4",children:s.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>d("grid"),className:`p-1.5 rounded-md transition-all ${u==="grid"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:s.jsx(ure,{size:18})}),s.jsx("button",{onClick:()=>d("list"),className:`p-1.5 rounded-md transition-all ${u==="list"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:s.jsx(aC,{size:18})})]})})]}),C.length>0&&s.jsxs("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded-md border border-blue-100 animate-in slide-in-from-top-2",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-800 ml-2",children:[C.length," students selected"]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Se,{size:"sm",variant:"outline",className:"bg-white text-blue-700 hover:bg-blue-50 border-blue-200",onClick:()=>D(!0),children:[s.jsx(NN,{size:16,className:"mr-2"})," Mark Attendance"]})})]})]}),u==="grid"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(Y=>{var ee,oe,G;return s.jsxs("div",{className:`bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 border-2 ${C.includes(Y.id)?"border-blue-500 bg-blue-50/10":"border-transparent"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:C.includes(Y.id),onChange:()=>E(Y.id),className:"mt-1 w-4 h-4 rounded border-slate-300"}),s.jsxs("div",{className:"cursor-pointer group",onClick:()=>H(Y.id),children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 group-hover:text-blue-600 transition-colors",children:W(Y)}),Y.hebrew_name&&s.jsx("p",{className:"text-sm text-slate-500",dir:"rtl",children:Y.hebrew_name}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Ft,{variant:"secondary",className:"text-xs",children:((ee=Y.class)==null?void 0:ee.name)||"No Class"}),Y.open_issues_count>0&&s.jsxs(Ft,{variant:"destructive",className:"text-xs",children:[Y.open_issues_count," Issues"]})]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[["principal","principal_hebrew","principal_english","admin","teacher","teacher_hebrew","teacher_english"].includes(e)&&s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>{S(Y),y(!0)},children:s.jsx(ha,{size:16})}),["principal","principal_hebrew","principal_english","admin"].includes(e)&&s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>z(Y.id),className:"hover:text-red-600",children:s.jsx(Qa,{size:16})})]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-left mt-4 border-t pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(nC,{size:14}),s.jsx("span",{children:((G=(oe=Y.class)==null?void 0:oe.grade)==null?void 0:G.name)||"No Grade"})]}),Y.father_name&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Wo,{size:14}),s.jsx("span",{children:Y.father_name}),Y.father_phone&&s.jsxs("span",{className:"text-xs text-slate-400",children:["(",Y.father_phone,")"]})]}),Y.mother_name&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Wo,{size:14}),s.jsx("span",{children:Y.mother_name}),Y.mother_phone&&s.jsxs("span",{className:"text-xs text-slate-400",children:["(",Y.mother_phone,")"]})]})]}),s.jsx(Se,{onClick:()=>H(Y.id),variant:"outline",className:"w-full mt-4 text-sm h-8",children:"View Profile"})]},Y.id)}),i.length===0&&s.jsx("div",{className:"col-span-full py-12 text-center text-slate-500",children:"No students found matching your filters."})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{className:"w-[50px]",children:s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded",onChange:J,checked:i.length>0&&C.length===i.length})}),s.jsx(lt,{children:"Student Name"}),s.jsx(lt,{children:"Hebrew Name"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"Grade"}),s.jsx(lt,{children:"Parents"}),s.jsx(lt,{children:"Status"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsxs($a,{children:[i.map(Y=>{var ee,oe,G;return s.jsxs(xr,{className:C.includes(Y.id)?"bg-blue-50":"",children:[s.jsx(it,{children:s.jsx("input",{type:"checkbox",checked:C.includes(Y.id),onChange:()=>E(Y.id),className:"w-4 h-4 rounded"})}),s.jsx(it,{className:"font-medium cursor-pointer hover:text-blue-600",onClick:()=>H(Y.id),children:W(Y)}),s.jsx(it,{dir:"rtl",className:"text-slate-600",children:Y.hebrew_name||"-"}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",children:((ee=Y.class)==null?void 0:ee.name)||"-"})}),s.jsx(it,{className:"text-sm",children:((G=(oe=Y.class)==null?void 0:oe.grade)==null?void 0:G.name)||"-"}),s.jsxs(it,{className:"text-xs text-slate-500",children:[Y.father_name&&s.jsx("div",{children:Y.father_name}),Y.mother_name&&s.jsx("div",{children:Y.mother_name})]}),s.jsx(it,{children:Y.open_issues_count>0&&s.jsxs("div",{className:"flex items-center text-amber-600 text-xs font-medium",children:[s.jsx(rs,{size:14,className:"mr-1"})," ",Y.open_issues_count," Open"]})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>H(Y.id),children:s.jsx(NN,{size:16})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>{S(Y),y(!0)},children:s.jsx(ha,{size:16})})]})})]},Y.id)}),i.length===0&&s.jsx(xr,{children:s.jsx(it,{colSpan:8,className:"h-24 text-center text-slate-500",children:"No results found."})})]})]})}),s.jsx(Jce,{isOpen:g,onClose:()=>{y(!1),S(null)},student:b,onSuccess:q}),s.jsx(Qce,{isOpen:_,onClose:()=>{N(!1),S(null)},student:b}),s.jsx(exe,{isOpen:j,onClose:()=>A(!1),onSuccess:q}),s.jsx(ur,{open:U,onOpenChange:D,children:s.jsxs(ir,{className:"sm:max-w-[425px]",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Mark Attendance"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Date"}),s.jsx("input",{type:"date",value:M.date,onChange:Y=>B({...M,date:Y.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Status"}),s.jsxs("select",{value:M.status,onChange:Y=>B({...M,status:Y.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"}),s.jsx("option",{value:"late",children:"Late"}),s.jsx("option",{value:"excused",children:"Excused"})]})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),s.jsx(Se,{onClick:V,children:"Save"})]})]})})]})},URe=({role:e,currentUser:t})=>{var he,Q,Pe,De,je;const{toast:r}=Cr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!0),[f,h]=O.useState(""),[p,v]=O.useState("all"),[m,x]=O.useState("all"),[g,y]=O.useState(!1),[b,S]=O.useState(null),[_,N]=O.useState({student_id:"",title:"",description:"",category:"academic",severity:"medium",assigned_to:""}),[j,A]=O.useState(null),[P,H]=O.useState(!1),[C,k]=O.useState([]),[U,D]=O.useState(""),M=[{value:"academic",label:"Academic"},{value:"behavioral",label:"Behavioral"},{value:"attendance",label:"Attendance"},{value:"social",label:"Social"},{value:"health",label:"Health"},{value:"other",label:"Other"}],B=[{value:"low",label:"Low",color:"bg-green-100 text-green-700"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-700"},{value:"high",label:"High",color:"bg-orange-100 text-orange-700"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-700"}],I=[{value:"open",label:"Open",color:"bg-blue-100 text-blue-700"},{value:"in_progress",label:"In Progress",color:"bg-purple-100 text-purple-700"},{value:"resolved",label:"Resolved",color:"bg-green-100 text-green-700"},{value:"closed",label:"Closed",color:"bg-slate-100 text-slate-700"}];O.useEffect(()=>{q()},[]);const q=async()=>{d(!0);try{const{data:Z,error:ke}=await Ne.from("student_issues").select(`
          *,
          student:students(id, first_name, last_name, class_id),
          reporter:app_users!reported_by(id, first_name, last_name),
          assignee:app_users!assigned_to(id, first_name, last_name)
        `).order("created_at",{ascending:!1});if(ke)throw ke;a(Z||[]);const{data:Ge,error:Le}=await Ne.from("students").select("id, first_name, last_name").eq("status","active").order("last_name");if(Le)throw Le;o(Ge||[]);const{data:qe,error:ge}=await Ne.from("app_users").select("id, first_name, last_name, role").eq("is_active",!0).order("last_name");if(ge)throw ge;c(qe||[])}catch(Z){console.error("Error loading data:",Z),r({variant:"destructive",title:"Error",description:"Failed to load issues"})}finally{d(!1)}},F=n.filter(Z=>{var ge,de;const ke=`${((ge=Z.student)==null?void 0:ge.first_name)||""} ${((de=Z.student)==null?void 0:de.last_name)||""}`.toLowerCase(),Ge=Z.title.toLowerCase().includes(f.toLowerCase())||ke.includes(f.toLowerCase()),Le=p==="all"||Z.status===p,qe=m==="all"||Z.category===m;return Ge&&Le&&qe}),z=n.filter(Z=>Z.status==="open").length,J=n.filter(Z=>Z.status==="in_progress").length,E=n.filter(Z=>Z.severity==="critical"&&Z.status!=="resolved"&&Z.status!=="closed").length,V=(Z=null)=>{Z?(S(Z),N({student_id:Z.student_id||"",title:Z.title||"",description:Z.description||"",category:Z.category||"academic",severity:Z.severity||"medium",assigned_to:Z.assigned_to||""})):(S(null),N({student_id:"",title:"",description:"",category:"academic",severity:"medium",assigned_to:""})),y(!0)},K=async()=>{if(!_.student_id||!_.title||!_.description){r({variant:"destructive",title:"Error",description:"Please fill in all required fields"});return}try{const Z={student_id:_.student_id,title:_.title,description:_.description,category:_.category,severity:_.severity,assigned_to:_.assigned_to||null};if(b){const{error:ke}=await Ne.from("student_issues").update(Z).eq("id",b.id);if(ke)throw ke;r({title:"Success",description:"Issue updated"})}else{Z.reported_by=t==null?void 0:t.id,Z.status="open";const{error:ke}=await Ne.from("student_issues").insert([Z]);if(ke)throw ke;r({title:"Success",description:"Issue created"})}y(!1),q()}catch(Z){console.error("Error saving issue:",Z),r({variant:"destructive",title:"Error",description:"Failed to save issue"})}},W=async Z=>{if(confirm("Are you sure you want to delete this issue?"))try{const{error:ke}=await Ne.from("student_issues").delete().eq("id",Z);if(ke)throw ke;r({title:"Success",description:"Issue deleted"}),q()}catch(ke){console.error("Error deleting issue:",ke),r({variant:"destructive",title:"Error",description:"Failed to delete issue"})}},Y=async(Z,ke)=>{try{const Ge={status:ke};ke==="resolved"&&(Ge.resolved_at=new Date().toISOString(),Ge.resolved_by=t==null?void 0:t.id);const{error:Le}=await Ne.from("student_issues").update(Ge).eq("id",Z);if(Le)throw Le;r({title:"Success",description:"Status updated"}),q()}catch(Ge){console.error("Error updating status:",Ge),r({variant:"destructive",title:"Error",description:"Failed to update status"})}},ee=async Z=>{A(Z),H(!0);try{const{data:ke,error:Ge}=await Ne.from("issue_comments").select("*, user:app_users(first_name, last_name)").eq("issue_id",Z.id).order("created_at",{ascending:!0});if(Ge)throw Ge;k(ke||[])}catch(ke){console.error("Error loading comments:",ke)}},oe=async()=>{if(!(!U.trim()||!j))try{const{error:Z}=await Ne.from("issue_comments").insert([{issue_id:j.id,user_id:t==null?void 0:t.id,comment:U.trim()}]);if(Z)throw Z;D("");const{data:ke}=await Ne.from("issue_comments").select("*, user:app_users(first_name, last_name)").eq("issue_id",j.id).order("created_at",{ascending:!0});k(ke||[])}catch(Z){console.error("Error adding comment:",Z),r({variant:"destructive",title:"Error",description:"Failed to add comment"})}},G=Z=>{var ke;return((ke=B.find(Ge=>Ge.value===Z))==null?void 0:ke.color)||"bg-slate-100 text-slate-700"},se=Z=>{var ke;return((ke=I.find(Ge=>Ge.value===Z))==null?void 0:ke.color)||"bg-slate-100 text-slate-700"};return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Student Issues"}),s.jsx("p",{className:"text-slate-500",children:"Track and resolve student concerns"})]}),s.jsxs(Se,{onClick:()=>V(),className:"bg-amber-600 hover:bg-amber-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Report Issue"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(qh,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:z}),s.jsx("p",{className:"text-sm text-slate-500",children:"Open Issues"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Qs,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:J}),s.jsx("p",{className:"text-sm text-slate-500",children:"In Progress"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(qh,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:E}),s.jsx("p",{className:"text-sm text-slate-500",children:"Critical"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Li,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.filter(Z=>Z.status==="resolved").length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Resolved"})]})]})})]}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"flex-1 min-w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search by title or student...",value:f,onChange:Z=>h(Z.target.value),className:"pl-10"})]})}),s.jsxs(bt,{value:p,onValueChange:v,children:[s.jsx(xt,{className:"w-36",children:s.jsx(wt,{placeholder:"Status"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Status"}),I.map(Z=>s.jsx(Ie,{value:Z.value,children:Z.label},Z.value))]})]}),s.jsxs(bt,{value:m,onValueChange:x,children:[s.jsx(xt,{className:"w-36",children:s.jsx(wt,{placeholder:"Category"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Categories"}),M.map(Z=>s.jsx(Ie,{value:Z.value,children:Z.label},Z.value))]})]})]})})}),s.jsx("div",{className:"space-y-4",children:F.length===0?s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-12 text-center text-slate-500",children:[s.jsx(qh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No issues found"}),s.jsx("p",{className:"text-sm",children:'Click "Report Issue" to create a new issue'})]})}):F.map(Z=>{var ke,Ge,Le;return s.jsx(Qe,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>ee(Z),children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:Z.title}),s.jsx(Ft,{className:G(Z.severity),children:Z.severity}),s.jsx(Ft,{className:se(Z.status),children:(ke=Z.status)==null?void 0:ke.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 mb-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wo,{className:"h-4 w-4"}),(Ge=Z.student)==null?void 0:Ge.first_name," ",(Le=Z.student)==null?void 0:Le.last_name]}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{className:"capitalize",children:Z.category}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{children:new Date(Z.created_at).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-slate-500 line-clamp-2",children:Z.description}),Z.assignee&&s.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Assigned to: ",Z.assignee.first_name," ",Z.assignee.last_name]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",onClick:qe=>qe.stopPropagation(),children:[s.jsxs(bt,{value:Z.status,onValueChange:qe=>Y(Z.id,qe),children:[s.jsx(xt,{className:"w-32 h-8",children:s.jsx(wt,{})}),s.jsx(yt,{children:I.map(qe=>s.jsx(Ie,{value:qe.value,children:qe.label},qe.value))})]}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>V(Z),children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>W(Z.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})]})})},Z.id)})}),s.jsx(ur,{open:g,onOpenChange:y,children:s.jsxs(ir,{className:"max-w-2xl",children:[s.jsx(dr,{children:s.jsx(fr,{children:b?"Edit Issue":"Report New Issue"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Student *"}),s.jsxs(bt,{value:_.student_id,onValueChange:Z=>N({..._,student_id:Z}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select student"})}),s.jsx(yt,{children:i.map(Z=>s.jsxs(Ie,{value:Z.id,children:[Z.first_name," ",Z.last_name]},Z.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Title *"}),s.jsx(We,{value:_.title,onChange:Z=>N({..._,title:Z.target.value}),placeholder:"Brief description of the issue"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Category"}),s.jsxs(bt,{value:_.category,onValueChange:Z=>N({..._,category:Z}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:M.map(Z=>s.jsx(Ie,{value:Z.value,children:Z.label},Z.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Severity"}),s.jsxs(bt,{value:_.severity,onValueChange:Z=>N({..._,severity:Z}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:B.map(Z=>s.jsx(Ie,{value:Z.value,children:Z.label},Z.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Assign To"}),s.jsxs(bt,{value:_.assigned_to||"none",onValueChange:Z=>N({..._,assigned_to:Z==="none"?null:Z}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Unassigned"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"none",children:"Unassigned"}),l.map(Z=>s.jsxs(Ie,{value:Z.id,children:[Z.first_name," ",Z.last_name," (",Z.role,")"]},Z.id))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Description *"}),s.jsx(kr,{value:_.description,onChange:Z=>N({..._,description:Z.target.value}),placeholder:"Detailed description of the issue...",rows:4})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Se,{onClick:K,className:"bg-amber-600 hover:bg-amber-700",children:b?"Update Issue":"Report Issue"})]})]})}),s.jsx(ur,{open:P,onOpenChange:H,children:s.jsxs(ir,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(fr,{children:j==null?void 0:j.title})}),j&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ft,{className:G(j.severity),children:j.severity}),s.jsx(Ft,{className:se(j.status),children:(he=j.status)==null?void 0:he.replace("_"," ")}),s.jsx(Ft,{variant:"outline",className:"capitalize",children:j.category})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Student"}),s.jsxs("p",{className:"text-slate-600",children:[(Q=j.student)==null?void 0:Q.first_name," ",(Pe=j.student)==null?void 0:Pe.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Description"}),s.jsx("p",{className:"text-slate-600",children:j.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Reported By"}),s.jsxs("p",{className:"text-slate-600",children:[(De=j.reporter)==null?void 0:De.first_name," ",(je=j.reporter)==null?void 0:je.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Assigned To"}),s.jsx("p",{className:"text-slate-600",children:j.assignee?`${j.assignee.first_name} ${j.assignee.last_name}`:"Unassigned"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Created"}),s.jsx("p",{className:"text-slate-600",children:new Date(j.created_at).toLocaleString()})]}),j.resolved_at&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Resolved"}),s.jsx("p",{className:"text-slate-600",children:new Date(j.resolved_at).toLocaleString()})]})]}),j.resolution&&s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Resolution"}),s.jsx("p",{className:"text-slate-600",children:j.resolution})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(f0,{className:"h-4 w-4"}),"Comments (",C.length,")"]}),s.jsxs("div",{className:"space-y-3 max-h-48 overflow-y-auto mb-4",children:[C.map(Z=>{var ke,Ge;return s.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:[(ke=Z.user)==null?void 0:ke.first_name," ",(Ge=Z.user)==null?void 0:Ge.last_name]}),s.jsx("p",{className:"text-xs text-slate-400",children:new Date(Z.created_at).toLocaleString()})]}),s.jsx("p",{className:"text-sm text-slate-600",children:Z.comment})]},Z.id)}),C.length===0&&s.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No comments yet"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(We,{placeholder:"Add a comment...",value:U,onChange:Z=>D(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&oe()}),s.jsx(Se,{onClick:oe,children:"Add"})]})]})]})]})})]})},zRe=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState(""),[u,d]=O.useState(!1),[f,h]=O.useState(null),[p,v]=O.useState(!0),[m,x]=O.useState("all"),[g,y]=O.useState({student_id:"",contact_type:"father",contact_person:"",phone_number:"",call_type:"outgoing",purpose:"",notes:"",outcome:"",follow_up_needed:!1,follow_up_date:"",direction:"outgoing",reminder_date:"",reminder_email:"",duration_minutes:""});O.useEffect(()=>{S(),b()},[]);const b=async()=>{const{data:D}=await Ne.from("students").select("id, first_name, last_name, father_name, father_phone, mother_name, mother_phone").eq("is_active",!0).order("last_name");o(D||[])},S=async()=>{v(!0);try{const{data:D,error:M}=await Ne.from("call_logs").select(`
          *,
          student:students(id, first_name, last_name),
          caller:app_users!caller_id(id, first_name, last_name)
        `).order("call_date",{ascending:!1});if(M)throw M;a(D||[])}catch(D){console.error("Error loading call logs:",D),r({variant:"destructive",title:"Error",description:"Failed to load call logs"})}finally{v(!1)}},_=(D=null)=>{D?(h(D),y({student_id:D.student_id||"",contact_type:D.contact_type||"father",contact_person:D.contact_person||"",phone_number:D.phone_number||"",call_type:D.call_type||"outgoing",purpose:D.purpose||"",notes:D.notes||"",outcome:D.outcome||"",follow_up_needed:D.follow_up_needed||!1,follow_up_date:D.follow_up_date||"",direction:D.direction||D.call_type||"outgoing",reminder_date:D.reminder_date?D.reminder_date.split("T")[0]:"",reminder_email:D.reminder_email||"",duration_minutes:D.duration_minutes||""})):(h(null),y({student_id:"",contact_type:"father",contact_person:"",phone_number:"",call_type:"outgoing",purpose:"",notes:"",outcome:"",follow_up_needed:!1,follow_up_date:"",direction:"outgoing",reminder_date:"",reminder_email:"",duration_minutes:""})),d(!0)},N=D=>{const M=i.find(B=>B.id===D);if(M){const B=g.contact_type==="father"?{name:M.father_name,phone:M.father_phone}:{name:M.mother_name,phone:M.mother_phone};y({...g,student_id:D,contact_person:B.name||"",phone_number:B.phone||""})}},j=D=>{const M=i.find(B=>B.id===g.student_id);if(M){const B=D==="father"?{name:M.father_name,phone:M.father_phone}:{name:M.mother_name,phone:M.mother_phone};y({...g,contact_type:D,contact_person:B.name||"",phone_number:B.phone||""})}else y({...g,contact_type:D})},A=async()=>{if(!g.student_id||!g.contact_person){r({variant:"destructive",title:"Error",description:"Please select a student and contact person"});return}try{const D={student_id:g.student_id,caller_id:t==null?void 0:t.id,contact_type:g.contact_type,contact_person:g.contact_person,phone_number:g.phone_number,call_type:g.call_type,purpose:g.purpose,notes:g.notes,outcome:g.outcome,follow_up_needed:g.follow_up_needed,follow_up_date:g.follow_up_date||null,call_date:(f==null?void 0:f.call_date)||new Date().toISOString(),direction:g.direction||g.call_type,reminder_date:g.reminder_date||null,reminder_email:g.reminder_email||null,duration_minutes:g.duration_minutes?parseInt(g.duration_minutes):null};if(f){const{error:M}=await Ne.from("call_logs").update(D).eq("id",f.id);if(M)throw M;r({title:"Success",description:"Call log updated"})}else{const{error:M}=await Ne.from("call_logs").insert([D]);if(M)throw M;r({title:"Success",description:"Call log created"})}d(!1),S()}catch(D){console.error("Error saving call log:",D),r({variant:"destructive",title:"Error",description:"Failed to save call log"})}},P=async D=>{if(window.confirm("Are you sure you want to delete this call log?"))try{const{error:M}=await Ne.from("call_logs").delete().eq("id",D);if(M)throw M;r({title:"Success",description:"Call log deleted"}),S()}catch{r({variant:"destructive",title:"Error",description:"Failed to delete call log"})}},H=async D=>{try{const{error:M}=await Ne.from("call_logs").update({follow_up_needed:!D.follow_up_needed}).eq("id",D.id);if(M)throw M;S()}catch{r({variant:"destructive",title:"Error",description:"Failed to update"})}},C=n.filter(D=>{var B,I,q,F,z,J,E;const M=((B=D.contact_person)==null?void 0:B.toLowerCase().includes(l.toLowerCase()))||((q=(I=D.student)==null?void 0:I.first_name)==null?void 0:q.toLowerCase().includes(l.toLowerCase()))||((z=(F=D.student)==null?void 0:F.last_name)==null?void 0:z.toLowerCase().includes(l.toLowerCase()))||((J=D.purpose)==null?void 0:J.toLowerCase().includes(l.toLowerCase()));if(m==="all")return M;if(m==="follow_up")return M&&D.follow_up_needed;if(m==="today"){const V=new Date().toISOString().split("T")[0];return M&&((E=D.call_date)==null?void 0:E.split("T")[0])===V}return M}),k=n.filter(D=>{var M;return((M=D.call_date)==null?void 0:M.split("T")[0])===new Date().toISOString().split("T")[0]}).length,U=n.filter(D=>D.follow_up_needed).length;return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Call Logs"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Track communication with parents and guardians"})]}),s.jsxs(Se,{onClick:()=>_(),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[s.jsx(on,{size:20,className:"mr-2"}),"Log Call"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(tf,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Calls"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Cs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:k}),s.jsx("p",{className:"text-sm text-slate-500",children:"Today"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(f0,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:U}),s.jsx("p",{className:"text-sm text-slate-500",children:"Need Follow-up"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Wo,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:new Set(n.map(D=>D.student_id)).size}),s.jsx("p",{className:"text-sm text-slate-500",children:"Students Contacted"})]})]})})]}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search by student, contact, or purpose...",value:l,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsx(kl,{value:m,onValueChange:x,children:s.jsxs(Xo,{children:[s.jsx(wr,{value:"all",children:"All"}),s.jsx(wr,{value:"today",children:"Today"}),s.jsx(wr,{value:"follow_up",children:"Follow-up Needed"})]})})]})})}),s.jsxs("div",{className:"space-y-4",children:[C.map(D=>{var M,B;return s.jsx(Qe,{className:D.follow_up_needed?"border-l-4 border-l-amber-400":"",children:s.jsx(Ze,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[(M=D.student)==null?void 0:M.first_name," ",(B=D.student)==null?void 0:B.last_name]}),s.jsx(Ft,{variant:D.call_type==="outgoing"?"default":"secondary",children:D.call_type==="outgoing"||D.direction==="outgoing"?" Outgoing":" Incoming"}),D.duration_minutes&&s.jsxs(Ft,{variant:"outline",className:"text-slate-500",children:[D.duration_minutes," min"]}),D.follow_up_needed&&s.jsx(Ft,{variant:"outline",className:"text-amber-600 border-amber-400",children:"Follow-up Needed"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Contact:"})," ",s.jsx("span",{className:"font-medium",children:D.contact_person}),s.jsxs("span",{className:"text-slate-400 ml-1",children:["(",D.contact_type,")"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Phone:"})," ",s.jsx("span",{className:"font-medium",children:D.phone_number||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Purpose:"})," ",s.jsx("span",{className:"font-medium",children:D.purpose||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Date:"})," ",s.jsx("span",{className:"font-medium",children:new Date(D.call_date).toLocaleDateString()})]})]}),D.notes&&s.jsx("p",{className:"text-sm text-slate-600 mt-2 bg-slate-50 p-2 rounded",children:D.notes}),D.outcome&&s.jsxs("p",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"text-slate-500",children:"Outcome:"})," ",D.outcome]}),D.follow_up_date&&s.jsxs("p",{className:"text-sm text-amber-600",children:["Follow-up scheduled: ",new Date(D.follow_up_date).toLocaleDateString()]}),D.reminder_date&&s.jsxs("p",{className:"text-sm text-purple-600",children:[" Reminder: ",new Date(D.reminder_date).toLocaleDateString(),D.reminder_email&&`  ${D.reminder_email}`]}),D.caller&&s.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Logged by: ",D.caller.first_name," ",D.caller.last_name]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>H(D),className:D.follow_up_needed?"text-amber-600 hover:bg-amber-50":"hover:bg-slate-100",title:"Toggle follow-up",children:s.jsx(Li,{size:18})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>_(D),className:"hover:bg-slate-100",children:s.jsx(ha,{size:18})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>P(D.id),className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(Qa,{size:18})})]})]})})},D.id)}),C.length===0&&s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-12 text-center text-slate-500",children:[s.jsx(tf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No call logs found"}),s.jsx("p",{className:"text-sm",children:"Start logging calls to track parent communication"})]})})]}),s.jsx(ur,{open:u,onOpenChange:d,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:f?"Edit Call Log":"Log New Call"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Student *"}),s.jsxs(bt,{value:g.student_id,onValueChange:N,children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select student"})}),s.jsx(yt,{children:i.map(D=>s.jsxs(Ie,{value:D.id,children:[D.first_name," ",D.last_name]},D.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Contact Type"}),s.jsxs(bt,{value:g.contact_type,onValueChange:j,children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"father",children:"Father"}),s.jsx(Ie,{value:"mother",children:"Mother"}),s.jsx(Ie,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Call Type"}),s.jsxs(bt,{value:g.call_type,onValueChange:D=>y({...g,call_type:D}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"outgoing",children:"Outgoing"}),s.jsx(Ie,{value:"incoming",children:"Incoming"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Contact Person *"}),s.jsx(We,{value:g.contact_person,onChange:D=>y({...g,contact_person:D.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Phone Number"}),s.jsx(We,{value:g.phone_number,onChange:D=>y({...g,phone_number:D.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Purpose"}),s.jsx(We,{value:g.purpose,onChange:D=>y({...g,purpose:D.target.value}),placeholder:"e.g., Attendance, Progress update, Behavior"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Notes"}),s.jsx(kr,{value:g.notes,onChange:D=>y({...g,notes:D.target.value}),rows:3,placeholder:"Details of the conversation..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Outcome"}),s.jsx(We,{value:g.outcome,onChange:D=>y({...g,outcome:D.target.value}),placeholder:"Result or action items from the call"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Direction"}),s.jsxs(bt,{value:g.direction,onValueChange:D=>y({...g,direction:D,call_type:D}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"outgoing",children:" Outgoing"}),s.jsx(Ie,{value:"incoming",children:" Incoming"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Duration (minutes)"}),s.jsx(We,{type:"number",value:g.duration_minutes,onChange:D=>y({...g,duration_minutes:D.target.value}),placeholder:"e.g., 15"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Reminder Date"}),s.jsx(We,{type:"date",value:g.reminder_date,onChange:D=>y({...g,reminder_date:D.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Reminder Email"}),s.jsx(We,{type:"email",value:g.reminder_email,onChange:D=>y({...g,reminder_email:D.target.value}),placeholder:"email@example.com"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.follow_up_needed,onChange:D=>y({...g,follow_up_needed:D.target.checked}),className:"rounded border-slate-300"}),s.jsx("span",{className:"text-sm",children:"Follow-up needed"})]}),g.follow_up_needed&&s.jsx(We,{type:"date",value:g.follow_up_date,onChange:D=>y({...g,follow_up_date:D.target.value}),className:"w-40"})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(Se,{onClick:A,className:"bg-green-600 hover:bg-green-700",children:f?"Update":"Save Call Log"})]})]})})]})};function qn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ko(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Rm(e,t){const r=qn(e);return isNaN(t)?Ko(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function qI(e,t){const r=qn(e);if(isNaN(t))return Ko(e,NaN);if(!t)return r;const n=r.getDate(),a=Ko(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const BG=6048e5,VRe=864e5,UG=6e4,zG=36e5;let HRe={};function yx(){return HRe}function ac(e,t){var l,c,u,d;const r=yx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=qn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Mb(e){return ac(e,{weekStartsOn:1})}function VG(e){const t=qn(e),r=t.getFullYear(),n=Ko(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Mb(n),i=Ko(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Mb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Iv(e){const t=qn(e);return t.setHours(0,0,0,0),t}function GI(e){const t=qn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function WRe(e,t){const r=Iv(e),n=Iv(t),a=+r-GI(r),i=+n-GI(n);return Math.round((a-i)/VRe)}function qRe(e){const t=VG(e),r=Ko(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Mb(r)}function KI(e,t){const r=t*7;return Rm(e,r)}function GRe(e){return Ko(e,Date.now())}function LA(e,t){const r=Iv(e),n=Iv(t);return+r==+n}function KRe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YRe(e){if(!KRe(e)&&typeof e!="number")return!1;const t=qn(e);return!isNaN(Number(t))}function YI(e){const t=qn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function XRe(e,t){const r=qn(e.start),n=qn(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=(t==null?void 0:t.step)??1;if(!l)return[];l<0&&(l=-l,a=!a);const c=[];for(;+o<=i;)c.push(qn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function XI(e){const t=qn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function JRe(e){const t=qn(e),r=Ko(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function cy(e,t){var l,c,u,d;const r=yx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=qn(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const QRe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZRe=(e,t,r)=>{let n;const a=QRe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Qj(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const e7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},n7e={date:Qj({formats:e7e,defaultWidth:"full"}),time:Qj({formats:t7e,defaultWidth:"full"}),dateTime:Qj({formats:r7e,defaultWidth:"full"})},a7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i7e=(e,t,r,n)=>a7e[e];function vm(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const s7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},o7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f7e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},h7e={ordinalNumber:f7e,era:vm({values:s7e,defaultWidth:"wide"}),quarter:vm({values:o7e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vm({values:l7e,defaultWidth:"wide"}),day:vm({values:c7e,defaultWidth:"wide"}),dayPeriod:vm({values:u7e,defaultWidth:"wide",formattingValues:d7e,defaultFormattingWidth:"wide"})};function xm(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?m7e(l,f=>f.test(o)):p7e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function p7e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function m7e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function g7e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const v7e=/^(\d+)(th|st|nd|rd)?/i,x7e=/\d+/i,y7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},b7e={any:[/^b/i,/^(a|c)/i]},w7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_7e={any:[/1/i,/2/i,/3/i,/4/i]},j7e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},S7e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N7e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},A7e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T7e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},C7e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E7e={ordinalNumber:g7e({matchPattern:v7e,parsePattern:x7e,valueCallback:e=>parseInt(e,10)}),era:xm({matchPatterns:y7e,defaultMatchWidth:"wide",parsePatterns:b7e,defaultParseWidth:"any"}),quarter:xm({matchPatterns:w7e,defaultMatchWidth:"wide",parsePatterns:_7e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xm({matchPatterns:j7e,defaultMatchWidth:"wide",parsePatterns:S7e,defaultParseWidth:"any"}),day:xm({matchPatterns:N7e,defaultMatchWidth:"wide",parsePatterns:A7e,defaultParseWidth:"any"}),dayPeriod:xm({matchPatterns:T7e,defaultMatchWidth:"any",parsePatterns:C7e,defaultParseWidth:"any"})},k7e={code:"en-US",formatDistance:ZRe,formatLong:n7e,formatRelative:i7e,localize:h7e,match:E7e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function P7e(e){const t=qn(e);return WRe(t,JRe(t))+1}function O7e(e){const t=qn(e),r=+Mb(t)-+qRe(t);return Math.round(r/BG)+1}function HG(e,t){var d,f,h,p;const r=qn(e),n=r.getFullYear(),a=yx(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ko(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ac(o,t),c=Ko(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=ac(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function F7e(e,t){var l,c,u,d;const r=yx(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=HG(e,t),i=Ko(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ac(i,t)}function D7e(e,t){const r=qn(e),n=+ac(r,t)-+F7e(r,t);return Math.round(n/BG)+1}function Jr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Xc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Jr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Jr(r+1,2)},d(e,t){return Jr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Jr(e.getHours()%12||12,t.length)},H(e,t){return Jr(e.getHours(),t.length)},m(e,t){return Jr(e.getMinutes(),t.length)},s(e,t){return Jr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Jr(a,t.length)}},ch={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JI={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Xc.y(e,t)},Y:function(e,t,r,n){const a=HG(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Jr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Jr(i,t.length)},R:function(e,t){const r=VG(e);return Jr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Jr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Jr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Jr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Xc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Jr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=D7e(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Jr(a,t.length)},I:function(e,t,r){const n=O7e(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Jr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Xc.d(e,t)},D:function(e,t,r){const n=P7e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Jr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Jr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Jr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Jr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=ch.noon:n===0?a=ch.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=ch.evening:n>=12?a=ch.afternoon:n>=4?a=ch.morning:a=ch.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Xc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Xc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Jr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Jr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Xc.s(e,t)},S:function(e,t){return Xc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ZI(n);case"XXXX":case"XX":return wd(n);case"XXXXX":case"XXX":default:return wd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ZI(n);case"xxxx":case"xx":return wd(n);case"xxxxx":case"xxx":default:return wd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+QI(n,":");case"OOOO":default:return"GMT"+wd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+QI(n,":");case"zzzz":default:return"GMT"+wd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Jr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Jr(n,t.length)}};function QI(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Jr(i,2)}function ZI(e,t){return e%60===0?(e>0?"-":"+")+Jr(Math.abs(e)/60,2):wd(e,t)}function wd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Jr(Math.trunc(n/60),2),i=Jr(n%60,2);return r+a+t+i}const eM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},WG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},L7e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return eM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",eM(n,t)).replace("{{time}}",WG(a,t))},I7e={p:WG,P:L7e},M7e=/^D+$/,R7e=/^Y+$/,$7e=["D","DD","YY","YYYY"];function B7e(e){return M7e.test(e)}function U7e(e){return R7e.test(e)}function z7e(e,t,r){const n=V7e(e,t,r);if(console.warn(n),$7e.includes(e))throw new RangeError(n)}function V7e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const H7e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,W7e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,q7e=/^'([^]*?)'?$/,G7e=/''/g,K7e=/[a-zA-Z]/;function Jc(e,t,r){var d,f,h,p,v,m,x,g;const n=yx(),a=(r==null?void 0:r.locale)??n.locale??k7e,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,l=qn(e);if(!YRe(l))throw new RangeError("Invalid time value");let c=t.match(W7e).map(y=>{const b=y[0];if(b==="p"||b==="P"){const S=I7e[b];return S(y,a.formatLong)}return y}).join("").match(H7e).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:Y7e(y)};if(JI[b])return{isToken:!0,value:y};if(b.match(K7e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&U7e(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&B7e(b))&&z7e(b,t,String(e));const S=JI[b[0]];return S(l,b,a.localize,u)}).join("")}function Y7e(e){const t=e.match(q7e);return t?t[1].replace(G7e,"'"):e}function X7e(e){return qn(e).getHours()}function J7e(e,t){const r=qn(e),n=qn(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function uy(e){return LA(e,GRe(e))}function ym(e,t){const r=(t==null?void 0:t.additionalDigits)??2,n=t$e(e);let a;if(n.date){const c=r$e(n.date,r);a=n$e(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=a$e(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=i$e(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const dy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Q7e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Z7e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,e$e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function t$e(e){const t={},r=e.split(dy.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],dy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(dy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=dy.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function r$e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function n$e(e,t){if(t===null)return new Date(NaN);const r=e.match(Q7e);if(!r)return new Date(NaN);const n=!!r[4],a=bm(r[1]),i=bm(r[2])-1,o=bm(r[3]),l=bm(r[4]),c=bm(r[5])-1;if(n)return u$e(t,l,c)?s$e(t,l,c):new Date(NaN);{const u=new Date(0);return!l$e(t,i,o)||!c$e(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function bm(e){return e?parseInt(e):1}function a$e(e){const t=e.match(Z7e);if(!t)return NaN;const r=Zj(t[1]),n=Zj(t[2]),a=Zj(t[3]);return d$e(r,n,a)?r*zG+n*UG+a*1e3:NaN}function Zj(e){return e&&parseFloat(e.replace(",","."))||0}function i$e(e){if(e==="Z")return 0;const t=e.match(e$e);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return f$e(n,a)?r*(n*zG+a*UG):NaN}function s$e(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const o$e=[31,null,31,30,31,30,31,31,30,31,30,31];function qG(e){return e%400===0||e%4===0&&e%100!==0}function l$e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(o$e[t]||(qG(e)?29:28))}function c$e(e,t){return t>=1&&t<=(qG(e)?366:365)}function u$e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function d$e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function f$e(e,t){return t>=0&&t<=59}const h$e=({isOpen:e,onClose:t,meeting:r,students:n,onSuccess:a})=>{const{toast:i}=Cr(),[o,l]=O.useState(!1),[c,u]=O.useState({student_id:"",title:"",description:"",meeting_date:"",meeting_time:"",duration:60,location:"",status:"scheduled"});O.useEffect(()=>{if(r){const g=!r.id,y=r.meeting_date?new Date(r.meeting_date):new Date;u({student_id:r.student_id||"",title:r.title||"",description:r.description||"",meeting_date:g&&r.meeting_date?r.meeting_date:y.toISOString().split("T")[0],meeting_time:g&&r.meeting_time?r.meeting_time:y.toTimeString().slice(0,5),duration:r.duration||60,location:r.location||"",status:r.status||"scheduled"})}else u({student_id:"",title:"",description:"",meeting_date:new Date().toISOString().split("T")[0],meeting_time:"09:00",duration:60,location:"",status:"scheduled"})},[r,e]);const d=async g=>{if(u(y=>({...y,student_id:g})),g){const y=n.find(b=>b.id===g);y&&!c.title&&u(b=>({...b,title:`Meeting w/ ${y.name}'s Parents`}))}},f=async g=>{if(g&&g.preventDefault(),l(!0),!c.student_id||!c.title||!c.meeting_date||!c.meeting_time){i({variant:"destructive",title:"Error",description:"Please fill in all required fields"}),l(!1);return}const y=new Date(`${c.meeting_date}T${c.meeting_time}`),b={student_id:c.student_id,title:c.title,description:c.description,meeting_date:y.toISOString(),duration:parseInt(c.duration),location:c.location,status:c.status},{error:S}=r&&r.id?await Ne.from("meetings").update(b).eq("id",r.id):await Ne.from("meetings").insert([b]);S?i({variant:"destructive",title:"Error",description:`Failed to ${r&&r.id?"update":"create"} meeting`}):(i({title:"Success",description:`Meeting ${r&&r.id?"updated":"created"} successfully`}),a(),t()),l(!1)},h=async()=>{if(!(r!=null&&r.id))return;l(!0);const{error:g}=await Ne.from("meetings").update({status:"completed"}).eq("id",r.id);g?i({variant:"destructive",title:"Error",description:"Failed to update status"}):(i({title:"Completed",description:"Meeting marked as completed"}),a(),t()),l(!1)},p=()=>{u(y=>({...y,status:"scheduled"}));const g=document.getElementById("meeting_date");g&&(g.focus(),g.showPicker&&g.showPicker()),i({title:"Rescheduling",description:"Please select a new date and time, then click Update."})},v=n.find(g=>g.id===c.student_id),m=r&&r.meeting_date&&new Date(r.meeting_date)<new Date,x=r&&r.id;return s.jsx(ur,{open:e,onOpenChange:t,children:s.jsxs(ir,{className:"max-w-2xl",children:[s.jsx(dr,{children:s.jsx(fr,{children:x?"Edit Meeting":"Schedule Meeting"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"student",children:"Student *"}),s.jsxs("select",{id:"student",value:c.student_id,onChange:g=>d(g.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a student"}),n.map(g=>s.jsxs("option",{value:g.id,children:[g.name," - ",g.class]},g.id))]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"title",children:"Title *"}),s.jsx("input",{id:"title",type:"text",value:c.title,onChange:g=>u({...c,title:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"meeting_date",children:"Date *"}),s.jsx("input",{id:"meeting_date",type:"date",value:c.meeting_date,onChange:g=>u({...c,meeting_date:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"meeting_time",children:"Time *"}),s.jsx("input",{id:"meeting_time",type:"time",value:c.meeting_time,onChange:g=>u({...c,meeting_time:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"duration",children:"Duration (min)"}),s.jsx("input",{id:"duration",type:"number",min:"15",step:"15",value:c.duration,onChange:g=>u({...c,duration:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"status",children:"Status"}),s.jsxs("select",{id:"status",value:c.status,onChange:g=>u({...c,status:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"description",children:"Notes / Agenda"}),s.jsx("textarea",{id:"description",value:c.description,onChange:g=>u({...c,description:g.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between pt-4 gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[x&&m&&c.status!=="completed"&&s.jsxs(Se,{type:"button",variant:"outline",className:"bg-green-50 text-green-700 hover:bg-green-100 border-green-200",onClick:h,children:[s.jsx(Li,{size:16,className:"mr-2"})," Complete"]}),x&&c.status!=="completed"&&s.jsxs(Se,{type:"button",variant:"outline",className:"bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200",onClick:p,children:[s.jsx(tre,{size:16,className:"mr-2"})," Reschedule"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),s.jsx(Se,{type:"submit",disabled:o,className:"bg-gradient-to-r from-indigo-500 to-indigo-600",children:o?s.jsx(In,{className:"animate-spin h-4 w-4"}):x?"Update":"Schedule"})]})]})]})}),s.jsxs("div",{className:"border-l pl-6 hidden md:block",children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[s.jsx(Wo,{size:16})," Student Details"]}),v?s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 block text-xs uppercase",children:"Name"}),s.jsx("span",{className:"font-medium",children:v.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 block text-xs uppercase",children:"Class"}),s.jsx("span",{className:"font-medium",children:v.class})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 block text-xs uppercase",children:"Parents"}),s.jsxs("div",{children:["F: ",v.father_name||"-"]}),s.jsxs("div",{children:["M: ",v.mother_name||"-"]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx("p",{className:"text-xs text-slate-400 italic",children:'Click "Update" or "Schedule" to save the meeting with this student.'})})]}):s.jsx("div",{className:"text-slate-400 text-sm italic py-8 text-center",children:"Select a student to view details."})]})]})]})})},p$e=()=>{const e=new Date,t=e.getFullYear();return e.getMonth()>=7?`${t}-${t+1}`:`${t-1}-${t}`},m$e=()=>{const t=new Date().getFullYear(),r=[];for(let n=5;n>=1;n--)r.push(`${t-n}-${t-n+1}`);r.push(`${t}-${t+1}`);for(let n=1;n<=2;n++)r.push(`${t+n}-${t+n+1}`);return r},g$e=({isOpen:e,onClose:t,studentId:r})=>{var je,Z,ke,Ge,Le,qe,ge;const{toast:n}=Cr(),[a,i]=O.useState(null),[o,l]=O.useState([]),[c,u]=O.useState([]),[d,f]=O.useState([]),[h,p]=O.useState([]),[v,m]=O.useState([]),[x,g]=O.useState([]),[y,b]=O.useState([]),[S,_]=O.useState([]),[N,j]=O.useState(""),[A,P]=O.useState(!1),[H,C]=O.useState(!1),[k,U]=O.useState(!1),[D,M]=O.useState(!1),[B,I]=O.useState("all"),q=O.useMemo(()=>m$e(),[]),[F,z]=O.useState({fee_id:"",amount:"",notes:""}),[J,E]=O.useState({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),[V,K]=O.useState({totalAmount:"",payment_method:"cash",reference_number:"",notes:"",selectedStudents:{}});O.useEffect(()=>{r&&e&&W()},[r,e]),O.useEffect(()=>{if(B==="all")p(v),g(y);else{const de=v.filter(ft=>{var _t;return((_t=ft.fee)==null?void 0:_t.academic_year)===B});p(de);const ze=new Set(de.map(ft=>ft.id)),Ke=y.filter(ft=>ze.has(ft.student_fee_id));g(Ke)}},[B,v,y]);const W=async()=>{P(!0);try{const{data:de}=await Ne.from("students").select(`
          *,
          class:classes!class_id(name, grade:grades(name))
        `).eq("id",r).single();if(i(de),de!=null&&de.father_phone){const{data:Et}=await Ne.from("students").select(`
            id, first_name, last_name, hebrew_name, name,
            class:classes!class_id(name, grade:grades(name))
          `).eq("father_phone",de.father_phone).neq("id",r).eq("status","active");if(l(Et||[]),Et&&Et.length>0){const _e=Et.map(gt=>gt.id),ot=[r,..._e],{data:rt}=await Ne.from("student_fees").select(`
              *,
              fee:fees(name, description, due_date, academic_year),
              student:students(id, first_name, last_name, hebrew_name)
            `).in("student_id",ot).in("status",["pending","partial"]).order("created_at",{ascending:!1}),qt={};(rt||[]).forEach(gt=>{qt[gt.student_id]||(qt[gt.student_id]={selected:!1,fees:[]}),qt[gt.student_id].fees.push(gt)}),K(gt=>({...gt,selectedStudents:qt}))}}else l([]);const{data:ze}=await Ne.from("student_issues").select(`
          *,
          reported_by_user:app_users!student_issues_reported_by_fkey(first_name, last_name)
        `).eq("student_id",r).order("created_at",{ascending:!1});u(ze||[]);const{data:Ke}=await Ne.from("student_fees").select(`
          *,
          fee:fees(name, description, due_date, academic_year, fee_type:fee_types(name, category))
        `).eq("student_id",r).order("created_at",{ascending:!1});m(Ke||[]),p(Ke||[]);const{data:ft}=await Ne.from("payments").select(`
          *,
          student_fee:student_fees(id, fee:fees(name, academic_year))
        `).eq("student_id",r).order("payment_date",{ascending:!1});b(ft||[]),g(ft||[]);const{data:_t}=await Ne.from("fees").select("id, name, amount, fee_type:fee_types(name)").eq("status","active");_(_t||[]);const{data:St}=await Ne.from("teacher_remarks").select("*").eq("student_id",r).order("created_at",{ascending:!1});f(St||[])}catch(de){console.error("Error loading profile:",de)}finally{P(!1)}},ee=(()=>{const de=h.reduce((_t,St)=>_t+(parseFloat(St.amount)||0),0),ze=h.reduce((_t,St)=>_t+(parseFloat(St.amount_paid)||0),0),Ke=de-ze,ft=h.filter(_t=>_t.status==="waived").reduce((_t,St)=>_t+(parseFloat(St.amount)||0),0);return{totalCharges:de,totalPaid:ze,openBalance:Ke,waived:ft}})(),oe=async()=>{if(!F.fee_id){n({variant:"destructive",title:"Error",description:"Please select a charge"});return}const de=S.find(Ke=>Ke.id===F.fee_id),ze=F.amount||(de==null?void 0:de.amount)||0;try{const{error:Ke}=await Ne.from("student_fees").insert({student_id:r,fee_id:F.fee_id,amount:parseFloat(ze),amount_paid:0,status:"pending",notes:F.notes||null});if(Ke)throw Ke;n({title:"Added",description:"Charge has been added"}),z({fee_id:"",amount:"",notes:""}),C(!1),W()}catch(Ke){console.error("Error adding charge:",Ke),n({variant:"destructive",title:"Error",description:"Failed to add charge"})}},G=async()=>{if(!J.student_fee_id||!J.amount){n({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}try{const{error:de}=await Ne.from("payments").insert({student_id:r,student_fee_id:J.student_fee_id,amount:parseFloat(J.amount),payment_method:J.payment_method,reference_number:J.reference_number||null,payment_date:new Date().toISOString(),notes:J.notes||null});if(de)throw de;const ze=h.find(Ke=>Ke.id===J.student_fee_id);if(ze){const Ke=(parseFloat(ze.amount_paid)||0)+parseFloat(J.amount),ft=Ke>=parseFloat(ze.amount)?"paid":"partial";await Ne.from("student_fees").update({amount_paid:Ke,status:ft}).eq("id",J.student_fee_id)}n({title:"Paid",description:"Payment has been recorded"}),E({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),U(!1),W()}catch(de){console.error("Error adding payment:",de),n({variant:"destructive",title:"Error",description:"Cannot record payment"})}},se=async()=>{if(!N.trim())return;const{error:de}=await Ne.from("teacher_remarks").insert({student_id:r,content:N,teacher_name:"Current User"});de||(j(""),W())},he=async()=>{var _t;if(!V.totalAmount||parseFloat(V.totalAmount)<=0){n({variant:"destructive",title:"Error",description:"Please enter an amount"});return}const de=[];if(Object.entries(V.selectedStudents).forEach(([St,Et])=>{Et.selected&&Et.fees&&Et.fees.forEach(_e=>{var rt,qt,gt;const ot=parseFloat(_e.amount)-parseFloat(_e.amount_paid||0);ot>0&&de.push({studentId:St,feeId:_e.id,feeName:(rt=_e.fee)==null?void 0:rt.name,balance:ot,studentName:((qt=_e.student)==null?void 0:qt.hebrew_name)||((gt=_e.student)==null?void 0:gt.first_name)})})}),de.length===0){n({variant:"destructive",title:"Error",description:"Please select students with open balances"});return}let ze=parseFloat(V.totalAmount);const Ke=[],ft=[];for(const St of de){if(ze<=0)break;const Et=Math.min(ze,St.balance);ze-=Et,Ke.push({student_id:St.studentId,student_fee_id:St.feeId,amount:Et,payment_method:V.payment_method,reference_number:V.reference_number||null,payment_date:new Date().toISOString(),notes:V.notes||`Family Payment - ${St.studentName}`});const _e=(_t=V.selectedStudents[St.studentId])==null?void 0:_t.fees.find(qt=>qt.id===St.feeId),ot=(parseFloat(_e==null?void 0:_e.amount_paid)||0)+Et,rt=ot>=parseFloat(_e==null?void 0:_e.amount)?"paid":"partial";ft.push({id:St.feeId,amount_paid:ot,status:rt})}try{const{error:St}=await Ne.from("payments").insert(Ke);if(St)throw St;for(const Et of ft)await Ne.from("student_fees").update({amount_paid:Et.amount_paid,status:Et.status}).eq("id",Et.id);n({title:"Family Payment Recorded",description:`$${parseFloat(V.totalAmount).toFixed(2)} split across ${Ke.length} charges`}),K({totalAmount:"",payment_method:"cash",reference_number:"",notes:"",selectedStudents:{}}),M(!1),W()}catch(St){console.error("Error processing family payment:",St),n({variant:"destructive",title:"Error",description:"Cannot process payment"})}},Q=de=>{K(ze=>{var Ke;return{...ze,selectedStudents:{...ze.selectedStudents,[de]:{...ze.selectedStudents[de],selected:!((Ke=ze.selectedStudents[de])!=null&&Ke.selected)}}}})},Pe=()=>{let de=0;return Object.entries(V.selectedStudents).forEach(([ze,Ke])=>{Ke.selected&&Ke.fees&&Ke.fees.forEach(ft=>{de+=parseFloat(ft.amount)-parseFloat(ft.amount_paid||0)})}),de},De=de=>{const ze={pending:"bg-yellow-100 text-yellow-800",partial:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",waived:"bg-gray-100 text-gray-800",overdue:"bg-red-100 text-red-800"},Ke={pending:"Pending",partial:"Partial",paid:"Paid",waived:"Waived",overdue:"Overdue"};return s.jsx(Ft,{className:ze[de]||"bg-gray-100",children:Ke[de]||de})};return A?s.jsx(ur,{open:e,onOpenChange:t,children:s.jsx(ir,{className:"max-w-4xl",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(In,{className:"h-8 w-8 animate-spin text-blue-600"})})})}):a?s.jsx(ur,{open:e,onOpenChange:t,children:s.jsxs(ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[s.jsxs(dr,{children:[s.jsxs(fr,{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Wo,{className:"h-6 w-6"}),a.hebrew_name||a.name||`${a.first_name} ${a.last_name}`]}),s.jsxs("p",{className:"text-slate-500",children:["Class: ",((je=a.class)==null?void 0:je.name)||"N/A"," |",((ke=(Z=a.class)==null?void 0:Z.grade)==null?void 0:ke.name)&&` ${a.class.grade.name}`]})]}),s.jsxs(kl,{defaultValue:"details",className:"mt-4",children:[s.jsxs(Xo,{className:"grid w-full grid-cols-4",children:[s.jsx(wr,{value:"details",children:"Details"}),s.jsxs(wr,{value:"financial",className:"flex items-center gap-1",children:[s.jsx(gs,{className:"h-4 w-4"}),"Account (",ee.openBalance>0?`$${ee.openBalance.toFixed(2)}`:"Balance",")"]}),s.jsxs(wr,{value:"issues",children:["Issues (",c.length,")"]}),s.jsxs(wr,{value:"remarks",children:["Remarks (",d.length,")"]})]}),s.jsxs(Qr,{value:"details",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Wo,{size:16})," Parents"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Father:"})," ",a.father_name||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Mother:"})," ",a.mother_name||"N/A"]})]})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(tf,{size:16})," Contact"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Father Phone:"})," ",a.father_phone||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Mother Phone:"})," ",a.mother_phone||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",a.address||"N/A",", ",a.city||""]})]})]})]}),o.length>0&&s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(La,{size:16,className:"text-purple-600"}),"Siblings in School (",o.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(de=>{var ze;return s.jsxs("div",{className:"px-3 py-2 bg-white rounded-lg border border-purple-200 text-sm",children:[s.jsxs("span",{className:"font-medium",children:[de.hebrew_name||de.first_name," ",de.last_name]}),s.jsxs("span",{className:"text-purple-600 mr-2",children:["| ",(ze=de.class)==null?void 0:ze.name]})]},de.id)})})]})]}),s.jsxs(Qr,{value:"financial",className:"mt-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-100 rounded-lg",children:[s.jsx(Cs,{className:"h-5 w-5 text-slate-600"}),s.jsx(ye,{className:"font-medium",children:"Year:"}),s.jsxs(bt,{value:B,onValueChange:I,children:[s.jsx(xt,{className:"w-[180px]",children:s.jsx(wt,{placeholder:"Select year..."})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Years"}),q.map(de=>s.jsxs(Ie,{value:de,children:[de," ",de===p$e()&&"(Current)"]},de))]})]}),s.jsx("span",{className:"text-sm text-slate-500",children:B==="all"?`Showing all ${v.length} charges`:`Showing ${h.length} charges for ${B}`})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Charges"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:["$",ee.totalCharges.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["$",ee.totalPaid.toFixed(2)]})]}),s.jsxs("div",{className:`p-4 rounded-lg border ${ee.openBalance>0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("p",{className:`text-sm font-medium ${ee.openBalance>0?"text-red-600":"text-gray-600"}`,children:"Open Balance"}),s.jsxs("p",{className:`text-2xl font-bold ${ee.openBalance>0?"text-red-800":"text-gray-800"}`,children:["$",ee.openBalance.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Waived"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",ee.waived.toFixed(2)]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Se,{onClick:()=>C(!H),variant:H?"secondary":"default",size:"sm",children:[s.jsx(on,{className:"h-4 w-4 ml-1"}),"Add Charge"]}),s.jsxs(Se,{onClick:()=>U(!k),variant:k?"secondary":"outline",size:"sm",children:[s.jsx(Ym,{className:"h-4 w-4 ml-1"}),"Record Payment"]}),o.length>0&&s.jsxs(Se,{onClick:()=>M(!D),variant:D?"secondary":"outline",size:"sm",className:"bg-purple-100 hover:bg-purple-200 text-purple-800 border-purple-300",children:[s.jsx(La,{className:"h-4 w-4 ml-1"}),"Family Payment (",o.length+1," children)"]})]}),D&&o.length>0&&s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-300 space-y-4",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(La,{className:"h-5 w-5 text-purple-600"}),"Family Payment - ",a.father_name||"Family"]}),s.jsx("p",{className:"text-sm text-purple-700",children:"Select children and the payment will be split across their open balances"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Select Children:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${(Ge=V.selectedStudents[r])!=null&&Ge.selected?"bg-purple-100 border-purple-400":"bg-white border-gray-200 hover:border-purple-300"}`,onClick:()=>Q(r),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:((Le=V.selectedStudents[r])==null?void 0:Le.selected)||!1,onChange:()=>{},className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[a.hebrew_name||a.first_name," ",a.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:(qe=a.class)==null?void 0:qe.name}),((ge=V.selectedStudents[r])==null?void 0:ge.fees)&&s.jsxs("p",{className:"text-sm text-red-600 font-medium",children:["Balance: $",V.selectedStudents[r].fees.reduce((de,ze)=>de+parseFloat(ze.amount)-parseFloat(ze.amount_paid||0),0).toFixed(2)]})]})]})}),o.map(de=>{var ze,Ke,ft,_t;return s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${(ze=V.selectedStudents[de.id])!=null&&ze.selected?"bg-purple-100 border-purple-400":"bg-white border-gray-200 hover:border-purple-300"}`,onClick:()=>Q(de.id),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:((Ke=V.selectedStudents[de.id])==null?void 0:Ke.selected)||!1,onChange:()=>{},className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[de.hebrew_name||de.first_name," ",de.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:(ft=de.class)==null?void 0:ft.name}),((_t=V.selectedStudents[de.id])==null?void 0:_t.fees)&&s.jsxs("p",{className:"text-sm text-red-600 font-medium",children:["Balance: $",V.selectedStudents[de.id].fees.reduce((St,Et)=>St+parseFloat(Et.amount)-parseFloat(Et.amount_paid||0),0).toFixed(2)]})]})]})},de.id)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-3 border-t border-purple-200",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Total Amount"}),s.jsx(We,{type:"number",step:"0.01",placeholder:`Maximum: $${Pe().toFixed(2)}`,value:V.totalAmount,onChange:de=>K({...V,totalAmount:de.target.value}),className:"text-lg font-bold"}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Total Selected Balance: $",Pe().toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Payment Method"}),s.jsxs(bt,{value:V.payment_method,onValueChange:de=>K({...V,payment_method:de}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"cash",children:"Cash"}),s.jsx(Ie,{value:"check",children:"Check"}),s.jsx(Ie,{value:"credit_card",children:"Credit Card"}),s.jsx(Ie,{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Reference # (Check/Card)"}),s.jsx(We,{placeholder:"Reference number",value:V.reference_number,onChange:de=>K({...V,reference_number:de.target.value})})]})]}),s.jsxs(Se,{onClick:he,size:"sm",className:"bg-purple-600 hover:bg-purple-700",disabled:Pe()===0,children:[s.jsx(Ym,{className:"h-4 w-4 ml-1"}),"Record Family Payment"]})]}),H&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Add New Charge"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Charge Type"}),s.jsxs(bt,{value:F.fee_id,onValueChange:de=>z({...F,fee_id:de}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select..."})}),s.jsx(yt,{children:S.map(de=>s.jsxs(Ie,{value:de.id,children:[de.name," - $",de.amount]},de.id))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Amount (if different)"}),s.jsx(We,{type:"number",step:"0.01",placeholder:"Amount",value:F.amount,onChange:de=>z({...F,amount:de.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Notes"}),s.jsx(We,{placeholder:"Notes",value:F.notes,onChange:de=>z({...F,notes:de.target.value})})]})]}),s.jsx(Se,{onClick:oe,size:"sm",children:"Add Charge"})]}),k&&s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200 space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Record Payment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"For Which Charge"}),s.jsxs(bt,{value:J.student_fee_id,onValueChange:de=>E({...J,student_fee_id:de}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select..."})}),s.jsx(yt,{children:h.filter(de=>de.status!=="paid"&&de.status!=="waived").map(de=>{var ze;return s.jsxs(Ie,{value:de.id,children:[(ze=de.fee)==null?void 0:ze.name," - Balance: $",(parseFloat(de.amount)-parseFloat(de.amount_paid||0)).toFixed(2)]},de.id)})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Amount"}),s.jsx(We,{type:"number",step:"0.01",placeholder:"Amount",value:J.amount,onChange:de=>E({...J,amount:de.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Payment Method"}),s.jsxs(bt,{value:J.payment_method,onValueChange:de=>E({...J,payment_method:de}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"cash",children:"Cash"}),s.jsx(Ie,{value:"check",children:"Check"}),s.jsx(Ie,{value:"credit_card",children:"Credit Card"}),s.jsx(Ie,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(Ie,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Reference # (Check/Card)"}),s.jsx(We,{placeholder:"Reference number",value:J.reference_number,onChange:de=>E({...J,reference_number:de.target.value})})]})]}),s.jsx(Se,{onClick:G,size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Record Payment"})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Rg,{className:"h-5 w-5"}),"Charges (",h.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:h.length===0?s.jsx("p",{className:"text-slate-500 text-center py-4",children:B==="all"?"No charges found":`No charges found for ${B}`}):h.map(de=>{var ze,Ke,ft,_t,St,Et,_e;return s.jsxs("div",{className:"p-3 bg-white border rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((ze=de.fee)==null?void 0:ze.name)||"Charge"}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(ft=(Ke=de.fee)==null?void 0:Ke.fee_type)==null?void 0:ft.name,((_t=de.fee)==null?void 0:_t.academic_year)&&s.jsx("span",{className:"mx-1",children:"|"}),((St=de.fee)==null?void 0:St.academic_year)&&s.jsx("span",{className:"text-blue-600",children:de.fee.academic_year}),((Et=de.fee)==null?void 0:Et.due_date)&&s.jsx("span",{className:"mx-1",children:"|"}),((_e=de.fee)==null?void 0:_e.due_date)&&new Date(de.fee.due_date).toLocaleDateString("he-IL")]}),de.notes&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:de.notes})]}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(de.amount).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Paid: $",parseFloat(de.amount_paid||0).toFixed(2)]}),De(de.status)]})]},de.id)})})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border-2 border-green-300",children:[s.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-green-800",children:[s.jsx(Ym,{className:"h-6 w-6"})," Payment History (",x.length,")"]}),x.length===0?s.jsx("p",{className:"text-slate-500 text-center py-6 bg-white rounded-lg",children:B==="all"?"No payments found - this student has not paid yet":`No payments found for ${B}`}):s.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[s.jsxs("div",{className:"mb-3 p-3 bg-green-100 rounded-lg flex justify-between items-center",children:[s.jsx("span",{className:"font-medium text-green-800",children:"Total Paid:"}),s.jsxs("span",{className:"text-xl font-bold text-green-700",children:["$",x.reduce((de,ze)=>de+parseFloat(ze.amount||0),0).toFixed(2)]})]}),x.map(de=>{var ze,Ke,ft,_t;return s.jsxs("div",{className:"p-3 bg-white border border-green-200 rounded-lg flex justify-between items-center shadow-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:((Ke=(ze=de.student_fee)==null?void 0:ze.fee)==null?void 0:Ke.name)||de.description||"Payment"}),s.jsxs("p",{className:"text-sm text-slate-600",children:[de.payment_method==="cash"?" Cash":de.payment_method==="check"?" Check":de.payment_method==="credit_card"?" Credit Card":de.payment_method==="bank_transfer"?" Bank Transfer":de.payment_method,de.reference_number&&` - #${de.reference_number}`,((_t=(ft=de.student_fee)==null?void 0:ft.fee)==null?void 0:_t.academic_year)&&s.jsxs("span",{className:"text-blue-600 mr-2",children:[" | ",de.student_fee.fee.academic_year]})]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[new Date(de.payment_date).toLocaleDateString("he-IL"),de.notes&&` - ${de.notes}`]})]}),s.jsx("div",{className:"text-left",children:s.jsxs("p",{className:"font-bold text-green-600",children:["$",parseFloat(de.amount).toFixed(2)]})})]},de.id)})]})]})]}),s.jsx(Qr,{value:"issues",className:"mt-4",children:s.jsx("div",{className:"space-y-3",children:c.length===0?s.jsx("p",{className:"text-slate-500 text-center py-4",children:"No issues recorded"}):c.map(de=>{var ze,Ke;return s.jsxs("div",{className:"p-3 border rounded-lg bg-white shadow-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h5",{className:"font-semibold text-slate-800",children:de.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${de.status==="open"?"bg-red-100 text-red-700":de.status==="in_progress"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:de.status==="open"?"Open":de.status==="in_progress"?"In Progress":"Done"})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:de.description}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-400",children:[s.jsxs("span",{children:["Reported by: ",(ze=de.reported_by_user)==null?void 0:ze.first_name," ",(Ke=de.reported_by_user)==null?void 0:Ke.last_name]}),s.jsx("span",{children:new Date(de.created_at).toLocaleDateString("he-IL")})]})]},de.id)})})}),s.jsx(Qr,{value:"remarks",className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Add a remark...",className:"flex-1 px-3 py-2 border rounded-lg",value:N,onChange:de=>j(de.target.value)}),s.jsxs(Se,{onClick:se,size:"sm",children:[s.jsx(f0,{className:"h-4 w-4 ml-2"})," Add"]})]}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:d.length===0?s.jsx("p",{className:"text-slate-500 text-center py-4",children:"No remarks found"}):d.map(de=>s.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-slate-700",children:de.content}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-400",children:[s.jsx("span",{children:de.teacher_name}),s.jsx("span",{children:new Date(de.created_at).toLocaleDateString("he-IL")})]})]},de.id))})]})})]})]})}):null},v$e=()=>{const{toast:e}=Cr(),[t,r]=O.useState(new Date),[n,a]=O.useState("month"),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!1),[f,h]=O.useState(null),[p,v]=O.useState(null),[m,x]=O.useState(null);O.useEffect(()=>{y(),g()},[t,n]);const g=async()=>{const{data:A}=await Ne.from("students").select("id, name, class");c(A||[])},y=async()=>{let A,P;n==="month"?(A=XI(t),P=YI(t),A=ac(A),P=cy(P)):n==="week"?(A=ac(t),P=cy(t)):(A=Iv(t),P=Rm(A,1));const{data:H,error:C}=await Ne.from("meetings").select("*, students(name, class)").gte("meeting_date",A.toISOString()).lte("meeting_date",P.toISOString());C?(console.error(C),e({variant:"destructive",title:"Error",description:"Failed to load calendar events"})):o(H||[])},b=A=>{r(n==="month"?P=>A==="next"?qI(P,1):qI(P,-1):n==="week"?P=>A==="next"?KI(P,1):KI(P,-1):P=>A==="next"?Rm(P,1):Rm(P,-1))},S=(A,P=9)=>{const H=Jc(A,"yyyy-MM-dd"),C=`${P.toString().padStart(2,"0")}:00`;h(null),v({meeting_date:H,meeting_time:C}),d(!0)},_=(A,P)=>{A.stopPropagation(),h(P),v(null),d(!0)},N=()=>{const A=XI(t),P=YI(A),H=ac(A),C=cy(P),k="d",U=[];let D=[],M=H,B="";const I=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q=s.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-sm font-semibold text-slate-500",children:I.map(F=>s.jsx("div",{className:"py-2",children:F},F))});for(;M<=C;){for(let F=0;F<7;F++){B=Jc(M,k);const z=M,J=i.filter(E=>LA(ym(E.meeting_date),M));D.push(s.jsxs("div",{className:`min-h-[120px] bg-white border border-slate-100 p-2 relative hover:bg-slate-50 transition-colors cursor-pointer flex flex-col gap-1 ${J7e(M,A)?"text-slate-700":"text-slate-300 bg-slate-50/50"} ${uy(M)?"bg-blue-50/30 border-blue-200":""}`,onClick:()=>S(z),children:[s.jsx("div",{className:`text-right text-sm font-medium ${uy(M)?"text-blue-600":""}`,children:B}),s.jsx("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto max-h-[100px] scrollbar-hide",children:J.map(E=>{var V;return s.jsxs("div",{onClick:K=>_(K,E),className:`text-xs px-2 py-1 rounded truncate border shadow-sm ${E.status==="completed"?"bg-green-100 border-green-200 text-green-800":E.status==="cancelled"?"bg-red-50 text-red-400 line-through":"bg-blue-100 border-blue-200 text-blue-800"}`,title:`${Jc(ym(E.meeting_date),"h:mm a")} - ${E.title}`,children:[s.jsx("span",{className:"font-semibold mr-1",children:Jc(ym(E.meeting_date),"h:mm a")}),((V=E.students)==null?void 0:V.name)||E.title]},E.id)})})]},M)),M=Rm(M,1)}U.push(s.jsx("div",{className:"grid grid-cols-7 gap-1",children:D},M)),D=[]}return s.jsxs("div",{className:"bg-slate-100 p-1 rounded-lg shadow-inner",children:[q,U]})},j=A=>{const P=Array.from({length:13},(H,C)=>C+7);return s.jsxs("div",{className:"flex bg-white border rounded-lg overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"w-16 flex-shrink-0 border-r bg-slate-50",children:[s.jsx("div",{className:"h-12 border-b"})," ",P.map(H=>s.jsx("div",{className:"h-20 border-b text-xs text-slate-500 text-right pr-2 pt-2",children:H>12?`${H-12} PM`:`${H} AM`},H))]}),s.jsx("div",{className:"flex-1 flex overflow-x-auto",children:A.map(H=>s.jsxs("div",{className:"flex-1 min-w-[150px] border-r last:border-r-0",children:[s.jsxs("div",{className:`h-12 border-b flex flex-col justify-center items-center ${uy(H)?"bg-blue-50":"bg-slate-50"}`,children:[s.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase",children:Jc(H,"EEE")}),s.jsx("span",{className:`text-sm font-bold ${uy(H)?"text-blue-600":"text-slate-800"}`,children:Jc(H,"MMM d")})]}),s.jsxs("div",{className:"relative",children:[P.map(C=>s.jsx("div",{className:"h-20 border-b border-slate-100 hover:bg-slate-50 cursor-pointer relative group",onClick:()=>S(H,C),children:s.jsx("div",{className:"hidden group-hover:flex absolute inset-0 items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(on,{className:"text-blue-300 h-6 w-6"})})},C)),i.filter(C=>LA(ym(C.meeting_date),H)).map(C=>{var q;const k=ym(C.meeting_date),U=X7e(k),D=k.getMinutes(),M=(U-7)*80+D/60*80,I=(C.duration||60)/60*80;return U<7||U>19?null:s.jsxs("div",{onClick:F=>_(F,C),className:`absolute left-1 right-1 rounded p-2 text-xs border shadow-sm cursor-pointer hover:brightness-95 transition-all z-10 overflow-hidden ${C.status==="completed"?"bg-green-100 border-green-300 text-green-900":"bg-blue-100 border-blue-300 text-blue-900"}`,style:{top:`${M}px`,height:`${I}px`},children:[s.jsx("div",{className:"font-bold",children:Jc(k,"h:mm a")}),s.jsx("div",{className:"truncate font-medium",children:(q=C.students)==null?void 0:q.name}),s.jsx("div",{className:"truncate text-blue-800/70",children:C.title})]},C.id)})]})]},H.toString()))})]})};return s.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>b("prev"),className:"h-8 w-8",children:s.jsx(nre,{size:16})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>r(new Date),className:"h-8 px-3 text-xs font-semibold",children:"Today"}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>b("next"),className:"h-8 w-8",children:s.jsx(Q$,{size:16})})]}),s.jsx("h2",{className:"text-xl font-bold text-slate-800 min-w-[200px]",children:Jc(t,"MMMM yyyy")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(kl,{value:n,onValueChange:a,className:"w-[300px]",children:s.jsxs(Xo,{className:"grid w-full grid-cols-3",children:[s.jsx(wr,{value:"month",children:"Month"}),s.jsx(wr,{value:"week",children:"Week"}),s.jsx(wr,{value:"day",children:"Day"})]})}),s.jsxs(Se,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>d(!0),children:[s.jsx(on,{size:16,className:"mr-2"})," Event"]})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto bg-white rounded-lg shadow border p-4",children:[n==="month"&&N(),n==="week"&&j(XRe({start:ac(t),end:cy(t)})),n==="day"&&j([t])]}),s.jsx(h$e,{isOpen:u,onClose:()=>{d(!1),v(null),h(null)},meeting:f?{...f}:p?{title:"",student_id:"",meeting_date:p.meeting_date,meeting_time:p.meeting_time,duration:60,status:"scheduled"}:null,students:l,onSuccess:()=>{y(),d(!1)}}),s.jsx(g$e,{isOpen:!!m,onClose:()=>x(null),studentId:m})]})},tM=({role:e="principal"})=>{const{toast:t}=Cr(),{t:r}=KT(),[n,a]=O.useState({totalStudents:0,openIssues:0,pendingCalls:0,upcomingMeetings:0,emergencyMeetings:0});O.useEffect(()=>{i()},[]);const i=async()=>{var l,c;try{const[u,d,f,h]=await Promise.all([Ne.from("students").select("id",{count:"exact"}),Ne.from("issues").select("id",{count:"exact"}).eq("status","open"),Ne.from("call_logs").select("id",{count:"exact"}),Ne.from("meetings").select("meeting_date").eq("status","scheduled")]),p=new Date,v=((l=h.data)==null?void 0:l.filter(x=>new Date(x.meeting_date)>=p).length)||0,m=((c=h.data)==null?void 0:c.filter(x=>new Date(x.meeting_date)<p).length)||0;a({totalStudents:u.count||0,openIssues:d.count||0,pendingCalls:f.count||0,upcomingMeetings:v,emergencyMeetings:m})}catch{t({variant:"destructive",title:"Error",description:"Failed to load statistics"})}},o=[{title:r("overview.totalStudents"),value:n.totalStudents,icon:La,color:"from-blue-500 to-blue-600"},{title:r("overview.openIssues"),value:n.openIssues,icon:rs,color:"from-amber-500 to-amber-600"},{title:r("overview.pendingCalls"),value:n.pendingCalls,icon:tf,color:"from-green-500 to-green-600"},{title:r("overview.upcomingMeetings"),value:n.upcomingMeetings,icon:Cs,color:"from-indigo-500 to-indigo-600"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:r("overview.title")}),s.jsx("p",{className:"text-slate-600 mt-2",children:r("overview.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(l=>{const c=l.icon;return s.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-200 p-6 text-left",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${l.color}`,children:s.jsx(c,{className:"text-white",size:24})})}),s.jsx("h3",{className:"text-slate-600 text-sm font-medium",children:l.title}),s.jsx("p",{className:"text-3xl font-bold text-slate-800 mt-2",children:l.value})]},l.title)})}),n.emergencyMeetings>0&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg text-left",children:s.jsxs("div",{className:"flex items-center gap-3 justify-start flex-row",children:[s.jsx(rs,{className:"text-red-500",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-semibold",children:r("overview.emergency")}),s.jsxs("p",{className:"text-red-700 text-sm",children:[n.emergencyMeetings," meetings need attention!"]})]})]})})]})},x$e=()=>{const{toast:e}=Cr(),[t,r]=O.useState([]),[n,a]=O.useState({day_of_week:"Monday",type:"calls",start_time:"09:00",end_time:"10:00"}),i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];O.useEffect(()=>{o()},[]);const o=async()=>{const{data:u,error:d}=await Ne.from("time_slots").select("*").order("day_of_week").order("start_time");d?e({variant:"destructive",title:"Error",description:"Failed to load time slots"}):r(u||[])},l=async u=>{if(u.preventDefault(),n.start_time>=n.end_time){e({variant:"destructive",title:"Invalid Time",description:"Start time must be before end time"});return}const{error:d}=await Ne.from("time_slots").insert([n]);d?e({variant:"destructive",title:"Error",description:"Failed to add time slot"}):(e({title:"Success",description:"Time slot added successfully"}),o())},c=async u=>{const{error:d}=await Ne.from("time_slots").delete().eq("id",u);d?e({variant:"destructive",title:"Error",description:"Failed to delete slot"}):o()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Time Slots"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage availability for calls and meetings"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Slot"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"day",children:"Day"}),s.jsx("select",{id:"day",value:n.day_of_week,onChange:u=>a({...n,day_of_week:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1",children:i.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"type",children:"Type"}),s.jsxs("select",{id:"type",value:n.type,onChange:u=>a({...n,type:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1",children:[s.jsx("option",{value:"calls",children:"Calls"}),s.jsx("option",{value:"meetings",children:"Meetings"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"start",children:"Start Time"}),s.jsx("input",{type:"time",id:"start",value:n.start_time,onChange:u=>a({...n,start_time:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1"})]}),s.jsxs("div",{children:[s.jsx(ye,{htmlFor:"end",children:"End Time"}),s.jsx("input",{type:"time",id:"end",value:n.end_time,onChange:u=>a({...n,end_time:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1"})]})]}),s.jsxs(Se,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-blue-600",children:[s.jsx(on,{size:16,className:"mr-2"})," Add Slot"]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Weekly Schedule"}),s.jsxs("div",{className:"space-y-6",children:[i.map(u=>{const d=t.filter(f=>f.day_of_week===u);return d.length===0?null:s.jsxs("div",{className:"border-b last:border-0 pb-4 last:pb-0",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:u}),s.jsx("div",{className:"space-y-2",children:d.map(f=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qs,{size:16,className:"text-slate-400"}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium uppercase ${f.type==="calls"?"bg-green-100 text-green-700":"bg-indigo-100 text-indigo-700"}`,children:f.type}),s.jsxs("span",{className:"text-sm text-slate-600",children:[f.start_time.slice(0,5)," - ",f.end_time.slice(0,5)]})]}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>c(f.id),className:"h-8 w-8 hover:bg-red-50 hover:text-red-600",children:s.jsx(Qa,{size:14})})]},f.id))})]},u)}),t.length===0&&s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No time slots configured yet."})]})]})})]})]})},y$e=()=>{const{toast:e}=Cr(),[t,r]=O.useState(1),[n,a]=O.useState("class"),[i,o]=O.useState(""),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState({duration:15,startDate:new Date().toISOString().split("T")[0],daysOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday"],type:"calls"}),[p,v]=O.useState([]),[m,x]=O.useState(!1);O.useEffect(()=>{g()},[n]);const g=async()=>{const{data:_}=await Ne.from("students").select(n),N=[...new Set(_.map(j=>j[n]))].filter(Boolean).sort();c(N)},y=async()=>{if(!i)return;const{data:_,error:N}=await Ne.from("students").select("id, name, class, teacher").eq(n,i);N?e({variant:"destructive",title:"Error",description:"Failed to fetch students"}):(d(_.map(j=>({...j,selected:!0}))),r(2))},b=async()=>{x(!0);try{const{data:_}=await Ne.from("time_slots").select("*").eq("type",f.type).order("start_time");if(!_||_.length===0){e({variant:"destructive",title:"No Slots",description:`No time slots configured for ${f.type}`}),x(!1);return}let N=new Date(f.startDate);const j=[],A=u.filter(H=>H.selected);let P=0;for(let H=0;H<30&&P<A.length;H++){const C=N.toLocaleDateString("en-US",{weekday:"long"});if(f.daysOfWeek.includes(C)){const k=_.filter(U=>U.day_of_week===C);for(const U of k){let D=new Date(`${N.toISOString().split("T")[0]}T${U.start_time}`);const M=new Date(`${N.toISOString().split("T")[0]}T${U.end_time}`);for(;D<M&&P<A.length;){const B=new Date(D.getTime()+f.duration*6e4);if(B<=M)j.push({student:A[P],date:D.toISOString().split("T")[0],time:D.toTimeString().slice(0,5),endTime:B.toTimeString().slice(0,5)}),P++,D=B;else break}}}N.setDate(N.getDate()+1)}v(j),r(3)}catch(_){console.error(_),e({variant:"destructive",title:"Error",description:"Scheduling failed"})}finally{x(!1)}},S=async()=>{x(!0);try{const _=p.map(A=>{if(f.type==="calls")return{student_id:A.student.id,contact_person:"Parent/Guardian",phone_number:"Pending",follow_up_date:A.date,notes:`Scheduled Bulk Call for ${A.date} at ${A.time}`,completed:!1};{const P=new Date(`${A.date}T${A.time}`).toISOString();return{student_id:A.student.id,title:`Scheduled Meeting: ${A.student.name}`,description:"Bulk scheduled meeting",meeting_date:P,duration:f.duration,status:"scheduled"}}}),N=f.type==="calls"?"call_logs":"meetings",{error:j}=await Ne.from(N).insert(_);if(j)throw j;e({title:"Success",description:`Successfully scheduled ${_.length} ${f.type}`}),r(1),d([]),v([])}catch{e({variant:"destructive",title:"Error",description:"Failed to save schedule"})}finally{x(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Bulk Scheduling"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Auto-schedule multiple calls or meetings efficiently"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[t===1&&s.jsxs("div",{className:"space-y-4 max-w-lg",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 1: Select Students"}),s.jsxs("div",{children:[s.jsx(ye,{children:"Filter By"}),s.jsxs("div",{className:"flex gap-4 mt-2 mb-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:n==="class",onChange:()=>a("class")})," Class"]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:n==="teacher",onChange:()=>a("teacher")})," Teacher"]})]}),s.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:i,onChange:_=>o(_.target.value),children:[s.jsxs("option",{value:"",children:["Select ",n,"..."]}),l.map(_=>s.jsx("option",{value:_,children:_},_))]})]}),s.jsx(Se,{onClick:y,disabled:!i,className:"w-full",children:"Next"})]}),t===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 2: Configure Schedule"}),s.jsxs("span",{className:"text-sm text-slate-500",children:[u.filter(_=>_.selected).length," students selected"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Schedule Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg mt-1",value:f.type,onChange:_=>h({...f,type:_.target.value}),children:[s.jsx("option",{value:"calls",children:"Phone Calls"}),s.jsx("option",{value:"meetings",children:"Meetings"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Duration (minutes)"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border rounded-lg mt-1",value:f.duration,onChange:_=>h({...f,duration:parseInt(_.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Start Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg mt-1",value:f.startDate,onChange:_=>h({...f,startDate:_.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{className:"mb-2 block",children:"Allowed Days"}),s.jsx("div",{className:"space-y-2 border rounded-lg p-3 bg-slate-50",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(_=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:f.daysOfWeek.includes(_),onChange:N=>{const j=N.target.checked?[...f.daysOfWeek,_]:f.daysOfWeek.filter(A=>A!==_);h({...f,daysOfWeek:j})}}),_]},_))})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Se,{variant:"outline",onClick:()=>r(1),children:"Back"}),s.jsx(Se,{onClick:b,disabled:m,children:m?"Calculating...":"Preview Schedule"})]})]}),t===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 3: Preview & Confirm"}),s.jsx("div",{className:"bg-slate-50 rounded-lg p-4 max-h-96 overflow-y-auto border",children:p.length===0?s.jsx("p",{className:"text-red-500",children:"Could not fit any students into the available slots."}):s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2",children:"Date"}),s.jsx("th",{className:"px-3 py-2",children:"Time"}),s.jsx("th",{className:"px-3 py-2",children:"Student"}),s.jsx("th",{className:"px-3 py-2",children:"Class"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:p.map((_,N)=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 font-medium",children:[_.date," (",new Date(_.date).toLocaleDateString("en-US",{weekday:"short"}),")"]}),s.jsxs("td",{className:"px-3 py-2",children:[_.time," - ",_.endTime]}),s.jsx("td",{className:"px-3 py-2",children:_.student.name}),s.jsx("td",{className:"px-3 py-2 text-slate-500",children:_.student.class})]},N))})]})}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-blue-700",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Summary:"})," Scheduled ",p.length," of ",u.filter(_=>_.selected).length," selected students."]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Se,{variant:"outline",onClick:()=>r(2),children:"Adjust Configuration"}),s.jsxs(Se,{onClick:S,disabled:p.length===0||m,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Li,{className:"mr-2 h-4 w-4"})," Confirm & Save"]})]})]})]})]})};function Zr(e){"@babel/helpers - typeof";return Zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr(e)}var mi=Uint8Array,_s=Uint16Array,R3=Int32Array,j_=new mi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),S_=new mi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),IA=new mi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GG=function(e,t){for(var r=new _s(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new R3(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},KG=GG(j_,2),YG=KG.b,MA=KG.r;YG[28]=258,MA[258]=28;var XG=GG(S_,0),b$e=XG.b,rM=XG.r,RA=new _s(32768);for(var _n=0;_n<32768;++_n){var Qc=(_n&43690)>>1|(_n&21845)<<1;Qc=(Qc&52428)>>2|(Qc&13107)<<2,Qc=(Qc&61680)>>4|(Qc&3855)<<4,RA[_n]=((Qc&65280)>>8|(Qc&255)<<8)>>1}var jl=function(e,t,r){for(var n=e.length,a=0,i=new _s(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new _s(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new _s(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[RA[f]>>c]=u}else for(l=new _s(n),a=0;a<n;++a)e[a]&&(l[a]=RA[o[e[a]-1]++]>>15-e[a]);return l},Uu=new mi(288);for(var _n=0;_n<144;++_n)Uu[_n]=8;for(var _n=144;_n<256;++_n)Uu[_n]=9;for(var _n=256;_n<280;++_n)Uu[_n]=7;for(var _n=280;_n<288;++_n)Uu[_n]=8;var Mv=new mi(32);for(var _n=0;_n<32;++_n)Mv[_n]=5;var w$e=jl(Uu,9,0),_$e=jl(Uu,9,1),j$e=jl(Mv,5,0),S$e=jl(Mv,5,1),eS=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},jo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},tS=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},$3=function(e){return(e+7)/8|0},JG=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new mi(e.subarray(t,r))},N$e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Co=function(e,t,r){var n=new Error(t||N$e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Co),!r)throw n;return n},A$e=function(e,t,r,n){var a=e.length,i=n?n.length:0;if(!a||t.f&&!t.l)return r||new mi(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new mi(a*3));var u=function(he){var Q=r.length;if(he>Q){var Pe=new mi(Math.max(Q*2,he));Pe.set(r),r=Pe}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,v=t.d,m=t.m,x=t.n,g=a*8;do{if(!p){d=jo(e,f,1);var y=jo(e,f+1,3);if(f+=3,y)if(y==1)p=_$e,v=S$e,m=9,x=5;else if(y==2){var N=jo(e,f,31)+257,j=jo(e,f+10,15)+4,A=N+jo(e,f+5,31)+1;f+=14;for(var P=new mi(A),H=new mi(19),C=0;C<j;++C)H[IA[C]]=jo(e,f+C*3,7);f+=j*3;for(var k=eS(H),U=(1<<k)-1,D=jl(H,k,1),C=0;C<A;){var M=D[jo(e,f,U)];f+=M&15;var b=M>>4;if(b<16)P[C++]=b;else{var B=0,I=0;for(b==16?(I=3+jo(e,f,3),f+=2,B=P[C-1]):b==17?(I=3+jo(e,f,7),f+=3):b==18&&(I=11+jo(e,f,127),f+=7);I--;)P[C++]=B}}var q=P.subarray(0,N),F=P.subarray(N);m=eS(q),x=eS(F),p=jl(q,m,1),v=jl(F,x,1)}else Co(1);else{var b=$3(f)+4,S=e[b-4]|e[b-3]<<8,_=b+S;if(_>a){c&&Co(0);break}l&&u(h+S),r.set(e.subarray(b,_),h),t.b=h+=S,t.p=f=_*8,t.f=d;continue}if(f>g){c&&Co(0);break}}l&&u(h+131072);for(var z=(1<<m)-1,J=(1<<x)-1,E=f;;E=f){var B=p[tS(e,f)&z],V=B>>4;if(f+=B&15,f>g){c&&Co(0);break}if(B||Co(2),V<256)r[h++]=V;else if(V==256){E=f,p=null;break}else{var K=V-254;if(V>264){var C=V-257,W=j_[C];K=jo(e,f,(1<<W)-1)+YG[C],f+=W}var Y=v[tS(e,f)&J],ee=Y>>4;Y||Co(3),f+=Y&15;var F=b$e[ee];if(ee>3){var W=S_[ee];F+=tS(e,f)&(1<<W)-1,f+=W}if(f>g){c&&Co(0);break}l&&u(h+131072);var oe=h+K;if(h<F){var G=i-F,se=Math.min(F,oe);for(G+h<0&&Co(3);h<se;++h)r[h]=n[G+h]}for(;h<oe;++h)r[h]=r[h-F]}}t.l=p,t.p=E,t.b=h,t.f=d,p&&(d=1,t.m=m,t.d=v,t.n=x)}while(!d);return h!=r.length&&o?JG(r,0,h):r.subarray(0,h)},Gl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},wm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},rS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:ZG,l:0};if(a==1){var o=new mi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,N){return _.f-N.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new _s(h+1),v=$A(r[d-1],p,0);if(v>t){var n=0,m=0,x=v-t,g=1<<x;for(i.sort(function(N,j){return p[j.s]-p[N.s]||N.f-j.f});n<a;++n){var y=i[n].s;if(p[y]>t)m+=g-(1<<v-p[y]),p[y]=t;else break}for(m>>=x;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var S=i[n].s;p[S]==t&&(--p[S],++m)}v=t}return{t:new mi(p),l:v}},$A=function(e,t,r){return e.s==-1?Math.max($A(e.l,t,r+1),$A(e.r,t,r+1)):t[e.s]=r},nM=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new _s(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},_m=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},QG=function(e,t,r){var n=r.length,a=$3(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},aM=function(e,t,r,n,a,i,o,l,c,u,d){Gl(t,d++,r),++a[256];for(var f=rS(a,15),h=f.t,p=f.l,v=rS(i,15),m=v.t,x=v.l,g=nM(h),y=g.c,b=g.n,S=nM(m),_=S.c,N=S.n,j=new _s(19),A=0;A<y.length;++A)++j[y[A]&31];for(var A=0;A<_.length;++A)++j[_[A]&31];for(var P=rS(j,7),H=P.t,C=P.l,k=19;k>4&&!H[IA[k-1]];--k);var U=u+5<<3,D=_m(a,Uu)+_m(i,Mv)+o,M=_m(a,h)+_m(i,m)+o+14+3*k+_m(j,H)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&U<=D&&U<=M)return QG(t,d,e.subarray(c,c+u));var B,I,q,F;if(Gl(t,d,1+(M<D)),d+=2,M<D){B=jl(h,p,0),I=h,q=jl(m,x,0),F=m;var z=jl(H,C,0);Gl(t,d,b-257),Gl(t,d+5,N-1),Gl(t,d+10,k-4),d+=14;for(var A=0;A<k;++A)Gl(t,d+3*A,H[IA[A]]);d+=3*k;for(var J=[y,_],E=0;E<2;++E)for(var V=J[E],A=0;A<V.length;++A){var K=V[A]&31;Gl(t,d,z[K]),d+=H[K],K>15&&(Gl(t,d,V[A]>>5&127),d+=V[A]>>12)}}else B=w$e,I=Uu,q=j$e,F=Mv;for(var A=0;A<l;++A){var W=n[A];if(W>255){var K=W>>18&31;wm(t,d,B[K+257]),d+=I[K+257],K>7&&(Gl(t,d,W>>23&31),d+=j_[K]);var Y=W&31;wm(t,d,q[Y]),d+=F[Y],Y>3&&(wm(t,d,W>>5&8191),d+=S_[Y])}else wm(t,d,B[W]),d+=I[W]}return wm(t,d,B[256]),d+I[256]},T$e=new R3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ZG=new mi(0),C$e=function(e,t,r,n,a,i){var o=i.z||e.length,l=new mi(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=T$e[t-1],h=f>>13,p=f&8191,v=(1<<r)-1,m=i.p||new _s(32768),x=i.h||new _s(v+1),g=Math.ceil(r/3),y=2*g,b=function(De){return(e[De]^e[De+1]<<g^e[De+2]<<y)&v},S=new R3(25e3),_=new _s(288),N=new _s(32),j=0,A=0,P=i.i||0,H=0,C=i.w||0,k=0;P+2<o;++P){var U=b(P),D=P&32767,M=x[U];if(m[D]=M,x[U]=D,C<=P){var B=o-P;if((j>7e3||H>24576)&&(B>423||!u)){d=aM(e,c,0,S,_,N,A,H,k,P-k,d),H=j=A=0,k=P;for(var I=0;I<286;++I)_[I]=0;for(var I=0;I<30;++I)N[I]=0}var q=2,F=0,z=p,J=D-M&32767;if(B>2&&U==b(P-J))for(var E=Math.min(h,B)-1,V=Math.min(32767,P),K=Math.min(258,B);J<=V&&--z&&D!=M;){if(e[P+q]==e[P+q-J]){for(var W=0;W<K&&e[P+W]==e[P+W-J];++W);if(W>q){if(q=W,F=J,W>E)break;for(var Y=Math.min(J,W-2),ee=0,I=0;I<Y;++I){var oe=P-J+I&32767,G=m[oe],se=oe-G&32767;se>ee&&(ee=se,M=oe)}}}D=M,M=m[D],J+=D-M&32767}if(F){S[H++]=268435456|MA[q]<<18|rM[F];var he=MA[q]&31,Q=rM[F]&31;A+=j_[he]+S_[Q],++_[257+he],++N[Q],C=P+q,++j}else S[H++]=e[P],++_[e[P]]}}for(P=Math.max(P,C);P<o;++P)S[H++]=e[P],++_[e[P]];d=aM(e,c,u,S,_,N,A,H,k,P-k,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=m,i.i=P,i.w=C)}else{for(var P=i.w||0;P<o+u;P+=65535){var Pe=P+65535;Pe>=o&&(c[d/8|0]=u,Pe=o),d=QG(c,d+1,e.subarray(P,Pe))}i.i=o}return JG(l,0,n+$3(d)+a)},eK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},E$e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new mi(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return C$e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},tK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},k$e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=eK();a.p(t.dictionary),tK(e,2,a.d())}},P$e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Co(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Co(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function BA(e,t){t||(t={});var r=eK();r.p(e);var n=E$e(e,t,t.dictionary?6:2,4);return k$e(n,t),tK(n,n.length-4,r.d()),n}function O$e(e,t){return A$e(e.subarray(P$e(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var F$e=typeof TextDecoder<"u"&&new TextDecoder,D$e=0;try{F$e.decode(ZG,{stream:!0}),D$e=1}catch{}var Xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nS(){Xt.console&&typeof Xt.console.log=="function"&&Xt.console.log.apply(Xt.console,arguments)}var cn={log:nS,warn:function(e){Xt.console&&(typeof Xt.console.warn=="function"?Xt.console.warn.apply(Xt.console,arguments):nS.call(null,arguments))},error:function(e){Xt.console&&(typeof Xt.console.error=="function"?Xt.console.error.apply(Xt.console,arguments):nS(e))}};function aS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){_d(n.response,t,r)},n.onerror=function(){cn.error("could not download file")},n.send()}function iM(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function fy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var pg,UA,_d=Xt.saveAs||((typeof window>"u"?"undefined":Zr(window))!=="object"||window!==Xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Xt.URL||Xt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?iM(a.href)?aS(e,t,r):fy(a,a.target="_blank"):fy(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){fy(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(iM(e))aS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){fy(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Zr(i)!=="object"&&(cn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return aS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Xt.HTMLElement)||Xt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Zr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Xt.URL||Xt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function rK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ai(r,n,a,i,t[0],7,-680876936),i=ai(i,r,n,a,t[1],12,-389564586),a=ai(a,i,r,n,t[2],17,606105819),n=ai(n,a,i,r,t[3],22,-1044525330),r=ai(r,n,a,i,t[4],7,-176418897),i=ai(i,r,n,a,t[5],12,1200080426),a=ai(a,i,r,n,t[6],17,-1473231341),n=ai(n,a,i,r,t[7],22,-45705983),r=ai(r,n,a,i,t[8],7,1770035416),i=ai(i,r,n,a,t[9],12,-1958414417),a=ai(a,i,r,n,t[10],17,-42063),n=ai(n,a,i,r,t[11],22,-1990404162),r=ai(r,n,a,i,t[12],7,1804603682),i=ai(i,r,n,a,t[13],12,-40341101),a=ai(a,i,r,n,t[14],17,-1502002290),r=ii(r,n=ai(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ii(i,r,n,a,t[6],9,-1069501632),a=ii(a,i,r,n,t[11],14,643717713),n=ii(n,a,i,r,t[0],20,-373897302),r=ii(r,n,a,i,t[5],5,-701558691),i=ii(i,r,n,a,t[10],9,38016083),a=ii(a,i,r,n,t[15],14,-660478335),n=ii(n,a,i,r,t[4],20,-405537848),r=ii(r,n,a,i,t[9],5,568446438),i=ii(i,r,n,a,t[14],9,-1019803690),a=ii(a,i,r,n,t[3],14,-187363961),n=ii(n,a,i,r,t[8],20,1163531501),r=ii(r,n,a,i,t[13],5,-1444681467),i=ii(i,r,n,a,t[2],9,-51403784),a=ii(a,i,r,n,t[7],14,1735328473),r=si(r,n=ii(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=si(i,r,n,a,t[8],11,-2022574463),a=si(a,i,r,n,t[11],16,1839030562),n=si(n,a,i,r,t[14],23,-35309556),r=si(r,n,a,i,t[1],4,-1530992060),i=si(i,r,n,a,t[4],11,1272893353),a=si(a,i,r,n,t[7],16,-155497632),n=si(n,a,i,r,t[10],23,-1094730640),r=si(r,n,a,i,t[13],4,681279174),i=si(i,r,n,a,t[0],11,-358537222),a=si(a,i,r,n,t[3],16,-722521979),n=si(n,a,i,r,t[6],23,76029189),r=si(r,n,a,i,t[9],4,-640364487),i=si(i,r,n,a,t[12],11,-421815835),a=si(a,i,r,n,t[15],16,530742520),r=oi(r,n=si(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=oi(i,r,n,a,t[7],10,1126891415),a=oi(a,i,r,n,t[14],15,-1416354905),n=oi(n,a,i,r,t[5],21,-57434055),r=oi(r,n,a,i,t[12],6,1700485571),i=oi(i,r,n,a,t[3],10,-1894986606),a=oi(a,i,r,n,t[10],15,-1051523),n=oi(n,a,i,r,t[1],21,-2054922799),r=oi(r,n,a,i,t[8],6,1873313359),i=oi(i,r,n,a,t[15],10,-30611744),a=oi(a,i,r,n,t[6],15,-1560198380),n=oi(n,a,i,r,t[13],21,1309151649),r=oi(r,n,a,i,t[4],6,-145523070),i=oi(i,r,n,a,t[11],10,-1120210379),a=oi(a,i,r,n,t[2],15,718787259),n=oi(n,a,i,r,t[9],21,-343485551),e[0]=vu(r,e[0]),e[1]=vu(n,e[1]),e[2]=vu(a,e[2]),e[3]=vu(i,e[3])}function N_(e,t,r,n,a,i){return t=vu(vu(t,e),vu(n,i)),vu(t<<a|t>>>32-a,r)}function ai(e,t,r,n,a,i,o){return N_(t&r|~t&n,e,t,a,i,o)}function ii(e,t,r,n,a,i,o){return N_(t&n|r&~n,e,t,a,i,o)}function si(e,t,r,n,a,i,o){return N_(t^r^n,e,t,a,i,o)}function oi(e,t,r,n,a,i,o){return N_(r^(t|~n),e,t,a,i,o)}function nK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)iS(n,L$e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(iS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,iS(n,a),n}function L$e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}pg=Xt.atob.bind(Xt),UA=Xt.btoa.bind(Xt);var sM="0123456789abcdef".split("");function I$e(e){for(var t="",r=0;r<4;r++)t+=sM[e>>8*r+4&15]+sM[e>>8*r&15];return t}function M$e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function zA(e){return nK(e).map(M$e).join("")}var R$e=function(e){for(var t=0;t<e.length;t++)e[t]=I$e(e[t]);return e.join("")}(nK("hello"))!="5d41402abc4b2a76b9719d911017c592";function vu(e,t){if(R$e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function VA(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,p=0,v="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,o=l[(l[h]+l[p])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var oM={print:4,modify:8,copy:16,"annot-forms":32};function hh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(oM.perm!==void 0)throw new Error("Invalid permission: "+l);a+=oM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=zA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=VA(this.encryptionKey,this.padding)}function ph(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function lM(e){if(Zr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){Xt.console&&cn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Rv(e){if(!(this instanceof Rv))return new Rv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function aK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function du(e,t,r,n,a){if(!(this instanceof du))return new du(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,aK.call(this,n,a)}function Id(e,t,r,n,a){if(!(this instanceof Id))return new Id(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,aK.call(this,n,a)}function Vt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;Zr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=lM;var v="1.3",m=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(L){v=L};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var g=p.__private__.getPageFormat=function(L){return x[L]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function S(){this.saveGraphicsState(),Z(new mt(rt,0,0,-rt,0,Fc()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),u="n",b=y.ADVANCED}function _(){this.restoreGraphicsState(),u="S",b=y.COMPAT}var N=p.__private__.combineFontStyleAndFontWeight=function(L,re){if(L=="bold"&&re=="normal"||L=="bold"&&re==400||L=="normal"&&re=="italic"||L=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(L=re==400||re==="normal"?L==="italic"?"italic":"normal":re!=700&&re!=="bold"||L!=="normal"?(re==700?"bold":re)+""+L:"bold"),L};p.advancedAPI=function(L){var re=b===y.COMPAT;return re&&S.call(this),typeof L!="function"||(L(this),re&&_.call(this)),this},p.compatAPI=function(L){var re=b===y.ADVANCED;return re&&_.call(this),typeof L!="function"||(L(this),re&&S.call(this)),this},p.isAdvancedAPI=function(){return b===y.ADVANCED};var j,A=function(L){if(b!==y.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=p.roundToPrecision=p.__private__.roundToPrecision=function(L,re){var we=t||re;if(isNaN(L)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(we).replace(/0+$/,"")};j=p.hpf=p.__private__.hpf=typeof c=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return P(L,c)}:c==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return P(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return P(L,16)};var H=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return P(L,2)},C=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return P(L,3)},k=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?L*rt:b===y.ADVANCED?L:void 0},U=function(L){return b===y.COMPAT?Fc()-L:b===y.ADVANCED?L:void 0},D=function(L){return k(U(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var M,B="00000000000000000000000000000000",I=p.__private__.getFileId=function(){return B},q=p.__private__.setFileId=function(L){return B=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():B.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Za=new hh(d.userPermissions,d.userPassword,d.ownerPassword,B)),B};p.setFileId=function(L){return q(L),this},p.getFileId=function(){return I()};var F=p.__private__.convertDateToPDFDate=function(L){var re=L.getTimezoneOffset(),we=re<0?"+":"-",Te=Math.floor(Math.abs(re/60)),Me=Math.abs(re%60),et=[we,K(Te),"'",K(Me),"'"].join("");return["D:",L.getFullYear(),K(L.getMonth()+1),K(L.getDate()),K(L.getHours()),K(L.getMinutes()),K(L.getSeconds()),et].join("")},z=p.__private__.convertPDFDateToDate=function(L){var re=parseInt(L.substr(2,4),10),we=parseInt(L.substr(6,2),10)-1,Te=parseInt(L.substr(8,2),10),Me=parseInt(L.substr(10,2),10),et=parseInt(L.substr(12,2),10),ut=parseInt(L.substr(14,2),10);return new Date(re,we,Te,Me,et,ut,0)},J=p.__private__.setCreationDate=function(L){var re;if(L===void 0&&(L=new Date),L instanceof Date)re=F(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=L}return M=re},E=p.__private__.getCreationDate=function(L){var re=M;return L==="jsDate"&&(re=z(M)),re};p.setCreationDate=function(L){return J(L),this},p.getCreationDate=function(L){return E(L)};var V,K=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},W=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Y=0,ee=[],oe=[],G=0,se=[],he=[],Q=!1,Pe=oe,De=function(){Y=0,G=0,oe=[],ee=[],se=[],fe=vn(),pe=vn()};p.__private__.setCustomOutputDestination=function(L){Q=!0,Pe=L};var je=function(L){Q||(Pe=L)};p.__private__.resetCustomOutputDestination=function(){Q=!1,Pe=oe};var Z=p.__private__.out=function(L){return L=L.toString(),G+=L.length+1,Pe.push(L),Pe},ke=p.__private__.write=function(L){return Z(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ge=p.__private__.getArrayBuffer=function(L){for(var re=L.length,we=new ArrayBuffer(re),Te=new Uint8Array(we);re--;)Te[re]=L.charCodeAt(re);return we},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Le};var qe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return qe=b===y.ADVANCED?L/rt:L,this};var ge,de=p.__private__.getFontSize=p.getFontSize=function(){return b===y.COMPAT?qe:qe*rt},ze=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return ze=L,this},p.__private__.getR2L=p.getR2L=function(){return ze};var Ke,ft=p.__private__.setZoomMode=function(L){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))ge=L;else if(isNaN(L)){if(re.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');ge=L}else ge=parseInt(L,10)};p.__private__.getZoomMode=function(){return ge};var _t,St=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Ke=L};p.__private__.getPageMode=function(){return Ke};var Et=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');_t=L};p.__private__.getLayoutMode=function(){return _t},p.__private__.setDisplayMode=p.setDisplayMode=function(L,re,we){return ft(L),Et(re),St(we),this};var _e={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(_e).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _e[L]},p.__private__.getDocumentProperties=function(){return _e},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var re in _e)_e.hasOwnProperty(re)&&L[re]&&(_e[re]=L[re]);return this},p.__private__.setDocumentProperty=function(L,re){if(Object.keys(_e).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _e[L]=re};var ot,rt,qt,gt,jr,Gt={},rr={},Hr=[],Ht={},Kr={},ce={},$t={},Er=null,nr=0,Bt=[],Qt=new lM(p),Aa=e.hotfixes||[],rn={},Ye={},Ct=[],mt=function L(re,we,Te,Me,et,ut){if(!(this instanceof L))return new L(re,we,Te,Me,et,ut);isNaN(re)&&(re=1),isNaN(we)&&(we=0),isNaN(Te)&&(Te=0),isNaN(Me)&&(Me=1),isNaN(et)&&(et=0),isNaN(ut)&&(ut=0),this._matrix=[re,we,Te,Me,et,ut]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(L)},mt.prototype.multiply=function(L){var re=L.sx*this.sx+L.shy*this.shx,we=L.sx*this.shy+L.shy*this.sy,Te=L.shx*this.sx+L.sy*this.shx,Me=L.shx*this.shy+L.sy*this.sy,et=L.tx*this.sx+L.ty*this.shx+this.tx,ut=L.tx*this.shy+L.ty*this.sy+this.ty;return new mt(re,we,Te,Me,et,ut)},mt.prototype.decompose=function(){var L=this.sx,re=this.shy,we=this.shx,Te=this.sy,Me=this.tx,et=this.ty,ut=Math.sqrt(L*L+re*re),Dt=(L/=ut)*we+(re/=ut)*Te;we-=L*Dt,Te-=re*Dt;var Ut=Math.sqrt(we*we+Te*Te);return Dt/=Ut,L*(Te/=Ut)<re*(we/=Ut)&&(L=-L,re=-re,Dt=-Dt,ut=-ut),{scale:new mt(ut,0,0,Ut,0,0),translate:new mt(1,0,0,1,Me,et),rotate:new mt(L,re,-re,L,0,0),skew:new mt(1,0,Dt,1,0,0)}},mt.prototype.toString=function(L){return this.join(" ")},mt.prototype.inversed=function(){var L=this.sx,re=this.shy,we=this.shx,Te=this.sy,Me=this.tx,et=this.ty,ut=1/(L*Te-re*we),Dt=Te*ut,Ut=-re*ut,hr=-we*ut,sr=L*ut;return new mt(Dt,Ut,hr,sr,-Dt*Me-hr*et,-Ut*Me-sr*et)},mt.prototype.applyToPoint=function(L){var re=L.x*this.sx+L.y*this.shx+this.tx,we=L.x*this.shy+L.y*this.sy+this.ty;return new Lf(re,we)},mt.prototype.applyToRectangle=function(L){var re=this.applyToPoint(L),we=this.applyToPoint(new Lf(L.x+L.w,L.y+L.h));return new Ap(re.x,re.y,we.x-re.x,we.y-re.y)},mt.prototype.clone=function(){var L=this.sx,re=this.shy,we=this.shx,Te=this.sy,Me=this.tx,et=this.ty;return new mt(L,re,we,Te,Me,et)},p.Matrix=mt;var jt=p.matrixMult=function(L,re){return re.multiply(L)},Ur=new mt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ur;var Pn=function(L,re){if(!Kr[L]){var we=(re instanceof du?"Sh":"P")+(Object.keys(Ht).length+1).toString(10);re.id=we,Kr[L]=we,Ht[we]=re,Qt.publish("addPattern",re)}};p.ShadingPattern=du,p.TilingPattern=Id,p.addShadingPattern=function(L,re){return A("addShadingPattern()"),Pn(L,re),this},p.beginTilingPattern=function(L){A("beginTilingPattern()"),Lx(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,re){A("endTilingPattern()"),re.stream=he[V].join(`
`),Pn(L,re),Qt.publish("endTilingPattern",re),Ct.pop().restore()};var Nn=p.__private__.newObject=function(){var L=vn();return ne(L,!0),L},vn=p.__private__.newObjectDeferred=function(){return Y++,ee[Y]=function(){return G},Y},ne=function(L,re){return re=typeof re=="boolean"&&re,ee[L]=G,re&&Z(L+" 0 obj"),L},ve=p.__private__.newAdditionalObject=function(){var L={objId:vn(),content:""};return se.push(L),L},fe=vn(),pe=vn(),xe=p.__private__.decodeColorString=function(L){var re=L.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var we=parseFloat(re[0]);re=[we,we,we,"r"]}for(var Te="#",Me=0;Me<3;Me++)Te+=("0"+Math.floor(255*parseFloat(re[Me])).toString(16)).slice(-2);return Te},be=p.__private__.encodeColorString=function(L){var re;typeof L=="string"&&(L={ch1:L});var we=L.ch1,Te=L.ch2,Me=L.ch3,et=L.ch4,ut=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var Dt=new rK(we);if(Dt.ok)we=Dt.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var Ut=parseInt(we.substr(1),16);we=Ut>>16&255,Te=Ut>>8&255,Me=255&Ut}if(Te===void 0||et===void 0&&we===Te&&Te===Me)if(typeof we=="string")re=we+" "+ut[0];else switch(L.precision){case 2:re=H(we/255)+" "+ut[0];break;case 3:default:re=C(we/255)+" "+ut[0]}else if(et===void 0||Zr(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return re=["1.","1.","1.",ut[1]].join(" ");if(typeof we=="string")re=[we,Te,Me,ut[1]].join(" ");else switch(L.precision){case 2:re=[H(we/255),H(Te/255),H(Me/255),ut[1]].join(" ");break;default:case 3:re=[C(we/255),C(Te/255),C(Me/255),ut[1]].join(" ")}}else if(typeof we=="string")re=[we,Te,Me,et,ut[2]].join(" ");else switch(L.precision){case 2:re=[H(we),H(Te),H(Me),H(et),ut[2]].join(" ");break;case 3:default:re=[C(we),C(Te),C(Me),C(et),ut[2]].join(" ")}return re},$e=p.__private__.getFilters=function(){return o},Xe=p.__private__.putStream=function(L){var re=(L=L||{}).data||"",we=L.filters||$e(),Te=L.alreadyAppliedFilters||[],Me=L.addLength1||!1,et=re.length,ut=L.objectId,Dt=function(ei){return ei};if(d!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Dt=Za.encryptor(ut,0));var Ut={};we===!0&&(we=["FlateEncode"]);var hr=L.additionalKeyValues||[],sr=(Ut=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(re,we):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(Ut.data.length!==0&&(hr.push({key:"Length",value:Ut.data.length}),Me===!0&&hr.push({key:"Length1",value:et})),sr.length!=0)if(sr.split("/").length-1==1)hr.push({key:"Filter",value:sr});else{hr.push({key:"Filter",value:"["+sr+"]"});for(var Fr=0;Fr<hr.length;Fr+=1)if(hr[Fr].key==="DecodeParms"){for(var On=[],$n=0;$n<Ut.reverseChain.split("/").length-1;$n+=1)On.push("null");On.push(hr[Fr].value),hr[Fr].value="["+On.join(" ")+"]"}}Z("<<");for(var ia=0;ia<hr.length;ia++)Z("/"+hr[ia].key+" "+hr[ia].value);Z(">>"),Ut.data.length!==0&&(Z("stream"),Z(Dt(Ut.data)),Z("endstream"))},Re=p.__private__.putPage=function(L){var re=L.number,we=L.data,Te=L.objId,Me=L.contentsObjId;ne(Te,!0),Z("<</Type /Page"),Z("/Parent "+L.rootDictionaryObjId+" 0 R"),Z("/Resources "+L.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(j(L.mediaBox.bottomLeftX))+" "+parseFloat(j(L.mediaBox.bottomLeftY))+" "+j(L.mediaBox.topRightX)+" "+j(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&Z("/CropBox ["+j(L.cropBox.bottomLeftX)+" "+j(L.cropBox.bottomLeftY)+" "+j(L.cropBox.topRightX)+" "+j(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&Z("/BleedBox ["+j(L.bleedBox.bottomLeftX)+" "+j(L.bleedBox.bottomLeftY)+" "+j(L.bleedBox.topRightX)+" "+j(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&Z("/TrimBox ["+j(L.trimBox.bottomLeftX)+" "+j(L.trimBox.bottomLeftY)+" "+j(L.trimBox.topRightX)+" "+j(L.trimBox.topRightY)+"]"),L.artBox!==null&&Z("/ArtBox ["+j(L.artBox.bottomLeftX)+" "+j(L.artBox.bottomLeftY)+" "+j(L.artBox.topRightX)+" "+j(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&Z("/UserUnit "+L.userUnit),Qt.publish("putPage",{objId:Te,pageContext:Bt[re],pageNumber:re,page:we}),Z("/Contents "+Me+" 0 R"),Z(">>"),Z("endobj");var et=we.join(`
`);return b===y.ADVANCED&&(et+=`
Q`),ne(Me,!0),Xe({data:et,filters:$e(),objectId:Me}),Z("endobj"),Te},Ve=p.__private__.putPages=function(){var L,re,we=[];for(L=1;L<=nr;L++)Bt[L].objId=vn(),Bt[L].contentsObjId=vn();for(L=1;L<=nr;L++)we.push(Re({number:L,data:he[L],objId:Bt[L].objId,contentsObjId:Bt[L].contentsObjId,mediaBox:Bt[L].mediaBox,cropBox:Bt[L].cropBox,bleedBox:Bt[L].bleedBox,trimBox:Bt[L].trimBox,artBox:Bt[L].artBox,userUnit:Bt[L].userUnit,rootDictionaryObjId:fe,resourceDictionaryObjId:pe}));ne(fe,!0),Z("<</Type /Pages");var Te="/Kids [";for(re=0;re<nr;re++)Te+=we[re]+" 0 R ";Z(Te+"]"),Z("/Count "+nr),Z(">>"),Z("endobj"),Qt.publish("postPutPages")},He=function(L){Qt.publish("putFont",{font:L,out:Z,newObject:Nn,putStream:Xe}),L.isAlreadyPutted!==!0&&(L.objectNumber=Nn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+ph(L.postScriptName)),Z("/Subtype /Type1"),typeof L.encoding=="string"&&Z("/Encoding /"+L.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},dt=function(){for(var L in Gt)Gt.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&He(Gt[L])},vt=function(L){L.objectNumber=Nn();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[j(L.x),j(L.y),j(L.x+L.width),j(L.y+L.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var we=L.pages[1].join(`
`);Xe({data:we,additionalKeyValues:re,objectId:L.objectNumber}),Z("endobj")},Ot=function(){for(var L in rn)rn.hasOwnProperty(L)&&vt(rn[L])},pt=function(L,re){var we,Te=[],Me=1/(re-1);for(we=0;we<1;we+=Me)Te.push(we);if(Te.push(1),L[0].offset!=0){var et={offset:0,color:L[0].color};L.unshift(et)}if(L[L.length-1].offset!=1){var ut={offset:1,color:L[L.length-1].color};L.push(ut)}for(var Dt="",Ut=0,hr=0;hr<Te.length;hr++){for(we=Te[hr];we>L[Ut+1].offset;)Ut++;var sr=L[Ut].offset,Fr=(we-sr)/(L[Ut+1].offset-sr),On=L[Ut].color,$n=L[Ut+1].color;Dt+=W(Math.round((1-Fr)*On[0]+Fr*$n[0]).toString(16))+W(Math.round((1-Fr)*On[1]+Fr*$n[1]).toString(16))+W(Math.round((1-Fr)*On[2]+Fr*$n[2]).toString(16))}return Dt.trim()},Pt=function(L,re){re||(re=21);var we=Nn(),Te=pt(L.colors,re),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+re+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe({data:Te,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),Z("endobj"),L.objectNumber=Nn(),Z("<< /ShadingType "+L.type),Z("/ColorSpace /DeviceRGB");var et="/Coords ["+j(parseFloat(L.coords[0]))+" "+j(parseFloat(L.coords[1]))+" ";L.type===2?et+=j(parseFloat(L.coords[2]))+" "+j(parseFloat(L.coords[3])):et+=j(parseFloat(L.coords[2]))+" "+j(parseFloat(L.coords[3]))+" "+j(parseFloat(L.coords[4]))+" "+j(parseFloat(L.coords[5])),Z(et+="]"),L.matrix&&Z("/Matrix ["+L.matrix.toString()+"]"),Z("/Function "+we+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Zt=function(L,re){var we=vn(),Te=Nn();re.push({resourcesOid:we,objectOid:Te}),L.objectNumber=Te;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+L.boundingBox.map(j).join(" ")+"]"}),Me.push({key:"XStep",value:j(L.xStep)}),Me.push({key:"YStep",value:j(L.yStep)}),Me.push({key:"Resources",value:we+" 0 R"}),L.matrix&&Me.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Xe({data:L.stream,additionalKeyValues:Me,objectId:L.objectNumber}),Z("endobj")},Gr=function(L){var re;for(re in Ht)Ht.hasOwnProperty(re)&&(Ht[re]instanceof du?Pt(Ht[re]):Ht[re]instanceof Id&&Zt(Ht[re],L))},nn=function(L){for(var re in L.objectNumber=Nn(),Z("<<"),L)switch(re){case"opacity":Z("/ca "+H(L[re]));break;case"stroke-opacity":Z("/CA "+H(L[re]))}Z(">>"),Z("endobj")},aa=function(){var L;for(L in ce)ce.hasOwnProperty(L)&&nn(ce[L])},fo=function(){for(var L in Z("/XObject <<"),rn)rn.hasOwnProperty(L)&&rn[L].objectNumber>=0&&Z("/"+L+" "+rn[L].objectNumber+" 0 R");Qt.publish("putXobjectDict"),Z(">>")},Fl=function(){Za.oid=Nn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Za.v),Z("/R "+Za.r),Z("/U <"+Za.toHexString(Za.U)+">"),Z("/O <"+Za.toHexString(Za.O)+">"),Z("/P "+Za.P),Z(">>"),Z("endobj")},el=function(){for(var L in Z("/Font <<"),Gt)Gt.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&Z("/"+L+" "+Gt[L].objectNumber+" 0 R");Z(">>")},ho=function(){if(Object.keys(Ht).length>0){for(var L in Z("/Shading <<"),Ht)Ht.hasOwnProperty(L)&&Ht[L]instanceof du&&Ht[L].objectNumber>=0&&Z("/"+L+" "+Ht[L].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),Z(">>")}},tl=function(L){if(Object.keys(Ht).length>0){for(var re in Z("/Pattern <<"),Ht)Ht.hasOwnProperty(re)&&Ht[re]instanceof p.TilingPattern&&Ht[re].objectNumber>=0&&Ht[re].objectNumber<L&&Z("/"+re+" "+Ht[re].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),Z(">>")}},ss=function(){if(Object.keys(ce).length>0){var L;for(L in Z("/ExtGState <<"),ce)ce.hasOwnProperty(L)&&ce[L].objectNumber>=0&&Z("/"+L+" "+ce[L].objectNumber+" 0 R");Qt.publish("putGStateDict"),Z(">>")}},Kn=function(L){ne(L.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),el(),ho(),tl(L.objectOid),ss(),fo(),Z(">>"),Z("endobj")},bx=function(){var L=[];dt(),aa(),Ot(),Gr(L),Qt.publish("putResources"),L.forEach(Kn),Kn({resourcesOid:pe,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},wx=function(){Qt.publish("putAdditionalObjects");for(var L=0;L<se.length;L++){var re=se[L];ne(re.objId,!0),Z(re.content),Z("endobj")}Qt.publish("postPutAdditionalObjects")},_x=function(L){rr[L.fontName]=rr[L.fontName]||{},rr[L.fontName][L.fontStyle]=L.id},vp=function(L,re,we,Te,Me){var et={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:L,fontName:re,fontStyle:we,encoding:Te,isStandardFont:Me||!1,metadata:{}};return Qt.publish("addFont",{font:et,instance:this}),Gt[et.id]=et,_x(et),et.id},A_=function(L){for(var re=0,we=Le.length;re<we;re++){var Te=vp.call(this,L[re][0],L[re][1],L[re][2],Le[re][3],!0);f===!1&&(h[Te]=!0);var Me=L[re][0].split("-");_x({id:Te,fontName:Me[0],fontStyle:Me[1]||""})}Qt.publish("addFonts",{fonts:Gt,dictionary:rr})},po=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Te){var re=Te.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var we="Error in function "+re.split(`
`)[0].split("<")[0]+": "+Te.message;if(!Xt.console)throw new Error(we);Xt.console.error(we,Te),Xt.alert&&alert(we)}},L.foo.bar=L,L.foo},Ef=function(L,re){var we,Te,Me,et,ut,Dt,Ut,hr,sr;if(Me=(re=re||{}).sourceEncoding||"Unicode",ut=re.outputEncoding,(re.autoencode||ut)&&Gt[ot].metadata&&Gt[ot].metadata[Me]&&Gt[ot].metadata[Me].encoding&&(et=Gt[ot].metadata[Me].encoding,!ut&&Gt[ot].encoding&&(ut=Gt[ot].encoding),!ut&&et.codePages&&(ut=et.codePages[0]),typeof ut=="string"&&(ut=et[ut]),ut)){for(Ut=!1,Dt=[],we=0,Te=L.length;we<Te;we++)(hr=ut[L.charCodeAt(we)])?Dt.push(String.fromCharCode(hr)):Dt.push(L[we]),Dt[we].charCodeAt(0)>>8&&(Ut=!0);L=Dt.join("")}for(we=L.length;Ut===void 0&&we!==0;)L.charCodeAt(we-1)>>8&&(Ut=!0),we--;if(!Ut)return L;for(Dt=re.noBOM?[]:[254,255],we=0,Te=L.length;we<Te;we++){if((sr=(hr=L.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Dt.push(sr),Dt.push(hr-(sr<<8))}return String.fromCharCode.apply(void 0,Dt)},Bi=p.__private__.pdfEscape=p.pdfEscape=function(L,re){return Ef(L,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xp=p.__private__.beginPage=function(L){he[++nr]=[],Bt[nr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Sx(nr),je(he[V])},jx=function(L,re){var we,Te,Me;switch(r=re||r,typeof L=="string"&&(we=g(L.toLowerCase()),Array.isArray(we)&&(Te=we[0],Me=we[1])),Array.isArray(L)&&(Te=L[0]*rt,Me=L[1]*rt),isNaN(Te)&&(Te=a[0],Me=a[1]),(Te>14400||Me>14400)&&(cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Me=Math.min(14400,Me)),a=[Te,Me],r.substr(0,1)){case"l":Me>Te&&(a=[Me,Te]);break;case"p":Te>Me&&(a=[Me,Te])}xp(a),kx(_p),Z(mo),Sp!==0&&Z(Sp+" J"),Np!==0&&Z(Np+" j"),Qt.publish("addPage",{pageNumber:nr})},T_=function(L){L>0&&L<=nr&&(he.splice(L,1),Bt.splice(L,1),nr--,V>nr&&(V=nr),this.setPage(V))},Sx=function(L){L>0&&L<=nr&&(V=L)},C_=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return he.length-1},Nx=function(L,re,we){var Te,Me=void 0;return we=we||{},L=L!==void 0?L:Gt[ot].fontName,re=re!==void 0?re:Gt[ot].fontStyle,Te=L.toLowerCase(),rr[Te]!==void 0&&rr[Te][re]!==void 0?Me=rr[Te][re]:rr[L]!==void 0&&rr[L][re]!==void 0?Me=rr[L][re]:we.disableWarning===!1&&cn.warn("Unable to look up font label for font '"+L+"', '"+re+"'. Refer to getFontList() for available fonts."),Me||we.noFallback||(Me=rr.times[re])==null&&(Me=rr.times.normal),Me},E_=p.__private__.putInfo=function(){var L=Nn(),re=function(Te){return Te};for(var we in d!==null&&(re=Za.encryptor(L,0)),Z("<<"),Z("/Producer ("+Bi(re("jsPDF "+Vt.version))+")"),_e)_e.hasOwnProperty(we)&&_e[we]&&Z("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+Bi(re(_e[we]))+")");Z("/CreationDate ("+Bi(re(M))+")"),Z(">>"),Z("endobj")},yp=p.__private__.putCatalog=function(L){var re=(L=L||{}).rootDictionaryObjId||fe;switch(Nn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+re+" 0 R"),ge||(ge="fullwidth"),ge){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+ge;we.substr(we.length-1)==="%"&&(ge=parseInt(ge)/100),typeof ge=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+H(ge)+"]")}switch(_t||(_t="continuous"),_t){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Ke&&Z("/PageMode /"+Ke),Qt.publish("putCatalog"),Z(">>"),Z("endobj")},k_=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(Y+1)),Z("/Root "+Y+" 0 R"),Z("/Info "+(Y-1)+" 0 R"),d!==null&&Z("/Encrypt "+Za.oid+" 0 R"),Z("/ID [ <"+B+"> <"+B+"> ]"),Z(">>")},P_=p.__private__.putHeader=function(){Z("%PDF-"+v),Z("%")},O_=p.__private__.putXRef=function(){var L="0000000000";Z("xref"),Z("0 "+(Y+1)),Z("0000000000 65535 f ");for(var re=1;re<=Y;re++)typeof ee[re]=="function"?Z((L+ee[re]()).slice(-10)+" 00000 n "):ee[re]!==void 0?Z((L+ee[re]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Dl=p.__private__.buildDocument=function(){De(),je(oe),Qt.publish("buildDocument"),P_(),Ve(),wx(),bx(),d!==null&&Fl(),E_(),yp();var L=G;return O_(),k_(),Z("startxref"),Z(""+L),Z("%%EOF"),je(he[V]),oe.join(`
`)},kf=p.__private__.getBlob=function(L){return new Blob([Ge(L)],{type:"application/pdf"})},Pf=p.output=p.__private__.output=po(function(L,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",L){case void 0:return Dl();case"save":p.save(re.filename);break;case"arraybuffer":return Ge(Dl());case"blob":return kf(Dl());case"bloburi":case"bloburl":if(Xt.URL!==void 0&&typeof Xt.URL.createObjectURL=="function")return Xt.URL&&Xt.URL.createObjectURL(kf(Dl()))||void 0;cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Te=Dl();try{we=UA(Te)}catch{we=UA(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+re.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Me=re.pdfObjectUrl,et="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Dt=Xt.open();return Dt!==null&&Dt.document.write(ut),Dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',hr=Xt.open();if(hr!==null){hr.document.write(Ut);var sr=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=re.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',On=Xt.open();if(On!==null&&(On.document.write(Fr),On.document.title=re.filename),On||typeof safari>"u")return On;break;case"datauri":case"dataurl":return Xt.document.location.href=this.output("datauristring",re);default:return null}}),Ax=function(L){return Array.isArray(Aa)===!0&&Aa.indexOf(L)>-1};switch(n){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=Ax("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);rt=n}var Za=null;J(),q();var F_=function(L){return d!==null?Za.encryptor(L,0):function(re){return re}},Tx=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[L].objId,pageNumber:L,pageContext:Bt[L]}},ar=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Bt)if(Bt[re].objId===L)break;return Tx(re)},D_=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Bt[V].objId,pageNumber:V,pageContext:Bt[V]}};p.addPage=function(){return jx.apply(this,arguments),this},p.setPage=function(){return Sx.apply(this,arguments),je.call(this,he[V]),this},p.insertPage=function(L){return this.addPage(),this.movePage(V,L),this},p.movePage=function(L,re){var we,Te;if(L>re){we=he[L],Te=Bt[L];for(var Me=L;Me>re;Me--)he[Me]=he[Me-1],Bt[Me]=Bt[Me-1];he[re]=we,Bt[re]=Te,this.setPage(re)}else if(L<re){we=he[L],Te=Bt[L];for(var et=L;et<re;et++)he[et]=he[et+1],Bt[et]=Bt[et+1];he[re]=we,Bt[re]=Te,this.setPage(re)}return this},p.deletePage=function(){return T_.apply(this,arguments),this},p.__private__.text=p.text=function(L,re,we,Te,Me){var et,ut,Dt,Ut,hr,sr,Fr,On,$n,ia=(Te=Te||{}).scope||this;if(typeof L=="number"&&typeof re=="number"&&(typeof we=="string"||Array.isArray(we))){var ei=we;we=re,re=L,L=ei}if(arguments[3]instanceof mt?(A("The transform parameter of text() with a Matrix value"),$n=Me):(Dt=arguments[4],Ut=arguments[5],Zr(Fr=arguments[3])==="object"&&Fr!==null||(typeof Dt=="string"&&(Ut=Dt,Dt=null),typeof Fr=="string"&&(Ut=Fr,Fr=null),typeof Fr=="number"&&(Dt=Fr,Fr=null),Te={flags:Fr,angle:Dt,align:Ut})),isNaN(re)||isNaN(we)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return ia;var Ta="",go=!1,os=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:rd,al=ia.internal.scaleFactor;function Ix(dn){return dn=dn.split("	").join(Array(Te.TabLen||9).join(" ")),Bi(dn,Fr)}function kp(dn){for(var fn,Xn=dn.concat(),ma=[],$l=Xn.length;$l--;)typeof(fn=Xn.shift())=="string"?ma.push(fn):Array.isArray(dn)&&(fn.length===1||fn[1]===void 0&&fn[2]===void 0)?ma.push(fn[0]):ma.push([fn[0],fn[1],fn[2]]);return ma}function Pp(dn,fn){var Xn;if(typeof dn=="string")Xn=fn(dn)[0];else if(Array.isArray(dn)){for(var ma,$l,$p=dn.concat(),qf=[],Ux=$p.length;Ux--;)typeof(ma=$p.shift())=="string"?qf.push(fn(ma)[0]):Array.isArray(ma)&&typeof ma[0]=="string"&&($l=fn(ma[0],ma[1],ma[2]),qf.push([$l[0],$l[1],$l[2]]));Xn=qf}return Xn}var Mf=!1,Op=!0;if(typeof L=="string")Mf=!0;else if(Array.isArray(L)){var Fp=L.concat();ut=[];for(var Rf,Ua=Fp.length;Ua--;)(typeof(Rf=Fp.shift())!="string"||Array.isArray(Rf)&&typeof Rf[0]!="string")&&(Op=!1);Mf=Op}if(Mf===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var $f=qe/ia.internal.scaleFactor,Bf=$f*(os-1);switch(Te.baseline){case"bottom":we-=Bf;break;case"top":we+=$f-Bf;break;case"hanging":we+=$f-2*Bf;break;case"middle":we+=$f/2-Bf}if((sr=Te.maxWidth||0)>0&&(typeof L=="string"?L=ia.splitTextToSize(L,sr):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(dn,fn){return dn.concat(ia.splitTextToSize(fn,sr))},[]))),et={text:L,x:re,y:we,options:Te,mutex:{pdfEscape:Bi,activeFontKey:ot,fonts:Gt,activeFontSize:qe}},Qt.publish("preProcessText",et),L=et.text,Dt=(Te=et.options).angle,!($n instanceof mt)&&Dt&&typeof Dt=="number"){Dt*=Math.PI/180,Te.rotationDirection===0&&(Dt=-Dt),b===y.ADVANCED&&(Dt=-Dt);var Uf=Math.cos(Dt),Dp=Math.sin(Dt);$n=new mt(Uf,Dp,-Dp,Uf,0,0)}else Dt&&Dt instanceof mt&&($n=Dt);b!==y.ADVANCED||$n||($n=Ur),(hr=Te.charSpace||Df)!==void 0&&(Ta+=j(k(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(On=Te.horizontalScale)!==void 0&&(Ta+=j(100*On)+` Tz
`),Te.lang;var Ui=-1,H_=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,Lp=ia.internal.getCurrentPageInfo().pageContext;switch(H_){case 0:case!1:case"fill":Ui=0;break;case 1:case!0:case"stroke":Ui=1;break;case 2:case"fillThenStroke":Ui=2;break;case 3:case"invisible":Ui=3;break;case 4:case"fillAndAddForClipping":Ui=4;break;case 5:case"strokeAndAddPathForClipping":Ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ui=6;break;case 7:case"addToPathForClipping":Ui=7}var Mx=Lp.usedRenderingMode!==void 0?Lp.usedRenderingMode:-1;Ui!==-1?Ta+=Ui+` Tr
`:Mx!==-1&&(Ta+=`0 Tr
`),Ui!==-1&&(Lp.usedRenderingMode=Ui),Ut=Te.align||"left";var Ds,zf=qe*os,Rx=ia.internal.pageSize.getWidth(),$x=Gt[ot];hr=Te.charSpace||Df,sr=Te.maxWidth||0,Fr=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var Dc=[],id=function(dn){return ia.getStringUnitWidth(dn,{font:$x,charSpace:hr,fontSize:qe,doKerning:!1})*qe/al};if(Object.prototype.toString.call(L)==="[object Array]"){var zi;ut=kp(L),Ut!=="left"&&(Ds=ut.map(id));var Si,Lc=0;if(Ut==="right"){re-=Ds[0],L=[],Ua=ut.length;for(var Il=0;Il<Ua;Il++)Il===0?(Si=nl(re),zi=Ll(we)):(Si=k(Lc-Ds[Il]),zi=-zf),L.push([ut[Il],Si,zi]),Lc=Ds[Il]}else if(Ut==="center"){re-=Ds[0]/2,L=[],Ua=ut.length;for(var Ml=0;Ml<Ua;Ml++)Ml===0?(Si=nl(re),zi=Ll(we)):(Si=k((Lc-Ds[Ml])/2),zi=-zf),L.push([ut[Ml],Si,zi]),Lc=Ds[Ml]}else if(Ut==="left"){L=[],Ua=ut.length;for(var Vf=0;Vf<Ua;Vf++)L.push(ut[Vf])}else if(Ut==="justify"&&$x.encoding==="Identity-H"){L=[],Ua=ut.length,sr=sr!==0?sr:Rx;for(var Rl=0,Yn=0;Yn<Ua;Yn++)if(zi=Yn===0?Ll(we):-zf,Si=Yn===0?nl(re):Rl,Yn<Ua-1){var Ip=k((sr-Ds[Yn])/(ut[Yn].split(" ").length-1)),Ni=ut[Yn].split(" ");L.push([Ni[0]+" ",Si,zi]),Rl=0;for(var Ls=1;Ls<Ni.length;Ls++){var Hf=(id(Ni[Ls-1]+" "+Ni[Ls])-id(Ni[Ls]))*al+Ip;Ls==Ni.length-1?L.push([Ni[Ls],Hf,0]):L.push([Ni[Ls]+" ",Hf,0]),Rl-=Hf}}else L.push([ut[Yn],Si,zi]);L.push(["",Rl,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Ua=ut.length,sr=sr!==0?sr:Rx,Yn=0;Yn<Ua;Yn++)zi=Yn===0?Ll(we):-zf,Si=Yn===0?nl(re):0,Yn<Ua-1?Dc.push(j(k((sr-Ds[Yn])/(ut[Yn].split(" ").length-1)))):Dc.push(0),L.push([ut[Yn],Si,zi])}}var Bx=typeof Te.R2L=="boolean"?Te.R2L:ze;Bx===!0&&(L=Pp(L,function(dn,fn,Xn){return[dn.split("").reverse().join(""),fn,Xn]})),et={text:L,x:re,y:we,options:Te,mutex:{pdfEscape:Bi,activeFontKey:ot,fonts:Gt,activeFontSize:qe}},Qt.publish("postProcessText",et),L=et.text,go=et.mutex.isHex||!1;var Mp=Gt[ot].encoding;Mp!=="WinAnsiEncoding"&&Mp!=="StandardEncoding"||(L=Pp(L,function(dn,fn,Xn){return[Ix(dn),fn,Xn]})),ut=kp(L),L=[];for(var sd,od,Ic,ld=0,Wf=1,cd=Array.isArray(ut[0])?Wf:ld,Mc="",Rp=function(dn,fn,Xn){var ma="";return Xn instanceof mt?(Xn=typeof Te.angle=="number"?jt(Xn,new mt(1,0,0,1,dn,fn)):jt(new mt(1,0,0,1,dn,fn),Xn),b===y.ADVANCED&&(Xn=jt(new mt(1,0,0,-1,0,0),Xn)),ma=Xn.join(" ")+` Tm
`):ma=j(dn)+" "+j(fn)+` Td
`,ma},Is=0;Is<ut.length;Is++){switch(Mc="",cd){case Wf:Ic=(go?"<":"(")+ut[Is][0]+(go?">":")"),sd=parseFloat(ut[Is][1]),od=parseFloat(ut[Is][2]);break;case ld:Ic=(go?"<":"(")+ut[Is]+(go?">":")"),sd=nl(re),od=Ll(we)}Dc!==void 0&&Dc[Is]!==void 0&&(Mc=Dc[Is]+` Tw
`),Is===0?L.push(Mc+Rp(sd,od,$n)+Ic):cd===ld?L.push(Mc+Ic):cd===Wf&&L.push(Mc+Rp(sd,od,$n)+Ic)}L=cd===ld?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Ms=`BT
/`;return Ms+=ot+" "+qe+` Tf
`,Ms+=j(qe*os)+` TL
`,Ms+=nd+`
`,Ms+=Ta,Ms+=L,Z(Ms+="ET"),h[ot]=!0,ia};var L_=p.__private__.clip=p.clip=function(L){return Z(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return L_("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var rl=p.__private__.isValidStyle=function(L){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(re=!0),re};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return rl(L)&&(u=L),this};var Cx=p.__private__.getStyle=p.getStyle=function(L){var re=u;switch(L){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=L}return re},Ex=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(L){return Of("f",L),this},p.fillEvenOdd=function(L){return Of("f*",L),this},p.fillStroke=function(L){return Of("B",L),this},p.fillStrokeEvenOdd=function(L){return Of("B*",L),this};var Of=function(L,re){Zr(re)==="object"?M_(re,L):Z(L)},bp=function(L){L===null||b===y.ADVANCED&&L===void 0||(L=Cx(L),Z(L))};function I_(L,re,we,Te,Me){var et=new Id(re||this.boundingBox,we||this.xStep,Te||this.yStep,this.gState,Me||this.matrix);et.stream=this.stream;var ut=L+"$$"+this.cloneIndex+++"$$";return Pn(ut,et),et}var M_=function(L,re){var we=Kr[L.key],Te=Ht[we];if(Te instanceof du)Z("q"),Z(R_(re)),Te.gState&&p.setGState(Te.gState),Z(L.matrix.toString()+" cm"),Z("/"+we+" sh"),Z("Q");else if(Te instanceof Id){var Me=new mt(1,0,0,-1,0,Fc());L.matrix&&(Me=Me.multiply(L.matrix||Ur),we=I_.call(Te,L.key,L.boundingBox,L.xStep,L.yStep,Me).id),Z("q"),Z("/Pattern cs"),Z("/"+we+" scn"),Te.gState&&p.setGState(Te.gState),Z(re),Z("Q")}},R_=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wp=p.moveTo=function(L,re){return Z(j(k(L))+" "+j(D(re))+" m"),this},td=p.lineTo=function(L,re){return Z(j(k(L))+" "+j(D(re))+" l"),this},Pc=p.curveTo=function(L,re,we,Te,Me,et){return Z([j(k(L)),j(D(re)),j(k(we)),j(D(Te)),j(k(Me)),j(D(et)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,re,we,Te,Me){if(isNaN(L)||isNaN(re)||isNaN(we)||isNaN(Te)||!rl(Me))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[we-L,Te-re]],L,re,[1,1],Me||"S"):this.lines([[we-L,Te-re]],L,re,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,re,we,Te,Me,et){var ut,Dt,Ut,hr,sr,Fr,On,$n,ia,ei,Ta,go;if(typeof L=="number"&&(go=we,we=re,re=L,L=go),Te=Te||[1,1],et=et||!1,isNaN(re)||isNaN(we)||!Array.isArray(L)||!Array.isArray(Te)||!rl(Me)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wp(re,we),ut=Te[0],Dt=Te[1],hr=L.length,ei=re,Ta=we,Ut=0;Ut<hr;Ut++)(sr=L[Ut]).length===2?(ei=sr[0]*ut+ei,Ta=sr[1]*Dt+Ta,td(ei,Ta)):(Fr=sr[0]*ut+ei,On=sr[1]*Dt+Ta,$n=sr[2]*ut+ei,ia=sr[3]*Dt+Ta,ei=sr[4]*ut+ei,Ta=sr[5]*Dt+Ta,Pc(Fr,On,$n,ia,ei,Ta));return et&&Ex(),bp(Me),this},p.path=function(L){for(var re=0;re<L.length;re++){var we=L[re],Te=we.c;switch(we.op){case"m":wp(Te[0],Te[1]);break;case"l":td(Te[0],Te[1]);break;case"c":Pc.apply(this,Te);break;case"h":Ex()}}return this},p.__private__.rect=p.rect=function(L,re,we,Te,Me){if(isNaN(L)||isNaN(re)||isNaN(we)||isNaN(Te)||!rl(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(Te=-Te),Z([j(k(L)),j(D(re)),j(k(we)),j(k(Te)),"re"].join(" ")),bp(Me),this},p.__private__.triangle=p.triangle=function(L,re,we,Te,Me,et,ut){if(isNaN(L)||isNaN(re)||isNaN(we)||isNaN(Te)||isNaN(Me)||isNaN(et)||!rl(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-L,Te-re],[Me-we,et-Te],[L-Me,re-et]],L,re,[1,1],ut,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,re,we,Te,Me,et,ut){if(isNaN(L)||isNaN(re)||isNaN(we)||isNaN(Te)||isNaN(Me)||isNaN(et)||!rl(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Dt=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*we),et=Math.min(et,.5*Te),this.lines([[we-2*Me,0],[Me*Dt,0,Me,et-et*Dt,Me,et],[0,Te-2*et],[0,et*Dt,-Me*Dt,et,-Me,et],[2*Me-we,0],[-Me*Dt,0,-Me,-et*Dt,-Me,-et],[0,2*et-Te],[0,-et*Dt,Me*Dt,-et,Me,-et]],L+Me,re,[1,1],ut,!0),this},p.__private__.ellipse=p.ellipse=function(L,re,we,Te,Me){if(isNaN(L)||isNaN(re)||isNaN(we)||isNaN(Te)||!rl(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*we,ut=4/3*(Math.SQRT2-1)*Te;return wp(L+we,re),Pc(L+we,re-ut,L+et,re-Te,L,re-Te),Pc(L-et,re-Te,L-we,re-ut,L-we,re),Pc(L-we,re+ut,L-et,re+Te,L,re+Te),Pc(L+et,re+Te,L+we,re+ut,L+we,re),bp(Me),this},p.__private__.circle=p.circle=function(L,re,we,Te){if(isNaN(L)||isNaN(re)||isNaN(we)||!rl(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,re,we,we,Te)},p.setFont=function(L,re,we){return we&&(re=N(re,we)),ot=Nx(L,re,{disableWarning:!1}),this};var $_=p.__private__.getFont=p.getFont=function(){return Gt[Nx.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,re,we={};for(L in rr)if(rr.hasOwnProperty(L))for(re in we[L]=[],rr[L])rr[L].hasOwnProperty(re)&&we[L].push(re);return we},p.addFont=function(L,re,we,Te,Me){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(we=N(we,Te)),Me=Me||"Identity-H",vp.call(this,L,re,we,Me)};var rd,_p=e.lineWidth||.200025,Ff=p.__private__.getLineWidth=p.getLineWidth=function(){return _p},kx=p.__private__.setLineWidth=p.setLineWidth=function(L){return _p=L,Z(j(k(L))+" w"),this};p.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(L,re){if(L=L||[],re=re||0,isNaN(re)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(we){return j(k(we))}).join(" "),re=j(k(re)),Z("["+L+"] "+re+" d"),this};var Px=p.__private__.getLineHeight=p.getLineHeight=function(){return qe*rd};p.__private__.getLineHeight=p.getLineHeight=function(){return qe*rd};var Ox=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(rd=L),this},Fx=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return rd};Ox(e.lineHeight);var nl=p.__private__.getHorizontalCoordinate=function(L){return k(L)},Ll=p.__private__.getVerticalCoordinate=function(L){return b===y.ADVANCED?L:Bt[V].mediaBox.topRightY-Bt[V].mediaBox.bottomLeftY-k(L)},B_=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return j(nl(L))},Oc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return j(Ll(L))},mo=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xe(mo)},p.__private__.setStrokeColor=p.setDrawColor=function(L,re,we,Te){return mo=be({ch1:L,ch2:re,ch3:we,ch4:Te,pdfColorType:"draw",precision:2}),Z(mo),this};var jp=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xe(jp)},p.__private__.setFillColor=p.setFillColor=function(L,re,we,Te){return jp=be({ch1:L,ch2:re,ch3:we,ch4:Te,pdfColorType:"fill",precision:2}),Z(jp),this};var nd=e.textColor||"0 g",U_=p.__private__.getTextColor=p.getTextColor=function(){return xe(nd)};p.__private__.setTextColor=p.setTextColor=function(L,re,we,Te){return nd=be({ch1:L,ch2:re,ch3:we,ch4:Te,pdfColorType:"text",precision:3}),this};var Df=e.charSpace,z_=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Df||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Df=L,this};var Sp=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sp=re,Z(re+" J"),this};var Np=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var re=p.CapJoinStyles[L];if(re===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Np=re,Z(re+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(j(k(L))+" M"),this},p.GState=Rv,p.setGState=function(L){(L=typeof L=="string"?ce[$t[L]]:Dx(null,L)).equals(Er)||(Z("/"+L.id+" gs"),Er=L)};var Dx=function(L,re){if(!L||!$t[L]){var we=!1;for(var Te in ce)if(ce.hasOwnProperty(Te)&&ce[Te].equals(re)){we=!0;break}if(we)re=ce[Te];else{var Me="GS"+(Object.keys(ce).length+1).toString(10);ce[Me]=re,re.id=Me}return L&&($t[L]=re.id),Qt.publish("addGState",re),re}};p.addGState=function(L,re){return Dx(L,re),this},p.saveGraphicsState=function(){return Z("q"),Hr.push({key:ot,size:qe,color:nd}),this},p.restoreGraphicsState=function(){Z("Q");var L=Hr.pop();return ot=L.key,qe=L.size,nd=L.color,Er=null,this},p.setCurrentTransformationMatrix=function(L){return Z(L.toString()+" cm"),this},p.comment=function(L){return Z("#"+L),this};var Lf=function(L,re){var we=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(et){isNaN(et)||(we=parseFloat(et))}});var Te=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(et){isNaN(et)||(Te=parseFloat(et))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(et){Me=et.toString()}}),this},Ap=function(L,re,we,Te){Lf.call(this,L,re),this.type="rect";var Me=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(ut){isNaN(ut)||(Me=parseFloat(ut))}});var et=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(ut){isNaN(ut)||(et=parseFloat(ut))}}),this},Tp=function(){this.page=nr,this.currentPage=V,this.pages=he.slice(0),this.pagesContext=Bt.slice(0),this.x=qt,this.y=gt,this.matrix=jr,this.width=ad(V),this.height=Fc(V),this.outputDestination=Pe,this.id="",this.objectNumber=-1};Tp.prototype.restore=function(){nr=this.page,V=this.currentPage,Bt=this.pagesContext,he=this.pages,qt=this.x,gt=this.y,jr=this.matrix,Cp(V,this.width),Ep(V,this.height),Pe=this.outputDestination};var Lx=function(L,re,we,Te,Me){Ct.push(new Tp),nr=V=0,he=[],qt=L,gt=re,jr=Me,xp([we,Te])},V_=function(L){if(Ye[L])Ct.pop().restore();else{var re=new Tp,we="Xo"+(Object.keys(rn).length+1).toString(10);re.id=we,Ye[L]=we,rn[we]=re,Qt.publish("addFormObject",re),Ct.pop().restore()}};for(var If in p.beginFormObject=function(L,re,we,Te,Me){return Lx(L,re,we,Te,Me),this},p.endFormObject=function(L){return V_(L),this},p.doFormObject=function(L,re){var we=rn[Ye[L]];return Z("q"),Z(re.toString()+" cm"),Z("/"+we.id+" Do"),Z("Q"),this},p.getFormObject=function(L){var re=rn[Ye[L]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},p.save=function(L,re){return L=L||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(_d(kf(Dl()),L),typeof _d.unload=="function"&&Xt.setTimeout&&setTimeout(_d.unload,911),this):new Promise(function(we,Te){try{var Me=_d(kf(Dl()),L);typeof _d.unload=="function"&&Xt.setTimeout&&setTimeout(_d.unload,911),we(Me)}catch(et){Te(et.message)}})},Vt.API)Vt.API.hasOwnProperty(If)&&(If==="events"&&Vt.API.events.length?function(L,re){var we,Te,Me;for(Me=re.length-1;Me!==-1;Me--)we=re[Me][0],Te=re[Me][1],L.subscribe.apply(L,[we].concat(typeof Te=="function"?[Te]:Te))}(Qt,Vt.API.events):p[If]=Vt.API[If]);var ad=p.getPageWidth=function(L){return(Bt[L=L||V].mediaBox.topRightX-Bt[L].mediaBox.bottomLeftX)/rt},Cp=p.setPageWidth=function(L,re){Bt[L].mediaBox.topRightX=re*rt+Bt[L].mediaBox.bottomLeftX},Fc=p.getPageHeight=function(L){return(Bt[L=L||V].mediaBox.topRightY-Bt[L].mediaBox.bottomLeftY)/rt},Ep=p.setPageHeight=function(L,re){Bt[L].mediaBox.topRightY=re*rt+Bt[L].mediaBox.bottomLeftY};return p.internal={pdfEscape:Bi,getStyle:Cx,getFont:$_,getFontSize:de,getCharSpace:z_,getTextColor:U_,getLineHeight:Px,getLineHeightFactor:Fx,getLineWidth:Ff,write:ke,getHorizontalCoordinate:nl,getVerticalCoordinate:Ll,getCoordinateString:B_,getVerticalCoordinateString:Oc,collections:{},newObject:Nn,newAdditionalObject:ve,newObjectDeferred:vn,newObjectDeferredBegin:ne,getFilters:$e,putStream:Xe,events:Qt,scaleFactor:rt,pageSize:{getWidth:function(){return ad(V)},setWidth:function(L){Cp(V,L)},getHeight:function(){return Fc(V)},setHeight:function(L){Ep(V,L)}},encryptionOptions:d,encryption:Za,getEncryptor:F_,output:Pf,getNumberOfPages:C_,pages:he,out:Z,f2:H,f3:C,getPageInfo:Tx,getPageInfoByObjId:ar,getCurrentPageInfo:D_,getPDFVersion:m,Point:Lf,Rectangle:Ap,Matrix:mt,hasHotfix:Ax},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ad(V)},set:function(L){Cp(V,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Fc(V)},set:function(L){Ep(V,L)},enumerable:!0,configurable:!0}),A_.call(p,Le),ot="F1",jx(a,r),Qt.publish("initialized"),p}hh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},hh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},hh.prototype.processOwnerPassword=function(e,t){return VA(zA(t).substr(0,5),e)},hh.prototype.encryptor=function(e,t){var r=zA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return VA(r,n)}},Rv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Zr(e)!==Zr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Vt.API={events:[]},Vt.version="2.5.2";var Un=Vt.API,B3=1,Cf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},or=function(e){return e.toFixed(2)},Zc=function(e){return e.toFixed(5)};Un.__acroform__={};var is=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},cM=function(e){return e*B3},cl=function(e){var t=new sK,r=Rt.internal.getHeight(e)||0,n=Rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(or(n)),Number(or(r))],t},$$e=Un.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},B$e=Un.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},U$e=Un.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ea=Un.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return U$e(e,t-1)},ta=Un.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $$e(e,t-1)},ra=Un.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return B$e(e,t-1)},z$e=Un.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(or(c.lowerLeft_X)),Number(or(c.lowerLeft_Y)),Number(or(c.upperRight_X)),Number(or(c.upperRight_Y))]},V$e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=HA(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+or(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=cl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},HA=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,o=Rt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Rt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(C,k,U){if(C+1<a.length){var D=k+" "+a[C+1][0];return hy(D,e,U).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=hy("3",e,i).height,h=e.multiline?o-i:(o-f)/2,p=h+=2,v=0,m=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+hy(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var S=!1;if(a[b].length!==1&&x!==a[b].length-1){if((f+2)*(y+2)+2>o)continue e;g+=a[b][x],S=!0,m=b,b--}else{g=(g+=a[b][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var _=parseInt(b),N=c(_,g,i),j=b>=a.length-1;if(N&&!j){g+=" ",x=0;continue}if(N||j){if(j)m=_;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;m=_}}for(var A="",P=v;P<=m;P++){var H=a[P];if(e.multiline){if(P===m){A+=H[x]+" ",x=(x+1)%H.length;continue}if(P===v){A+=H[H.length-1]+" ";continue}}A+=H[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=hy(A,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=or(u)+" "+or(p)+` Td
`,t+="("+Cf(A)+`) Tj
`,t+=-or(u)+` 0 Td
`,p=-(i+2),d=0,v=S?m:m+1,y++,g=""}break}return n.text=t,n.fontSize=i,n},hy=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},H$e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},W$e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},q$e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Zr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},G$e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Qo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(H$e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");B3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new oK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&W$e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=z$e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Rt.createDefaultAppearanceStream(l),Zr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=V$e(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&q$e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},iK=Un.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Zr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Cf(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Cf(n(e))+")"},ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ml.prototype.toString=function(){return this.objId+" 0 R"},ml.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ml.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:iK(a,this.objId,this.scope)}):a instanceof ml?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var sK=function(){ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};is(sK,ml);var oK=function(){ml.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Cf(r(e))+")"}},set:function(r){e=r}})};is(oK,ml);var Qo=function e(){ml.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ea(t,3)},set:function(g){g?this.F=ta(t,3):this.F=ra(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Rb)return;i="FieldObject"+e.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Cf(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/B3:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Rb||this instanceof ku))return sS(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ya?h:sS(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof ya?g:g.substr(0,1)==="("?uh(g.substr(1,g.length-2)):uh(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ya?uh(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof ya?"/"+g:g}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ya?p:sS(p,this.objId,this.scope)},set:function(g){g=g.toString(),p=this instanceof ya?g:g.substr(0,1)==="("?uh(g.substr(1,g.length-2)):uh(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ya?uh(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof ya?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,1)},set:function(g){g?this.Ff=ta(this.Ff,1):this.Ff=ra(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,2)},set:function(g){g?this.Ff=ta(this.Ff,2):this.Ff=ra(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,3)},set:function(g){g?this.Ff=ta(this.Ff,3):this.Ff=ra(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};is(Qo,ml);var Wd=function(){Qo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return iK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,18)},set:function(r){r?this.Ff=ta(this.Ff,18):this.Ff=ra(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ta(this.Ff,19):this.Ff=ra(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,20)},set:function(r){r?(this.Ff=ta(this.Ff,20),t.sort()):this.Ff=ra(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,22)},set:function(r){r?this.Ff=ta(this.Ff,22):this.Ff=ra(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,23)},set:function(r){r?this.Ff=ta(this.Ff,23):this.Ff=ra(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,27)},set:function(r){r?this.Ff=ta(this.Ff,27):this.Ff=ra(this.Ff,27)}}),this.hasAppearanceStream=!1};is(Wd,Qo);var qd=function(){Wd.call(this),this.fontName="helvetica",this.combo=!1};is(qd,Wd);var Gd=function(){qd.call(this),this.combo=!0};is(Gd,qd);var mg=function(){Gd.call(this),this.edit=!0};is(mg,Gd);var ya=function(){Qo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,15)},set:function(r){r?this.Ff=ta(this.Ff,15):this.Ff=ra(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,16)},set:function(r){r?this.Ff=ta(this.Ff,16):this.Ff=ra(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,17)},set:function(r){r?this.Ff=ta(this.Ff,17):this.Ff=ra(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,26)},set:function(r){r?this.Ff=ta(this.Ff,26):this.Ff=ra(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Cf(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Zr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};is(ya,Qo);var gg=function(){ya.call(this),this.pushButton=!0};is(gg,ya);var Kd=function(){ya.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};is(Kd,ya);var Rb=function(){var e,t;Qo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Cf(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Zr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};is(Rb,Qo),Kd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Kd.prototype.createOption=function(e){var t=new Rb;return t.Parent=this,t.optionName=e,this.Kids.push(t),K$e.call(this.scope,t),t};var vg=function(){ya.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};is(vg,ya);var ku=function(){Qo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,13)},set:function(t){t?this.Ff=ta(this.Ff,13):this.Ff=ra(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,21)},set:function(t){t?this.Ff=ta(this.Ff,21):this.Ff=ra(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,23)},set:function(t){t?this.Ff=ta(this.Ff,23):this.Ff=ra(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,24)},set:function(t){t?this.Ff=ta(this.Ff,24):this.Ff=ra(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,25)},set:function(t){t?this.Ff=ta(this.Ff,25):this.Ff=ra(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,26)},set:function(t){t?this.Ff=ta(this.Ff,26):this.Ff=ra(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};is(ku,Qo);var xg=function(){ku.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,14)},set:function(e){e?this.Ff=ta(this.Ff,14):this.Ff=ra(this.Ff,14)}}),this.password=!0};is(xg,ku);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=HA(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+or(Rt.internal.getWidth(e))+" "+or(Rt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+or(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=cl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Rt.internal.getHeight(e),o=Rt.internal.getWidth(e),l=HA(e,e.caption);return a.push("1 g"),a.push("0 0 "+or(o)+" "+or(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+or(o-1)+" "+or(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+or(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+or(Rt.internal.getWidth(e))+" "+or(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Circle.YesNormal,t.D[e]=Rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Rt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Zc(Rt.internal.getWidth(e)/2)+" "+Zc(Rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5)),o=Number((n*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zc(Rt.internal.getWidth(e)/2)+" "+Zc(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Zc(Rt.internal.getWidth(e)/2)+" "+Zc(Rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zc(Rt.internal.getWidth(e)/2)+" "+Zc(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Cross.YesNormal,t.D[e]=Rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Rt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+or(Rt.internal.getWidth(e)-2)+" "+or(Rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(or(n.x1.x)+" "+or(n.x1.y)+" m"),r.push(or(n.x2.x)+" "+or(n.x2.y)+" l"),r.push(or(n.x4.x)+" "+or(n.x4.y)+" m"),r.push(or(n.x3.x)+" "+or(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=Rt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+or(Rt.internal.getWidth(e))+" "+or(Rt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+or(Rt.internal.getWidth(e)-2)+" "+or(Rt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(or(r.x1.x)+" "+or(r.x1.y)+" m"),n.push(or(r.x2.x)+" "+or(r.x2.y)+" l"),n.push(or(r.x4.x)+" "+or(r.x4.y)+" m"),n.push(or(r.x3.x)+" "+or(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+or(Rt.internal.getWidth(e))+" "+or(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rt.internal.getWidth(e),r=Rt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Rt.internal.getWidth=function(e){var t=0;return Zr(e)==="object"&&(t=cM(e.Rect[2])),t},Rt.internal.getHeight=function(e){var t=0;return Zr(e)==="object"&&(t=cM(e.Rect[3])),t};var K$e=Un.addField=function(e){if(G$e(this,e),!(e instanceof Qo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Un.AcroFormChoiceField=Wd,Un.AcroFormListBox=qd,Un.AcroFormComboBox=Gd,Un.AcroFormEditBox=mg,Un.AcroFormButton=ya,Un.AcroFormPushButton=gg,Un.AcroFormRadioButton=Kd,Un.AcroFormCheckBox=vg,Un.AcroFormTextField=ku,Un.AcroFormPasswordField=xg,Un.AcroFormAppearance=Rt,Un.AcroForm={ChoiceField:Wd,ListBox:qd,ComboBox:Gd,EditBox:mg,Button:ya,PushButton:gg,RadioButton:Kd,CheckBox:vg,TextField:ku,PasswordField:xg,Appearance:Rt},Vt.AcroForm={ChoiceField:Wd,ListBox:qd,ComboBox:Gd,EditBox:mg,Button:ya,PushButton:gg,RadioButton:Kd,CheckBox:vg,TextField:ku,PasswordField:xg,Appearance:Rt};var Y$e=Vt.AcroForm;function lK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(C,k){var U,D,M,B,I,q=t;if((k=k||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(N(C))for(I in r)for(M=r[I],U=0;U<M.length;U+=1){for(B=!0,D=0;D<M[U].length;D+=1)if(M[U][D]!==void 0&&M[U][D]!==C[D]){B=!1;break}if(B===!0){q=I;break}}else for(I in r)for(M=r[I],U=0;U<M.length;U+=1){for(B=!0,D=0;D<M[U].length;D+=1)if(M[U][D]!==void 0&&M[U][D]!==C.charCodeAt(D)){B=!1;break}if(B===!0){q=I;break}}return q===t&&k!==t&&(q=k),q},a=function C(k){for(var U=this.internal.write,D=this.internal.putStream,M=(0,this.internal.getFilters)();M.indexOf("FlateEncode")!==-1;)M.splice(M.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var B=[];if(B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Image"}),B.push({key:"Width",value:k.width}),B.push({key:"Height",value:k.height}),k.colorSpace===x.INDEXED?B.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(B.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===x.DEVICE_CMYK&&B.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),B.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&B.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var I="",q=0,F=k.transparency.length;q<F;q++)I+=k.transparency[q]+" "+k.transparency[q]+" ";B.push({key:"Mask",value:"["+I+"]"})}k.sMask!==void 0&&B.push({key:"SMask",value:k.objectId+1+" 0 R"});var z=k.filter!==void 0?["/"+k.filter]:void 0;if(D({data:k.data,additionalKeyValues:B,alreadyAppliedFilters:z,objectId:k.objectId}),U("endobj"),"sMask"in k&&k.sMask!==void 0){var J="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,E={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:J,data:k.sMask};"filter"in k&&(E.filter=k.filter),C.call(this,E)}if(k.colorSpace===x.INDEXED){var V=this.internal.newObject();D({data:A(new Uint8Array(k.palette)),objectId:V}),U("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var k in C)a.call(this,C[k])},o=function(){var C,k=this.internal.collections.addImage_images,U=this.internal.write;for(var D in k)U("/I"+(C=k[D]).index,C.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var C=this.internal.collections.addImage_images;return l.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(C){return typeof e["process"+C.toUpperCase()]=="function"},f=function(C){return Zr(C)==="object"&&C.nodeType===1},h=function(C,k){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var U=""+C.getAttribute("src");if(U.indexOf("data:image/")===0)return pg(unescape(U).split("base64,").pop());var D=e.loadFile(U,!0);if(D!==void 0)return D}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var M;switch(k){case"PNG":M="image/png";break;case"WEBP":M="image/webp";break;case"JPEG":case"JPG":default:M="image/jpeg"}return pg(C.toDataURL(M,1).split("base64,").pop())}},p=function(C){var k=this.internal.collections.addImage_images;if(k){for(var U in k)if(C===k[U].alias)return k[U]}},v=function(C,k,U){return C||k||(C=-96,k=-96),C<0&&(C=-1*U.width*72/C/this.internal.scaleFactor),k<0&&(k=-1*U.height*72/k/this.internal.scaleFactor),C===0&&(C=k*U.width/U.height),k===0&&(k=C*U.height/U.width),[C,k]},m=function(C,k,U,D,M,B){var I=v.call(this,U,D,M),q=this.internal.getCoordinateString,F=this.internal.getVerticalCoordinateString,z=c.call(this);if(U=I[0],D=I[1],z[M.index]=M,B){B*=Math.PI/180;var J=Math.cos(B),E=Math.sin(B),V=function(W){return W.toFixed(4)},K=[V(J),V(E),V(-1*E),V(J),0,0,"cm"]}this.internal.write("q"),B?(this.internal.write([1,"0","0",1,q(C),F(k+D),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([q(U),"0","0",q(D),"0","0","cm"].join(" "))):this.internal.write([q(U),"0","0",q(D),q(C),F(k+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+M.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(C){var k,U,D=0;if(typeof C=="string")for(U=C.length,k=0;k<U;k++)D=(D<<5)-D+C.charCodeAt(k),D|=0;else if(N(C))for(U=C.byteLength/2,k=0;k<U;k++)D=(D<<5)-D+C[k],D|=0;return D},b=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var k=!0;return C.length===0&&(k=!1),C.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(k=!1),k},S=e.__addimage__.extractImageFromDataUrl=function(C){var k=(C=C||"").split("base64,"),U=null;if(k.length===2){var D=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(k[0]);Array.isArray(D)&&(U={mimeType:D[1],charset:D[2],data:k[1]})}return U},_=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return _()&&C instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(C){return _()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},j=e.__addimage__.binaryStringToUint8Array=function(C){for(var k=C.length,U=new Uint8Array(k),D=0;D<k;D++)U[D]=C.charCodeAt(D);return U},A=e.__addimage__.arrayBufferToBinaryString=function(C){for(var k="",U=N(C)?C:new Uint8Array(C),D=0;D<U.length;D+=8192)k+=String.fromCharCode.apply(null,U.subarray(D,D+8192));return k};e.addImage=function(){var C,k,U,D,M,B,I,q,F;if(typeof arguments[1]=="number"?(k=t,U=arguments[1],D=arguments[2],M=arguments[3],B=arguments[4],I=arguments[5],q=arguments[6],F=arguments[7]):(k=arguments[1],U=arguments[2],D=arguments[3],M=arguments[4],B=arguments[5],I=arguments[6],q=arguments[7],F=arguments[8]),Zr(C=arguments[0])==="object"&&!f(C)&&"imageData"in C){var z=C;C=z.imageData,k=z.format||k||t,U=z.x||U||0,D=z.y||D||0,M=z.w||z.width||M,B=z.h||z.height||B,I=z.alias||I,q=z.compression||q,F=z.rotation||z.angle||F}var J=this.internal.getFilters();if(q===void 0&&J.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(U)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var E=P.call(this,C,k,I,q);return m.call(this,U,D,M,B,E,F),this};var P=function(C,k,U,D){var M,B,I;if(typeof C=="string"&&n(C)===t){C=unescape(C);var q=H(C,!1);(q!==""||(q=e.loadFile(C,!0))!==void 0)&&(C=q)}if(f(C)&&(C=h(C,k)),k=n(C,k),!d(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((I=U)==null||I.length===0)&&(U=function(F){return typeof F=="string"||N(F)?y(F):N(F.data)?y(F.data):null}(C)),(M=p.call(this,U))||(_()&&(C instanceof Uint8Array||k==="RGBA"||(B=C,C=j(C))),M=this["process"+k.toUpperCase()](C,u.call(this),U,function(F){return F&&typeof F=="string"&&(F=F.toUpperCase()),F in e.image_compression?F:g.NONE}(D),B)),!M)throw new Error("An unknown error occurred whilst processing the image.");return M},H=e.__addimage__.convertBase64ToBinaryString=function(C,k){var U;k=typeof k!="boolean"||k;var D,M="";if(typeof C=="string"){D=(U=S(C))!==null?U.data:C;try{M=pg(D)}catch(B){if(k)throw b(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+B.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};e.getImageProperties=function(C){var k,U,D="";if(f(C)&&(C=h(C)),typeof C=="string"&&n(C)===t&&((D=H(C,!1))===""&&(D=e.loadFile(C)||""),C=D),U=n(C),!d(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!_()||C instanceof Uint8Array||(C=j(C)),!(k=this["process"+U.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=U,k}})(Vt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(g(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(g(y))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var N=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Vt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var x=0,g=r,y="",b=0;for(x=0;x<m.length;x+=1)g[m.charCodeAt(x)]!==void 0?(b++,typeof(g=g[m.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(g),g=r,b=0),x===m.length-1&&(g=r,y+=m.charAt(x-(b-1)),x-=b-1,b=0)):(g=r,y+=m.charAt(x-b),x-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,x,g){return o(m)?i(m)===!1?-1:!u(m)||!o(x)&&!o(g)||!o(g)&&l(x)||l(m)&&!o(x)||l(m)&&c(x)||l(m)&&l(x)?0:d(m)&&o(x)&&!l(x)&&o(g)&&u(g)?3:l(m)||!o(g)?1:2:-1},p=function(m){var x=0,g=0,y=0,b="",S="",_="",N=(m=m||"").split("\\s+"),j=[];for(x=0;x<N.length;x+=1){for(j.push(""),g=0;g<N[x].length;g+=1)b=N[x][g],S=N[x][g-1],_=N[x][g+1],o(b)?(y=h(b,S,_),j[x]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):j[x]+=b;j[x]=f(j[x])}return j.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var y=0;for(g=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?g.push([p(x[y][0]),x[y][1],x[y][2]]):g.push([p(x[y])]);m=g}else m=p(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",v])}(Vt.API),Vt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Vt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,m=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,S){return b.concat(x.splitTextToSize(S,g))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(m=this.getStringUnitWidth(c[y],{font:f})*d)&&(p=m);return p!==0&&(v=c.length),{w:p/=h,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,v,m,x,g=[],y=[],b=[],S={},_={},N=[],j=[],A=(h=h||{}).autoSize||!1,P=h.printHeaders!==!1,H=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},t),k=typeof h.padding=="number"?h.padding:3,U=h.headerBackgroundColor||"#c8c8c8",D=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=D,this.setFontSize(H),f==null)y=g=Object.keys(d[0]),b=g.map(function(){return"left"});else if(Array.isArray(f)&&Zr(f[0])==="object")for(g=f.map(function(z){return z.name}),y=f.map(function(z){return z.prompt||z.name||""}),b=f.map(function(z){return z.align||"left"}),p=0;p<f.length;p+=1)_[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=g=f,b=g.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<g.length;p+=1){for(S[x=g[p]]=d.map(function(z){return z[x]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=S[x],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)N.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[x]=Math.max.apply(null,N)+k+k,N=[]}if(P){var M={};for(p=0;p<g.length;p+=1)M[g[p]]={},M[g[p]].text=y[p],M[g[p]].align=b[p];var B=l.call(this,M,_);j=g.map(function(z){return new i(c,u,_[z],B,M[z].text,void 0,M[z].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var I=f.reduce(function(z,J){return z[J.name]=J.align,z},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var q=l.call(this,d[p],_);for(m=0;m<g.length;m+=1){var F=d[p][g[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:F},this),o.call(this,new i(c,u,_[g[m]],q,F,p+2,I[g[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Vt.API);var cK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},uK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],WA=lK(uK),dK=[100,200,300,400,500,600,700,800,900],X$e=lK(dK);function qA(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return cK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof WA[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function uM(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var J$e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},dM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Q$e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},J$e,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=qA(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+fM(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=WA[c],f=d<=WA.normal?-1:1,h=uM(u,uK,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=cK[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=X$e[c],f=uM(u,dK,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+fM(i)+"'.");return o}function hM(e){return e.trimLeft()}function Z$e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function eBe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var py,pM,mM,oS=["times"];(function(e){var t,r,n,a,i,o,l,c,u,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new c,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new o,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new o,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=E;Object.defineProperty(this,"pdf",{get:function(){return V}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(je){K=!!je}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(je){W=!!je}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(je){isNaN(je)||(Y=je)}});var ee=0;Object.defineProperty(this,"posY",{get:function(){return ee},set:function(je){isNaN(je)||(ee=je)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(je){var Z;typeof je=="number"?Z=[je,je,je,je]:((Z=new Array(4))[0]=je[0],Z[1]=je.length>=2?je[1]:Z[0],Z[2]=je.length>=3?je[2]:Z[0],Z[3]=je.length>=4?je[3]:Z[1]),u.margin=Z}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(je){oe=je}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(je){G=je}});var se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return se},set:function(je){se=je}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(je){je instanceof d&&(u=je)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(je){u.path=je}});var he=[];Object.defineProperty(this,"ctxStack",{get:function(){return he},set:function(je){he=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var Z;Z=h(je),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var Z=h(je);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var Q=null;function Pe(je,Z){if(Q===null){var ke=function(Ge){var Le=[];return Object.keys(Ge).forEach(function(qe){Ge[qe].forEach(function(ge){var de=null;switch(ge){case"bold":de={family:qe,weight:"bold"};break;case"italic":de={family:qe,style:"italic"};break;case"bolditalic":de={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":de={family:qe}}de!==null&&(de.ref={name:qe,style:ge},Le.push(de))})}),Le}(je.getFontList());Q=function(Ge){for(var Le={},qe=0;qe<Ge.length;++qe){var ge=qA(Ge[qe]),de=ge.family,ze=ge.stretch,Ke=ge.style,ft=ge.weight;Le[de]=Le[de]||{},Le[de][ze]=Le[de][ze]||{},Le[de][ze][Ke]=Le[de][ze][Ke]||{},Le[de][ze][Ke][ft]=ge}return Le}(ke.concat(Z))}return Q}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(je){Q=null,De=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var Z;if(this.ctx.font=je,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var ke=Z[1],Ge=(Z[2],Z[3]),Le=Z[4],qe=(Z[5],Z[6]),ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(ge==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:ge==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var de=function(_e){var ot,rt,qt=[],gt=_e.trim();if(gt==="")return oS;if(gt in dM)return[dM[gt]];for(;gt!=="";){switch(rt=null,ot=(gt=hM(gt)).charAt(0)){case'"':case"'":rt=Z$e(gt.substring(1),ot);break;default:rt=eBe(gt)}if(rt===null||(qt.push(rt[0]),(gt=hM(rt[1]))!==""&&gt.charAt(0)!==","))return oS;gt=gt.replace(/^,/,"")}return qt}(qe);if(this.fontFaces){var ze=Q$e(Pe(this.pdf,this.fontFaces),de.map(function(_e){return{family:_e,stretch:"normal",weight:Ge,style:ke}}));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var Ke="";(Ge==="bold"||parseInt(Ge,10)>=700||ke==="bold")&&(Ke="bold"),ke==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var ft="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<de.length;St++){if(this.pdf.internal.getFont(de[St],Ke,{noFallback:!0,disableWarning:!0})!==void 0){ft=de[St];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(de[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=de[St],Ke="bold";else if(this.pdf.internal.getFont(de[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=de[St],Ke="normal";break}}if(ft===""){for(var Et=0;Et<de.length;Et++)if(_t[de[Et]]){ft=_t[de[Et]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};f.prototype.setLineDash=function(E){this.lineDash=E},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){S.call(this,"fill",!1)},f.prototype.stroke=function(){S.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(E,V){if(isNaN(E)||isNaN(V))throw cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(E,V));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(E,V)},f.prototype.closePath=function(){var E=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Zr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){E=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(E.x,E.y)},f.prototype.lineTo=function(E,V){if(isNaN(E)||isNaN(V))throw cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(E,V));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},f.prototype.quadraticCurveTo=function(E,V,K,W){if(isNaN(K)||isNaN(W)||isNaN(E)||isNaN(V))throw cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new o(K,W)),ee=this.ctx.transform.applyToPoint(new o(E,V));this.path.push({type:"qct",x1:ee.x,y1:ee.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},f.prototype.bezierCurveTo=function(E,V,K,W,Y,ee){if(isNaN(Y)||isNaN(ee)||isNaN(E)||isNaN(V)||isNaN(K)||isNaN(W))throw cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new o(Y,ee)),G=this.ctx.transform.applyToPoint(new o(E,V)),se=this.ctx.transform.applyToPoint(new o(K,W));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:se.x,y2:se.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},f.prototype.arc=function(E,V,K,W,Y,ee){if(isNaN(E)||isNaN(V)||isNaN(K)||isNaN(W)||isNaN(Y))throw cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ee=!!ee,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new o(E,V));E=oe.x,V=oe.y;var G=this.ctx.transform.applyToPoint(new o(0,K)),se=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(G.x-se.x,2)+Math.pow(G.y-se.y,2))}Math.abs(Y-W)>=2*Math.PI&&(W=0,Y=2*Math.PI),this.path.push({type:"arc",x:E,y:V,radius:K,startAngle:W,endAngle:Y,counterclockwise:ee})},f.prototype.arcTo=function(E,V,K,W,Y){throw new Error("arcTo not implemented.")},f.prototype.rect=function(E,V,K,W){if(isNaN(E)||isNaN(V)||isNaN(K)||isNaN(W))throw cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,V),this.lineTo(E+K,V),this.lineTo(E+K,V+W),this.lineTo(E,V+W),this.lineTo(E,V),this.lineTo(E+K,V),this.lineTo(E,V)},f.prototype.fillRect=function(E,V,K,W){if(isNaN(E)||isNaN(V)||isNaN(K)||isNaN(W))throw cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,V,K,W),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},f.prototype.strokeRect=function(E,V,K,W){if(isNaN(E)||isNaN(V)||isNaN(K)||isNaN(W))throw cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(E,V,K,W),this.stroke())},f.prototype.clearRect=function(E,V,K,W){if(isNaN(E)||isNaN(V)||isNaN(K)||isNaN(W))throw cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,V,K,W))},f.prototype.save=function(E){E=typeof E!="boolean"||E;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},f.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(V),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(E){var V,K,W,Y;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))V=0,K=0,W=0,Y=0;else{var ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ee!==null)V=parseInt(ee[1]),K=parseInt(ee[2]),W=parseInt(ee[3]),Y=1;else if((ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)V=parseInt(ee[1]),K=parseInt(ee[2]),W=parseInt(ee[3]),Y=parseFloat(ee[4]);else{if(Y=1,typeof E=="string"&&E.charAt(0)!=="#"){var oe=new rK(E);E=oe.ok?oe.toHex():"#000000"}E.length===4?(V=E.substring(1,2),V+=V,K=E.substring(2,3),K+=K,W=E.substring(3,4),W+=W):(V=E.substring(1,3),K=E.substring(3,5),W=E.substring(5,7)),V=parseInt(V,16),K=parseInt(K,16),W=parseInt(W,16)}}return{r:V,g:K,b:W,a:Y,style:E}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(E,V,K,W){if(isNaN(V)||isNaN(K)||typeof E!="string")throw cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!p.call(this)){var Y=q(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;k.call(this,{text:E,x:V,y:K,scale:ee,angle:Y,align:this.textAlign,maxWidth:W})}},f.prototype.strokeText=function(E,V,K,W){if(isNaN(V)||isNaN(K)||typeof E!="string")throw cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){W=isNaN(W)?void 0:W;var Y=q(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;k.call(this,{text:E,x:V,y:K,scale:ee,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:W})}},f.prototype.measureText=function(E){if(typeof E!="string")throw cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,K=this.pdf.internal.scaleFactor,W=V.internal.getFontSize(),Y=V.getStringUnitWidth(E)*W/V.internal.scaleFactor,ee=function(oe){var G=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return G}}),this};return new ee({width:Y*=Math.round(96*K/72*1e4)/1e4})},f.prototype.scale=function(E,V){if(isNaN(E)||isNaN(V))throw cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(E,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.rotate=function(E){if(isNaN(E))throw cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.translate=function(E,V){if(isNaN(E)||isNaN(V))throw cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,E,V);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.transform=function(E,V,K,W,Y,ee){if(isNaN(E)||isNaN(V)||isNaN(K)||isNaN(W)||isNaN(Y)||isNaN(ee))throw cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new c(E,V,K,W,Y,ee);this.ctx.transform=this.ctx.transform.multiply(oe)},f.prototype.setTransform=function(E,V,K,W,Y,ee){E=isNaN(E)?1:E,V=isNaN(V)?0:V,K=isNaN(K)?0:K,W=isNaN(W)?1:W,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?0:ee,this.ctx.transform=new c(E,V,K,W,Y,ee)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(E,V,K,W,Y,ee,oe,G,se){var he=this.pdf.getImageProperties(E),Q=1,Pe=1,De=1,je=1;W!==void 0&&G!==void 0&&(De=G/W,je=se/Y,Q=he.width/W*G/W,Pe=he.height/Y*se/Y),ee===void 0&&(ee=V,oe=K,V=0,K=0),W!==void 0&&G===void 0&&(G=W,se=Y),W===void 0&&G===void 0&&(G=he.width,se=he.height);for(var Z,ke=this.ctx.transform.decompose(),Ge=q(ke.rotate.shx),Le=new c,qe=(Le=(Le=(Le=Le.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new l(ee-V*De,oe-K*je,W*Q,Y*Pe)),ge=x.call(this,qe),de=[],ze=0;ze<ge.length;ze+=1)de.indexOf(ge[ze])===-1&&de.push(ge[ze]);if(b(de),this.autoPaging)for(var Ke=de[0],ft=de[de.length-1],_t=Ke;_t<ft+1;_t++){this.pdf.setPage(_t);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=_t===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=_t===1?0:_e+(_t-2)*ot;if(this.ctx.clip_path.length!==0){var qt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Z,this.posX+this.margin[3],-rt+Et+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=qt}var gt=JSON.parse(JSON.stringify(qe));gt=y([gt],this.posX+this.margin[3],-rt+Et+this.ctx.prevPageLastElemOffset)[0];var jr=(_t>Ke||_t<ft)&&m.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,ot,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,Ge),jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Ge)};var x=function(E,V,K){var W=[];V=V||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":W.push(Math.floor((E.y+Y)/K)+1);break;case"arc":W.push(Math.floor((E.y+Y-E.radius)/K)+1),W.push(Math.floor((E.y+Y+E.radius)/K)+1);break;case"qct":var ee=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);W.push(Math.floor((ee.y+Y)/K)+1),W.push(Math.floor((ee.y+ee.h+Y)/K)+1);break;case"bct":var oe=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);W.push(Math.floor((oe.y+Y)/K)+1),W.push(Math.floor((oe.y+oe.h+Y)/K)+1);break;case"rect":W.push(Math.floor((E.y+Y)/K)+1),W.push(Math.floor((E.y+E.h+Y)/K)+1)}for(var G=0;G<W.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<W[G];)g.call(this);return W},g=function(){var E=this.fillStyle,V=this.strokeStyle,K=this.font,W=this.lineCap,Y=this.lineWidth,ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=V,this.font=K,this.lineCap=W,this.lineWidth=Y,this.lineJoin=ee},y=function(E,V,K){for(var W=0;W<E.length;W++)switch(E[W].type){case"bct":E[W].x2+=V,E[W].y2+=K;case"qct":E[W].x1+=V,E[W].y1+=K;case"mt":case"lt":case"arc":default:E[W].x+=V,E[W].y+=K}return E},b=function(E){return E.sort(function(V,K){return V-K})},S=function(E,V){for(var K,W,Y=this.fillStyle,ee=this.strokeStyle,oe=this.lineCap,G=this.lineWidth,se=Math.abs(G*this.ctx.transform.scaleX),he=this.lineJoin,Q=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),De=[],je=0;je<Pe.length;je++)if(Pe[je].x!==void 0)for(var Z=x.call(this,Pe[je]),ke=0;ke<Z.length;ke+=1)De.indexOf(Z[ke])===-1&&De.push(Z[ke]);for(var Ge=0;Ge<De.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<De[Ge];)g.call(this);if(b(De),this.autoPaging)for(var Le=De[0],qe=De[De.length-1],ge=Le;ge<qe+1;ge++){this.pdf.setPage(ge),this.fillStyle=Y,this.strokeStyle=ee,this.lineCap=oe,this.lineWidth=se,this.lineJoin=he;var de=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=ge===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=ge===1?0:Ke+(ge-2)*ft;if(this.ctx.clip_path.length!==0){var St=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-_t+ze+this.ctx.prevPageLastElemOffset),_.call(this,E,!0),this.path=St}if(W=JSON.parse(JSON.stringify(Q)),this.path=y(W,this.posX+this.margin[3],-_t+ze+this.ctx.prevPageLastElemOffset),V===!1||ge===0){var Et=(ge>Le||ge<qe)&&m.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],de,ft,null).clip().discardPath()),_.call(this,E,V),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=se,_.call(this,E,V),this.lineWidth=G;this.path=Q},_=function(E,V){if((E!=="stroke"||V||!v.call(this))&&(E==="stroke"||V||!p.call(this))){for(var K,W,Y=[],ee=this.path,oe=0;oe<ee.length;oe++){var G=ee[oe];switch(G.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:G,deltas:[],abs:[]});break;case"lt":var se=Y.length;if(ee[oe-1]&&!isNaN(ee[oe-1].x)&&(K=[G.x-ee[oe-1].x,G.y-ee[oe-1].y],se>0)){for(;se>=0;se--)if(Y[se-1].close!==!0&&Y[se-1].begin!==!0){Y[se-1].deltas.push(K),Y[se-1].abs.push(G);break}}break;case"bct":K=[G.x1-ee[oe-1].x,G.y1-ee[oe-1].y,G.x2-ee[oe-1].x,G.y2-ee[oe-1].y,G.x-ee[oe-1].x,G.y-ee[oe-1].y],Y[Y.length-1].deltas.push(K);break;case"qct":var he=ee[oe-1].x+2/3*(G.x1-ee[oe-1].x),Q=ee[oe-1].y+2/3*(G.y1-ee[oe-1].y),Pe=G.x+2/3*(G.x1-G.x),De=G.y+2/3*(G.y1-G.y),je=G.x,Z=G.y;K=[he-ee[oe-1].x,Q-ee[oe-1].y,Pe-ee[oe-1].x,De-ee[oe-1].y,je-ee[oe-1].x,Z-ee[oe-1].y],Y[Y.length-1].deltas.push(K);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(G)}}W=V?null:E==="stroke"?"stroke":"fill";for(var ke=!1,Ge=0;Ge<Y.length;Ge++)if(Y[Ge].arc)for(var Le=Y[Ge].abs,qe=0;qe<Le.length;qe++){var ge=Le[qe];ge.type==="arc"?A.call(this,ge.x,ge.y,ge.radius,ge.startAngle,ge.endAngle,ge.counterclockwise,void 0,V,!ke):U.call(this,ge.x,ge.y),ke=!0}else if(Y[Ge].close===!0)this.pdf.internal.out("h"),ke=!1;else if(Y[Ge].begin!==!0){var de=Y[Ge].start.x,ze=Y[Ge].start.y;D.call(this,Y[Ge].deltas,de,ze),ke=!0}W&&P.call(this,W),V&&H.call(this)}},N=function(E){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-K;case"top":return E+V-K;case"hanging":return E+V-2*K;case"middle":return E+V/2-K;case"ideographic":return E;case"alphabetic":default:return E}},j=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(V,K){this.colorStops.push([V,K])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(E,V,K,W,Y,ee,oe,G,se){for(var he=B.call(this,K,W,Y,ee),Q=0;Q<he.length;Q++){var Pe=he[Q];Q===0&&(se?C.call(this,Pe.x1+E,Pe.y1+V):U.call(this,Pe.x1+E,Pe.y1+V)),M.call(this,E,V,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}G?H.call(this):P.call(this,oe)},P=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(E,V){this.pdf.internal.out(r(E)+" "+n(V)+" m")},k=function(E){var V;switch(E.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var K=this.pdf.getTextDimensions(E.text),W=N.call(this,E.y),Y=j.call(this,W)-K.h,ee=this.ctx.transform.applyToPoint(new o(E.x,W)),oe=this.ctx.transform.decompose(),G=new c;G=(G=(G=G.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var se,he,Q,Pe=this.ctx.transform.applyToRectangle(new l(E.x,W,K.w,K.h)),De=G.applyToRectangle(new l(E.x,Y,K.w,K.h)),je=x.call(this,De),Z=[],ke=0;ke<je.length;ke+=1)Z.indexOf(je[ke])===-1&&Z.push(je[ke]);if(b(Z),this.autoPaging)for(var Ge=Z[0],Le=Z[Z.length-1],qe=Ge;qe<Le+1;qe++){this.pdf.setPage(qe);var ge=qe===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],Ke=ze-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],_t=ft-this.margin[3],St=qe===1?0:de+(qe-2)*Ke;if(this.ctx.clip_path.length!==0){var Et=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(se,this.posX+this.margin[3],-1*St+ge),_.call(this,"fill",!0),this.path=Et}var _e=y([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-St+ge+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*E.scale),Q=this.lineWidth,this.lineWidth=Q*E.scale);var ot=this.autoPaging!=="text";if(ot||_e.y+_e.h<=ze){if(ot||_e.y>=ge&&_e.x<=ft){var rt=ot?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||ft-_e.x)[0],qt=y([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-St+ge+this.ctx.prevPageLastElemOffset)[0],gt=ot&&(qe>Ge||qe<Le)&&m.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Ke,null).clip().discardPath()),this.pdf.text(rt,qt.x,qt.y,{angle:E.angle,align:V,renderingMode:E.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else _e.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-_e.y);E.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=Q)}else E.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*E.scale),Q=this.lineWidth,this.lineWidth=Q*E.scale),this.pdf.text(E.text,ee.x+this.posX,ee.y+this.posY,{angle:E.angle,align:V,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=Q)},U=function(E,V,K,W){K=K||0,W=W||0,this.pdf.internal.out(r(E+K)+" "+n(V+W)+" l")},D=function(E,V,K){return this.pdf.lines(E,V,K,null,null)},M=function(E,V,K,W,Y,ee,oe,G){this.pdf.internal.out([t(a(K+E)),t(i(W+V)),t(a(Y+E)),t(i(ee+V)),t(a(oe+E)),t(i(G+V)),"c"].join(" "))},B=function(E,V,K,W){for(var Y=2*Math.PI,ee=Math.PI/2;V>K;)V-=Y;var oe=Math.abs(K-V);oe<Y&&W&&(oe=Y-oe);for(var G=[],se=W?-1:1,he=V;oe>1e-5;){var Q=he+se*Math.min(oe,ee);G.push(I.call(this,E,he,Q)),oe-=Math.abs(Q-he),he=Q}return G},I=function(E,V,K){var W=(K-V)/2,Y=E*Math.cos(W),ee=E*Math.sin(W),oe=Y,G=-ee,se=oe*oe+G*G,he=se+oe*Y+G*ee,Q=4/3*(Math.sqrt(2*se*he)-he)/(oe*ee-G*Y),Pe=oe-Q*G,De=G+Q*oe,je=Pe,Z=-De,ke=W+V,Ge=Math.cos(ke),Le=Math.sin(ke);return{x1:E*Math.cos(V),y1:E*Math.sin(V),x2:Pe*Ge-De*Le,y2:Pe*Le+De*Ge,x3:je*Ge-Z*Le,y3:je*Le+Z*Ge,x4:E*Math.cos(K),y4:E*Math.sin(K)}},q=function(E){return 180*E/Math.PI},F=function(E,V,K,W,Y,ee){var oe=E+.5*(K-E),G=V+.5*(W-V),se=Y+.5*(K-Y),he=ee+.5*(W-ee),Q=Math.min(E,Y,oe,se),Pe=Math.max(E,Y,oe,se),De=Math.min(V,ee,G,he),je=Math.max(V,ee,G,he);return new l(Q,De,Pe-Q,je-De)},z=function(E,V,K,W,Y,ee,oe,G){var se,he,Q,Pe,De,je,Z,ke,Ge,Le,qe,ge,de,ze,Ke=K-E,ft=W-V,_t=Y-K,St=ee-W,Et=oe-Y,_e=G-ee;for(he=0;he<41;he++)Ge=(Z=(Q=E+(se=he/40)*Ke)+se*((De=K+se*_t)-Q))+se*(De+se*(Y+se*Et-De)-Z),Le=(ke=(Pe=V+se*ft)+se*((je=W+se*St)-Pe))+se*(je+se*(ee+se*_e-je)-ke),he==0?(qe=Ge,ge=Le,de=Ge,ze=Le):(qe=Math.min(qe,Ge),ge=Math.min(ge,Le),de=Math.max(de,Ge),ze=Math.max(ze,Le));return new l(Math.round(qe),Math.round(ge),Math.round(de-qe),Math.round(ze-ge))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,V,K=(E=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:V}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Vt.API),function(e){var t=function(i){var o,l,c,u,d,f,h,p,v,m;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(m=d%85))/85)-(v=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,v+33,m+33)):l.push(122);return function(x,g){for(var y=g;y>0;y--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,d,f=String,h="length",p=255,v="charCodeAt",m="slice",x="replace";for(i[m](-2),i=i[m](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[m](i[h]%5||5))[h];d>u;u+=5)l=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(g,y){for(var b=y;b>0;b--)g.pop()}(c,o[h]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=BA(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Vt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(v){var m=v.length,x=[],g=String.fromCharCode;for(h=0;h<m;h+=1)x.push(g(255&v.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Vt.API),function(e){function t(){return(Xt.html2canvas?Promise.resolve(Xt.html2canvas):xc(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Xt.DOMPurify?Promise.resolve(Xt.DOMPurify):xc(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Zr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],v=p.src.find(function(m){return m.format==="truetype"});v&&c.addFont(v.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Vt.getPageSize=function(o,l,c){if(Zr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,v=0,m=0;if(h.hasOwnProperty(f))v=h[f][1]/d,m=h[f][0]/d;else try{v=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",m>v&&(p=m,m=v,v=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>m&&(p=m,m=v,v=p)}return{width:m,height:v,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(qA):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(Vt.API),Vt.API.addJS=function(e){return mM=e,this.internal.events.subscribe("postPutResources",function(){py=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(py+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){py!==void 0&&pM!==void 0&&this.internal.out("/Names <</JavaScript "+py+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Vt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,m={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=p,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),m={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Vt.API);var dh,my,gM,vM,xM,tBe=function(){var e,t,r;function n(i){var o,l,c,u,d,f,h,p,v,m,x,g,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var S,_;for(_=[],S=0;S<4;++S)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(y=0;0<=m?y<m:y>m;0<=m?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(x=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,x.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,v){var m,x,g,y,b,S,_,N,j,A,P,H,C,k,U,D,M,B,I,q,F,z=Math.ceil((u.width-f)/p),J=Math.ceil((u.height-h)/v),E=u.width==z&&u.height==J;for(k=o*z,H=E?l:new Uint8Array(k*J),S=i.length,C=0,x=0;C<J&&c<S;){switch(i[c++]){case 0:for(y=M=0;M<k;y=M+=1)H[x++]=i[c++];break;case 1:for(y=B=0;B<k;y=B+=1)m=i[c++],b=y<o?0:H[x-o],H[x++]=(m+b)%256;break;case 2:for(y=I=0;I<k;y=I+=1)m=i[c++],g=(y-y%o)/o,U=C&&H[(C-1)*k+g*o+y%o],H[x++]=(U+m)%256;break;case 3:for(y=q=0;q<k;y=q+=1)m=i[c++],g=(y-y%o)/o,b=y<o?0:H[x-o],U=C&&H[(C-1)*k+g*o+y%o],H[x++]=(m+Math.floor((b+U)/2))%256;break;case 4:for(y=F=0;F<k;y=F+=1)m=i[c++],g=(y-y%o)/o,b=y<o?0:H[x-o],C===0?U=D=0:(U=H[(C-1)*k+g*o+y%o],D=g&&H[(C-1)*k+(g-1)*o+y%o]),_=b+U-D,N=Math.abs(_-b),A=Math.abs(_-U),P=Math.abs(_-D),j=N<=A&&N<=P?b:A<=P?U:D,H[x++]=(m+j)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!E){var V=((h+C*v)*u.width+f)*o,K=C*k;for(y=0;y<z;y+=1){for(var W=0;W<o;W+=1)l[V++]=H[K++];V+=(p-1)*o}}C++}}return i=O$e(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,u,d,f,h,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,o=f=0,h=l.length;f<h;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,o){var l,c,u,d,f,h,p,v,m,x,g;if(c=this.colors,m=null,l=this.hasAlphaChannel,this.palette.length&&(m=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(u=i.data||i).length,f=m||o,d=h=0,c===1)for(;d<v;)p=m?4*o[d/4]:h,x=f[p++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=l?f[p++]:255,h=p;else for(;d<v;)p=m?4*o[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=l?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Xt)==="[object Window]"){try{t=Xt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,u,d,f,h,p;if(this.animation){for(p=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)o=h[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var p,v;if(p=l++%u,v=c[p],h.renderFrame(i,p),u>1&&l/u<d)return h.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function rBe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,p=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,S=e[t++],_=S>>6&1,N=1<<(7&S)+1,j=l,A=c,P=!1;S>>7&&(P=!0,j=t,A=N,t+=3*N);var H=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}d.push({x,y:g,width:y,height:b,has_local_palette:P,palette_offset:j,palette_size:A,data_offset:H,data_length:t-H,transparent_index:h,interlaced:!!_,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(k){if(k<0||k>=d.length)throw new Error("Frame index out of range.");return d[k]},this.decodeAndBlitFrameBGRA=function(k,U){var D=this.frameInfo(k),M=D.width*D.height,B=new Uint8Array(M);yM(e,D.data_offset,B,M);var I=D.palette_offset,q=D.transparent_index;q===null&&(q=256);var F=D.width,z=r-F,J=F,E=4*(D.y*r+D.x),V=4*((D.y+D.height)*r+D.x),K=E,W=4*z;D.interlaced===!0&&(W+=4*r*7);for(var Y=8,ee=0,oe=B.length;ee<oe;++ee){var G=B[ee];if(J===0&&(J=F,(K+=W)>=V&&(W=4*z+4*r*(Y-1),K=E+(F+z)*(Y<<1),Y>>=1)),G===q)K+=4;else{var se=e[I+3*G],he=e[I+3*G+1],Q=e[I+3*G+2];U[K++]=Q,U[K++]=he,U[K++]=se,U[K++]=255}--J}},this.decodeAndBlitFrameRGBA=function(k,U){var D=this.frameInfo(k),M=D.width*D.height,B=new Uint8Array(M);yM(e,D.data_offset,B,M);var I=D.palette_offset,q=D.transparent_index;q===null&&(q=256);var F=D.width,z=r-F,J=F,E=4*(D.y*r+D.x),V=4*((D.y+D.height)*r+D.x),K=E,W=4*z;D.interlaced===!0&&(W+=4*r*7);for(var Y=8,ee=0,oe=B.length;ee<oe;++ee){var G=B[ee];if(J===0&&(J=F,(K+=W)>=V&&(W=4*z+4*r*(Y-1),K=E+(F+z)*(Y<<1),Y>>=1)),G===q)K+=4;else{var se=e[I+3*G],he=e[I+3*G+1],Q=e[I+3*G+2];U[K++]=se,U[K++]=he,U[K++]=Q,U[K++]=255}--J}}}function yM(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],v=new Int32Array(4096),m=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==i){if(x===o)break;for(var g=x<l?x:m,y=0,b=g;b>i;)b=v[b]>>8,++y;var S=b;if(h+y+(g!==x?1:0)>n)return void cn.log("Warning, gif stream longer than expected.");r[h++]=S;var _=h+=y;for(g!==x&&(r[h++]=S),b=g;y--;)b=v[b],r[--_]=255&b,b>>=8;m!==null&&l<4096&&(v[l++]=m<<8|S,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=x}else l=o+1,u=(1<<(c=a+1))-1,m=null}return h!==n&&cn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function lS(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),v=new Array(64),m=[],x=0,g=7,y=new Array(64),b=new Array(64),S=new Array(64),_=new Array(256),N=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function B(E,V){for(var K=0,W=0,Y=new Array,ee=1;ee<=16;ee++){for(var oe=1;oe<=E[ee];oe++)Y[V[W]]=[],Y[V[W]][0]=K,Y[V[W]][1]=ee,W++,K++;K*=2}return Y}function I(E){for(var V=E[0],K=E[1]-1;K>=0;)V&1<<K&&(x|=1<<g),K--,--g<0&&(x==255?(q(255),q(0)):q(x),g=7,x=0)}function q(E){m.push(E)}function F(E){q(E>>8&255),q(255&E)}function z(E,V,K,W,Y){for(var ee,oe=Y[0],G=Y[240],se=function(Le,qe){var ge,de,ze,Ke,ft,_t,St,Et,_e,ot,rt=0;for(_e=0;_e<8;++_e){ge=Le[rt],de=Le[rt+1],ze=Le[rt+2],Ke=Le[rt+3],ft=Le[rt+4],_t=Le[rt+5],St=Le[rt+6];var qt=ge+(Et=Le[rt+7]),gt=ge-Et,jr=de+St,Gt=de-St,rr=ze+_t,Hr=ze-_t,Ht=Ke+ft,Kr=Ke-ft,ce=qt+Ht,$t=qt-Ht,Er=jr+rr,nr=jr-rr;Le[rt]=ce+Er,Le[rt+4]=ce-Er;var Bt=.707106781*(nr+$t);Le[rt+2]=$t+Bt,Le[rt+6]=$t-Bt;var Qt=.382683433*((ce=Kr+Hr)-(nr=Gt+gt)),Aa=.5411961*ce+Qt,rn=1.306562965*nr+Qt,Ye=.707106781*(Er=Hr+Gt),Ct=gt+Ye,mt=gt-Ye;Le[rt+5]=mt+Aa,Le[rt+3]=mt-Aa,Le[rt+1]=Ct+rn,Le[rt+7]=Ct-rn,rt+=8}for(rt=0,_e=0;_e<8;++_e){ge=Le[rt],de=Le[rt+8],ze=Le[rt+16],Ke=Le[rt+24],ft=Le[rt+32],_t=Le[rt+40],St=Le[rt+48];var jt=ge+(Et=Le[rt+56]),Ur=ge-Et,Pn=de+St,Nn=de-St,vn=ze+_t,ne=ze-_t,ve=Ke+ft,fe=Ke-ft,pe=jt+ve,xe=jt-ve,be=Pn+vn,$e=Pn-vn;Le[rt]=pe+be,Le[rt+32]=pe-be;var Xe=.707106781*($e+xe);Le[rt+16]=xe+Xe,Le[rt+48]=xe-Xe;var Re=.382683433*((pe=fe+ne)-($e=Nn+Ur)),Ve=.5411961*pe+Re,He=1.306562965*$e+Re,dt=.707106781*(be=ne+Nn),vt=Ur+dt,Ot=Ur-dt;Le[rt+40]=Ot+Ve,Le[rt+24]=Ot-Ve,Le[rt+8]=vt+He,Le[rt+56]=vt-He,rt++}for(_e=0;_e<64;++_e)ot=Le[_e]*qe[_e],p[_e]=ot>0?ot+.5|0:ot-.5|0;return p}(E,V),he=0;he<64;++he)v[j[he]]=se[he];var Q=v[0]-K;K=v[0],Q==0?I(W[0]):(I(W[h[ee=32767+Q]]),I(f[ee]));for(var Pe=63;Pe>0&&v[Pe]==0;)Pe--;if(Pe==0)return I(oe),K;for(var De,je=1;je<=Pe;){for(var Z=je;v[je]==0&&je<=Pe;)++je;var ke=je-Z;if(ke>=16){De=ke>>4;for(var Ge=1;Ge<=De;++Ge)I(G);ke&=15}ee=32767+v[je],I(Y[(ke<<4)+h[ee]]),I(f[ee]),je++}return Pe!=63&&I(oe),K}function J(E){E=Math.min(Math.max(E,1),100),i!=E&&(function(V){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var Y=o((K[W]*V+50)/100);Y=Math.min(Math.max(Y,1),255),l[j[W]]=Y}for(var ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var G=o((ee[oe]*V+50)/100);G=Math.min(Math.max(G,1),255),c[j[oe]]=G}for(var se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],he=0,Q=0;Q<8;Q++)for(var Pe=0;Pe<8;Pe++)u[he]=1/(l[j[he]]*se[Q]*se[Pe]*8),d[he]=1/(c[j[he]]*se[Q]*se[Pe]*8),he++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),i=E)}this.encode=function(E,V){V&&J(V),m=new Array,x=0,g=7,F(65496),F(65504),F(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),F(1),F(1),q(0),q(0),function(){F(65499),F(132),q(0);for(var de=0;de<64;de++)q(l[de]);q(1);for(var ze=0;ze<64;ze++)q(c[ze])}(),function(de,ze){F(65472),F(17),q(8),F(ze),F(de),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(E.width,E.height),function(){F(65476),F(418),q(0);for(var de=0;de<16;de++)q(A[de+1]);for(var ze=0;ze<=11;ze++)q(P[ze]);q(16);for(var Ke=0;Ke<16;Ke++)q(H[Ke+1]);for(var ft=0;ft<=161;ft++)q(C[ft]);q(1);for(var _t=0;_t<16;_t++)q(k[_t+1]);for(var St=0;St<=11;St++)q(U[St]);q(17);for(var Et=0;Et<16;Et++)q(D[Et+1]);for(var _e=0;_e<=161;_e++)q(M[_e])}(),F(65498),F(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var K=0,W=0,Y=0;x=0,g=7,this.encode.displayName="_encode_";for(var ee,oe,G,se,he,Q,Pe,De,je,Z=E.data,ke=E.width,Ge=E.height,Le=4*ke,qe=0;qe<Ge;){for(ee=0;ee<Le;){for(he=Le*qe+ee,Pe=-1,De=0,je=0;je<64;je++)Q=he+(De=je>>3)*Le+(Pe=4*(7&je)),qe+De>=Ge&&(Q-=Le*(qe+1+De-Ge)),ee+Pe>=Le&&(Q-=ee+Pe-Le+4),oe=Z[Q++],G=Z[Q++],se=Z[Q++],y[je]=(N[oe]+N[G+256>>0]+N[se+512>>0]>>16)-128,b[je]=(N[oe+768>>0]+N[G+1024>>0]+N[se+1280>>0]>>16)-128,S[je]=(N[oe+1280>>0]+N[G+1536>>0]+N[se+1792>>0]>>16)-128;K=z(y,u,K,t,n),W=z(b,d,W,r,a),Y=z(S,d,Y,r,a),ee+=32}qe+=8}if(g>=0){var ge=[];ge[1]=g+1,ge[0]=(1<<g+1)-1,I(ge)}return F(65497),new Uint8Array(m)},e=e||50,function(){for(var E=String.fromCharCode,V=0;V<256;V++)_[V]=E(V)}(),t=B(A,P),r=B(k,U),n=B(H,C),a=B(D,M),function(){for(var E=1,V=2,K=1;K<=15;K++){for(var W=E;W<V;W++)h[32767+W]=K,f[32767+W]=[],f[32767+W][1]=K,f[32767+W][0]=W;for(var Y=-(V-1);Y<=-E;Y++)h[32767+Y]=K,f[32767+Y]=[],f[32767+Y][1]=K,f[32767+Y][0]=V-1+Y;E<<=1,V<<=1}}(),function(){for(var E=0;E<256;E++)N[E]=19595*E,N[E+256>>0]=38470*E,N[E+512>>0]=7471*E+32768,N[E+768>>0]=-11059*E,N[E+1024>>0]=-21709*E,N[E+1280>>0]=32768*E+8421375,N[E+1536>>0]=-27439*E,N[E+1792>>0]=-5329*E}(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function So(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bM(e){function t(A){if(!A)throw Error("assert :P")}function r(A,P,H){for(var C=0;4>C;C++)if(A[P+C]!=H.charCodeAt(C))return!0;return!1}function n(A,P,H,C,k){for(var U=0;U<k;U++)A[P+U]=H[C+U]}function a(A,P,H,C){for(var k=0;k<C;k++)A[P+k]=H}function i(A){return new Int32Array(A)}function o(A,P){for(var H=[],C=0;C<A;C++)H.push(new P);return H}function l(A,P){var H=[];return function C(k,U,D){for(var M=D[U],B=0;B<M&&(k.push(D.length>U+1?[]:new P),!(D.length<U+1));B++)C(k[B],U+1,D)}(H,0,A),H}var c=function(){var A=this;function P(w,T){for(var R=1<<T-1>>>0;w&R;)R>>>=1;return R?(w&R-1)+R:w}function H(w,T,R,X,te){t(!(X%R));do w[T+(X-=R)]=te;while(0<X)}function C(w,T,R,X,te){if(t(2328>=te),512>=te)var ae=i(512);else if((ae=i(te))==null)return 0;return function(ie,le,ue,me,Ce,Be){var Ue,Fe,st=le,Je=1<<ue,Ee=i(16),Oe=i(16);for(t(Ce!=0),t(me!=null),t(ie!=null),t(0<ue),Fe=0;Fe<Ce;++Fe){if(15<me[Fe])return 0;++Ee[me[Fe]]}if(Ee[0]==Ce)return 0;for(Oe[1]=0,Ue=1;15>Ue;++Ue){if(Ee[Ue]>1<<Ue)return 0;Oe[Ue+1]=Oe[Ue]+Ee[Ue]}for(Fe=0;Fe<Ce;++Fe)Ue=me[Fe],0<me[Fe]&&(Be[Oe[Ue]++]=Fe);if(Oe[15]==1)return(me=new k).g=0,me.value=Be[0],H(ie,st,1,Je,me),Je;var nt,ct=-1,at=Je-1,Lt=0,Nt=1,Wt=1,kt=1<<ue;for(Fe=0,Ue=1,Ce=2;Ue<=ue;++Ue,Ce<<=1){if(Nt+=Wt<<=1,0>(Wt-=Ee[Ue]))return 0;for(;0<Ee[Ue];--Ee[Ue])(me=new k).g=Ue,me.value=Be[Fe++],H(ie,st+Lt,Ce,kt,me),Lt=P(Lt,Ue)}for(Ue=ue+1,Ce=2;15>=Ue;++Ue,Ce<<=1){if(Nt+=Wt<<=1,0>(Wt-=Ee[Ue]))return 0;for(;0<Ee[Ue];--Ee[Ue]){if(me=new k,(Lt&at)!=ct){for(st+=kt,nt=1<<(ct=Ue)-ue;15>ct&&!(0>=(nt-=Ee[ct]));)++ct,nt<<=1;Je+=kt=1<<(nt=ct-ue),ie[le+(ct=Lt&at)].g=nt+ue,ie[le+ct].value=st-le-ct}me.g=Ue-ue,me.value=Be[Fe++],H(ie,st+(Lt>>ue),Ce,kt,me),Lt=P(Lt,Ue)}}return Nt!=2*Oe[15]-1?0:Je}(w,T,R,X,te,ae)}function k(){this.value=this.g=0}function U(){this.value=this.g=0}function D(){this.G=o(5,k),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ua,U)}function M(w,T,R,X){t(w!=null),t(T!=null),t(2147483648>X),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=T,w.pa=R,w.Jd=T,w.Yc=R+X,w.Zc=4<=X?R+X-4+1:R,ee(w)}function B(w,T){for(var R=0;0<T--;)R|=G(w,128)<<T;return R}function I(w,T){var R=B(w,T);return oe(w)?-R:R}function q(w,T,R,X){var te,ae=0;for(t(w!=null),t(T!=null),t(4294967288>X),w.Sb=X,w.Ra=0,w.u=0,w.h=0,4<X&&(X=4),te=0;te<X;++te)ae+=T[R+te]<<8*te;w.Ra=ae,w.bb=X,w.oa=T,w.pa=R}function F(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Uf-8>>>0,++w.bb,w.u-=8;K(w)&&(w.h=1,w.u=0)}function z(w,T){if(t(0<=T),!w.h&&T<=Bf){var R=V(w)&$f[T];return w.u+=T,F(w),R}return w.h=1,w.u=0}function J(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(w){return w.Ra>>>(w.u&Uf-1)>>>0}function K(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Uf}function W(w,T){w.u=T,w.h=K(w)}function Y(w){w.u>=Dp&&(t(w.u>=Dp),F(w))}function ee(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function oe(w){return B(w,1)}function G(w,T){var R=w.Ca;0>w.b&&ee(w);var X=w.b,te=R*T>>>8,ae=(w.I>>>X>te)+0;for(ae?(R-=te,w.I-=te+1<<X>>>0):R=te+1,X=R,te=0;256<=X;)te+=8,X>>=8;return X=7^te+Ui[X],w.b-=X,w.Ca=(R<<X)-1,ae}function se(w,T,R){w[T+0]=R>>24&255,w[T+1]=R>>16&255,w[T+2]=R>>8&255,w[T+3]=R>>0&255}function he(w,T){return w[T+0]<<0|w[T+1]<<8}function Q(w,T){return he(w,T)|w[T+2]<<16}function Pe(w,T){return he(w,T)|he(w,T+2)<<16}function De(w,T){var R=1<<T;return t(w!=null),t(0<T),w.X=i(R),w.X==null?0:(w.Mb=32-T,w.Xa=T,1)}function je(w,T){t(w!=null),t(T!=null),t(w.Xa==T.Xa),n(T.X,0,w.X,0,1<<T.Xa)}function Z(){this.X=[],this.Xa=this.Mb=0}function ke(w,T,R,X){t(R!=null),t(X!=null);var te=R[0],ae=X[0];return te==0&&(te=(w*ae+T/2)/T),ae==0&&(ae=(T*te+w/2)/w),0>=te||0>=ae?0:(R[0]=te,X[0]=ae,1)}function Ge(w,T){return w+(1<<T)-1>>>T}function Le(w,T){return((4278255360&w)+(4278255360&T)>>>0&4278255360)+((16711935&w)+(16711935&T)>>>0&16711935)>>>0}function qe(w,T){A[T]=function(R,X,te,ae,ie,le,ue){var me;for(me=0;me<ie;++me){var Ce=A[w](le[ue+me-1],te,ae+me);le[ue+me]=Le(R[X+me],Ce)}}}function ge(){this.ud=this.hd=this.jd=0}function de(w,T){return((4278124286&(w^T))>>>1)+(w&T)>>>0}function ze(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Ke(w,T){return ze(w+(w-T+.5>>1))}function ft(w,T,R){return Math.abs(T-R)-Math.abs(w-R)}function _t(w,T,R,X,te,ae,ie){for(X=ae[ie-1],R=0;R<te;++R)ae[ie+R]=X=Le(w[T+R],X)}function St(w,T,R,X,te){var ae;for(ae=0;ae<R;++ae){var ie=w[T+ae],le=ie>>8&255,ue=16711935&(ue=(ue=16711935&ie)+((le<<16)+le));X[te+ae]=(4278255360&ie)+ue>>>0}}function Et(w,T){T.jd=w>>0&255,T.hd=w>>8&255,T.ud=w>>16&255}function _e(w,T,R,X,te,ae){var ie;for(ie=0;ie<X;++ie){var le=T[R+ie],ue=le>>>8,me=le,Ce=255&(Ce=(Ce=le>>>16)+((w.jd<<24>>24)*(ue<<24>>24)>>>5));me=255&(me=(me=me+((w.hd<<24>>24)*(ue<<24>>24)>>>5))+((w.ud<<24>>24)*(Ce<<24>>24)>>>5)),te[ae+ie]=(4278255360&le)+(Ce<<16)+me}}function ot(w,T,R,X,te){A[T]=function(ae,ie,le,ue,me,Ce,Be,Ue,Fe){for(ue=Be;ue<Ue;++ue)for(Be=0;Be<Fe;++Be)me[Ce++]=te(le[X(ae[ie++])])},A[w]=function(ae,ie,le,ue,me,Ce,Be){var Ue=8>>ae.b,Fe=ae.Ea,st=ae.K[0],Je=ae.w;if(8>Ue)for(ae=(1<<ae.b)-1,Je=(1<<Ue)-1;ie<le;++ie){var Ee,Oe=0;for(Ee=0;Ee<Fe;++Ee)Ee&ae||(Oe=X(ue[me++])),Ce[Be++]=te(st[Oe&Je]),Oe>>=Ue}else A["VP8LMapColor"+R](ue,me,st,Je,Ce,Be,ie,le,Fe)}}function rt(w,T,R,X,te){for(R=T+R;T<R;){var ae=w[T++];X[te++]=ae>>16&255,X[te++]=ae>>8&255,X[te++]=ae>>0&255}}function qt(w,T,R,X,te){for(R=T+R;T<R;){var ae=w[T++];X[te++]=ae>>16&255,X[te++]=ae>>8&255,X[te++]=ae>>0&255,X[te++]=ae>>24&255}}function gt(w,T,R,X,te){for(R=T+R;T<R;){var ae=(ie=w[T++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;X[te++]=ae,X[te++]=ie}}function jr(w,T,R,X,te){for(R=T+R;T<R;){var ae=(ie=w[T++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;X[te++]=ae,X[te++]=ie}}function Gt(w,T,R,X,te){for(R=T+R;T<R;){var ae=w[T++];X[te++]=ae>>0&255,X[te++]=ae>>8&255,X[te++]=ae>>16&255}}function rr(w,T,R,X,te,ae){if(ae==0)for(R=T+R;T<R;)se(X,((ae=w[T++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),te+=32;else n(X,te,w,T,R)}function Hr(w,T){A[T][0]=A[w+"0"],A[T][1]=A[w+"1"],A[T][2]=A[w+"2"],A[T][3]=A[w+"3"],A[T][4]=A[w+"4"],A[T][5]=A[w+"5"],A[T][6]=A[w+"6"],A[T][7]=A[w+"7"],A[T][8]=A[w+"8"],A[T][9]=A[w+"9"],A[T][10]=A[w+"10"],A[T][11]=A[w+"11"],A[T][12]=A[w+"12"],A[T][13]=A[w+"13"],A[T][14]=A[w+"0"],A[T][15]=A[w+"0"]}function Ht(w){return w==G_||w==K_||w==Gx||w==Y_}function Kr(){this.eb=[],this.size=this.A=this.fb=0}function ce(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Kr,this.f.kb=new ce,this.sd=null}function Er(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Qt(w,T){var R=w.T,X=T.ba.f.RGBA,te=X.eb,ae=X.fb+w.ka*X.A,ie=$s[T.ba.S],le=w.y,ue=w.O,me=w.f,Ce=w.N,Be=w.ea,Ue=w.W,Fe=T.cc,st=T.dc,Je=T.Mc,Ee=T.Nc,Oe=w.ka,nt=w.ka+w.T,ct=w.U,at=ct+1>>1;for(Oe==0?ie(le,ue,null,null,me,Ce,Be,Ue,me,Ce,Be,Ue,te,ae,null,null,ct):(ie(T.ec,T.fc,le,ue,Fe,st,Je,Ee,me,Ce,Be,Ue,te,ae-X.A,te,ae,ct),++R);Oe+2<nt;Oe+=2)Fe=me,st=Ce,Je=Be,Ee=Ue,Ce+=w.Rc,Ue+=w.Rc,ae+=2*X.A,ie(le,(ue+=2*w.fa)-w.fa,le,ue,Fe,st,Je,Ee,me,Ce,Be,Ue,te,ae-X.A,te,ae,ct);return ue+=w.fa,w.j+nt<w.o?(n(T.ec,T.fc,le,ue,ct),n(T.cc,T.dc,me,Ce,at),n(T.Mc,T.Nc,Be,Ue,at),R--):1&nt||ie(le,ue,null,null,me,Ce,Be,Ue,me,Ce,Be,Ue,te,ae+X.A,null,null,ct),R}function Aa(w,T,R){var X=w.F,te=[w.J];if(X!=null){var ae=w.U,ie=T.ba.S,le=ie==qx||ie==Gx;T=T.ba.f.RGBA;var ue=[0],me=w.ka;ue[0]=w.T,w.Kb&&(me==0?--ue[0]:(--me,te[0]-=w.width),w.j+w.ka+w.T==w.o&&(ue[0]=w.o-w.j-me));var Ce=T.eb;me=T.fb+me*T.A,w=fn(X,te[0],w.width,ae,ue,Ce,me+(le?0:3),T.A),t(R==ue),w&&Ht(ie)&&Ms(Ce,me,le,ae,ue,T.A)}return 0}function rn(w){var T=w.ma,R=T.ba.S,X=11>R,te=R==Hx||R==Wx||R==qx||R==q_||R==12||Ht(R);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Op(T.Oa,w,te?11:12))return 0;if(te&&Ht(R)&&ut(),w.da)alert("todo:use_scaling");else{if(X){if(T.Ib=Bt,w.Kb){if(R=w.U+1>>1,T.memory=i(w.U+2*R),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+w.U,T.Mc=T.cc,T.Nc=T.dc+R,T.Ib=Qt,ut()}}else alert("todo:EmitYUV");te&&(T.Jb=Aa,X&&Me())}if(X&&!Q3){for(w=0;256>w;++w)DK[w]=89858*(w-128)+Yx>>Kx,MK[w]=-22014*(w-128)+Yx,IK[w]=-45773*(w-128),LK[w]=113618*(w-128)+Yx>>Kx;for(w=Up;w<Q_;++w)T=76283*(w-16)+Yx>>Kx,RK[w-Up]=os(T,255),$K[w-Up]=os(T+8>>4,15);Q3=1}return 1}function Ye(w){var T=w.ma,R=w.U,X=w.T;return t(!(1&w.ka)),0>=R||0>=X?0:(R=T.Ib(w,T),T.Jb!=null&&T.Jb(w,T,R),T.Dc+=R,1)}function Ct(w){w.ma.memory=null}function mt(w,T,R,X){return z(w,8)!=47?0:(T[0]=z(w,14)+1,R[0]=z(w,14)+1,X[0]=z(w,1),z(w,3)!=0?0:!w.h)}function jt(w,T){if(4>w)return w+1;var R=w-2>>1;return(2+(1&w)<<R)+z(T,R)+1}function Ur(w,T){return 120<T?T-120:1<=(R=((R=bK[T-1])>>4)*w+(8-(15&R)))?R:1;var R}function Pn(w,T,R){var X=V(R),te=w[T+=255&X].g-8;return 0<te&&(W(R,R.u+8),X=V(R),T+=w[T].value,T+=X&(1<<te)-1),W(R,R.u+w[T].g),w[T].value}function Nn(w,T,R){return R.g+=w.g,R.value+=w.value<<T>>>0,t(8>=R.g),w.g}function vn(w,T,R){var X=w.xc;return t((T=X==0?0:w.vc[w.md*(R>>X)+(T>>X)])<w.Wb),w.Ya[T]}function ne(w,T,R,X){var te=w.ab,ae=w.c*T,ie=w.C;T=ie+T;var le=R,ue=X;for(X=w.Ta,R=w.Ua;0<te--;){var me=w.gc[te],Ce=ie,Be=T,Ue=le,Fe=ue,st=(ue=X,le=R,me.Ea);switch(t(Ce<Be),t(Be<=me.nc),me.hc){case 2:Mx(Ue,Fe,(Be-Ce)*st,ue,le);break;case 0:var Je=Ce,Ee=Be,Oe=ue,nt=le,ct=(kt=me).Ea;Je==0&&(H_(Ue,Fe,null,null,1,Oe,nt),_t(Ue,Fe+1,0,0,ct-1,Oe,nt+1),Fe+=ct,nt+=ct,++Je);for(var at=1<<kt.b,Lt=at-1,Nt=Ge(ct,kt.b),Wt=kt.K,kt=kt.w+(Je>>kt.b)*Nt;Je<Ee;){var Wr=Wt,Yr=kt,Mr=1;for(Lp(Ue,Fe,Oe,nt-ct,1,Oe,nt);Mr<ct;){var Nr=(Mr&~Lt)+at;Nr>ct&&(Nr=ct),(0,Dc[Wr[Yr++]>>8&15])(Ue,Fe+ +Mr,Oe,nt+Mr-ct,Nr-Mr,Oe,nt+Mr),Mr=Nr}Fe+=ct,nt+=ct,++Je&Lt||(kt+=Nt)}Be!=me.nc&&n(ue,le-st,ue,le+(Be-Ce-1)*st,st);break;case 1:for(st=Ue,Ee=Fe,ct=(Ue=me.Ea)-(nt=Ue&~(Oe=(Fe=1<<me.b)-1)),Je=Ge(Ue,me.b),at=me.K,me=me.w+(Ce>>me.b)*Je;Ce<Be;){for(Lt=at,Nt=me,Wt=new ge,kt=Ee+nt,Wr=Ee+Ue;Ee<kt;)Et(Lt[Nt++],Wt),id(Wt,st,Ee,Fe,ue,le),Ee+=Fe,le+=Fe;Ee<Wr&&(Et(Lt[Nt++],Wt),id(Wt,st,Ee,ct,ue,le),Ee+=ct,le+=ct),++Ce&Oe||(me+=Je)}break;case 3:if(Ue==ue&&Fe==le&&0<me.b){for(Ee=ue,Ue=st=le+(Be-Ce)*st-(nt=(Be-Ce)*Ge(me.Ea,me.b)),Fe=ue,Oe=le,Je=[],nt=(ct=nt)-1;0<=nt;--nt)Je[nt]=Fe[Oe+nt];for(nt=ct-1;0<=nt;--nt)Ee[Ue+nt]=Je[nt];Ds(me,Ce,Be,ue,st,ue,le)}else Ds(me,Ce,Be,Ue,Fe,ue,le)}le=X,ue=R}ue!=R&&n(X,R,le,ue,ae)}function ve(w,T){var R=w.V,X=w.Ba+w.c*w.C,te=T-w.C;if(t(T<=w.l.o),t(16>=te),0<te){var ae=w.l,ie=w.Ta,le=w.Ua,ue=ae.width;if(ne(w,te,R,X),te=le=[le],t((R=w.C)<(X=T)),t(ae.v<ae.va),X>ae.o&&(X=ae.o),R<ae.j){var me=ae.j-R;R=ae.j,te[0]+=me*ue}if(R>=X?R=0:(te[0]+=4*ae.v,ae.ka=R-ae.j,ae.U=ae.va-ae.v,ae.T=X-R,R=1),R){if(le=le[0],11>(R=w.ca).S){var Ce=R.f.RGBA,Be=(X=R.S,te=ae.U,ae=ae.T,me=Ce.eb,Ce.A),Ue=ae;for(Ce=Ce.fb+w.Ma*Ce.A;0<Ue--;){var Fe=ie,st=le,Je=te,Ee=me,Oe=Ce;switch(X){case Vx:zi(Fe,st,Je,Ee,Oe);break;case Hx:Si(Fe,st,Je,Ee,Oe);break;case G_:Si(Fe,st,Je,Ee,Oe),Ms(Ee,Oe,0,Je,1,0);break;case z3:Ml(Fe,st,Je,Ee,Oe);break;case Wx:rr(Fe,st,Je,Ee,Oe,1);break;case K_:rr(Fe,st,Je,Ee,Oe,1),Ms(Ee,Oe,0,Je,1,0);break;case qx:rr(Fe,st,Je,Ee,Oe,0);break;case Gx:rr(Fe,st,Je,Ee,Oe,0),Ms(Ee,Oe,1,Je,1,0);break;case q_:Lc(Fe,st,Je,Ee,Oe);break;case Y_:Lc(Fe,st,Je,Ee,Oe),dn(Ee,Oe,Je,1,0);break;case V3:Il(Fe,st,Je,Ee,Oe);break;default:t(0)}le+=ue,Ce+=Be}w.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=R.height)}}w.C=T,t(w.C<=w.i)}function fe(w){var T;if(0<w.ua)return 0;for(T=0;T<w.Wb;++T){var R=w.Ya[T].G,X=w.Ya[T].H;if(0<R[1][X[1]+0].g||0<R[2][X[2]+0].g||0<R[3][X[3]+0].g)return 0}return 1}function pe(w,T,R,X,te,ae){if(w.Z!=0){var ie=w.qd,le=w.rd;for(t($c[w.Z]!=null);T<R;++T)$c[w.Z](ie,le,X,te,X,te,ae),ie=X,le=te,te+=ae;w.qd=ie,w.rd=le}}function xe(w,T){var R=w.l.ma,X=R.Z==0||R.Z==1?w.l.j:w.C;if(X=w.C<X?X:w.C,t(T<=w.l.o),T>X){var te=w.l.width,ae=R.ca,ie=R.tb+te*X,le=w.V,ue=w.Ba+w.c*X,me=w.gc;t(w.ab==1),t(me[0].hc==3),Rx(me[0],X,T,le,ue,ae,ie),pe(R,X,T,ae,ie,te)}w.C=w.Ma=T}function be(w,T,R,X,te,ae,ie){var le=w.$/X,ue=w.$%X,me=w.m,Ce=w.s,Be=R+w.$,Ue=Be;te=R+X*te;var Fe=R+X*ae,st=280+Ce.ua,Je=w.Pb?le:16777216,Ee=0<Ce.ua?Ce.Wa:null,Oe=Ce.wc,nt=Be<Fe?vn(Ce,ue,le):null;t(w.C<ae),t(Fe<=te);var ct=!1;e:for(;;){for(;ct||Be<Fe;){var at=0;if(le>=Je){var Lt=Be-R;t((Je=w).Pb),Je.wd=Je.m,Je.xd=Lt,0<Je.s.ua&&je(Je.s.Wa,Je.s.vb),Je=le+_K}if(ue&Oe||(nt=vn(Ce,ue,le)),t(nt!=null),nt.Qb&&(T[Be]=nt.qb,ct=!0),!ct)if(Y(me),nt.jc){at=me,Lt=T;var Nt=Be,Wt=nt.pd[V(at)&Ua-1];t(nt.jc),256>Wt.g?(W(at,at.u+Wt.g),Lt[Nt]=Wt.value,at=0):(W(at,at.u+Wt.g-256),t(256<=Wt.value),at=Wt.value),at==0&&(ct=!0)}else at=Pn(nt.G[0],nt.H[0],me);if(me.h)break;if(ct||256>at){if(!ct)if(nt.nd)T[Be]=(nt.qb|at<<8)>>>0;else{if(Y(me),ct=Pn(nt.G[1],nt.H[1],me),Y(me),Lt=Pn(nt.G[2],nt.H[2],me),Nt=Pn(nt.G[3],nt.H[3],me),me.h)break;T[Be]=(Nt<<24|ct<<16|at<<8|Lt)>>>0}if(ct=!1,++Be,++ue>=X&&(ue=0,++le,ie!=null&&le<=ae&&!(le%16)&&ie(w,le),Ee!=null))for(;Ue<Be;)at=T[Ue++],Ee.X[(506832829*at&4294967295)>>>Ee.Mb]=at}else if(280>at){if(at=jt(at-256,me),Lt=Pn(nt.G[4],nt.H[4],me),Y(me),Lt=Ur(X,Lt=jt(Lt,me)),me.h)break;if(Be-R<Lt||te-Be<at)break e;for(Nt=0;Nt<at;++Nt)T[Be+Nt]=T[Be+Nt-Lt];for(Be+=at,ue+=at;ue>=X;)ue-=X,++le,ie!=null&&le<=ae&&!(le%16)&&ie(w,le);if(t(Be<=te),ue&Oe&&(nt=vn(Ce,ue,le)),Ee!=null)for(;Ue<Be;)at=T[Ue++],Ee.X[(506832829*at&4294967295)>>>Ee.Mb]=at}else{if(!(at<st))break e;for(ct=at-280,t(Ee!=null);Ue<Be;)at=T[Ue++],Ee.X[(506832829*at&4294967295)>>>Ee.Mb]=at;at=Be,t(!(ct>>>(Lt=Ee).Xa)),T[at]=Lt.X[ct],ct=!0}ct||t(me.h==K(me))}if(w.Pb&&me.h&&Be<te)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&je(w.s.vb,w.s.Wa);else{if(me.h)break e;ie!=null&&ie(w,le>ae?ae:le),w.a=0,w.$=Be-R}return 1}return w.a=3,0}function $e(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var T=w.Wa;T!=null&&(T.X=null),w.vb=null,t(w!=null)}function Xe(){var w=new V_;return w==null?null:(w.a=0,w.xb=q3,Hr("Predictor","VP8LPredictors"),Hr("Predictor","VP8LPredictors_C"),Hr("PredictorAdd","VP8LPredictorsAdd"),Hr("PredictorAdd","VP8LPredictorsAdd_C"),Mx=St,id=_e,zi=rt,Si=qt,Lc=gt,Il=jr,Ml=Gt,A.VP8LMapColor32b=zf,A.VP8LMapColor8b=$x,w)}function Re(w,T,R,X,te){var ae=1,ie=[w],le=[T],ue=X.m,me=X.s,Ce=null,Be=0;e:for(;;){if(R)for(;ae&&z(ue,1);){var Ue=ie,Fe=le,st=X,Je=1,Ee=st.m,Oe=st.gc[st.ab],nt=z(Ee,2);if(st.Oc&1<<nt)ae=0;else{switch(st.Oc|=1<<nt,Oe.hc=nt,Oe.Ea=Ue[0],Oe.nc=Fe[0],Oe.K=[null],++st.ab,t(4>=st.ab),nt){case 0:case 1:Oe.b=z(Ee,3)+2,Je=Re(Ge(Oe.Ea,Oe.b),Ge(Oe.nc,Oe.b),0,st,Oe.K),Oe.K=Oe.K[0];break;case 3:var ct,at=z(Ee,8)+1,Lt=16<at?0:4<at?1:2<at?2:3;if(Ue[0]=Ge(Oe.Ea,Lt),Oe.b=Lt,ct=Je=Re(at,1,0,st,Oe.K)){var Nt,Wt=at,kt=Oe,Wr=1<<(8>>kt.b),Yr=i(Wr);if(Yr==null)ct=0;else{var Mr=kt.K[0],Nr=kt.w;for(Yr[0]=kt.K[0][0],Nt=1;Nt<1*Wt;++Nt)Yr[Nt]=Le(Mr[Nr+Nt],Yr[Nt-1]);for(;Nt<4*Wr;++Nt)Yr[Nt]=0;kt.K[0]=null,kt.K[0]=Yr,ct=1}}Je=ct;break;case 2:break;default:t(0)}ae=Je}}if(ie=ie[0],le=le[0],ae&&z(ue,1)&&!(ae=1<=(Be=z(ue,4))&&11>=Be)){X.a=3;break e}var ln;if(ln=ae)t:{var an,mr,sa,Vi=X,oa=ie,Hi=le,Xr=Be,cs=R,us=Vi.m,Ca=Vi.s,za=[null],Ai=1,Bs=0,il=wK[Xr];r:for(;;){if(cs&&z(us,1)){var Ea=z(us,3)+2,Ul=Ge(oa,Ea),ud=Ge(Hi,Ea),Gf=Ul*ud;if(!Re(Ul,ud,0,Vi,za))break r;for(za=za[0],Ca.xc=Ea,an=0;an<Gf;++an){var Bc=za[an]>>8&65535;za[an]=Bc,Bc>=Ai&&(Ai=Bc+1)}}if(us.h)break r;for(mr=0;5>mr;++mr){var Bn=H3[mr];!mr&&0<Xr&&(Bn+=1<<Xr),Bs<Bn&&(Bs=Bn)}var Z_=o(Ai*il,k),tk=Ai,rk=o(tk,D);if(rk==null)var Jx=null;else t(65536>=tk),Jx=rk;var zp=i(Bs);if(Jx==null||zp==null||Z_==null){Vi.a=1;break r}var Qx=Z_;for(an=sa=0;an<Ai;++an){var xo=Jx[an],Kf=xo.G,Yf=xo.H,nk=0,Zx=1,ak=0;for(mr=0;5>mr;++mr){Bn=H3[mr],Kf[mr]=Qx,Yf[mr]=sa,!mr&&0<Xr&&(Bn+=1<<Xr);a:{var e1,e5=Bn,t1=Vi,Vp=zp,zK=Qx,VK=sa,t5=0,Uc=t1.m,HK=z(Uc,1);if(a(Vp,0,0,e5),HK){var WK=z(Uc,1)+1,qK=z(Uc,1),ik=z(Uc,qK==0?1:8);Vp[ik]=1,WK==2&&(Vp[ik=z(Uc,8)]=1);var r1=1}else{var sk=i(19),ok=z(Uc,4)+4;if(19<ok){t1.a=3;var n1=0;break a}for(e1=0;e1<ok;++e1)sk[yK[e1]]=z(Uc,3);var r5=void 0,Hp=void 0,lk=t1,GK=sk,a1=e5,ck=Vp,n5=0,zc=lk.m,uk=8,dk=o(128,k);n:for(;C(dk,0,7,GK,19);){if(z(zc,1)){var KK=2+2*z(zc,3);if((r5=2+z(zc,KK))>a1)break n}else r5=a1;for(Hp=0;Hp<a1&&r5--;){Y(zc);var fk=dk[0+(127&V(zc))];W(zc,zc.u+fk.g);var Xf=fk.value;if(16>Xf)ck[Hp++]=Xf,Xf!=0&&(uk=Xf);else{var YK=Xf==16,hk=Xf-16,XK=vK[hk],pk=z(zc,gK[hk])+XK;if(Hp+pk>a1)break n;for(var JK=YK?uk:0;0<pk--;)ck[Hp++]=JK}}n5=1;break n}n5||(lk.a=3),r1=n5}(r1=r1&&!Uc.h)&&(t5=C(zK,VK,8,Vp,e5)),r1&&t5!=0?n1=t5:(t1.a=3,n1=0)}if(n1==0)break r;if(Zx&&xK[mr]==1&&(Zx=Qx[sa].g==0),nk+=Qx[sa].g,sa+=n1,3>=mr){var Wp,a5=zp[0];for(Wp=1;Wp<Bn;++Wp)zp[Wp]>a5&&(a5=zp[Wp]);ak+=a5}}if(xo.nd=Zx,xo.Qb=0,Zx&&(xo.qb=(Kf[3][Yf[3]+0].value<<24|Kf[1][Yf[1]+0].value<<16|Kf[2][Yf[2]+0].value)>>>0,nk==0&&256>Kf[0][Yf[0]+0].value&&(xo.Qb=1,xo.qb+=Kf[0][Yf[0]+0].value<<8)),xo.jc=!xo.Qb&&6>ak,xo.jc){var i1,zl=xo;for(i1=0;i1<Ua;++i1){var Vc=i1,Hc=zl.pd[Vc],s1=zl.G[0][zl.H[0]+Vc];256<=s1.value?(Hc.g=s1.g+256,Hc.value=s1.value):(Hc.g=0,Hc.value=0,Vc>>=Nn(s1,8,Hc),Vc>>=Nn(zl.G[1][zl.H[1]+Vc],16,Hc),Vc>>=Nn(zl.G[2][zl.H[2]+Vc],0,Hc),Nn(zl.G[3][zl.H[3]+Vc],24,Hc))}}}Ca.vc=za,Ca.Wb=Ai,Ca.Ya=Jx,Ca.yc=Z_,ln=1;break t}ln=0}if(!(ae=ln)){X.a=3;break e}if(0<Be){if(me.ua=1<<Be,!De(me.Wa,Be)){X.a=1,ae=0;break e}}else me.ua=0;var i5=X,mk=ie,QK=le,s5=i5.s,o5=s5.xc;if(i5.c=mk,i5.i=QK,s5.md=Ge(mk,o5),s5.wc=o5==0?-1:(1<<o5)-1,R){X.xb=EK;break e}if((Ce=i(ie*le))==null){X.a=1,ae=0;break e}ae=(ae=be(X,Ce,0,ie,le,le,null))&&!ue.h;break e}return ae?(te!=null?te[0]=Ce:(t(Ce==null),t(R)),X.$=0,R||$e(me)):$e(me),ae}function Ve(w,T){var R=w.c*w.i,X=R+T+16*T;return t(w.c<=T),w.V=i(X),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+R+T,1)}function He(w,T){var R=w.C,X=T-R,te=w.V,ae=w.Ba+w.c*R;for(t(T<=w.l.o);0<X;){var ie=16<X?16:X,le=w.l.ma,ue=w.l.width,me=ue*ie,Ce=le.ca,Be=le.tb+ue*R,Ue=w.Ta,Fe=w.Ua;ne(w,ie,te,ae),Xn(Ue,Fe,Ce,Be,me),pe(le,R,R+ie,Ce,Be,ue),X-=ie,te+=ie*w.c,R+=ie}t(R==T),w.C=w.Ma=T}function dt(){this.ub=this.yd=this.td=this.Rb=0}function vt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ot(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function pt(){this.Yb=function(){var w=[];return function T(R,X,te){for(var ae=te[X],ie=0;ie<ae&&(R.push(te.length>X+1?[]:0),!(te.length<X+1));ie++)T(R[ie],X+1,te)}(w,0,[3,11]),w}()}function Pt(){this.jb=i(3),this.Wc=l([4,8],pt),this.Xc=l([4,17],pt)}function Zt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Gr(){this.ld=this.La=this.dd=this.tc=0}function nn(){this.Na=this.la=0}function aa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fo(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gr),this.Y=0,this.ya=Array(new fo),this.aa=0,this.l=new tl}function el(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ho(){this.cb=this.a=0,this.sc="",this.m=new J,this.Od=new dt,this.Kc=new vt,this.ed=new Zt,this.Qa=new Ot,this.Ic=this.$c=this.Aa=0,this.D=new Fl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,J),this.ia=0,this.pb=o(4,aa),this.Pa=new Pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new el),this.Hd=0,this.rb=Array(new nn),this.sb=0,this.wa=Array(new Gr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fo),this.L=this.aa=0,this.gd=l([4,2],Gr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ss(){var w=new ho;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Bp||(Bp=_x)),w}function Kn(w,T,R){return w.a==0&&(w.a=T,w.sc=R,w.cb=0),0}function bx(w,T,R){return 3<=R&&w[T+0]==157&&w[T+1]==1&&w[T+2]==42}function wx(w,T){if(w==null)return 0;if(w.a=0,w.sc="OK",T==null)return Kn(w,2,"null VP8Io passed to VP8GetHeaders()");var R=T.data,X=T.w,te=T.ha;if(4>te)return Kn(w,7,"Truncated header.");var ae=R[X+0]|R[X+1]<<8|R[X+2]<<16,ie=w.Od;if(ie.Rb=!(1&ae),ie.td=ae>>1&7,ie.yd=ae>>4&1,ie.ub=ae>>5,3<ie.td)return Kn(w,3,"Incorrect keyframe parameters.");if(!ie.yd)return Kn(w,4,"Frame not displayable.");X+=3,te-=3;var le=w.Kc;if(ie.Rb){if(7>te)return Kn(w,7,"cannot parse picture header");if(!bx(R,X,te))return Kn(w,3,"Bad code word");le.c=16383&(R[X+4]<<8|R[X+3]),le.Td=R[X+4]>>6,le.i=16383&(R[X+6]<<8|R[X+5]),le.Ud=R[X+6]>>6,X+=7,te-=7,w.za=le.c+15>>4,w.Ub=le.i+15>>4,T.width=le.c,T.height=le.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,a((ae=w.Pa).jb,0,255,ae.jb.length),t((ae=w.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,a(ae.Zb,0,0,ae.Zb.length),a(ae.Lb,0,0,ae.Lb)}if(ie.ub>te)return Kn(w,7,"bad partition length");M(ae=w.m,R,X,ie.ub),X+=ie.ub,te-=ie.ub,ie.Rb&&(le.Ld=oe(ae),le.Kd=oe(ae)),le=w.Qa;var ue,me=w.Pa;if(t(ae!=null),t(le!=null),le.Cb=oe(ae),le.Cb){if(le.Bb=oe(ae),oe(ae)){for(le.Fb=oe(ae),ue=0;4>ue;++ue)le.Zb[ue]=oe(ae)?I(ae,7):0;for(ue=0;4>ue;++ue)le.Lb[ue]=oe(ae)?I(ae,6):0}if(le.Bb)for(ue=0;3>ue;++ue)me.jb[ue]=oe(ae)?B(ae,8):255}else le.Bb=0;if(ae.Ka)return Kn(w,3,"cannot parse segment header");if((le=w.ed).zd=oe(ae),le.Tb=B(ae,6),le.wb=B(ae,3),le.Pc=oe(ae),le.Pc&&oe(ae)){for(me=0;4>me;++me)oe(ae)&&(le.vd[me]=I(ae,6));for(me=0;4>me;++me)oe(ae)&&(le.od[me]=I(ae,6))}if(w.L=le.Tb==0?0:le.zd?1:2,ae.Ka)return Kn(w,3,"cannot parse filter header");var Ce=te;if(te=ue=X,X=ue+Ce,le=Ce,w.Xb=(1<<B(w.m,2))-1,Ce<3*(me=w.Xb))R=7;else{for(ue+=3*me,le-=3*me,Ce=0;Ce<me;++Ce){var Be=R[te+0]|R[te+1]<<8|R[te+2]<<16;Be>le&&(Be=le),M(w.Jc[+Ce],R,ue,Be),ue+=Be,le-=Be,te+=3}M(w.Jc[+me],R,ue,le),R=ue<X?0:5}if(R!=0)return Kn(w,R,"cannot parse partitions");for(R=B(ue=w.m,7),te=oe(ue)?I(ue,4):0,X=oe(ue)?I(ue,4):0,le=oe(ue)?I(ue,4):0,me=oe(ue)?I(ue,4):0,ue=oe(ue)?I(ue,4):0,Ce=w.Qa,Be=0;4>Be;++Be){if(Ce.Cb){var Ue=Ce.Zb[Be];Ce.Fb||(Ue+=R)}else{if(0<Be){w.pb[Be]=w.pb[0];continue}Ue=R}var Fe=w.pb[Be];Fe.Sc[0]=X_[os(Ue+te,127)],Fe.Sc[1]=J_[os(Ue+0,127)],Fe.Eb[0]=2*X_[os(Ue+X,127)],Fe.Eb[1]=101581*J_[os(Ue+le,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=X_[os(Ue+me,117)],Fe.Qc[1]=J_[os(Ue+ue,127)],Fe.lc=Ue+ue}if(!ie.Rb)return Kn(w,4,"Not a key frame.");for(oe(ae),ie=w.Pa,R=0;4>R;++R){for(te=0;8>te;++te)for(X=0;3>X;++X)for(le=0;11>le;++le)me=G(ae,TK[R][te][X][le])?B(ae,8):NK[R][te][X][le],ie.Wc[R][te].Yb[X][le]=me;for(te=0;17>te;++te)ie.Xc[R][te]=ie.Wc[R][CK[te]]}return w.kc=oe(ae),w.kc&&(w.Bd=B(ae,8)),w.cb=1}function _x(w,T,R,X,te,ae,ie){var le=T[te].Yb[R];for(R=0;16>te;++te){if(!G(w,le[R+0]))return te;for(;!G(w,le[R+1]);)if(le=T[++te].Yb[0],R=0,te==16)return 16;var ue=T[te+1].Yb;if(G(w,le[R+2])){var me=w,Ce=0;if(G(me,(Ue=le)[(Be=R)+3]))if(G(me,Ue[Be+6])){for(le=0,Be=2*(Ce=G(me,Ue[Be+8]))+(Ue=G(me,Ue[Be+9+Ce])),Ce=0,Ue=jK[Be];Ue[le];++le)Ce+=Ce+G(me,Ue[le]);Ce+=3+(8<<Be)}else G(me,Ue[Be+7])?(Ce=7+2*G(me,165),Ce+=G(me,145)):Ce=5+G(me,159);else Ce=G(me,Ue[Be+4])?3+G(me,Ue[Be+5]):2;le=ue[2]}else Ce=1,le=ue[1];ue=ie+SK[te],0>(me=w).b&&ee(me);var Be,Ue=me.b,Fe=(Be=me.Ca>>1)-(me.I>>Ue)>>31;--me.b,me.Ca+=Fe,me.Ca|=1,me.I-=(Be+1&Fe)<<Ue,ae[ue]=((Ce^Fe)-Fe)*X[(0<te)+0]}return 16}function vp(w){var T=w.rb[w.sb-1];T.la=0,T.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function A_(w,T){if(w==null)return 0;if(T==null)return Kn(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!wx(w,T))return 0;if(t(w.cb),T.ac==null||T.ac(T)){T.ob&&(w.L=0);var R=Xx[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=T.v-R>>4,w.zb=T.j-R>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=T.o+15+R>>4,w.Hb=T.va+15+R>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var X=w.ed;for(R=0;4>R;++R){var te;if(w.Qa.Cb){var ae=w.Qa.Lb[R];w.Qa.Fb||(ae+=X.Tb)}else ae=X.Tb;for(te=0;1>=te;++te){var ie=w.gd[R][te],le=ae;if(X.Pc&&(le+=X.vd[0],te&&(le+=X.od[0])),0<(le=0>le?0:63<le?63:le)){var ue=le;0<X.wb&&(ue=4<X.wb?ue>>2:ue>>1)>9-X.wb&&(ue=9-X.wb),1>ue&&(ue=1),ie.dd=ue,ie.tc=2*le+ue,ie.ld=40<=le?2:15<=le?1:0}else ie.tc=0;ie.La=te}}}R=0}else Kn(w,6,"Frame setup failed"),R=w.a;if(R=R==0){if(R){w.$c=0,0<w.Aa||(w.Ic=UK);e:{R=w.Ic,X=4*(ue=w.za);var me=32*ue,Ce=ue+1,Be=0<w.L?ue*(0<w.Aa?2:1):0,Ue=(w.Aa==2?2:1)*ue;if((ie=X+832+(te=3*(16*R+Xx[w.L])/2*me)+(ae=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ie)R=0;else{if(ie>w.Vb){if(w.Vb=0,w.Ec=i(ie),w.Fc=0,w.Ec==null){R=Kn(w,1,"no memory during frame initialization.");break e}w.Vb=ie}ie=w.Ec,le=w.Fc,w.Ac=ie,w.Bc=le,le+=X,w.Gd=o(me,el),w.Hd=0,w.rb=o(Ce+1,nn),w.sb=1,w.wa=Be?o(Be,Gr):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=ue),t(!0),w.oc=ie,w.pc=le,le+=832,w.ya=o(Ue,fo),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=ue),w.R=16*ue,w.B=8*ue,ue=(me=Xx[w.L])*w.R,me=me/2*w.B,w.sa=ie,w.ta=le+ue,w.qa=w.sa,w.ra=w.ta+16*R*w.R+me,w.Ha=w.qa,w.Ia=w.ra+8*R*w.B+me,w.$c=0,le+=te,w.mb=ae?ie:null,w.nb=ae?le:null,t(le+ae<=w.Fc+w.Vb),vp(w),a(w.Ac,w.Bc,0,X),R=1}}if(R){if(T.ka=0,T.y=w.sa,T.O=w.ta,T.f=w.qa,T.N=w.ra,T.ea=w.Ha,T.Vd=w.Ia,T.fa=w.R,T.Rc=w.B,T.F=null,T.J=0,!Ux){for(R=-255;255>=R;++R)ma[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)$l[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)$p[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)qf[255+R]=0>R?0:255<R?255:R;Ux=1}Vf=E_,Rl=T_,Ip=Sx,Ni=C_,Ls=Nx,Yn=jx,Hf=jp,Bx=nd,Mp=z_,sd=Sp,od=U_,Ic=Df,ld=Np,Wf=Dx,cd=Fx,Mc=nl,Rp=Ll,Is=B_,vo[0]=rl,vo[1]=k_,vo[2]=D_,vo[3]=L_,vo[4]=Cx,vo[5]=Of,vo[6]=Ex,vo[7]=bp,vo[8]=M_,vo[9]=I_,Rc[0]=Ax,Rc[1]=O_,Rc[2]=Dl,Rc[3]=kf,Rc[4]=Za,Rc[5]=F_,Rc[6]=Tx,Bl[0]=Pc,Bl[1]=P_,Bl[2]=R_,Bl[3]=wp,Bl[4]=rd,Bl[5]=$_,Bl[6]=_p,R=1}else R=0}R&&(R=function(Fe,st){for(Fe.M=0;Fe.M<Fe.Va;++Fe.M){var Je,Ee=Fe.Jc[Fe.M&Fe.Xb],Oe=Fe.m,nt=Fe;for(Je=0;Je<nt.za;++Je){var ct=Oe,at=nt,Lt=at.Ac,Nt=at.Bc+4*Je,Wt=at.zc,kt=at.ya[at.aa+Je];if(at.Qa.Bb?kt.$b=G(ct,at.Pa.jb[0])?2+G(ct,at.Pa.jb[2]):G(ct,at.Pa.jb[1]):kt.$b=0,at.kc&&(kt.Ad=G(ct,at.Bd)),kt.Za=!G(ct,145)+0,kt.Za){var Wr=kt.Ob,Yr=0;for(at=0;4>at;++at){var Mr,Nr=Wt[0+at];for(Mr=0;4>Mr;++Mr){Nr=AK[Lt[Nt+Mr]][Nr];for(var ln=W3[G(ct,Nr[0])];0<ln;)ln=W3[2*ln+G(ct,Nr[ln])];Nr=-ln,Lt[Nt+Mr]=Nr}n(Wr,Yr,Lt,Nt,4),Yr+=4,Wt[0+at]=Nr}}else Nr=G(ct,156)?G(ct,128)?1:3:G(ct,163)?2:0,kt.Ob[0]=Nr,a(Lt,Nt,Nr,4),a(Wt,0,Nr,4);kt.Dd=G(ct,142)?G(ct,114)?G(ct,183)?1:3:2:0}if(nt.m.Ka)return Kn(Fe,7,"Premature end-of-partition0 encountered.");for(;Fe.ja<Fe.za;++Fe.ja){if(nt=Ee,ct=(Oe=Fe).rb[Oe.sb-1],Lt=Oe.rb[Oe.sb+Oe.ja],Je=Oe.ya[Oe.aa+Oe.ja],Nt=Oe.kc?Je.Ad:0)ct.la=Lt.la=0,Je.Za||(ct.Na=Lt.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var an,mr;if(ct=Lt,Lt=nt,Nt=Oe.Pa.Xc,Wt=Oe.ya[Oe.aa+Oe.ja],kt=Oe.pb[Wt.$b],at=Wt.ad,Wr=0,Yr=Oe.rb[Oe.sb-1],Nr=Mr=0,a(at,Wr,0,384),Wt.Za)var sa=0,Vi=Nt[3];else{ln=i(16);var oa=ct.Na+Yr.Na;if(oa=Bp(Lt,Nt[1],oa,kt.Eb,0,ln,0),ct.Na=Yr.Na=(0<oa)+0,1<oa)Vf(ln,0,at,Wr);else{var Hi=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)at[Wr+ln]=Hi}sa=1,Vi=Nt[0]}var Xr=15&ct.la,cs=15&Yr.la;for(ln=0;4>ln;++ln){var us=1&cs;for(Hi=mr=0;4>Hi;++Hi)Xr=Xr>>1|(us=(oa=Bp(Lt,Vi,oa=us+(1&Xr),kt.Sc,sa,at,Wr))>sa)<<7,mr=mr<<2|(3<oa?3:1<oa?2:at[Wr+0]!=0),Wr+=16;Xr>>=4,cs=cs>>1|us<<7,Mr=(Mr<<8|mr)>>>0}for(Vi=Xr,sa=cs>>4,an=0;4>an;an+=2){for(mr=0,Xr=ct.la>>4+an,cs=Yr.la>>4+an,ln=0;2>ln;++ln){for(us=1&cs,Hi=0;2>Hi;++Hi)oa=us+(1&Xr),Xr=Xr>>1|(us=0<(oa=Bp(Lt,Nt[2],oa,kt.Qc,0,at,Wr)))<<3,mr=mr<<2|(3<oa?3:1<oa?2:at[Wr+0]!=0),Wr+=16;Xr>>=2,cs=cs>>1|us<<5}Nr|=mr<<4*an,Vi|=Xr<<4<<an,sa|=(240&cs)<<an}ct.la=Vi,Yr.la=sa,Wt.Hc=Mr,Wt.Gc=Nr,Wt.ia=43690&Nr?0:kt.ia,Nt=!(Mr|Nr)}if(0<Oe.L&&(Oe.wa[Oe.Y+Oe.ja]=Oe.gd[Je.$b][Je.Za],Oe.wa[Oe.Y+Oe.ja].La|=!Nt),nt.Ka)return Kn(Fe,7,"Premature end-of-file encountered.")}if(vp(Fe),Oe=st,nt=1,Je=(Ee=Fe).D,ct=0<Ee.L&&Ee.M>=Ee.zb&&Ee.M<=Ee.Va,Ee.Aa==0)e:{if(Je.M=Ee.M,Je.uc=ct,Pp(Ee,Je),nt=1,Je=(mr=Ee.D).Nb,ct=(Nr=Xx[Ee.L])*Ee.R,Lt=Nr/2*Ee.B,ln=16*Je*Ee.R,Hi=8*Je*Ee.B,Nt=Ee.sa,Wt=Ee.ta-ct+ln,kt=Ee.qa,at=Ee.ra-Lt+Hi,Wr=Ee.Ha,Yr=Ee.Ia-Lt+Hi,cs=(Xr=mr.M)==0,Mr=Xr>=Ee.Va-1,Ee.Aa==2&&Pp(Ee,mr),mr.uc)for(us=(oa=Ee).D.M,t(oa.D.uc),mr=oa.yb;mr<oa.Hb;++mr){sa=mr,Vi=us;var Ca=(za=(Bn=oa).D).Nb;an=Bn.R;var za=za.wa[za.Y+sa],Ai=Bn.sa,Bs=Bn.ta+16*Ca*an+16*sa,il=za.dd,Ea=za.tc;if(Ea!=0)if(t(3<=Ea),Bn.L==1)0<sa&&Mc(Ai,Bs,an,Ea+4),za.La&&Is(Ai,Bs,an,Ea),0<Vi&&cd(Ai,Bs,an,Ea+4),za.La&&Rp(Ai,Bs,an,Ea);else{var Ul=Bn.B,ud=Bn.qa,Gf=Bn.ra+8*Ca*Ul+8*sa,Bc=Bn.Ha,Bn=Bn.Ia+8*Ca*Ul+8*sa;Ca=za.ld,0<sa&&(Bx(Ai,Bs,an,Ea+4,il,Ca),sd(ud,Gf,Bc,Bn,Ul,Ea+4,il,Ca)),za.La&&(Ic(Ai,Bs,an,Ea,il,Ca),Wf(ud,Gf,Bc,Bn,Ul,Ea,il,Ca)),0<Vi&&(Hf(Ai,Bs,an,Ea+4,il,Ca),Mp(ud,Gf,Bc,Bn,Ul,Ea+4,il,Ca)),za.La&&(od(Ai,Bs,an,Ea,il,Ca),ld(ud,Gf,Bc,Bn,Ul,Ea,il,Ca))}}if(Ee.ia&&alert("todo:DitherRow"),Oe.put!=null){if(mr=16*Xr,Xr=16*(Xr+1),cs?(Oe.y=Ee.sa,Oe.O=Ee.ta+ln,Oe.f=Ee.qa,Oe.N=Ee.ra+Hi,Oe.ea=Ee.Ha,Oe.W=Ee.Ia+Hi):(mr-=Nr,Oe.y=Nt,Oe.O=Wt,Oe.f=kt,Oe.N=at,Oe.ea=Wr,Oe.W=Yr),Mr||(Xr-=Nr),Xr>Oe.o&&(Xr=Oe.o),Oe.F=null,Oe.J=null,Ee.Fa!=null&&0<Ee.Fa.length&&mr<Xr&&(Oe.J=Ep(Ee,Oe,mr,Xr-mr),Oe.F=Ee.mb,Oe.F==null&&Oe.F.length==0)){nt=Kn(Ee,3,"Could not decode alpha data.");break e}mr<Oe.j&&(Nr=Oe.j-mr,mr=Oe.j,t(!(1&Nr)),Oe.O+=Ee.R*Nr,Oe.N+=Ee.B*(Nr>>1),Oe.W+=Ee.B*(Nr>>1),Oe.F!=null&&(Oe.J+=Oe.width*Nr)),mr<Xr&&(Oe.O+=Oe.v,Oe.N+=Oe.v>>1,Oe.W+=Oe.v>>1,Oe.F!=null&&(Oe.J+=Oe.v),Oe.ka=mr-Oe.j,Oe.U=Oe.va-Oe.v,Oe.T=Xr-mr,nt=Oe.put(Oe))}Je+1!=Ee.Ic||Mr||(n(Ee.sa,Ee.ta-ct,Nt,Wt+16*Ee.R,ct),n(Ee.qa,Ee.ra-Lt,kt,at+8*Ee.B,Lt),n(Ee.Ha,Ee.Ia-Lt,Wr,Yr+8*Ee.B,Lt))}if(!nt)return Kn(Fe,6,"Output aborted.")}return 1}(w,T)),T.bc!=null&&T.bc(T),R&=1}return R?(w.cb=0,R):0}function po(w,T,R,X,te){te=w[T+R+32*X]+(te>>3),w[T+R+32*X]=-256&te?0>te?0:255:te}function Ef(w,T,R,X,te,ae){po(w,T,0,R,X+te),po(w,T,1,R,X+ae),po(w,T,2,R,X-ae),po(w,T,3,R,X-te)}function Bi(w){return(20091*w>>16)+w}function xp(w,T,R,X){var te,ae=0,ie=i(16);for(te=0;4>te;++te){var le=w[T+0]+w[T+8],ue=w[T+0]-w[T+8],me=(35468*w[T+4]>>16)-Bi(w[T+12]),Ce=Bi(w[T+4])+(35468*w[T+12]>>16);ie[ae+0]=le+Ce,ie[ae+1]=ue+me,ie[ae+2]=ue-me,ie[ae+3]=le-Ce,ae+=4,T++}for(te=ae=0;4>te;++te)le=(w=ie[ae+0]+4)+ie[ae+8],ue=w-ie[ae+8],me=(35468*ie[ae+4]>>16)-Bi(ie[ae+12]),po(R,X,0,0,le+(Ce=Bi(ie[ae+4])+(35468*ie[ae+12]>>16))),po(R,X,1,0,ue+me),po(R,X,2,0,ue-me),po(R,X,3,0,le-Ce),ae++,X+=32}function jx(w,T,R,X){var te=w[T+0]+4,ae=35468*w[T+4]>>16,ie=Bi(w[T+4]),le=35468*w[T+1]>>16;Ef(R,X,0,te+ie,w=Bi(w[T+1]),le),Ef(R,X,1,te+ae,w,le),Ef(R,X,2,te-ae,w,le),Ef(R,X,3,te-ie,w,le)}function T_(w,T,R,X,te){xp(w,T,R,X),te&&xp(w,T+16,R,X+4)}function Sx(w,T,R,X){Rl(w,T+0,R,X,1),Rl(w,T+32,R,X+128,1)}function C_(w,T,R,X){var te;for(w=w[T+0]+4,te=0;4>te;++te)for(T=0;4>T;++T)po(R,X,T,te,w)}function Nx(w,T,R,X){w[T+0]&&Ni(w,T+0,R,X),w[T+16]&&Ni(w,T+16,R,X+4),w[T+32]&&Ni(w,T+32,R,X+128),w[T+48]&&Ni(w,T+48,R,X+128+4)}function E_(w,T,R,X){var te,ae=i(16);for(te=0;4>te;++te){var ie=w[T+0+te]+w[T+12+te],le=w[T+4+te]+w[T+8+te],ue=w[T+4+te]-w[T+8+te],me=w[T+0+te]-w[T+12+te];ae[0+te]=ie+le,ae[8+te]=ie-le,ae[4+te]=me+ue,ae[12+te]=me-ue}for(te=0;4>te;++te)ie=(w=ae[0+4*te]+3)+ae[3+4*te],le=ae[1+4*te]+ae[2+4*te],ue=ae[1+4*te]-ae[2+4*te],me=w-ae[3+4*te],R[X+0]=ie+le>>3,R[X+16]=me+ue>>3,R[X+32]=ie-le>>3,R[X+48]=me-ue>>3,X+=64}function yp(w,T,R){var X,te=T-32,ae=ls,ie=255-w[te-1];for(X=0;X<R;++X){var le,ue=ae,me=ie+w[T-1];for(le=0;le<R;++le)w[T+le]=ue[me+w[te+le]];T+=32}}function k_(w,T){yp(w,T,4)}function P_(w,T){yp(w,T,8)}function O_(w,T){yp(w,T,16)}function Dl(w,T){var R;for(R=0;16>R;++R)n(w,T+32*R,w,T-32,16)}function kf(w,T){var R;for(R=16;0<R;--R)a(w,T,w[T-1],16),T+=32}function Pf(w,T,R){var X;for(X=0;16>X;++X)a(T,R+32*X,w,16)}function Ax(w,T){var R,X=16;for(R=0;16>R;++R)X+=w[T-1+32*R]+w[T+R-32];Pf(X>>5,w,T)}function Za(w,T){var R,X=8;for(R=0;16>R;++R)X+=w[T-1+32*R];Pf(X>>4,w,T)}function F_(w,T){var R,X=8;for(R=0;16>R;++R)X+=w[T+R-32];Pf(X>>4,w,T)}function Tx(w,T){Pf(128,w,T)}function ar(w,T,R){return w+2*T+R+2>>2}function D_(w,T){var R,X=T-32;for(X=new Uint8Array([ar(w[X-1],w[X+0],w[X+1]),ar(w[X+0],w[X+1],w[X+2]),ar(w[X+1],w[X+2],w[X+3]),ar(w[X+2],w[X+3],w[X+4])]),R=0;4>R;++R)n(w,T+32*R,X,0,X.length)}function L_(w,T){var R=w[T-1],X=w[T-1+32],te=w[T-1+64],ae=w[T-1+96];se(w,T+0,16843009*ar(w[T-1-32],R,X)),se(w,T+32,16843009*ar(R,X,te)),se(w,T+64,16843009*ar(X,te,ae)),se(w,T+96,16843009*ar(te,ae,ae))}function rl(w,T){var R,X=4;for(R=0;4>R;++R)X+=w[T+R-32]+w[T-1+32*R];for(X>>=3,R=0;4>R;++R)a(w,T+32*R,X,4)}function Cx(w,T){var R=w[T-1+0],X=w[T-1+32],te=w[T-1+64],ae=w[T-1-32],ie=w[T+0-32],le=w[T+1-32],ue=w[T+2-32],me=w[T+3-32];w[T+0+96]=ar(X,te,w[T-1+96]),w[T+1+96]=w[T+0+64]=ar(R,X,te),w[T+2+96]=w[T+1+64]=w[T+0+32]=ar(ae,R,X),w[T+3+96]=w[T+2+64]=w[T+1+32]=w[T+0+0]=ar(ie,ae,R),w[T+3+64]=w[T+2+32]=w[T+1+0]=ar(le,ie,ae),w[T+3+32]=w[T+2+0]=ar(ue,le,ie),w[T+3+0]=ar(me,ue,le)}function Ex(w,T){var R=w[T+1-32],X=w[T+2-32],te=w[T+3-32],ae=w[T+4-32],ie=w[T+5-32],le=w[T+6-32],ue=w[T+7-32];w[T+0+0]=ar(w[T+0-32],R,X),w[T+1+0]=w[T+0+32]=ar(R,X,te),w[T+2+0]=w[T+1+32]=w[T+0+64]=ar(X,te,ae),w[T+3+0]=w[T+2+32]=w[T+1+64]=w[T+0+96]=ar(te,ae,ie),w[T+3+32]=w[T+2+64]=w[T+1+96]=ar(ae,ie,le),w[T+3+64]=w[T+2+96]=ar(ie,le,ue),w[T+3+96]=ar(le,ue,ue)}function Of(w,T){var R=w[T-1+0],X=w[T-1+32],te=w[T-1+64],ae=w[T-1-32],ie=w[T+0-32],le=w[T+1-32],ue=w[T+2-32],me=w[T+3-32];w[T+0+0]=w[T+1+64]=ae+ie+1>>1,w[T+1+0]=w[T+2+64]=ie+le+1>>1,w[T+2+0]=w[T+3+64]=le+ue+1>>1,w[T+3+0]=ue+me+1>>1,w[T+0+96]=ar(te,X,R),w[T+0+64]=ar(X,R,ae),w[T+0+32]=w[T+1+96]=ar(R,ae,ie),w[T+1+32]=w[T+2+96]=ar(ae,ie,le),w[T+2+32]=w[T+3+96]=ar(ie,le,ue),w[T+3+32]=ar(le,ue,me)}function bp(w,T){var R=w[T+0-32],X=w[T+1-32],te=w[T+2-32],ae=w[T+3-32],ie=w[T+4-32],le=w[T+5-32],ue=w[T+6-32],me=w[T+7-32];w[T+0+0]=R+X+1>>1,w[T+1+0]=w[T+0+64]=X+te+1>>1,w[T+2+0]=w[T+1+64]=te+ae+1>>1,w[T+3+0]=w[T+2+64]=ae+ie+1>>1,w[T+0+32]=ar(R,X,te),w[T+1+32]=w[T+0+96]=ar(X,te,ae),w[T+2+32]=w[T+1+96]=ar(te,ae,ie),w[T+3+32]=w[T+2+96]=ar(ae,ie,le),w[T+3+64]=ar(ie,le,ue),w[T+3+96]=ar(le,ue,me)}function I_(w,T){var R=w[T-1+0],X=w[T-1+32],te=w[T-1+64],ae=w[T-1+96];w[T+0+0]=R+X+1>>1,w[T+2+0]=w[T+0+32]=X+te+1>>1,w[T+2+32]=w[T+0+64]=te+ae+1>>1,w[T+1+0]=ar(R,X,te),w[T+3+0]=w[T+1+32]=ar(X,te,ae),w[T+3+32]=w[T+1+64]=ar(te,ae,ae),w[T+3+64]=w[T+2+64]=w[T+0+96]=w[T+1+96]=w[T+2+96]=w[T+3+96]=ae}function M_(w,T){var R=w[T-1+0],X=w[T-1+32],te=w[T-1+64],ae=w[T-1+96],ie=w[T-1-32],le=w[T+0-32],ue=w[T+1-32],me=w[T+2-32];w[T+0+0]=w[T+2+32]=R+ie+1>>1,w[T+0+32]=w[T+2+64]=X+R+1>>1,w[T+0+64]=w[T+2+96]=te+X+1>>1,w[T+0+96]=ae+te+1>>1,w[T+3+0]=ar(le,ue,me),w[T+2+0]=ar(ie,le,ue),w[T+1+0]=w[T+3+32]=ar(R,ie,le),w[T+1+32]=w[T+3+64]=ar(X,R,ie),w[T+1+64]=w[T+3+96]=ar(te,X,R),w[T+1+96]=ar(ae,te,X)}function R_(w,T){var R;for(R=0;8>R;++R)n(w,T+32*R,w,T-32,8)}function wp(w,T){var R;for(R=0;8>R;++R)a(w,T,w[T-1],8),T+=32}function td(w,T,R){var X;for(X=0;8>X;++X)a(T,R+32*X,w,8)}function Pc(w,T){var R,X=8;for(R=0;8>R;++R)X+=w[T+R-32]+w[T-1+32*R];td(X>>4,w,T)}function $_(w,T){var R,X=4;for(R=0;8>R;++R)X+=w[T+R-32];td(X>>3,w,T)}function rd(w,T){var R,X=4;for(R=0;8>R;++R)X+=w[T-1+32*R];td(X>>3,w,T)}function _p(w,T){td(128,w,T)}function Ff(w,T,R){var X=w[T-R],te=w[T+0],ae=3*(te-X)+W_[1020+w[T-2*R]-w[T+R]],ie=zx[112+(ae+4>>3)];w[T-R]=ls[255+X+zx[112+(ae+3>>3)]],w[T+0]=ls[255+te-ie]}function kx(w,T,R,X){var te=w[T+0],ae=w[T+R];return Rs[255+w[T-2*R]-w[T-R]]>X||Rs[255+ae-te]>X}function Px(w,T,R,X){return 4*Rs[255+w[T-R]-w[T+0]]+Rs[255+w[T-2*R]-w[T+R]]<=X}function Ox(w,T,R,X,te){var ae=w[T-3*R],ie=w[T-2*R],le=w[T-R],ue=w[T+0],me=w[T+R],Ce=w[T+2*R],Be=w[T+3*R];return 4*Rs[255+le-ue]+Rs[255+ie-me]>X?0:Rs[255+w[T-4*R]-ae]<=te&&Rs[255+ae-ie]<=te&&Rs[255+ie-le]<=te&&Rs[255+Be-Ce]<=te&&Rs[255+Ce-me]<=te&&Rs[255+me-ue]<=te}function Fx(w,T,R,X){var te=2*X+1;for(X=0;16>X;++X)Px(w,T+X,R,te)&&Ff(w,T+X,R)}function nl(w,T,R,X){var te=2*X+1;for(X=0;16>X;++X)Px(w,T+X*R,1,te)&&Ff(w,T+X*R,1)}function Ll(w,T,R,X){var te;for(te=3;0<te;--te)Fx(w,T+=4*R,R,X)}function B_(w,T,R,X){var te;for(te=3;0<te;--te)nl(w,T+=4,R,X)}function Oc(w,T,R,X,te,ae,ie,le){for(ae=2*ae+1;0<te--;){if(Ox(w,T,R,ae,ie))if(kx(w,T,R,le))Ff(w,T,R);else{var ue=w,me=T,Ce=R,Be=ue[me-2*Ce],Ue=ue[me-Ce],Fe=ue[me+0],st=ue[me+Ce],Je=ue[me+2*Ce],Ee=27*(nt=W_[1020+3*(Fe-Ue)+W_[1020+Be-st]])+63>>7,Oe=18*nt+63>>7,nt=9*nt+63>>7;ue[me-3*Ce]=ls[255+ue[me-3*Ce]+nt],ue[me-2*Ce]=ls[255+Be+Oe],ue[me-Ce]=ls[255+Ue+Ee],ue[me+0]=ls[255+Fe-Ee],ue[me+Ce]=ls[255+st-Oe],ue[me+2*Ce]=ls[255+Je-nt]}T+=X}}function mo(w,T,R,X,te,ae,ie,le){for(ae=2*ae+1;0<te--;){if(Ox(w,T,R,ae,ie))if(kx(w,T,R,le))Ff(w,T,R);else{var ue=w,me=T,Ce=R,Be=ue[me-Ce],Ue=ue[me+0],Fe=ue[me+Ce],st=zx[112+((Je=3*(Ue-Be))+4>>3)],Je=zx[112+(Je+3>>3)],Ee=st+1>>1;ue[me-2*Ce]=ls[255+ue[me-2*Ce]+Ee],ue[me-Ce]=ls[255+Be+Je],ue[me+0]=ls[255+Ue-st],ue[me+Ce]=ls[255+Fe-Ee]}T+=X}}function jp(w,T,R,X,te,ae){Oc(w,T,R,1,16,X,te,ae)}function nd(w,T,R,X,te,ae){Oc(w,T,1,R,16,X,te,ae)}function U_(w,T,R,X,te,ae){var ie;for(ie=3;0<ie;--ie)mo(w,T+=4*R,R,1,16,X,te,ae)}function Df(w,T,R,X,te,ae){var ie;for(ie=3;0<ie;--ie)mo(w,T+=4,1,R,16,X,te,ae)}function z_(w,T,R,X,te,ae,ie,le){Oc(w,T,te,1,8,ae,ie,le),Oc(R,X,te,1,8,ae,ie,le)}function Sp(w,T,R,X,te,ae,ie,le){Oc(w,T,1,te,8,ae,ie,le),Oc(R,X,1,te,8,ae,ie,le)}function Np(w,T,R,X,te,ae,ie,le){mo(w,T+4*te,te,1,8,ae,ie,le),mo(R,X+4*te,te,1,8,ae,ie,le)}function Dx(w,T,R,X,te,ae,ie,le){mo(w,T+4,1,te,8,ae,ie,le),mo(R,X+4,1,te,8,ae,ie,le)}function Lf(){this.ba=new $t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ap(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tp(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lx(){this.ua=0,this.Wa=new Z,this.vb=new Z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new D,this.yc=new k}function V_(){this.xb=this.a=0,this.l=new tl,this.ca=new $t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lx,this.ab=0,this.gc=o(4,Tp),this.Oc=0}function If(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ad(w,T,R,X,te,ae,ie){for(w=w==null?0:w[T+0],T=0;T<ie;++T)te[ae+T]=w+R[X+T]&255,w=te[ae+T]}function Cp(w,T,R,X,te,ae,ie){var le;if(w==null)ad(null,null,R,X,te,ae,ie);else for(le=0;le<ie;++le)te[ae+le]=w[T+le]+R[X+le]&255}function Fc(w,T,R,X,te,ae,ie){if(w==null)ad(null,null,R,X,te,ae,ie);else{var le,ue=w[T+0],me=ue,Ce=ue;for(le=0;le<ie;++le)me=Ce+(ue=w[T+le])-me,Ce=R[X+le]+(-256&me?0>me?0:255:me)&255,me=ue,te[ae+le]=Ce}}function Ep(w,T,R,X){var te=T.width,ae=T.o;if(t(w!=null&&T!=null),0>R||0>=X||R+X>ae)return null;if(!w.Cc){if(w.ga==null){var ie;if(w.ga=new If,(ie=w.ga==null)||(ie=T.width*T.o,t(w.Gb.length==0),w.Gb=i(ie),w.Uc=0,w.Gb==null?ie=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ie=1),ie=!ie),!ie){ie=w.ga;var le=w.Fa,ue=w.P,me=w.qc,Ce=w.mb,Be=w.nb,Ue=ue+1,Fe=me-1,st=ie.l;if(t(le!=null&&Ce!=null&&T!=null),$c[0]=null,$c[1]=ad,$c[2]=Cp,$c[3]=Fc,ie.ca=Ce,ie.tb=Be,ie.c=T.width,ie.i=T.height,t(0<ie.c&&0<ie.i),1>=me)T=0;else if(ie.$a=le[ue+0]>>0&3,ie.Z=le[ue+0]>>2&3,ie.Lc=le[ue+0]>>4&3,ue=le[ue+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||ue)T=0;else if(st.put=Ye,st.ac=rn,st.bc=Ct,st.ma=ie,st.width=T.width,st.height=T.height,st.Da=T.Da,st.v=T.v,st.va=T.va,st.j=T.j,st.o=T.o,ie.$a)e:{t(ie.$a==1),T=Xe();t:for(;;){if(T==null){T=0;break e}if(t(ie!=null),ie.mc=T,T.c=ie.c,T.i=ie.i,T.l=ie.l,T.l.ma=ie,T.l.width=ie.c,T.l.height=ie.i,T.a=0,q(T.m,le,Ue,Fe),!Re(ie.c,ie.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&fe(T.s)?(ie.ic=1,le=T.c*T.i,T.Ta=null,T.Ua=0,T.V=i(le),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ie.ic=0,T=Ve(T,ie.c)),!T))break t;T=1;break e}ie.mc=null,T=0}else T=Fe>=ie.c*ie.i;ie=!T}if(ie)return null;w.ga.Lc!=1?w.Ga=0:X=ae-R}t(w.ga!=null),t(R+X<=ae);e:{if(T=(le=w.ga).c,ae=le.l.o,le.$a==0){if(Ue=w.rc,Fe=w.Vc,st=w.Fa,ue=w.P+1+R*T,me=w.mb,Ce=w.nb+R*T,t(ue<=w.P+w.qc),le.Z!=0)for(t($c[le.Z]!=null),ie=0;ie<X;++ie)$c[le.Z](Ue,Fe,st,ue,me,Ce,T),Ue=me,Fe=Ce,Ce+=T,ue+=T;else for(ie=0;ie<X;++ie)n(me,Ce,st,ue,T),Ue=me,Fe=Ce,Ce+=T,ue+=T;w.rc=Ue,w.Vc=Fe}else{if(t(le.mc!=null),T=R+X,t((ie=le.mc)!=null),t(T<=ie.i),ie.C>=T)T=1;else if(le.ic||Me(),le.ic){le=ie.V,Ue=ie.Ba,Fe=ie.c;var Je=ie.i,Ee=(st=1,ue=ie.$/Fe,me=ie.$%Fe,Ce=ie.m,Be=ie.s,ie.$),Oe=Fe*Je,nt=Fe*T,ct=Be.wc,at=Ee<nt?vn(Be,me,ue):null;t(Ee<=Oe),t(T<=Je),t(fe(Be));t:for(;;){for(;!Ce.h&&Ee<nt;){if(me&ct||(at=vn(Be,me,ue)),t(at!=null),Y(Ce),256>(Je=Pn(at.G[0],at.H[0],Ce)))le[Ue+Ee]=Je,++Ee,++me>=Fe&&(me=0,++ue<=T&&!(ue%16)&&xe(ie,ue));else{if(!(280>Je)){st=0;break t}Je=jt(Je-256,Ce);var Lt,Nt=Pn(at.G[4],at.H[4],Ce);if(Y(Ce),!(Ee>=(Nt=Ur(Fe,Nt=jt(Nt,Ce)))&&Oe-Ee>=Je)){st=0;break t}for(Lt=0;Lt<Je;++Lt)le[Ue+Ee+Lt]=le[Ue+Ee+Lt-Nt];for(Ee+=Je,me+=Je;me>=Fe;)me-=Fe,++ue<=T&&!(ue%16)&&xe(ie,ue);Ee<nt&&me&ct&&(at=vn(Be,me,ue))}t(Ce.h==K(Ce))}xe(ie,ue>T?T:ue);break t}!st||Ce.h&&Ee<Oe?(st=0,ie.a=Ce.h?5:3):ie.$=Ee,T=st}else T=be(ie,ie.V,ie.Ba,ie.c,ie.i,T,He);if(!T){X=0;break e}}R+X>=ae&&(w.Cc=1),X=1}if(!X)return null;if(w.Cc&&((X=w.ga)!=null&&(X.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+R*te}function L(w,T,R,X,te,ae){for(;0<te--;){var ie,le=w,ue=T+(R?1:0),me=w,Ce=T+(R?0:3);for(ie=0;ie<X;++ie){var Be=me[Ce+4*ie];Be!=255&&(Be*=32897,le[ue+4*ie+0]=le[ue+4*ie+0]*Be>>23,le[ue+4*ie+1]=le[ue+4*ie+1]*Be>>23,le[ue+4*ie+2]=le[ue+4*ie+2]*Be>>23)}T+=ae}}function re(w,T,R,X,te){for(;0<X--;){var ae;for(ae=0;ae<R;++ae){var ie=w[T+2*ae+0],le=15&(me=w[T+2*ae+1]),ue=4369*le,me=(240&me|me>>4)*ue>>16;w[T+2*ae+0]=(240&ie|ie>>4)*ue>>16&240|(15&ie|ie<<4)*ue>>16>>4&15,w[T+2*ae+1]=240&me|le}T+=te}}function we(w,T,R,X,te,ae,ie,le){var ue,me,Ce=255;for(me=0;me<te;++me){for(ue=0;ue<X;++ue){var Be=w[T+ue];ae[ie+4*ue]=Be,Ce&=Be}T+=R,ie+=le}return Ce!=255}function Te(w,T,R,X,te){var ae;for(ae=0;ae<te;++ae)R[X+ae]=w[T+ae]>>8}function Me(){Ms=L,dn=re,fn=we,Xn=Te}function et(w,T,R){A[w]=function(X,te,ae,ie,le,ue,me,Ce,Be,Ue,Fe,st,Je,Ee,Oe,nt,ct){var at,Lt=ct-1>>1,Nt=le[ue+0]|me[Ce+0]<<16,Wt=Be[Ue+0]|Fe[st+0]<<16;t(X!=null);var kt=3*Nt+Wt+131074>>2;for(T(X[te+0],255&kt,kt>>16,Je,Ee),ae!=null&&(kt=3*Wt+Nt+131074>>2,T(ae[ie+0],255&kt,kt>>16,Oe,nt)),at=1;at<=Lt;++at){var Wr=le[ue+at]|me[Ce+at]<<16,Yr=Be[Ue+at]|Fe[st+at]<<16,Mr=Nt+Wr+Wt+Yr+524296,Nr=Mr+2*(Wr+Wt)>>3;kt=Nr+Nt>>1,Nt=(Mr=Mr+2*(Nt+Yr)>>3)+Wr>>1,T(X[te+2*at-1],255&kt,kt>>16,Je,Ee+(2*at-1)*R),T(X[te+2*at-0],255&Nt,Nt>>16,Je,Ee+(2*at-0)*R),ae!=null&&(kt=Mr+Wt>>1,Nt=Nr+Yr>>1,T(ae[ie+2*at-1],255&kt,kt>>16,Oe,nt+(2*at-1)*R),T(ae[ie+2*at+0],255&Nt,Nt>>16,Oe,nt+(2*at+0)*R)),Nt=Wr,Wt=Yr}1&ct||(kt=3*Nt+Wt+131074>>2,T(X[te+ct-1],255&kt,kt>>16,Je,Ee+(ct-1)*R),ae!=null&&(kt=3*Wt+Nt+131074>>2,T(ae[ie+ct-1],255&kt,kt>>16,Oe,nt+(ct-1)*R)))}}function ut(){$s[Vx]=kK,$s[Hx]=G3,$s[z3]=PK,$s[Wx]=K3,$s[qx]=Y3,$s[q_]=X3,$s[V3]=OK,$s[G_]=G3,$s[K_]=K3,$s[Gx]=Y3,$s[Y_]=X3}function Dt(w){return w&~FK?0>w?0:255:w>>J3}function Ut(w,T){return Dt((19077*w>>8)+(26149*T>>8)-14234)}function hr(w,T,R){return Dt((19077*w>>8)-(6419*T>>8)-(13320*R>>8)+8708)}function sr(w,T){return Dt((19077*w>>8)+(33050*T>>8)-17685)}function Fr(w,T,R,X,te){X[te+0]=Ut(w,R),X[te+1]=hr(w,T,R),X[te+2]=sr(w,T)}function On(w,T,R,X,te){X[te+0]=sr(w,T),X[te+1]=hr(w,T,R),X[te+2]=Ut(w,R)}function $n(w,T,R,X,te){var ae=hr(w,T,R);T=ae<<3&224|sr(w,T)>>3,X[te+0]=248&Ut(w,R)|ae>>5,X[te+1]=T}function ia(w,T,R,X,te){var ae=240&sr(w,T)|15;X[te+0]=240&Ut(w,R)|hr(w,T,R)>>4,X[te+1]=ae}function ei(w,T,R,X,te){X[te+0]=255,Fr(w,T,R,X,te+1)}function Ta(w,T,R,X,te){On(w,T,R,X,te),X[te+3]=255}function go(w,T,R,X,te){Fr(w,T,R,X,te),X[te+3]=255}function os(w,T){return 0>w?0:w>T?T:w}function al(w,T,R){A[w]=function(X,te,ae,ie,le,ue,me,Ce,Be){for(var Ue=Ce+(-2&Be)*R;Ce!=Ue;)T(X[te+0],ae[ie+0],le[ue+0],me,Ce),T(X[te+1],ae[ie+0],le[ue+0],me,Ce+R),te+=2,++ie,++ue,Ce+=2*R;1&Be&&T(X[te+0],ae[ie+0],le[ue+0],me,Ce)}}function Ix(w,T,R){return R==0?w==0?T==0?6:5:T==0?4:0:R}function kp(w,T,R,X,te){switch(w>>>30){case 3:Rl(T,R,X,te,0);break;case 2:Yn(T,R,X,te);break;case 1:Ni(T,R,X,te)}}function Pp(w,T){var R,X,te=T.M,ae=T.Nb,ie=w.oc,le=w.pc+40,ue=w.oc,me=w.pc+584,Ce=w.oc,Be=w.pc+600;for(R=0;16>R;++R)ie[le+32*R-1]=129;for(R=0;8>R;++R)ue[me+32*R-1]=129,Ce[Be+32*R-1]=129;for(0<te?ie[le-1-32]=ue[me-1-32]=Ce[Be-1-32]=129:(a(ie,le-32-1,127,21),a(ue,me-32-1,127,9),a(Ce,Be-32-1,127,9)),X=0;X<w.za;++X){var Ue=T.ya[T.aa+X];if(0<X){for(R=-1;16>R;++R)n(ie,le+32*R-4,ie,le+32*R+12,4);for(R=-1;8>R;++R)n(ue,me+32*R-4,ue,me+32*R+4,4),n(Ce,Be+32*R-4,Ce,Be+32*R+4,4)}var Fe=w.Gd,st=w.Hd+X,Je=Ue.ad,Ee=Ue.Hc;if(0<te&&(n(ie,le-32,Fe[st].y,0,16),n(ue,me-32,Fe[st].f,0,8),n(Ce,Be-32,Fe[st].ea,0,8)),Ue.Za){var Oe=ie,nt=le-32+16;for(0<te&&(X>=w.za-1?a(Oe,nt,Fe[st].y[15],4):n(Oe,nt,Fe[st+1].y,0,4)),R=0;4>R;R++)Oe[nt+128+R]=Oe[nt+256+R]=Oe[nt+384+R]=Oe[nt+0+R];for(R=0;16>R;++R,Ee<<=2)Oe=ie,nt=le+Z3[R],vo[Ue.Ob[R]](Oe,nt),kp(Ee,Je,16*+R,Oe,nt)}else if(Oe=Ix(X,te,Ue.Ob[0]),Rc[Oe](ie,le),Ee!=0)for(R=0;16>R;++R,Ee<<=2)kp(Ee,Je,16*+R,ie,le+Z3[R]);for(R=Ue.Gc,Oe=Ix(X,te,Ue.Dd),Bl[Oe](ue,me),Bl[Oe](Ce,Be),Ee=Je,Oe=ue,nt=me,255&(Ue=R>>0)&&(170&Ue?Ip(Ee,256,Oe,nt):Ls(Ee,256,Oe,nt)),Ue=Ce,Ee=Be,255&(R>>=8)&&(170&R?Ip(Je,320,Ue,Ee):Ls(Je,320,Ue,Ee)),te<w.Ub-1&&(n(Fe[st].y,0,ie,le+480,16),n(Fe[st].f,0,ue,me+224,8),n(Fe[st].ea,0,Ce,Be+224,8)),R=8*ae*w.B,Fe=w.sa,st=w.ta+16*X+16*ae*w.R,Je=w.qa,Ue=w.ra+8*X+R,Ee=w.Ha,Oe=w.Ia+8*X+R,R=0;16>R;++R)n(Fe,st+R*w.R,ie,le+32*R,16);for(R=0;8>R;++R)n(Je,Ue+R*w.B,ue,me+32*R,8),n(Ee,Oe+R*w.B,Ce,Be+32*R,8)}}function Mf(w,T,R,X,te,ae,ie,le,ue){var me=[0],Ce=[0],Be=0,Ue=ue!=null?ue.kd:0,Fe=ue??new Ap;if(w==null||12>R)return 7;Fe.data=w,Fe.w=T,Fe.ha=R,T=[T],R=[R],Fe.gb=[Fe.gb];e:{var st=T,Je=R,Ee=Fe.gb;if(t(w!=null),t(Je!=null),t(Ee!=null),Ee[0]=0,12<=Je[0]&&!r(w,st[0],"RIFF")){if(r(w,st[0]+8,"WEBP")){Ee=3;break e}var Oe=Pe(w,st[0]+4);if(12>Oe||4294967286<Oe){Ee=3;break e}if(Ue&&Oe>Je[0]-8){Ee=7;break e}Ee[0]=Oe,st[0]+=12,Je[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Oe=0<Fe.gb[0],R=R[0];;){e:{var nt=w;Je=T,Ee=R;var ct=me,at=Ce,Lt=st=[0];if((kt=Be=[Be])[0]=0,8>Ee[0])Ee=7;else{if(!r(nt,Je[0],"VP8X")){if(Pe(nt,Je[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var Nt=Pe(nt,Je[0]+8),Wt=1+Q(nt,Je[0]+12);if(2147483648<=Wt*(nt=1+Q(nt,Je[0]+15))){Ee=3;break e}Lt!=null&&(Lt[0]=Nt),ct!=null&&(ct[0]=Wt),at!=null&&(at[0]=nt),Je[0]+=18,Ee[0]-=18,kt[0]=1}Ee=0}}if(Be=Be[0],st=st[0],Ee!=0)return Ee;if(Je=!!(2&st),!Oe&&Be)return 3;if(ae!=null&&(ae[0]=!!(16&st)),ie!=null&&(ie[0]=Je),le!=null&&(le[0]=0),ie=me[0],st=Ce[0],Be&&Je&&ue==null){Ee=0;break}if(4>R){Ee=7;break}if(Oe&&Be||!Oe&&!Be&&!r(w,T[0],"ALPH")){R=[R],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{Nt=w,Ee=T,Oe=R;var kt=Fe.gb;ct=Fe.na,at=Fe.P,Lt=Fe.Sa,Wt=22,t(Nt!=null),t(Oe!=null),nt=Ee[0];var Wr=Oe[0];for(t(ct!=null),t(Lt!=null),ct[0]=null,at[0]=null,Lt[0]=0;;){if(Ee[0]=nt,Oe[0]=Wr,8>Wr){Ee=7;break e}var Yr=Pe(Nt,nt+4);if(4294967286<Yr){Ee=3;break e}var Mr=8+Yr+1&-2;if(Wt+=Mr,0<kt&&Wt>kt){Ee=3;break e}if(!r(Nt,nt,"VP8 ")||!r(Nt,nt,"VP8L")){Ee=0;break e}if(Wr[0]<Mr){Ee=7;break e}r(Nt,nt,"ALPH")||(ct[0]=Nt,at[0]=nt+8,Lt[0]=Yr),nt+=Mr,Wr-=Mr}}if(R=R[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Ee!=0)break}R=[R],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(kt=w,Ee=T,Oe=R,ct=Fe.gb[0],at=Fe.Ja,Lt=Fe.xa,Nt=Ee[0],nt=!r(kt,Nt,"VP8 "),Wt=!r(kt,Nt,"VP8L"),t(kt!=null),t(Oe!=null),t(at!=null),t(Lt!=null),8>Oe[0])Ee=7;else{if(nt||Wt){if(kt=Pe(kt,Nt+4),12<=ct&&kt>ct-12){Ee=3;break e}if(Ue&&kt>Oe[0]-8){Ee=7;break e}at[0]=kt,Ee[0]+=8,Oe[0]-=8,Lt[0]=Wt}else Lt[0]=5<=Oe[0]&&kt[Nt+0]==47&&!(kt[Nt+4]>>5),at[0]=Oe[0];Ee=0}if(R=R[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],T=T[0],Ee!=0)break;if(4294967286<Fe.Ja)return 3;if(le==null||Je||(le[0]=Fe.xa?2:1),ie=[ie],st=[st],Fe.xa){if(5>R){Ee=7;break}le=ie,Ue=st,Je=ae,w==null||5>R?w=0:5<=R&&w[T+0]==47&&!(w[T+4]>>5)?(Oe=[0],kt=[0],ct=[0],q(at=new E,w,T,R),mt(at,Oe,kt,ct)?(le!=null&&(le[0]=Oe[0]),Ue!=null&&(Ue[0]=kt[0]),Je!=null&&(Je[0]=ct[0]),w=1):w=0):w=0}else{if(10>R){Ee=7;break}le=st,w==null||10>R||!bx(w,T+3,R-3)?w=0:(Ue=w[T+0]|w[T+1]<<8|w[T+2]<<16,Je=16383&(w[T+7]<<8|w[T+6]),w=16383&(w[T+9]<<8|w[T+8]),1&Ue||3<(Ue>>1&7)||!(Ue>>4&1)||Ue>>5>=Fe.Ja||!Je||!w?w=0:(ie&&(ie[0]=Je),le&&(le[0]=w),w=1))}if(!w||(ie=ie[0],st=st[0],Be&&(me[0]!=ie||Ce[0]!=st)))return 3;ue!=null&&(ue[0]=Fe,ue.offset=T-ue.w,t(4294967286>T-ue.w),t(ue.offset==ue.ha-R));break}return Ee==0||Ee==7&&Be&&ue==null?(ae!=null&&(ae[0]|=Fe.na!=null&&0<Fe.na.length),X!=null&&(X[0]=ie),te!=null&&(te[0]=st),0):Ee}function Op(w,T,R){var X=T.width,te=T.height,ae=0,ie=0,le=X,ue=te;if(T.Da=w!=null&&0<w.Da,T.Da&&(le=w.cd,ue=w.bd,ae=w.v,ie=w.j,11>R||(ae&=-2,ie&=-2),0>ae||0>ie||0>=le||0>=ue||ae+le>X||ie+ue>te))return 0;if(T.v=ae,T.j=ie,T.va=ae+le,T.o=ie+ue,T.U=le,T.T=ue,T.da=w!=null&&0<w.da,T.da){if(!ke(le,ue,R=[w.ib],ae=[w.hb]))return 0;T.ib=R[0],T.hb=ae[0]}return T.ob=w!=null&&w.ob,T.Kb=w==null||!w.Sd,T.da&&(T.ob=T.ib<3*X/4&&T.hb<3*te/4,T.Kb=0),1}function Fp(w){if(w==null)return 2;if(11>w.S){var T=w.f.RGBA;T.fb+=(w.height-1)*T.A,T.A=-T.A}else T=w.f.kb,w=w.height,T.O+=(w-1)*T.fa,T.fa=-T.fa,T.N+=(w-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(w-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(w-1)*T.lb,T.lb=-T.lb);return 0}function Rf(w,T,R,X){if(X==null||0>=w||0>=T)return 2;if(R!=null){if(R.Da){var te=R.cd,ae=R.bd,ie=-2&R.v,le=-2&R.j;if(0>ie||0>le||0>=te||0>=ae||ie+te>w||le+ae>T)return 2;w=te,T=ae}if(R.da){if(!ke(w,T,te=[R.ib],ae=[R.hb]))return 2;w=te[0],T=ae[0]}}X.width=w,X.height=T;e:{var ue=X.width,me=X.height;if(w=X.S,0>=ue||0>=me||!(w>=Vx&&13>w))w=2;else{if(0>=X.Rd&&X.sd==null){ie=ae=te=T=0;var Ce=(le=ue*ek[w])*me;if(11>w||(ae=(me+1)/2*(T=(ue+1)/2),w==12&&(ie=(te=ue)*me)),(me=i(Ce+2*ae+ie))==null){w=1;break e}X.sd=me,11>w?((ue=X.f.RGBA).eb=me,ue.fb=0,ue.A=le,ue.size=Ce):((ue=X.f.kb).y=me,ue.O=0,ue.fa=le,ue.Fd=Ce,ue.f=me,ue.N=0+Ce,ue.Ab=T,ue.Cd=ae,ue.ea=me,ue.W=0+Ce+ae,ue.Db=T,ue.Ed=ae,w==12&&(ue.F=me,ue.J=0+Ce+2*ae),ue.Tc=ie,ue.lb=te)}if(T=1,te=X.S,ae=X.width,ie=X.height,te>=Vx&&13>te)if(11>te)w=X.f.RGBA,T&=(le=Math.abs(w.A))*(ie-1)+ae<=w.size,T&=le>=ae*ek[te],T&=w.eb!=null;else{w=X.f.kb,le=(ae+1)/2,Ce=(ie+1)/2,ue=Math.abs(w.fa),me=Math.abs(w.Ab);var Be=Math.abs(w.Db),Ue=Math.abs(w.lb),Fe=Ue*(ie-1)+ae;T&=ue*(ie-1)+ae<=w.Fd,T&=me*(Ce-1)+le<=w.Cd,T=(T&=Be*(Ce-1)+le<=w.Ed)&ue>=ae&me>=le&Be>=le,T&=w.y!=null,T&=w.f!=null,T&=w.ea!=null,te==12&&(T&=Ue>=ae,T&=Fe<=w.Tc,T&=w.F!=null)}else T=0;w=T?0:2}}return w!=0||R!=null&&R.fd&&(w=Fp(X)),w}var Ua=64,$f=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bf=24,Uf=32,Dp=8,Ui=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(w){return w},A.Predictor2=function(w,T,R){return T[R+0]},A.Predictor3=function(w,T,R){return T[R+1]},A.Predictor4=function(w,T,R){return T[R-1]},A.Predictor5=function(w,T,R){return de(de(w,T[R+1]),T[R+0])},A.Predictor6=function(w,T,R){return de(w,T[R-1])},A.Predictor7=function(w,T,R){return de(w,T[R+0])},A.Predictor8=function(w,T,R){return de(T[R-1],T[R+0])},A.Predictor9=function(w,T,R){return de(T[R+0],T[R+1])},A.Predictor10=function(w,T,R){return de(de(w,T[R-1]),de(T[R+0],T[R+1]))},A.Predictor11=function(w,T,R){var X=T[R+0];return 0>=ft(X>>24&255,w>>24&255,(T=T[R-1])>>24&255)+ft(X>>16&255,w>>16&255,T>>16&255)+ft(X>>8&255,w>>8&255,T>>8&255)+ft(255&X,255&w,255&T)?X:w},A.Predictor12=function(w,T,R){var X=T[R+0];return(ze((w>>24&255)+(X>>24&255)-((T=T[R-1])>>24&255))<<24|ze((w>>16&255)+(X>>16&255)-(T>>16&255))<<16|ze((w>>8&255)+(X>>8&255)-(T>>8&255))<<8|ze((255&w)+(255&X)-(255&T)))>>>0},A.Predictor13=function(w,T,R){var X=T[R-1];return(Ke((w=de(w,T[R+0]))>>24&255,X>>24&255)<<24|Ke(w>>16&255,X>>16&255)<<16|Ke(w>>8&255,X>>8&255)<<8|Ke(w>>0&255,X>>0&255))>>>0};var H_=A.PredictorAdd0;A.PredictorAdd1=_t,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var Lp=A.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Mx,Ds=A.ColorIndexInverseTransform,zf=A.MapARGB,Rx=A.VP8LColorIndexInverseTransformAlpha,$x=A.MapAlpha,Dc=A.VP8LPredictorsAdd=[];Dc.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var id,zi,Si,Lc,Il,Ml,Vf,Rl,Yn,Ip,Ni,Ls,Hf,Bx,Mp,sd,od,Ic,ld,Wf,cd,Mc,Rp,Is,Ms,dn,fn,Xn,ma=i(511),$l=i(2041),$p=i(225),qf=i(767),Ux=0,W_=$l,zx=$p,ls=qf,Rs=ma,Vx=0,Hx=1,z3=2,Wx=3,qx=4,q_=5,V3=6,G_=7,K_=8,Gx=9,Y_=10,gK=[2,3,7],vK=[3,3,11],H3=[280,256,256,256,40],xK=[0,1,1,1,0],yK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],bK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_K=8,X_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],J_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bp=null,jK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],SK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],W3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],NK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],AK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],TK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],CK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rc=[],vo=[],Bl=[],EK=1,q3=2,$c=[],$s=[];et("UpsampleRgbLinePair",Fr,3),et("UpsampleBgrLinePair",On,3),et("UpsampleRgbaLinePair",go,4),et("UpsampleBgraLinePair",Ta,4),et("UpsampleArgbLinePair",ei,4),et("UpsampleRgba4444LinePair",ia,2),et("UpsampleRgb565LinePair",$n,2);var kK=A.UpsampleRgbLinePair,PK=A.UpsampleBgrLinePair,G3=A.UpsampleRgbaLinePair,K3=A.UpsampleBgraLinePair,Y3=A.UpsampleArgbLinePair,X3=A.UpsampleRgba4444LinePair,OK=A.UpsampleRgb565LinePair,Kx=16,Yx=1<<Kx-1,Up=-227,Q_=482,J3=6,FK=(256<<J3)-1,Q3=0,DK=i(256),LK=i(256),IK=i(256),MK=i(256),RK=i(Q_-Up),$K=i(Q_-Up);al("YuvToRgbRow",Fr,3),al("YuvToBgrRow",On,3),al("YuvToRgbaRow",go,4),al("YuvToBgraRow",Ta,4),al("YuvToArgbRow",ei,4),al("YuvToRgba4444Row",ia,2),al("YuvToRgb565Row",$n,2);var Z3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xx=[0,2,8],BK=[8,7,6,4,4,2,2,2,1,1,1,1],UK=1;this.WebPDecodeRGBA=function(w,T,R,X,te){var ae=Hx,ie=new Lf,le=new $t;ie.ba=le,le.S=ae,le.width=[le.width],le.height=[le.height];var ue=le.width,me=le.height,Ce=new Er;if(Ce==null||w==null)var Be=2;else t(Ce!=null),Be=Mf(w,T,R,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Be!=0?ue=0:(ue!=null&&(ue[0]=Ce.width[0]),me!=null&&(me[0]=Ce.height[0]),ue=1),ue){le.width=le.width[0],le.height=le.height[0],X!=null&&(X[0]=le.width),te!=null&&(te[0]=le.height);e:{if(X=new tl,(te=new Ap).data=w,te.w=T,te.ha=R,te.kd=1,T=[0],t(te!=null),((w=Mf(te.data,te.w,te.ha,null,null,null,T,null,te))==0||w==7)&&T[0]&&(w=4),(T=w)==0){if(t(ie!=null),X.data=te.data,X.w=te.w+te.offset,X.ha=te.ha-te.offset,X.put=Ye,X.ac=rn,X.bc=Ct,X.ma=ie,te.xa){if((w=Xe())==null){ie=1;break e}if(function(Ue,Fe){var st=[0],Je=[0],Ee=[0];t:for(;;){if(Ue==null)return 0;if(Fe==null)return Ue.a=2,0;if(Ue.l=Fe,Ue.a=0,q(Ue.m,Fe.data,Fe.w,Fe.ha),!mt(Ue.m,st,Je,Ee)){Ue.a=3;break t}if(Ue.xb=q3,Fe.width=st[0],Fe.height=Je[0],!Re(st[0],Je[0],1,Ue,null))break t;return 1}return t(Ue.a!=0),0}(w,X)){if(X=(T=Rf(X.width,X.height,ie.Oa,ie.ba))==0){t:{X=w;r:for(;;){if(X==null){X=0;break t}if(t(X.s.yc!=null),t(X.s.Ya!=null),t(0<X.s.Wb),t((R=X.l)!=null),t((te=R.ma)!=null),X.xb!=0){if(X.ca=te.ba,X.tb=te.tb,t(X.ca!=null),!Op(te.Oa,R,Wx)){X.a=2;break r}if(!Ve(X,R.width)||R.da)break r;if((R.da||Ht(X.ca.S))&&Me(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),X.ca.f.kb.F!=null&&Me()),X.Pb&&0<X.s.ua&&X.s.vb.X==null&&!De(X.s.vb,X.s.Wa.Xa)){X.a=1;break r}X.xb=0}if(!be(X,X.V,X.Ba,X.c,X.i,R.o,ve))break r;te.Dc=X.Ma,X=1;break t}t(X.a!=0),X=0}X=!X}X&&(T=w.a)}else T=w.a}else{if((w=new ss)==null){ie=1;break e}if(w.Fa=te.na,w.P=te.P,w.qc=te.Sa,wx(w,X)){if((T=Rf(X.width,X.height,ie.Oa,ie.ba))==0){if(w.Aa=0,R=ie.Oa,t((te=w)!=null),R!=null){if(0<(ue=0>(ue=R.Md)?0:100<ue?255:255*ue/100)){for(me=Ce=0;4>me;++me)12>(Be=te.pb[me]).lc&&(Be.ia=ue*BK[0>Be.lc?0:Be.lc]>>3),Ce|=Be.ia;Ce&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=R.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}A_(w,X)||(T=w.a)}}else T=w.a}T==0&&ie.Oa!=null&&ie.Oa.fd&&(T=Fp(ie.ba))}ie=T}ae=ie!=0?null:11>ae?le.f.RGBA.eb:le.f.kb.y}else ae=null;return ae};var ek=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(A,P){for(var H="",C=0;C<4;C++)H+=String.fromCharCode(A[P++]);return H}function d(A,P){return(A[P+0]<<0|A[P+1]<<8|A[P+2]<<16)>>>0}function f(A,P){return(A[P+0]<<0|A[P+1]<<8|A[P+2]<<16|A[P+3]<<24)>>>0}new c;var h=[0],p=[0],v=[],m=new c,x=e,g=function(A,P){var H={},C=0,k=!1,U=0,D=0;if(H.frames=[],!function(V,K,W,Y){for(var ee=0;ee<Y;ee++)if(V[K+ee]!=W.charCodeAt(ee))return!0;return!1}(A,P,"RIFF",4)){var M,B;for(f(A,P+=4),P+=8;P<A.length;){var I=u(A,P),q=f(A,P+=4);P+=4;var F=q+(1&q);switch(I){case"VP8 ":case"VP8L":H.frames[C]===void 0&&(H.frames[C]={}),(E=H.frames[C]).src_off=k?D:P-8,E.src_size=U+q+8,C++,k&&(k=!1,U=0,D=0);break;case"VP8X":(E=H.header={}).feature_flags=A[P];var z=P+4;E.canvas_width=1+d(A,z),z+=3,E.canvas_height=1+d(A,z),z+=3;break;case"ALPH":k=!0,U=F+8,D=P-8;break;case"ANIM":(E=H.header).bgcolor=f(A,P),z=P+4,E.loop_count=(M=A)[(B=z)+0]<<0|M[B+1]<<8,z+=2;break;case"ANMF":var J,E;(E=H.frames[C]={}).offset_x=2*d(A,P),P+=3,E.offset_y=2*d(A,P),P+=3,E.width=1+d(A,P),P+=3,E.height=1+d(A,P),P+=3,E.duration=d(A,P),P+=3,J=A[P++],E.dispose=1&J,E.blend=J>>1&1}I!="ANMF"&&(P+=F)}return H}}(x,0);g.response=x,g.rgbaoutput=!0,g.dataurl=!1;var y=g.header?g.header:null,b=g.frames?g.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var S=0;S<b.length&&b[S].blend!=0;S++);}var _=b[0],N=m.WebPDecodeRGBA(x,_.src_off,_.src_size,p,h);_.rgba=N,_.imgwidth=p[0],_.imgheight=h[0];for(var j=0;j<p[0]*h[0]*4;j++)v[j]=N[j];return this.width=p,this.height=h,this.data=v,this}(function(e){var t=function(){return typeof BA=="function"},r=function(h,p,v,m){var x=4,g=o;switch(m){case e.image_compression.FAST:x=1,g=i;break;case e.image_compression.MEDIUM:x=6,g=l;break;case e.image_compression.SLOW:x=9,g=c}h=n(h,p,v,g);var y=BA(h,{level:x});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,p,v,m){for(var x,g,y,b=h.length/p,S=new Uint8Array(h.length+b),_=d(),N=0;N<b;N+=1){if(y=N*p,x=h.subarray(y,y+p),m)S.set(m(x,v,g),y+N);else{for(var j,A=_.length,P=[];j<A;j+=1)P[j]=_[j](x,v,g);var H=f(P.concat());S.set(P[H],y+N)}g=x}return S},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var v,m=[],x=h.length;m[0]=1;for(var g=0;g<x;g+=1)v=h[g-p]||0,m[g+1]=h[g]-v+256&255;return m},o=function(h,p,v){var m,x=[],g=h.length;x[0]=2;for(var y=0;y<g;y+=1)m=v&&v[y]||0,x[y+1]=h[y]-m+256&255;return x},l=function(h,p,v){var m,x,g=[],y=h.length;g[0]=3;for(var b=0;b<y;b+=1)m=h[b-p]||0,x=v&&v[b]||0,g[b+1]=h[b]+256-(m+x>>>1)&255;return g},c=function(h,p,v){var m,x,g,y,b=[],S=h.length;b[0]=4;for(var _=0;_<S;_+=1)m=h[_-p]||0,x=v&&v[_]||0,g=v&&v[_-p]||0,y=u(m,x,g),b[_+1]=h[_]-y+256&255;return b},u=function(h,p,v){if(h===p&&p===v)return h;var m=Math.abs(p-v),x=Math.abs(h-v),g=Math.abs(h+p-v-v);return m<=x&&m<=g?h:x<=g?p:v},d=function(){return[a,i,o,l,c]},f=function(h){var p=h.map(function(v){return v.reduce(function(m,x){return m+Math.abs(x)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,v,m){var x,g,y,b,S,_,N,j,A,P,H,C,k,U,D,M=this.decode.FLATE_DECODE,B="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new tBe(h)).imgData,g=y.bits,x=y.colorSpace,S=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){A=(j=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,H=new Uint8Array(A*y.colors),P=new Uint8Array(A);var I,q=y.pixelBitlength-y.bits;for(U=0,D=0;U<A;U++){for(k=j[U],I=0;I<q;)H[D++]=k>>>I&255,I+=y.bits;P[U]=k>>>I&255}}if(y.bits===16){A=(j=new Uint32Array(y.decodePixels().buffer)).length,H=new Uint8Array(A*(32/y.pixelBitlength)*y.colors),P=new Uint8Array(A*(32/y.pixelBitlength)),C=y.colors>1,U=0,D=0;for(var F=0;U<A;)k=j[U++],H[D++]=k>>>0&255,C&&(H[D++]=k>>>16&255,k=j[U++],H[D++]=k>>>0&255),P[F++]=k>>>16&255;g=8}m!==e.image_compression.NONE&&t()?(h=r(H,y.width*y.colors,y.colors,m),N=r(P,y.width,1,m)):(h=H,N=P,M=void 0)}if(y.colorType===3&&(x=this.color_spaces.INDEXED,_=y.palette,y.transparency.indexed)){var z=y.transparency.indexed,J=0;for(U=0,A=z.length;U<A;++U)J+=z[U];if((J/=255)===A-1&&z.indexOf(0)!==-1)b=[z.indexOf(0)];else if(J!==A){for(j=y.decodePixels(),P=new Uint8Array(j.length),U=0,A=j.length;U<A;U++)P[U]=z[j[U]];N=r(P,y.width,1)}}var E=function(V){var K;switch(V){case e.image_compression.FAST:K=11;break;case e.image_compression.MEDIUM:K=13;break;case e.image_compression.SLOW:K=14;break;default:K=12}return K}(m);return M===this.decode.FLATE_DECODE&&(B="/Predictor "+E+" "),B+="/Colors "+S+" /BitsPerComponent "+g+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:v,data:h,index:p,filter:M,decodeParameters:B,transparency:b,palette:_,sMask:N,predictor:E,width:y.width,height:y.height,bitsPerComponent:g,colorSpace:x}}}})(Vt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new rBe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new lS(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Vt.API),So.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},So.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){cn.log("bit decode error:"+r)}},So.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},So.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},So.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},So.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},So.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},So.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},So.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},So.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new So(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new lS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Vt.API),bM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new bM(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new lS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Vt.API),Vt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[l++]=d,i[l++]=f,i[l++]=h,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Vt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dh=Vt.API,my=dh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,v=0,m=l[0]||c,x=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&Zr(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,x.push((l[n]||m)/c+h)),v=n;return x},gM=dh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return dh.processArabic&&(e=dh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:my.apply(this,arguments).reduce(function(i,o){return i+o},0)},vM=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},xM=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],h=r.textIndent||0,p=0,v=0,m=e.split(" "),x=my.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),y=[];m.map(function(S){(S=S.split(/\s*\n/)).length>1?y=y.concat(S.map(function(_,N){return(N&&_.length?`
`:"")+_})):y.push(S[0])}),m=y,c=gM.apply(this,[g,r])}for(i=0,o=m.length;i<o;i++){var b=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(v=(a=my.apply(this,[n,r])).reduce(function(S,_){return S+_},0))>t||b){if(v>t){for(l=vM.apply(this,[n,a,t-(h+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(S,_){return S+_},0)}else d=[n];f.push(d),h=v+c,p=x}else d.push(n),h+=p+v,p=x}return u=c?function(S,_){return(_?g:"")+S.join(" ")}:function(S){return S.join(" ")},f.map(u)},dh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(xM.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,p,v,m,x=["{"];for(var g in f){if(h=f[g],isNaN(parseInt(g,10))?p="'"+g+"'":(g=parseInt(g,10),p=(p=i(g).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(v=i(h).slice(3),m="-"):(v=i(h).slice(2),m=""),v=m+v.slice(0,-1)+n[v.slice(-1)];else{if(Zr(h)!=="object")throw new Error("Don't know what to do with value type "+Zr(h)+".");v=o(h)}x.push(p+v)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,v,m,x={},g=1,y=x,b=[],S="",_="",N=f.length-1,j=1;j<N;j+=1)(m=f[j])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(b.push([y,v]),y={},v=void 0):m=="}"?((p=b.pop())[0][p[1]]=y,v=void 0,y=p[0]):m=="-"?g=-1:v===void 0?r.hasOwnProperty(m)?(S+=r[m],v=parseInt(S,16)*g,g=1,S=""):S+=m:r.hasOwnProperty(m)?(_+=r[m],y[v]=parseInt(_,16)*g,g=1,v=void 0,_=""):_+=m;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(Vt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(pg(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Vt),function(e){function t(){return(Xt.canvg?Promise.resolve(Xt.canvg):xc(()=>import("./index.es-e4f1b036.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Vt.API.addSvgAsImage=function(r,n,a,i,o,l,c,u){if(isNaN(n)||isNaN(a))throw cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(v){return v.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),Vt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Vt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(v,m){var x,g=!1;for(x=0;x<v.length;x+=1)v[x]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(Zr(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Vt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(i).sort(function(p,v){return p-v})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<h.length;v++)p+=String.fromCharCode(h[v]);var m=u();d({data:p,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ph(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+ph(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+ph(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var v=u();d({data:h,addLength1:!0,objectId:v}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ph(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+ph(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,v=f.fonts,m=p,x="",g=0,y="",b=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(y=l,m=p,Array.isArray(l)&&(y=l[0]),g=0;g<y.length;g+=1)v[m].metadata.hasOwnProperty("cmap")&&(o=v[m].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),o||y[g].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?x+=y[g]:x+="";var S="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?S=h(x,m).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(S=r(x,v[m])),f.isHex=!0,{text:S,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Vt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Vt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var S=function(C){var k=C.charCodeAt(),U=k>>8,D=m[U];return D!==void 0?f[256*D+(255&k)]:U===252||U===253?"AL":g.test(U)?"L":U===8?"R":"N"},_=function(C){for(var k,U=0;U<C.length;U++){if((k=S(C.charAt(U)))==="L")return!1;if(k==="R")return!0}return!1},N=function(C,k,U,D){var M,B,I,q,F=k[D];switch(F){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(F="AN");break;case"AL":y=!0,F="R";break;case"WS":F="N";break;case"CS":D<1||D+1>=k.length||(M=U[D-1])!=="EN"&&M!=="AN"||(B=k[D+1])!=="EN"&&B!=="AN"?F="N":y&&(B="AN"),F=B===M?B:"N";break;case"ES":F=(M=D>0?U[D-1]:"B")==="EN"&&D+1<k.length&&k[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&U[D-1]==="EN"){F="EN";break}if(y){F="N";break}for(I=D+1,q=k.length;I<q&&k[I]==="ET";)I++;F=I<q&&k[I]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(q=k.length,I=D+1;I<q&&k[I]==="NSM";)I++;if(I<q){var z=C[D],J=z>=1425&&z<=2303||z===64286;if(M=k[I],J&&(M==="R"||M==="AL")){F="R";break}}}F=D<1||(M=k[D-1])==="B"?"N":U[D-1];break;case"B":y=!1,a=!0,F=b;break;case"S":i=!0,F="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":F="N"}return F},j=function(C,k,U){var D=C.split("");return U&&A(D,U,{hiLevel:b}),D.reverse(),k&&k.reverse(),D.join("")},A=function(C,k,U){var D,M,B,I,q,F=-1,z=C.length,J=0,E=[],V=b?p:h,K=[];for(y=!1,a=!1,i=!1,M=0;M<z;M++)K[M]=S(C[M]);for(B=0;B<z;B++){if(q=J,E[B]=N(C,K,E,B),D=240&(J=V[q][v[E[B]]]),J&=15,k[B]=I=V[J][5],D>0)if(D===16){for(M=F;M<B;M++)k[M]=1;F=-1}else F=-1;if(V[J][6])F===-1&&(F=B);else if(F>-1){for(M=F;M<B;M++)k[M]=I;F=-1}K[B]==="B"&&(k[B]=0),U.hiLevel|=I}i&&function(W,Y,ee){for(var oe=0;oe<ee;oe++)if(W[oe]==="S"){Y[oe]=b;for(var G=oe-1;G>=0&&W[G]==="WS";G--)Y[G]=b}}(K,k,z)},P=function(C,k,U,D,M){if(!(M.hiLevel<C)){if(C===1&&b===1&&!a)return k.reverse(),void(U&&U.reverse());for(var B,I,q,F,z=k.length,J=0;J<z;){if(D[J]>=C){for(q=J+1;q<z&&D[q]>=C;)q++;for(F=J,I=q-1;F<I;F++,I--)B=k[F],k[F]=k[I],k[I]=B,U&&(B=U[F],U[F]=U[I],U[I]=B);J=q}J++}}},H=function(C,k,U){var D=C.split(""),M={hiLevel:b};return U||(U=[]),A(D,U,M),function(B,I,q){if(q.hiLevel!==0&&d)for(var F,z=0;z<B.length;z++)I[z]===1&&(F=x.indexOf(B[z]))>=0&&(B[z]=x[F+1])}(D,U,M),P(2,D,k,U,M),P(1,D,k,U,M),D.join("")};return this.__bidiEngine__.doBidiReorder=function(C,k,U){if(function(M,B){if(B)for(var I=0;I<M.length;I++)B[I]=I;l===void 0&&(l=_(M)),u===void 0&&(u=_(M))}(C,k),o||!c||u)if(o&&c&&l^u)b=l?1:0,C=j(C,k,U);else if(!o&&c&&u)b=l?1:0,C=H(C,k,U),C=j(C,k);else if(!o||l||c||u){if(o&&!c&&l^u)C=j(C,k),l?(b=0,C=H(C,k,U)):(b=1,C=H(C,k,U),C=j(C,k));else if(o&&l&&!c&&u)b=1,C=H(C,k,U),C=j(C,k);else if(!o&&!c&&l^u){var D=d;l?(b=1,C=H(C,k,U),b=0,d=!1,C=H(C,k,U),d=D):(b=0,C=H(C,k,U),C=j(C,k),b=1,d=!1,C=H(C,k,U),d=D,C=j(C,k))}}else b=0,C=H(C,k,U);else b=l?1:0,C=H(C,k,U);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new zu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new vBe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new nBe(this.contents),this.head=new iBe(this),this.name=new uBe(this),this.cmap=new fK(this),this.toUnicode={},this.hhea=new sBe(this),this.maxp=new dBe(this),this.hmtx=new fBe(this),this.post=new lBe(this),this.os2=new oBe(this),this.loca=new gBe(this),this.glyf=new hBe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Zo,zu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),nBe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,h,p,v,m;for(m in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),o=Math.floor(f/c),d=16*p-f,(a=new zu).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*p,u=a.pos+i,l=null,v=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),v=v.concat(h),m==="head"&&(l=u),u+=h.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=hK.call(r);r.length%4;)r.push(0);for(i=new zu(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),aBe={}.hasOwnProperty,Ol=function(e,t){for(var r in t)aBe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Zo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var iBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new zu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),wM=function(){function e(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,m,x,g,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var S,_;for(_=[],c=S=0;0<=h?S<h:S>h;c=0<=h?++S:--S)_.push(t.readUInt16());return _}(),t.pos+=2,m=function(){var S,_;for(_=[],c=S=0;0<=h?S<h:S>h;c=0<=h?++S:--S)_.push(t.readUInt16());return _}(),u=function(){var S,_;for(_=[],c=S=0;0<=h?S<h:S>h;c=0<=h?++S:--S)_.push(t.readUInt16());return _}(),d=function(){var S,_;for(_=[],c=S=0;0<=h?S<h:S>h;c=0<=h?++S:--S)_.push(t.readUInt16());return _}(),a=(this.length-t.pos+this.offset)/2,l=function(){var S,_;for(_=[],c=S=0;0<=a?S<a:S>a;c=0<=a?++S:--S)_.push(t.readUInt16());return _}(),c=g=0,b=i.length;g<b;c=++g)for(x=i[c],n=y=v=m[c];v<=x?y<=x:y>=x;n=v<=x?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-v)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,m,x,g,y,b,S,_,N,j,A,P,H,C,k,U,D,M,B,I,q,F,z,J,E,V,K,W,Y,ee,oe,G,se,he,Q;switch(D=new zu,o=Object.keys(t).sort(function(Pe,De){return Pe-De}),r){case"macroman":for(m=0,x=function(){var Pe=[];for(v=0;v<256;++v)Pe.push(0);return Pe}(),y={0:0},i={},M=0,F=o.length;M<F;M++)y[G=t[a=o[M]]]==null&&(y[G]=++m),i[a]={old:t[a],new:y[t[a]]},x[a]=y[t[a]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(x),{charMap:i,subtable:D.data,maxGlyphID:m+1};case"unicode":for(k=[],f=[],b=0,y={},n={},g=u=null,B=0,z=o.length;B<z;B++)y[_=t[a=o[B]]]==null&&(y[_]=++b),n[a]={old:_,new:y[_]},l=y[_]-a,g!=null&&l===u||(g&&f.push(g),k.push(a),u=l),g=a;for(g&&f.push(g),f.push(65535),k.push(65535),H=2*(P=k.length),A=2*Math.pow(Math.log(P)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,j=2*P-A,c=[],N=[],p=[],v=I=0,J=k.length;I<J;v=++I){if(C=k[v],d=f[v],C===65535){c.push(0),N.push(0);break}if(C-(U=n[C].new)>=32768)for(c.push(0),N.push(2*(p.length+P-v)),a=q=C;C<=d?q<=d:q>=d;a=C<=d?++q:--q)p.push(n[a].new);else c.push(U-C),N.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*P+2*p.length),D.writeUInt16(0),D.writeUInt16(H),D.writeUInt16(A),D.writeUInt16(h),D.writeUInt16(j),ee=0,E=f.length;ee<E;ee++)a=f[ee],D.writeUInt16(a);for(D.writeUInt16(0),oe=0,V=k.length;oe<V;oe++)a=k[oe],D.writeUInt16(a);for(se=0,K=c.length;se<K;se++)l=c[se],D.writeUInt16(l);for(he=0,W=N.length;he<W;he++)S=N[he],D.writeUInt16(S);for(Q=0,Y=p.length;Q<Y;Q++)m=p[Q],D.writeUInt16(m);return{charMap:n,subtable:D.data,maxGlyphID:b+1}}},e}(),fK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new wM(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=wM.encode(r,n),(i=new zu).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),sBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),oBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),lBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),cBe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},uBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,l,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),l=new cBe(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),dBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),fBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),hK=[].slice,hBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new zu(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new mBe(c,d,h,u,f):new pBe(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),pBe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),mBe=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new zu(hK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),gBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),vBe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,m,x,g;for(a in n=fK.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},g=n.charMap)p[(c=g[a]).old]=c.new;for(v in h=n.maxGlyphID,o)v in p||(p[v]=h++);return d=function(y){var b,S;for(b in S={},y)S[y[b]]=b;return S}(p),f=Object.keys(d).sort(function(y,b){return y-b}),m=function(){var y,b,S;for(S=[],y=0,b=f.length;y<b;y++)l=f[y],S.push(d[l]);return S}(),i=this.font.glyf.encode(o,m,p),u=this.font.loca.encode(i.offsets,m),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Vt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const xBe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Y$e,AcroFormAppearance:Rt,AcroFormButton:ya,AcroFormCheckBox:vg,AcroFormChoiceField:Wd,AcroFormComboBox:Gd,AcroFormEditBox:mg,AcroFormListBox:qd,AcroFormPasswordField:xg,AcroFormPushButton:gg,AcroFormRadioButton:Kd,AcroFormTextField:ku,GState:Rv,ShadingPattern:du,TilingPattern:Id,default:Vt,jsPDF:Vt},Symbol.toStringTag,{value:"Module"}));var yBe={exports:{}};const bBe=OM(xBe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return bBe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Ln<"u"?Ln:typeof window<"u"?window:typeof self<"u"?self:Ln,function(r){return function(){var n={172:function(l,c){var u=this&&this.__extends||function(){var h=function(p,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,x){m.__proto__=x}||function(m,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(m[g]=x[g])},h(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(p,v);function m(){this.constructor=p}p.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(p,v,m){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=m,this.doc=p.getDocument()}return h}();c.HookData=d;var f=function(h){u(p,h);function p(v,m,x,g,y,b){var S=h.call(this,v,m,b)||this;return S.cell=x,S.row=g,S.column=y,S.section=g.section,S}return p}(d);c.CellHookData=f},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),p=u(776),v=u(664),m=u(972);function x(g){g.API.autoTable=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var S;y.length===1?S=y[0]:(console.error("Use of deprecated autoTable initiation"),S=y[2]||{},S.columns=y[0],S.body=y[1]);var _=(0,p.parseInput)(this,S),N=(0,m.createTable)(this,_);return(0,v.drawTable)(this,N),this},g.API.lastAutoTable=!1,g.API.previousAutoTable=!1,g.API.autoTable.previous=!1,g.API.autoTableText=function(y,b,S,_){(0,f.default)(y,b,S,_,this)},g.API.autoTableSetDefaults=function(y){return h.DocHandler.setDefaults(y,this),this},g.autoTableSetDefaults=function(y,b){h.DocHandler.setDefaults(y,b)},g.API.autoTableHtmlToJson=function(y,b){var S;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var _=new h.DocHandler(this),N=(0,d.parseHtml)(_,y,window,b,!1),j=N.head,A=N.body,P=((S=j[0])===null||S===void 0?void 0:S.map(function(H){return H.content}))||[];return{columns:P,rows:A,data:A}},g.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},g.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),g.API.autoTable.globalDefaults||(g.API.autoTable.globalDefaults={}),g.API.autoTable.globalDefaults.addPageContent=y,this},g.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=x},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,f,h,p,v){p=p||{};var m=1.15,x=v.internal.scaleFactor,g=v.internal.getFontSize()/x,y=v.getLineHeightFactor?v.getLineHeightFactor():m,b=g*y,S=/\r\n|\r|\n/g,_="",N=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(_=typeof d=="string"?d.split(S):d,N=_.length||1),h+=g*(2-m),p.valign==="middle"?h-=N/2*b:p.valign==="bottom"&&(h-=N*b),p.halign==="center"||p.halign==="right"){var j=g;if(p.halign==="center"&&(j*=.5),_&&N>=1){for(var A=0;A<_.length;A++)v.text(_[A],f-v.getStringUnitWidth(_[A])*j,h),h+=b;return v}f-=v.getStringUnitWidth(d)*j}return p.halign==="justify"?v.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):v.text(d,f,h),v}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(v,m,x){x.applyStyles(m,!0);var g=Array.isArray(v)?v:[v],y=g.map(function(b){return x.getTextWidth(b)}).reduce(function(b,S){return Math.max(b,S)},0);return y}c.getStringWidth=u;function d(v,m,x,g){var y=m.settings.tableLineWidth,b=m.settings.tableLineColor;v.applyStyles({lineWidth:y,lineColor:b});var S=f(y,!1);S&&v.rect(x.x,x.y,m.getWidth(v.pageSize().width),g.y-x.y,S)}c.addTableBorder=d;function f(v,m){var x=v>0,g=m||m===0;return x&&g?"DF":x?"S":g?"F":null}c.getFillStyle=f;function h(v,m){var x,g,y,b;if(v=v||m,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=m}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(x=v.left)!==null&&x!==void 0?x:m,top:(g=v.top)!==null&&g!==void 0?g:m,right:(y=v.right)!==null&&y!==void 0?y:m,bottom:(b=v.bottom)!==null&&b!==void 0?b:m}):(typeof v!="number"&&(v=m),{top:v,right:v,bottom:v,left:v})}c.parseSpacing=h;function p(v,m){var x=h(m.settings.margin,0);return v.pageSize().width-(x.left+x.right)}c.getPageAvailableWidth=p},796:function(l,c){var u=this&&this.__extends||function(){var p=function(v,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,g){x.__proto__=g}||function(x,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(x[y]=g[y])},p(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(v,m);function x(){this.constructor=v}v.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(p){u(v,p);function v(m){var x=p.call(this)||this;return x._element=m,x}return v}(Array);c.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function h(p){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[p]}c.getTheme=h},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function f(x,g,y,b,S){var _={},N=1.3333333333333333,j=p(g,function(F){return S.getComputedStyle(F).backgroundColor});j!=null&&(_.fillColor=j);var A=p(g,function(F){return S.getComputedStyle(F).color});A!=null&&(_.textColor=A);var P=m(b,y);P&&(_.cellPadding=P);var H="borderTopColor",C=N*y,k=b.borderTopWidth;if(b.borderBottomWidth===k&&b.borderRightWidth===k&&b.borderLeftWidth===k){var U=(parseFloat(k)||0)/C;U&&(_.lineWidth=U)}else _.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/C,right:(parseFloat(b.borderRightWidth)||0)/C,bottom:(parseFloat(b.borderBottomWidth)||0)/C,left:(parseFloat(b.borderLeftWidth)||0)/C},_.lineWidth.top||(_.lineWidth.right?H="borderRightColor":_.lineWidth.bottom?H="borderBottomColor":_.lineWidth.left&&(H="borderLeftColor"));var D=p(g,function(F){return S.getComputedStyle(F)[H]});D!=null&&(_.lineColor=D);var M=["left","right","center","justify"];M.indexOf(b.textAlign)!==-1&&(_.halign=b.textAlign),M=["middle","bottom","top"],M.indexOf(b.verticalAlign)!==-1&&(_.valign=b.verticalAlign);var B=parseInt(b.fontSize||"");isNaN(B)||(_.fontSize=B/N);var I=h(b);I&&(_.fontStyle=I);var q=(b.fontFamily||"").toLowerCase();return x.indexOf(q)!==-1&&(_.font=q),_}c.parseCss=f;function h(x){var g="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(g="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(g+="italic"),g}function p(x,g){var y=v(x,g);if(!y)return null;var b=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var S=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],_=parseInt(b[4]);return _===0||isNaN(S[0])||isNaN(S[1])||isNaN(S[2])?null:S}function v(x,g){var y=g(x);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?x.parentElement==null?null:v(x.parentElement,g):y}function m(x,g){var y=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],b=96/(72/g),S=(parseInt(x.lineHeight)-parseInt(x.fontSize))/g/2,_=y.map(function(j){return parseInt(j||"0")/b}),N=(0,d.parseSpacing)(_,0);return S>N.top&&(N.top=S),S>N.bottom&&(N.bottom=S),N}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var v,m,x;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var g=this.jsPDFDocument.internal.getFont(),y=g.fontStyle,b=g.fontName;if(h.font&&(b=h.font),h.fontStyle){y=h.fontStyle;var S=this.getFontList()[b];S&&S.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(S[0]),y=S[0])}if(this.jsPDFDocument.setFont(b,y),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var _=f.unifyColor(h.fillColor);_&&(v=this.jsPDFDocument).setFillColor.apply(v,_),_=f.unifyColor(h.textColor),_&&(m=this.jsPDFDocument).setTextColor.apply(m,_),_=f.unifyColor(h.lineColor),_&&(x=this.jsPDFDocument).setDrawColor.apply(x,_),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,v){return this.jsPDFDocument.splitTextToSize(h,p,v)},f.prototype.rect=function(h,p,v,m,x){return this.jsPDFDocument.rect(h,p,v,m,x)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=d},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),f=u(796);function h(m,x,g,y,b){var S,_;y===void 0&&(y=!1),b===void 0&&(b=!1);var N;typeof x=="string"?N=g.document.querySelector(x):N=x;var j=Object.keys(m.getFontList()),A=m.scaleFactor(),P=[],H=[],C=[];if(!N)return console.error("Html table could not be found with input: ",x),{head:P,body:H,foot:C};for(var k=0;k<N.rows.length;k++){var U=N.rows[k],D=(_=(S=U==null?void 0:U.parentElement)===null||S===void 0?void 0:S.tagName)===null||_===void 0?void 0:_.toLowerCase(),M=p(j,A,g,U,y,b);M&&(D==="thead"?P.push(M):D==="tfoot"?C.push(M):H.push(M))}return{head:P,body:H,foot:C}}c.parseHtml=h;function p(m,x,g,y,b,S){for(var _=new f.HtmlRowInput(y),N=0;N<y.cells.length;N++){var j=y.cells[N],A=g.getComputedStyle(j);if(b||A.display!=="none"){var P=void 0;S&&(P=(0,d.parseCss)(m,j,x,A,g)),_.push({rowSpan:j.rowSpan,colSpan:j.colSpan,styles:P,_element:j,content:v(j)})}}var H=g.getComputedStyle(y);if(_.length>0&&(b||H.display!=="none"))return _}function v(m){var x=m.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(g){return g.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),f=u(356),h=u(420),p=u(744),v=u(792);function m(N,j){var A=new p.DocHandler(N),P=A.getDocumentOptions(),H=A.getGlobalOptions();(0,v.default)(A,H,P,j);var C=(0,f.assign)({},H,P,j),k;typeof window<"u"&&(k=window);var U=x(H,P,j),D=g(H,P,j),M=y(A,C),B=S(A,C,k);return{id:j.tableId,content:B,hooks:D,styles:U,settings:M}}c.parseInput=m;function x(N,j,A){for(var P={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},H=function(D){if(D==="columnStyles"){var M=N[D],B=j[D],I=A[D];P.columnStyles=(0,f.assign)({},M,B,I)}else{var q=[N,j,A],F=q.map(function(z){return z[D]||{}});P[D]=(0,f.assign)({},F[0],F[1],F[2])}},C=0,k=Object.keys(P);C<k.length;C++){var U=k[C];H(U)}return P}function g(N,j,A){for(var P=[N,j,A],H={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},C=0,k=P;C<k.length;C++){var U=k[C];U.didParseCell&&H.didParseCell.push(U.didParseCell),U.willDrawCell&&H.willDrawCell.push(U.willDrawCell),U.didDrawCell&&H.didDrawCell.push(U.didDrawCell),U.willDrawPage&&H.willDrawPage.push(U.willDrawPage),U.didDrawPage&&H.didDrawPage.push(U.didDrawPage)}return H}function y(N,j){var A,P,H,C,k,U,D,M,B,I,q,F,z=(0,h.parseSpacing)(j.margin,40/N.scaleFactor()),J=(A=b(N,j.startY))!==null&&A!==void 0?A:z.top,E;j.showFoot===!0?E="everyPage":j.showFoot===!1?E="never":E=(P=j.showFoot)!==null&&P!==void 0?P:"everyPage";var V;j.showHead===!0?V="everyPage":j.showHead===!1?V="never":V=(H=j.showHead)!==null&&H!==void 0?H:"everyPage";var K=(C=j.useCss)!==null&&C!==void 0?C:!1,W=j.theme||(K?"plain":"striped"),Y=!!j.horizontalPageBreak,ee=(k=j.horizontalPageBreakRepeat)!==null&&k!==void 0?k:null;return{includeHiddenHtml:(U=j.includeHiddenHtml)!==null&&U!==void 0?U:!1,useCss:K,theme:W,startY:J,margin:z,pageBreak:(D=j.pageBreak)!==null&&D!==void 0?D:"auto",rowPageBreak:(M=j.rowPageBreak)!==null&&M!==void 0?M:"auto",tableWidth:(B=j.tableWidth)!==null&&B!==void 0?B:"auto",showHead:V,showFoot:E,tableLineWidth:(I=j.tableLineWidth)!==null&&I!==void 0?I:0,tableLineColor:(q=j.tableLineColor)!==null&&q!==void 0?q:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:ee,horizontalPageBreakBehaviour:(F=j.horizontalPageBreakBehaviour)!==null&&F!==void 0?F:"afterAllRows"}}function b(N,j){var A=N.getLastAutoTable(),P=N.scaleFactor(),H=N.pageNumber(),C=!1;if(A&&A.startPageNumber){var k=A.startPageNumber+A.pageNumber-1;C=k===H}return typeof j=="number"?j:(j==null||j===!1)&&C&&(A==null?void 0:A.finalY)!=null?A.finalY+20/P:null}function S(N,j,A){var P=j.head||[],H=j.body||[],C=j.foot||[];if(j.html){var k=j.includeHiddenHtml;if(A){var U=(0,d.parseHtml)(N,j.html,A,k,j.useCss)||{};P=U.head||P,H=U.body||P,C=U.foot||P}else console.error("Cannot parse html in non browser environment")}var D=j.columns||_(P,H,C);return{columns:D,head:P,body:H,foot:C}}function _(N,j,A){var P=N[0]||j[0]||A[0]||[],H=[];return Object.keys(P).filter(function(C){return C!=="_element"}).forEach(function(C){var k=1,U;Array.isArray(P)?U=P[parseInt(C)]:U=P[C],typeof U=="object"&&!Array.isArray(U)&&(k=(U==null?void 0:U.colSpan)||1);for(var D=0;D<k;D++){var M=void 0;Array.isArray(P)?M=H.length:M=C+(D>0?"_".concat(D):"");var B={dataKey:M};H.push(B)}}),H}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,h,p,v){for(var m=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(C){f.applyStyles(f.userStyles),b.beforePageContent&&b.beforePageContent(C),f.applyStyles(f.userStyles),b.afterPageContent&&b.afterPageContent(C),f.applyStyles(f.userStyles),b.afterPageAdd&&C.pageNumber>1&&C.afterPageAdd(C),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(C){b[C]&&console.error('The "'.concat(C,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(C){var k=C[0],U=C[1];b[U]&&(console.error("Use of deprecated option ".concat(U,". Use ").concat(k," instead")),b[k]=b[U])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var k=typeof C=="string"?C:C[0],U=typeof C=="string"?C:C[1];typeof b[k]<"u"&&(typeof b.styles[U]>"u"&&(b.styles[U]=b[k]),console.error("Use of deprecated option: "+k+", use the style "+U+" instead."))});for(var S=0,_=["styles","bodyStyles","headStyles","footStyles"];S<_.length;S++){var N=_[S];d(b[N]||{})}for(var j=b.columnStyles||{},A=0,P=Object.keys(j);A<P.length;A++){var H=P[A];d(j[H]||{})}},x=0,g=[h,p,v];x<g.length;x++){var y=g[x];m(y)}}c.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),f=u(172),h=u(420),p=function(){function g(y,b){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return g.prototype.getHeadHeight=function(y){return this.head.reduce(function(b,S){return b+S.getMaxCellHeight(y)},0)},g.prototype.getFootHeight=function(y){return this.foot.reduce(function(b,S){return b+S.getMaxCellHeight(y)},0)},g.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},g.prototype.callCellHooks=function(y,b,S,_,N,j){for(var A=0,P=b;A<P.length;A++){var H=P[A],C=new f.CellHookData(y,this,S,_,N,j),k=H(C)===!1;if(S.text=Array.isArray(S.text)?S.text:[S.text],k)return!1}return!0},g.prototype.callEndPageHooks=function(y,b){y.applyStyles(y.userStyles);for(var S=0,_=this.hooks.didDrawPage;S<_.length;S++){var N=_[S];N(new f.HookData(y,this,b))}},g.prototype.callWillDrawPageHooks=function(y,b){for(var S=0,_=this.hooks.willDrawPage;S<_.length;S++){var N=_[S];N(new f.HookData(y,this,b))}},g.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(_,N){return _+N.wrappedWidth},0);return b}else{var S=this.settings.margin;return y-S.left-S.right}},g}();c.Table=p;var v=function(){function g(y,b,S,_,N){N===void 0&&(N=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=b,this.section=S,this.cells=_,this.spansMultiplePages=N}return g.prototype.getMaxCellHeight=function(y){var b=this;return y.reduce(function(S,_){var N;return Math.max(S,((N=b.cells[_.index])===null||N===void 0?void 0:N.height)||0)},0)},g.prototype.hasRowSpan=function(y){var b=this;return y.filter(function(S){var _=b.cells[S.index];return _?_.rowSpan>1:!1}).length>0},g.prototype.canEntireRowFit=function(y,b){return this.getMaxCellHeight(b)<=y},g.prototype.getMinimumRowHeight=function(y,b){var S=this;return y.reduce(function(_,N){var j=S.cells[N.index];if(!j)return 0;var A=b.getLineHeight(j.styles.fontSize),P=j.padding("vertical"),H=P+A;return H>_?H:_},0)},g}();c.Row=v;var m=function(){function g(y,b,S){var _,N;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=S,this.raw=y;var j=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,j=(N=(_=y.content)!==null&&_!==void 0?_:y.title)!==null&&N!==void 0?N:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var A=j!=null?""+j:"",P=/\r\n|\r|\n/g;this.text=A.split(P)}return g.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");y=this.y+b/2+this.padding("top")}var S;if(this.styles.halign==="right")S=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var _=this.width-this.padding("horizontal");S=this.x+_/2+this.padding("left")}else S=this.x+this.padding("left");return{x:S,y}},g.prototype.getContentHeight=function(y,b){b===void 0&&(b=1.15);var S=Array.isArray(this.text)?this.text.length:1,_=this.styles.fontSize/y*b,N=S*_+this.padding("vertical");return Math.max(N,this.styles.minCellHeight)},g.prototype.padding=function(y){var b=(0,h.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?b.top+b.bottom:y==="horizontal"?b.left+b.right:b[y]},g}();c.Cell=m;var x=function(){function g(y,b,S){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=b,this.index=S}return g.prototype.getMaxCustomCellWidth=function(y){for(var b=0,S=0,_=y.allRows();S<_.length;S++){var N=_[S],j=N.cells[this.index];j&&typeof j.styles.cellWidth=="number"&&(b=Math.max(b,j.styles.cellWidth))}return b},g}();c.Column=x},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,f,h,p,v){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(d),x=1;x<arguments.length;x++){var g=arguments[x];if(g!=null)for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])}return m}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),f=u(260),h=u(324),p=u(796),v=u(356);function m(N,j){var A=new d.DocHandler(N),P=x(j,A.scaleFactor()),H=new f.Table(j,P);return(0,h.calculateWidths)(A,H),A.applyStyles(A.userStyles),H}c.createTable=m;function x(N,j){var A=N.content,P=S(A.columns);if(A.head.length===0){var H=y(P,"head");H&&A.head.push(H)}if(A.foot.length===0){var H=y(P,"foot");H&&A.foot.push(H)}var C=N.settings.theme,k=N.styles;return{columns:P,head:g("head",A.head,P,k,C,j),body:g("body",A.body,P,k,C,j),foot:g("foot",A.foot,P,k,C,j)}}function g(N,j,A,P,H,C){var k={},U=j.map(function(D,M){for(var B=0,I={},q=0,F=0,z=0,J=A;z<J.length;z++){var E=J[z];if(k[E.index]==null||k[E.index].left===0)if(F===0){var V=void 0;Array.isArray(D)?V=D[E.index-q-B]:V=D[E.dataKey];var K={};typeof V=="object"&&!Array.isArray(V)&&(K=(V==null?void 0:V.styles)||{});var W=_(N,E,M,H,P,C,K),Y=new f.Cell(V,W,N);I[E.dataKey]=Y,I[E.index]=Y,F=Y.colSpan-1,k[E.index]={left:Y.rowSpan-1,times:F}}else F--,q++;else k[E.index].left--,F=k[E.index].times,B++}return new f.Row(D,M,N,I)});return U}function y(N,j){var A={};return N.forEach(function(P){if(P.raw!=null){var H=b(j,P.raw);H!=null&&(A[P.dataKey]=H)}}),Object.keys(A).length>0?A:null}function b(N,j){if(N==="head"){if(typeof j=="object")return j.header||j.title||null;if(typeof j=="string"||typeof j=="number")return j}else if(N==="foot"&&typeof j=="object")return j.footer;return null}function S(N){return N.map(function(j,A){var P,H,C;return typeof j=="object"?C=(H=(P=j.dataKey)!==null&&P!==void 0?P:j.key)!==null&&H!==void 0?H:A:C=A,new f.Column(C,j,A)})}function _(N,j,A,P,H,C,k){var U=(0,p.getTheme)(P),D;N==="head"?D=H.headStyles:N==="body"?D=H.bodyStyles:N==="foot"&&(D=H.footStyles);var M=(0,v.assign)({},U.table,U[N],H.styles,D),B=H.columnStyles[j.dataKey]||H.columnStyles[j.index]||{},I=N==="body"?B:{},q=N==="body"&&A%2===0?(0,v.assign)({},U.alternateRow,H.alternateRowStyles):{},F=(0,p.defaultStyles)(C),z=(0,v.assign)({},F,M,q,I);return(0,v.assign)(z,k)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),f=u(260),h=u(744),p=u(356),v=u(136),m=u(224);function x(B,I){var q=I.settings,F=q.startY,z=q.margin,J={x:z.left,y:F},E=I.getHeadHeight(I.columns)+I.getFootHeight(I.columns),V=F+z.bottom+E;if(q.pageBreak==="avoid"){var K=I.body,W=K.reduce(function(oe,G){return oe+G.height},0);V+=W}var Y=new h.DocHandler(B);(q.pageBreak==="always"||q.startY!=null&&V>Y.pageSize().height)&&(M(Y),J.y=z.top),I.callWillDrawPageHooks(Y,J);var ee=(0,p.assign)({},J);I.startPageNumber=Y.pageNumber(),q.horizontalPageBreak?g(Y,I,ee,J):(Y.applyStyles(Y.userStyles),(q.showHead==="firstPage"||q.showHead==="everyPage")&&I.head.forEach(function(oe){return H(Y,I,oe,J,I.columns)}),Y.applyStyles(Y.userStyles),I.body.forEach(function(oe,G){var se=G===I.body.length-1;P(Y,I,oe,se,ee,J,I.columns)}),Y.applyStyles(Y.userStyles),(q.showFoot==="lastPage"||q.showFoot==="everyPage")&&I.foot.forEach(function(oe){return H(Y,I,oe,J,I.columns)})),(0,d.addTableBorder)(Y,I,ee,J),I.callEndPageHooks(Y,J),I.finalY=J.y,B.lastAutoTable=I,B.previousAutoTable=I,B.autoTable&&(B.autoTable.previous=I),Y.applyStyles(Y.userStyles)}c.drawTable=x;function g(B,I,q,F){var z=(0,m.calculateAllColumnsCanFitInPage)(B,I),J=I.settings;if(J.horizontalPageBreakBehaviour==="afterAllRows")z.forEach(function(W,Y){B.applyStyles(B.userStyles),Y>0?D(B,I,q,F,W.columns,!0):y(B,I,F,W.columns),b(B,I,q,F,W.columns),_(B,I,F,W.columns)});else for(var E=-1,V=z[0],K=function(){var W=E;if(V){B.applyStyles(B.userStyles);var Y=V.columns;E>=0?D(B,I,q,F,Y,!0):y(B,I,F,Y),W=S(B,I,E+1,F,Y),_(B,I,F,Y)}var ee=W-E;z.slice(1).forEach(function(oe){B.applyStyles(B.userStyles),D(B,I,q,F,oe.columns,!0),S(B,I,E+1,F,oe.columns,ee),_(B,I,F,oe.columns)}),E=W};E<I.body.length-1;)K()}function y(B,I,q,F){var z=I.settings;B.applyStyles(B.userStyles),(z.showHead==="firstPage"||z.showHead==="everyPage")&&I.head.forEach(function(J){return H(B,I,J,q,F)})}function b(B,I,q,F,z){B.applyStyles(B.userStyles),I.body.forEach(function(J,E){var V=E===I.body.length-1;P(B,I,J,V,q,F,z)})}function S(B,I,q,F,z,J){B.applyStyles(B.userStyles),J=J??I.body.length;var E=Math.min(q+J,I.body.length),V=-1;return I.body.slice(q,E).forEach(function(K,W){var Y=q+W===I.body.length-1,ee=U(B,I,Y,F);K.canEntireRowFit(ee,z)&&(H(B,I,K,F,z),V=q+W)}),V}function _(B,I,q,F){var z=I.settings;B.applyStyles(B.userStyles),(z.showFoot==="lastPage"||z.showFoot==="everyPage")&&I.foot.forEach(function(J){return H(B,I,J,q,F)})}function N(B,I,q){var F=q.getLineHeight(B.styles.fontSize),z=B.padding("vertical"),J=Math.floor((I-z)/F);return Math.max(0,J)}function j(B,I,q,F){var z={};B.spansMultiplePages=!0,B.height=0;for(var J=0,E=0,V=q.columns;E<V.length;E++){var K=V[E],W=B.cells[K.index];if(W){Array.isArray(W.text)||(W.text=[W.text]);var Y=new f.Cell(W.raw,W.styles,W.section);Y=(0,p.assign)(Y,W),Y.text=[];var ee=N(W,I,F);W.text.length>ee&&(Y.text=W.text.splice(ee,W.text.length));var oe=F.scaleFactor(),G=F.getLineHeightFactor();W.contentHeight=W.getContentHeight(oe,G),W.contentHeight>=I&&(W.contentHeight=I,Y.styles.minCellHeight-=I),W.contentHeight>B.height&&(B.height=W.contentHeight),Y.contentHeight=Y.getContentHeight(oe,G),Y.contentHeight>J&&(J=Y.contentHeight),z[K.index]=Y}}var se=new f.Row(B.raw,-1,B.section,z,!0);se.height=J;for(var he=0,Q=q.columns;he<Q.length;he++){var K=Q[he],Y=se.cells[K.index];Y&&(Y.height=se.height);var W=B.cells[K.index];W&&(W.height=B.height)}return se}function A(B,I,q,F){var z=B.pageSize().height,J=F.settings.margin,E=J.top+J.bottom,V=z-E;I.section==="body"&&(V-=F.getHeadHeight(F.columns)+F.getFootHeight(F.columns));var K=I.getMinimumRowHeight(F.columns,B),W=K<q;if(K>V)return console.error("Will not be able to print row ".concat(I.index," correctly since it's minimum height is larger than page height")),!0;if(!W)return!1;var Y=I.hasRowSpan(F.columns),ee=I.getMaxCellHeight(F.columns)>V;return ee?(Y&&console.error("The content of row ".concat(I.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Y||F.settings.rowPageBreak==="avoid")}function P(B,I,q,F,z,J,E){var V=U(B,I,F,J);if(q.canEntireRowFit(V,E))H(B,I,q,J,E);else if(A(B,q,V,I)){var K=j(q,V,I,B);H(B,I,q,J,E),D(B,I,z,J,E),P(B,I,K,F,z,J,E)}else D(B,I,z,J,E),P(B,I,q,F,z,J,E)}function H(B,I,q,F,z){F.x=I.settings.margin.left;for(var J=0,E=z;J<E.length;J++){var V=E[J],K=q.cells[V.index];if(!K){F.x+=V.width;continue}B.applyStyles(K.styles),K.x=F.x,K.y=F.y;var W=I.callCellHooks(B,I.hooks.willDrawCell,K,q,V,F);if(W===!1){F.x+=V.width;continue}C(B,K,F);var Y=K.getTextPos();(0,v.default)(K.text,Y.x,Y.y,{halign:K.styles.halign,valign:K.styles.valign,maxWidth:Math.ceil(K.width-K.padding("left")-K.padding("right"))},B.getDocument()),I.callCellHooks(B,I.hooks.didDrawCell,K,q,V,F),F.x+=V.width}F.y+=q.height}function C(B,I,q){var F=I.styles;if(B.getDocument().setFillColor(B.getDocument().getFillColor()),typeof F.lineWidth=="number"){var z=(0,d.getFillStyle)(F.lineWidth,F.fillColor);z&&B.rect(I.x,q.y,I.width,I.height,z)}else typeof F.lineWidth=="object"&&(F.fillColor&&B.rect(I.x,q.y,I.width,I.height,"F"),k(B,I,q,F.lineWidth))}function k(B,I,q,F){var z,J,E,V;F.top&&(z=q.x,J=q.y,E=q.x+I.width,V=q.y,F.right&&(E+=.5*F.right),F.left&&(z-=.5*F.left),K(F.top,z,J,E,V)),F.bottom&&(z=q.x,J=q.y+I.height,E=q.x+I.width,V=q.y+I.height,F.right&&(E+=.5*F.right),F.left&&(z-=.5*F.left),K(F.bottom,z,J,E,V)),F.left&&(z=q.x,J=q.y,E=q.x,V=q.y+I.height,F.top&&(J-=.5*F.top),F.bottom&&(V+=.5*F.bottom),K(F.left,z,J,E,V)),F.right&&(z=q.x+I.width,J=q.y,E=q.x+I.width,V=q.y+I.height,F.top&&(J-=.5*F.top),F.bottom&&(V+=.5*F.bottom),K(F.right,z,J,E,V));function K(W,Y,ee,oe,G){B.getDocument().setLineWidth(W),B.getDocument().line(Y,ee,oe,G,"S")}}function U(B,I,q,F){var z=I.settings.margin.bottom,J=I.settings.showFoot;return(J==="everyPage"||J==="lastPage"&&q)&&(z+=I.getFootHeight(I.columns)),B.pageSize().height-F.y-z}function D(B,I,q,F,z,J){z===void 0&&(z=[]),J===void 0&&(J=!1),B.applyStyles(B.userStyles),I.settings.showFoot==="everyPage"&&!J&&I.foot.forEach(function(V){return H(B,I,V,F,z)}),I.callEndPageHooks(B,F);var E=I.settings.margin;(0,d.addTableBorder)(B,I,q,F),M(B),I.pageNumber++,I.pageCount++,F.x=E.left,F.y=E.top,q.y=E.top,I.callWillDrawPageHooks(B,F),I.settings.showHead==="everyPage"&&(I.head.forEach(function(V){return H(B,I,V,F,z)}),B.applyStyles(B.userStyles))}c.addPage=D;function M(B){var I=B.pageNumber();B.setPage(I+1);var q=B.pageNumber();return q===I?(B.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(p,v,m){var x;m===void 0&&(m={});var g=(0,d.getPageAvailableWidth)(p,v),y=new Map,b=[],S=[],_=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?_=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(_=[v.settings.horizontalPageBreakRepeat]),_.forEach(function(P){var H=v.columns.find(function(C){return C.dataKey===P||C.index===P});H&&!y.has(H.index)&&(y.set(H.index,!0),b.push(H.index),S.push(v.columns[H.index]),g-=H.wrappedWidth)});for(var N=!0,j=(x=m==null?void 0:m.start)!==null&&x!==void 0?x:0;j<v.columns.length;){if(y.has(j)){j++;continue}var A=v.columns[j].wrappedWidth;if(N||g>=A)N=!1,b.push(j),S.push(v.columns[j]),g-=A;else break;j++}return{colIndexes:b,columns:S,lastIndex:j-1}}function h(p,v){for(var m=[],x=0;x<v.columns.length;x++){var g=f(p,v,{start:x});g.columns.length&&(m.push(g),x=g.lastIndex)}return m}c.calculateAllColumnsCanFitInPage=h},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function f(b,S){h(b,S);var _=[],N=0;S.columns.forEach(function(A){var P=A.getMaxCustomCellWidth(S);P?A.width=P:(A.width=A.wrappedWidth,_.push(A)),N+=A.width});var j=S.getWidth(b.pageSize().width)-N;j&&(j=p(_,j,function(A){return Math.max(A.minReadableWidth,A.minWidth)})),j&&(j=p(_,j,function(A){return A.minWidth})),j=Math.abs(j),!S.settings.horizontalPageBreak&&j>.1/b.scaleFactor()&&(j=j<1?j:Math.round(j),console.warn("Of the table content, ".concat(j," units width could not fit page"))),m(S),x(S,b),v(S)}c.calculateWidths=f;function h(b,S){var _=b.scaleFactor(),N=S.settings.horizontalPageBreak,j=(0,d.getPageAvailableWidth)(b,S);S.allRows().forEach(function(A){for(var P=0,H=S.columns;P<H.length;P++){var C=H[P],k=A.cells[C.index];if(k){var U=S.hooks.didParseCell;S.callCellHooks(b,U,k,A,C,null);var D=k.padding("horizontal");k.contentWidth=(0,d.getStringWidth)(k.text,k.styles,b)+D;var M=(0,d.getStringWidth)(k.text.join(" ").split(/[^\S\u00A0]+/),k.styles,b);if(k.minReadableWidth=M+k.padding("horizontal"),typeof k.styles.cellWidth=="number")k.minWidth=k.styles.cellWidth,k.wrappedWidth=k.styles.cellWidth;else if(k.styles.cellWidth==="wrap"||N===!0)k.contentWidth>j?(k.minWidth=j,k.wrappedWidth=j):(k.minWidth=k.contentWidth,k.wrappedWidth=k.contentWidth);else{var B=10/_;k.minWidth=k.styles.minCellWidth||B,k.wrappedWidth=k.contentWidth,k.minWidth>k.wrappedWidth&&(k.wrappedWidth=k.minWidth)}}}}),S.allRows().forEach(function(A){for(var P=0,H=S.columns;P<H.length;P++){var C=H[P],k=A.cells[C.index];if(k&&k.colSpan===1)C.wrappedWidth=Math.max(C.wrappedWidth,k.wrappedWidth),C.minWidth=Math.max(C.minWidth,k.minWidth),C.minReadableWidth=Math.max(C.minReadableWidth,k.minReadableWidth);else{var U=S.styles.columnStyles[C.dataKey]||S.styles.columnStyles[C.index]||{},D=U.cellWidth||U.minCellWidth;D&&typeof D=="number"&&(C.minWidth=D,C.wrappedWidth=D)}k&&(k.colSpan>1&&!C.minWidth&&(C.minWidth=k.minWidth),k.colSpan>1&&!C.wrappedWidth&&(C.wrappedWidth=k.minWidth))}})}function p(b,S,_){for(var N=S,j=b.reduce(function(B,I){return B+I.wrappedWidth},0),A=0;A<b.length;A++){var P=b[A],H=P.wrappedWidth/j,C=N*H,k=P.width+C,U=_(P),D=k<U?U:k;S-=D-P.width,P.width=D}if(S=Math.round(S*1e10)/1e10,S){var M=b.filter(function(B){return S<0?B.width>_(B):!0});M.length&&(S=p(M,S,_))}return S}c.resizeColumns=p;function v(b){for(var S={},_=1,N=b.allRows(),j=0;j<N.length;j++)for(var A=N[j],P=0,H=b.columns;P<H.length;P++){var C=H[P],k=S[C.index];if(_>1)_--,delete A.cells[C.index];else if(k)k.cell.height+=A.height,_=k.cell.colSpan,delete A.cells[C.index],k.left--,k.left<=1&&delete S[C.index];else{var U=A.cells[C.index];if(!U)continue;if(U.height=A.height,U.rowSpan>1){var D=N.length-j,M=U.rowSpan>D?D:U.rowSpan;S[C.index]={cell:U,left:M,row:A}}}}}function m(b){for(var S=b.allRows(),_=0;_<S.length;_++)for(var N=S[_],j=null,A=0,P=0,H=0;H<b.columns.length;H++){var C=b.columns[H];if(P-=1,P>1&&b.columns[H+1])A+=C.width,delete N.cells[C.index];else if(j){var k=j;delete N.cells[C.index],j=null,k.width=C.width+A}else{var k=N.cells[C.index];if(!k)continue;if(P=k.colSpan,A=0,k.colSpan>1){j=k,A+=C.width;continue}k.width=C.width+A}}}function x(b,S){for(var _={count:0,height:0},N=0,j=b.allRows();N<j.length;N++){for(var A=j[N],P=0,H=b.columns;P<H.length;P++){var C=H[P],k=A.cells[C.index];if(k){S.applyStyles(k.styles,!0);var U=k.width-k.padding("horizontal");if(k.styles.overflow==="linebreak")k.text=S.splitTextToSize(k.text,U+1/S.scaleFactor(),{fontSize:k.styles.fontSize});else if(k.styles.overflow==="ellipsize")k.text=g(k.text,U,k.styles,S,"...");else if(k.styles.overflow==="hidden")k.text=g(k.text,U,k.styles,S,"");else if(typeof k.styles.overflow=="function"){var D=k.styles.overflow(k.text,U);typeof D=="string"?k.text=[D]:k.text=D}k.contentHeight=k.getContentHeight(S.scaleFactor(),S.getLineHeightFactor());var M=k.contentHeight/k.rowSpan;k.rowSpan>1&&_.count*_.height<M*k.rowSpan?_={height:M,count:k.rowSpan}:_&&_.count>0&&_.height>M&&(M=_.height),M>A.height&&(A.height=M)}}_.count--}}function g(b,S,_,N,j){return b.map(function(A){return y(A,S,_,N,j)})}c.ellipsize=g;function y(b,S,_,N,j){var A=1e4*N.scaleFactor();if(S=Math.ceil(S*A)/A,S>=(0,d.getStringWidth)(b,_,N))return b;for(;S<(0,d.getStringWidth)(b+j,_,N)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+j}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var u=a[l]={exports:{}};return n[l].call(u.exports,u,u.exports,i),u.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),u=i(776),d=i(664),f=i(972),h=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return h.Table}});var p=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var v=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return v.Row}});function m(S){(0,c.default)(S)}l.applyPlugin=m;function x(S,_){var N=(0,u.parseInput)(S,_),j=(0,f.createTable)(S,N);(0,d.drawTable)(S,j)}function g(S,_){var N=(0,u.parseInput)(S,_);return(0,f.createTable)(S,N)}l.__createTable=g;function y(S,_){(0,d.drawTable)(S,_)}l.__drawTable=y;try{var b=i(964);b.jsPDF&&(b=b.jsPDF),m(b)}catch{}l.default=x}(),o}()})})(yBe);const gy=async(e,t,r=null,n=null)=>{try{await Ne.from("activity_logs").insert([{action:e,details:t,entity_type:r,entity_id:n}])}catch(a){console.error("Failed to log activity:",a)}},wBe=()=>{const{toast:e}=Cr(),[t,r]=O.useState(!1);O.useState("pdf");const n=async()=>{r(!0);try{const{data:l}=await Ne.from("students").select("*"),c=new Vt;c.text("Student Report",14,15);const u=l.map(d=>[d.name,d.class,d.teacher,d.father_phone||"N/A"]);c.autoTable({head:[["Name","Class","Teacher","Contact"]],body:u,startY:20}),c.save(`students_report_${new Date().toISOString().split("T")[0]}.pdf`),await gy("Generated Student Report","PDF export of all students"),e({title:"Success",description:"Report generated successfully"})}catch(l){console.error(l),e({variant:"destructive",title:"Error",description:"Failed to generate report"})}finally{r(!1)}},a=async()=>{r(!0);try{const{data:l}=await Ne.from("issues").select("*, students(name)"),c=new Vt;c.text("Issues Report",14,15);const u=l.map(d=>{var f;return[d.title,(f=d.students)==null?void 0:f.name,d.priority,d.status,new Date(d.created_at).toLocaleDateString()]});c.autoTable({head:[["Title","Student","Priority","Status","Date"]],body:u,startY:20,styles:{fontSize:8}}),c.save(`issues_report_${new Date().toISOString().split("T")[0]}.pdf`),await gy("Generated Issues Report","PDF export of all issues"),e({title:"Success",description:"Report generated successfully"})}catch{e({variant:"destructive",title:"Error",description:"Failed to generate report"})}finally{r(!1)}},i=async l=>{r(!0);try{const{data:c}=await Ne.from(l).select("*");if(!c||c.length===0){e({title:"No Data",description:"No records to export"});return}const u=Object.keys(c[0]).join(","),d=c.map(m=>Object.values(m).map(x=>`"${x}"`).join(",")),f=[u,...d].join(`
`),h=new Blob([f],{type:"text/csv"}),p=window.URL.createObjectURL(h),v=document.createElement("a");v.href=p,v.download=`${l}_export_${new Date().toISOString().split("T")[0]}.csv`,v.click(),await gy(`Exported ${l}`,"CSV export"),e({title:"Success",description:"CSV exported successfully"})}catch{e({variant:"destructive",title:"Error",description:"Export failed"})}finally{r(!1)}},o=async()=>{r(!0);try{const l=["students","issues","grades","meetings","call_logs","teacher_remarks","attendance"],c={};for(const h of l){const{data:p}=await Ne.from(h).select("*");c[h]=p}const u=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),d=window.URL.createObjectURL(u),f=document.createElement("a");f.href=d,f.download=`full_backup_${new Date().toISOString()}.json`,f.click(),await gy("System Backup","Full system JSON export"),e({title:"Backup Complete",description:"System data downloaded"})}catch{e({variant:"destructive",title:"Error",description:"Backup failed"})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Reports & Exports"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Generate insights and manage data exports"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(Ss,{size:20})," PDF Reports"]}),s.jsx(_a,{children:"Formatted documents for printing"})]}),s.jsxs(Ze,{className:"space-y-3",children:[s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:n,disabled:t,children:["All Students List ",s.jsx(Nd,{size:16})]}),s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:a,disabled:t,children:["Issues Report ",s.jsx(Nd,{size:16})]})]})]}),s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(Z$,{size:20})," Data Exports (CSV)"]}),s.jsx(_a,{children:"Raw data for analysis in Excel"})]}),s.jsxs(Ze,{className:"space-y-3",children:[s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:()=>i("students"),disabled:t,children:["Students Data ",s.jsx(Nd,{size:16})]}),s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:()=>i("grades"),disabled:t,children:["Grades Data ",s.jsx(Nd,{size:16})]}),s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:()=>i("attendance"),disabled:t,children:["Attendance Data ",s.jsx(Nd,{size:16})]})]})]}),s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(iC,{size:20})," System"]}),s.jsx(_a,{children:"Backup and maintenance"})]}),s.jsx(Ze,{className:"space-y-3",children:s.jsx(Se,{className:"w-full bg-slate-800 hover:bg-slate-700",onClick:o,disabled:t,children:"Full System Backup (JSON)"})})]})]})]})},_Be=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{const{data:i}=await Ne.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(50);t(i||[]),n(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Activity Log"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Recent system actions and audits"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b bg-slate-50 flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[s.jsx(fre,{size:18})," Recent Actions"]}),s.jsx("span",{className:"text-xs text-slate-500",children:"Last 50 records"})]}),s.jsx("div",{className:"divide-y divide-slate-100",children:e.length===0?s.jsx("div",{className:"p-8 text-center text-slate-500",children:"No activity recorded yet."}):e.map(i=>s.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-800",children:i.action}),s.jsx("p",{className:"text-sm text-slate-600",children:i.details})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"text-xs text-slate-400",children:new Date(i.created_at).toLocaleString()})})]})},i.id))})]})]})},jBe=[{value:"text",label:"Short Text",icon:jre},{value:"textarea",label:"Long Text",icon:Jte},{value:"number",label:"Number",icon:dre},{value:"date",label:"Date",icon:Cs},{value:"select",label:"Dropdown",icon:aC},{value:"checkbox",label:"Checkbox",icon:NN}],SBe=()=>{const{toast:e}=Cr(),[t,r]=O.useState([]),[n,a]=O.useState(!1),[i,o]=O.useState(null),[l,c]=O.useState({name:"",description:"",schema:[]});O.useEffect(()=>{u()},[]);const u=async()=>{const{data:x,error:g}=await Ne.from("assessment_templates").select("*").order("created_at",{ascending:!1});g||r(x||[])},d=()=>{c(x=>({...x,schema:[...x.schema,{id:crypto.randomUUID(),type:"text",label:"New Question",required:!1,options:[]}]}))},f=x=>{const g=[...l.schema];g.splice(x,1),c(y=>({...y,schema:g}))},h=(x,g,y)=>{const b=[...l.schema];b[x]={...b[x],[g]:y},c(S=>({...S,schema:b}))},p=async()=>{if(!l.name){e({variant:"destructive",title:"Error",description:"Template name is required"});return}const{error:x}=await Ne.from("assessment_templates").upsert([l]);x?e({variant:"destructive",title:"Error",description:"Failed to save template"}):(e({title:"Success",description:"Template saved successfully"}),a(!1),c({name:"",description:"",schema:[]}),u())},v=x=>{c(x),a(!0)},m=async x=>{const{error:g}=await Ne.from("assessment_templates").delete().eq("id",x);g||(e({title:"Deleted",description:"Template removed"}),o(null),u())};return n?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l.id?"Edit Template":"New Template"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(Se,{onClick:p,children:[s.jsx(pw,{className:"mr-2 h-4 w-4"})," Save Template"]})]})]}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Template Name"}),s.jsx(We,{value:l.name,onChange:x=>c(g=>({...g,name:x.target.value})),placeholder:"e.g., Weekly Gemara Assessment"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Description"}),s.jsx(We,{value:l.description,onChange:x=>c(g=>({...g,description:x.target.value})),placeholder:"Brief description of this template"})]})]})}),s.jsx("div",{className:"space-y-4",children:l.schema.map((x,g)=>{var y;return s.jsxs(Qe,{className:"relative group",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-slate-300 rounded-l-lg group-hover:bg-blue-500 transition-colors"}),s.jsxs(Ze,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"flex items-center gap-2 text-slate-400",children:s.jsxs("span",{className:"text-xs font-mono",children:["#",g+1]})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-600",onClick:()=>f(g),children:s.jsx(Qa,{size:16})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[s.jsxs("div",{className:"md:col-span-6",children:[s.jsx(ye,{children:"Field Label / Question"}),s.jsx(We,{value:x.label,onChange:b=>h(g,"label",b.target.value),placeholder:"Enter question here..."})]}),s.jsxs("div",{className:"md:col-span-4",children:[s.jsx(ye,{children:"Field Type"}),s.jsxs(bt,{value:x.type,onValueChange:b=>h(g,"type",b),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:jBe.map(b=>s.jsx(Ie,{value:b.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b.icon,{size:14})," ",b.label]})},b.value))})]})]}),s.jsx("div",{className:"md:col-span-2 flex items-center pt-6",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[s.jsx("input",{type:"checkbox",checked:x.required,onChange:b=>h(g,"required",b.target.checked),className:"rounded border-slate-300"}),"Required"]})}),x.type==="select"&&s.jsxs("div",{className:"md:col-span-12 bg-slate-50 p-3 rounded-md",children:[s.jsx(ye,{className:"text-xs text-slate-500",children:"Options (comma separated)"}),s.jsx(We,{value:((y=x.options)==null?void 0:y.join(", "))||"",onChange:b=>h(g,"options",b.target.value.split(",").map(S=>S.trim())),placeholder:"Option 1, Option 2, Option 3"})]})]})]})]},x.id)})}),s.jsxs(Se,{variant:"outline",className:"w-full py-8 border-dashed",onClick:d,children:[s.jsx(on,{className:"mr-2 h-4 w-4"})," Add Field"]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Assessment Templates"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Create and manage custom evaluation forms"})]}),s.jsxs(Se,{onClick:()=>a(!0),children:[s.jsx(on,{className:"mr-2 h-4 w-4"})," Create New Template"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(x=>{var g;return s.jsxs(Qe,{className:"hover:shadow-lg transition-all",children:[s.jsxs(er,{children:[s.jsx(tr,{children:x.name}),s.jsx("p",{className:"text-sm text-slate-500",children:x.description||"No description"})]}),s.jsx(Ze,{children:s.jsxs("p",{className:"text-xs text-slate-400",children:[((g=x.schema)==null?void 0:g.length)||0," fields configured"]})}),s.jsxs(ev,{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"outline",size:"sm",onClick:()=>v(x),children:"Edit"}),i===x.id?s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{size:"sm",variant:"destructive",onClick:()=>m(x.id),children:"Confirm"}),s.jsx(Se,{size:"sm",variant:"outline",onClick:()=>o(null),children:"Cancel"})]}):s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>o(x.id),children:"Delete"})]})]},x.id)}),t.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-slate-400 bg-slate-50 rounded-lg border-2 border-dashed",children:"No templates found. Create one to get started."})]})]})},NBe=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(!0),[p,v]=O.useState(!1),[m,x]=O.useState(null),[g,y]=O.useState({name:"",grade_id:"",hebrew_teacher_id:"",english_teacher_id:"",academic_year:"2024-2025",is_active:!0}),[b,S]=O.useState(!1),[_,N]=O.useState(null),[j,A]=O.useState(""),[P,H]=O.useState(!1);O.useEffect(()=>{C()},[]);const C=async()=>{h(!0);try{const{data:J,error:E}=await Ne.from("classes").select(`
          *,
          grade:grades(id, name, grade_number),
          hebrew_teacher:app_users!hebrew_teacher_id(id, first_name, last_name),
          english_teacher:app_users!english_teacher_id(id, first_name, last_name),
          students:students!class_id(id)
        `).order("name");if(E)throw E;const V=(J||[]).map(se=>{var he;return{...se,student_count:((he=se.students)==null?void 0:he.length)||0}});a(V);const{data:K,error:W}=await Ne.from("grades").select("*").order("grade_number");if(W)throw W;o(K||[]);const{data:Y,error:ee}=await Ne.from("app_users").select("id, first_name, last_name, role").in("role",["teacher_hebrew","teacher_english","teacher","admin","principal","principal_hebrew","principal_english"]).eq("is_active",!0).order("last_name");if(ee)throw ee;c(Y||[]);const{data:oe,error:G}=await Ne.from("staff_members").select("*").eq("is_active",!0).order("last_name");G||(d(oe||[]),console.log("Staff loaded:",oe==null?void 0:oe.length,"members"))}catch(J){console.error("Error loading data:",J),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{h(!1)}},k=(J=null)=>{J?(x(J),y({name:J.name||"",grade_id:J.grade_id||"",hebrew_teacher_id:J.hebrew_teacher_id||"",english_teacher_id:J.english_teacher_id||"",academic_year:J.academic_year||"2024-2025",is_active:J.is_active!==!1})):(x(null),y({name:"",grade_id:"",hebrew_teacher_id:"",english_teacher_id:"",academic_year:"2024-2025",is_active:!0})),v(!0)},U=async()=>{if(!g.name||!g.grade_id){r({variant:"destructive",title:"Error",description:"Please fill in class name and grade"});return}try{const J={name:g.name,grade_id:g.grade_id,hebrew_teacher_id:g.hebrew_teacher_id||null,english_teacher_id:g.english_teacher_id||null,academic_year:g.academic_year,is_active:g.is_active};if(m){const{error:E}=await Ne.from("classes").update(J).eq("id",m.id);if(E)throw E;r({title:"Success",description:"Class updated"})}else{const{error:E}=await Ne.from("classes").insert([J]);if(E)throw E;r({title:"Success",description:"Class created"})}v(!1),C()}catch(J){console.error("Error saving class:",J),r({variant:"destructive",title:"Error",description:"Failed to save class"})}},D=async J=>{if(confirm("Are you sure you want to delete this class? Students will be unassigned."))try{const{error:E}=await Ne.from("classes").delete().eq("id",J);if(E)throw E;r({title:"Success",description:"Class deleted"}),C()}catch(E){console.error("Error deleting class:",E),r({variant:"destructive",title:"Error",description:"Failed to delete class"})}},M=J=>{N(J),A(""),S(!0)},B=J=>{if(!(J!=null&&J.grade))return[];const E=J.grade.grade_number,V=i.find(K=>K.grade_number===E+1);return V?n.filter(K=>K.grade_id===V.id):[]},I=async()=>{if(!_||!j){r({variant:"destructive",title:"Error",description:"Please select a target class"});return}H(!0);try{const{data:J,error:E}=await Ne.from("students").select("id").eq("class_id",_.id);if(E)throw E;if(!J||J.length===0){r({variant:"destructive",title:"No Students",description:"No students to promote in this class"}),H(!1);return}const{error:V}=await Ne.from("students").update({class_id:j,previous_class_id:_.id,promoted_at:new Date().toISOString(),promoted_by:t==null?void 0:t.id}).eq("class_id",_.id);if(V)throw V;r({title:"Success",description:`${J.length} students promoted to new class`}),S(!1),C()}catch(J){console.error("Error promoting students:",J),r({variant:"destructive",title:"Error",description:"Failed to promote students"})}finally{H(!1)}},q=u.filter(J=>["Melamed","Melamed / Driver","Menahal","Sgan Menahal","Principal","Chinuch Mychud"].includes(J.position)),F=u.filter(J=>["English Teacher","Principal","Menahal","Sgan Menahal","Curriculum Implementer"].includes(J.position)),z=i.map(J=>({...J,classes:n.filter(E=>E.grade_id===J.id)}));return f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Classes Management"}),s.jsx("p",{className:"text-slate-500",children:"Manage classes and assign teachers"})]}),s.jsxs(Se,{onClick:()=>k(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Class"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(h0,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Classes"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((J,E)=>J+E.student_count,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Students"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(nC,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Grade Levels"})]})]})})]}),s.jsx("div",{className:"space-y-6",children:z.map(J=>s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:J.name}),s.jsxs(Ft,{variant:"outline",children:[J.classes.length," classes"]})]})}),s.jsx(Ze,{children:J.classes.length===0?s.jsx("p",{className:"text-slate-400 text-sm italic py-4",children:"No classes in this grade yet"}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Class Name"}),s.jsx(lt,{children:"Hebrew Teacher"}),s.jsx(lt,{children:"English Teacher"}),s.jsx(lt,{className:"text-center",children:"Students"}),s.jsx(lt,{className:"text-center",children:"Year"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsx($a,{children:J.classes.map(E=>{var V,K,W,Y;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-semibold",children:E.name}),s.jsx(it,{children:E.hebrew_teacher?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"h-7 w-7 rounded-full bg-blue-100 flex items-center justify-center text-xs text-blue-700 font-medium",children:[(V=E.hebrew_teacher.first_name)==null?void 0:V.charAt(0),(K=E.hebrew_teacher.last_name)==null?void 0:K.charAt(0)]}),s.jsxs("span",{className:"text-sm",children:[E.hebrew_teacher.first_name," ",E.hebrew_teacher.last_name]})]}):s.jsx("span",{className:"text-slate-400 text-sm",children:"Not assigned"})}),s.jsx(it,{children:E.english_teacher?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"h-7 w-7 rounded-full bg-green-100 flex items-center justify-center text-xs text-green-700 font-medium",children:[(W=E.english_teacher.first_name)==null?void 0:W.charAt(0),(Y=E.english_teacher.last_name)==null?void 0:Y.charAt(0)]}),s.jsxs("span",{className:"text-sm",children:[E.english_teacher.first_name," ",E.english_teacher.last_name]})]}):s.jsx("span",{className:"text-slate-400 text-sm",children:"Not assigned"})}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:"secondary",children:E.student_count})}),s.jsx(it,{className:"text-center text-sm text-slate-500",children:E.academic_year}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"ghost",size:"sm",className:"text-purple-600",onClick:()=>M(E),title:"Promote students to next grade",children:s.jsx(V5,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>k(E),children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>D(E.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},E.id)})})]})})]},J.id))}),i.length===0&&s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-12 text-center text-slate-500",children:[s.jsx(h0,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No grades defined yet"}),s.jsx("p",{className:"text-sm",children:"Please create grade levels first in the Grades section"})]})}),s.jsx(ur,{open:p,onOpenChange:v,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:m?"Edit Class":"Add New Class"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Class Name *"}),s.jsx(We,{value:g.name,onChange:J=>y({...g,name:J.target.value}),placeholder:"e.g., 1A, 2B"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Grade *"}),s.jsxs(bt,{value:g.grade_id,onValueChange:J=>y({...g,grade_id:J}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select grade"})}),s.jsx(yt,{children:i.map(J=>s.jsx(Ie,{value:J.id,children:J.name},J.id))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ye,{children:["Hebrew Teacher (",q.length," available)"]}),s.jsxs(bt,{value:g.hebrew_teacher_id||"none",onValueChange:J=>y({...g,hebrew_teacher_id:J==="none"?"":J}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select Hebrew teacher"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"none",children:"Not assigned"}),q.length===0?s.jsx(Ie,{value:"no-teachers",disabled:!0,children:"No Hebrew teachers in staff"}):q.map(J=>s.jsxs(Ie,{value:J.id,children:[J.first_name," ",J.last_name," (",J.position,")"]},J.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ye,{children:["English Teacher (",F.length," available)"]}),s.jsxs(bt,{value:g.english_teacher_id||"none",onValueChange:J=>y({...g,english_teacher_id:J==="none"?"":J}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select English teacher"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"none",children:"Not assigned"}),F.length===0?s.jsx(Ie,{value:"no-teachers",disabled:!0,children:"No English teachers in staff"}):F.map(J=>s.jsxs(Ie,{value:J.id,children:[J.first_name," ",J.last_name," (",J.position,")"]},J.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Academic Year"}),s.jsxs(bt,{value:g.academic_year,onValueChange:J=>y({...g,academic_year:J}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"2024-2025",children:"2024-2025"}),s.jsx(Ie,{value:"2025-2026",children:"2025-2026"})]})]})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(Se,{onClick:U,className:"bg-blue-600 hover:bg-blue-700",children:m?"Update":"Create Class"})]})]})}),s.jsx(ur,{open:b,onOpenChange:S,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsxs(dr,{children:[s.jsxs(fr,{className:"flex items-center gap-2",children:[s.jsx(V5,{className:"h-5 w-5 text-purple-600"}),"Promote Students"]}),s.jsxs(Lu,{children:["Move all students from ",_==null?void 0:_.name," to the next grade level"]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsxs("p",{className:"text-sm text-purple-800",children:[s.jsx("strong",{children:"Current Class:"})," ",_==null?void 0:_.name]}),s.jsxs("p",{className:"text-sm text-purple-800",children:[s.jsx("strong",{children:"Students to promote:"})," ",(_==null?void 0:_.student_count)||0]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Select Target Class (Next Grade)"}),s.jsxs(bt,{value:j,onValueChange:A,children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Choose next year's class"})}),s.jsx(yt,{children:B(_).map(J=>{var E;return s.jsxs(Ie,{value:J.id,children:[J.name," (",(E=J.grade)==null?void 0:E.name,") - ",J.student_count," students"]},J.id)})})]}),_&&B(_).length===0&&s.jsx("p",{className:"text-sm text-amber-600",children:"No classes found in the next grade. This may be the highest grade."})]}),s.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-amber-800",children:[s.jsx("strong",{children:" Warning:"})," This will move ALL students from ",_==null?void 0:_.name," to the selected class. This action is typically done at the end of the school year."]})})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),s.jsx(Se,{onClick:I,className:"bg-purple-600 hover:bg-purple-700",disabled:!j||P,children:P?s.jsxs(s.Fragment,{children:[s.jsx(iC,{className:"h-4 w-4 mr-2 animate-spin"}),"Promoting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(V5,{className:"h-4 w-4 mr-2"}),"Promote Students"]})})]})]})})]})};var ABe="Separator",_M="horizontal",TBe=["horizontal","vertical"],pK=O.forwardRef((e,t)=>{const{decorative:r,orientation:n=_M,...a}=e,i=CBe(n)?n:_M,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(_r.div,{"data-orientation":i,...l,...a,ref:t})});pK.displayName=ABe;function CBe(e){return TBe.includes(e)}var mK=pK;const EBe=O.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(mK,{ref:a,decorative:r,orientation:t,className:yr("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));EBe.displayName=mK.displayName;const kBe=()=>{const[e,t]=O.useState(!0),[r,n]=O.useState(!1),[a,i]=O.useState({name:"",address:"",phone:"",email:"",website:""}),[o,l]=O.useState({current:"",terms:[]}),{toast:c}=Cr();O.useEffect(()=>{u()},[]);const u=async()=>{var f,h;try{t(!0);const{data:p,error:v}=await Ne.from("system_settings").select("*");if(v)throw v;if(p){const m=((f=p.find(g=>g.key==="school_info"))==null?void 0:f.value)||{},x=((h=p.find(g=>g.key==="academic_year"))==null?void 0:h.value)||{};i({name:m.name||"",address:m.address||"",phone:m.phone||"",email:m.email||"",website:m.website||""}),l({current:x.current||"2024-2025",terms:x.terms||["Fall","Spring"]})}}catch(p){console.error("Error fetching settings:",p),c({variant:"destructive",title:"Error",description:"Failed to load system settings."})}finally{t(!1)}},d=async()=>{n(!0);try{const{error:f}=await Ne.from("system_settings").upsert({key:"school_info",value:a,description:"General school information"});if(f)throw f;c({title:"Settings Saved",description:"School information has been updated successfully."})}catch(f){c({variant:"destructive",title:"Save Failed",description:f.message})}finally{n(!1)}};return e?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(In,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto pb-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"System Settings"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage global configuration for the school system"})]}),s.jsxs(kl,{defaultValue:"general",className:"w-full",children:[s.jsxs(Xo,{className:"mb-4",children:[s.jsxs(wr,{value:"general",className:"flex items-center gap-2",children:[s.jsx(h0,{className:"w-4 h-4"})," General Info"]}),s.jsxs(wr,{value:"academic",className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"w-4 h-4"})," Academic Year"]}),s.jsxs(wr,{value:"appearance",className:"flex items-center gap-2",children:[s.jsx(tO,{className:"w-4 h-4"})," Appearance"]})]}),s.jsx(Qr,{value:"general",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"School Information"}),s.jsx(_a,{children:"These details will appear on reports, headers, and official communications."})]}),s.jsxs(Ze,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"schoolName",children:"School Name"}),s.jsx(We,{id:"schoolName",value:a.name,onChange:f=>i({...a,name:f.target.value}),placeholder:"e.g. Beis Yaakov Academy"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"address",children:"Address"}),s.jsx(We,{id:"address",value:a.address,onChange:f=>i({...a,address:f.target.value}),placeholder:"123 Education Lane"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"phone",children:"Phone Number"}),s.jsx(We,{id:"phone",value:a.phone,onChange:f=>i({...a,phone:f.target.value}),placeholder:"(555) 123-4567"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"email",children:"Contact Email"}),s.jsx(We,{id:"email",type:"email",value:a.email,onChange:f=>i({...a,email:f.target.value}),placeholder:"office@school.edu"})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"website",children:"Website"}),s.jsxs("div",{className:"relative",children:[s.jsx(cre,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),s.jsx(We,{id:"website",className:"pl-9",value:a.website,onChange:f=>i({...a,website:f.target.value}),placeholder:"www.school.edu"})]})]})]}),s.jsx(ev,{className:"flex justify-end border-t p-6 bg-slate-50 rounded-b-lg",children:s.jsxs(Se,{onClick:d,disabled:r,children:[r?s.jsx(In,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(pw,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})}),s.jsx(Qr,{value:"academic",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Academic Configuration"}),s.jsx(_a,{children:"Configure the current school year and terms."})]}),s.jsxs(Ze,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"year",children:"Current Academic Year"}),s.jsx(We,{id:"year",value:o.current,onChange:f=>l({...o,current:f.target.value}),placeholder:"2024-2025"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{children:"Active Terms"}),s.jsx("div",{className:"text-sm text-slate-500 italic",children:"Term management functionality coming soon in the next update."})]})]}),s.jsx(ev,{className:"flex justify-end border-t p-6 bg-slate-50 rounded-b-lg",children:s.jsx(Se,{disabled:!0,variant:"outline",children:"Save Configuration (Coming Soon)"})})]})}),s.jsx(Qr,{value:"appearance",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"System Appearance"}),s.jsx(_a,{children:"Customize the look and feel of the application."})]}),s.jsx(Ze,{children:s.jsxs("div",{className:"p-8 text-center text-slate-500 bg-slate-50 rounded-lg border border-dashed border-slate-200",children:[s.jsx(tO,{className:"mx-auto h-12 w-12 text-slate-300 mb-2"}),s.jsx("p",{children:"Theme customization features are currently under development."})]})})]})})]})]})},vy=[{value:"principal",label:"Principal (General)",color:"bg-purple-100 text-purple-800 border-purple-200"},{value:"principal_hebrew",label:"Principal Hebrew",color:"bg-purple-100 text-purple-800 border-purple-200"},{value:"principal_english",label:"Principal English",color:"bg-purple-100 text-purple-800 border-purple-200"},{value:"admin",label:"Admin",color:"bg-red-100 text-red-800 border-red-200"},{value:"teacher",label:"Teacher (General)",color:"bg-blue-100 text-blue-800 border-blue-200"},{value:"teacher_hebrew",label:"Teacher Hebrew",color:"bg-blue-100 text-blue-800 border-blue-200"},{value:"teacher_english",label:"Teacher English",color:"bg-blue-100 text-blue-800 border-blue-200"},{value:"tutor",label:"Tutor",color:"bg-green-100 text-green-800 border-green-200"},{value:"special_ed",label:"Special Education",color:"bg-orange-100 text-orange-800 border-orange-200"}],PBe=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(!0),[a,i]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(null),[d,f]=O.useState(""),[h,p]=O.useState({email:"",password:"",name:"",role:"teacher",assigned_class:""}),[v,m]=O.useState(!1),[x,g]=O.useState(!1),[y,b]=O.useState(null),{toast:S}=Cr(),{user:_}=lw();O.useEffect(()=>{N()},[]);const N=async()=>{var D;try{n(!0);const{data:M,error:B}=await Ne.from("app_users").select("*").order("email",{ascending:!0});if(B)throw B;let I=M||[];if(_&&I.length===0||_&&!I.find(q=>q.id===_.id))try{const{error:q}=await Ne.from("app_users").upsert({id:_.id,email:_.email,name:((D=_.user_metadata)==null?void 0:D.name)||_.email,role:"principal"},{onConflict:"id"});if(!q){const{data:F}=await Ne.from("app_users").select("*").order("email",{ascending:!0});I=F||I}}catch(q){console.error("Auto-register current user failed:",q)}t(I)}catch(M){console.error("Error fetching users:",M),S({variant:"destructive",title:"Error",description:"Failed to load users list."})}finally{n(!1)}},j=async D=>{var M;D.preventDefault(),m(!0);try{const B=await fetch("/api/create-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email,password:h.password,name:h.name,role:h.role,assigned_class:h.assigned_class||null})}),I=await B.json();if(!B.ok)throw new Error(I.error||"Failed to create user");I.warning?S({variant:"destructive",title:"Partial Success",description:I.warning}):S({title:"User Created",description:`Account for ${h.email} has been created with role: ${((M=vy.find(q=>q.value===h.role))==null?void 0:M.label)||h.role}.`}),i(!1),p({email:"",password:"",name:"",role:"teacher",assigned_class:""}),N()}catch(B){S({variant:"destructive",title:"Creation Failed",description:B.message})}finally{m(!1)}},A=async()=>{if(c){g(!0);try{const D=await fetch("/api/update-user-role",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:c.id,role:c.role,assigned_class:c.assigned_class||null})}),M=await D.json();if(!D.ok)throw new Error(M.error||"Failed to update role");S({title:"Role Updated",description:`${c.name||c.email}'s role updated to ${c.role}`}),l(!1),u(null),N()}catch(D){S({variant:"destructive",title:"Update Failed",description:D.message})}finally{g(!1)}}},P=D=>{u({...D}),l(!0)},H=async D=>{if(window.confirm("Are you sure? This will remove the user's access."))try{const{error:M}=await Ne.from("app_users").delete().eq("id",D);if(M)throw M;S({title:"User Removed",description:"The user has been deleted from the system."}),N()}catch{S({variant:"destructive",title:"Error",description:"Could not delete user."})}},C=async D=>{if(window.confirm(`Send password reset email to ${D.email}?`)){b(D.id);try{const{error:M}=await Ne.auth.resetPasswordForEmail(D.email,{redirectTo:window.location.origin+"/reset-password"});if(M)throw M;S({title:"Email Sent",description:`Password reset instructions sent to ${D.email}`})}catch(M){S({variant:"destructive",title:"Error",description:M.message})}finally{b(null)}}},k=D=>{const M=vy.find(B=>B.value===D);return M?s.jsx(Ft,{className:M.color,children:M.label}):s.jsx(Ft,{className:"bg-gray-100 text-gray-800",children:D?D.toUpperCase():"UNKNOWN"})},U=e.filter(D=>{if(!d)return!0;const M=d.toLowerCase();return(D.name||"").toLowerCase().includes(M)||(D.email||"").toLowerCase().includes(M)||(D.role||"").toLowerCase().includes(M)});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"User Management"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage principals, teachers, tutors, and system access"})]}),s.jsxs(Se,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(rB,{className:"mr-2 h-4 w-4"})," Add New User"]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-2",children:s.jsx(tr,{className:"text-sm font-medium text-slate-500",children:"Total Users"})}),s.jsx(Ze,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-2",children:s.jsx(tr,{className:"text-sm font-medium text-slate-500",children:"Principals & Admins"})}),s.jsx(Ze,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(D=>["admin","principal","principal_hebrew","principal_english"].includes(D.role)).length})})]}),s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-2",children:s.jsx(tr,{className:"text-sm font-medium text-slate-500",children:"Teachers & Tutors"})}),s.jsx(Ze,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(D=>["teacher","teacher_hebrew","teacher_english","tutor","special_ed"].includes(D.role)).length})})]})]}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search by name, email, or role...",value:d,onChange:D=>f(D.target.value),className:"pl-10"})]})})}),s.jsxs(Qe,{className:"shadow-sm",children:[s.jsxs(er,{children:[s.jsx(tr,{children:"All System Users"}),s.jsx(_a,{children:"View and manage all registered accounts. Click Edit to change roles."})]}),s.jsx(Ze,{children:r?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(In,{className:"animate-spin h-8 w-8 text-blue-500"})}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"User"}),s.jsx(lt,{children:"Role"}),s.jsx(lt,{children:"Assignments"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsxs($a,{children:[U.map(D=>s.jsxs(xr,{children:[s.jsx(it,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-slate-800",children:D.name||"Unknown Name"}),s.jsx("span",{className:"text-xs text-slate-500",children:D.email})]})}),s.jsx(it,{children:k(D.role)}),s.jsx(it,{children:D.assigned_class?s.jsx(Ft,{variant:"outline",className:"text-xs",children:D.assigned_class}):s.jsx("span",{className:"text-slate-400 text-xs",children:"-"})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>P(D),title:"Edit Role",children:s.jsx(ha,{className:"h-4 w-4 text-blue-500"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>C(D),disabled:y===D.id,title:"Send Password Reset Email",children:y===D.id?s.jsx(In,{className:"h-4 w-4 animate-spin"}):s.jsx(jN,{className:"h-4 w-4 text-slate-500"})}),(_==null?void 0:_.id)!==D.id&&s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>H(D.id),className:"text-slate-400 hover:text-red-600",children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},D.id)),U.length===0&&s.jsx(xr,{children:s.jsx(it,{colSpan:4,className:"text-center py-8 text-slate-500",children:"No users found."})})]})]})})]}),s.jsx(ur,{open:a,onOpenChange:i,children:s.jsxs(ir,{className:"sm:max-w-[425px]",children:[s.jsxs(dr,{children:[s.jsx(fr,{children:"Create New User"}),s.jsx(Lu,{children:"Add a new user to the system. They will be able to log in with the email and password you set."})]}),s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"name",children:"Full Name"}),s.jsx(We,{id:"name",value:h.name,onChange:D=>p({...h,name:D.target.value}),placeholder:"e.g. Rabbi Cohen",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"email",children:"Email"}),s.jsx(We,{id:"email",type:"email",value:h.email,onChange:D=>p({...h,email:D.target.value}),placeholder:"email@school.edu",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"password",children:"Password"}),s.jsx(We,{id:"password",type:"password",value:h.password,onChange:D=>p({...h,password:D.target.value}),placeholder:"",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"role",children:"Role"}),s.jsxs(bt,{value:h.role,onValueChange:D=>p({...h,role:D}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select role"})}),s.jsx(yt,{children:vy.map(D=>s.jsx(Ie,{value:D.value,children:D.label},D.value))})]})]}),["teacher","teacher_hebrew","teacher_english","tutor","special_ed"].includes(h.role)&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"class",children:"Assigned Class (Optional)"}),s.jsx(We,{id:"class",value:h.assigned_class,onChange:D=>p({...h,assigned_class:D.target.value}),placeholder:"e.g. Grade 5"})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(Se,{type:"submit",disabled:v,children:v?s.jsx(In,{className:"mr-2 h-4 w-4 animate-spin"}):"Create User"})]})]})]})}),s.jsx(ur,{open:o,onOpenChange:l,children:s.jsxs(ir,{className:"sm:max-w-[400px]",children:[s.jsxs(dr,{children:[s.jsx(fr,{children:"Edit User Role"}),s.jsxs(Lu,{children:["Change role and class assignment for ",(c==null?void 0:c.name)||"this user","."]})]}),c&&s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{children:"Current User"}),s.jsxs("div",{className:"text-sm text-slate-600",children:[c.name,"  ",c.email]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"editRole",children:"Role"}),s.jsxs(bt,{value:c.role||"",onValueChange:D=>u({...c,role:D}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select role"})}),s.jsx(yt,{children:vy.map(D=>s.jsx(Ie,{value:D.value,children:D.label},D.value))})]})]}),["teacher","teacher_hebrew","teacher_english","tutor","special_ed"].includes(c.role)&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"editClass",children:"Assigned Class (Optional)"}),s.jsx(We,{id:"editClass",value:c.assigned_class||"",onChange:D=>u({...c,assigned_class:D.target.value}),placeholder:"e.g. Grade 5"})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(Se,{onClick:A,disabled:x,children:x?s.jsx(In,{className:"mr-2 h-4 w-4 animate-spin"}):"Save Changes"})]})]})})]})},jM=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!1),[f,h]=O.useState(null),[p,v]=O.useState("list"),[m,x]=O.useState(!0),[g,y]=O.useState({title:"",description:"",student_id:"",meeting_type:"parent_teacher",scheduled_date:"",scheduled_time:"",duration_minutes:30,location:"",participant_ids:[],notes:""});O.useEffect(()=>{_(),b(),S()},[]);const b=async()=>{const{data:I}=await Ne.from("students").select("id, first_name, last_name, class:classes!class_id(name)").eq("is_active",!0).order("last_name");o(I||[])},S=async()=>{const{data:I}=await Ne.from("app_users").select("id, first_name, last_name, role").eq("is_active",!0).in("role",["teacher_hebrew","teacher_english","principal_hebrew","principal_english","principal_curriculum","tutor","admin"]).order("last_name");c(I||[])},_=async()=>{x(!0);try{const{data:I,error:q}=await Ne.from("meetings").select(`
          *,
          student:students(id, first_name, last_name, class:classes!class_id(name)),
          organizer:app_users!organizer_id(id, first_name, last_name),
          meeting_participants(
            id,
            participant:app_users(id, first_name, last_name, role)
          )
        `).order("scheduled_date",{ascending:!0});if(q)throw q;a(I||[])}catch(I){console.error("Error loading meetings:",I),r({variant:"destructive",title:"Error",description:"Failed to load meetings"})}finally{x(!1)}},N=(I=null)=>{var q;if(I){h(I);const F=I.scheduled_date?new Date(I.scheduled_date):new Date;y({title:I.title||"",description:I.description||"",student_id:I.student_id||"",meeting_type:I.meeting_type||"parent_teacher",scheduled_date:F.toISOString().split("T")[0],scheduled_time:F.toTimeString().slice(0,5),duration_minutes:I.duration_minutes||30,location:I.location||"",participant_ids:((q=I.meeting_participants)==null?void 0:q.map(z=>{var J;return(J=z.participant)==null?void 0:J.id}).filter(Boolean))||[],notes:I.notes||""})}else h(null),y({title:"",description:"",student_id:"",meeting_type:"parent_teacher",scheduled_date:new Date().toISOString().split("T")[0],scheduled_time:"09:00",duration_minutes:30,location:"",participant_ids:[],notes:""});d(!0)},j=async()=>{if(!g.title||!g.scheduled_date){r({variant:"destructive",title:"Error",description:"Title and date are required"});return}try{const I=new Date(`${g.scheduled_date}T${g.scheduled_time||"00:00"}`),q={title:g.title,description:g.description||null,student_id:g.student_id||null,organizer_id:t==null?void 0:t.id,meeting_type:g.meeting_type,scheduled_date:I.toISOString(),duration_minutes:g.duration_minutes,location:g.location||null,notes:g.notes||null,status:"scheduled"};let F;if(f){const{error:z}=await Ne.from("meetings").update(q).eq("id",f.id);if(z)throw z;F=f.id,await Ne.from("meeting_participants").delete().eq("meeting_id",F)}else{const{data:z,error:J}=await Ne.from("meetings").insert([q]).select().single();if(J)throw J;F=z.id}if(g.participant_ids.length>0){const z=g.participant_ids.map(J=>({meeting_id:F,participant_id:J}));await Ne.from("meeting_participants").insert(z)}r({title:"Success",description:f?"Meeting updated":"Meeting scheduled"}),d(!1),_()}catch(I){console.error("Error saving meeting:",I),r({variant:"destructive",title:"Error",description:"Failed to save meeting"})}},A=async I=>{if(window.confirm("Are you sure you want to delete this meeting?"))try{await Ne.from("meeting_participants").delete().eq("meeting_id",I);const{error:q}=await Ne.from("meetings").delete().eq("id",I);if(q)throw q;r({title:"Success",description:"Meeting deleted"}),_()}catch{r({variant:"destructive",title:"Error",description:"Failed to delete meeting"})}},P=async(I,q)=>{try{const{error:F}=await Ne.from("meetings").update({status:q}).eq("id",I.id);if(F)throw F;r({title:"Status Updated",description:`Meeting marked as ${q}.`}),_()}catch{r({variant:"destructive",title:"Error",description:"Failed to update status"})}},H=I=>{y(q=>({...q,participant_ids:q.participant_ids.includes(I)?q.participant_ids.filter(F=>F!==I):[...q.participant_ids,I]}))},C=I=>new Date(I)<new Date,k=I=>{switch(I){case"completed":return s.jsx(Ft,{className:"bg-green-100 text-green-800 border-green-200",children:"Completed"});case"cancelled":return s.jsx(Ft,{className:"bg-red-100 text-red-800 border-red-200",children:"Cancelled"});default:return s.jsx(Ft,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Scheduled"})}},U=I=>{const q={parent_teacher:{label:"Parent-Teacher",color:"bg-purple-100 text-purple-700"},iep:{label:"IEP",color:"bg-orange-100 text-orange-700"},disciplinary:{label:"Disciplinary",color:"bg-red-100 text-red-700"},progress:{label:"Progress",color:"bg-blue-100 text-blue-700"},other:{label:"Other",color:"bg-slate-100 text-slate-700"}},F=q[I]||q.other;return s.jsx(Ft,{className:F.color,children:F.label})},D=n.filter(I=>I.status==="scheduled"&&!C(I.scheduled_date)).length,M=n.filter(I=>I.status==="scheduled"&&C(I.scheduled_date)).length,B=n.filter(I=>I.status==="completed").length;return m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Meetings & Calendar"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Schedule and manage meetings"})]}),s.jsxs(Se,{onClick:()=>N(),className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700",children:[s.jsx(on,{size:20,className:"mr-2"}),"Schedule Meeting"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Cs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:D}),s.jsx("p",{className:"text-sm text-slate-500",children:"Upcoming"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(Qs,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:M}),s.jsx("p",{className:"text-sm text-slate-500",children:"Overdue"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Li,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:B}),s.jsx("p",{className:"text-sm text-slate-500",children:"Completed"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Meetings"})]})]})})]}),s.jsxs(kl,{value:p,onValueChange:v,className:"w-full",children:[s.jsxs(Xo,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(wr,{value:"list",className:"flex items-center gap-2",children:[s.jsx(aC,{size:16}),"List View"]}),s.jsxs(wr,{value:"calendar",className:"flex items-center gap-2",children:[s.jsx(Cs,{size:16}),"Calendar View"]})]}),s.jsx(Qr,{value:"calendar",className:"mt-6",children:s.jsx(v$e,{})}),s.jsx(Qr,{value:"list",className:"mt-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Date & Time"}),s.jsx(lt,{children:"Title"}),s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Type"}),s.jsx(lt,{children:"Participants"}),s.jsx(lt,{children:"Status"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsxs($a,{children:[n.map(I=>{var z,J,E;const q=C(I.scheduled_date),F=new Date(I.scheduled_date);return s.jsxs(xr,{className:q&&I.status==="scheduled"?"bg-red-50/50":"",children:[s.jsx(it,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-slate-800",children:F.toLocaleDateString()}),s.jsxs("span",{className:"text-xs text-slate-500",children:[F.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," (",I.duration_minutes,"m)"]})]})}),s.jsxs(it,{children:[s.jsx("div",{className:"font-medium",children:I.title}),I.location&&s.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[s.jsx(eB,{size:10})," ",I.location]})]}),s.jsx(it,{children:I.student?s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[I.student.first_name," ",I.student.last_name]}),s.jsx("div",{className:"text-xs text-slate-500",children:(z=I.student.class)==null?void 0:z.name})]}):"-"}),s.jsx(it,{children:U(I.meeting_type)}),s.jsx(it,{children:s.jsxs("div",{className:"flex -space-x-2",children:[(J=I.meeting_participants)==null?void 0:J.slice(0,3).map((V,K)=>{var W,Y,ee,oe,G,se;return s.jsxs("div",{className:"h-7 w-7 rounded-full bg-indigo-100 flex items-center justify-center text-xs text-indigo-700 font-medium border-2 border-white",title:`${(W=V.participant)==null?void 0:W.first_name} ${(Y=V.participant)==null?void 0:Y.last_name}`,children:[(oe=(ee=V.participant)==null?void 0:ee.first_name)==null?void 0:oe.charAt(0),(se=(G=V.participant)==null?void 0:G.last_name)==null?void 0:se.charAt(0)]},K)}),((E=I.meeting_participants)==null?void 0:E.length)>3&&s.jsxs("div",{className:"h-7 w-7 rounded-full bg-slate-200 flex items-center justify-center text-xs text-slate-600 font-medium border-2 border-white",children:["+",I.meeting_participants.length-3]})]})}),s.jsx(it,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[k(I.status),q&&I.status==="scheduled"&&s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Overdue"})]})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[I.status==="scheduled"&&s.jsx(Se,{variant:"ghost",size:"icon",className:"text-green-600 hover:text-green-700 hover:bg-green-50",title:"Mark Completed",onClick:()=>P(I,"completed"),children:s.jsx(Li,{size:16})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>N(I),children:s.jsx(ha,{size:16})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>A(I.id),className:"hover:text-red-600",children:s.jsx(Qa,{size:16})})]})})]},I.id)}),n.length===0&&s.jsx(xr,{children:s.jsx(it,{colSpan:7,className:"text-center py-12 text-slate-500",children:"No meetings scheduled."})})]})]})})})]}),s.jsx(ur,{open:u,onOpenChange:d,children:s.jsxs(ir,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(fr,{children:f?"Edit Meeting":"Schedule New Meeting"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Title *"}),s.jsx(We,{value:g.title,onChange:I=>y({...g,title:I.target.value}),placeholder:"Meeting title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Date *"}),s.jsx(We,{type:"date",value:g.scheduled_date,onChange:I=>y({...g,scheduled_date:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Time"}),s.jsx(We,{type:"time",value:g.scheduled_time,onChange:I=>y({...g,scheduled_time:I.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Duration (minutes)"}),s.jsxs(bt,{value:String(g.duration_minutes),onValueChange:I=>y({...g,duration_minutes:parseInt(I)}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"15",children:"15 min"}),s.jsx(Ie,{value:"30",children:"30 min"}),s.jsx(Ie,{value:"45",children:"45 min"}),s.jsx(Ie,{value:"60",children:"60 min"}),s.jsx(Ie,{value:"90",children:"90 min"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Meeting Type"}),s.jsxs(bt,{value:g.meeting_type,onValueChange:I=>y({...g,meeting_type:I}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"parent_teacher",children:"Parent-Teacher"}),s.jsx(Ie,{value:"iep",children:"IEP Meeting"}),s.jsx(Ie,{value:"disciplinary",children:"Disciplinary"}),s.jsx(Ie,{value:"progress",children:"Progress Review"}),s.jsx(Ie,{value:"other",children:"Other"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Student (optional)"}),s.jsxs(bt,{value:g.student_id||"none",onValueChange:I=>y({...g,student_id:I==="none"?null:I}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select student"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"none",children:"No specific student"}),i.map(I=>{var q;return s.jsxs(Ie,{value:I.id,children:[I.first_name," ",I.last_name," ",(q=I.class)!=null&&q.name?`(${I.class.name})`:""]},I.id)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Location"}),s.jsx(We,{value:g.location,onChange:I=>y({...g,location:I.target.value}),placeholder:"e.g., Principal's Office, Room 101"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Participants"}),s.jsx("div",{className:"border rounded-md p-3 max-h-32 overflow-y-auto bg-slate-50 grid grid-cols-2 gap-2",children:l.map(I=>s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer hover:bg-slate-100 p-1.5 rounded",children:[s.jsx("input",{type:"checkbox",checked:g.participant_ids.includes(I.id),onChange:()=>H(I.id),className:"rounded border-slate-300"}),I.first_name," ",I.last_name]},I.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Description"}),s.jsx(kr,{value:g.description,onChange:I=>y({...g,description:I.target.value}),rows:2,placeholder:"Meeting agenda or description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Notes"}),s.jsx(kr,{value:g.notes,onChange:I=>y({...g,notes:I.target.value}),rows:2,placeholder:"Additional notes"})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(Se,{onClick:j,className:"bg-indigo-600 hover:bg-indigo-700",children:f?"Update Meeting":"Schedule Meeting"})]})]})})]})},OBe=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,d]=O.useState(null),[f,h]=O.useState({name:"",grade_number:"",description:""});O.useEffect(()=>{p()},[]);const p=async()=>{o(!0);try{const{data:g,error:y}=await Ne.from("grades").select(`
          *,
          classes:classes(id),
          grade_book_requirements:grade_book_requirements(id)
        `).order("grade_number",{ascending:!0});if(y)throw y;const b=(g||[]).map(S=>{var _,N;return{...S,class_count:((_=S.classes)==null?void 0:_.length)||0,book_count:((N=S.grade_book_requirements)==null?void 0:N.length)||0}});a(b)}catch(g){console.error("Error loading grades:",g),r({variant:"destructive",title:"Error",description:"Failed to load grades"})}finally{o(!1)}},v=(g=null)=>{var y;g?(d(g),h({name:g.name||"",grade_number:((y=g.grade_number)==null?void 0:y.toString())||"",description:g.description||""})):(d(null),h({name:"",grade_number:"",description:""})),c(!0)},m=async()=>{if(!f.name||!f.grade_number){r({variant:"destructive",title:"Error",description:"Please fill in required fields"});return}try{const g={name:f.name,grade_number:parseInt(f.grade_number),description:f.description||null};if(u){const{error:y}=await Ne.from("grades").update(g).eq("id",u.id);if(y)throw y;r({title:"Success",description:"Grade updated successfully"})}else{const{error:y}=await Ne.from("grades").insert([g]);if(y)throw y;r({title:"Success",description:"Grade created successfully"})}c(!1),p()}catch(g){console.error("Error saving grade:",g),r({variant:"destructive",title:"Error",description:"Failed to save grade"})}},x=async g=>{if(confirm("Are you sure you want to delete this grade? This will also affect all associated classes."))try{const{error:y}=await Ne.from("grades").delete().eq("id",g);if(y)throw y;r({title:"Success",description:"Grade deleted successfully"}),p()}catch(y){console.error("Error deleting grade:",y),r({variant:"destructive",title:"Error",description:"Failed to delete grade. Make sure no classes are assigned."})}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Grade Levels"}),s.jsx("p",{className:"text-slate-500",children:"Manage grade levels for your school"})]}),s.jsxs(Se,{onClick:()=>v(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Grade"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(SN,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Grades"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((g,y)=>g+y.class_count,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Classes"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(d0,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((g,y)=>g+y.book_count,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"Book Requirements"})]})]})})]}),s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"All Grades"}),s.jsx(_a,{children:"Click on a grade to edit or view details"})]}),s.jsx(Ze,{children:n.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(SN,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No grades yet"}),s.jsx("p",{className:"text-sm",children:'Click "Add Grade" to create your first grade level'})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Grade #"}),s.jsx(lt,{children:"Name"}),s.jsx(lt,{children:"Description"}),s.jsx(lt,{className:"text-center",children:"Classes"}),s.jsx(lt,{className:"text-center",children:"Books"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsx($a,{children:n.map(g=>s.jsxs(xr,{className:"cursor-pointer hover:bg-slate-50",children:[s.jsx(it,{className:"font-medium",children:g.grade_number}),s.jsx(it,{className:"font-semibold",children:g.name}),s.jsx(it,{className:"text-slate-500",children:g.description||"-"}),s.jsx(it,{className:"text-center",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[g.class_count," classes"]})}),s.jsx(it,{className:"text-center",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[g.book_count," books"]})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>v(g),children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>x(g.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},g.id))})]})})]}),s.jsx(ur,{open:l,onOpenChange:c,children:s.jsxs(ir,{children:[s.jsx(dr,{children:s.jsx(fr,{children:u?"Edit Grade":"Add New Grade"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"grade_number",children:"Grade Number *"}),s.jsx(We,{id:"grade_number",type:"number",min:"1",placeholder:"1",value:f.grade_number,onChange:g=>h({...f,grade_number:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"name",children:"Name *"}),s.jsx(We,{id:"name",placeholder:"e.g., 1st Grade",value:f.name,onChange:g=>h({...f,name:g.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"description",children:"Description"}),s.jsx(kr,{id:"description",placeholder:"Optional description for this grade level",value:f.description,onChange:g=>h({...f,description:g.target.value})})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Se,{onClick:m,className:"bg-blue-600 hover:bg-blue-700",children:u?"Update":"Create"})]})]})})]})},FBe=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState(!0),[m,x]=O.useState(""),[g,y]=O.useState("all"),[b,S]=O.useState(!1),[_,N]=O.useState(null),[j,A]=O.useState({title:"",subtitle:"",author:"",isbn:"",publisher:"",category:"textbook",subject:"",price:"",quantity_in_stock:"0",reorder_threshold:"10"}),[P,H]=O.useState(!1),[C,k]=O.useState(null),[U,D]=O.useState([]),[M,B]=O.useState("2024-2025"),[I,q]=O.useState(!1),[F,z]=O.useState(null),[J,E]=O.useState([]),V=[{value:"textbook",label:"Textbook"},{value:"workbook",label:"Workbook"},{value:"hebrew",label:"Hebrew"},{value:"english",label:"English"},{value:"math",label:"Math"},{value:"science",label:"Science"},{value:"other",label:"Other"}],K=[{value:"hebrew",label:"Hebrew"},{value:"english",label:"English"},{value:"math",label:"Math"},{value:"science",label:"Science"},{value:"history",label:"History"},{value:"chumash",label:"Chumash"},{value:"gemara",label:"Gemara"},{value:"mishnayos",label:"Mishnayos"},{value:"other",label:"Other"}];O.useEffect(()=>{W()},[]);const W=async()=>{v(!0);try{const{data:ge,error:de}=await Ne.from("books").select("*").order("title");de||a(ge||[]);const{data:ze,error:Ke}=await Ne.from("grades").select("*").order("grade_number");Ke||o(ze||[]);try{const{data:St,error:Et}=await Ne.from("grade_book_requirements").select(`
            *,
            grade:grades(id, name),
            book:books(id, title, price)
          `);Et||d(St||[])}catch{console.log("grade_book_requirements table may not exist yet")}const{data:ft,error:_t}=await Ne.from("classes").select("*, grade:grades(id, name)").order("name");_t||c(ft||[]);try{const{data:St,error:Et}=await Ne.from("class_book_requirements").select(`
            *,
            class:classes!class_id(id, name),
            book:books(id, title, price)
          `);Et||h(St||[])}catch{console.log("class_book_requirements table may not exist yet")}}catch(ge){console.error("Error loading data:",ge)}finally{v(!1)}},Y=n.filter(ge=>{const de=ge.title.toLowerCase().includes(m.toLowerCase())||ge.author&&ge.author.toLowerCase().includes(m.toLowerCase()),ze=g==="all"||ge.category===g;return de&&ze}),ee=n.filter(ge=>ge.quantity_in_stock<=ge.reorder_threshold),oe=(ge=null)=>{var de,ze,Ke;ge?(N(ge),A({title:ge.title||"",subtitle:ge.subtitle||"",author:ge.author||"",isbn:ge.isbn||"",publisher:ge.publisher||"",category:ge.category||"textbook",subject:ge.subject||"",price:((de=ge.price)==null?void 0:de.toString())||"",quantity_in_stock:((ze=ge.quantity_in_stock)==null?void 0:ze.toString())||"0",reorder_threshold:((Ke=ge.reorder_threshold)==null?void 0:Ke.toString())||"10"})):(N(null),A({title:"",subtitle:"",author:"",isbn:"",publisher:"",category:"textbook",subject:"",price:"",quantity_in_stock:"0",reorder_threshold:"10"})),S(!0)},G=async()=>{if(!j.title||!j.price){r({variant:"destructive",title:"Error",description:"Please fill in title and price"});return}try{const ge={title:j.title,subtitle:j.subtitle||null,author:j.author||null,isbn:j.isbn||null,publisher:j.publisher||null,category:j.category,subject:j.subject||null,price:parseFloat(j.price),quantity_in_stock:parseInt(j.quantity_in_stock)||0,reorder_threshold:parseInt(j.reorder_threshold)||10};if(_){const{error:de}=await Ne.from("books").update(ge).eq("id",_.id);if(de)throw de;r({title:"Success",description:"Book updated successfully"})}else{const{error:de}=await Ne.from("books").insert([ge]);if(de)throw de;r({title:"Success",description:"Book added successfully"})}S(!1),W()}catch(ge){console.error("Error saving book:",ge),r({variant:"destructive",title:"Error",description:"Failed to save book"})}},se=async ge=>{if(confirm("Are you sure you want to delete this book?"))try{const{error:de}=await Ne.from("books").delete().eq("id",ge);if(de)throw de;r({title:"Success",description:"Book deleted"}),W()}catch(de){console.error("Error deleting book:",de),r({variant:"destructive",title:"Error",description:"Failed to delete book"})}},he=ge=>{k(ge);const de=u.filter(ze=>ze.grade_id===ge.id&&ze.academic_year===M).map(ze=>ze.book_id);D(de),H(!0)},Q=ge=>{D(de=>de.includes(ge)?de.filter(ze=>ze!==ge):[...de,ge])},Pe=async()=>{if(C)try{const{error:ge}=await Ne.from("grade_book_requirements").delete().eq("grade_id",C.id).eq("academic_year",M);if(ge)throw ge;if(U.length>0){const de=U.map(Ke=>({grade_id:C.id,book_id:Ke,academic_year:M,is_required:!0})),{error:ze}=await Ne.from("grade_book_requirements").insert(de);if(ze)throw ze}r({title:"Success",description:"Book requirements updated"}),H(!1),W()}catch(ge){console.error("Error saving requirements:",ge),r({variant:"destructive",title:"Error",description:"Failed to save requirements"})}},De=ge=>u.filter(de=>de.grade_id===ge&&de.academic_year===M).map(de=>de.book),je=ge=>u.filter(de=>de.grade_id===ge&&de.academic_year===M).reduce((de,ze)=>{var Ke;return de+(((Ke=ze.book)==null?void 0:Ke.price)||0)},0),Z=ge=>{z(ge);const de=f.filter(ze=>ze.class_id===ge.id&&ze.academic_year===M).map(ze=>ze.book_id);E(de),q(!0)},ke=ge=>{E(de=>de.includes(ge)?de.filter(ze=>ze!==ge):[...de,ge])},Ge=async()=>{if(F)try{const{error:ge}=await Ne.from("class_book_requirements").delete().eq("class_id",F.id).eq("academic_year",M);if(ge)throw ge;if(J.length>0){const de=J.map(Ke=>({class_id:F.id,book_id:Ke,academic_year:M,is_required:!0})),{error:ze}=await Ne.from("class_book_requirements").insert(de);if(ze)throw ze}r({title:"Success",description:"Class book requirements updated"}),q(!1),W()}catch(ge){console.error("Error saving class requirements:",ge),r({variant:"destructive",title:"Error",description:"Failed to save class requirements"})}},Le=ge=>f.filter(de=>de.class_id===ge&&de.academic_year===M).map(de=>de.book),qe=ge=>f.filter(de=>de.class_id===ge&&de.academic_year===M).reduce((de,ze)=>{var Ke;return de+(((Ke=ze.book)==null?void 0:Ke.price)||0)},0);return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Books Management"}),s.jsx("p",{className:"text-slate-500",children:"Manage book inventory and grade requirements"})]}),s.jsxs(Se,{onClick:()=>oe(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Book"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(J$,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Books"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(eO,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((ge,de)=>ge+de.quantity_in_stock,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"In Stock"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(qh,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:ee.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Low Stock"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",n.reduce((ge,de)=>ge+(de.price||0)*(de.quantity_in_stock||0),0).toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Inventory Value"})]})]})})]}),s.jsxs(kl,{defaultValue:"catalog",className:"space-y-4",children:[s.jsxs(Xo,{children:[s.jsx(wr,{value:"catalog",children:"Book Catalog"}),s.jsx(wr,{value:"class-requirements",children:"Class Requirements"}),s.jsx(wr,{value:"requirements",children:"Grade Requirements"}),s.jsxs(wr,{value:"lowstock",children:["Low Stock (",ee.length,")"]})]}),s.jsx(Qr,{value:"catalog",children:s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Book Catalog"}),s.jsx(_a,{children:"All books in your inventory"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search books...",value:m,onChange:ge=>x(ge.target.value),className:"pl-10 w-64"})]}),s.jsxs(bt,{value:g,onValueChange:y,children:[s.jsx(xt,{className:"w-40",children:s.jsx(wt,{placeholder:"Category"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Categories"}),V.map(ge=>s.jsx(Ie,{value:ge.value,children:ge.label},ge.value))]})]})]})]})}),s.jsx(Ze,{children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Title"}),s.jsx(lt,{children:"Category"}),s.jsx(lt,{children:"Subject"}),s.jsx(lt,{className:"text-right",children:"Price"}),s.jsx(lt,{className:"text-center",children:"Stock"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsx($a,{children:Y.map(ge=>s.jsxs(xr,{children:[s.jsx(it,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:ge.title}),ge.author&&s.jsx("p",{className:"text-sm text-slate-500",children:ge.author})]})}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",children:ge.category})}),s.jsx(it,{children:ge.subject||"-"}),s.jsxs(it,{className:"text-right font-medium",children:["$",(ge.price||0).toFixed(2)]}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:ge.quantity_in_stock<=ge.reorder_threshold?"destructive":"secondary",children:ge.quantity_in_stock})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>oe(ge),children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>se(ge.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},ge.id))})]})})]})}),s.jsx(Qr,{value:"class-requirements",children:s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Class Book Requirements"}),s.jsx(_a,{children:"Set specific books for each class"})]}),s.jsxs(bt,{value:M,onValueChange:B,children:[s.jsx(xt,{className:"w-40",children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"2024-2025",children:"2024-2025"}),s.jsx(Ie,{value:"2025-2026",children:"2025-2026"})]})]})]})}),s.jsx(Ze,{children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(h0,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No classes found. Please add classes first."})]}):s.jsx("div",{className:"grid gap-4",children:l.map(ge=>{var Ke;const de=Le(ge.id),ze=qe(ge.id);return s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(h0,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:ge.name}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(Ke=ge.grade)==null?void 0:Ke.name,"  ",de.length," books  Total: $",(ze||0).toFixed(2)]})]})]}),s.jsxs(Se,{variant:"outline",onClick:()=>Z(ge),children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Edit Books"]})]}),de.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(ft=>{var _t;return ft&&s.jsxs(Ft,{variant:"secondary",className:"text-sm",children:[ft.title," - $",(_t=ft.price)==null?void 0:_t.toFixed(2)]},ft.id)})}):s.jsx("p",{className:"text-sm text-slate-400 italic",children:"No books assigned yet - will use grade defaults"})]},ge.id)})})})]})}),s.jsx(Qr,{value:"requirements",children:s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Grade Book Requirements"}),s.jsx(_a,{children:"Set which books each grade needs"})]}),s.jsxs(bt,{value:M,onValueChange:B,children:[s.jsx(xt,{className:"w-40",children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"2024-2025",children:"2024-2025"}),s.jsx(Ie,{value:"2025-2026",children:"2025-2026"})]})]})]})}),s.jsx(Ze,{children:s.jsx("div",{className:"grid gap-4",children:i.map(ge=>{const de=De(ge.id),ze=je(ge.id);return s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:ge.name}),s.jsxs("p",{className:"text-sm text-slate-500",children:[de.length," books  Total: $",(ze||0).toFixed(2)]})]}),s.jsxs(Se,{variant:"outline",onClick:()=>he(ge),children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Edit Books"]})]}),de.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(Ke=>{var ft;return Ke&&s.jsxs(Ft,{variant:"secondary",className:"text-sm",children:[Ke.title," - $",(ft=Ke.price)==null?void 0:ft.toFixed(2)]},Ke.id)})}):s.jsx("p",{className:"text-sm text-slate-400 italic",children:"No books assigned yet"})]},ge.id)})})})]})}),s.jsx(Qr,{value:"lowstock",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{className:"text-yellow-700",children:"Low Stock Alert"}),s.jsx(_a,{children:"Books that need to be reordered"})]}),s.jsx(Ze,{children:ee.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(eO,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"All books are well stocked!"})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Book"}),s.jsx(lt,{className:"text-center",children:"Current Stock"}),s.jsx(lt,{className:"text-center",children:"Reorder At"}),s.jsx(lt,{className:"text-right",children:"Price"})]})}),s.jsx($a,{children:ee.map(ge=>s.jsxs(xr,{className:"bg-yellow-50",children:[s.jsx(it,{className:"font-semibold",children:ge.title}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:"destructive",children:ge.quantity_in_stock})}),s.jsx(it,{className:"text-center",children:ge.reorder_threshold}),s.jsxs(it,{className:"text-right",children:["$",(ge.price||0).toFixed(2)]})]},ge.id))})]})})]})})]}),s.jsx(ur,{open:b,onOpenChange:S,children:s.jsxs(ir,{className:"max-w-2xl",children:[s.jsx(dr,{children:s.jsx(fr,{children:_?"Edit Book":"Add New Book"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(ye,{children:"Title *"}),s.jsx(We,{value:j.title,onChange:ge=>A({...j,title:ge.target.value}),placeholder:"Book title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Author"}),s.jsx(We,{value:j.author,onChange:ge=>A({...j,author:ge.target.value}),placeholder:"Author name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Publisher"}),s.jsx(We,{value:j.publisher,onChange:ge=>A({...j,publisher:ge.target.value}),placeholder:"Publisher"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Category"}),s.jsxs(bt,{value:j.category,onValueChange:ge=>A({...j,category:ge}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:V.map(ge=>s.jsx(Ie,{value:ge.value,children:ge.label},ge.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Subject"}),s.jsxs(bt,{value:j.subject,onValueChange:ge=>A({...j,subject:ge}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select subject"})}),s.jsx(yt,{children:K.map(ge=>s.jsx(Ie,{value:ge.value,children:ge.label},ge.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Price *"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:j.price,onChange:ge=>A({...j,price:ge.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"ISBN"}),s.jsx(We,{value:j.isbn,onChange:ge=>A({...j,isbn:ge.target.value}),placeholder:"ISBN number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Quantity in Stock"}),s.jsx(We,{type:"number",min:"0",value:j.quantity_in_stock,onChange:ge=>A({...j,quantity_in_stock:ge.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Reorder Threshold"}),s.jsx(We,{type:"number",min:"0",value:j.reorder_threshold,onChange:ge=>A({...j,reorder_threshold:ge.target.value})})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),s.jsx(Se,{onClick:G,className:"bg-blue-600 hover:bg-blue-700",children:_?"Update":"Add Book"})]})]})}),s.jsx(ur,{open:P,onOpenChange:H,children:s.jsxs(ir,{className:"max-w-2xl max-h-[80vh]",children:[s.jsx(dr,{children:s.jsxs(fr,{children:[C==null?void 0:C.name," - Book Requirements"]})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Select the books required for ",C==null?void 0:C.name," (",M,")"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:n.map(ge=>s.jsx("div",{onClick:()=>Q(ge.id),className:`p-3 border rounded-lg cursor-pointer transition-colors ${U.includes(ge.id)?"bg-blue-50 border-blue-300":"hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ge.title}),s.jsxs("p",{className:"text-sm text-slate-500",children:[ge.category,"  ",ge.subject]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",(ge.price||0).toFixed(2)]}),U.includes(ge.id)&&s.jsx(Ft,{className:"bg-blue-600",children:"Selected"})]})]})},ge.id))}),s.jsx("div",{className:"mt-4 p-3 bg-slate-100 rounded-lg",children:s.jsxs("p",{className:"font-medium",children:["Total: ",U.length," books  $",n.filter(ge=>U.includes(ge.id)).reduce((ge,de)=>ge+de.price,0).toFixed(2)]})})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),s.jsx(Se,{onClick:Pe,className:"bg-blue-600 hover:bg-blue-700",children:"Save Requirements"})]})]})}),s.jsx(ur,{open:I,onOpenChange:q,children:s.jsxs(ir,{className:"max-w-2xl max-h-[80vh]",children:[s.jsx(dr,{children:s.jsxs(fr,{children:[F==null?void 0:F.name," - Book Requirements"]})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Select the books required for class ",F==null?void 0:F.name," (",M,")"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:n.map(ge=>s.jsx("div",{onClick:()=>ke(ge.id),className:`p-3 border rounded-lg cursor-pointer transition-colors ${J.includes(ge.id)?"bg-blue-50 border-blue-300":"hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ge.title}),s.jsxs("p",{className:"text-sm text-slate-500",children:[ge.category,"  ",ge.subject]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",(ge.price||0).toFixed(2)]}),J.includes(ge.id)&&s.jsx(Ft,{className:"bg-blue-600",children:"Selected"})]})]})},ge.id))}),s.jsx("div",{className:"mt-4 p-3 bg-slate-100 rounded-lg",children:s.jsxs("p",{className:"font-medium",children:["Total: ",J.length," books  $",n.filter(ge=>J.includes(ge.id)).reduce((ge,de)=>ge+de.price,0).toFixed(2)]})})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),s.jsx(Se,{onClick:Ge,className:"bg-blue-600 hover:bg-blue-700",children:"Save Class Requirements"})]})]})})]})},DBe=({role:e,currentUser:t})=>{var Y,ee,oe;const{toast:r}=Cr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(!0),[p,v]=O.useState(!1),[m,x]=O.useState(null),[g,y]=O.useState({name:"",description:"",fee_type_id:"",amount:"",scope:"school_wide",grade_id:"",class_id:"",due_date:"",academic_year:"2024-2025"}),[b,S]=O.useState(!1),[_,N]=O.useState({name:"",description:"",category:"other",default_amount:""}),[j,A]=O.useState(!1),[P,H]=O.useState(null),[C,k]=O.useState(!1),U=[{value:"trip",label:"Trip",icon:Wh},{value:"event",label:"Event",icon:xre},{value:"supplies",label:"Supplies",icon:d0},{value:"books",label:"Books",icon:d0},{value:"other",label:"Other",icon:gs}],D=[{value:"school_wide",label:"School Wide (All Students)"},{value:"grade_specific",label:"Grade Specific"},{value:"class_specific",label:"Class Specific"}];O.useEffect(()=>{M()},[]);const M=async()=>{h(!0);try{const{data:G,error:se}=await Ne.from("fees").select(`
          *,
          fee_type:fee_types(id, name, category),
          grade:grades(id, name),
          class:classes!class_id(id, name),
          student_fees:student_fees(id, status, amount, amount_paid)
        `).order("created_at",{ascending:!1});if(se)throw se;const he=(G||[]).map(Ge=>{const Le=Ge.student_fees||[];return{...Ge,total_students:Le.length,paid_count:Le.filter(qe=>qe.status==="paid").length,partial_count:Le.filter(qe=>qe.status==="partial").length,pending_count:Le.filter(qe=>qe.status==="pending").length,total_expected:Le.reduce((qe,ge)=>qe+ge.amount,0),total_collected:Le.reduce((qe,ge)=>qe+ge.amount_paid,0)}});a(he);const{data:Q,error:Pe}=await Ne.from("fee_types").select("*").order("name");if(Pe)throw Pe;o(Q||[]);const{data:De,error:je}=await Ne.from("grades").select("*").order("grade_number");if(je)throw je;c(De||[]);const{data:Z,error:ke}=await Ne.from("classes").select("*, grade:grades(name)").order("name");if(ke)throw ke;d(Z||[])}catch(G){console.error("Error loading data:",G),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{h(!1)}},B=(G=null)=>{var se;G?(x(G),y({name:G.name||"",description:G.description||"",fee_type_id:G.fee_type_id||"",amount:((se=G.amount)==null?void 0:se.toString())||"",scope:G.scope||"school_wide",grade_id:G.grade_id||"",class_id:G.class_id||"",due_date:G.due_date||"",academic_year:G.academic_year||"2024-2025"})):(x(null),y({name:"",description:"",fee_type_id:"",amount:"",scope:"school_wide",grade_id:"",class_id:"",due_date:"",academic_year:"2024-2025"})),v(!0)},I=async()=>{if(!g.name||!g.amount){r({variant:"destructive",title:"Error",description:"Please fill in name and amount"});return}try{const G={name:g.name,description:g.description||null,fee_type_id:g.fee_type_id||null,amount:parseFloat(g.amount),scope:g.scope,grade_id:g.scope==="grade_specific"?g.grade_id:null,class_id:g.scope==="class_specific"?g.class_id:null,due_date:g.due_date||null,academic_year:g.academic_year};if(m){const{error:se}=await Ne.from("fees").update(G).eq("id",m.id);if(se)throw se;r({title:"Success",description:"Fee updated successfully"})}else{const{error:se}=await Ne.from("fees").insert([G]);if(se)throw se;r({title:"Success",description:"Fee created successfully"})}v(!1),M()}catch(G){console.error("Error saving fee:",G),r({variant:"destructive",title:"Error",description:"Failed to save fee"})}},q=async G=>{if(confirm("Are you sure you want to delete this fee? This will also remove all student assignments."))try{const{error:se}=await Ne.from("fees").delete().eq("id",G);if(se)throw se;r({title:"Success",description:"Fee deleted"}),M()}catch(se){console.error("Error deleting fee:",se),r({variant:"destructive",title:"Error",description:"Failed to delete fee"})}},F=async()=>{if(!_.name){r({variant:"destructive",title:"Error",description:"Please enter a name"});return}try{const{error:G}=await Ne.from("fee_types").insert([{name:_.name,description:_.description||null,category:_.category,default_amount:_.default_amount?parseFloat(_.default_amount):null}]);if(G)throw G;r({title:"Success",description:"Fee type created"}),S(!1),N({name:"",description:"",category:"other",default_amount:""}),M()}catch(G){console.error("Error saving fee type:",G),r({variant:"destructive",title:"Error",description:"Failed to save fee type"})}},z=G=>{H(G),A(!0)},J=async()=>{if(P){k(!0);try{let G=Ne.from("students").select("id, class_id").eq("status","active");if(P.scope==="grade_specific"&&P.grade_id){const{data:De}=await Ne.from("classes").select("id").eq("grade_id",P.grade_id),je=(De==null?void 0:De.map(Z=>Z.id))||[];je.length>0&&(G=G.in("class_id",je))}else P.scope==="class_specific"&&P.class_id&&(G=G.eq("class_id",P.class_id));const{data:se,error:he}=await G;if(he)throw he;if(!se||se.length===0){r({variant:"destructive",title:"Error",description:"No students found for this scope"});return}const Q=se.map(De=>({student_id:De.id,fee_id:P.id,amount:P.amount,status:"pending"})),{error:Pe}=await Ne.from("student_fees").upsert(Q,{onConflict:"student_id,fee_id",ignoreDuplicates:!0});if(Pe)throw Pe;r({title:"Success",description:`Fee assigned to ${se.length} students`}),A(!1),M()}catch(G){console.error("Error assigning fee:",G),r({variant:"destructive",title:"Error",description:"Failed to assign fee"})}finally{k(!1)}}},E=G=>{const se=U.find(he=>he.value===G);return(se==null?void 0:se.icon)||gs};if(f)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const V=n.reduce((G,se)=>G+(se.total_expected||0),0),K=n.reduce((G,se)=>G+(se.total_collected||0),0),W=n.filter(G=>G.status==="active");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Fees & Trips"}),s.jsx("p",{className:"text-slate-500",children:"Manage school fees, trips, and events"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:()=>S(!0),children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Fee Type"]}),s.jsxs(Se,{onClick:()=>B(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Create Fee"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:W.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Active Fees"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",K.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Collected"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",(V-K).toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Outstanding"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(K/(V||1)*100),"%"]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Collection Rate"})]})]})})]}),s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"All Fees"}),s.jsx(_a,{children:"Manage and track fee collection"})]}),s.jsx(Ze,{children:n.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(gs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No fees created yet"}),s.jsx("p",{className:"text-sm",children:'Click "Create Fee" to add a new fee or trip'})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Fee Name"}),s.jsx(lt,{children:"Scope"}),s.jsx(lt,{className:"text-right",children:"Amount"}),s.jsx(lt,{className:"text-center",children:"Students"}),s.jsx(lt,{className:"text-center",children:"Collection"}),s.jsx(lt,{children:"Due Date"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsx($a,{children:n.map(G=>{var Q,Pe,De;const se=E((Q=G.fee_type)==null?void 0:Q.category),he=G.total_expected>0?Math.round(G.total_collected/G.total_expected*100):0;return s.jsxs(xr,{children:[s.jsx(it,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:s.jsx(se,{className:"h-4 w-4 text-slate-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:G.name}),G.description&&s.jsx("p",{className:"text-sm text-slate-500 truncate max-w-xs",children:G.description})]})]})}),s.jsx(it,{children:s.jsxs(Ft,{variant:"outline",children:[G.scope==="school_wide"&&"All Students",G.scope==="grade_specific"&&((Pe=G.grade)==null?void 0:Pe.name),G.scope==="class_specific"&&((De=G.class)==null?void 0:De.name)]})}),s.jsxs(it,{className:"text-right font-medium",children:["$",(G.amount||0).toFixed(2)]}),s.jsx(it,{className:"text-center",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-green-600 font-medium",children:G.paid_count}),s.jsx("span",{className:"text-slate-400",children:" / "}),s.jsx("span",{children:G.total_students})]})}),s.jsx(it,{className:"text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("div",{className:"w-20 h-2 bg-slate-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${he}%`}})}),s.jsxs("span",{className:"text-sm font-medium",children:[he,"%"]})]})}),s.jsx(it,{children:G.due_date?new Date(G.due_date).toLocaleDateString():"-"}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>z(G),title:"Assign to students",children:s.jsx(bre,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>B(G),children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>q(G.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},G.id)})})]})})]}),s.jsx(ur,{open:p,onOpenChange:v,children:s.jsxs(ir,{className:"max-w-2xl",children:[s.jsx(dr,{children:s.jsx(fr,{children:m?"Edit Fee":"Create New Fee"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(ye,{children:"Name *"}),s.jsx(We,{value:g.name,onChange:G=>y({...g,name:G.target.value}),placeholder:"e.g., End of Year Trip"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(ye,{children:"Description"}),s.jsx(kr,{value:g.description,onChange:G=>y({...g,description:G.target.value}),placeholder:"Details about this fee"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Fee Type"}),s.jsxs(bt,{value:g.fee_type_id,onValueChange:G=>y({...g,fee_type_id:G}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select type"})}),s.jsx(yt,{children:i.map(G=>s.jsx(Ie,{value:G.id,children:G.name},G.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Amount *"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:g.amount,onChange:G=>y({...g,amount:G.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Scope *"}),s.jsxs(bt,{value:g.scope,onValueChange:G=>y({...g,scope:G,grade_id:"",class_id:""}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:D.map(G=>s.jsx(Ie,{value:G.value,children:G.label},G.value))})]})]}),g.scope==="grade_specific"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Grade"}),s.jsxs(bt,{value:g.grade_id,onValueChange:G=>y({...g,grade_id:G}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select grade"})}),s.jsx(yt,{children:l.map(G=>s.jsx(Ie,{value:G.id,children:G.name},G.id))})]})]}),g.scope==="class_specific"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Class"}),s.jsxs(bt,{value:g.class_id,onValueChange:G=>y({...g,class_id:G}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select class"})}),s.jsx(yt,{children:u.map(G=>{var se;return s.jsxs(Ie,{value:G.id,children:[G.name," (",(se=G.grade)==null?void 0:se.name,")"]},G.id)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Due Date"}),s.jsx(We,{type:"date",value:g.due_date,onChange:G=>y({...g,due_date:G.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Academic Year"}),s.jsxs(bt,{value:g.academic_year,onValueChange:G=>y({...g,academic_year:G}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"2024-2025",children:"2024-2025"}),s.jsx(Ie,{value:"2025-2026",children:"2025-2026"})]})]})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(Se,{onClick:I,className:"bg-blue-600 hover:bg-blue-700",children:m?"Update":"Create Fee"})]})]})}),s.jsx(ur,{open:b,onOpenChange:S,children:s.jsxs(ir,{children:[s.jsx(dr,{children:s.jsx(fr,{children:"Create Fee Type"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Name *"}),s.jsx(We,{value:_.name,onChange:G=>N({..._,name:G.target.value}),placeholder:"e.g., Annual Trip"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Category"}),s.jsxs(bt,{value:_.category,onValueChange:G=>N({..._,category:G}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:U.map(G=>s.jsx(Ie,{value:G.value,children:G.label},G.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Default Amount"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:_.default_amount,onChange:G=>N({..._,default_amount:G.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Description"}),s.jsx(kr,{value:_.description,onChange:G=>N({..._,description:G.target.value}),placeholder:"Description of this fee type"})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),s.jsx(Se,{onClick:F,className:"bg-blue-600 hover:bg-blue-700",children:"Create Type"})]})]})}),s.jsx(ur,{open:j,onOpenChange:A,children:s.jsxs(ir,{children:[s.jsx(dr,{children:s.jsx(fr,{children:"Assign Fee to Students"})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["This will assign ",s.jsx("strong",{children:P==null?void 0:P.name})," ($",(Y=P==null?void 0:P.amount)==null?void 0:Y.toFixed(2),") to all applicable students."]}),s.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg",children:[s.jsxs("p",{className:"font-medium",children:["Scope: ",(P==null?void 0:P.scope)==="school_wide"&&"All Students"]}),(P==null?void 0:P.scope)==="grade_specific"&&s.jsxs("p",{className:"font-medium",children:["Grade: ",(ee=P==null?void 0:P.grade)==null?void 0:ee.name]}),(P==null?void 0:P.scope)==="class_specific"&&s.jsxs("p",{className:"font-medium",children:["Class: ",(oe=P==null?void 0:P.class)==null?void 0:oe.name]})]}),s.jsx("p",{className:"text-sm text-slate-500 mt-4",children:"Students who already have this fee assigned will be skipped."})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),s.jsx(Se,{onClick:J,disabled:C,className:"bg-blue-600 hover:bg-blue-700",children:C?"Assigning...":"Assign Fee"})]})]})})]})},SM=[{value:"all",label:"All Positions",color:"bg-slate-100 text-slate-700"},{value:"Vaad G",label:"Vaad Gabbai",color:"bg-purple-100 text-purple-700",category:"administration"},{value:"Vaad R",label:"Vaad Ruchani",color:"bg-indigo-100 text-indigo-700",category:"administration"},{value:"Menahal",label:"Menahal",color:"bg-blue-100 text-blue-700",category:"administration"},{value:"Sgan Menahal",label:"Sgan Menahal",color:"bg-blue-100 text-blue-700",category:"administration"},{value:"Principal",label:"Principal",color:"bg-blue-100 text-blue-700",category:"administration"},{value:"Manager",label:"Manager",color:"bg-cyan-100 text-cyan-700",category:"administration"},{value:"Bus Manager",label:"Bus Manager",color:"bg-cyan-100 text-cyan-700",category:"administration"},{value:"Sec",label:"Secretary",color:"bg-pink-100 text-pink-700",category:"administration"},{value:"Chinuch Mychud",label:"Chinuch Meyuchad",color:"bg-orange-100 text-orange-700",category:"teaching"},{value:"Melamed",label:"Melamed",color:"bg-green-100 text-green-700",category:"teaching"},{value:"Melamed / Driver",label:"Melamed/Driver",color:"bg-green-100 text-green-700",category:"teaching"},{value:"Helper",label:"Helper",color:"bg-teal-100 text-teal-700",category:"teaching"},{value:"English Teacher",label:"English Teacher",color:"bg-emerald-100 text-emerald-700",category:"teaching"},{value:"Curriculum Implementer",label:"Curriculum",color:"bg-amber-100 text-amber-700",category:"teaching"},{value:"Driver",label:"Driver",color:"bg-slate-100 text-slate-700",category:"support"}],LBe=[{value:"Rabbi",label:"Rabbi"},{value:"Mrs",label:"Mrs"},{value:"Miss",label:"Miss"},{value:"Mr",label:"Mr"}],IBe=({role:e,currentUser:t})=>{const[r,n]=O.useState([]),[a,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[d,f]=O.useState(null),[h,p]=O.useState("all"),[v,m]=O.useState(""),[x,g]=O.useState({position:"Melamed",title:"Rabbi",full_name:"",hebrew_name:"",first_name:"",last_name:"",address:"",city:"",state:"NY",zip_code:"",home_phone:"",cell_phone:"",class_assignment:""}),[y,b]=O.useState(!1),[S,_]=O.useState(!1),[N,j]=O.useState(null),[A,P]=O.useState({email:"",password:"",role:"teacher"}),[H,C]=O.useState(!1),{toast:k}=Cr(),U=[{value:"principal",label:"Principal"},{value:"principal_hebrew",label:"Principal (Hebrew)"},{value:"principal_english",label:"Principal (English)"},{value:"admin",label:"Admin"},{value:"teacher",label:"Teacher"},{value:"teacher_hebrew",label:"Teacher (Hebrew)"},{value:"teacher_english",label:"Teacher (English)"},{value:"tutor",label:"Tutor"},{value:"special_ed",label:"Special Education"}];O.useEffect(()=>{D()},[]);const D=async()=>{try{i(!0);const{data:G,error:se}=await Ne.from("staff_members").select("*").eq("is_active",!0).order("last_name",{ascending:!0});if(se)throw se;n(G||[])}catch(G){console.error("Error fetching staff:",G),k({variant:"destructive",title:"Error",description:"Failed to load staff directory."})}finally{i(!1)}},M=async G=>{G.preventDefault(),b(!0);try{if(c&&d){const{error:se}=await Ne.from("staff_members").update(x).eq("id",d.id);if(se)throw se;k({title:"Updated",description:"Staff member details updated successfully."})}else{const{error:se}=await Ne.from("staff_members").insert([x]);if(se)throw se;k({title:"Staff Added",description:`${x.full_name} has been added to the directory.`})}l(!1),J(),D()}catch(se){k({variant:"destructive",title:"Error",description:se.message})}finally{b(!1)}},B=async G=>{if(window.confirm(`Are you sure you want to remove ${G.full_name} from the directory?`))try{const{error:se}=await Ne.from("staff_members").update({is_active:!1}).eq("id",G.id);if(se)throw se;k({title:"Staff Removed",description:`${G.full_name} has been removed from the directory.`}),D()}catch{k({variant:"destructive",title:"Error",description:"Could not remove staff member."})}},I=G=>{j(G);let se="teacher";const he=(G.position||"").toLowerCase();he.includes("menahal")||he.includes("principal")||he.includes("sgan")?se="principal":he.includes("english")?se="teacher_english":he.includes("chinuch")||he.includes("special")?se="special_ed":(he.includes("sec")||he.includes("manager")||he.includes("vaad"))&&(se="admin"),P({email:"",password:"",role:se}),_(!0)},q=async G=>{G.preventDefault(),C(!0);try{const se=(N.full_name||"").split(",").map(je=>je.trim()),he=se[0]||"",Q=se[1]||N.first_name||"",Pe=await fetch("/api/create-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:A.email,password:A.password,name:N.full_name||`${Q} ${he}`,first_name:Q||N.first_name||"",last_name:he||N.last_name||"",role:A.role,assigned_class:N.class_assignment||""})}),De=await Pe.json();if(!Pe.ok)throw new Error(De.error||"Failed to create login");De.warning?k({variant:"destructive",title:"Partial Success",description:`Auth account created but profile may need manual setup: ${De.warning}`}):k({title:"Login Account Created",description:`${N.full_name} can now log in with ${A.email} as ${A.role}.`}),_(!1)}catch(se){k({variant:"destructive",title:"Error Creating Login",description:se.message})}finally{C(!1)}},F=G=>{f(G),g({position:G.position||"Melamed",title:G.title||"Rabbi",full_name:G.full_name||"",hebrew_name:G.hebrew_name||"",first_name:G.first_name||"",last_name:G.last_name||"",address:G.address||"",city:G.city||"",state:G.state||"NY",zip_code:G.zip_code||"",home_phone:G.home_phone||"",cell_phone:G.cell_phone||"",class_assignment:G.class_assignment||""}),u(!0),l(!0)},z=()=>{J(),u(!1),l(!0)},J=()=>{g({position:"Melamed",title:"Rabbi",full_name:"",hebrew_name:"",first_name:"",last_name:"",address:"",city:"",state:"NY",zip_code:"",home_phone:"",cell_phone:"",class_assignment:""}),f(null),u(!1)},E=G=>{const se=SM.find(he=>he.value===G);return se?s.jsx(Ft,{className:se.color,children:se.label}):s.jsx(Ft,{variant:"outline",children:G})},V=r.filter(G=>{var Q,Pe,De,je;const se=h==="all"||h==="administration"&&["Vaad G","Vaad R","Menahal","Sgan Menahal","Principal","Manager","Bus Manager","Sec"].includes(G.position)||h==="teaching"&&["Melamed","Melamed / Driver","Helper","English Teacher","Chinuch Mychud","Curriculum Implementer"].includes(G.position)||h==="support"&&["Driver"].includes(G.position)||G.position===h,he=!v||((Q=G.full_name)==null?void 0:Q.toLowerCase().includes(v.toLowerCase()))||((Pe=G.hebrew_name)==null?void 0:Pe.includes(v))||((De=G.cell_phone)==null?void 0:De.includes(v))||((je=G.class_assignment)==null?void 0:je.includes(v));return se&&he}),K=r.filter(G=>["Vaad G","Vaad R","Menahal","Sgan Menahal","Principal","Manager","Bus Manager","Sec"].includes(G.position)).length,W=r.filter(G=>["Melamed","Melamed / Driver","Helper","Chinuch Mychud"].includes(G.position)).length,Y=r.filter(G=>G.position==="English Teacher").length,ee=r.filter(G=>["Driver","Melamed / Driver"].includes(G.position)).length,oe=()=>{const G=["Position","Title","Name","Hebrew Name","Address","City","State","Zip","Home Phone","Cell Phone","Class"],se=V.map(je=>[je.position,je.title,je.full_name,je.hebrew_name,je.address,je.city,je.state,je.zip_code,je.home_phone,je.cell_phone,je.class_assignment]),he=[G,...se].map(je=>je.map(Z=>`"${Z||""}"`).join(",")).join(`
`),Q=new Blob([he],{type:"text/csv"}),Pe=URL.createObjectURL(Q),De=document.createElement("a");De.href=Pe,De.download="staff_directory.csv",De.click()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Staff Directory"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Complete staff directory with contact information"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:oe,children:[s.jsx(Nd,{className:"mr-2 h-4 w-4"})," Export CSV"]}),s.jsxs(Se,{onClick:z,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(rB,{className:"mr-2 h-4 w-4"})," Add Staff"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:r.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Staff"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Zte,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:K}),s.jsx("p",{className:"text-sm text-slate-500",children:"Administration"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(nC,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:W}),s.jsx("p",{className:"text-sm text-slate-500",children:"Hebrew Teachers"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:s.jsx(d0,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Y}),s.jsx("p",{className:"text-sm text-slate-500",children:"English Teachers"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-slate-100 rounded-lg",children:s.jsx(Wh,{className:"h-6 w-6 text-slate-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:ee}),s.jsx("p",{className:"text-sm text-slate-500",children:"Drivers"})]})]})})]}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search by name, phone, or class...",value:v,onChange:G=>m(G.target.value),className:"pl-10"})]}),s.jsx(kl,{value:h,onValueChange:p,className:"w-full md:w-auto",children:s.jsxs(Xo,{children:[s.jsx(wr,{value:"all",children:"All"}),s.jsx(wr,{value:"administration",children:"Administration"}),s.jsx(wr,{value:"teaching",children:"Teaching"}),s.jsx(wr,{value:"support",children:"Support"})]})})]})})}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-0",children:a?s.jsxs("div",{className:"flex justify-center items-center py-20",children:[s.jsx(In,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-slate-500",children:"Loading staff directory..."})]}):V.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx(La,{className:"h-12 w-12 mx-auto text-slate-300 mb-4"}),s.jsx("p",{className:"text-slate-500",children:"No staff members found"})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{className:"bg-slate-50",children:[s.jsx(lt,{className:"font-semibold",children:"Position"}),s.jsx(lt,{className:"font-semibold",children:"Name"}),s.jsx(lt,{className:"font-semibold text-right",dir:"rtl",children:"Hebrew Name"}),s.jsx(lt,{className:"font-semibold",children:"Class"}),s.jsx(lt,{className:"font-semibold",children:"Cell Phone"}),s.jsx(lt,{className:"font-semibold",children:"Home Phone"}),s.jsx(lt,{className:"font-semibold",children:"Address"}),s.jsx(lt,{className:"font-semibold text-right",children:"Actions"})]})}),s.jsx($a,{children:V.map(G=>s.jsxs(xr,{className:"hover:bg-slate-50",children:[s.jsx(it,{children:E(G.position)}),s.jsxs(it,{className:"font-medium",children:[G.title," ",G.full_name]}),s.jsx(it,{className:"text-right font-medium",dir:"rtl",children:G.hebrew_name}),s.jsx(it,{children:G.class_assignment&&s.jsx(Ft,{variant:"outline",className:"font-mono",children:G.class_assignment})}),s.jsx(it,{children:G.cell_phone&&s.jsxs("a",{href:`tel:${G.cell_phone}`,className:"flex items-center gap-1 text-blue-600 hover:text-blue-800",children:[s.jsx(tf,{className:"h-3 w-3"}),G.cell_phone]})}),s.jsx(it,{children:G.home_phone&&s.jsxs("a",{href:`tel:${G.home_phone}`,className:"flex items-center gap-1 text-slate-600 hover:text-slate-800",children:[s.jsx(hre,{className:"h-3 w-3"}),G.home_phone]})}),s.jsx(it,{className:"max-w-[200px] truncate",children:G.address&&s.jsxs("span",{className:"flex items-center gap-1 text-slate-600 text-sm",children:[s.jsx(eB,{className:"h-3 w-3 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:[G.address,", ",G.city]})]})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>I(G),title:"Create Login Account",children:s.jsx(jN,{className:"h-4 w-4 text-green-600"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>F(G),children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>B(G),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},G.id))})]})})}),s.jsx(ur,{open:o,onOpenChange:l,children:s.jsxs(ir,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(dr,{children:[s.jsx(fr,{children:c?"Edit Staff Member":"Add Staff Member"}),s.jsx(Lu,{children:c?"Update staff member information":"Add a new staff member to the directory"})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Position *"}),s.jsxs(bt,{value:x.position,onValueChange:G=>g({...x,position:G}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:SM.filter(G=>G.value!=="all").map(G=>s.jsx(Ie,{value:G.value,children:G.label},G.value))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Title"}),s.jsxs(bt,{value:x.title,onValueChange:G=>g({...x,title:G}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:LBe.map(G=>s.jsx(Ie,{value:G.value,children:G.label},G.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Full Name *"}),s.jsx(We,{value:x.full_name,onChange:G=>g({...x,full_name:G.target.value}),required:!0,placeholder:"Last, First"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Hebrew Name"}),s.jsx(We,{value:x.hebrew_name,onChange:G=>g({...x,hebrew_name:G.target.value}),dir:"rtl",placeholder:"Full name"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"First Name"}),s.jsx(We,{value:x.first_name,onChange:G=>g({...x,first_name:G.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Last Name"}),s.jsx(We,{value:x.last_name,onChange:G=>g({...x,last_name:G.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Address"}),s.jsx(We,{value:x.address,onChange:G=>g({...x,address:G.target.value}),placeholder:"Street address"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"City"}),s.jsx(We,{value:x.city,onChange:G=>g({...x,city:G.target.value}),placeholder:"City"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"State"}),s.jsx(We,{value:x.state,onChange:G=>g({...x,state:G.target.value}),placeholder:"NY"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Zip Code"}),s.jsx(We,{value:x.zip_code,onChange:G=>g({...x,zip_code:G.target.value}),placeholder:"10952"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Cell Phone"}),s.jsx(We,{value:x.cell_phone,onChange:G=>g({...x,cell_phone:G.target.value}),placeholder:"845-000-0000"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Home Phone"}),s.jsx(We,{value:x.home_phone,onChange:G=>g({...x,home_phone:G.target.value}),placeholder:"845-000-0000"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Class Assignment"}),s.jsx(We,{value:x.class_assignment,onChange:G=>g({...x,class_assignment:G.target.value}),placeholder:"e.g., A, B, C/1st"})]}),s.jsxs(Ar,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(Se,{type:"submit",disabled:y,className:"bg-blue-600 hover:bg-blue-700",children:[y&&s.jsx(In,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Save Changes":"Add Staff Member"]})]})]})]})}),s.jsx(ur,{open:S,onOpenChange:_,children:s.jsxs(ir,{className:"sm:max-w-[425px]",children:[s.jsxs(dr,{children:[s.jsx(fr,{children:"Create Login Account"}),s.jsxs(Lu,{children:["Create a system login for ",(N==null?void 0:N.full_name)||"this staff member"," so they can access the app."]})]}),s.jsxs("form",{onSubmit:q,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{children:"Staff Member"}),s.jsxs("div",{className:"text-sm text-slate-600 font-medium",children:[N==null?void 0:N.title," ",N==null?void 0:N.full_name]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"loginEmail",children:"Email Address"}),s.jsx(We,{id:"loginEmail",type:"email",value:A.email,onChange:G=>P({...A,email:G.target.value}),placeholder:"email@school.edu",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"loginPassword",children:"Password"}),s.jsx(We,{id:"loginPassword",type:"password",value:A.password,onChange:G=>P({...A,password:G.target.value}),placeholder:"Set a temporary password",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"loginRole",children:"System Role"}),s.jsxs(bt,{value:A.role,onValueChange:G=>P({...A,role:G}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select role"})}),s.jsx(yt,{children:U.map(G=>s.jsx(Ie,{value:G.value,children:G.label},G.value))})]})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),s.jsxs(Se,{type:"submit",disabled:H,className:"bg-green-600 hover:bg-green-700",children:[H?s.jsx(In,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(jN,{className:"mr-2 h-4 w-4"}),"Create Login"]})]})]})]})})]})},MBe=({role:e,currentUser:t})=>{var q,F;const{toast:r}=Cr(),[n,a]=O.useState([]),[i,o]=O.useState([]);O.useState([]);const[l,c]=O.useState(!0),[u,d]=O.useState(""),[f,h]=O.useState("all"),[p,v]=O.useState(!1),[m,x]=O.useState(null),[g,y]=O.useState([]),[b,S]=O.useState({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),[_,N]=O.useState(!1),[j,A]=O.useState(""),P=[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"credit_card",label:"Credit Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"other",label:"Other"}];O.useEffect(()=>{H()},[]);const H=async()=>{c(!0);try{const{data:z,error:J}=await Ne.from("payments").select(`
          *,
          student:students(id, first_name, last_name),
          student_fee:student_fees(id, fee:fees(name))
        `).order("payment_date",{ascending:!1}).limit(100);if(J)throw J;a(z||[]);const{data:E,error:V}=await Ne.from("students").select("id, first_name, last_name, class_id").eq("status","active").order("last_name");if(V)throw V;o(E||[])}catch(z){console.error("Error loading data:",z),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{c(!1)}},C=n.filter(z=>{var W,Y;const E=`${((W=z.student)==null?void 0:W.first_name)||""} ${((Y=z.student)==null?void 0:Y.last_name)||""}`.toLowerCase().includes(u.toLowerCase())||z.reference_number&&z.reference_number.toLowerCase().includes(u.toLowerCase());if(f==="all")return E;const V=new Date(z.payment_date),K=new Date;if(f==="today")return E&&V.toDateString()===K.toDateString();if(f==="week"){const ee=new Date(K.setDate(K.getDate()-7));return E&&V>=ee}else if(f==="month")return E&&V.getMonth()===K.getMonth()&&V.getFullYear()===K.getFullYear();return E}),k=n.filter(z=>new Date(z.payment_date).toDateString()===new Date().toDateString()).reduce((z,J)=>z+J.amount,0),U=n.filter(z=>{const J=new Date(z.payment_date),E=new Date;return J.getMonth()===E.getMonth()&&J.getFullYear()===E.getFullYear()}).reduce((z,J)=>z+J.amount,0),D=async z=>{x(z),N(!1);try{const{data:J,error:E}=await Ne.from("student_fees").select(`
          *,
          fee:fees(id, name, amount)
        `).eq("student_id",z.id).in("status",["pending","partial"]);if(E)throw E;y(J||[]),(J||[]).length>0&&S(V=>({...V,student_fee_id:J[0].id,amount:(J[0].amount-J[0].amount_paid).toFixed(2)})),v(!0)}catch(J){console.error("Error loading student fees:",J),r({variant:"destructive",title:"Error",description:"Failed to load student fees"})}},M=z=>{const J=g.find(E=>E.id===z);J&&S(E=>({...E,student_fee_id:z,amount:(J.amount-J.amount_paid).toFixed(2)}))},B=async()=>{if(!m||!b.amount){r({variant:"destructive",title:"Error",description:"Please enter an amount"});return}try{const{error:z}=await Ne.from("payments").insert([{student_id:m.id,student_fee_id:b.student_fee_id||null,amount:parseFloat(b.amount),payment_method:b.payment_method,reference_number:b.reference_number||null,notes:b.notes||null,payment_date:new Date().toISOString().split("T")[0],received_by:t==null?void 0:t.id}]);if(z)throw z;r({title:"Success",description:"Payment recorded successfully"}),v(!1),x(null),y([]),S({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),H()}catch(z){console.error("Error saving payment:",z),r({variant:"destructive",title:"Error",description:"Failed to save payment"})}},I=i.filter(z=>`${z.first_name} ${z.last_name}`.toLowerCase().includes(j.toLowerCase()));return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Payments"}),s.jsx("p",{className:"text-slate-500",children:"Record and track student payments"})]}),s.jsxs(Se,{onClick:()=>N(!0),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",k.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Today's Total"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",U.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"This Month"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Rg,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.filter(z=>new Date(z.payment_date).toDateString()===new Date().toDateString()).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Today's Payments"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Ym,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.filter(z=>z.payment_method==="check").length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Checks Received"})]})]})})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Payment History"}),s.jsx(_a,{children:"Recent payments received"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search by student or reference...",value:u,onChange:z=>d(z.target.value),className:"pl-10 w-64"})]}),s.jsxs(bt,{value:f,onValueChange:h,children:[s.jsx(xt,{className:"w-32",children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Time"}),s.jsx(Ie,{value:"today",children:"Today"}),s.jsx(Ie,{value:"week",children:"This Week"}),s.jsx(Ie,{value:"month",children:"This Month"})]})]})]})]})}),s.jsx(Ze,{children:C.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Rg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No payments found"}),s.jsx("p",{className:"text-sm",children:'Click "Record Payment" to add a new payment'})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"For"}),s.jsx(lt,{className:"text-right",children:"Amount"}),s.jsx(lt,{children:"Method"}),s.jsx(lt,{children:"Reference"})]})}),s.jsx($a,{children:C.map(z=>{var J,E,V,K;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-medium",children:new Date(z.payment_date).toLocaleDateString()}),s.jsx(it,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 flex items-center justify-center",children:s.jsx(Wo,{className:"h-4 w-4 text-slate-500"})}),s.jsxs("span",{children:[(J=z.student)==null?void 0:J.first_name," ",(E=z.student)==null?void 0:E.last_name]})]})}),s.jsx(it,{children:((K=(V=z.student_fee)==null?void 0:V.fee)==null?void 0:K.name)||z.description||"General Payment"}),s.jsxs(it,{className:"text-right font-bold text-green-600",children:["$",z.amount.toFixed(2)]}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",className:"capitalize",children:z.payment_method.replace("_"," ")})}),s.jsx(it,{className:"text-slate-500",children:z.reference_number||"-"})]},z.id)})})]})})]}),s.jsx(ur,{open:_,onOpenChange:N,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Select Student"})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search students...",value:j,onChange:z=>A(z.target.value),className:"pl-10",autoFocus:!0})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto space-y-1",children:I.map(z=>{var J,E;return s.jsxs("button",{onClick:()=>D(z),className:"w-full p-3 text-left hover:bg-slate-100 rounded-lg transition-colors flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"font-semibold text-blue-600",children:[(J=z.first_name)==null?void 0:J.charAt(0),(E=z.last_name)==null?void 0:E.charAt(0)]})}),s.jsx("div",{children:s.jsxs("p",{className:"font-medium",children:[z.first_name," ",z.last_name]})})]},z.id)})})]})]})}),s.jsx(ur,{open:p,onOpenChange:v,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Record Payment"})}),s.jsxs("div",{className:"py-4 space-y-4",children:[m&&s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"font-semibold text-blue-600",children:[(q=m.first_name)==null?void 0:q.charAt(0),(F=m.last_name)==null?void 0:F.charAt(0)]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[m.first_name," ",m.last_name]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Recording payment"})]})]}),g.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Apply to Fee"}),s.jsxs(bt,{value:b.student_fee_id,onValueChange:M,children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select fee"})}),s.jsx(yt,{children:g.map(z=>{var J;return s.jsxs(Ie,{value:z.id,children:[(J=z.fee)==null?void 0:J.name," - Owed: $",(z.amount-z.amount_paid).toFixed(2)]},z.id)})})]})]}):s.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg text-sm text-yellow-800",children:"No outstanding fees found for this student. Payment will be recorded as a general payment."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Amount *"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:b.amount,onChange:z=>S({...b,amount:z.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Payment Method"}),s.jsxs(bt,{value:b.payment_method,onValueChange:z=>S({...b,payment_method:z}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:P.map(z=>s.jsx(Ie,{value:z.value,children:z.label},z.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Reference # (Check #, Transaction ID)"}),s.jsx(We,{value:b.reference_number,onChange:z=>S({...b,reference_number:z.target.value}),placeholder:"e.g., Check #1234"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{children:"Notes"}),s.jsx(kr,{value:b.notes,onChange:z=>S({...b,notes:z.target.value}),placeholder:"Optional notes about this payment"})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>{v(!1),x(null),y([])},children:"Cancel"}),s.jsxs(Se,{onClick:B,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Li,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})]})},RBe=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState("all"),[f,h]=O.useState(""),[p,v]=O.useState("all"),[m,x]=O.useState([]),[g,y]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{a(!0);try{const{data:U,error:D}=await Ne.from("fees").select("*").order("created_at",{ascending:!1});if(D)throw D;o(U||[]);const{data:M,error:B}=await Ne.from("student_fees").select(`
          *,
          student:students(id, first_name, last_name, class_id, class:classes!class_id(id, name, grade_id, grade:grades(id, name))),
          fee:fees(id, name, amount, due_date)
        `);if(B)throw B;c(M||[]);const{data:I,error:q}=await Ne.from("grades").select("*").order("grade_number");if(q)throw q;x(I||[])}catch(U){console.error("Error loading data:",U),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{a(!1)}},S=l.filter(U=>{var F,z,J,E;const M=`${((F=U.student)==null?void 0:F.first_name)||""} ${((z=U.student)==null?void 0:z.last_name)||""}`.toLowerCase().includes(f.toLowerCase()),B=u==="all"||U.fee_id===u,I=p==="all"||U.status===p,q=g==="all"||((E=(J=U.student)==null?void 0:J.class)==null?void 0:E.grade_id)===g;return M&&B&&I&&q}),_=S.reduce((U,D)=>U+(D.amount||0),0),N=S.reduce((U,D)=>U+(D.amount_paid||0),0),j=_-N,A=S.filter(U=>U.status==="paid").length,P=S.filter(U=>U.status==="pending").length,H=S.filter(U=>U.status==="partial").length,C=()=>{const U={};return l.forEach(D=>{var B;const M=((B=D.fee)==null?void 0:B.name)||"Unknown";U[M]||(U[M]={name:M,total:0,collected:0,students:0,paid:0}),U[M].total+=D.amount,U[M].collected+=D.amount_paid,U[M].students+=1,D.status==="paid"&&(U[M].paid+=1)}),Object.values(U)},k=()=>{const U=["Student Name","Class","Grade","Fee","Amount","Paid","Outstanding","Status"],D=S.map(F=>{var z,J,E,V,K,W,Y,ee;return[`${((z=F.student)==null?void 0:z.first_name)||""} ${((J=F.student)==null?void 0:J.last_name)||""}`,((V=(E=F.student)==null?void 0:E.class)==null?void 0:V.name)||"",((Y=(W=(K=F.student)==null?void 0:K.class)==null?void 0:W.grade)==null?void 0:Y.name)||"",((ee=F.fee)==null?void 0:ee.name)||"",(F.amount||0).toFixed(2),(F.amount_paid||0).toFixed(2),((F.amount||0)-(F.amount_paid||0)).toFixed(2),F.status]}),M=[U.join(","),...D.map(F=>F.map(z=>`"${z}"`).join(","))].join(`
`),B=new Blob([M],{type:"text/csv"}),I=window.URL.createObjectURL(B),q=document.createElement("a");q.href=I,q.download=`financial_report_${new Date().toISOString().split("T")[0]}.csv`,q.click(),window.URL.revokeObjectURL(I),r({title:"Success",description:"Report exported successfully"})};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Financial Reports"}),s.jsx("p",{className:"text-slate-500",children:"Track fee collection and outstanding balances"})]}),s.jsxs(Se,{onClick:k,variant:"outline",children:[s.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",_.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Expected"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Li,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",N.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Collected"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(rs,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",j.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Outstanding"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:A}),s.jsx("p",{className:"text-sm text-slate-500",children:"Fully Paid"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:P+H}),s.jsx("p",{className:"text-sm text-slate-500",children:"Unpaid/Partial"})]})]})})]}),s.jsxs(kl,{defaultValue:"details",className:"space-y-4",children:[s.jsxs(Xo,{children:[s.jsx(wr,{value:"details",children:"Student Details"}),s.jsx(wr,{value:"summary",children:"Fee Summary"}),s.jsx(wr,{value:"unpaid",children:"Unpaid List"})]}),s.jsx(Qr,{value:"details",children:s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Student Fee Details"}),s.jsx(_a,{children:"Complete breakdown by student"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search student...",value:f,onChange:U=>h(U.target.value),className:"pl-10 w-48"})]}),s.jsxs(bt,{value:u,onValueChange:d,children:[s.jsx(xt,{className:"w-40",children:s.jsx(wt,{placeholder:"Select fee"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Fees"}),i.map(U=>s.jsx(Ie,{value:U.id,children:U.name},U.id))]})]}),s.jsxs(bt,{value:g,onValueChange:y,children:[s.jsx(xt,{className:"w-36",children:s.jsx(wt,{placeholder:"Grade"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Grades"}),m.map(U=>s.jsx(Ie,{value:U.id,children:U.name},U.id))]})]}),s.jsxs(bt,{value:p,onValueChange:v,children:[s.jsx(xt,{className:"w-32",children:s.jsx(wt,{placeholder:"Status"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Status"}),s.jsx(Ie,{value:"paid",children:"Paid"}),s.jsx(Ie,{value:"partial",children:"Partial"}),s.jsx(Ie,{value:"pending",children:"Pending"})]})]})]})]})}),s.jsxs(Ze,{children:[s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"Fee"}),s.jsx(lt,{className:"text-right",children:"Amount"}),s.jsx(lt,{className:"text-right",children:"Paid"}),s.jsx(lt,{className:"text-right",children:"Outstanding"}),s.jsx(lt,{className:"text-center",children:"Status"})]})}),s.jsx($a,{children:S.map(U=>{var D,M,B,I,q;return s.jsxs(xr,{children:[s.jsxs(it,{className:"font-medium",children:[(D=U.student)==null?void 0:D.first_name," ",(M=U.student)==null?void 0:M.last_name]}),s.jsx(it,{children:s.jsx("span",{className:"text-slate-500",children:(I=(B=U.student)==null?void 0:B.class)==null?void 0:I.name})}),s.jsx(it,{children:(q=U.fee)==null?void 0:q.name}),s.jsxs(it,{className:"text-right",children:["$",U.amount.toFixed(2)]}),s.jsxs(it,{className:"text-right text-green-600",children:["$",U.amount_paid.toFixed(2)]}),s.jsxs(it,{className:"text-right font-medium text-red-600",children:["$",(U.amount-U.amount_paid).toFixed(2)]}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:U.status==="paid"?"default":U.status==="partial"?"secondary":"destructive",className:U.status==="paid"?"bg-green-500":"",children:U.status})})]},U.id)})})]}),S.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Ss,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No records found matching your filters"})]})]})]})}),s.jsx(Qr,{value:"summary",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Fee Collection Summary"}),s.jsx(_a,{children:"Overview of each fee's collection status"})]}),s.jsx(Ze,{children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Fee Name"}),s.jsx(lt,{className:"text-center",children:"Students"}),s.jsx(lt,{className:"text-right",children:"Total Expected"}),s.jsx(lt,{className:"text-right",children:"Collected"}),s.jsx(lt,{className:"text-right",children:"Outstanding"}),s.jsx(lt,{className:"text-center",children:"Collection %"}),s.jsx(lt,{className:"text-center",children:"Paid / Total"})]})}),s.jsx($a,{children:C().map((U,D)=>{const M=U.total>0?Math.round(U.collected/U.total*100):0;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-semibold",children:U.name}),s.jsx(it,{className:"text-center",children:U.students}),s.jsxs(it,{className:"text-right",children:["$",U.total.toFixed(2)]}),s.jsxs(it,{className:"text-right text-green-600",children:["$",U.collected.toFixed(2)]}),s.jsxs(it,{className:"text-right text-red-600",children:["$",(U.total-U.collected).toFixed(2)]}),s.jsx(it,{className:"text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("div",{className:"w-16 h-2 bg-slate-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${M>=80?"bg-green-500":M>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${M}%`}})}),s.jsxs("span",{className:"text-sm font-medium",children:[M,"%"]})]})}),s.jsx(it,{className:"text-center",children:s.jsxs(Ft,{variant:"outline",children:[U.paid," / ",U.students]})})]},D)})})]})})]})}),s.jsx(Qr,{value:"unpaid",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{className:"text-red-600",children:"Outstanding Balances"}),s.jsx(_a,{children:"Students with unpaid or partial fees"})]}),s.jsxs(Ze,{children:[s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"Grade"}),s.jsx(lt,{children:"Fee"}),s.jsx(lt,{className:"text-right",children:"Owed"}),s.jsx(lt,{children:"Due Date"}),s.jsx(lt,{className:"text-center",children:"Status"})]})}),s.jsx($a,{children:l.filter(U=>U.status!=="paid"&&U.status!=="waived").sort((U,D)=>D.amount-D.amount_paid-(U.amount-U.amount_paid)).map(U=>{var D,M,B,I,q,F,z,J,E;return s.jsxs(xr,{className:"bg-red-50/50",children:[s.jsxs(it,{className:"font-medium",children:[(D=U.student)==null?void 0:D.first_name," ",(M=U.student)==null?void 0:M.last_name]}),s.jsx(it,{children:(I=(B=U.student)==null?void 0:B.class)==null?void 0:I.name}),s.jsx(it,{children:(z=(F=(q=U.student)==null?void 0:q.class)==null?void 0:F.grade)==null?void 0:z.name}),s.jsx(it,{children:(J=U.fee)==null?void 0:J.name}),s.jsxs(it,{className:"text-right font-bold text-red-600",children:["$",(U.amount-U.amount_paid).toFixed(2)]}),s.jsx(it,{children:(E=U.fee)!=null&&E.due_date?new Date(U.fee.due_date).toLocaleDateString():"-"}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:U.status==="partial"?"secondary":"destructive",children:U.status})})]},U.id)})})]}),l.filter(U=>U.status!=="paid"&&U.status!=="waived").length===0&&s.jsxs("div",{className:"text-center py-12 text-green-600",children:[s.jsx(Li,{className:"h-12 w-12 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"All caught up!"}),s.jsx("p",{className:"text-sm text-slate-500",children:"No outstanding balances"})]})]})]})})]})]})},U3=({students:e=[],value:t,onChange:r,onStudentSelect:n,placeholder:a="Search student...",disabled:i=!1,label:o})=>{var N;const[l,c]=O.useState(!1),[u,d]=O.useState(""),[f,h]=O.useState(!1),p=O.useRef(null),v=O.useRef(null),m=e.find(j=>j.id===t);O.useEffect(()=>{const j=A=>{p.current&&!p.current.contains(A.target)&&(c(!1),h(!1))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const g=[...e.filter(j=>{var P,H,C,k,U,D;if(!u&&!f)return!1;if(f&&!u)return!0;const A=u.toLowerCase();return((P=j.first_name)==null?void 0:P.toLowerCase().includes(A))||((H=j.last_name)==null?void 0:H.toLowerCase().includes(A))||((C=j.hebrew_name)==null?void 0:C.includes(u))||((k=j.father_name)==null?void 0:k.toLowerCase().includes(A))||((D=(U=j.class)==null?void 0:U.name)==null?void 0:D.toLowerCase().includes(A))})].sort((j,A)=>{var C,k;const P=((C=j.class)==null?void 0:C.name)||"",H=((k=A.class)==null?void 0:k.name)||"";return P!==H?P.localeCompare(H):(j.last_name||"").localeCompare(A.last_name||"")}),y={};f&&g.forEach(j=>{var P;const A=((P=j.class)==null?void 0:P.name)||"No class";y[A]||(y[A]=[]),y[A].push(j)});const b=j=>{r(j.id),n&&n(j),c(!1),h(!1),d("")},S=()=>{r(""),n&&n(null),d("")},_=j=>j?j.hebrew_name||`${j.first_name} ${j.last_name}`:"";return s.jsxs("div",{ref:p,className:"relative w-full",children:[m&&!l?s.jsxs("div",{className:"flex items-center justify-between border rounded-md px-3 py-2 bg-blue-50 border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-7 w-7 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 text-xs font-bold",children:_(m).charAt(0)}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-sm",children:_(m)}),((N=m.class)==null?void 0:N.name)&&s.jsx(Ft,{variant:"outline",className:"mr-2 text-[10px] py-0",children:m.class.name})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{c(!0),setTimeout(()=>{var j;return(j=v.current)==null?void 0:j.focus()},50)},children:s.jsx(xi,{className:"h-3 w-3 text-slate-400"})}),!i&&s.jsx(Se,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:S,children:s.jsx(X0,{className:"h-3 w-3 text-red-400"})})]})]}):s.jsxs("div",{className:"relative",children:[s.jsx(xi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400 pointer-events-none"}),s.jsx(We,{ref:v,value:u,onChange:j=>{d(j.target.value),c(!0),j.target.value&&h(!1)},onFocus:()=>c(!0),placeholder:a,disabled:i,className:"pr-10"})]}),l&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white border border-slate-200 rounded-lg shadow-xl max-h-80 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-slate-50",children:[s.jsx("span",{className:"text-xs text-slate-500",children:f?`${g.length} students`:u?`${g.length} results`:"Type a name or browse"}),s.jsx(Se,{variant:"ghost",size:"sm",className:"h-7 text-xs px-2",onClick:()=>{h(!f),d("")},children:f?s.jsxs(s.Fragment,{children:["Search ",s.jsx(xi,{className:"h-3 w-3 mr-1"})]}):s.jsxs(s.Fragment,{children:["All Students ",s.jsx(rC,{className:"h-3 w-3 mr-1"})]})})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[f&&!u?Object.entries(y).map(([j,A])=>s.jsxs("div",{children:[s.jsxs("div",{className:"sticky top-0 bg-slate-100 px-3 py-1.5 text-xs font-bold text-slate-600 border-b",children:[j," (",A.length,")"]}),A.map(P=>s.jsx(NM,{student:P,onSelect:b,getDisplayName:_,isSelected:P.id===t},P.id))]},j)):g.map(j=>s.jsx(NM,{student:j,onSelect:b,getDisplayName:_,isSelected:j.id===t,showClass:!0},j.id)),u&&g.length===0&&s.jsxs("div",{className:"p-4 text-center text-sm text-slate-400",children:[s.jsx(Wo,{className:"h-8 w-8 mx-auto mb-2 opacity-40"}),'No students found for "',u,'"']}),!u&&!f&&s.jsx("div",{className:"p-4 text-center text-sm text-slate-400",children:'Type a name to search, or click "All Students" to browse'})]})]})]})},NM=({student:e,onSelect:t,getDisplayName:r,isSelected:n,showClass:a=!1})=>{var i,o;return s.jsxs("button",{type:"button",className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-blue-50 transition-colors text-right ${n?"bg-blue-50 border-r-2 border-blue-500":""}`,onClick:()=>t(e),children:[s.jsx("div",{className:"h-7 w-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 text-xs font-bold flex-shrink-0",children:r(e).charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[s.jsx("span",{className:"font-medium truncate",children:r(e)}),e.hebrew_name&&e.first_name&&s.jsxs("span",{className:"text-xs text-slate-400 truncate",children:["(",e.first_name," ",e.last_name,")"]})]}),a&&((i=e.class)==null?void 0:i.name)&&s.jsx("span",{className:"text-xs text-slate-400",children:e.class.name})]}),!a&&((o=e.class)==null?void 0:o.name)&&s.jsx(Ft,{variant:"outline",className:"text-[10px] py-0 flex-shrink-0",children:e.class.name})]})},jm=[{value:"monitoring",label:"Monitoring",color:"bg-yellow-100 text-yellow-800"},{value:"referral_pending",label:"Referral Pending",color:"bg-orange-100 text-orange-800"},{value:"being_evaluated",label:"Being Evaluated",color:"bg-blue-100 text-blue-800"},{value:"has_plan",label:"Has Plan",color:"bg-purple-100 text-purple-800"},{value:"receiving_services",label:"Receiving Services",color:"bg-green-100 text-green-800"},{value:"discharged",label:"Discharged",color:"bg-gray-100 text-gray-800"}],cS=[{value:"speech",label:"Speech Therapy"},{value:"OT",label:"OT - Occupational Therapy"},{value:"PT",label:"PT - Physical Therapy"},{value:"behavioral",label:"Behavioral"},{value:"academic",label:"Academic Support"},{value:"social_skills",label:"Social Skills"},{value:"reading",label:"Reading"},{value:"other",label:"Other"}],AM=[{value:"principal",label:"Principal"},{value:"teacher",label:"Teacher"},{value:"parent",label:"Parent"},{value:"private_tutor",label:"Private Tutor"},{value:"therapist",label:"Therapist"},{value:"other",label:"Other"}],TM=[{value:"psychoeducational",label:"Psychoeducational"},{value:"speech",label:"Speech"},{value:"OT",label:"OT"},{value:"behavioral",label:"Behavioral"},{value:"academic",label:"Academic"},{value:"other",label:"Other"}],uS=[{value:"coordinator",label:"Coordinator"},{value:"psychologist",label:"Psychologist"},{value:"speech_therapist",label:"Speech Therapist"},{value:"OT",label:"OT Therapist"},{value:"PT",label:"PT Therapist"},{value:"resource_teacher",label:"Resource Teacher"},{value:"aide",label:"Aide"},{value:"other",label:"Other"}],CM=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Shabbos"],$Be=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState("students"),[i,o]=O.useState(!0),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState([]),[m,x]=O.useState(""),[g,y]=O.useState("all"),[b,S]=O.useState(!1),[_,N]=O.useState(!1),[j,A]=O.useState(!1),[P,H]=O.useState(!1),[C,k]=O.useState(!1),[U,D]=O.useState(!1);O.useState(!1);const[M,B]=O.useState(!1),[I,q]=O.useState(!1),[F,z]=O.useState({}),[J,E]=O.useState(null),[V,K]=O.useState(null),[W,Y]=O.useState(null),[ee,oe]=O.useState({student_id:"",status:"monitoring",referral_reason:"",help_type:"",help_description:"",current_plan:"",referral_date:new Date().toISOString().split("T")[0]}),[G,se]=O.useState({source_type:"teacher",source_name:"",content:"",date_gathered:new Date().toISOString().split("T")[0]}),[he,Q]=O.useState({evaluation_type:"psychoeducational",evaluator_name:"",evaluation_date:new Date().toISOString().split("T")[0],results:"",recommendations:"",plan:"",actual_actions:""}),[Pe,De]=O.useState({tutor_name:"",tutor_phone:"",tutor_type:"private_teacher",subject:"",schedule_days:"",schedule_time:"",location:"",frequency:"weekly",session_duration_minutes:45,notes:"",start_date:new Date().toISOString().split("T")[0]}),[je,Z]=O.useState({name:"",hebrew_name:"",role:"resource_teacher",phone:"",email:"",specialization:"",certification:"",notes:""}),[ke,Ge]=O.useState({day_of_week:1,start_time:"08:00",end_time:"15:00",location:"",status:"in_school",notes:""}),[Le,qe]=O.useState({special_ed_staff_id:"",tutor_name:"",session_date:new Date().toISOString().split("T")[0],session_time:"",duration_minutes:30,subject:"",content:"",progress_notes:"",goals_worked_on:""}),[ge,de]=O.useState({infoSources:[],evaluations:[],tutoring:[],sessionLogs:[]});O.useEffect(()=>{ze()},[]);const ze=async()=>{o(!0);try{const{data:ce}=await Ne.from("special_ed_students").select(`
          *,
          student:students(id, first_name, last_name, hebrew_name, class_id,
            class:classes!class_id(name, grade:grades(name))
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});c(ce||[]);const{data:$t}=await Ne.from("students").select("id, first_name, last_name, hebrew_name, class_id, class:classes!class_id(name)").eq("status","active").order("last_name");d($t||[]);const{data:Er}=await Ne.from("special_ed_staff").select("*").eq("is_active",!0).order("name");h(Er||[]);const{data:nr}=await Ne.from("classes").select("id, name, grade:grades(name)").order("name");v(nr||[])}catch(ce){console.error("Error loading data:",ce),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{o(!1)}},Ke=async ce=>{try{const[$t,Er,nr,Bt]=await Promise.all([Ne.from("special_ed_info_sources").select("*").eq("special_ed_student_id",ce).order("date_gathered",{ascending:!1}),Ne.from("special_ed_evaluations").select("*").eq("special_ed_student_id",ce).order("evaluation_date",{ascending:!1}),Ne.from("special_ed_tutoring").select("*").eq("special_ed_student_id",ce).eq("is_active",!0).order("created_at",{ascending:!1}),Ne.from("special_ed_session_logs").select("*, staff:special_ed_staff(name)").eq("special_ed_student_id",ce).order("session_date",{ascending:!1}).limit(20)]);de({infoSources:$t.data||[],evaluations:Er.data||[],tutoring:nr.data||[],sessionLogs:Bt.data||[]})}catch($t){console.error("Error loading detail:",$t)}},[ft,_t]=O.useState([]),St=async ce=>{const{data:$t}=await Ne.from("special_ed_staff_schedule").select("*").eq("special_ed_staff_id",ce).eq("is_active",!0).order("day_of_week");_t($t||[])},Et=async ce=>{W===ce?Y(null):(Y(ce),await Ke(ce))},_e=async()=>{if(!ee.student_id){r({variant:"destructive",title:"Error",description:"Please select a student"});return}try{const ce={student_id:ee.student_id,status:ee.status,referral_reason:ee.referral_reason||null,referral_date:ee.referral_date||null,help_type:ee.help_type||null,help_description:ee.help_description||null,current_plan:ee.current_plan||null,created_by:t==null?void 0:t.id};if(J){const{error:$t}=await Ne.from("special_ed_students").update(ce).eq("id",J.id);if($t)throw $t;r({title:"Updated",description:"Student record updated"})}else{const{error:$t}=await Ne.from("special_ed_students").insert([ce]);if($t)throw $t;r({title:"Added",description:"Student added to special education"})}S(!1),ze()}catch(ce){console.error("Error saving:",ce),r({variant:"destructive",title:"Error",description:ce.message})}},ot=async()=>{if(!G.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{const{error:ce}=await Ne.from("special_ed_info_sources").insert([{special_ed_student_id:J.id,source_type:G.source_type,source_name:G.source_name||null,content:G.content,date_gathered:G.date_gathered,gathered_by:t==null?void 0:t.id,gathered_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)}]);if(ce)throw ce;r({title:"Added",description:"Information recorded"}),N(!1),Ke(J.id)}catch(ce){r({variant:"destructive",title:"Error",description:ce.message})}},rt=async()=>{try{const{error:ce}=await Ne.from("special_ed_evaluations").insert([{special_ed_student_id:J.id,evaluation_type:he.evaluation_type,evaluator_name:he.evaluator_name||null,evaluation_date:he.evaluation_date,results:he.results||null,recommendations:he.recommendations||null,plan:he.plan||null,actual_actions:he.actual_actions||null,created_by:t==null?void 0:t.id}]);if(ce)throw ce;r({title:"Added",description:"Evaluation recorded"}),A(!1),Ke(J.id)}catch(ce){r({variant:"destructive",title:"Error",description:ce.message})}},qt=async()=>{if(!Pe.tutor_name){r({variant:"destructive",title:"Error",description:"Please enter tutor name"});return}try{const{error:ce}=await Ne.from("special_ed_tutoring").insert([{special_ed_student_id:J.id,...Pe}]);if(ce)throw ce;r({title:"Added",description:"Tutoring assignment saved"}),H(!1),Ke(J.id)}catch(ce){r({variant:"destructive",title:"Error",description:ce.message})}},gt=async()=>{if(!je.name){r({variant:"destructive",title:"Error",description:"Please enter staff name"});return}try{if(V){const{error:ce}=await Ne.from("special_ed_staff").update(je).eq("id",V.id);if(ce)throw ce;r({title:"Updated",description:"Staff record updated"})}else{const{error:ce}=await Ne.from("special_ed_staff").insert([je]);if(ce)throw ce;r({title:"Added",description:"Staff member added"})}k(!1),ze()}catch(ce){r({variant:"destructive",title:"Error",description:ce.message})}},jr=async()=>{try{const{error:ce}=await Ne.from("special_ed_staff_schedule").insert([{special_ed_staff_id:V.id,...ke}]);if(ce)throw ce;r({title:"Added",description:"Schedule saved"}),D(!1),St(V.id)}catch(ce){r({variant:"destructive",title:"Error",description:ce.message})}},Gt=async()=>{if(!Le.content){r({variant:"destructive",title:"Error",description:"Please enter session content"});return}try{const{error:ce}=await Ne.from("special_ed_session_logs").insert([{special_ed_student_id:J.id,special_ed_staff_id:Le.special_ed_staff_id||null,tutor_name:Le.tutor_name||null,session_date:Le.session_date,session_time:Le.session_time||null,duration_minutes:Le.duration_minutes||null,subject:Le.subject||null,content:Le.content,progress_notes:Le.progress_notes||null,goals_worked_on:Le.goals_worked_on||null}]);if(ce)throw ce;r({title:"Added",description:"Session log saved"}),B(!1),Ke(J.id)}catch(ce){r({variant:"destructive",title:"Error",description:ce.message})}},rr=ce=>{const $t=jm.find(Er=>Er.value===ce);return $t?s.jsx(Ft,{className:$t.color,children:$t.label}):s.jsx(Ft,{children:ce})},Hr=(ce,$t)=>{z({subject:ce,body:$t}),q(!0)},Ht=l.filter(ce=>{var nr,Bt,Qt,Aa,rn,Ye,Ct;const $t=!m||((Bt=(nr=ce.student)==null?void 0:nr.first_name)==null?void 0:Bt.toLowerCase().includes(m.toLowerCase()))||((Aa=(Qt=ce.student)==null?void 0:Qt.last_name)==null?void 0:Aa.toLowerCase().includes(m.toLowerCase()))||((Ye=(rn=ce.student)==null?void 0:rn.hebrew_name)==null?void 0:Ye.includes(m))||((Ct=ce.referral_reason)==null?void 0:Ct.includes(m)),Er=g==="all"||ce.status===g;return $t&&Er}),Kr={total:l.length,monitoring:l.filter(ce=>ce.status==="monitoring").length,pendingEval:l.filter(ce=>ce.status==="referral_pending"||ce.status==="being_evaluated").length,active:l.filter(ce=>ce.status==="receiving_services"||ce.status==="has_plan").length};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(In,{className:"h-8 w-8 animate-spin text-orange-600"})}):s.jsxs("div",{className:"space-y-6",dir:"ltr",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Special Education"}),s.jsx("p",{className:"text-slate-500",children:"Special Education Management - Students, Staff, Evaluations, and Plans"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:ze,children:[s.jsx(iC,{className:"h-4 w-4 mr-2"})," Refresh"]}),s.jsxs(Se,{onClick:()=>{E(null),oe({student_id:"",status:"monitoring",referral_reason:"",help_type:"",help_description:"",current_plan:"",referral_date:new Date().toISOString().split("T")[0]}),S(!0)},className:"bg-orange-600 hover:bg-orange-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"})," Add Student"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Kr.total}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Students"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(rs,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Kr.monitoring}),s.jsx("p",{className:"text-sm text-slate-500",children:"Monitoring"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(QP,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Kr.pendingEval}),s.jsx("p",{className:"text-sm text-slate-500",children:"Pending / Being Evaluated"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(nO,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Kr.active}),s.jsx("p",{className:"text-sm text-slate-500",children:"Receiving Services"})]})]})})]}),s.jsxs(kl,{value:n,onValueChange:a,children:[s.jsxs(Xo,{className:"grid w-full grid-cols-3",children:[s.jsxs(wr,{value:"students",children:["Students (",l.length,")"]}),s.jsxs(wr,{value:"staff",children:["Staff (",f.length,")"]}),s.jsx(wr,{value:"overview",children:"Overview"})]}),s.jsxs(Qr,{value:"students",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search student...",value:m,onChange:ce=>x(ce.target.value),className:"pl-10"})]}),s.jsxs(bt,{value:g,onValueChange:y,children:[s.jsx(xt,{className:"w-[200px]",children:s.jsx(wt,{placeholder:"Status"})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Statuses"}),jm.map(ce=>s.jsx(Ie,{value:ce.value,children:ce.label},ce.value))]})]})]}),s.jsxs("div",{className:"space-y-3",children:[Ht.map(ce=>{var $t,Er,nr,Bt,Qt,Aa,rn,Ye,Ct,mt;return s.jsx(Qe,{className:"overflow-hidden",children:s.jsxs(Ze,{className:"p-0",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>Et(ce.id),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-700 font-bold",children:((Er=($t=ce.student)==null?void 0:$t.hebrew_name)==null?void 0:Er.charAt(0))||((Bt=(nr=ce.student)==null?void 0:nr.first_name)==null?void 0:Bt.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:((Qt=ce.student)==null?void 0:Qt.hebrew_name)||`${(Aa=ce.student)==null?void 0:Aa.first_name} ${(rn=ce.student)==null?void 0:rn.last_name}`}),s.jsxs("p",{className:"text-sm text-slate-500",children:[((Ct=(Ye=ce.student)==null?void 0:Ye.class)==null?void 0:Ct.name)||"No Class"," | ",ce.help_type?(mt=cS.find(jt=>jt.value===ce.help_type))==null?void 0:mt.label:"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[rr(ce.status),ce.referral_date&&s.jsx("span",{className:"text-xs text-slate-400",children:new Date(ce.referral_date).toLocaleDateString("he-IL")}),W===ce.id?s.jsx(are,{className:"h-5 w-5 text-slate-400"}):s.jsx(rC,{className:"h-5 w-5 text-slate-400"})]})]}),ce.referral_reason&&s.jsx("div",{className:"px-4 pb-2",children:s.jsxs("p",{className:"text-sm text-orange-700 bg-orange-50 p-2 rounded",children:[s.jsx("strong",{children:"Reason/Concern:"})," ",ce.referral_reason]})}),W===ce.id&&s.jsxs("div",{className:"border-t p-4 space-y-4 bg-slate-50",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Se,{size:"sm",variant:"outline",onClick:jt=>{jt.stopPropagation(),E(ce),oe({student_id:ce.student_id,status:ce.status,referral_reason:ce.referral_reason||"",help_type:ce.help_type||"",help_description:ce.help_description||"",current_plan:ce.current_plan||"",referral_date:ce.referral_date||""}),S(!0)},children:[s.jsx(ha,{className:"h-4 w-4 mr-1"})," Edit Status"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:jt=>{jt.stopPropagation(),E(ce),se({source_type:"teacher",source_name:"",content:"",date_gathered:new Date().toISOString().split("T")[0]}),N(!0)},children:[s.jsx(Ss,{className:"h-4 w-4 mr-1"})," Add Information"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:jt=>{jt.stopPropagation(),E(ce),Q({evaluation_type:"psychoeducational",evaluator_name:"",evaluation_date:new Date().toISOString().split("T")[0],results:"",recommendations:"",plan:"",actual_actions:""}),A(!0)},children:[s.jsx(QP,{className:"h-4 w-4 mr-1"})," Add Evaluation"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:jt=>{jt.stopPropagation(),E(ce),De({tutor_name:"",tutor_phone:"",tutor_type:"private_teacher",subject:"",schedule_days:"",schedule_time:"",location:"",frequency:"weekly",session_duration_minutes:45,notes:"",start_date:new Date().toISOString().split("T")[0]}),H(!0)},children:[s.jsx(d0,{className:"h-4 w-4 mr-1"})," Add Private Tutor"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:jt=>{jt.stopPropagation(),E(ce),qe({special_ed_staff_id:"",tutor_name:"",session_date:new Date().toISOString().split("T")[0],session_time:"",duration_minutes:30,subject:"",content:"",progress_notes:"",goals_worked_on:""}),B(!0)},children:[s.jsx(Cs,{className:"h-4 w-4 mr-1"})," Log Session"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:jt=>{var Ur,Pn,Nn,vn,ne,ve;jt.stopPropagation(),Hr(`Special Education Update - ${((Ur=ce.student)==null?void 0:Ur.hebrew_name)||((Pn=ce.student)==null?void 0:Pn.first_name)}`,`There is a new update regarding ${((Nn=ce.student)==null?void 0:Nn.hebrew_name)||((vn=ce.student)==null?void 0:vn.first_name)} ${(ne=ce.student)==null?void 0:ne.last_name}

Status: ${(ve=jm.find(fe=>fe.value===ce.status))==null?void 0:ve.label}
${ce.referral_reason?`Reason: ${ce.referral_reason}`:""}`)},children:[s.jsx(to,{className:"h-4 w-4 mr-1"})," Send Email"]})]}),ce.current_plan&&s.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsx("h4",{className:"font-semibold text-purple-800 mb-1",children:"Plan:"}),s.jsx("p",{className:"text-sm text-purple-700",children:ce.current_plan})]}),ce.help_description&&s.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Help Description:"}),s.jsx("p",{className:"text-sm text-green-700",children:ce.help_description})]}),ge.infoSources.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Information Gathered (",ge.infoSources.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:ge.infoSources.map(jt=>{var Ur;return s.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx(Ft,{variant:"outline",children:((Ur=AM.find(Pn=>Pn.value===jt.source_type))==null?void 0:Ur.label)||jt.source_type}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(jt.date_gathered).toLocaleDateString("he-IL")})]}),jt.source_name&&s.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["From: ",jt.source_name]}),s.jsx("p",{className:"text-slate-700",children:jt.content})]},jt.id)})})]}),ge.evaluations.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Evaluations (",ge.evaluations.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:ge.evaluations.map(jt=>{var Ur;return s.jsxs("div",{className:"p-3 bg-white rounded border text-sm space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ft,{variant:"outline",children:((Ur=TM.find(Pn=>Pn.value===jt.evaluation_type))==null?void 0:Ur.label)||jt.evaluation_type}),s.jsx("span",{className:"text-xs text-slate-400",children:jt.evaluation_date&&new Date(jt.evaluation_date).toLocaleDateString("he-IL")})]}),jt.evaluator_name&&s.jsxs("p",{className:"text-xs text-slate-500",children:["Evaluator: ",jt.evaluator_name]}),jt.results&&s.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[s.jsx("strong",{children:"Results:"})," ",jt.results]}),jt.recommendations&&s.jsxs("div",{className:"bg-yellow-50 p-2 rounded",children:[s.jsx("strong",{children:"Recommendation:"})," ",jt.recommendations]}),jt.plan&&s.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[s.jsx("strong",{children:"Plan:"})," ",jt.plan]}),jt.actual_actions&&s.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[s.jsx("strong",{children:"Actual Actions:"})," ",jt.actual_actions]})]},jt.id)})})]}),ge.tutoring.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Private Tutors (",ge.tutoring.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:ge.tutoring.map(jt=>s.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[s.jsx("p",{className:"font-bold",children:jt.tutor_name}),jt.tutor_phone&&s.jsx("p",{className:"text-slate-500",children:jt.tutor_phone}),s.jsxs("p",{className:"text-orange-600",children:[jt.subject||"N/A"," | ",jt.schedule_days," ",jt.schedule_time]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[jt.frequency," | ",jt.session_duration_minutes," min"]})]},jt.id))})]}),ge.sessionLogs.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Session Logs (",ge.sessionLogs.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:ge.sessionLogs.map(jt=>{var Ur;return s.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"font-medium",children:[((Ur=jt.staff)==null?void 0:Ur.name)||jt.tutor_name||"N/A"," - ",jt.subject||""]}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(jt.session_date).toLocaleDateString("he-IL")})]}),s.jsx("p",{className:"text-slate-600 mt-1",children:jt.content}),jt.progress_notes&&s.jsxs("p",{className:"text-green-600 text-xs mt-1",children:["Progress: ",jt.progress_notes]})]},jt.id)})})]})]})]})},ce.id)}),Ht.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(La,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No students found"})]})]})]}),s.jsxs(Qr,{value:"staff",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Special Education Staff"}),s.jsxs(Se,{onClick:()=>{K(null),Z({name:"",hebrew_name:"",role:"resource_teacher",phone:"",email:"",specialization:"",certification:"",notes:""}),k(!0)},children:[s.jsx(on,{className:"h-4 w-4 mr-2"})," Add Staff"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(ce=>{var $t;return s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:ce.hebrew_name||ce.name}),s.jsx(Ft,{variant:"outline",children:(($t=uS.find(Er=>Er.value===ce.role))==null?void 0:$t.label)||ce.role})]}),s.jsx("div",{className:"flex gap-1",children:s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{K(ce),Z({name:ce.name||"",hebrew_name:ce.hebrew_name||"",role:ce.role||"other",phone:ce.phone||"",email:ce.email||"",specialization:ce.specialization||"",certification:ce.certification||"",notes:ce.notes||""}),k(!0)},children:s.jsx(ha,{className:"h-4 w-4"})})})]}),ce.phone&&s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:ce.phone}),ce.email&&s.jsx("p",{className:"text-sm text-slate-500",children:ce.email}),ce.specialization&&s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:ce.specialization}),s.jsx("div",{className:"mt-3 flex gap-2",children:s.jsxs(Se,{size:"sm",variant:"outline",onClick:async()=>{K(ce),await St(ce.id),D(!0)},children:[s.jsx(Qs,{className:"h-3 w-3 mr-1"})," Schedule"]})})]})},ce.id)})}),f.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(nO,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No staff added yet"})]})]}),s.jsx(Qr,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Students by Status"})}),s.jsx(Ze,{children:jm.map(ce=>{const $t=l.filter(Er=>Er.status===ce.value).length;return $t>0?s.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[s.jsx(Ft,{className:ce.color,children:ce.label}),s.jsx("span",{className:"font-bold",children:$t})]},ce.value):null})})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Students by Help Type"})}),s.jsx(Ze,{children:cS.map(ce=>{const $t=l.filter(Er=>Er.help_type===ce.value).length;return $t>0?s.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[s.jsx("span",{children:ce.label}),s.jsx(Ft,{variant:"secondary",children:$t})]},ce.value):null})})]}),s.jsxs(Qe,{className:"md:col-span-2",children:[s.jsx(er,{children:s.jsx(tr,{children:"Staff Overview"})}),s.jsx(Ze,{children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Name"}),s.jsx(lt,{children:"Role"}),s.jsx(lt,{children:"Phone"}),s.jsx(lt,{children:"Specialization"})]})}),s.jsx($a,{children:f.map(ce=>{var $t;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-medium",children:ce.hebrew_name||ce.name}),s.jsx(it,{children:(($t=uS.find(Er=>Er.value===ce.role))==null?void 0:$t.label)||ce.role}),s.jsx(it,{children:ce.phone}),s.jsx(it,{children:ce.specialization})]},ce.id)})})]})})]})]})})]}),s.jsx(ur,{open:b,onOpenChange:S,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:J?"Edit Student":"Add Student to Special Education"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Student *"}),s.jsx(U3,{students:u,value:ee.student_id,onChange:ce=>oe({...ee,student_id:ce}),placeholder:"Search student...",disabled:!!J})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Status"}),s.jsxs(bt,{value:ee.status,onValueChange:ce=>oe({...ee,status:ce}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:jm.map(ce=>s.jsx(Ie,{value:ce.value,children:ce.label},ce.value))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Reason / Concern (what needs to be evaluated)"}),s.jsx(kr,{value:ee.referral_reason,onChange:ce=>oe({...ee,referral_reason:ce.target.value}),placeholder:"Why does this child need to be evaluated?",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Help Type"}),s.jsxs(bt,{value:ee.help_type||"none",onValueChange:ce=>oe({...ee,help_type:ce==="none"?"":ce}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Choose..."})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"none",children:"None"}),cS.map(ce=>s.jsx(Ie,{value:ce.value,children:ce.label},ce.value))]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Date"}),s.jsx(We,{type:"date",value:ee.referral_date,onChange:ce=>oe({...ee,referral_date:ce.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Help Description"}),s.jsx(kr,{value:ee.help_description,onChange:ce=>oe({...ee,help_description:ce.target.value}),rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Plan"}),s.jsx(kr,{value:ee.current_plan,onChange:ce=>oe({...ee,current_plan:ce.target.value}),rows:2})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),s.jsx(Se,{onClick:_e,className:"bg-orange-600 hover:bg-orange-700",children:J?"Update":"Add"})]})]})}),s.jsx(ur,{open:_,onOpenChange:N,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Add Information"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Source"}),s.jsxs(bt,{value:G.source_type,onValueChange:ce=>se({...G,source_type:ce}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:AM.map(ce=>s.jsx(Ie,{value:ce.value,children:ce.label},ce.value))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Name (optional)"}),s.jsx(We,{value:G.source_name,onChange:ce=>se({...G,source_name:ce.target.value}),placeholder:"Source name"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Date"}),s.jsx(We,{type:"date",value:G.date_gathered,onChange:ce=>se({...G,date_gathered:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Information *"}),s.jsx(kr,{value:G.content,onChange:ce=>se({...G,content:ce.target.value}),rows:4,placeholder:"What was said / found..."})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsx(Se,{onClick:ot,children:"Save"})]})]})}),s.jsx(ur,{open:j,onOpenChange:A,children:s.jsxs(ir,{className:"max-w-2xl",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Add Evaluation Results"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Evaluation Type"}),s.jsxs(bt,{value:he.evaluation_type,onValueChange:ce=>Q({...he,evaluation_type:ce}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:TM.map(ce=>s.jsx(Ie,{value:ce.value,children:ce.label},ce.value))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Evaluator Name"}),s.jsx(We,{value:he.evaluator_name,onChange:ce=>Q({...he,evaluator_name:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Date"}),s.jsx(We,{type:"date",value:he.evaluation_date,onChange:ce=>Q({...he,evaluation_date:ce.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Results"}),s.jsx(kr,{value:he.results,onChange:ce=>Q({...he,results:ce.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Recommendations"}),s.jsx(kr,{value:he.recommendations,onChange:ce=>Q({...he,recommendations:ce.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Plan"}),s.jsx(kr,{value:he.plan,onChange:ce=>Q({...he,plan:ce.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Actual Actions Planned"}),s.jsx(kr,{value:he.actual_actions,onChange:ce=>Q({...he,actual_actions:ce.target.value}),rows:3})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),s.jsx(Se,{onClick:rt,className:"bg-blue-600 hover:bg-blue-700",children:"Save Evaluation"})]})]})}),s.jsx(ur,{open:P,onOpenChange:H,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Add Private Tutor / Therapist"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Name *"}),s.jsx(We,{value:Pe.tutor_name,onChange:ce=>De({...Pe,tutor_name:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Phone"}),s.jsx(We,{value:Pe.tutor_phone,onChange:ce=>De({...Pe,tutor_phone:ce.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Type"}),s.jsxs(bt,{value:Pe.tutor_type,onValueChange:ce=>De({...Pe,tutor_type:ce}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"private_teacher",children:"Private Teacher"}),s.jsx(Ie,{value:"speech",children:"Speech"}),s.jsx(Ie,{value:"OT",children:"OT"}),s.jsx(Ie,{value:"reading_specialist",children:"Reading Specialist"}),s.jsx(Ie,{value:"the",children:"THE"}),s.jsx(Ie,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Subject"}),s.jsx(We,{value:Pe.subject,onChange:ce=>De({...Pe,subject:ce.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Days"}),s.jsx(We,{value:Pe.schedule_days,onChange:ce=>De({...Pe,schedule_days:ce.target.value}),placeholder:"Monday, Wednesday"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Time"}),s.jsx(We,{value:Pe.schedule_time,onChange:ce=>De({...Pe,schedule_time:ce.target.value}),placeholder:"2:00-3:00"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Location"}),s.jsx(We,{value:Pe.location,onChange:ce=>De({...Pe,location:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Frequency"}),s.jsxs(bt,{value:Pe.frequency,onValueChange:ce=>De({...Pe,frequency:ce}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"daily",children:"Daily"}),s.jsx(Ie,{value:"weekly",children:"Weekly"}),s.jsx(Ie,{value:"bi-weekly",children:"Bi-Weekly"}),s.jsx(Ie,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Minutes"}),s.jsx(We,{type:"number",value:Pe.session_duration_minutes,onChange:ce=>De({...Pe,session_duration_minutes:parseInt(ce.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Notes"}),s.jsx(kr,{value:Pe.notes,onChange:ce=>De({...Pe,notes:ce.target.value}),rows:2})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),s.jsx(Se,{onClick:qt,children:"Save"})]})]})}),s.jsx(ur,{open:C,onOpenChange:k,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:V?"Edit Staff":"Add Staff Member"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Name *"}),s.jsx(We,{value:je.name,onChange:ce=>Z({...je,name:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Hebrew Name"}),s.jsx(We,{value:je.hebrew_name,onChange:ce=>Z({...je,hebrew_name:ce.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Role"}),s.jsxs(bt,{value:je.role,onValueChange:ce=>Z({...je,role:ce}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:uS.map(ce=>s.jsx(Ie,{value:ce.value,children:ce.label},ce.value))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Specialization"}),s.jsx(We,{value:je.specialization,onChange:ce=>Z({...je,specialization:ce.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Phone"}),s.jsx(We,{value:je.phone,onChange:ce=>Z({...je,phone:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Email"}),s.jsx(We,{type:"email",value:je.email,onChange:ce=>Z({...je,email:ce.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Certification"}),s.jsx(We,{value:je.certification,onChange:ce=>Z({...je,certification:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Notes"}),s.jsx(kr,{value:je.notes,onChange:ce=>Z({...je,notes:ce.target.value}),rows:2})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),s.jsx(Se,{onClick:gt,className:"bg-orange-600 hover:bg-orange-700",children:V?"Update":"Add"})]})]})}),s.jsx(ur,{open:U,onOpenChange:D,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsxs(fr,{children:["Schedule for ",(V==null?void 0:V.hebrew_name)||(V==null?void 0:V.name)]})}),s.jsxs("div",{className:"space-y-4",children:[ft.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Current Schedule:"}),ft.map(ce=>s.jsxs("div",{className:"p-2 bg-slate-50 rounded border text-sm flex justify-between items-center",children:[s.jsxs("span",{children:[CM[ce.day_of_week],": ",ce.start_time," - ",ce.end_time]}),s.jsx(Ft,{variant:ce.status==="available"||ce.status==="in_school"?"default":"destructive",children:ce.status==="available"?"Available":ce.status==="busy"?"Busy":ce.status==="in_school"?"In School":"Unavailable"})]},ce.id))]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Add New Time Slot:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Day"}),s.jsxs(bt,{value:String(ke.day_of_week),onValueChange:ce=>Ge({...ke,day_of_week:parseInt(ce)}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:CM.map((ce,$t)=>s.jsx(Ie,{value:String($t),children:ce},$t))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Status"}),s.jsxs(bt,{value:ke.status,onValueChange:ce=>Ge({...ke,status:ce}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"in_school",children:"In School"}),s.jsx(Ie,{value:"available",children:"Available"}),s.jsx(Ie,{value:"busy",children:"Busy"}),s.jsx(Ie,{value:"unavailable",children:"Unavailable"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"From"}),s.jsx(We,{type:"time",value:ke.start_time,onChange:ce=>Ge({...ke,start_time:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"To"}),s.jsx(We,{type:"time",value:ke.end_time,onChange:ce=>Ge({...ke,end_time:ce.target.value})})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx(ye,{children:"Location"}),s.jsx(We,{value:ke.location,onChange:ce=>Ge({...ke,location:ce.target.value}),placeholder:"Room number"})]})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>D(!1),children:"Close"}),s.jsx(Se,{onClick:jr,children:"Add Time Slot"})]})]})}),s.jsx(ur,{open:M,onOpenChange:B,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Log Session"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Staff Member"}),s.jsxs(bt,{value:Le.special_ed_staff_id||"none",onValueChange:ce=>qe({...Le,special_ed_staff_id:ce==="none"?"":ce}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Choose..."})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"none",children:"Other / External"}),f.map(ce=>s.jsx(Ie,{value:ce.id,children:ce.hebrew_name||ce.name},ce.id))]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Or: External Name"}),s.jsx(We,{value:Le.tutor_name,onChange:ce=>qe({...Le,tutor_name:ce.target.value}),placeholder:"Name"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Date"}),s.jsx(We,{type:"date",value:Le.session_date,onChange:ce=>qe({...Le,session_date:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Time"}),s.jsx(We,{type:"time",value:Le.session_time,onChange:ce=>qe({...Le,session_time:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Minutes"}),s.jsx(We,{type:"number",value:Le.duration_minutes,onChange:ce=>qe({...Le,duration_minutes:parseInt(ce.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Subject"}),s.jsx(We,{value:Le.subject,onChange:ce=>qe({...Le,subject:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Content *"}),s.jsx(kr,{value:Le.content,onChange:ce=>qe({...Le,content:ce.target.value}),rows:3,placeholder:"What was done..."})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Progress Notes"}),s.jsx(kr,{value:Le.progress_notes,onChange:ce=>qe({...Le,progress_notes:ce.target.value}),rows:2})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Goals Worked On"}),s.jsx(We,{value:Le.goals_worked_on,onChange:ce=>qe({...Le,goals_worked_on:ce.target.value})})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),s.jsx(Se,{onClick:Gt,children:"Save"})]})]})}),s.jsx(xx,{isOpen:I,onClose:()=>q(!1),defaultSubject:F.subject,defaultBody:F.body,currentUser:t})]})},EM=[{value:"general",label:"General"},{value:"teacher_meeting",label:"Met with Teacher"},{value:"discipline",label:"Discipline"},{value:"academic",label:"Academic"},{value:"behavioral",label:"Behavior"},{value:"parent_feedback",label:"Parent Feedback"},{value:"other",label:"Other"}],BBe=({role:e,currentUser:t})=>{var K;const{toast:r}=Cr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState(null),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState({}),[m,x]=O.useState(null),[g,y]=O.useState(!1),[b,S]=O.useState(!1),[_,N]=O.useState(!1),[j,A]=O.useState({}),[P,H]=O.useState(null),[C,k]=O.useState({title:"",content:"",note_type:"general",edit_mode:"update"}),[U,D]=O.useState({title:"",content:"",edit_mode:"update"}),[M,B]=O.useState(null),[I,q]=O.useState("");O.useEffect(()=>{F()},[]),O.useEffect(()=>{l&&z(l.id)},[l]);const F=async()=>{a(!0);try{const{data:W}=await Ne.from("classes").select(`
          *,
          grade:grades(id, name, grade_number),
          hebrew_staff:app_users!hebrew_teacher_id(id, first_name, last_name),
          english_staff:app_users!english_teacher_id(id, first_name, last_name),
          students:students!class_id(id)
        `).eq("is_active",!0).order("name");o((W||[]).map(Y=>{var ee;return{...Y,student_count:((ee=Y.students)==null?void 0:ee.length)||0}}))}catch(W){console.error("Error loading classes:",W)}finally{a(!1)}},z=async W=>{try{const{data:Y}=await Ne.from("students").select(`
          *,
          class:classes!class_id(name, grade:grades(name))
        `).eq("class_id",W).eq("status","active").order("last_name");d(Y||[]);const{data:ee}=await Ne.from("class_notes").select("*").eq("class_id",W).eq("is_active",!0).order("created_at",{ascending:!1});h(ee||[]);const oe=(Y||[]).map(G=>G.id);if(oe.length>0){const{data:G}=await Ne.from("student_notes").select("*").in("student_id",oe).eq("is_active",!0).order("created_at",{ascending:!1}).limit(100),se={};(G||[]).forEach(he=>{se[he.student_id]||(se[he.student_id]=[]),se[he.student_id].push(he)}),v(se)}}catch(Y){console.error("Error loading class data:",Y)}},J=async()=>{if(!U.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{if(M&&U.edit_mode==="edit"){const{error:W}=await Ne.from("class_notes").update({title:U.title,content:U.content,previous_content:M.content,edit_mode:"edit",updated_at:new Date().toISOString()}).eq("id",M.id);if(W)throw W;r({title:"Edited",description:"Note has been updated"})}else{const{error:W}=await Ne.from("class_notes").insert([{class_id:l.id,title:U.title||null,content:U.content,edit_mode:"update",created_by:t==null?void 0:t.id,created_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)}]);if(W)throw W;r({title:"Added",description:"Note has been added"})}y(!1),B(null),z(l.id)}catch(W){r({variant:"destructive",title:"Error",description:W.message})}},E=async()=>{if(!C.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{if(M&&C.edit_mode==="edit"){const{error:W}=await Ne.from("student_notes").update({title:C.title,content:C.content,note_type:C.note_type,previous_content:M.content,edit_mode:"edit",updated_at:new Date().toISOString()}).eq("id",M.id);if(W)throw W;r({title:"Edited",description:"Note has been updated (previous version kept as record)"})}else{const{error:W}=await Ne.from("student_notes").insert([{student_id:P.id,title:C.title||null,content:C.content,note_type:C.note_type,edit_mode:"update",created_by:t==null?void 0:t.id,created_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)}]);if(W)throw W;r({title:"Added",description:"Note has been added for this student"})}S(!1),B(null),z(l.id)}catch(W){r({variant:"destructive",title:"Error",description:W.message})}},V=u.filter(W=>{var ee,oe,G,se;if(!I)return!0;const Y=I.toLowerCase();return((ee=W.first_name)==null?void 0:ee.toLowerCase().includes(Y))||((oe=W.last_name)==null?void 0:oe.toLowerCase().includes(Y))||((G=W.hebrew_name)==null?void 0:G.includes(I))||((se=W.father_name)==null?void 0:se.toLowerCase().includes(Y))});return m?s.jsx($G,{studentId:m,onBack:()=>x(null)}):n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(In,{className:"h-8 w-8 animate-spin text-blue-600"})}):l?s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Se,{variant:"ghost",onClick:()=>c(null),children:s.jsx(X$,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Class ",l.name]}),s.jsxs("p",{className:"text-slate-500",children:[(K=l.grade)==null?void 0:K.name," | ",u.length," Students",l.hebrew_staff&&` | Teacher: ${l.hebrew_staff.first_name} ${l.hebrew_staff.last_name}`]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:()=>{B(null),D({title:"",content:"",edit_mode:"update"}),y(!0)},children:[s.jsx(Ss,{className:"h-4 w-4 ml-2"})," Note for Class"]}),s.jsxs(Se,{variant:"outline",onClick:()=>{A({subject:`Class ${l.name} - Update`,body:`Update about Class ${l.name}

`}),N(!0)},children:[s.jsx(to,{className:"h-4 w-4 ml-2"})," Send Email"]})]})]}),f.length>0&&s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs(tr,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ss,{className:"h-5 w-5 text-blue-600"}),"Class Notes (",f.length,")"]})}),s.jsx(Ze,{children:s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:f.map(W=>s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[W.title&&s.jsx("span",{className:"font-bold",children:W.title}),W.edit_mode==="edit"&&s.jsx(Ft,{className:"bg-orange-100 text-orange-800 text-xs",children:"Edited"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-400",children:new Date(W.created_at).toLocaleDateString("he-IL")}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{B(W),D({title:W.title||"",content:W.content,edit_mode:"edit"}),y(!0)},children:s.jsx(ha,{className:"h-3 w-3"})})]})]}),s.jsx("p",{className:"text-slate-700",children:W.content}),W.previous_content&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-orange-600 cursor-pointer",children:"Previous version"}),s.jsx("p",{className:"text-xs text-slate-400 mt-1 p-2 bg-white rounded",children:W.previous_content})]}),W.created_by_name&&s.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["By: ",W.created_by_name]})]},W.id))})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(xi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{value:I,onChange:W=>q(W.target.value),placeholder:"Search student in class...",className:"pr-10"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:V.map(W=>s.jsx(Qe,{className:"hover:shadow-md transition-all",children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"cursor-pointer",onClick:()=>x(W.id),children:[s.jsx("h3",{className:"font-bold text-lg text-slate-800 hover:text-blue-600 transition-colors",children:W.hebrew_name||`${W.first_name} ${W.last_name}`}),W.hebrew_name&&s.jsxs("p",{className:"text-sm text-slate-500",children:[W.first_name," ",W.last_name]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{H(W),B(null),k({title:"",content:"",note_type:"general",edit_mode:"update"}),S(!0)},title:"Add Note",children:s.jsx(f0,{className:"h-4 w-4 text-blue-600"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{A({subject:`About ${W.hebrew_name||W.first_name} ${W.last_name}`,body:`Information about ${W.hebrew_name||W.first_name} ${W.last_name}
Class: ${l.name}

`}),N(!0)},title:"Send Email",children:s.jsx(to,{className:"h-4 w-4 text-green-600"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm text-slate-600 mb-3",children:[W.father_name&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Father:"})," ",W.father_name]}),W.father_phone&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.jsx("a",{href:`tel:${W.father_phone}`,className:"text-blue-600",children:W.father_phone})]}),W.mother_name&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Mother:"})," ",W.mother_name]}),W.mother_phone&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.jsx("a",{href:`tel:${W.mother_phone}`,className:"text-blue-600",children:W.mother_phone})]}),W.address&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",W.address]}),W.date_of_birth&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Birthday:"})," ",new Date(W.date_of_birth).toLocaleDateString("he-IL")]}),W.emergency_contact&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Emergency:"})," ",W.emergency_contact," ",W.emergency_phone]})]}),W.notes&&s.jsx("div",{className:"p-2 bg-yellow-50 rounded text-sm text-yellow-800 mb-2",children:W.notes}),p[W.id]&&p[W.id].length>0&&s.jsxs("div",{className:"border-t pt-2 mt-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:["Notes (",p[W.id].length,"):"]}),s.jsxs("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[p[W.id].slice(0,3).map(Y=>{var ee;return s.jsxs("div",{className:"p-2 bg-slate-50 rounded text-xs border",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ft,{variant:"outline",className:"text-[10px] py-0",children:((ee=EM.find(oe=>oe.value===Y.note_type))==null?void 0:ee.label)||Y.note_type}),Y.title&&s.jsx("span",{className:"font-medium",children:Y.title})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-slate-400",children:new Date(Y.created_at).toLocaleDateString("he-IL")}),s.jsx(Se,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{H(W),B(Y),k({title:Y.title||"",content:Y.content,note_type:Y.note_type,edit_mode:"edit"}),S(!0)},children:s.jsx(ha,{className:"h-3 w-3"})})]})]}),s.jsx("p",{className:"text-slate-600 mt-1",children:Y.content})]},Y.id)}),p[W.id].length>3&&s.jsxs("p",{className:"text-xs text-blue-600 cursor-pointer",onClick:()=>x(W.id),children:["+ ",p[W.id].length-3," more notes..."]})]})]})]})},W.id))}),V.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(La,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No students found in this class"})]}),s.jsx(ur,{open:g,onOpenChange:y,children:s.jsxs(ir,{className:"max-w-lg",dir:"rtl",children:[s.jsx(dr,{children:s.jsx(fr,{children:M?"Edit Class Note":"New Note for Class "+(l==null?void 0:l.name)})}),s.jsxs("div",{className:"space-y-4 py-2",children:[M&&s.jsxs("div",{children:[s.jsx(ye,{children:"Mode"}),s.jsxs(bt,{value:U.edit_mode,onValueChange:W=>D({...U,edit_mode:W}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"update",children:"UPDATE - Keep old, add new"}),s.jsx(Ie,{value:"edit",children:"EDIT - Replace text (keep record)"})]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Title (optional)"}),s.jsx(We,{value:U.title,onChange:W=>D({...U,title:W.target.value}),placeholder:"Short description"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Content *"}),s.jsx(kr,{value:U.content,onChange:W=>D({...U,content:W.target.value}),rows:5,placeholder:"Write here..."})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Se,{onClick:J,children:M&&U.edit_mode==="edit"?"EDIT - Replace":"UPDATE - Add"})]})]})}),s.jsx(ur,{open:b,onOpenChange:S,children:s.jsxs(ir,{className:"max-w-lg",dir:"rtl",children:[s.jsx(dr,{children:s.jsxs(fr,{children:[M?"Edit Note":"New Note"," - ",(P==null?void 0:P.hebrew_name)||(P==null?void 0:P.first_name)]})}),s.jsxs("div",{className:"space-y-4 py-2",children:[M&&s.jsxs("div",{children:[s.jsx(ye,{children:"Mode"}),s.jsxs(bt,{value:C.edit_mode,onValueChange:W=>k({...C,edit_mode:W}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"update",children:"UPDATE - Keep old, add new"}),s.jsx(Ie,{value:"edit",children:"EDIT - Replace text (keep record)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Type"}),s.jsxs(bt,{value:C.note_type,onValueChange:W=>k({...C,note_type:W}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:EM.map(W=>s.jsx(Ie,{value:W.value,children:W.label},W.value))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Title"}),s.jsx(We,{value:C.title,onChange:W=>k({...C,title:W.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Content * (Every communication about/with this child)"}),s.jsx(kr,{value:C.content,onChange:W=>k({...C,content:W.target.value}),rows:5,placeholder:"What was discussed..."})]})]}),s.jsxs(Ar,{className:"flex justify-between",children:[s.jsxs(Se,{variant:"outline",onClick:()=>{A({subject:`Note - ${(P==null?void 0:P.hebrew_name)||(P==null?void 0:P.first_name)}`,body:`${C.title?C.title+`

`:""}${C.content}`}),N(!0)},children:[s.jsx(to,{className:"h-4 w-4 ml-1"})," Send Email"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),s.jsx(Se,{onClick:E,children:M&&C.edit_mode==="edit"?"EDIT - Replace":"UPDATE - Add"})]})]})]})}),s.jsx(xx,{isOpen:_,onClose:()=>N(!1),defaultSubject:j.subject,defaultBody:j.body,currentUser:t})]}):s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Classes - Detail View"}),s.jsx("p",{className:"text-slate-500",children:"Open a class to see all students with all information"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(W=>{var Y;return s.jsx(Qe,{className:"cursor-pointer hover:shadow-lg transition-all hover:border-blue-200",onClick:()=>c(W),children:s.jsxs(Ze,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800",children:W.name}),s.jsx(Q$,{className:"h-5 w-5 text-slate-400"})]}),s.jsx(Ft,{variant:"outline",className:"mb-3",children:(Y=W.grade)==null?void 0:Y.name}),s.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Students:"}),s.jsx(Ft,{variant:"secondary",children:W.student_count})]}),W.hebrew_staff&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Teacher:"}),s.jsxs("span",{children:[W.hebrew_staff.first_name," ",W.hebrew_staff.last_name]})]}),W.english_staff&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"English:"}),s.jsxs("span",{children:[W.english_staff.first_name," ",W.english_staff.last_name]})]})]})]})},W.id)})})]})},UBe=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(new Date().toISOString().split("T")[0]),[p,v]=O.useState("all"),[m,x]=O.useState(""),[g,y]=O.useState(!1),[b,S]=O.useState(!1),[_,N]=O.useState({}),[j,A]=O.useState({student_id:"",arrival_time:new Date().toTimeString().slice(0,5),minutes_late:"",reason:"",notes:""});O.useEffect(()=>{P()},[f]);const P=async()=>{a(!0);try{const{data:I}=await Ne.from("late_arrivals").select(`
          *,
          student:students(id, first_name, last_name, hebrew_name, class_id,
            class:classes!class_id(name, grade:grades(name)),
            father_name, father_phone
          )
        `).eq("date",f).order("arrival_time",{ascending:!1});o(I||[]);const{data:q}=await Ne.from("students").select("id, first_name, last_name, hebrew_name, class_id, class:classes!class_id(name)").eq("status","active").order("last_name");c(q||[]);const{data:F}=await Ne.from("classes").select("id, name, grade:grades(name)").order("name");d(F||[])}catch(I){console.error("Error loading data:",I)}finally{a(!1)}},H=async()=>{if(!j.student_id){r({variant:"destructive",title:"Error",description:"Please select a student"});return}try{const{data:I,error:q}=await Ne.from("late_arrivals").insert([{student_id:j.student_id,date:f,arrival_time:j.arrival_time||null,minutes_late:j.minutes_late?parseInt(j.minutes_late):null,reason:j.reason||null,notes:j.notes||null,recorded_by:t==null?void 0:t.id}]).select("*, student:students(*, class:classes!class_id(*))");if(q)throw q;r({title:"Recorded",description:"Late arrival has been recorded"}),y(!1),A({student_id:"",arrival_time:new Date().toTimeString().slice(0,5),minutes_late:"",reason:"",notes:""}),P(),I&&I[0]&&U(I[0])}catch(I){r({variant:"destructive",title:"Error",description:I.message})}},C=async I=>{await Ne.from("late_arrivals").update({slip_printed:!0}).eq("id",I),P()},k=async I=>{await Ne.from("late_arrivals").update({slip_given_to_teacher:!0}).eq("id",I),P()},U=I=>{var z,J,E,V,K;const q=`
      <html dir="rtl">
      <head><style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
        .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 15px; }
        .field { margin: 8px 0; font-size: 14px; }
        .label { font-weight: bold; }
        .footer { border-top: 1px solid #ccc; margin-top: 20px; padding-top: 10px; text-align: center; font-size: 12px; color: #666; }
      </style></head>
      <body>
        <div class="header">
          <h2>Slip - Late Arrival</h2>
          <p>${new Date(f).toLocaleDateString("en-US")}</p>
        </div>
        <div class="field"><span class="label">Student:</span> ${((z=I.student)==null?void 0:z.hebrew_name)||`${(J=I.student)==null?void 0:J.first_name} ${(E=I.student)==null?void 0:E.last_name}`}</div>
        <div class="field"><span class="label">Class:</span> ${((K=(V=I.student)==null?void 0:V.class)==null?void 0:K.name)||"N/A"}</div>
        <div class="field"><span class="label">Arrival Time:</span> ${I.arrival_time||"N/A"}</div>
        <div class="field"><span class="label">Minutes Late:</span> ${I.minutes_late||"N/A"}</div>
        ${I.reason?`<div class="field"><span class="label">Reason:</span> ${I.reason}</div>`:""}
        <div class="footer">Recorded by Assistant Principal</div>
      </body></html>
    `,F=window.open("","_blank");F.document.write(q),F.document.close(),F.print(),C(I.id)},D=()=>{const I=M.filter(z=>!z.slip_printed);if(I.length===0){r({title:"Info",description:"All slips have already been printed"});return}const q=I.map(z=>{var J,E,V,K,W;return`
      <div style="page-break-after: always; padding: 20px; max-width: 400px; margin: 0 auto; border: 1px solid #ccc; margin-bottom: 20px;">
        <div style="text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 15px;">
          <h3>Slip - Late Arrival</h3>
          <p>${new Date(f).toLocaleDateString("en-US")}</p>
        </div>
        <p><strong>Student:</strong> ${((J=z.student)==null?void 0:J.hebrew_name)||`${(E=z.student)==null?void 0:E.first_name} ${(V=z.student)==null?void 0:V.last_name}`}</p>
        <p><strong>Class:</strong> ${((W=(K=z.student)==null?void 0:K.class)==null?void 0:W.name)||"N/A"}</p>
        <p><strong>Time:</strong> ${z.arrival_time||"N/A"} (${z.minutes_late||"?"} minutes late)</p>
        ${z.reason?`<p><strong>Reason:</strong> ${z.reason}</p>`:""}
      </div>
    `}).join(""),F=window.open("","_blank");F.document.write(`<html dir="rtl"><head><style>body { font-family: Arial, sans-serif; }</style></head><body>${q}</body></html>`),F.document.close(),F.print(),I.forEach(z=>C(z.id))},M=i.filter(I=>{var z,J,E,V,K,W,Y;const q=p==="all"||((z=I.student)==null?void 0:z.class_id)===p,F=!m||((E=(J=I.student)==null?void 0:J.first_name)==null?void 0:E.toLowerCase().includes(m.toLowerCase()))||((K=(V=I.student)==null?void 0:V.last_name)==null?void 0:K.toLowerCase().includes(m.toLowerCase()))||((Y=(W=I.student)==null?void 0:W.hebrew_name)==null?void 0:Y.includes(m));return q&&F}),B={};return M.forEach(I=>{var F,z;const q=((z=(F=I.student)==null?void 0:F.class)==null?void 0:z.name)||"No Class";B[q]||(B[q]=[]),B[q].push(I)}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(In,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Late Arrivals"}),s.jsx("p",{className:"text-slate-500",children:"Track students who arrive late, print slips for teachers"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:D,children:[s.jsx(Dy,{className:"h-4 w-4 ml-2"})," Print All Slips"]}),s.jsxs(Se,{onClick:()=>{A({student_id:"",arrival_time:new Date().toTimeString().slice(0,5),minutes_late:"",reason:"",notes:""}),y(!0)},className:"bg-amber-600 hover:bg-amber-700",children:[s.jsx(on,{className:"h-4 w-4 ml-2"})," Add Late Arrival"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(rs,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Late Today"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Dy,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(I=>!I.slip_printed).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Not Printed"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ss,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(I=>I.slip_given_to_teacher).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Given to Teacher"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Object.keys(B).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Classes Affected"})]})]})})]}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Date"}),s.jsx(We,{type:"date",value:f,onChange:I=>h(I.target.value),className:"w-[200px]"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ye,{children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(xi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{value:m,onChange:I=>x(I.target.value),placeholder:"Search student...",className:"pr-10"})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Class"}),s.jsxs(bt,{value:p,onValueChange:v,children:[s.jsx(xt,{className:"w-[160px]",children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All Classes"}),u.map(I=>s.jsx(Ie,{value:I.id,children:I.name},I.id))]})]})]})]})})}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs(tr,{children:["Late Arrivals - ",new Date(f).toLocaleDateString("en-US")]})}),s.jsx(Ze,{className:"p-0",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"Time"}),s.jsx(lt,{children:"Minutes Late"}),s.jsx(lt,{children:"Reason"}),s.jsx(lt,{children:"Slip"}),s.jsx(lt,{children:"Actions"})]})}),s.jsxs($a,{children:[M.map(I=>{var q,F,z,J,E;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-medium",children:((q=I.student)==null?void 0:q.hebrew_name)||`${(F=I.student)==null?void 0:F.first_name} ${(z=I.student)==null?void 0:z.last_name}`}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",children:((E=(J=I.student)==null?void 0:J.class)==null?void 0:E.name)||"N/A"})}),s.jsx(it,{children:I.arrival_time||"-"}),s.jsx(it,{children:I.minutes_late&&s.jsxs(Ft,{className:I.minutes_late>15?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:[I.minutes_late," min"]})}),s.jsx(it,{className:"max-w-[200px] truncate",children:I.reason||"-"}),s.jsx(it,{children:s.jsxs("div",{className:"flex gap-1",children:[I.slip_printed?s.jsx(Ft,{className:"bg-green-100 text-green-800",children:"Printed"}):s.jsx(Ft,{className:"bg-gray-100 text-gray-600",children:"No"}),I.slip_given_to_teacher&&s.jsx(Ft,{className:"bg-blue-100 text-blue-800",children:"Given"})]})}),s.jsx(it,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>U(I),title:"Print Slip",children:s.jsx(Dy,{className:"h-4 w-4"})}),!I.slip_given_to_teacher&&I.slip_printed&&s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>k(I.id),title:"Mark as Given",children:s.jsx(Ss,{className:"h-4 w-4 text-green-600"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{var V,K,W,Y,ee;N({subject:`Late Arrival - ${((V=I.student)==null?void 0:V.hebrew_name)||((K=I.student)==null?void 0:K.first_name)}`,body:`${((W=I.student)==null?void 0:W.hebrew_name)||((Y=I.student)==null?void 0:Y.first_name)} ${(ee=I.student)==null?void 0:ee.last_name} arrived late on ${new Date(f).toLocaleDateString("en-US")}

Time: ${I.arrival_time||"N/A"}
Minutes Late: ${I.minutes_late||"N/A"}
Reason: ${I.reason||"N/A"}`}),S(!0)},children:s.jsx(to,{className:"h-4 w-4 text-blue-600"})})]})})]},I.id)}),M.length===0&&s.jsx(xr,{children:s.jsxs(it,{colSpan:7,className:"text-center py-12 text-slate-500",children:[s.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsxs("p",{children:["No one arrived late on ",new Date(f).toLocaleDateString("en-US")]})]})})]})]})})]}),Object.keys(B).length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(B).map(([I,q])=>s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-2",children:s.jsxs(tr,{className:"text-sm flex items-center justify-between",children:[s.jsxs("span",{children:["Class ",I]}),s.jsxs(Ft,{children:[q.length," late"]})]})}),s.jsx(Ze,{children:s.jsx("div",{className:"space-y-1",children:q.map(F=>{var z,J;return s.jsxs("div",{className:"text-sm flex justify-between items-center py-1 border-b last:border-0",children:[s.jsx("span",{children:((z=F.student)==null?void 0:z.hebrew_name)||((J=F.student)==null?void 0:J.first_name)}),s.jsx("span",{className:"text-slate-400",children:F.arrival_time})]},F.id)})})})]},I))}),s.jsx(ur,{open:g,onOpenChange:y,children:s.jsxs(ir,{className:"max-w-lg",dir:"rtl",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Record Late Arrival"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Student *"}),s.jsx(U3,{students:l,value:j.student_id,onChange:I=>A({...j,student_id:I}),placeholder:"Search student..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Arrival Time"}),s.jsx(We,{type:"time",value:j.arrival_time,onChange:I=>A({...j,arrival_time:I.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Minutes Late"}),s.jsx(We,{type:"number",value:j.minutes_late,onChange:I=>A({...j,minutes_late:I.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Reason"}),s.jsx(We,{value:j.reason,onChange:I=>A({...j,reason:I.target.value}),placeholder:"Why late?"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Notes"}),s.jsx(kr,{value:j.notes,onChange:I=>A({...j,notes:I.target.value}),rows:2})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Se,{onClick:H,className:"bg-amber-600 hover:bg-amber-700",children:"Record"})]})]})}),s.jsx(xx,{isOpen:b,onClose:()=>S(!1),defaultSubject:_.subject,defaultBody:_.body,currentUser:t})]})},zBe=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState(!0);O.useState("changes");const[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(new Date().toISOString().split("T")[0]),[p,v]=O.useState("all"),[m,x]=O.useState(!1),[g,y]=O.useState(!1),[b,S]=O.useState(!1),[_,N]=O.useState({}),[j,A]=O.useState(null),[P,H]=O.useState({route_name:"",route_number:"",driver_name:"",driver_phone:""}),[C,k]=O.useState({student_id:"",change_date:new Date().toISOString().split("T")[0],original_bus_id:"",new_bus_id:"",change_type:"one_time",reason:"",pickup_address:"",effective_from:"",effective_until:"",notes:""});O.useEffect(()=>{U()},[f]);const U=async()=>{a(!0);try{const[z,J,E]=await Promise.all([Ne.from("bus_routes").select("*").eq("is_active",!0).order("route_name"),Ne.from("bus_changes").select(`
          *,
          student:students(id, first_name, last_name, hebrew_name, class_id,
            class:classes!class_id(name)),
          original_bus:bus_routes!original_bus_id(route_name, route_number),
          new_bus:bus_routes!new_bus_id(route_name, route_number)
        `).gte("change_date",f).order("change_date",{ascending:!0}),Ne.from("students").select("id, first_name, last_name, hebrew_name, class_id, class:classes!class_id(name)").eq("status","active").order("last_name")]);o(z.data||[]),c(J.data||[]),d(E.data||[])}catch(z){console.error("Error loading:",z)}finally{a(!1)}},D=async()=>{if(!P.route_name){r({variant:"destructive",title:"Error",description:"Please enter a route name"});return}try{if(j){const{error:z}=await Ne.from("bus_routes").update(P).eq("id",j.id);if(z)throw z}else{const{error:z}=await Ne.from("bus_routes").insert([P]);if(z)throw z}r({title:"Saved",description:"Bus route saved successfully"}),x(!1),U()}catch(z){r({variant:"destructive",title:"Error",description:z.message})}},M=async z=>{if(k(J=>({...J,student_id:z,original_bus_id:""})),!!z)try{const{data:J}=await Ne.from("student_bus_assignments").select("bus_route_id").eq("student_id",z).eq("is_active",!0).single();J!=null&&J.bus_route_id&&k(E=>({...E,original_bus_id:J.bus_route_id}))}catch{}},B=async()=>{if(!C.student_id){r({variant:"destructive",title:"Error",description:"Please select a student"});return}try{const{error:z}=await Ne.from("bus_changes").insert([{...C,original_bus_id:C.original_bus_id||null,new_bus_id:C.new_bus_id||null,effective_from:C.effective_from||C.change_date,effective_until:C.effective_until||null,created_by:t==null?void 0:t.id}]);if(z)throw z;r({title:"New Change",description:"Bus change recorded"}),y(!1),U()}catch(z){r({variant:"destructive",title:"Error",description:z.message})}},I=()=>{const z=l.filter(V=>V.change_date===f);if(z.length===0){r({title:"Info",description:"No changes for today"});return}const J=`
      <html dir="rtl">
      <head><style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h1 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: right; }
        th { background: #f0f0f0; }
        .footer { text-align: center; margin-top: 30px; font-size: 12px; color: #666; }
      </style></head>
      <body>
        <h1>Bus Changes - ${new Date(f).toLocaleDateString("en-US")}</h1>
        <table>
          <thead>
            <tr>
              <th>Student</th>
              <th>Class</th>
              <th>From Bus</th>
              <th>To Bus</th>
              <th>Type</th>
              <th>Reason</th>
            </tr>
          </thead>
          <tbody>
            ${z.map(V=>{var K,W,Y,ee,oe,G,se;return`
              <tr>
                <td>${((K=V.student)==null?void 0:K.hebrew_name)||`${(W=V.student)==null?void 0:W.first_name} ${(Y=V.student)==null?void 0:Y.last_name}`}</td>
                <td>${((oe=(ee=V.student)==null?void 0:ee.class)==null?void 0:oe.name)||"N/A"}</td>
                <td>${((G=V.original_bus)==null?void 0:G.route_name)||"-"}</td>
                <td>${((se=V.new_bus)==null?void 0:se.route_name)||"-"}</td>
                <td>${V.change_type==="one_time"?"One Time":V.change_type==="temporary"?"Temporary":"Permanent"}</td>
                <td>${V.reason||"-"}</td>
              </tr>
            `}).join("")}
          </tbody>
        </table>
        <div class="footer">Printed from system</div>
      </body></html>
    `,E=window.open("","_blank");E.document.write(J),E.document.close(),E.print()},q=async z=>{confirm("Are you sure?")&&(await Ne.from("bus_routes").update({is_active:!1}).eq("id",z),U())},F=l.filter(z=>p==="all"||z.change_type===p);return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(In,{className:"h-8 w-8 animate-spin text-cyan-600"})}):s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Bus Changes"}),s.jsx("p",{className:"text-slate-500",children:"Create and print bus changes"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:I,children:[s.jsx(Dy,{className:"h-4 w-4 ml-2"})," Print"]}),s.jsxs(Se,{variant:"outline",onClick:()=>{A(null),H({route_name:"",route_number:"",driver_name:"",driver_phone:""}),x(!0)},children:[s.jsx(yre,{className:"h-4 w-4 ml-2"})," New Route"]}),s.jsxs(Se,{onClick:()=>{k({student_id:"",change_date:f,original_bus_id:"",new_bus_id:"",change_type:"one_time",reason:"",pickup_address:"",effective_from:"",effective_until:"",notes:""}),y(!0)},className:"bg-cyan-600 hover:bg-cyan-700",children:[s.jsx(on,{className:"h-4 w-4 ml-2"})," New Change"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-cyan-100 rounded-lg",children:s.jsx(Wh,{className:"h-6 w-6 text-cyan-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Bus Routes"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(rs,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:l.filter(z=>z.change_date===f).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Changes Today"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Cs,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:l.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Upcoming"})]})]})})]}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"From Date"}),s.jsx(We,{type:"date",value:f,onChange:z=>h(z.target.value),className:"w-[200px]"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Change Type"}),s.jsxs(bt,{value:p,onValueChange:v,children:[s.jsx(xt,{className:"w-[180px]",children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"all",children:"All"}),s.jsx(Ie,{value:"one_time",children:"One Time"}),s.jsx(Ie,{value:"temporary",children:"Temporary"}),s.jsx(Ie,{value:"permanent",children:"Permanent"})]})]})]})]})}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(Wh,{className:"h-5 w-5"})," Bus Routes (",i.length,")"]})}),s.jsx(Ze,{className:"p-0",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Route Name"}),s.jsx(lt,{children:"Number"}),s.jsx(lt,{children:"Driver"}),s.jsx(lt,{children:"Phone"}),s.jsx(lt,{children:"Actions"})]})}),s.jsxs($a,{children:[i.map(z=>s.jsxs(xr,{children:[s.jsx(it,{className:"font-medium",children:z.route_name}),s.jsx(it,{children:z.route_number||"-"}),s.jsx(it,{children:z.driver_name||"-"}),s.jsx(it,{children:z.driver_phone||"-"}),s.jsx(it,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{A(z),H({route_name:z.route_name||"",route_number:z.route_number||"",driver_name:z.driver_name||"",driver_phone:z.driver_phone||""}),x(!0)},children:s.jsx(ha,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>q(z.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},z.id)),i.length===0&&s.jsx(xr,{children:s.jsx(it,{colSpan:5,className:"text-center py-8 text-slate-500",children:"No routes found"})})]})]})})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-5 w-5 text-amber-600"})," Changes (",F.length,")"]})}),s.jsx(Ze,{className:"p-0",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"From Bus"}),s.jsx(lt,{children:"To Bus"}),s.jsx(lt,{children:"Type"}),s.jsx(lt,{children:"Reason"}),s.jsx(lt,{children:"Actions"})]})}),s.jsxs($a,{children:[F.map(z=>{var J,E,V,K,W,Y,ee;return s.jsxs(xr,{children:[s.jsx(it,{children:new Date(z.change_date).toLocaleDateString("en-US")}),s.jsx(it,{className:"font-medium",children:((J=z.student)==null?void 0:J.hebrew_name)||`${(E=z.student)==null?void 0:E.first_name} ${(V=z.student)==null?void 0:V.last_name}`}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",children:((W=(K=z.student)==null?void 0:K.class)==null?void 0:W.name)||"N/A"})}),s.jsx(it,{children:((Y=z.original_bus)==null?void 0:Y.route_name)||"-"}),s.jsx(it,{children:((ee=z.new_bus)==null?void 0:ee.route_name)||"-"}),s.jsx(it,{children:s.jsx(Ft,{className:z.change_type==="permanent"?"bg-red-100 text-red-800":z.change_type==="temporary"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:z.change_type==="one_time"?"One Time":z.change_type==="temporary"?"Temporary":"Permanent"})}),s.jsx(it,{className:"max-w-[150px] truncate",children:z.reason||"-"}),s.jsx(it,{children:s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{var oe,G,se,he,Q,Pe;N({subject:`Bus Change - ${((oe=z.student)==null?void 0:oe.hebrew_name)||((G=z.student)==null?void 0:G.first_name)}`,body:`Bus change for ${((se=z.student)==null?void 0:se.hebrew_name)||((he=z.student)==null?void 0:he.first_name)}

Date: ${new Date(z.change_date).toLocaleDateString("en-US")}
From: ${((Q=z.original_bus)==null?void 0:Q.route_name)||"N/A"}
To: ${((Pe=z.new_bus)==null?void 0:Pe.route_name)||"N/A"}
Reason: ${z.reason||"N/A"}`}),S(!0)},children:s.jsx(to,{className:"h-4 w-4 text-blue-600"})})})]},z.id)}),F.length===0&&s.jsx(xr,{children:s.jsxs(it,{colSpan:8,className:"text-center py-8 text-slate-500",children:[s.jsx(Wh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No changes found"})]})})]})]})})]}),s.jsx(ur,{open:m,onOpenChange:x,children:s.jsxs(ir,{className:"max-w-lg",dir:"rtl",children:[s.jsx(dr,{children:s.jsx(fr,{children:j?"Edit Route":"New Bus Route"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Route Name *"}),s.jsx(We,{value:P.route_name,onChange:z=>H({...P,route_name:z.target.value}),placeholder:"Bus 1"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Route Number"}),s.jsx(We,{value:P.route_number,onChange:z=>H({...P,route_number:z.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Driver Name"}),s.jsx(We,{value:P.driver_name,onChange:z=>H({...P,driver_name:z.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Driver Phone"}),s.jsx(We,{value:P.driver_phone,onChange:z=>H({...P,driver_phone:z.target.value})})]})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),s.jsx(Se,{onClick:D,className:"bg-cyan-600 hover:bg-cyan-700",children:j?"Update":"Add"})]})]})}),s.jsx(ur,{open:g,onOpenChange:y,children:s.jsxs(ir,{className:"max-w-lg",dir:"rtl",children:[s.jsx(dr,{children:s.jsx(fr,{children:"New Bus Change"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Student *"}),s.jsx(U3,{students:u,value:C.student_id,onChange:M,placeholder:"Search student..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"From Bus"}),s.jsxs(bt,{value:C.original_bus_id||"none",onValueChange:z=>k({...C,original_bus_id:z==="none"?"":z}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select..."})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"none",children:"None"}),i.map(z=>s.jsxs(Ie,{value:z.id,children:[z.route_name," (",z.route_number,")"]},z.id))]})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"To Bus"}),s.jsxs(bt,{value:C.new_bus_id||"none",onValueChange:z=>k({...C,new_bus_id:z==="none"?"":z}),children:[s.jsx(xt,{children:s.jsx(wt,{placeholder:"Select..."})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"none",children:"None"}),i.map(z=>s.jsxs(Ie,{value:z.id,children:[z.route_name," (",z.route_number,")"]},z.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Date"}),s.jsx(We,{type:"date",value:C.change_date,onChange:z=>k({...C,change_date:z.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Type"}),s.jsxs(bt,{value:C.change_type,onValueChange:z=>k({...C,change_type:z}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"one_time",children:"One Time"}),s.jsx(Ie,{value:"temporary",children:"Temporary"}),s.jsx(Ie,{value:"permanent",children:"Permanent"})]})]})]})]}),C.change_type==="temporary"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"From Date"}),s.jsx(We,{type:"date",value:C.effective_from,onChange:z=>k({...C,effective_from:z.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Until Date"}),s.jsx(We,{type:"date",value:C.effective_until,onChange:z=>k({...C,effective_until:z.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Alternate Address (if applicable)"}),s.jsx(We,{value:C.pickup_address,onChange:z=>k({...C,pickup_address:z.target.value}),placeholder:"New pickup address"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Reason"}),s.jsx(We,{value:C.reason,onChange:z=>k({...C,reason:z.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Notes"}),s.jsx(kr,{value:C.notes,onChange:z=>k({...C,notes:z.target.value}),rows:2})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Se,{onClick:B,className:"bg-cyan-600 hover:bg-cyan-700",children:"Record"})]})]})}),s.jsx(xx,{isOpen:b,onClose:()=>S(!1),defaultSubject:_.subject,defaultBody:_.body,currentUser:t})]})},kM=[{value:"general",label:"General"},{value:"meeting",label:"Meeting"},{value:"call",label:"Call"},{value:"deadline",label:"Deadline"},{value:"follow_up",label:"Follow-up"},{value:"evaluation",label:"Evaluation"},{value:"payment",label:"Payment"},{value:"other",label:"Other"}],VBe=({role:e,currentUser:t})=>{const{toast:r}=Cr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState(!1),[u,d]=O.useState(null),[f,h]=O.useState("active"),[p,v]=O.useState(""),[m,x]=O.useState({title:"",description:"",reminder_type:"general",reminder_date:"",reminder_time:"09:00",send_email:!1,email_recipients:"",priority:"normal",related_student_id:null,related_student_name:""}),[g,y]=O.useState([]),[b,S]=O.useState("");O.useEffect(()=>{_(),N()},[f]);const _=async()=>{a(!0);try{let F=Ne.from("reminders").select("*").eq("is_active",!0).order("reminder_date",{ascending:!0});const z=new Date().toISOString().split("T")[0];f==="active"?F=F.eq("is_completed",!1):f==="completed"?F=F.eq("is_completed",!0):f==="overdue"&&(F=F.eq("is_completed",!1).lt("reminder_date",z));const{data:J,error:E}=await F;if(E)throw E;o(J||[])}catch(F){console.error("Error loading reminders:",F)}finally{a(!1)}},N=async()=>{const{data:F}=await Ne.from("students").select("id, first_name, last_name, hebrew_name").eq("status","active").order("last_name");y(F||[])},j=async()=>{if(!m.title||!m.reminder_date){r({variant:"destructive",title:"Error",description:"Please fill in title and date"});return}try{const F={title:m.title,description:m.description||null,reminder_type:m.reminder_type,reminder_date:`${m.reminder_date}T${m.reminder_time||"09:00"}:00`,send_email:m.send_email,email_recipients:m.send_email?m.email_recipients:null,priority:m.priority,related_student_id:m.related_student_id||null,related_student_name:m.related_student_name||null,created_by:t==null?void 0:t.id,created_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)};if(u){const{error:z}=await Ne.from("reminders").update(F).eq("id",u.id);if(z)throw z;r({title:"Updated",description:"Reminder has been updated"})}else{const{error:z}=await Ne.from("reminders").insert([F]);if(z)throw z;r({title:"Added",description:"Reminder has been added"})}if(m.send_email&&m.email_recipients)try{const z=m.email_recipients.split(",").map(J=>J.trim());await RG({to:z,subject:`Reminder: ${m.title}`,body:`${m.description||m.title}

Date: ${m.reminder_date} ${m.reminder_time}`,relatedType:"reminder",sentBy:t==null?void 0:t.id}),r({title:"Email Sent",description:`Reminder email sent to ${z.length} recipient(s)`})}catch(z){console.error("Failed to send reminder email:",z),r({variant:"destructive",title:"Email Failed",description:z.message||"Could not send reminder email"})}c(!1),d(null),_()}catch(F){r({variant:"destructive",title:"Error",description:F.message})}},A=async F=>{try{const{error:z}=await Ne.from("reminders").update({is_completed:!0,completed_at:new Date().toISOString()}).eq("id",F);if(z)throw z;r({title:"Done",description:"Reminder has been completed"}),_()}catch(z){r({variant:"destructive",title:"Error",description:z.message})}},P=async F=>{try{const{error:z}=await Ne.from("reminders").update({is_active:!1}).eq("id",F);if(z)throw z;r({title:"Deleted",description:"Reminder has been deleted"}),_()}catch(z){r({variant:"destructive",title:"Error",description:z.message})}},H=()=>{d(null),x({title:"",description:"",reminder_type:"general",reminder_date:"",reminder_time:"09:00",send_email:!1,email_recipients:"",priority:"normal",related_student_id:null,related_student_name:""}),c(!0)},C=F=>{d(F);const z=F.reminder_date?new Date(F.reminder_date):null;x({title:F.title,description:F.description||"",reminder_type:F.reminder_type||"general",reminder_date:z?z.toISOString().split("T")[0]:"",reminder_time:z?z.toTimeString().slice(0,5):"09:00",send_email:F.send_email||!1,email_recipients:F.email_recipients||"",priority:F.priority||"normal",related_student_id:F.related_student_id,related_student_name:F.related_student_name||""}),c(!0)},k=F=>F?new Date(F)<new Date&&new Date(F).toDateString()!==new Date().toDateString():!1,U=F=>F?new Date(F).toDateString()===new Date().toDateString():!1,D=i.filter(F=>{var J,E,V,K;if(!p)return!0;const z=p.toLowerCase();return((J=F.title)==null?void 0:J.toLowerCase().includes(z))||((E=F.description)==null?void 0:E.toLowerCase().includes(z))||((V=F.related_student_name)==null?void 0:V.toLowerCase().includes(z))||((K=F.title)==null?void 0:K.includes(p))});new Date().toISOString().split("T")[0];const M=i.filter(F=>!F.is_completed&&k(F.reminder_date)).length,B=i.filter(F=>!F.is_completed&&U(F.reminder_date)).length,I=g.filter(F=>{var J,E,V;if(!b)return!1;const z=b.toLowerCase();return((J=F.first_name)==null?void 0:J.toLowerCase().includes(z))||((E=F.last_name)==null?void 0:E.toLowerCase().includes(z))||((V=F.hebrew_name)==null?void 0:V.includes(b))}).slice(0,5),q=F=>F==="high"?s.jsx(Ft,{className:"bg-red-100 text-red-800",children:"High"}):F==="low"?s.jsx(Ft,{className:"bg-slate-100 text-slate-600",children:"Low"}):s.jsx(Ft,{className:"bg-blue-100 text-blue-800",children:"Normal"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Oy,{className:"h-6 w-6 text-amber-600"})," Reminders"]}),s.jsx("p",{className:"text-slate-500",children:"All reminders - with email option"})]}),s.jsxs(Se,{onClick:H,children:[s.jsx(on,{className:"h-4 w-4 mr-2"})," New Reminder"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Qe,{className:`cursor-pointer ${f==="active"?"ring-2 ring-blue-400":""}`,onClick:()=>h("active"),children:s.jsxs(Ze,{className:"p-4 text-center",children:[s.jsx(Oy,{className:"h-6 w-6 mx-auto mb-1 text-blue-600"}),s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-slate-500",children:"Active"})]})}),s.jsx(Qe,{className:`cursor-pointer ${f==="overdue"?"ring-2 ring-red-400":""}`,onClick:()=>h("overdue"),children:s.jsxs(Ze,{className:"p-4 text-center",children:[s.jsx(rs,{className:"h-6 w-6 mx-auto mb-1 text-red-600"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:M}),s.jsx("p",{className:"text-xs text-slate-500",children:"Overdue"})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 text-center",children:[s.jsx(Cs,{className:"h-6 w-6 mx-auto mb-1 text-amber-600"}),s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:B}),s.jsx("p",{className:"text-xs text-slate-500",children:"Today"})]})}),s.jsx(Qe,{className:`cursor-pointer ${f==="completed"?"ring-2 ring-green-400":""}`,onClick:()=>h("completed"),children:s.jsxs(Ze,{className:"p-4 text-center",children:[s.jsx(Li,{className:"h-6 w-6 mx-auto mb-1 text-green-600"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:""}),s.jsx("p",{className:"text-xs text-slate-500",children:"Completed"})]})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{value:p,onChange:F=>v(F.target.value),placeholder:"Search reminders...",className:"pl-10"})]}),s.jsxs(bt,{value:f,onValueChange:h,children:[s.jsx(xt,{className:"w-40",children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"active",children:"Active"}),s.jsx(Ie,{value:"overdue",children:"Overdue"}),s.jsx(Ie,{value:"completed",children:"Completed"}),s.jsx(Ie,{value:"all",children:"All"})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(In,{className:"h-6 w-6 animate-spin text-blue-600"})}):D.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Oy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No reminders found"})]}):s.jsx("div",{className:"space-y-3",children:D.map(F=>{var E;const z=!F.is_completed&&k(F.reminder_date),J=U(F.reminder_date);return s.jsx(Qe,{className:`${z?"border-red-300 bg-red-50/50":J?"border-amber-300 bg-amber-50/50":""} ${F.is_completed?"opacity-60":""}`,children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:`font-bold text-lg ${F.is_completed?"line-through text-slate-400":"text-slate-800"}`,children:F.title}),s.jsx(Ft,{variant:"outline",className:"text-xs",children:((E=kM.find(V=>V.value===F.reminder_type))==null?void 0:E.label)||F.reminder_type}),q(F.priority),z&&s.jsx(Ft,{className:"bg-red-500 text-white",children:"Overdue!"}),J&&!F.is_completed&&s.jsx(Ft,{className:"bg-amber-500 text-white",children:"Today"}),F.send_email&&s.jsxs(Ft,{className:"bg-purple-100 text-purple-800",children:[s.jsx(to,{className:"h-3 w-3 mr-1"})," Email"]})]}),F.description&&s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:F.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cs,{className:"h-3 w-3"}),F.reminder_date&&new Date(F.reminder_date).toLocaleDateString("he-IL")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qs,{className:"h-3 w-3"}),F.reminder_date&&new Date(F.reminder_date).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})]}),F.related_student_name&&s.jsxs("span",{children:["Student: ",F.related_student_name]}),F.created_by_name&&s.jsxs("span",{children:["By: ",F.created_by_name]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[!F.is_completed&&s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>A(F.id),title:"Complete",children:s.jsx(Li,{className:"h-4 w-4 text-green-600"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>C(F),title:"Edit",children:s.jsx(ha,{className:"h-4 w-4 text-blue-600"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>P(F.id),title:"Delete",children:s.jsx(Qa,{className:"h-4 w-4 text-red-500"})})]})]})})},F.id)})}),s.jsx(ur,{open:l,onOpenChange:c,children:s.jsxs(ir,{className:"max-w-lg",children:[s.jsx(dr,{children:s.jsx(fr,{children:u?"Edit Reminder":"New Reminder"})}),s.jsxs("div",{className:"space-y-4 py-2 max-h-[60vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Title *"}),s.jsx(We,{value:m.title,onChange:F=>x({...m,title:F.target.value}),placeholder:"What about?"})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Description"}),s.jsx(kr,{value:m.description,onChange:F=>x({...m,description:F.target.value}),rows:3,placeholder:"More details..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Type"}),s.jsxs(bt,{value:m.reminder_type,onValueChange:F=>x({...m,reminder_type:F}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsx(yt,{children:kM.map(F=>s.jsx(Ie,{value:F.value,children:F.label},F.value))})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Priority"}),s.jsxs(bt,{value:m.priority,onValueChange:F=>x({...m,priority:F}),children:[s.jsx(xt,{children:s.jsx(wt,{})}),s.jsxs(yt,{children:[s.jsx(Ie,{value:"high",children:"High"}),s.jsx(Ie,{value:"normal",children:"Normal"}),s.jsx(Ie,{value:"low",children:"Low"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ye,{children:"Date *"}),s.jsx(We,{type:"date",value:m.reminder_date,onChange:F=>x({...m,reminder_date:F.target.value})})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Time"}),s.jsx(We,{type:"time",value:m.reminder_time,onChange:F=>x({...m,reminder_time:F.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ye,{children:"Link to a student (optional)"}),m.related_student_name?s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded",children:[s.jsx("span",{children:m.related_student_name}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>x({...m,related_student_id:null,related_student_name:""}),children:s.jsx(Qa,{className:"h-3 w-3"})})]}):s.jsxs("div",{children:[s.jsx(We,{value:b,onChange:F=>S(F.target.value),placeholder:"Search student..."}),I.length>0&&s.jsx("div",{className:"mt-1 border rounded-md shadow-sm max-h-32 overflow-y-auto",children:I.map(F=>s.jsx("div",{className:"p-2 hover:bg-slate-100 cursor-pointer text-sm",onClick:()=>{x({...m,related_student_id:F.id,related_student_name:F.hebrew_name||`${F.first_name} ${F.last_name}`}),S("")},children:F.hebrew_name||`${F.first_name} ${F.last_name}`},F.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"send_email",checked:m.send_email,onChange:F=>x({...m,send_email:F.target.checked}),className:"rounded"}),s.jsx(ye,{htmlFor:"send_email",className:"cursor-pointer",children:"Send email notification"})]}),m.send_email&&s.jsxs("div",{children:[s.jsx(ye,{children:"Email addresses (comma-separated)"}),s.jsx(We,{type:"email",value:m.email_recipients,onChange:F=>x({...m,email_recipients:F.target.value}),placeholder:"email1@example.com, email2@example.com"})]})]})]}),s.jsxs(Ar,{children:[s.jsx(Se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Se,{onClick:j,children:u?"Update":"Add"})]})]})})]})},HBe=()=>{var y,b,S,_;KT();const{user:e,profile:t,signOut:r,loading:n}=lw(),[a,i]=O.useState("overview"),[o,l]=O.useState(!0),c=(t==null?void 0:t.role)||"teacher",[u,d]=O.useState(null),[f,h]=O.useState(!1);O.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:N}=await Ne.from("app_settings").select("value").eq("key","menu_visibility").maybeSingle();N!=null&&N.value&&d(JSON.parse(N.value))}catch{}},v=async N=>{try{await Ne.from("app_settings").upsert({key:"menu_visibility",value:JSON.stringify(N),updated_at:new Date().toISOString()},{onConflict:"key"}),d(N)}catch{console.log("Could not save menu settings")}},m=[{id:"overview",label:"Dashboard",icon:vre,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin","special_ed"],description:"Quick overview"},{id:"students",label:"Students",icon:La,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin"],description:"Student directory"},{id:"grades",label:"Grades",icon:SN,roles:["principal","principal_hebrew","principal_english","admin"],description:"Grade levels"},{id:"classes",label:"Classes",icon:h0,roles:["principal","principal_hebrew","principal_english","admin"],description:"Manage classes"},{id:"class-detail",label:"Class Detail",icon:d0,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","admin"],description:"Class info with notes"},{id:"issues",label:"Issues",icon:qh,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin"],description:"Track issues"},{id:"calls",label:"Phone Calls",icon:tf,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","admin"],description:"Call logs"},{id:"meetings",label:"Meetings",icon:Cs,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin"],description:"Schedule meetings"},{id:"staff",label:"Staff Directory",icon:ire,roles:["principal","principal_hebrew","principal_english","admin"],description:"All staff contacts"},{id:"users",label:"User Management",icon:wre,roles:["principal","principal_hebrew","principal_english","admin"],description:"Manage login accounts & roles"},{id:"special-ed",label:"Special Education",icon:Fy,roles:["principal","principal_hebrew","admin","special_ed"],description:"Special education management"},{id:"late-tracking",label:"Late Tracking",icon:Qs,roles:["principal","principal_hebrew","principal_english","admin"],description:"Track late arrivals / print slips"},{id:"bus-changes",label:"Bus Changes",icon:Wh,roles:["principal","principal_hebrew","principal_english","admin"],description:"Bus routes and changes"},{id:"reminders",label:"Reminders",icon:Oy,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","admin"],description:"Reminders with email"},{id:"books",label:"Books",icon:J$,roles:["principal","principal_hebrew","principal_english","admin"],description:"Book inventory & requirements"},{id:"fees",label:"Fees & Trips",icon:gs,roles:["principal","principal_hebrew","principal_english","admin"],description:"Manage fees"},{id:"payments",label:"Payments",icon:Rg,roles:["principal","principal_hebrew","principal_english","admin"],description:"Record payments"},{id:"financial-reports",label:"Financial Reports",icon:sre,roles:["principal","principal_hebrew","principal_english","admin"],description:"Payment reports"},{id:"reports",label:"Reports",icon:rre,roles:["principal","principal_hebrew","principal_english","admin"],description:"General reports"},{id:"settings",label:"Settings",icon:rO,roles:["principal","principal_hebrew","principal_english","admin"],description:"System settings"}],x=()=>{const N={role:c,currentUser:t};switch(a){case"overview":return s.jsx(tM,{...N});case"grades":return s.jsx(OBe,{...N});case"classes":return s.jsx(NBe,{...N});case"students":return s.jsx(BRe,{...N});case"issues":return s.jsx(URe,{...N});case"staff":return s.jsx(IBe,{...N});case"users":return s.jsx(PBe,{...N});case"calls":return s.jsx(zRe,{...N});case"meetings":return s.jsx(jM,{...N});case"calendar":return s.jsx(jM,{...N});case"books":return s.jsx(FBe,{...N});case"fees":return s.jsx(DBe,{...N});case"payments":return s.jsx(MBe,{...N});case"financial-reports":return s.jsx(RBe,{...N});case"templates":return s.jsx(SBe,{...N});case"timeslots":return s.jsx(x$e,{...N});case"bulkschedule":return s.jsx(y$e,{...N});case"reports":return s.jsx(wBe,{...N});case"activity":return s.jsx(_Be,{...N});case"settings":return s.jsx(kBe,{...N});case"special-ed":return s.jsx($Be,{...N});case"class-detail":return s.jsx(BBe,{...N});case"late-tracking":return s.jsx(UBe,{...N});case"bus-changes":return s.jsx(zBe,{...N});case"reminders":return s.jsx(VBe,{...N});default:return s.jsx(tM,{...N})}};if(n||!t)return s.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50",children:s.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[s.jsx("div",{className:"h-12 w-12 bg-blue-200 rounded-full mb-4"}),s.jsx("div",{className:"h-4 w-32 bg-slate-200 rounded"}),s.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Loading profile..."})]})});const g=m.filter(N=>!(!N.roles.includes(c)||u&&u[c]&&u[c][N.id]===!1));return s.jsxs("div",{className:"flex h-screen overflow-hidden",dir:"ltr",children:[s.jsx(x6,{mode:"wait",children:o&&s.jsxs(zN.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{duration:.3,ease:"easeInOut"},className:"w-64 bg-white border-r border-slate-200 flex flex-col shadow-lg z-20",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("img",{src:"/logo.svg",alt:"Logo",className:"h-12 w-12 rounded-full shadow-md"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-sm font-bold text-slate-800 leading-tight",dir:"rtl",children:"    "}),s.jsx("p",{className:"text-xs text-slate-500",dir:"rtl",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm",children:((y=t==null?void 0:t.name)==null?void 0:y.charAt(0))||((b=e==null?void 0:e.email)==null?void 0:b.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(t==null?void 0:t.name)||"User"}),s.jsx("p",{className:"text-xs text-slate-500 capitalize",children:c})]})]})]}),s.jsx("nav",{className:"flex-1 p-3 space-y-0.5 overflow-y-auto",children:g.map(N=>{const j=N.icon,A=a===N.id;return s.jsxs("button",{onClick:()=>i(N.id),className:`w-full group relative flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${A?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-200":"text-slate-700 hover:bg-slate-100 hover:shadow-sm"}`,children:[s.jsx(j,{size:22,className:A?"":"text-slate-500 group-hover:text-slate-700"}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:`font-semibold text-sm ${A?"text-white":"text-slate-800"}`,children:N.label}),s.jsx("div",{className:`text-xs ${A?"text-blue-100":"text-slate-500"}`,children:N.description})]})]},N.id)})}),s.jsxs("div",{className:"p-3 border-t bg-slate-50 space-y-1",children:[(c==="admin"||c==="principal")&&s.jsxs(Se,{variant:"ghost",className:"w-full justify-start text-blue-600 hover:bg-blue-50 rounded-xl text-sm",onClick:()=>h(!0),children:[s.jsx(rO,{className:"ml-2 h-4 w-4"}),s.jsx("span",{children:"Menu Settings"})]}),s.jsxs(Se,{variant:"ghost",className:"w-full justify-start text-red-600 hover:bg-red-50 hover:text-red-700 rounded-xl",onClick:r,children:[s.jsx(mre,{className:"ml-2 h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Log Out"})]})]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between shadow-sm z-10",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>l(!o),className:"hover:bg-slate-100 rounded-xl",children:s.jsx(gre,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:((S=m.find(N=>N.id===a))==null?void 0:S.label)||"Dashboard"}),s.jsx("p",{className:"text-xs text-slate-500",children:(_=m.find(N=>N.id===a))==null?void 0:_.description})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"hidden md:block text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date().toLocaleDateString("en-US",{weekday:"long"})})]})})]}),s.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6 bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/30",children:s.jsx(x6,{mode:"wait",children:s.jsx(zN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-7xl mx-auto",children:x()},a)})})]}),s.jsx(ur,{open:f,onOpenChange:h,children:s.jsxs(ir,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsx(dr,{children:s.jsx(fr,{children:"Menu Settings - Configure which options each role can see"})}),s.jsx("div",{className:"space-y-6 py-4",children:["teacher","teacher_hebrew","teacher_english","tutor","principal_hebrew","principal_english","special_ed"].map(N=>{const j={teacher:"Teacher",teacher_hebrew:"Hebrew Teacher",teacher_english:"English Teacher",tutor:"Tutor",principal_hebrew:"Hebrew Principal",principal_english:"English Principal",special_ed:"Special Education"},A=m.filter(H=>H.roles.includes(N));if(A.length===0)return null;const P=(u==null?void 0:u[N])||{};return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:j[N]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:A.map(H=>{const C=P[H.id]!==!1;return s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer border ${C?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsx("input",{type:"checkbox",checked:C,onChange:k=>{const U={...u};U[N]||(U[N]={}),U[N][H.id]=k.target.checked,v(U)},className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:H.label})]},H.id)})})]},N)})})]})})]})},WBe=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(""),[a,i]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(""),[d,f]=O.useState(!1),{signIn:h}=lw(),{toast:p}=Cr(),v=async x=>{x.preventDefault(),i(!0);try{const{error:g}=await h(e,r);if(g)throw g}catch(g){p({variant:"destructive",title:"Authentication Failed",description:g.message||"Invalid credentials. Please try again."})}finally{i(!1)}},m=async x=>{x.preventDefault(),f(!0);try{const{error:g}=await Ne.auth.resetPasswordForEmail(c,{redirectTo:window.location.origin+"/reset-password"});if(g)throw g;p({title:"Reset Link Sent",description:"Check your email for the password reset link."}),l(!1),u("")}catch(g){p({variant:"destructive",title:"Error",description:g.message})}finally{f(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center p-4",children:[s.jsxs(zN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[s.jsxs(Qe,{className:"shadow-xl border-t-4 border-t-blue-600",children:[s.jsxs(er,{className:"space-y-1 text-center pb-6",children:[s.jsx("div",{className:"mx-auto bg-blue-100 p-3 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:s.jsx(ZP,{className:"w-8 h-8 text-blue-600"})}),s.jsx(tr,{className:"text-2xl font-bold",children:"School Management"}),s.jsx(_a,{children:"Enter your credentials to access the system"})]}),s.jsxs("form",{onSubmit:v,children:[s.jsxs(Ze,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(to,{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400"}),s.jsx(We,{id:"email",type:"email",placeholder:"name@school.edu",className:"pl-10",value:e,onChange:x=>t(x.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(ye,{htmlFor:"password",children:"Password"}),s.jsx(Se,{variant:"link",className:"p-0 h-auto text-xs text-blue-600",onClick:x=>{x.preventDefault(),l(!0)},type:"button",children:"Forgot password?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ZP,{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400"}),s.jsx(We,{id:"password",type:"password",placeholder:"",className:"pl-10",value:r,onChange:x=>n(x.target.value),required:!0})]})]})]}),s.jsx(ev,{className:"flex flex-col gap-4",children:s.jsx(Se,{className:"w-full bg-blue-600 hover:bg-blue-700",type:"submit",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(In,{className:"mr-2 h-4 w-4 animate-spin"})," Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsx(pre,{className:"mr-2 h-4 w-4"})," Sign In"]})})})]})]}),s.jsxs("p",{className:"text-center text-sm text-slate-500 mt-4",children:["Secure School Management System  ",new Date().getFullYear()]})]}),s.jsx(ur,{open:o,onOpenChange:l,children:s.jsxs(ir,{className:"sm:max-w-[425px]",children:[s.jsxs(dr,{children:[s.jsx(fr,{children:"Reset Password"}),s.jsx(Lu,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsxs("form",{onSubmit:m,children:[s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ye,{htmlFor:"reset-email",children:"Email"}),s.jsx(We,{id:"reset-email",type:"email",value:c,onChange:x=>u(x.target.value),placeholder:"name@school.edu",required:!0})]})}),s.jsxs(Ar,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(Se,{type:"submit",disabled:d,children:d?s.jsx(In,{className:"mr-2 h-4 w-4 animate-spin"}):"Send Reset Link"})]})]})]})})]})},qBe=()=>{const{user:e,loading:t}=lw();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(In,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-500",children:"Loading system..."})]})}):e?s.jsx(HBe,{}):s.jsx(WBe,{})};function GBe(){return s.jsx(Tee,{children:s.jsxs(Eee,{children:[s.jsxs(oN,{children:[s.jsx("title",{children:"School Management System"}),s.jsx("meta",{name:"description",content:"A comprehensive student management system."})]}),s.jsx("div",{className:"min-h-screen bg-slate-50 font-sans",dir:"ltr",children:s.jsx(qBe,{})}),s.jsx(Tre,{})]})})}dS.createRoot(document.getElementById("root")).render(s.jsx(GBe,{}));export{Zr as _,Ln as c,Vr as g};
