function EM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var PM={exports:{}},Rb={},OM={exports:{}},Sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=Symbol.for("react.element"),JK=Symbol.for("react.portal"),QK=Symbol.for("react.fragment"),ZK=Symbol.for("react.strict_mode"),eY=Symbol.for("react.profiler"),tY=Symbol.for("react.provider"),rY=Symbol.for("react.context"),nY=Symbol.for("react.forward_ref"),aY=Symbol.for("react.suspense"),iY=Symbol.for("react.memo"),sY=Symbol.for("react.lazy"),pk=Symbol.iterator;function oY(e){return e===null||typeof e!="object"?null:(e=pk&&e[pk]||e["@@iterator"],typeof e=="function"?e:null)}var FM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DM=Object.assign,LM={};function z0(e,t,r){this.props=e,this.context=t,this.refs=LM,this.updater=r||FM}z0.prototype.isReactComponent={};z0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};z0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IM(){}IM.prototype=z0.prototype;function WA(e,t,r){this.props=e,this.context=t,this.refs=LM,this.updater=r||FM}var qA=WA.prototype=new IM;qA.constructor=WA;DM(qA,z0.prototype);qA.isPureReactComponent=!0;var mk=Array.isArray,MM=Object.prototype.hasOwnProperty,GA={current:null},RM={key:!0,ref:!0,__self:!0,__source:!0};function $M(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)MM.call(t,n)&&!RM.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:$v,type:e,key:i,ref:o,props:a,_owner:GA.current}}function lY(e,t){return{$$typeof:$v,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function KA(e){return typeof e=="object"&&e!==null&&e.$$typeof===$v}function cY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var gk=/\/+/g;function o5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cY(""+e.key):t.toString(36)}function vy(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $v:case JK:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+o5(o,0):n,mk(a)?(r="",e!=null&&(r=e.replace(gk,"$&/")+"/"),vy(a,t,r,"",function(u){return u})):a!=null&&(KA(a)&&(a=lY(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(gk,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",mk(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+o5(i,l);o+=vy(i,t,r,c,a)}else if(c=oY(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+o5(i,l++),o+=vy(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function o1(e,t,r){if(e==null)return e;var n=[],a=0;return vy(e,n,"","",function(i){return t.call(r,i,a++)}),n}function uY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ri={current:null},xy={transition:null},dY={ReactCurrentDispatcher:Ri,ReactCurrentBatchConfig:xy,ReactCurrentOwner:GA};function BM(){throw Error("act(...) is not supported in production builds of React.")}Sr.Children={map:o1,forEach:function(e,t,r){o1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return o1(e,function(){t++}),t},toArray:function(e){return o1(e,function(t){return t})||[]},only:function(e){if(!KA(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Sr.Component=z0;Sr.Fragment=QK;Sr.Profiler=eY;Sr.PureComponent=WA;Sr.StrictMode=ZK;Sr.Suspense=aY;Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dY;Sr.act=BM;Sr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=DM({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=GA.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)MM.call(t,c)&&!RM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:$v,type:e.type,key:a,ref:i,props:n,_owner:o}};Sr.createContext=function(e){return e={$$typeof:rY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tY,_context:e},e.Consumer=e};Sr.createElement=$M;Sr.createFactory=function(e){var t=$M.bind(null,e);return t.type=e,t};Sr.createRef=function(){return{current:null}};Sr.forwardRef=function(e){return{$$typeof:nY,render:e}};Sr.isValidElement=KA;Sr.lazy=function(e){return{$$typeof:sY,_payload:{_status:-1,_result:e},_init:uY}};Sr.memo=function(e,t){return{$$typeof:iY,type:e,compare:t===void 0?null:t}};Sr.startTransition=function(e){var t=xy.transition;xy.transition={};try{e()}finally{xy.transition=t}};Sr.unstable_act=BM;Sr.useCallback=function(e,t){return Ri.current.useCallback(e,t)};Sr.useContext=function(e){return Ri.current.useContext(e)};Sr.useDebugValue=function(){};Sr.useDeferredValue=function(e){return Ri.current.useDeferredValue(e)};Sr.useEffect=function(e,t){return Ri.current.useEffect(e,t)};Sr.useId=function(){return Ri.current.useId()};Sr.useImperativeHandle=function(e,t,r){return Ri.current.useImperativeHandle(e,t,r)};Sr.useInsertionEffect=function(e,t){return Ri.current.useInsertionEffect(e,t)};Sr.useLayoutEffect=function(e,t){return Ri.current.useLayoutEffect(e,t)};Sr.useMemo=function(e,t){return Ri.current.useMemo(e,t)};Sr.useReducer=function(e,t,r){return Ri.current.useReducer(e,t,r)};Sr.useRef=function(e){return Ri.current.useRef(e)};Sr.useState=function(e){return Ri.current.useState(e)};Sr.useSyncExternalStore=function(e,t,r){return Ri.current.useSyncExternalStore(e,t,r)};Sr.useTransition=function(){return Ri.current.useTransition()};Sr.version="18.3.1";OM.exports=Sr;var O=OM.exports;const Ne=Vr(O),fY=EM({__proto__:null,default:Ne},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hY=O,pY=Symbol.for("react.element"),mY=Symbol.for("react.fragment"),gY=Object.prototype.hasOwnProperty,vY=hY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xY={key:!0,ref:!0,__self:!0,__source:!0};function UM(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)gY.call(t,n)&&!xY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:pY,type:e,key:i,ref:o,props:a,_owner:vY.current}}Rb.Fragment=mY;Rb.jsx=UM;Rb.jsxs=UM;PM.exports=Rb;var s=PM.exports,uS={},zM={exports:{}},Os={},VM={exports:{}},HM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,F){var U=M.length;M.push(F);e:for(;0<U;){var X=U-1>>>1,E=M[X];if(0<a(E,F))M[X]=F,M[U]=E,U=X;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var F=M[0],U=M.pop();if(U!==F){M[0]=U;e:for(var X=0,E=M.length,H=E>>>1;X<H;){var G=2*(X+1)-1,q=M[G],K=G+1,ee=M[K];if(0>a(q,U))K<E&&0>a(ee,q)?(M[X]=ee,M[K]=U,X=K):(M[X]=q,M[G]=U,X=G);else if(K<E&&0>a(ee,U))M[X]=ee,M[K]=U,X=K;else break e}}return F}function a(M,F){var U=M.sortIndex-F.sortIndex;return U!==0?U:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=M)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function j(M){if(m=!1,b(M),!v)if(r(c)!==null)v=!0,V(_);else{var F=r(u);F!==null&&L(j,F.startTime-M)}}function _(M,F){v=!1,m&&(m=!1,g(A),A=-1),p=!0;var U=h;try{for(b(F),f=r(c);f!==null&&(!(f.expirationTime>F)||M&&!C());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var E=X(f.expirationTime<=F);F=e.unstable_now(),typeof E=="function"?f.callback=E:f===r(c)&&n(c),b(F)}else n(c);f=r(c)}if(f!==null)var H=!0;else{var G=r(u);G!==null&&L(j,G.startTime-F),H=!1}return H}finally{f=null,h=U,p=!1}}var N=!1,S=null,A=-1,P=5,W=-1;function C(){return!(e.unstable_now()-W<P)}function k(){if(S!==null){var M=e.unstable_now();W=M;var F=!0;try{F=S(!0,M)}finally{F?z():(N=!1,S=null)}}else N=!1}var z;if(typeof y=="function")z=function(){y(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,R=I.port2;I.port1.onmessage=k,z=function(){R.postMessage(null)}}else z=function(){x(k,0)};function V(M){S=M,N||(N=!0,z())}function L(M,F){A=x(function(){M(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,V(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var U=h;h=F;try{return M()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=h;h=M;try{return F()}finally{h=U}},e.unstable_scheduleCallback=function(M,F,U){var X=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,M){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=U+E,M={id:d++,callback:F,priorityLevel:M,startTime:U,expirationTime:E,sortIndex:-1},U>X?(M.sortIndex=U,t(u,M),r(c)===null&&M===r(u)&&(m?(g(A),A=-1):m=!0,L(j,U-X))):(M.sortIndex=E,t(c,M),v||p||(v=!0,V(_))),M},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(M){var F=h;return function(){var U=h;h=F;try{return M.apply(this,arguments)}finally{h=U}}}})(HM);VM.exports=HM;var yY=VM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bY=O,Ts=yY;function ht(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WM=new Set,yg={};function ff(e,t){t0(e,t),t0(e+"Capture",t)}function t0(e,t){for(yg[e]=t,e=0;e<t.length;e++)WM.add(t[e])}var pc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dS=Object.prototype.hasOwnProperty,wY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vk={},xk={};function _Y(e){return dS.call(xk,e)?!0:dS.call(vk,e)?!1:wY.test(e)?xk[e]=!0:(vk[e]=!0,!1)}function jY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SY(e,t,r,n){if(t===null||typeof t>"u"||jY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $i(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ja={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ja[e]=new $i(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ja[t]=new $i(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ja[e]=new $i(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ja[e]=new $i(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ja[e]=new $i(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ja[e]=new $i(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ja[e]=new $i(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ja[e]=new $i(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ja[e]=new $i(e,5,!1,e.toLowerCase(),null,!1,!1)});var YA=/[\-:]([a-z])/g;function XA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(YA,XA);Ja[t]=new $i(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(YA,XA);Ja[t]=new $i(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(YA,XA);Ja[t]=new $i(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ja[e]=new $i(e,1,!1,e.toLowerCase(),null,!1,!1)});Ja.xlinkHref=new $i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ja[e]=new $i(e,1,!1,e.toLowerCase(),null,!0,!0)});function JA(e,t,r,n){var a=Ja.hasOwnProperty(t)?Ja[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SY(t,r,a,n)&&(r=null),n||a===null?_Y(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ac=bY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l1=Symbol.for("react.element"),ph=Symbol.for("react.portal"),mh=Symbol.for("react.fragment"),QA=Symbol.for("react.strict_mode"),fS=Symbol.for("react.profiler"),qM=Symbol.for("react.provider"),GM=Symbol.for("react.context"),ZA=Symbol.for("react.forward_ref"),hS=Symbol.for("react.suspense"),pS=Symbol.for("react.suspense_list"),eT=Symbol.for("react.memo"),ru=Symbol.for("react.lazy"),KM=Symbol.for("react.offscreen"),yk=Symbol.iterator;function qp(e){return e===null||typeof e!="object"?null:(e=yk&&e[yk]||e["@@iterator"],typeof e=="function"?e:null)}var Mn=Object.assign,l5;function Sm(e){if(l5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);l5=t&&t[1]||""}return`
`+l5+e}var c5=!1;function u5(e,t){if(!e||c5)return"";c5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{c5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sm(e):""}function NY(e){switch(e.tag){case 5:return Sm(e.type);case 16:return Sm("Lazy");case 13:return Sm("Suspense");case 19:return Sm("SuspenseList");case 0:case 2:case 15:return e=u5(e.type,!1),e;case 11:return e=u5(e.type.render,!1),e;case 1:return e=u5(e.type,!0),e;default:return""}}function mS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mh:return"Fragment";case ph:return"Portal";case fS:return"Profiler";case QA:return"StrictMode";case hS:return"Suspense";case pS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case GM:return(e.displayName||"Context")+".Consumer";case qM:return(e._context.displayName||"Context")+".Provider";case ZA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eT:return t=e.displayName||null,t!==null?t:mS(e.type)||"Memo";case ru:t=e._payload,e=e._init;try{return mS(e(t))}catch{}}return null}function AY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mS(t);case 8:return t===QA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function YM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TY(e){var t=YM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function c1(e){e._valueTracker||(e._valueTracker=TY(e))}function XM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=YM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Uy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gS(e,t){var r=t.checked;return Mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function JM(e,t){t=t.checked,t!=null&&JA(e,"checked",t,!1)}function vS(e,t){JM(e,t);var r=Pu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xS(e,t.type,r):t.hasOwnProperty("defaultValue")&&xS(e,t.type,Pu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xS(e,t,r){(t!=="number"||Uy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Nm=Array.isArray;function Lh(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function yS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ht(91));return Mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _k(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ht(92));if(Nm(r)){if(1<r.length)throw Error(ht(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pu(r)}}function QM(e,t){var r=Pu(t.value),n=Pu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var u1,eR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(u1=u1||document.createElement("div"),u1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=u1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $m={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CY=["Webkit","ms","Moz","O"];Object.keys($m).forEach(function(e){CY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$m[t]=$m[e]})});function tR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$m.hasOwnProperty(e)&&$m[e]?(""+t).trim():t+"px"}function rR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=tR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var EY=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wS(e,t){if(t){if(EY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ht(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ht(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ht(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ht(62))}}function _S(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jS=null;function tT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var SS=null,Ih=null,Mh=null;function Sk(e){if(e=zv(e)){if(typeof SS!="function")throw Error(ht(280));var t=e.stateNode;t&&(t=Vb(t),SS(e.stateNode,e.type,t))}}function nR(e){Ih?Mh?Mh.push(e):Mh=[e]:Ih=e}function aR(){if(Ih){var e=Ih,t=Mh;if(Mh=Ih=null,Sk(e),t)for(e=0;e<t.length;e++)Sk(t[e])}}function iR(e,t){return e(t)}function sR(){}var d5=!1;function oR(e,t,r){if(d5)return e(t,r);d5=!0;try{return iR(e,t,r)}finally{d5=!1,(Ih!==null||Mh!==null)&&(sR(),aR())}}function wg(e,t){var r=e.stateNode;if(r===null)return null;var n=Vb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ht(231,t,typeof r));return r}var NS=!1;if(pc)try{var Gp={};Object.defineProperty(Gp,"passive",{get:function(){NS=!0}}),window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{NS=!1}function kY(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bm=!1,zy=null,Vy=!1,AS=null,PY={onError:function(e){Bm=!0,zy=e}};function OY(e,t,r,n,a,i,o,l,c){Bm=!1,zy=null,kY.apply(PY,arguments)}function FY(e,t,r,n,a,i,o,l,c){if(OY.apply(this,arguments),Bm){if(Bm){var u=zy;Bm=!1,zy=null}else throw Error(ht(198));Vy||(Vy=!0,AS=u)}}function hf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function lR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nk(e){if(hf(e)!==e)throw Error(ht(188))}function DY(e){var t=e.alternate;if(!t){if(t=hf(e),t===null)throw Error(ht(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Nk(a),e;if(i===n)return Nk(a),t;i=i.sibling}throw Error(ht(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ht(189))}}if(r.alternate!==n)throw Error(ht(190))}if(r.tag!==3)throw Error(ht(188));return r.stateNode.current===r?e:t}function cR(e){return e=DY(e),e!==null?uR(e):null}function uR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=uR(e);if(t!==null)return t;e=e.sibling}return null}var dR=Ts.unstable_scheduleCallback,Ak=Ts.unstable_cancelCallback,LY=Ts.unstable_shouldYield,IY=Ts.unstable_requestPaint,Qn=Ts.unstable_now,MY=Ts.unstable_getCurrentPriorityLevel,rT=Ts.unstable_ImmediatePriority,fR=Ts.unstable_UserBlockingPriority,Hy=Ts.unstable_NormalPriority,RY=Ts.unstable_LowPriority,hR=Ts.unstable_IdlePriority,$b=null,gl=null;function $Y(e){if(gl&&typeof gl.onCommitFiberRoot=="function")try{gl.onCommitFiberRoot($b,e,void 0,(e.current.flags&128)===128)}catch{}}var Uo=Math.clz32?Math.clz32:zY,BY=Math.log,UY=Math.LN2;function zY(e){return e>>>=0,e===0?32:31-(BY(e)/UY|0)|0}var d1=64,f1=4194304;function Am(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Am(l):(i&=o,i!==0&&(n=Am(i)))}else o=r&~a,o!==0?n=Am(o):i!==0&&(n=Am(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Uo(t),a=1<<r,n|=e[r],t&=~a;return n}function VY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HY(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Uo(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=VY(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function TS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pR(){var e=d1;return d1<<=1,!(d1&4194240)&&(d1=64),e}function f5(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Uo(t),e[t]=r}function WY(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Uo(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function nT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Uo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var en=0;function mR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gR,aT,vR,xR,yR,CS=!1,h1=[],xu=null,yu=null,bu=null,_g=new Map,jg=new Map,su=[],qY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tk(e,t){switch(e){case"focusin":case"focusout":xu=null;break;case"dragenter":case"dragleave":yu=null;break;case"mouseover":case"mouseout":bu=null;break;case"pointerover":case"pointerout":_g.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jg.delete(t.pointerId)}}function Kp(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=zv(t),t!==null&&aT(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function GY(e,t,r,n,a){switch(t){case"focusin":return xu=Kp(xu,e,t,r,n,a),!0;case"dragenter":return yu=Kp(yu,e,t,r,n,a),!0;case"mouseover":return bu=Kp(bu,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return _g.set(i,Kp(_g.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,jg.set(i,Kp(jg.get(i)||null,e,t,r,n,a)),!0}return!1}function bR(e){var t=Ad(e.target);if(t!==null){var r=hf(t);if(r!==null){if(t=r.tag,t===13){if(t=lR(r),t!==null){e.blockedOn=t,yR(e.priority,function(){vR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ES(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jS=n,r.target.dispatchEvent(n),jS=null}else return t=zv(r),t!==null&&aT(t),e.blockedOn=r,!1;t.shift()}return!0}function Ck(e,t,r){yy(e)&&r.delete(t)}function KY(){CS=!1,xu!==null&&yy(xu)&&(xu=null),yu!==null&&yy(yu)&&(yu=null),bu!==null&&yy(bu)&&(bu=null),_g.forEach(Ck),jg.forEach(Ck)}function Yp(e,t){e.blockedOn===t&&(e.blockedOn=null,CS||(CS=!0,Ts.unstable_scheduleCallback(Ts.unstable_NormalPriority,KY)))}function Sg(e){function t(a){return Yp(a,e)}if(0<h1.length){Yp(h1[0],e);for(var r=1;r<h1.length;r++){var n=h1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xu!==null&&Yp(xu,e),yu!==null&&Yp(yu,e),bu!==null&&Yp(bu,e),_g.forEach(t),jg.forEach(t),r=0;r<su.length;r++)n=su[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<su.length&&(r=su[0],r.blockedOn===null);)bR(r),r.blockedOn===null&&su.shift()}var Rh=Ac.ReactCurrentBatchConfig,qy=!0;function YY(e,t,r,n){var a=en,i=Rh.transition;Rh.transition=null;try{en=1,iT(e,t,r,n)}finally{en=a,Rh.transition=i}}function XY(e,t,r,n){var a=en,i=Rh.transition;Rh.transition=null;try{en=4,iT(e,t,r,n)}finally{en=a,Rh.transition=i}}function iT(e,t,r,n){if(qy){var a=ES(e,t,r,n);if(a===null)_5(e,t,n,Gy,r),Tk(e,n);else if(GY(a,e,t,r,n))n.stopPropagation();else if(Tk(e,n),t&4&&-1<qY.indexOf(e)){for(;a!==null;){var i=zv(a);if(i!==null&&gR(i),i=ES(e,t,r,n),i===null&&_5(e,t,n,Gy,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else _5(e,t,n,null,r)}}var Gy=null;function ES(e,t,r,n){if(Gy=null,e=tT(n),e=Ad(e),e!==null)if(t=hf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=lR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gy=e,null}function wR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MY()){case rT:return 1;case fR:return 4;case Hy:case RY:return 16;case hR:return 536870912;default:return 16}default:return 16}}var fu=null,sT=null,by=null;function _R(){if(by)return by;var e,t=sT,r=t.length,n,a="value"in fu?fu.value:fu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return by=a.slice(e,1<n?1-n:void 0)}function wy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function p1(){return!0}function Ek(){return!1}function Fs(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?p1:Ek,this.isPropagationStopped=Ek,this}return Mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=p1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=p1)},persist:function(){},isPersistent:p1}),t}var V0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oT=Fs(V0),Uv=Mn({},V0,{view:0,detail:0}),JY=Fs(Uv),h5,p5,Xp,Bb=Mn({},Uv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xp&&(Xp&&e.type==="mousemove"?(h5=e.screenX-Xp.screenX,p5=e.screenY-Xp.screenY):p5=h5=0,Xp=e),h5)},movementY:function(e){return"movementY"in e?e.movementY:p5}}),kk=Fs(Bb),QY=Mn({},Bb,{dataTransfer:0}),ZY=Fs(QY),eX=Mn({},Uv,{relatedTarget:0}),m5=Fs(eX),tX=Mn({},V0,{animationName:0,elapsedTime:0,pseudoElement:0}),rX=Fs(tX),nX=Mn({},V0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aX=Fs(nX),iX=Mn({},V0,{data:0}),Pk=Fs(iX),sX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lX[e])?!!t[e]:!1}function lT(){return cX}var uX=Mn({},Uv,{key:function(e){if(e.key){var t=sX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lT,charCode:function(e){return e.type==="keypress"?wy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dX=Fs(uX),fX=Mn({},Bb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ok=Fs(fX),hX=Mn({},Uv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lT}),pX=Fs(hX),mX=Mn({},V0,{propertyName:0,elapsedTime:0,pseudoElement:0}),gX=Fs(mX),vX=Mn({},Bb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xX=Fs(vX),yX=[9,13,27,32],cT=pc&&"CompositionEvent"in window,Um=null;pc&&"documentMode"in document&&(Um=document.documentMode);var bX=pc&&"TextEvent"in window&&!Um,jR=pc&&(!cT||Um&&8<Um&&11>=Um),Fk=String.fromCharCode(32),Dk=!1;function SR(e,t){switch(e){case"keyup":return yX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gh=!1;function wX(e,t){switch(e){case"compositionend":return NR(t);case"keypress":return t.which!==32?null:(Dk=!0,Fk);case"textInput":return e=t.data,e===Fk&&Dk?null:e;default:return null}}function _X(e,t){if(gh)return e==="compositionend"||!cT&&SR(e,t)?(e=_R(),by=sT=fu=null,gh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jR&&t.locale!=="ko"?null:t.data;default:return null}}var jX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jX[e.type]:t==="textarea"}function AR(e,t,r,n){nR(n),t=Ky(t,"onChange"),0<t.length&&(r=new oT("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zm=null,Ng=null;function SX(e){MR(e,0)}function Ub(e){var t=yh(e);if(XM(t))return e}function NX(e,t){if(e==="change")return t}var TR=!1;if(pc){var g5;if(pc){var v5="oninput"in document;if(!v5){var Ik=document.createElement("div");Ik.setAttribute("oninput","return;"),v5=typeof Ik.oninput=="function"}g5=v5}else g5=!1;TR=g5&&(!document.documentMode||9<document.documentMode)}function Mk(){zm&&(zm.detachEvent("onpropertychange",CR),Ng=zm=null)}function CR(e){if(e.propertyName==="value"&&Ub(Ng)){var t=[];AR(t,Ng,e,tT(e)),oR(SX,t)}}function AX(e,t,r){e==="focusin"?(Mk(),zm=t,Ng=r,zm.attachEvent("onpropertychange",CR)):e==="focusout"&&Mk()}function TX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ub(Ng)}function CX(e,t){if(e==="click")return Ub(t)}function EX(e,t){if(e==="input"||e==="change")return Ub(t)}function kX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ho=typeof Object.is=="function"?Object.is:kX;function Ag(e,t){if(Ho(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!dS.call(t,a)||!Ho(e[a],t[a]))return!1}return!0}function Rk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $k(e,t){var r=Rk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rk(r)}}function ER(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ER(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kR(){for(var e=window,t=Uy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Uy(e.document)}return t}function uT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PX(e){var t=kR(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ER(r.ownerDocument.documentElement,r)){if(n!==null&&uT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=$k(r,i);var o=$k(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OX=pc&&"documentMode"in document&&11>=document.documentMode,vh=null,kS=null,Vm=null,PS=!1;function Bk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;PS||vh==null||vh!==Uy(n)||(n=vh,"selectionStart"in n&&uT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vm&&Ag(Vm,n)||(Vm=n,n=Ky(kS,"onSelect"),0<n.length&&(t=new oT("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vh)))}function m1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xh={animationend:m1("Animation","AnimationEnd"),animationiteration:m1("Animation","AnimationIteration"),animationstart:m1("Animation","AnimationStart"),transitionend:m1("Transition","TransitionEnd")},x5={},PR={};pc&&(PR=document.createElement("div").style,"AnimationEvent"in window||(delete xh.animationend.animation,delete xh.animationiteration.animation,delete xh.animationstart.animation),"TransitionEvent"in window||delete xh.transitionend.transition);function zb(e){if(x5[e])return x5[e];if(!xh[e])return e;var t=xh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in PR)return x5[e]=t[r];return e}var OR=zb("animationend"),FR=zb("animationiteration"),DR=zb("animationstart"),LR=zb("transitionend"),IR=new Map,Uk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zu(e,t){IR.set(e,t),ff(t,[e])}for(var y5=0;y5<Uk.length;y5++){var b5=Uk[y5],FX=b5.toLowerCase(),DX=b5[0].toUpperCase()+b5.slice(1);zu(FX,"on"+DX)}zu(OR,"onAnimationEnd");zu(FR,"onAnimationIteration");zu(DR,"onAnimationStart");zu("dblclick","onDoubleClick");zu("focusin","onFocus");zu("focusout","onBlur");zu(LR,"onTransitionEnd");t0("onMouseEnter",["mouseout","mouseover"]);t0("onMouseLeave",["mouseout","mouseover"]);t0("onPointerEnter",["pointerout","pointerover"]);t0("onPointerLeave",["pointerout","pointerover"]);ff("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ff("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ff("onBeforeInput",["compositionend","keypress","textInput","paste"]);ff("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ff("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ff("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tm));function zk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,FY(n,t,void 0,e),e.currentTarget=null}function MR(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;zk(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;zk(a,l,u),i=c}}}if(Vy)throw e=AS,Vy=!1,AS=null,e}function yn(e,t){var r=t[IS];r===void 0&&(r=t[IS]=new Set);var n=e+"__bubble";r.has(n)||(RR(t,e,2,!1),r.add(n))}function w5(e,t,r){var n=0;t&&(n|=4),RR(r,e,n,t)}var g1="_reactListening"+Math.random().toString(36).slice(2);function Tg(e){if(!e[g1]){e[g1]=!0,WM.forEach(function(r){r!=="selectionchange"&&(LX.has(r)||w5(r,!1,e),w5(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[g1]||(t[g1]=!0,w5("selectionchange",!1,t))}}function RR(e,t,r,n){switch(wR(t)){case 1:var a=YY;break;case 4:a=XY;break;default:a=iT}r=a.bind(null,t,r,e),a=void 0,!NS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function _5(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ad(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}oR(function(){var u=i,d=tT(r),f=[];e:{var h=IR.get(e);if(h!==void 0){var p=oT,v=e;switch(e){case"keypress":if(wy(r)===0)break e;case"keydown":case"keyup":p=dX;break;case"focusin":v="focus",p=m5;break;case"focusout":v="blur",p=m5;break;case"beforeblur":case"afterblur":p=m5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pX;break;case OR:case FR:case DR:p=rX;break;case LR:p=gX;break;case"scroll":p=JY;break;case"wheel":p=xX;break;case"copy":case"cut":case"paste":p=aX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ok}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=wg(y,g),j!=null&&m.push(Cg(y,j,b)))),x)break;y=y.return}0<m.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==jS&&(v=r.relatedTarget||r.fromElement)&&(Ad(v)||v[mc]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Ad(v):null,v!==null&&(x=hf(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=kk,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Ok,j="onPointerLeave",g="onPointerEnter",y="pointer"),x=p==null?h:yh(p),b=v==null?h:yh(v),h=new m(j,y+"leave",p,r,d),h.target=x,h.relatedTarget=b,j=null,Ad(d)===u&&(m=new m(g,y+"enter",v,r,d),m.target=b,m.relatedTarget=x,j=m),x=j,p&&v)t:{for(m=p,g=v,y=0,b=m;b;b=Xf(b))y++;for(b=0,j=g;j;j=Xf(j))b++;for(;0<y-b;)m=Xf(m),y--;for(;0<b-y;)g=Xf(g),b--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Xf(m),g=Xf(g)}m=null}else m=null;p!==null&&Vk(f,h,p,m,!1),v!==null&&x!==null&&Vk(f,x,v,m,!0)}}e:{if(h=u?yh(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=NX;else if(Lk(h))if(TR)_=EX;else{_=TX;var N=AX}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=CX);if(_&&(_=_(e,u))){AR(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&xS(h,"number",h.value)}switch(N=u?yh(u):window,e){case"focusin":(Lk(N)||N.contentEditable==="true")&&(vh=N,kS=u,Vm=null);break;case"focusout":Vm=kS=vh=null;break;case"mousedown":PS=!0;break;case"contextmenu":case"mouseup":case"dragend":PS=!1,Bk(f,r,d);break;case"selectionchange":if(OX)break;case"keydown":case"keyup":Bk(f,r,d)}var S;if(cT)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else gh?SR(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(jR&&r.locale!=="ko"&&(gh||A!=="onCompositionStart"?A==="onCompositionEnd"&&gh&&(S=_R()):(fu=d,sT="value"in fu?fu.value:fu.textContent,gh=!0)),N=Ky(u,A),0<N.length&&(A=new Pk(A,e,null,r,d),f.push({event:A,listeners:N}),S?A.data=S:(S=NR(r),S!==null&&(A.data=S)))),(S=bX?wX(e,r):_X(e,r))&&(u=Ky(u,"onBeforeInput"),0<u.length&&(d=new Pk("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}MR(f,t)})}function Cg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ky(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=wg(e,r),i!=null&&n.unshift(Cg(e,i,a)),i=wg(e,t),i!=null&&n.push(Cg(e,i,a))),e=e.return}return n}function Xf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vk(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=wg(r,i),c!=null&&o.unshift(Cg(r,c,l))):a||(c=wg(r,i),c!=null&&o.push(Cg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var IX=/\r\n?/g,MX=/\u0000|\uFFFD/g;function Hk(e){return(typeof e=="string"?e:""+e).replace(IX,`
`).replace(MX,"")}function v1(e,t,r){if(t=Hk(t),Hk(e)!==t&&r)throw Error(ht(425))}function Yy(){}var OS=null,FS=null;function DS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var LS=typeof setTimeout=="function"?setTimeout:void 0,RX=typeof clearTimeout=="function"?clearTimeout:void 0,Wk=typeof Promise=="function"?Promise:void 0,$X=typeof queueMicrotask=="function"?queueMicrotask:typeof Wk<"u"?function(e){return Wk.resolve(null).then(e).catch(BX)}:LS;function BX(e){setTimeout(function(){throw e})}function j5(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Sg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Sg(t)}function wu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var H0=Math.random().toString(36).slice(2),fl="__reactFiber$"+H0,Eg="__reactProps$"+H0,mc="__reactContainer$"+H0,IS="__reactEvents$"+H0,UX="__reactListeners$"+H0,zX="__reactHandles$"+H0;function Ad(e){var t=e[fl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mc]||r[fl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qk(e);e!==null;){if(r=e[fl])return r;e=qk(e)}return t}e=r,r=e.parentNode}return null}function zv(e){return e=e[fl]||e[mc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ht(33))}function Vb(e){return e[Eg]||null}var MS=[],bh=-1;function Vu(e){return{current:e}}function jn(e){0>bh||(e.current=MS[bh],MS[bh]=null,bh--)}function mn(e,t){bh++,MS[bh]=e.current,e.current=t}var Ou={},yi=Vu(Ou),Zi=Vu(!1),Kd=Ou;function r0(e,t){var r=e.type.contextTypes;if(!r)return Ou;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function es(e){return e=e.childContextTypes,e!=null}function Xy(){jn(Zi),jn(yi)}function Gk(e,t,r){if(yi.current!==Ou)throw Error(ht(168));mn(yi,t),mn(Zi,r)}function $R(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ht(108,AY(e)||"Unknown",a));return Mn({},r,n)}function Jy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ou,Kd=yi.current,mn(yi,e),mn(Zi,Zi.current),!0}function Kk(e,t,r){var n=e.stateNode;if(!n)throw Error(ht(169));r?(e=$R(e,t,Kd),n.__reactInternalMemoizedMergedChildContext=e,jn(Zi),jn(yi),mn(yi,e)):jn(Zi),mn(Zi,r)}var Jl=null,Hb=!1,S5=!1;function BR(e){Jl===null?Jl=[e]:Jl.push(e)}function VX(e){Hb=!0,BR(e)}function Hu(){if(!S5&&Jl!==null){S5=!0;var e=0,t=en;try{var r=Jl;for(en=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Jl=null,Hb=!1}catch(a){throw Jl!==null&&(Jl=Jl.slice(e+1)),dR(rT,Hu),a}finally{en=t,S5=!1}}return null}var wh=[],_h=0,Qy=null,Zy=0,Ys=[],Xs=0,Yd=null,Ql=1,Zl="";function hd(e,t){wh[_h++]=Zy,wh[_h++]=Qy,Qy=e,Zy=t}function UR(e,t,r){Ys[Xs++]=Ql,Ys[Xs++]=Zl,Ys[Xs++]=Yd,Yd=e;var n=Ql;e=Zl;var a=32-Uo(n)-1;n&=~(1<<a),r+=1;var i=32-Uo(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ql=1<<32-Uo(t)+a|r<<a|n,Zl=i+e}else Ql=1<<i|r<<a|n,Zl=e}function dT(e){e.return!==null&&(hd(e,1),UR(e,1,0))}function fT(e){for(;e===Qy;)Qy=wh[--_h],wh[_h]=null,Zy=wh[--_h],wh[_h]=null;for(;e===Yd;)Yd=Ys[--Xs],Ys[Xs]=null,Zl=Ys[--Xs],Ys[Xs]=null,Ql=Ys[--Xs],Ys[Xs]=null}var js=null,ws=null,Cn=!1,Fo=null;function zR(e,t){var r=Js(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Yk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,js=e,ws=wu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,js=e,ws=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yd!==null?{id:Ql,overflow:Zl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Js(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,js=e,ws=null,!0):!1;default:return!1}}function RS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $S(e){if(Cn){var t=ws;if(t){var r=t;if(!Yk(e,t)){if(RS(e))throw Error(ht(418));t=wu(r.nextSibling);var n=js;t&&Yk(e,t)?zR(n,r):(e.flags=e.flags&-4097|2,Cn=!1,js=e)}}else{if(RS(e))throw Error(ht(418));e.flags=e.flags&-4097|2,Cn=!1,js=e}}}function Xk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;js=e}function x1(e){if(e!==js)return!1;if(!Cn)return Xk(e),Cn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!DS(e.type,e.memoizedProps)),t&&(t=ws)){if(RS(e))throw VR(),Error(ht(418));for(;t;)zR(e,t),t=wu(t.nextSibling)}if(Xk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ht(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ws=wu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ws=null}}else ws=js?wu(e.stateNode.nextSibling):null;return!0}function VR(){for(var e=ws;e;)e=wu(e.nextSibling)}function n0(){ws=js=null,Cn=!1}function hT(e){Fo===null?Fo=[e]:Fo.push(e)}var HX=Ac.ReactCurrentBatchConfig;function Jp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ht(309));var n=r.stateNode}if(!n)throw Error(ht(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ht(284));if(!r._owner)throw Error(ht(290,e))}return e}function y1(e,t){throw e=Object.prototype.toString.call(t),Error(ht(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jk(e){var t=e._init;return t(e._payload)}function HR(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(g,y){return g=Nu(g,y),g.index=0,g.sibling=null,g}function i(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,b,j){return y===null||y.tag!==6?(y=P5(b,g.mode,j),y.return=g,y):(y=a(y,b),y.return=g,y)}function c(g,y,b,j){var _=b.type;return _===mh?d(g,y,b.props.children,j,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ru&&Jk(_)===y.type)?(j=a(y,b.props),j.ref=Jp(g,y,b),j.return=g,j):(j=Cy(b.type,b.key,b.props,null,g.mode,j),j.ref=Jp(g,y,b),j.return=g,j)}function u(g,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=O5(b,g.mode,j),y.return=g,y):(y=a(y,b.children||[]),y.return=g,y)}function d(g,y,b,j,_){return y===null||y.tag!==7?(y=Md(b,g.mode,j,_),y.return=g,y):(y=a(y,b),y.return=g,y)}function f(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=P5(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case l1:return b=Cy(y.type,y.key,y.props,null,g.mode,b),b.ref=Jp(g,null,y),b.return=g,b;case ph:return y=O5(y,g.mode,b),y.return=g,y;case ru:var j=y._init;return f(g,j(y._payload),b)}if(Nm(y)||qp(y))return y=Md(y,g.mode,b,null),y.return=g,y;y1(g,y)}return null}function h(g,y,b,j){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(g,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case l1:return b.key===_?c(g,y,b,j):null;case ph:return b.key===_?u(g,y,b,j):null;case ru:return _=b._init,h(g,y,_(b._payload),j)}if(Nm(b)||qp(b))return _!==null?null:d(g,y,b,j,null);y1(g,b)}return null}function p(g,y,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,l(y,g,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case l1:return g=g.get(j.key===null?b:j.key)||null,c(y,g,j,_);case ph:return g=g.get(j.key===null?b:j.key)||null,u(y,g,j,_);case ru:var N=j._init;return p(g,y,b,N(j._payload),_)}if(Nm(j)||qp(j))return g=g.get(b)||null,d(y,g,j,_,null);y1(y,j)}return null}function v(g,y,b,j){for(var _=null,N=null,S=y,A=y=0,P=null;S!==null&&A<b.length;A++){S.index>A?(P=S,S=null):P=S.sibling;var W=h(g,S,b[A],j);if(W===null){S===null&&(S=P);break}e&&S&&W.alternate===null&&t(g,S),y=i(W,y,A),N===null?_=W:N.sibling=W,N=W,S=P}if(A===b.length)return r(g,S),Cn&&hd(g,A),_;if(S===null){for(;A<b.length;A++)S=f(g,b[A],j),S!==null&&(y=i(S,y,A),N===null?_=S:N.sibling=S,N=S);return Cn&&hd(g,A),_}for(S=n(g,S);A<b.length;A++)P=p(S,g,A,b[A],j),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?A:P.key),y=i(P,y,A),N===null?_=P:N.sibling=P,N=P);return e&&S.forEach(function(C){return t(g,C)}),Cn&&hd(g,A),_}function m(g,y,b,j){var _=qp(b);if(typeof _!="function")throw Error(ht(150));if(b=_.call(b),b==null)throw Error(ht(151));for(var N=_=null,S=y,A=y=0,P=null,W=b.next();S!==null&&!W.done;A++,W=b.next()){S.index>A?(P=S,S=null):P=S.sibling;var C=h(g,S,W.value,j);if(C===null){S===null&&(S=P);break}e&&S&&C.alternate===null&&t(g,S),y=i(C,y,A),N===null?_=C:N.sibling=C,N=C,S=P}if(W.done)return r(g,S),Cn&&hd(g,A),_;if(S===null){for(;!W.done;A++,W=b.next())W=f(g,W.value,j),W!==null&&(y=i(W,y,A),N===null?_=W:N.sibling=W,N=W);return Cn&&hd(g,A),_}for(S=n(g,S);!W.done;A++,W=b.next())W=p(S,g,A,W.value,j),W!==null&&(e&&W.alternate!==null&&S.delete(W.key===null?A:W.key),y=i(W,y,A),N===null?_=W:N.sibling=W,N=W);return e&&S.forEach(function(k){return t(g,k)}),Cn&&hd(g,A),_}function x(g,y,b,j){if(typeof b=="object"&&b!==null&&b.type===mh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case l1:e:{for(var _=b.key,N=y;N!==null;){if(N.key===_){if(_=b.type,_===mh){if(N.tag===7){r(g,N.sibling),y=a(N,b.props.children),y.return=g,g=y;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ru&&Jk(_)===N.type){r(g,N.sibling),y=a(N,b.props),y.ref=Jp(g,N,b),y.return=g,g=y;break e}r(g,N);break}else t(g,N);N=N.sibling}b.type===mh?(y=Md(b.props.children,g.mode,j,b.key),y.return=g,g=y):(j=Cy(b.type,b.key,b.props,null,g.mode,j),j.ref=Jp(g,y,b),j.return=g,g=j)}return o(g);case ph:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(g,y.sibling),y=a(y,b.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=O5(b,g.mode,j),y.return=g,g=y}return o(g);case ru:return N=b._init,x(g,y,N(b._payload),j)}if(Nm(b))return v(g,y,b,j);if(qp(b))return m(g,y,b,j);y1(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(g,y.sibling),y=a(y,b),y.return=g,g=y):(r(g,y),y=P5(b,g.mode,j),y.return=g,g=y),o(g)):r(g,y)}return x}var a0=HR(!0),WR=HR(!1),e2=Vu(null),t2=null,jh=null,pT=null;function mT(){pT=jh=t2=null}function gT(e){var t=e2.current;jn(e2),e._currentValue=t}function BS(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $h(e,t){t2=e,pT=jh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ji=!0),e.firstContext=null)}function ao(e){var t=e._currentValue;if(pT!==e)if(e={context:e,memoizedValue:t,next:null},jh===null){if(t2===null)throw Error(ht(308));jh=e,t2.dependencies={lanes:0,firstContext:e}}else jh=jh.next=e;return t}var Td=null;function vT(e){Td===null?Td=[e]:Td.push(e)}function qR(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,vT(t)):(r.next=a.next,a.next=r),t.interleaved=r,gc(e,n)}function gc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var nu=!1;function xT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ic(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _u(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$r&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,gc(e,r)}return a=n.interleaved,a===null?(t.next=t,vT(n)):(t.next=a.next,a.next=t),n.interleaved=t,gc(e,r)}function _y(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,nT(e,r)}}function Qk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function r2(e,t,r,n){var a=e.updateQueue;nu=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(h=t,p=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Mn({},f,h);break e;case 2:nu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Jd|=o,e.lanes=o,e.memoizedState=f}}function Zk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ht(191,a));a.call(n)}}}var Vv={},vl=Vu(Vv),kg=Vu(Vv),Pg=Vu(Vv);function Cd(e){if(e===Vv)throw Error(ht(174));return e}function yT(e,t){switch(mn(Pg,t),mn(kg,e),mn(vl,Vv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bS(t,e)}jn(vl),mn(vl,t)}function i0(){jn(vl),jn(kg),jn(Pg)}function KR(e){Cd(Pg.current);var t=Cd(vl.current),r=bS(t,e.type);t!==r&&(mn(kg,e),mn(vl,r))}function bT(e){kg.current===e&&(jn(vl),jn(kg))}var Fn=Vu(0);function n2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var N5=[];function wT(){for(var e=0;e<N5.length;e++)N5[e]._workInProgressVersionPrimary=null;N5.length=0}var jy=Ac.ReactCurrentDispatcher,A5=Ac.ReactCurrentBatchConfig,Xd=0,In=null,va=null,Fa=null,a2=!1,Hm=!1,Og=0,WX=0;function ti(){throw Error(ht(321))}function _T(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ho(e[r],t[r]))return!1;return!0}function jT(e,t,r,n,a,i){if(Xd=i,In=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jy.current=e===null||e.memoizedState===null?YX:XX,e=r(n,a),Hm){i=0;do{if(Hm=!1,Og=0,25<=i)throw Error(ht(301));i+=1,Fa=va=null,t.updateQueue=null,jy.current=JX,e=r(n,a)}while(Hm)}if(jy.current=i2,t=va!==null&&va.next!==null,Xd=0,Fa=va=In=null,a2=!1,t)throw Error(ht(300));return e}function ST(){var e=Og!==0;return Og=0,e}function ul(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fa===null?In.memoizedState=Fa=e:Fa=Fa.next=e,Fa}function io(){if(va===null){var e=In.alternate;e=e!==null?e.memoizedState:null}else e=va.next;var t=Fa===null?In.memoizedState:Fa.next;if(t!==null)Fa=t,va=e;else{if(e===null)throw Error(ht(310));va=e,e={memoizedState:va.memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},Fa===null?In.memoizedState=Fa=e:Fa=Fa.next=e}return Fa}function Fg(e,t){return typeof t=="function"?t(e):t}function T5(e){var t=io(),r=t.queue;if(r===null)throw Error(ht(311));r.lastRenderedReducer=e;var n=va,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Xd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,In.lanes|=d,Jd|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ho(n,t.memoizedState)||(Ji=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,In.lanes|=i,Jd|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function C5(e){var t=io(),r=t.queue;if(r===null)throw Error(ht(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ho(i,t.memoizedState)||(Ji=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function YR(){}function XR(e,t){var r=In,n=io(),a=t(),i=!Ho(n.memoizedState,a);if(i&&(n.memoizedState=a,Ji=!0),n=n.queue,NT(ZR.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Fa!==null&&Fa.memoizedState.tag&1){if(r.flags|=2048,Dg(9,QR.bind(null,r,n,a,t),void 0,null),Da===null)throw Error(ht(349));Xd&30||JR(r,t,a)}return a}function JR(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function QR(e,t,r,n){t.value=r,t.getSnapshot=n,e7(t)&&t7(e)}function ZR(e,t,r){return r(function(){e7(t)&&t7(e)})}function e7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ho(e,r)}catch{return!0}}function t7(e){var t=gc(e,1);t!==null&&zo(t,e,1,-1)}function eP(e){var t=ul();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:e},t.queue=e,e=e.dispatch=KX.bind(null,In,e),[t.memoizedState,e]}function Dg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=In.updateQueue,t===null?(t={lastEffect:null,stores:null},In.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function r7(){return io().memoizedState}function Sy(e,t,r,n){var a=ul();In.flags|=e,a.memoizedState=Dg(1|t,r,void 0,n===void 0?null:n)}function Wb(e,t,r,n){var a=io();n=n===void 0?null:n;var i=void 0;if(va!==null){var o=va.memoizedState;if(i=o.destroy,n!==null&&_T(n,o.deps)){a.memoizedState=Dg(t,r,i,n);return}}In.flags|=e,a.memoizedState=Dg(1|t,r,i,n)}function tP(e,t){return Sy(8390656,8,e,t)}function NT(e,t){return Wb(2048,8,e,t)}function n7(e,t){return Wb(4,2,e,t)}function a7(e,t){return Wb(4,4,e,t)}function i7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s7(e,t,r){return r=r!=null?r.concat([e]):null,Wb(4,4,i7.bind(null,t,e),r)}function AT(){}function o7(e,t){var r=io();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_T(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function l7(e,t){var r=io();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_T(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function c7(e,t,r){return Xd&21?(Ho(r,t)||(r=pR(),In.lanes|=r,Jd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ji=!0),e.memoizedState=r)}function qX(e,t){var r=en;en=r!==0&&4>r?r:4,e(!0);var n=A5.transition;A5.transition={};try{e(!1),t()}finally{en=r,A5.transition=n}}function u7(){return io().memoizedState}function GX(e,t,r){var n=Su(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},d7(e))f7(t,r);else if(r=qR(e,t,r,n),r!==null){var a=Fi();zo(r,e,n,a),h7(r,t,n)}}function KX(e,t,r){var n=Su(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(d7(e))f7(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ho(l,o)){var c=t.interleaved;c===null?(a.next=a,vT(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=qR(e,t,a,n),r!==null&&(a=Fi(),zo(r,e,n,a),h7(r,t,n))}}function d7(e){var t=e.alternate;return e===In||t!==null&&t===In}function f7(e,t){Hm=a2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function h7(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,nT(e,r)}}var i2={readContext:ao,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},YX={readContext:ao,useCallback:function(e,t){return ul().memoizedState=[e,t===void 0?null:t],e},useContext:ao,useEffect:tP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sy(4194308,4,i7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sy(4,2,e,t)},useMemo:function(e,t){var r=ul();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ul();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=GX.bind(null,In,e),[n.memoizedState,e]},useRef:function(e){var t=ul();return e={current:e},t.memoizedState=e},useState:eP,useDebugValue:AT,useDeferredValue:function(e){return ul().memoizedState=e},useTransition:function(){var e=eP(!1),t=e[0];return e=qX.bind(null,e[1]),ul().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=In,a=ul();if(Cn){if(r===void 0)throw Error(ht(407));r=r()}else{if(r=t(),Da===null)throw Error(ht(349));Xd&30||JR(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,tP(ZR.bind(null,n,i,e),[e]),n.flags|=2048,Dg(9,QR.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ul(),t=Da.identifierPrefix;if(Cn){var r=Zl,n=Ql;r=(n&~(1<<32-Uo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Og++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=WX++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XX={readContext:ao,useCallback:o7,useContext:ao,useEffect:NT,useImperativeHandle:s7,useInsertionEffect:n7,useLayoutEffect:a7,useMemo:l7,useReducer:T5,useRef:r7,useState:function(){return T5(Fg)},useDebugValue:AT,useDeferredValue:function(e){var t=io();return c7(t,va.memoizedState,e)},useTransition:function(){var e=T5(Fg)[0],t=io().memoizedState;return[e,t]},useMutableSource:YR,useSyncExternalStore:XR,useId:u7,unstable_isNewReconciler:!1},JX={readContext:ao,useCallback:o7,useContext:ao,useEffect:NT,useImperativeHandle:s7,useInsertionEffect:n7,useLayoutEffect:a7,useMemo:l7,useReducer:C5,useRef:r7,useState:function(){return C5(Fg)},useDebugValue:AT,useDeferredValue:function(e){var t=io();return va===null?t.memoizedState=e:c7(t,va.memoizedState,e)},useTransition:function(){var e=C5(Fg)[0],t=io().memoizedState;return[e,t]},useMutableSource:YR,useSyncExternalStore:XR,useId:u7,unstable_isNewReconciler:!1};function To(e,t){if(e&&e.defaultProps){t=Mn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function US(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Mn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qb={isMounted:function(e){return(e=e._reactInternals)?hf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fi(),a=Su(e),i=ic(n,a);i.payload=t,r!=null&&(i.callback=r),t=_u(e,i,a),t!==null&&(zo(t,e,a,n),_y(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fi(),a=Su(e),i=ic(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=_u(e,i,a),t!==null&&(zo(t,e,a,n),_y(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fi(),n=Su(e),a=ic(r,n);a.tag=2,t!=null&&(a.callback=t),t=_u(e,a,n),t!==null&&(zo(t,e,n,r),_y(t,e,n))}};function rP(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ag(r,n)||!Ag(a,i):!0}function p7(e,t,r){var n=!1,a=Ou,i=t.contextType;return typeof i=="object"&&i!==null?i=ao(i):(a=es(t)?Kd:yi.current,n=t.contextTypes,i=(n=n!=null)?r0(e,a):Ou),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function nP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qb.enqueueReplaceState(t,t.state,null)}function zS(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},xT(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ao(i):(i=es(t)?Kd:yi.current,a.context=r0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(US(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&qb.enqueueReplaceState(a,a.state,null),r2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function s0(e,t){try{var r="",n=t;do r+=NY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function E5(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function VS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var QX=typeof WeakMap=="function"?WeakMap:Map;function m7(e,t,r){r=ic(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){o2||(o2=!0,ZS=n),VS(e,t)},r}function g7(e,t,r){r=ic(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){VS(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){VS(e,t),typeof n!="function"&&(ju===null?ju=new Set([this]):ju.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function aP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new QX;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=fJ.bind(null,e,t,r),t.then(e,e))}function iP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sP(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ic(-1,1),t.tag=2,_u(r,t,1))),r.lanes|=1),e)}var ZX=Ac.ReactCurrentOwner,Ji=!1;function Ci(e,t,r,n){t.child=e===null?WR(t,null,r,n):a0(t,e.child,r,n)}function oP(e,t,r,n,a){r=r.render;var i=t.ref;return $h(t,a),n=jT(e,t,r,n,i,a),r=ST(),e!==null&&!Ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vc(e,t,a)):(Cn&&r&&dT(t),t.flags|=1,Ci(e,t,n,a),t.child)}function lP(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!DT(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,v7(e,t,i,n,a)):(e=Cy(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ag,r(o,n)&&e.ref===t.ref)return vc(e,t,a)}return t.flags|=1,e=Nu(i,n),e.ref=t.ref,e.return=t,t.child=e}function v7(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ag(i,n)&&e.ref===t.ref)if(Ji=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ji=!0);else return t.lanes=e.lanes,vc(e,t,a)}return HS(e,t,r,n,a)}function x7(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(Nh,ps),ps|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mn(Nh,ps),ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,mn(Nh,ps),ps|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,mn(Nh,ps),ps|=n;return Ci(e,t,a,r),t.child}function y7(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function HS(e,t,r,n,a){var i=es(r)?Kd:yi.current;return i=r0(t,i),$h(t,a),r=jT(e,t,r,n,i,a),n=ST(),e!==null&&!Ji?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vc(e,t,a)):(Cn&&n&&dT(t),t.flags|=1,Ci(e,t,r,a),t.child)}function cP(e,t,r,n,a){if(es(r)){var i=!0;Jy(t)}else i=!1;if($h(t,a),t.stateNode===null)Ny(e,t),p7(t,r,n),zS(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ao(u):(u=es(r)?Kd:yi.current,u=r0(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&nP(t,o,n,u),nu=!1;var h=t.memoizedState;o.state=h,r2(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Zi.current||nu?(typeof d=="function"&&(US(t,r,d,n),c=t.memoizedState),(l=nu||rP(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,GR(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:To(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ao(c):(c=es(r)?Kd:yi.current,c=r0(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&nP(t,o,n,c),nu=!1,h=t.memoizedState,o.state=h,r2(t,n,o,a);var v=t.memoizedState;l!==f||h!==v||Zi.current||nu?(typeof p=="function"&&(US(t,r,p,n),v=t.memoizedState),(u=nu||rP(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return WS(e,t,r,n,i,a)}function WS(e,t,r,n,a,i){y7(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Kk(t,r,!1),vc(e,t,i);n=t.stateNode,ZX.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=a0(t,e.child,null,i),t.child=a0(t,null,l,i)):Ci(e,t,l,i),t.memoizedState=n.state,a&&Kk(t,r,!0),t.child}function b7(e){var t=e.stateNode;t.pendingContext?Gk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gk(e,t.context,!1),yT(e,t.containerInfo)}function uP(e,t,r,n,a){return n0(),hT(a),t.flags|=256,Ci(e,t,r,n),t.child}var qS={dehydrated:null,treeContext:null,retryLane:0};function GS(e){return{baseLanes:e,cachePool:null,transitions:null}}function w7(e,t,r){var n=t.pendingProps,a=Fn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),mn(Fn,a&1),e===null)return $S(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yb(o,n,0,null),e=Md(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=GS(r),t.memoizedState=qS,e):TT(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return eJ(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Nu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Nu(l,i):(i=Md(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?GS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=qS,n}return i=e.child,e=i.sibling,n=Nu(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function TT(e,t){return t=Yb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function b1(e,t,r,n){return n!==null&&hT(n),a0(t,e.child,null,r),e=TT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eJ(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=E5(Error(ht(422))),b1(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Yb({mode:"visible",children:n.children},a,0,null),i=Md(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&a0(t,e.child,null,o),t.child.memoizedState=GS(o),t.memoizedState=qS,i);if(!(t.mode&1))return b1(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ht(419)),n=E5(i,n,void 0),b1(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ji||l){if(n=Da,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,gc(e,a),zo(n,e,a,-1))}return FT(),n=E5(Error(ht(421))),b1(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=hJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ws=wu(a.nextSibling),js=t,Cn=!0,Fo=null,e!==null&&(Ys[Xs++]=Ql,Ys[Xs++]=Zl,Ys[Xs++]=Yd,Ql=e.id,Zl=e.overflow,Yd=t),t=TT(t,n.children),t.flags|=4096,t)}function dP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),BS(e.return,t,r)}function k5(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function _7(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ci(e,t,n.children,r),n=Fn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dP(e,r,t);else if(e.tag===19)dP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(mn(Fn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&n2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),k5(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&n2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}k5(t,!0,r,null,i);break;case"together":k5(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ny(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ht(153));if(t.child!==null){for(e=t.child,r=Nu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function tJ(e,t,r){switch(t.tag){case 3:b7(t),n0();break;case 5:KR(t);break;case 1:es(t.type)&&Jy(t);break;case 4:yT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;mn(e2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(mn(Fn,Fn.current&1),t.flags|=128,null):r&t.child.childLanes?w7(e,t,r):(mn(Fn,Fn.current&1),e=vc(e,t,r),e!==null?e.sibling:null);mn(Fn,Fn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return _7(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),mn(Fn,Fn.current),n)break;return null;case 22:case 23:return t.lanes=0,x7(e,t,r)}return vc(e,t,r)}var j7,KS,S7,N7;j7=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};KS=function(){};S7=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Cd(vl.current);var i=null;switch(r){case"input":a=gS(e,a),n=gS(e,n),i=[];break;case"select":a=Mn({},a,{value:void 0}),n=Mn({},n,{value:void 0}),i=[];break;case"textarea":a=yS(e,a),n=yS(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yy)}wS(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yg.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&yn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};N7=function(e,t,r,n){r!==n&&(t.flags|=4)};function Qp(e,t){if(!Cn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rJ(e,t,r){var n=t.pendingProps;switch(fT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(t),null;case 1:return es(t.type)&&Xy(),ri(t),null;case 3:return n=t.stateNode,i0(),jn(Zi),jn(yi),wT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(x1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fo!==null&&(rN(Fo),Fo=null))),KS(e,t),ri(t),null;case 5:bT(t);var a=Cd(Pg.current);if(r=t.type,e!==null&&t.stateNode!=null)S7(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ht(166));return ri(t),null}if(e=Cd(vl.current),x1(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fl]=t,n[Eg]=i,e=(t.mode&1)!==0,r){case"dialog":yn("cancel",n),yn("close",n);break;case"iframe":case"object":case"embed":yn("load",n);break;case"video":case"audio":for(a=0;a<Tm.length;a++)yn(Tm[a],n);break;case"source":yn("error",n);break;case"img":case"image":case"link":yn("error",n),yn("load",n);break;case"details":yn("toggle",n);break;case"input":bk(n,i),yn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},yn("invalid",n);break;case"textarea":_k(n,i),yn("invalid",n)}wS(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&v1(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&v1(n.textContent,l,e),a=["children",""+l]):yg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&yn("scroll",n)}switch(r){case"input":c1(n),wk(n,i,!0);break;case"textarea":c1(n),jk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yy)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fl]=t,e[Eg]=n,j7(e,t,!1,!1),t.stateNode=e;e:{switch(o=_S(r,n),r){case"dialog":yn("cancel",e),yn("close",e),a=n;break;case"iframe":case"object":case"embed":yn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Tm.length;a++)yn(Tm[a],e);a=n;break;case"source":yn("error",e),a=n;break;case"img":case"image":case"link":yn("error",e),yn("load",e),a=n;break;case"details":yn("toggle",e),a=n;break;case"input":bk(e,n),a=gS(e,n),yn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Mn({},n,{value:void 0}),yn("invalid",e);break;case"textarea":_k(e,n),a=yS(e,n),yn("invalid",e);break;default:a=n}wS(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?rR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&eR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&bg(e,c):typeof c=="number"&&bg(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yn("scroll",e):c!=null&&JA(e,i,c,o))}switch(r){case"input":c1(e),wk(e,n,!1);break;case"textarea":c1(e),jk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pu(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Lh(e,!!n.multiple,i,!1):n.defaultValue!=null&&Lh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ri(t),null;case 6:if(e&&t.stateNode!=null)N7(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ht(166));if(r=Cd(Pg.current),Cd(vl.current),x1(t)){if(n=t.stateNode,r=t.memoizedProps,n[fl]=t,(i=n.nodeValue!==r)&&(e=js,e!==null))switch(e.tag){case 3:v1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&v1(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fl]=t,t.stateNode=n}return ri(t),null;case 13:if(jn(Fn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Cn&&ws!==null&&t.mode&1&&!(t.flags&128))VR(),n0(),t.flags|=98560,i=!1;else if(i=x1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ht(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ht(317));i[fl]=t}else n0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ri(t),i=!1}else Fo!==null&&(rN(Fo),Fo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Fn.current&1?ya===0&&(ya=3):FT())),t.updateQueue!==null&&(t.flags|=4),ri(t),null);case 4:return i0(),KS(e,t),e===null&&Tg(t.stateNode.containerInfo),ri(t),null;case 10:return gT(t.type._context),ri(t),null;case 17:return es(t.type)&&Xy(),ri(t),null;case 19:if(jn(Fn),i=t.memoizedState,i===null)return ri(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Qp(i,!1);else{if(ya!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=n2(e),o!==null){for(t.flags|=128,Qp(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return mn(Fn,Fn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Qn()>o0&&(t.flags|=128,n=!0,Qp(i,!1),t.lanes=4194304)}else{if(!n)if(e=n2(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Cn)return ri(t),null}else 2*Qn()-i.renderingStartTime>o0&&r!==1073741824&&(t.flags|=128,n=!0,Qp(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qn(),t.sibling=null,r=Fn.current,mn(Fn,n?r&1|2:r&1),t):(ri(t),null);case 22:case 23:return OT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ps&1073741824&&(ri(t),t.subtreeFlags&6&&(t.flags|=8192)):ri(t),null;case 24:return null;case 25:return null}throw Error(ht(156,t.tag))}function nJ(e,t){switch(fT(t),t.tag){case 1:return es(t.type)&&Xy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return i0(),jn(Zi),jn(yi),wT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bT(t),null;case 13:if(jn(Fn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ht(340));n0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jn(Fn),null;case 4:return i0(),null;case 10:return gT(t.type._context),null;case 22:case 23:return OT(),null;case 24:return null;default:return null}}var w1=!1,di=!1,aJ=typeof WeakSet=="function"?WeakSet:Set,It=null;function Sh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zn(e,t,n)}else r.current=null}function YS(e,t,r){try{r()}catch(n){zn(e,t,n)}}var fP=!1;function iJ(e,t){if(OS=qy,e=kR(),uT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(FS={focusedElem:e,selectionRange:r},qy=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){t=It;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:To(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(j){zn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}return v=fP,fP=!1,v}function Wm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&YS(t,r,i)}a=a.next}while(a!==n)}}function Gb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function XS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function A7(e){var t=e.alternate;t!==null&&(e.alternate=null,A7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fl],delete t[Eg],delete t[IS],delete t[UX],delete t[zX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function T7(e){return e.tag===5||e.tag===3||e.tag===4}function hP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||T7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function JS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yy));else if(n!==4&&(e=e.child,e!==null))for(JS(e,t,r),e=e.sibling;e!==null;)JS(e,t,r),e=e.sibling}function QS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(QS(e,t,r),e=e.sibling;e!==null;)QS(e,t,r),e=e.sibling}var Ha=null,Eo=!1;function Wc(e,t,r){for(r=r.child;r!==null;)C7(e,t,r),r=r.sibling}function C7(e,t,r){if(gl&&typeof gl.onCommitFiberUnmount=="function")try{gl.onCommitFiberUnmount($b,r)}catch{}switch(r.tag){case 5:di||Sh(r,t);case 6:var n=Ha,a=Eo;Ha=null,Wc(e,t,r),Ha=n,Eo=a,Ha!==null&&(Eo?(e=Ha,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ha.removeChild(r.stateNode));break;case 18:Ha!==null&&(Eo?(e=Ha,r=r.stateNode,e.nodeType===8?j5(e.parentNode,r):e.nodeType===1&&j5(e,r),Sg(e)):j5(Ha,r.stateNode));break;case 4:n=Ha,a=Eo,Ha=r.stateNode.containerInfo,Eo=!0,Wc(e,t,r),Ha=n,Eo=a;break;case 0:case 11:case 14:case 15:if(!di&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&YS(r,t,o),a=a.next}while(a!==n)}Wc(e,t,r);break;case 1:if(!di&&(Sh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){zn(r,t,l)}Wc(e,t,r);break;case 21:Wc(e,t,r);break;case 22:r.mode&1?(di=(n=di)||r.memoizedState!==null,Wc(e,t,r),di=n):Wc(e,t,r);break;default:Wc(e,t,r)}}function pP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new aJ),t.forEach(function(n){var a=pJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function yo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ha=l.stateNode,Eo=!1;break e;case 3:Ha=l.stateNode.containerInfo,Eo=!0;break e;case 4:Ha=l.stateNode.containerInfo,Eo=!0;break e}l=l.return}if(Ha===null)throw Error(ht(160));C7(i,o,a),Ha=null,Eo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){zn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)E7(t,e),t=t.sibling}function E7(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yo(t,e),sl(e),n&4){try{Wm(3,e,e.return),Gb(3,e)}catch(m){zn(e,e.return,m)}try{Wm(5,e,e.return)}catch(m){zn(e,e.return,m)}}break;case 1:yo(t,e),sl(e),n&512&&r!==null&&Sh(r,r.return);break;case 5:if(yo(t,e),sl(e),n&512&&r!==null&&Sh(r,r.return),e.flags&32){var a=e.stateNode;try{bg(a,"")}catch(m){zn(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&JM(a,i),_S(l,o);var u=_S(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?rR(a,f):d==="dangerouslySetInnerHTML"?eR(a,f):d==="children"?bg(a,f):JA(a,d,f,u)}switch(l){case"input":vS(a,i);break;case"textarea":QM(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Lh(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Lh(a,!!i.multiple,i.defaultValue,!0):Lh(a,!!i.multiple,i.multiple?[]:"",!1))}a[Eg]=i}catch(m){zn(e,e.return,m)}}break;case 6:if(yo(t,e),sl(e),n&4){if(e.stateNode===null)throw Error(ht(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){zn(e,e.return,m)}}break;case 3:if(yo(t,e),sl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sg(t.containerInfo)}catch(m){zn(e,e.return,m)}break;case 4:yo(t,e),sl(e);break;case 13:yo(t,e),sl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(kT=Qn())),n&4&&pP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(di=(u=di)||d,yo(t,e),di=u):yo(t,e),sl(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(It=e,d=e.child;d!==null;){for(f=It=d;It!==null;){switch(h=It,p=h.child,h.tag){case 0:case 11:case 14:case 15:Wm(4,h,h.return);break;case 1:Sh(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){zn(n,r,m)}}break;case 5:Sh(h,h.return);break;case 22:if(h.memoizedState!==null){gP(f);continue}}p!==null?(p.return=h,It=p):gP(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=tR("display",o))}catch(m){zn(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){zn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yo(t,e),sl(e),n&4&&pP(e);break;case 21:break;default:yo(t,e),sl(e)}}function sl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(T7(r)){var n=r;break e}r=r.return}throw Error(ht(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(bg(a,""),n.flags&=-33);var i=hP(e);QS(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=hP(e);JS(e,l,o);break;default:throw Error(ht(161))}}catch(c){zn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sJ(e,t,r){It=e,k7(e)}function k7(e,t,r){for(var n=(e.mode&1)!==0;It!==null;){var a=It,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||w1;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||di;l=w1;var u=di;if(w1=o,(di=c)&&!u)for(It=a;It!==null;)o=It,c=o.child,o.tag===22&&o.memoizedState!==null?vP(a):c!==null?(c.return=o,It=c):vP(a);for(;i!==null;)It=i,k7(i),i=i.sibling;It=a,w1=l,di=u}mP(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,It=i):mP(e)}}function mP(e){for(;It!==null;){var t=It;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:di||Gb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!di)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:To(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Zk(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Zk(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}di||t.flags&512&&XS(t)}catch(h){zn(t,t.return,h)}}if(t===e){It=null;break}if(r=t.sibling,r!==null){r.return=t.return,It=r;break}It=t.return}}function gP(e){for(;It!==null;){var t=It;if(t===e){It=null;break}var r=t.sibling;if(r!==null){r.return=t.return,It=r;break}It=t.return}}function vP(e){for(;It!==null;){var t=It;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gb(4,t)}catch(c){zn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){zn(t,a,c)}}var i=t.return;try{XS(t)}catch(c){zn(t,i,c)}break;case 5:var o=t.return;try{XS(t)}catch(c){zn(t,o,c)}}}catch(c){zn(t,t.return,c)}if(t===e){It=null;break}var l=t.sibling;if(l!==null){l.return=t.return,It=l;break}It=t.return}}var oJ=Math.ceil,s2=Ac.ReactCurrentDispatcher,CT=Ac.ReactCurrentOwner,eo=Ac.ReactCurrentBatchConfig,$r=0,Da=null,fa=null,Ka=0,ps=0,Nh=Vu(0),ya=0,Lg=null,Jd=0,Kb=0,ET=0,qm=null,Yi=null,kT=0,o0=1/0,Yl=null,o2=!1,ZS=null,ju=null,_1=!1,hu=null,l2=0,Gm=0,eN=null,Ay=-1,Ty=0;function Fi(){return $r&6?Qn():Ay!==-1?Ay:Ay=Qn()}function Su(e){return e.mode&1?$r&2&&Ka!==0?Ka&-Ka:HX.transition!==null?(Ty===0&&(Ty=pR()),Ty):(e=en,e!==0||(e=window.event,e=e===void 0?16:wR(e.type)),e):1}function zo(e,t,r,n){if(50<Gm)throw Gm=0,eN=null,Error(ht(185));Bv(e,r,n),(!($r&2)||e!==Da)&&(e===Da&&(!($r&2)&&(Kb|=r),ya===4&&ou(e,Ka)),ts(e,n),r===1&&$r===0&&!(t.mode&1)&&(o0=Qn()+500,Hb&&Hu()))}function ts(e,t){var r=e.callbackNode;HY(e,t);var n=Wy(e,e===Da?Ka:0);if(n===0)r!==null&&Ak(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ak(r),t===1)e.tag===0?VX(xP.bind(null,e)):BR(xP.bind(null,e)),$X(function(){!($r&6)&&Hu()}),r=null;else{switch(mR(n)){case 1:r=rT;break;case 4:r=fR;break;case 16:r=Hy;break;case 536870912:r=hR;break;default:r=Hy}r=R7(r,P7.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function P7(e,t){if(Ay=-1,Ty=0,$r&6)throw Error(ht(327));var r=e.callbackNode;if(Bh()&&e.callbackNode!==r)return null;var n=Wy(e,e===Da?Ka:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=c2(e,n);else{t=n;var a=$r;$r|=2;var i=F7();(Da!==e||Ka!==t)&&(Yl=null,o0=Qn()+500,Id(e,t));do try{uJ();break}catch(l){O7(e,l)}while(1);mT(),s2.current=i,$r=a,fa!==null?t=0:(Da=null,Ka=0,t=ya)}if(t!==0){if(t===2&&(a=TS(e),a!==0&&(n=a,t=tN(e,a))),t===1)throw r=Lg,Id(e,0),ou(e,n),ts(e,Qn()),r;if(t===6)ou(e,n);else{if(a=e.current.alternate,!(n&30)&&!lJ(a)&&(t=c2(e,n),t===2&&(i=TS(e),i!==0&&(n=i,t=tN(e,i))),t===1))throw r=Lg,Id(e,0),ou(e,n),ts(e,Qn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ht(345));case 2:pd(e,Yi,Yl);break;case 3:if(ou(e,n),(n&130023424)===n&&(t=kT+500-Qn(),10<t)){if(Wy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Fi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=LS(pd.bind(null,e,Yi,Yl),t);break}pd(e,Yi,Yl);break;case 4:if(ou(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Uo(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Qn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oJ(n/1960))-n,10<n){e.timeoutHandle=LS(pd.bind(null,e,Yi,Yl),n);break}pd(e,Yi,Yl);break;case 5:pd(e,Yi,Yl);break;default:throw Error(ht(329))}}}return ts(e,Qn()),e.callbackNode===r?P7.bind(null,e):null}function tN(e,t){var r=qm;return e.current.memoizedState.isDehydrated&&(Id(e,t).flags|=256),e=c2(e,t),e!==2&&(t=Yi,Yi=r,t!==null&&rN(t)),e}function rN(e){Yi===null?Yi=e:Yi.push.apply(Yi,e)}function lJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ho(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ou(e,t){for(t&=~ET,t&=~Kb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Uo(t),n=1<<r;e[r]=-1,t&=~n}}function xP(e){if($r&6)throw Error(ht(327));Bh();var t=Wy(e,0);if(!(t&1))return ts(e,Qn()),null;var r=c2(e,t);if(e.tag!==0&&r===2){var n=TS(e);n!==0&&(t=n,r=tN(e,n))}if(r===1)throw r=Lg,Id(e,0),ou(e,t),ts(e,Qn()),r;if(r===6)throw Error(ht(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pd(e,Yi,Yl),ts(e,Qn()),null}function PT(e,t){var r=$r;$r|=1;try{return e(t)}finally{$r=r,$r===0&&(o0=Qn()+500,Hb&&Hu())}}function Qd(e){hu!==null&&hu.tag===0&&!($r&6)&&Bh();var t=$r;$r|=1;var r=eo.transition,n=en;try{if(eo.transition=null,en=1,e)return e()}finally{en=n,eo.transition=r,$r=t,!($r&6)&&Hu()}}function OT(){ps=Nh.current,jn(Nh)}function Id(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RX(r)),fa!==null)for(r=fa.return;r!==null;){var n=r;switch(fT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xy();break;case 3:i0(),jn(Zi),jn(yi),wT();break;case 5:bT(n);break;case 4:i0();break;case 13:jn(Fn);break;case 19:jn(Fn);break;case 10:gT(n.type._context);break;case 22:case 23:OT()}r=r.return}if(Da=e,fa=e=Nu(e.current,null),Ka=ps=t,ya=0,Lg=null,ET=Kb=Jd=0,Yi=qm=null,Td!==null){for(t=0;t<Td.length;t++)if(r=Td[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Td=null}return e}function O7(e,t){do{var r=fa;try{if(mT(),jy.current=i2,a2){for(var n=In.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}a2=!1}if(Xd=0,Fa=va=In=null,Hm=!1,Og=0,CT.current=null,r===null||r.return===null){ya=1,Lg=t,fa=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ka,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=iP(o);if(p!==null){p.flags&=-257,sP(p,o,l,i,t),p.mode&1&&aP(i,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){aP(i,u,t),FT();break e}c=Error(ht(426))}}else if(Cn&&l.mode&1){var x=iP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),sP(x,o,l,i,t),hT(s0(c,l));break e}}i=c=s0(c,l),ya!==4&&(ya=2),qm===null?qm=[i]:qm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=m7(i,c,t);Qk(i,g);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ju===null||!ju.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=g7(i,l,t);Qk(i,j);break e}}i=i.return}while(i!==null)}L7(r)}catch(_){t=_,fa===r&&r!==null&&(fa=r=r.return);continue}break}while(1)}function F7(){var e=s2.current;return s2.current=i2,e===null?i2:e}function FT(){(ya===0||ya===3||ya===2)&&(ya=4),Da===null||!(Jd&268435455)&&!(Kb&268435455)||ou(Da,Ka)}function c2(e,t){var r=$r;$r|=2;var n=F7();(Da!==e||Ka!==t)&&(Yl=null,Id(e,t));do try{cJ();break}catch(a){O7(e,a)}while(1);if(mT(),$r=r,s2.current=n,fa!==null)throw Error(ht(261));return Da=null,Ka=0,ya}function cJ(){for(;fa!==null;)D7(fa)}function uJ(){for(;fa!==null&&!LY();)D7(fa)}function D7(e){var t=M7(e.alternate,e,ps);e.memoizedProps=e.pendingProps,t===null?L7(e):fa=t,CT.current=null}function L7(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=nJ(r,t),r!==null){r.flags&=32767,fa=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ya=6,fa=null;return}}else if(r=rJ(r,t,ps),r!==null){fa=r;return}if(t=t.sibling,t!==null){fa=t;return}fa=t=e}while(t!==null);ya===0&&(ya=5)}function pd(e,t,r){var n=en,a=eo.transition;try{eo.transition=null,en=1,dJ(e,t,r,n)}finally{eo.transition=a,en=n}return null}function dJ(e,t,r,n){do Bh();while(hu!==null);if($r&6)throw Error(ht(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ht(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(WY(e,i),e===Da&&(fa=Da=null,Ka=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_1||(_1=!0,R7(Hy,function(){return Bh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=eo.transition,eo.transition=null;var o=en;en=1;var l=$r;$r|=4,CT.current=null,iJ(e,r),E7(r,e),PX(FS),qy=!!OS,FS=OS=null,e.current=r,sJ(r),IY(),$r=l,en=o,eo.transition=i}else e.current=r;if(_1&&(_1=!1,hu=e,l2=a),i=e.pendingLanes,i===0&&(ju=null),$Y(r.stateNode),ts(e,Qn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(o2)throw o2=!1,e=ZS,ZS=null,e;return l2&1&&e.tag!==0&&Bh(),i=e.pendingLanes,i&1?e===eN?Gm++:(Gm=0,eN=e):Gm=0,Hu(),null}function Bh(){if(hu!==null){var e=mR(l2),t=eo.transition,r=en;try{if(eo.transition=null,en=16>e?16:e,hu===null)var n=!1;else{if(e=hu,hu=null,l2=0,$r&6)throw Error(ht(331));var a=$r;for($r|=4,It=e.current;It!==null;){var i=It,o=i.child;if(It.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(It=u;It!==null;){var d=It;switch(d.tag){case 0:case 11:case 15:Wm(8,d,i)}var f=d.child;if(f!==null)f.return=d,It=f;else for(;It!==null;){d=It;var h=d.sibling,p=d.return;if(A7(d),d===u){It=null;break}if(h!==null){h.return=p,It=h;break}It=p}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}It=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,It=o;else e:for(;It!==null;){if(i=It,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wm(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,It=g;break e}It=i.return}}var y=e.current;for(It=y;It!==null;){o=It;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,It=b;else e:for(o=y;It!==null;){if(l=It,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gb(9,l)}}catch(_){zn(l,l.return,_)}if(l===o){It=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,It=j;break e}It=l.return}}if($r=a,Hu(),gl&&typeof gl.onPostCommitFiberRoot=="function")try{gl.onPostCommitFiberRoot($b,e)}catch{}n=!0}return n}finally{en=r,eo.transition=t}}return!1}function yP(e,t,r){t=s0(r,t),t=m7(e,t,1),e=_u(e,t,1),t=Fi(),e!==null&&(Bv(e,1,t),ts(e,t))}function zn(e,t,r){if(e.tag===3)yP(e,e,r);else for(;t!==null;){if(t.tag===3){yP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ju===null||!ju.has(n))){e=s0(r,e),e=g7(t,e,1),t=_u(t,e,1),e=Fi(),t!==null&&(Bv(t,1,e),ts(t,e));break}}t=t.return}}function fJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fi(),e.pingedLanes|=e.suspendedLanes&r,Da===e&&(Ka&r)===r&&(ya===4||ya===3&&(Ka&130023424)===Ka&&500>Qn()-kT?Id(e,0):ET|=r),ts(e,t)}function I7(e,t){t===0&&(e.mode&1?(t=f1,f1<<=1,!(f1&130023424)&&(f1=4194304)):t=1);var r=Fi();e=gc(e,t),e!==null&&(Bv(e,t,r),ts(e,r))}function hJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),I7(e,r)}function pJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ht(314))}n!==null&&n.delete(t),I7(e,r)}var M7;M7=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zi.current)Ji=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ji=!1,tJ(e,t,r);Ji=!!(e.flags&131072)}else Ji=!1,Cn&&t.flags&1048576&&UR(t,Zy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ny(e,t),e=t.pendingProps;var a=r0(t,yi.current);$h(t,r),a=jT(null,t,n,e,a,r);var i=ST();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,es(n)?(i=!0,Jy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,xT(t),a.updater=qb,t.stateNode=a,a._reactInternals=t,zS(t,n,e,r),t=WS(null,t,n,!0,i,r)):(t.tag=0,Cn&&i&&dT(t),Ci(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ny(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=gJ(n),e=To(n,e),a){case 0:t=HS(null,t,n,e,r);break e;case 1:t=cP(null,t,n,e,r);break e;case 11:t=oP(null,t,n,e,r);break e;case 14:t=lP(null,t,n,To(n.type,e),r);break e}throw Error(ht(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:To(n,a),HS(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:To(n,a),cP(e,t,n,a,r);case 3:e:{if(b7(t),e===null)throw Error(ht(387));n=t.pendingProps,i=t.memoizedState,a=i.element,GR(e,t),r2(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=s0(Error(ht(423)),t),t=uP(e,t,n,r,a);break e}else if(n!==a){a=s0(Error(ht(424)),t),t=uP(e,t,n,r,a);break e}else for(ws=wu(t.stateNode.containerInfo.firstChild),js=t,Cn=!0,Fo=null,r=WR(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(n0(),n===a){t=vc(e,t,r);break e}Ci(e,t,n,r)}t=t.child}return t;case 5:return KR(t),e===null&&$S(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,DS(n,a)?o=null:i!==null&&DS(n,i)&&(t.flags|=32),y7(e,t),Ci(e,t,o,r),t.child;case 6:return e===null&&$S(t),null;case 13:return w7(e,t,r);case 4:return yT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=a0(t,null,n,r):Ci(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:To(n,a),oP(e,t,n,a,r);case 7:return Ci(e,t,t.pendingProps,r),t.child;case 8:return Ci(e,t,t.pendingProps.children,r),t.child;case 12:return Ci(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,mn(e2,n._currentValue),n._currentValue=o,i!==null)if(Ho(i.value,o)){if(i.children===a.children&&!Zi.current){t=vc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ic(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),BS(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ht(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),BS(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ci(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,$h(t,r),a=ao(a),n=n(a),t.flags|=1,Ci(e,t,n,r),t.child;case 14:return n=t.type,a=To(n,t.pendingProps),a=To(n.type,a),lP(e,t,n,a,r);case 15:return v7(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:To(n,a),Ny(e,t),t.tag=1,es(n)?(e=!0,Jy(t)):e=!1,$h(t,r),p7(t,n,a),zS(t,n,a,r),WS(null,t,n,!0,e,r);case 19:return _7(e,t,r);case 22:return x7(e,t,r)}throw Error(ht(156,t.tag))};function R7(e,t){return dR(e,t)}function mJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(e,t,r,n){return new mJ(e,t,r,n)}function DT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gJ(e){if(typeof e=="function")return DT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ZA)return 11;if(e===eT)return 14}return 2}function Nu(e,t){var r=e.alternate;return r===null?(r=Js(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cy(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")DT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case mh:return Md(r.children,a,i,t);case QA:o=8,a|=8;break;case fS:return e=Js(12,r,t,a|2),e.elementType=fS,e.lanes=i,e;case hS:return e=Js(13,r,t,a),e.elementType=hS,e.lanes=i,e;case pS:return e=Js(19,r,t,a),e.elementType=pS,e.lanes=i,e;case KM:return Yb(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qM:o=10;break e;case GM:o=9;break e;case ZA:o=11;break e;case eT:o=14;break e;case ru:o=16,n=null;break e}throw Error(ht(130,e==null?e:typeof e,""))}return t=Js(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Md(e,t,r,n){return e=Js(7,e,n,t),e.lanes=r,e}function Yb(e,t,r,n){return e=Js(22,e,n,t),e.elementType=KM,e.lanes=r,e.stateNode={isHidden:!1},e}function P5(e,t,r){return e=Js(6,e,null,t),e.lanes=r,e}function O5(e,t,r){return t=Js(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f5(0),this.expirationTimes=f5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f5(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function LT(e,t,r,n,a,i,o,l,c){return e=new vJ(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Js(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xT(i),e}function xJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ph,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $7(e){if(!e)return Ou;e=e._reactInternals;e:{if(hf(e)!==e||e.tag!==1)throw Error(ht(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(es(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ht(171))}if(e.tag===1){var r=e.type;if(es(r))return $R(e,r,t)}return t}function B7(e,t,r,n,a,i,o,l,c){return e=LT(r,n,!0,e,a,i,o,l,c),e.context=$7(null),r=e.current,n=Fi(),a=Su(r),i=ic(n,a),i.callback=t??null,_u(r,i,a),e.current.lanes=a,Bv(e,a,n),ts(e,n),e}function Xb(e,t,r,n){var a=t.current,i=Fi(),o=Su(a);return r=$7(r),t.context===null?t.context=r:t.pendingContext=r,t=ic(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=_u(a,t,o),e!==null&&(zo(e,a,o,i),_y(e,a,o)),o}function u2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function IT(e,t){bP(e,t),(e=e.alternate)&&bP(e,t)}function yJ(){return null}var U7=typeof reportError=="function"?reportError:function(e){console.error(e)};function MT(e){this._internalRoot=e}Jb.prototype.render=MT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ht(409));Xb(e,t,null,null)};Jb.prototype.unmount=MT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qd(function(){Xb(null,e,null,null)}),t[mc]=null}};function Jb(e){this._internalRoot=e}Jb.prototype.unstable_scheduleHydration=function(e){if(e){var t=xR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<su.length&&t!==0&&t<su[r].priority;r++);su.splice(r,0,e),r===0&&bR(e)}};function RT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wP(){}function bJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=u2(o);i.call(u)}}var o=B7(t,n,e,0,null,!1,!1,"",wP);return e._reactRootContainer=o,e[mc]=o.current,Tg(e.nodeType===8?e.parentNode:e),Qd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=u2(c);l.call(u)}}var c=LT(e,0,!1,null,null,!1,!1,"",wP);return e._reactRootContainer=c,e[mc]=c.current,Tg(e.nodeType===8?e.parentNode:e),Qd(function(){Xb(t,c,r,n)}),c}function Zb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=u2(o);l.call(c)}}Xb(t,o,e,a)}else o=bJ(r,t,e,a,n);return u2(o)}gR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Am(t.pendingLanes);r!==0&&(nT(t,r|1),ts(t,Qn()),!($r&6)&&(o0=Qn()+500,Hu()))}break;case 13:Qd(function(){var n=gc(e,1);if(n!==null){var a=Fi();zo(n,e,1,a)}}),IT(e,1)}};aT=function(e){if(e.tag===13){var t=gc(e,134217728);if(t!==null){var r=Fi();zo(t,e,134217728,r)}IT(e,134217728)}};vR=function(e){if(e.tag===13){var t=Su(e),r=gc(e,t);if(r!==null){var n=Fi();zo(r,e,t,n)}IT(e,t)}};xR=function(){return en};yR=function(e,t){var r=en;try{return en=e,t()}finally{en=r}};SS=function(e,t,r){switch(t){case"input":if(vS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Vb(n);if(!a)throw Error(ht(90));XM(n),vS(n,a)}}}break;case"textarea":QM(e,r);break;case"select":t=r.value,t!=null&&Lh(e,!!r.multiple,t,!1)}};iR=PT;sR=Qd;var wJ={usingClientEntryPoint:!1,Events:[zv,yh,Vb,nR,aR,PT]},Zp={findFiberByHostInstance:Ad,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_J={bundleType:Zp.bundleType,version:Zp.version,rendererPackageName:Zp.rendererPackageName,rendererConfig:Zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ac.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cR(e),e===null?null:e.stateNode},findFiberByHostInstance:Zp.findFiberByHostInstance||yJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j1.isDisabled&&j1.supportsFiber)try{$b=j1.inject(_J),gl=j1}catch{}}Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wJ;Os.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RT(t))throw Error(ht(200));return xJ(e,t,null,r)};Os.createRoot=function(e,t){if(!RT(e))throw Error(ht(299));var r=!1,n="",a=U7;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=LT(e,1,!1,null,null,r,!1,n,a),e[mc]=t.current,Tg(e.nodeType===8?e.parentNode:e),new MT(t)};Os.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ht(188)):(e=Object.keys(e).join(","),Error(ht(268,e)));return e=cR(t),e=e===null?null:e.stateNode,e};Os.flushSync=function(e){return Qd(e)};Os.hydrate=function(e,t,r){if(!Qb(t))throw Error(ht(200));return Zb(null,e,t,!0,r)};Os.hydrateRoot=function(e,t,r){if(!RT(e))throw Error(ht(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=U7;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=B7(t,null,e,1,r??null,a,!1,i,o),e[mc]=t.current,Tg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Jb(t)};Os.render=function(e,t,r){if(!Qb(t))throw Error(ht(200));return Zb(null,e,t,!1,r)};Os.unmountComponentAtNode=function(e){if(!Qb(e))throw Error(ht(40));return e._reactRootContainer?(Qd(function(){Zb(null,null,e,!1,function(){e._reactRootContainer=null,e[mc]=null})}),!0):!1};Os.unstable_batchedUpdates=PT;Os.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qb(r))throw Error(ht(200));if(e==null||e._reactInternals===void 0)throw Error(ht(38));return Zb(e,t,r,!1,n)};Os.version="18.3.1-next-f1338f8080-20240426";function z7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z7)}catch(e){console.error(e)}}z7(),zM.exports=Os;var pf=zM.exports;const jJ=Vr(pf);var _P=pf;uS.createRoot=_P.createRoot,uS.hydrateRoot=_P.hydrateRoot;var V7={exports:{}},SJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NJ=SJ,AJ=NJ;function H7(){}function W7(){}W7.resetWarningCache=H7;var TJ=function(){function e(n,a,i,o,l,c){if(c!==AJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:W7,resetWarningCache:H7};return r.PropTypes=r,r};V7.exports=TJ();var CJ=V7.exports;const zt=Vr(CJ);function EJ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var q7=O,kJ=EJ(q7);function jP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PJ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var OJ=!!(typeof window<"u"&&window.document&&window.document.createElement);function FJ(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(d){return d.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(d){PJ(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var v=l;return l=void 0,o=[],v};var h=f.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),c()},h.componentDidUpdate=function(){c()},h.componentWillUnmount=function(){var v=o.indexOf(this);o.splice(v,1),c()},h.render=function(){return kJ.createElement(i,this.props)},f}(q7.PureComponent);return jP(u,"displayName","SideEffect("+n(i)+")"),jP(u,"canUseDOM",OJ),u}}var DJ=FJ;const LJ=Vr(DJ);var IJ=typeof Element<"u",MJ=typeof Map=="function",RJ=typeof Set=="function",$J=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ey(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Ey(e[n],t[n]))return!1;return!0}var i;if(MJ&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!Ey(n.value[1],t.get(n.value[0])))return!1;return!0}if(RJ&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if($J&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(IJ&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!Ey(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var BJ=function(t,r){try{return Ey(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const UJ=Vr(BJ);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var SP=Object.getOwnPropertySymbols,zJ=Object.prototype.hasOwnProperty,VJ=Object.prototype.propertyIsEnumerable;function HJ(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function WJ(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var qJ=WJ()?Object.assign:function(e,t){for(var r,n=HJ(e),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)zJ.call(r,o)&&(n[o]=r[o]);if(SP){a=SP(r);for(var l=0;l<a.length;l++)VJ.call(r,a[l])&&(n[a[l]]=r[a[l]])}}return n};const GJ=Vr(qJ);var Rd={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ur={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ur).map(function(e){return ur[e]});var An={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},d2={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ig={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},KJ=Object.keys(d2).reduce(function(e,t){return e[d2[t]]=t,e},{}),YJ=[ur.NOSCRIPT,ur.SCRIPT,ur.STYLE],Mo="data-react-helmet",XJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JJ=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},QJ=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZJ=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},NP=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},eQ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},nN=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},tQ=function(t){var r=Uh(t,ur.TITLE),n=Uh(t,Ig.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=Uh(t,Ig.DEFAULT_TITLE);return r||a||void 0},rQ=function(t){return Uh(t,Ig.ON_CHANGE_CLIENT_STATE)||function(){}},F5=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,a){return Gi({},n,a)},{})},nQ=function(t,r){return r.filter(function(n){return typeof n[ur.BASE]<"u"}).map(function(n){return n[ur.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},em=function(t,r,n){var a={};return n.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&oQ("Helmet: "+t+' should be of type "Array". Instead found type "'+XJ(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(h){for(var p=void 0,v=Object.keys(h),m=0;m<v.length;m++){var x=v[m],g=x.toLowerCase();r.indexOf(g)!==-1&&!(p===An.REL&&h[p].toLowerCase()==="canonical")&&!(g===An.REL&&h[g].toLowerCase()==="stylesheet")&&(p=g),r.indexOf(x)!==-1&&(x===An.INNER_HTML||x===An.CSS_TEXT||x===An.ITEM_PROP)&&(p=x)}if(!p||!h[p])return!1;var y=h[p].toLowerCase();return a[p]||(a[p]={}),l[p]||(l[p]={}),a[p][y]?!1:(l[p][y]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=GJ({},a[d],l[d]);a[d]=f}return i},[]).reverse()},Uh=function(t,r){for(var n=t.length-1;n>=0;n--){var a=t[n];if(a.hasOwnProperty(r))return a[r]}return null},aQ=function(t){return{baseTag:nQ([An.HREF,An.TARGET],t),bodyAttributes:F5(Rd.BODY,t),defer:Uh(t,Ig.DEFER),encode:Uh(t,Ig.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:F5(Rd.HTML,t),linkTags:em(ur.LINK,[An.REL,An.HREF],t),metaTags:em(ur.META,[An.NAME,An.CHARSET,An.HTTPEQUIV,An.PROPERTY,An.ITEM_PROP],t),noscriptTags:em(ur.NOSCRIPT,[An.INNER_HTML],t),onChangeClientState:rQ(t),scriptTags:em(ur.SCRIPT,[An.SRC,An.INNER_HTML],t),styleTags:em(ur.STYLE,[An.CSS_TEXT],t),title:tQ(t),titleAttributes:F5(Rd.TITLE,t)}},aN=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){aN(t)},0)}}(),AP=function(t){return clearTimeout(t)},iQ=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||aN:global.requestAnimationFrame||aN,sQ=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||AP:global.cancelAnimationFrame||AP,oQ=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},tm=null,lQ=function(t){tm&&sQ(tm),t.defer?tm=iQ(function(){TP(t,function(){tm=null})}):(TP(t),tm=null)},TP=function(t,r){var n=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,f=t.styleTags,h=t.title,p=t.titleAttributes;iN(ur.BODY,a),iN(ur.HTML,i),cQ(h,p);var v={baseTag:Jf(ur.BASE,n),linkTags:Jf(ur.LINK,o),metaTags:Jf(ur.META,l),noscriptTags:Jf(ur.NOSCRIPT,c),scriptTags:Jf(ur.SCRIPT,d),styleTags:Jf(ur.STYLE,f)},m={},x={};Object.keys(v).forEach(function(g){var y=v[g],b=y.newTags,j=y.oldTags;b.length&&(m[g]=b),j.length&&(x[g]=v[g].oldTags)}),r&&r(),u(t,m,x)},G7=function(t){return Array.isArray(t)?t.join(""):t},cQ=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=G7(t)),iN(ur.TITLE,r)},iN=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var a=n.getAttribute(Mo),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],d=r[u]||"";n.getAttribute(u)!==d&&n.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var f=o.indexOf(u);f!==-1&&o.splice(f,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute(Mo):n.getAttribute(Mo)!==l.join(",")&&n.setAttribute(Mo,l.join(","))}},Jf=function(t,r){var n=document.head||document.querySelector(ur.HEAD),a=n.querySelectorAll(t+"["+Mo+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===An.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===An.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(Mo,"true"),i.some(function(h,p){return l=p,u.isEqualNode(h)})?i.splice(l,1):o.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:o}},K7=function(t){return Object.keys(t).reduce(function(r,n){var a=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+a:a},"")},uQ=function(t,r,n,a){var i=K7(n),o=G7(r);return i?"<"+t+" "+Mo+'="true" '+i+">"+nN(o,a)+"</"+t+">":"<"+t+" "+Mo+'="true">'+nN(o,a)+"</"+t+">"},dQ=function(t,r,n){return r.reduce(function(a,i){var o=Object.keys(i).filter(function(u){return!(u===An.INNER_HTML||u===An.CSS_TEXT)}).reduce(function(u,d){var f=typeof i[d]>"u"?d:d+'="'+nN(i[d],n)+'"';return u?u+" "+f:f},""),l=i.innerHTML||i.cssText||"",c=YJ.indexOf(t)===-1;return a+"<"+t+" "+Mo+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},Y7=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[d2[a]||a]=t[a],n},r)},fQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[KJ[a]||a]=t[a],n},r)},hQ=function(t,r,n){var a,i=(a={key:r},a[Mo]=!0,a),o=Y7(n,i);return[Ne.createElement(ur.TITLE,o,r)]},pQ=function(t,r){return r.map(function(n,a){var i,o=(i={key:a},i[Mo]=!0,i);return Object.keys(n).forEach(function(l){var c=d2[l]||l;if(c===An.INNER_HTML||c===An.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),Ne.createElement(t,o)})},Vl=function(t,r,n){switch(t){case ur.TITLE:return{toComponent:function(){return hQ(t,r.title,r.titleAttributes)},toString:function(){return uQ(t,r.title,r.titleAttributes,n)}};case Rd.BODY:case Rd.HTML:return{toComponent:function(){return Y7(r)},toString:function(){return K7(r)}};default:return{toComponent:function(){return pQ(t,r)},toString:function(){return dQ(t,r,n)}}}},X7=function(t){var r=t.baseTag,n=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,f=t.title,h=f===void 0?"":f,p=t.titleAttributes;return{base:Vl(ur.BASE,r,a),bodyAttributes:Vl(Rd.BODY,n,a),htmlAttributes:Vl(Rd.HTML,i,a),link:Vl(ur.LINK,o,a),meta:Vl(ur.META,l,a),noscript:Vl(ur.NOSCRIPT,c,a),script:Vl(ur.SCRIPT,u,a),style:Vl(ur.STYLE,d,a),title:Vl(ur.TITLE,{title:h,titleAttributes:p},a)}},mQ=function(t){var r,n;return n=r=function(a){ZJ(i,a);function i(){return JJ(this,i),eQ(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!UJ(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case ur.SCRIPT:case ur.NOSCRIPT:return{innerHTML:c};case ur.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,h=l.nestedChildren;return Gi({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[Gi({},f,this.mapNestedChildrenToProps(u,h))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,h=l.newChildProps,p=l.nestedChildren;switch(d.type){case ur.TITLE:return Gi({},f,(c={},c[d.type]=p,c.titleAttributes=Gi({},h),c));case ur.BODY:return Gi({},f,{bodyAttributes:Gi({},h)});case ur.HTML:return Gi({},f,{htmlAttributes:Gi({},h)})}return Gi({},f,(u={},u[d.type]=Gi({},h),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Gi({},c);return Object.keys(l).forEach(function(d){var f;u=Gi({},u,(f={},f[d]=l[d],f))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Ne.Children.forEach(l,function(f){if(!(!f||!f.props)){var h=f.props,p=h.children,v=NP(h,["children"]),m=fQ(v);switch(u.warnOnInvalidChildren(f,p),f.type){case ur.LINK:case ur.META:case ur.NOSCRIPT:case ur.SCRIPT:case ur.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:m,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:m,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=NP(l,["children"]),d=Gi({},u);return c&&(d=this.mapChildrenToProps(c,d)),Ne.createElement(t,d)},QJ(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(Ne.Component),r.propTypes={base:zt.object,bodyAttributes:zt.object,children:zt.oneOfType([zt.arrayOf(zt.node),zt.node]),defaultTitle:zt.string,defer:zt.bool,encodeSpecialCharacters:zt.bool,htmlAttributes:zt.object,link:zt.arrayOf(zt.object),meta:zt.arrayOf(zt.object),noscript:zt.arrayOf(zt.object),onChangeClientState:zt.func,script:zt.arrayOf(zt.object),style:zt.arrayOf(zt.object),title:zt.string,titleAttributes:zt.object,titleTemplate:zt.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var a=t.rewind();return a||(a=X7({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},gQ=function(){return null},vQ=LJ(aQ,lQ,X7)(gQ),sN=mQ(vQ);sN.renderStatic=sN.rewind;const xQ="modulepreload",yQ=function(e){return"/"+e},CP={},xc=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=yQ(i),i in CP)return;CP[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let d=a.length-1;d>=0;d--){const f=a[d];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":xQ,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},bQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xc(()=>Promise.resolve().then(()=>Wv),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class $T extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class wQ extends $T{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _Q extends $T{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jQ extends $T{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var oN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(oN||(oN={}));var SQ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class NQ{constructor(t,{headers:r={},customFetch:n,region:a=oN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=bQ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return SQ(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new wQ(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new _Q(d);if(!d.ok)throw new jQ(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Xi={},BT={},ew={},Hv={},tw={},rw={},AQ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},l0=AQ();const TQ=l0.fetch,CQ=l0.fetch.bind(l0),EQ=l0.Headers,kQ=l0.Request,PQ=l0.Response,Wv=Object.freeze(Object.defineProperty({__proto__:null,Headers:EQ,Request:kQ,Response:PQ,default:CQ,fetch:TQ},Symbol.toStringTag,{value:"Module"})),OQ=kM(Wv);var nw={};Object.defineProperty(nw,"__esModule",{value:!0});let FQ=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};nw.default=FQ;var J7=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rw,"__esModule",{value:!0});const DQ=J7(OQ),LQ=J7(nw);let IQ=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=DQ.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new LQ.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}};rw.default=IQ;var MQ=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tw,"__esModule",{value:!0});const RQ=MQ(rw);let $Q=class extends RQ.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};tw.default=$Q;var BQ=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hv,"__esModule",{value:!0});const UQ=BQ(tw);let zQ=class extends UQ.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Hv.default=zQ;var VQ=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ew,"__esModule",{value:!0});const rm=VQ(Hv);let HQ=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new rm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new rm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new rm.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new rm.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new rm.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ew.default=HQ;var aw={},iw={};Object.defineProperty(iw,"__esModule",{value:!0});iw.version=void 0;iw.version="0.0.0-automated";Object.defineProperty(aw,"__esModule",{value:!0});aw.DEFAULT_HEADERS=void 0;const WQ=iw;aw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${WQ.version}`};var Q7=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BT,"__esModule",{value:!0});const qQ=Q7(ew),GQ=Q7(Hv),KQ=aw;let YQ=class Z7{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},KQ.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new qQ.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Z7(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new GQ.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};BT.default=YQ;var W0=Ln&&Ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.PostgrestError=Xi.PostgrestBuilder=Xi.PostgrestTransformBuilder=Xi.PostgrestFilterBuilder=Xi.PostgrestQueryBuilder=Xi.PostgrestClient=void 0;const e$=W0(BT);Xi.PostgrestClient=e$.default;const t$=W0(ew);Xi.PostgrestQueryBuilder=t$.default;const r$=W0(Hv);Xi.PostgrestFilterBuilder=r$.default;const n$=W0(tw);Xi.PostgrestTransformBuilder=n$.default;const a$=W0(rw);Xi.PostgrestBuilder=a$.default;const i$=W0(nw);Xi.PostgrestError=i$.default;var XQ=Xi.default={PostgrestClient:e$.default,PostgrestQueryBuilder:t$.default,PostgrestFilterBuilder:r$.default,PostgrestTransformBuilder:n$.default,PostgrestBuilder:a$.default,PostgrestError:i$.default};const{PostgrestClient:JQ,PostgrestQueryBuilder:JBe,PostgrestFilterBuilder:QBe,PostgrestTransformBuilder:ZBe,PostgrestBuilder:e9e,PostgrestError:t9e}=XQ,QQ="2.11.3",ZQ={"X-Client-Info":`realtime-js/${QQ}`},eZ="1.0.0",s$=1e4,tZ=1e3;var zh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zh||(zh={}));var fs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fs||(fs={}));var ko;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ko||(ko={}));var lN;(function(e){e.websocket="websocket"})(lN||(lN={}));var _d;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_d||(_d={}));class rZ{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class o${constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(hn||(hn={}));const EP=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=nZ(o,e,t,a),i),{})},nZ=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?l$(i,o):cN(o)},l$=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return oZ(t,r)}switch(e){case hn.bool:return aZ(t);case hn.float4:case hn.float8:case hn.int2:case hn.int4:case hn.int8:case hn.numeric:case hn.oid:return iZ(t);case hn.json:case hn.jsonb:return sZ(t);case hn.timestamp:return lZ(t);case hn.abstime:case hn.date:case hn.daterange:case hn.int4range:case hn.int8range:case hn.money:case hn.reltime:case hn.text:case hn.time:case hn.timestamptz:case hn.timetz:case hn.tsrange:case hn.tstzrange:return cN(t);default:return cN(t)}},cN=e=>e,aZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},oZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>l$(t,l))}return e},lZ=e=>typeof e=="string"?e.replace(" ","T"):e,c$=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class D5{constructor(t,r,n={},a=s$){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var kP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(kP||(kP={}));class Km{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Km.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Km.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Km.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),v=d.filter(x=>p.indexOf(x.presence_ref)<0),m=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(PP||(PP={}));var OP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(OP||(OP={}));var Xl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xl||(Xl={}));class UT{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=fs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new D5(this,ko.join,this.params,this.timeout),this.rejoinTimer=new o$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ko.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Km(this),this.broadcastEndpointURL=c$(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Xl.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Xl.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Xl.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let m=0;m<p;m++){const x=h[m],{filter:{event:g,schema:y,table:b,filter:j}}=x,_=d&&d[m];if(_&&_.event===g&&_.schema===y&&_.table===b&&_.filter===j)v.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),t==null||t(Xl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Xl.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Xl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ko.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new D5(this,ko.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new D5(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ko;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var v,m,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(m=p.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,m,x,g,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:x,commit_timestamp:g,type:y,errors:b}=v;h=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===fs.closed}_isJoined(){return this.state===fs.joined}_isJoining(){return this.state===fs.joining}_isLeaving(){return this.state===fs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&UT.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ko.close,{},t)}_onError(t){this._on(ko.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=EP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=EP(t.columns,t.old_record)),r}}const cZ=()=>{},uZ=typeof WebSocket<"u",dZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fZ{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ZQ,this.params={},this.timeout=s$,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=cZ,this.conn=null,this.sendBuffer=[],this.serializer=new rZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>xc(()=>Promise.resolve().then(()=>Wv),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${lN.websocket}`,this.httpEndpoint=c$(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new o$(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}if(uZ){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new hZ(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),xc(()=>import("./browser-1a586f00.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:eZ}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zh.connecting:return _d.Connecting;case zh.open:return _d.Open;case zh.closing:return _d.Closing;default:return _d.Closed}}isConnected(){return this.connectionState()===_d.Open}channel(t,r={config:{}}){const n=new UT(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(ko.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(tZ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ko.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([dZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class hZ{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zh.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class zT extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ka(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pZ extends zT{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uN extends zT{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var mZ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const u$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xc(()=>Promise.resolve().then(()=>Wv),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gZ=()=>mZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xc(()=>Promise.resolve().then(()=>Wv),void 0)).Response:Response}),dN=e=>{if(Array.isArray(e))return e.map(r=>dN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=dN(n)}),t};var mf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const L5=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vZ=(e,t,r)=>mf(void 0,void 0,void 0,function*(){const n=yield gZ();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new pZ(L5(a),e.status||500))}).catch(a=>{t(new uN(L5(a),a))}):t(new uN(L5(e),e))}),xZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function qv(e,t,r,n,a,i){return mf(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,xZ(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>vZ(c,l,n))})})}function f2(e,t,r,n){return mf(this,void 0,void 0,function*(){return qv(e,"GET",t,r,n)})}function au(e,t,r,n,a){return mf(this,void 0,void 0,function*(){return qv(e,"POST",t,n,a,r)})}function yZ(e,t,r,n,a){return mf(this,void 0,void 0,function*(){return qv(e,"PUT",t,n,a,r)})}function bZ(e,t,r,n){return mf(this,void 0,void 0,function*(){return qv(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function d$(e,t,r,n,a){return mf(this,void 0,void 0,function*(){return qv(e,"DELETE",t,n,a,r)})}var Wi=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const wZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _Z{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=u$(a)}uploadOrUpdate(t,r,n,a){return Wi(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},FP),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ka(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Wi(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:FP.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ka(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Wi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield au(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new zT("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(ka(n))return{data:null,error:n};throw n}})}update(t,r,n){return Wi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Wi(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Wi(this,void 0,void 0,function*(){try{return{data:{path:(yield au(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Wi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield au(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Wi(this,void 0,void 0,function*(){try{const a=yield au(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}download(t,r){return Wi(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield f2(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ka(l))return{data:null,error:l};throw l}})}info(t){return Wi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield f2(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dN(n),error:null}}catch(n){if(ka(n))return{data:null,error:n};throw n}})}exists(t){return Wi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield bZ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ka(n)&&n instanceof uN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Wi(this,void 0,void 0,function*(){try{return{data:yield d$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ka(r))return{data:null,error:r};throw r}})}list(t,r,n){return Wi(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},wZ),r),{prefix:t||""});return{data:yield au(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(ka(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const jZ="2.7.1",SZ={"X-Client-Info":`storage-js/${jZ}`};var Qf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class NZ{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},SZ),r),this.fetch=u$(n)}listBuckets(){return Qf(this,void 0,void 0,function*(){try{return{data:yield f2(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ka(t))return{data:null,error:t};throw t}})}getBucket(t){return Qf(this,void 0,void 0,function*(){try{return{data:yield f2(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ka(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Qf(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ka(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Qf(this,void 0,void 0,function*(){try{return{data:yield yZ(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ka(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Qf(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ka(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qf(this,void 0,void 0,function*(){try{return{data:yield d$(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ka(r))return{data:null,error:r};throw r}})}}class AZ extends NZ{constructor(t,r={},n){super(t,r,n)}from(t){return new _Z(this.url,this.headers,t,this.fetch)}}const TZ="2.30.0",CZ={"X-Client-Info":`supabase-js/${TZ}`};var fN={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ln<"u"&&Ln,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof Ln<"u"&&Ln||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(R){return R&&DataView.prototype.isPrototypeOf(R)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(R){return R&&d.indexOf(Object.prototype.toString.call(R))>-1};function h(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(R)||R==="")throw new TypeError('Invalid character in header field name: "'+R+'"');return R.toLowerCase()}function p(R){return typeof R!="string"&&(R=String(R)),R}function v(R){var V={next:function(){var L=R.shift();return{done:L===void 0,value:L}}};return c.iterable&&(V[Symbol.iterator]=function(){return V}),V}function m(R){this.map={},R instanceof m?R.forEach(function(V,L){this.append(L,V)},this):Array.isArray(R)?R.forEach(function(V){if(V.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+V.length);this.append(V[0],V[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(V){this.append(V,R[V])},this)}m.prototype.append=function(R,V){R=h(R),V=p(V);var L=this.map[R];this.map[R]=L?L+", "+V:V},m.prototype.delete=function(R){delete this.map[h(R)]},m.prototype.get=function(R){return R=h(R),this.has(R)?this.map[R]:null},m.prototype.has=function(R){return this.map.hasOwnProperty(h(R))},m.prototype.set=function(R,V){this.map[h(R)]=p(V)},m.prototype.forEach=function(R,V){for(var L in this.map)this.map.hasOwnProperty(L)&&R.call(V,this.map[L],L,this)},m.prototype.keys=function(){var R=[];return this.forEach(function(V,L){R.push(L)}),v(R)},m.prototype.values=function(){var R=[];return this.forEach(function(V){R.push(V)}),v(R)},m.prototype.entries=function(){var R=[];return this.forEach(function(V,L){R.push([L,V])}),v(R)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function x(R){if(!R._noBody){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}}function g(R){return new Promise(function(V,L){R.onload=function(){V(R.result)},R.onerror=function(){L(R.error)}})}function y(R){var V=new FileReader,L=g(V);return V.readAsArrayBuffer(R),L}function b(R){var V=new FileReader,L=g(V),M=/charset=([A-Za-z0-9_-]+)/.exec(R.type),F=M?M[1]:"utf-8";return V.readAsText(R,F),L}function j(R){for(var V=new Uint8Array(R),L=new Array(V.length),M=0;M<V.length;M++)L[M]=String.fromCharCode(V[M]);return L.join("")}function _(R){if(R.slice)return R.slice(0);var V=new Uint8Array(R.byteLength);return V.set(new Uint8Array(R)),V.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(R){this.bodyUsed=this.bodyUsed,this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:c.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:c.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():c.arrayBuffer&&c.blob&&u(R)?(this._bodyArrayBuffer=_(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||f(R))?this._bodyArrayBuffer=_(R):this._bodyText=R=Object.prototype.toString.call(R):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var R=x(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var R=x(this);return R||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var R=x(this);if(R)return R;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(R){var V=R.toUpperCase();return S.indexOf(V)>-1?V:R}function P(R,V){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');V=V||{};var L=V.body;if(R instanceof P){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,V.headers||(this.headers=new m(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!L&&R._bodyInit!=null&&(L=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=V.credentials||this.credentials||"same-origin",(V.headers||!this.headers)&&(this.headers=new m(V.headers)),this.method=A(V.method||this.method||"GET"),this.mode=V.mode||this.mode||null,this.signal=V.signal||this.signal||function(){if("AbortController"in l){var U=new AbortController;return U.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(V.cache==="no-store"||V.cache==="no-cache")){var M=/([?&])_=[^&]*/;if(M.test(this.url))this.url=this.url.replace(M,"$1_="+new Date().getTime());else{var F=/\?/;this.url+=(F.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})};function W(R){var V=new FormData;return R.trim().split("&").forEach(function(L){if(L){var M=L.split("="),F=M.shift().replace(/\+/g," "),U=M.join("=").replace(/\+/g," ");V.append(decodeURIComponent(F),decodeURIComponent(U))}}),V}function C(R){var V=new m,L=R.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(M){return M.indexOf(`
`)===0?M.substr(1,M.length):M}).forEach(function(M){var F=M.split(":"),U=F.shift().trim();if(U){var X=F.join(":").trim();try{V.append(U,X)}catch(E){console.warn("Response "+E.message)}}}),V}N.call(P.prototype);function k(R,V){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(V||(V={}),this.type="default",this.status=V.status===void 0?200:V.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=V.statusText===void 0?"":""+V.statusText,this.headers=new m(V.headers),this.url=V.url||"",this._initBody(R)}N.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},k.error=function(){var R=new k(null,{status:200,statusText:""});return R.ok=!1,R.status=0,R.type="error",R};var z=[301,302,303,307,308];k.redirect=function(R,V){if(z.indexOf(V)===-1)throw new RangeError("Invalid status code");return new k(null,{status:V,headers:{location:R}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(V,L){this.message=V,this.name=L;var M=Error(V);this.stack=M.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function I(R,V){return new Promise(function(L,M){var F=new P(R,V);if(F.signal&&F.signal.aborted)return M(new o.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function X(){U.abort()}U.onload=function(){var G={statusText:U.statusText,headers:C(U.getAllResponseHeaders()||"")};F.url.indexOf("file://")===0&&(U.status<200||U.status>599)?G.status=200:G.status=U.status,G.url="responseURL"in U?U.responseURL:G.headers.get("X-Request-URL");var q="response"in U?U.response:U.responseText;setTimeout(function(){L(new k(q,G))},0)},U.onerror=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},U.ontimeout=function(){setTimeout(function(){M(new TypeError("Network request timed out"))},0)},U.onabort=function(){setTimeout(function(){M(new o.DOMException("Aborted","AbortError"))},0)};function E(G){try{return G===""&&l.location.href?l.location.href:G}catch{return G}}if(U.open(F.method,E(F.url),!0),F.credentials==="include"?U.withCredentials=!0:F.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&(c.blob?U.responseType="blob":c.arrayBuffer&&(U.responseType="arraybuffer")),V&&typeof V.headers=="object"&&!(V.headers instanceof m||l.Headers&&V.headers instanceof l.Headers)){var H=[];Object.getOwnPropertyNames(V.headers).forEach(function(G){H.push(h(G)),U.setRequestHeader(G,p(V.headers[G]))}),F.headers.forEach(function(G,q){H.indexOf(q)===-1&&U.setRequestHeader(q,G)})}else F.headers.forEach(function(G,q){U.setRequestHeader(q,G)});F.signal&&(F.signal.addEventListener("abort",X),U.onreadystatechange=function(){U.readyState===4&&F.signal.removeEventListener("abort",X)}),U.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}return I.polyfill=!0,l.fetch||(l.fetch=I,l.Headers=m,l.Request=P,l.Response=k),o.Headers=m,o.Request=P,o.Response=k,o.fetch=I,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(fN,fN.exports);var VT=fN.exports;const f$=Vr(VT),EZ=EM({__proto__:null,default:f$},[VT]);var kZ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const PZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=f$:t=fetch,(...r)=>t(...r)},OZ=()=>typeof Headers>"u"?VT.Headers:Headers,FZ=(e,t,r)=>{const n=PZ(r),a=OZ();return(i,o)=>kZ(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};function DZ(e){return e.replace(/\/$/,"")}function LZ(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i)}}function IZ(e){return Math.round(Date.now()/1e3)+e}function MZ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kl=()=>typeof document<"u",ud={tested:!1,writable:!1},ky=()=>{if(!Kl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ud.tested)return ud.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ud.tested=!0,ud.writable=!0}catch{ud.tested=!0,ud.writable=!1}return ud.writable};function qi(e,t){var r;t||(t=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=n.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const h$=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...r)=>await(await xc(()=>Promise.resolve().then(()=>EZ),void 0)).fetch(...r):t=fetch,(...r)=>t(...r)},RZ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},S1=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},I5=async(e,t)=>{await e.removeItem(t)};function $Z(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=o<<2|l>>4,a=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&a!=0&&(r=r+String.fromCharCode(a)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class sw{constructor(){this.promise=new sw.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}sw.promiseConstructor=Promise;function DP(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse($Z(n))}function BZ(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function UZ(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function zZ(e){return("0"+e.toString(16)).substr(-2)}function N1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,zZ).join("")}async function VZ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function HZ(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function A1(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await VZ(e);return HZ(t)}const WZ="__stack_guard__",qZ="__",GZ=/__stack_guard__([a-zA-Z0-9_-]+)__/;let LP=!1,HT;function hN(e){var t,r;HT();let n;try{throw new Error}catch(i){n=i}const a=(r=(t=n.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&r!==void 0?r:[];for(let i=0;i<a.length;i+=1){const l=a[i].match(GZ);if(l&&l[1]===e)return!0}return!1}async function pN(e,t){await HT();const r=`${WZ}${e}${qZ}`;return await{[r]:async()=>await t()}[r]()}HT=async()=>{LP||(LP=!0,await pN("ENV_CHECK",async()=>{const e=hN("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class WT extends Error{constructor(t,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function Rr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class KZ extends WT{constructor(t,r){super(t,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function YZ(e){return Rr(e)&&e.name==="AuthApiError"}class p$ extends WT{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class q0 extends WT{constructor(t,r,n){super(t),this.name=r,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zf extends q0{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class M5 extends q0{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class T1 extends q0{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Hl extends q0{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R5 extends q0{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mN extends q0{constructor(t,r){super(t,"AuthRetryableFetchError",r)}}function IP(e){return Rr(e)&&e.name==="AuthRetryableFetchError"}var XZ=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Cm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JZ=[502,503,504];async function MP(e){if(!RZ(e))throw new mN(Cm(e),0);if(JZ.includes(e.status))throw new mN(Cm(e),e.status);let t;try{t=await e.json()}catch(r){throw new p$(Cm(r),r)}throw new KZ(Cm(t),e.status||500)}const QZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function qr(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await ZZ(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ZZ(e,t,r,n,a,i){const o=QZ(t,n,a,i);let l;try{l=await e(r,o)}catch(c){throw console.error(c),new mN(Cm(c),0)}if(l.ok||await MP(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await MP(c)}}function qc(e){var t;let r=null;nee(e)&&(r=Object.assign({},e),r.expires_at=IZ(e.expires_in));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function jd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eee(e){return{data:e,error:null}}function tee(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=XZ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ree(e){return e}function nee(e){return e.access_token&&e.refresh_token&&e.expires_in}var aee=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class iee{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=h$(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await qr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await qr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:jd})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=aee(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await qr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:tee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Rr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jd})}catch(r){if(Rr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await qr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:ree});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Rr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await qr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jd})}catch(r){if(Rr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await qr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:jd})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await qr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:jd})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await qr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await qr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Rr(r))return{data:null,error:r};throw r}}}const see="2.43.1",oee="http://localhost:9999",lee="supabase.auth.token",cee={"X-Client-Info":`gotrue-js/${see}`},RP=10,$P={getItem:e=>ky()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ky()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ky()&&globalThis.localStorage.removeItem(e)}};function uee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}uee();const dee={url:oee,storageKey:lee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cee,flowType:"implicit",debug:!1},C1=30*1e3,BP=3;class Mg{constructor(t){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=Mg.nextInstanceID,Mg.nextInstanceID+=1,this.instanceID>0&&Kl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},dee),t);if(this.logDebugMessages=n.debug,this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||$P,this.admin=new iee({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=h$(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===$P&&!ky()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),Kl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=pN("_initialize",async()=>{try{const t=Kl()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromUrl(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Rr(t)?{error:t}:{error:new p$("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var r,n,a;try{await this._removeSession();let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;if(this.flowType==="pkce"){const m=N1();await nm(this.storage,`${this.storageKey}-code-verifier`,m),p=await A1(m),v=m===p?"plain":"s256"}i=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:qc})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qc})}else throw new T1("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Rr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{await this._removeSession();let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await qr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await qr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qc})}else throw new T1("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new M5}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:a})}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){const r=await S1(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:a}=await qr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:qc});return await I5(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new M5}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:a})}async signInWithIdToken(t){await this._removeSession();try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await qr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qc}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new M5}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,d=null;if(this.flowType==="pkce"){const h=N1();await nm(this.storage,`${this.storageKey}-code-verifier`,h),u=await A1(h),d=h===u?"plain":"s256"}const{error:f}=await qr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await qr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new T1("You must provide either an email or phone number.")}catch(l){if(Rr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:a,error:i}=await qr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(r=t.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,xform:qc});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Rr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{return await this._removeSession(),await qr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:eee})}catch(i){if(Rr(i))return{data:null,error:i};throw i}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zf;const{error:a}=await qr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Rr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await qr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await qr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new T1("You must provide either an email or phone number and a type")}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await pN("_useSession",async()=>{const r=await this.__loadSession();return await t(r)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!hN("_useSession"))throw new Error("Please use #_useSession()");hN("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const i=await S1(this.storage,this.storageKey);this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:n,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async r=>{var n,a;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0}return await qr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:jd})})}catch(r){if(Rr(r))return{data:{user:null},error:r};throw r}}async updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Zf;const o=a.session,{data:l,error:c}=await qr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:t,jwt:o.access_token,xform:jd});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return DP(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zf;const r=Date.now()/1e3;let n=r,a=!0,i=null;const o=DP(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Rr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Zf;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromUrl(t){try{if(!Kl())throw new Hl("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Hl("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new R5("Not a valid PKCE flow url.");if(t){const x=qi("code");if(!x)throw new R5("No code detected.");const{data:g,error:y}=await this.exchangeCodeForSession(x);if(y)throw y;if(!g.session)throw new R5("No session detected.");let b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const r=qi("error_description");if(r){const x=qi("error_code");if(!x)throw new Hl("No error_code detected.");const g=qi("error");throw g?new Hl(r,{error:g,code:x}):new Hl("No error detected.")}const n=qi("provider_token"),a=qi("provider_refresh_token"),i=qi("access_token");if(!i)throw new Hl("No access_token detected.");const o=qi("expires_in");if(!o)throw new Hl("No expires_in detected.");const l=qi("refresh_token");if(!l)throw new Hl("No refresh_token detected.");const c=qi("token_type");if(!c)throw new Hl("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(o),{data:f,error:h}=await this.getUser(i);if(h)throw h;const p=f.user,v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:parseInt(o),expires_at:d,refresh_token:l,token_type:c,user:p},m=qi("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:v,redirectType:m},error:null}}catch(r){if(Rr(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){return Kl()&&(!!qi("access_token")||!!qi("error_description"))}async _isPKCEFlow(){const t=await S1(this.storage,`${this.storageKey}-code-verifier`);return!!qi("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(YZ(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await I5(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=MZ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),this._emitInitialSession(r),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;if(this.flowType==="pkce"){const i=N1();await nm(this.storage,`${this.storageKey}-code-verifier`,i),n=await A1(i),a=i===n?"plain":"s256"}try{return await qr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Rr(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await UZ(async a=>(await BZ(a*200),this._debug(r,"refreshing attempt",a),await qr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qc})),(a,i,o)=>o&&o.error&&IP(o.error)&&Date.now()+(a+1)*200-n<C1)}catch(n){if(this._debug(r,"error",n),Rr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kl()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await S1(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<a+RP;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${RP}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),IP(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zf;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new sw;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Zf;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Rr(i)){const o={session:null,error:i};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),nm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await I5(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kl()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),C1);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/C1);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${C1}ms, refresh threshold is ${BP} ticks`),a<=BP&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kl()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const a=N1();await nm(this.storage,`${this.storageKey}-code-verifier`,a);const i=await A1(a),o=a===i?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",i,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);n.push(a.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await qr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:l,error:c}=await qr(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _verify(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await qr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _challenge(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await qr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}})}}Mg.nextInstanceID=0;class fee extends Mg{constructor(t){super(t)}}var hee=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const pee={headers:CZ},mee={schema:"public"},gee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vee={};class xee{constructor(t,r,n){var a,i,o,l,c,u,d,f;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=DZ(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:mee,realtime:vee,auth:Object.assign(Object.assign({},gee),{storageKey:p}),global:pee},m=LZ(n??{},v);this.storageKey=(i=(a=m.auth)===null||a===void 0?void 0:a.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(o=m.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,(u=m.global)===null||u===void 0?void 0:u.fetch),this.fetch=FZ(r,this._getAccessToken.bind(this),(d=m.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new JQ(`${h}/rest/v1`,{headers:this.headers,schema:(f=m.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new NQ(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AZ(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,r={},n){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return hee(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fee({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,debug:l,fetch:u})}_initRealtimeClient(t){return new fZ(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yee=(e,t,r)=>new xee(e,t,r),bee="https://rfvgjyfrjawqpdpwicev.supabase.co",wee="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmdmdqeWZyamF3cXBkcHdpY2V2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMTM5OTUsImV4cCI6MjA4MDg4OTk5NX0.ORKsqnNyfOtU9T9u6YWmo4j1pldMAC_ZakMCRMCiVmo",je=yee(bee,wee),_ee=1;let $5=0;function jee(){return $5=($5+1)%Number.MAX_VALUE,$5.toString()}const Ti={state:{toasts:[]},listeners:[],getState:()=>Ti.state,setState:e=>{typeof e=="function"?Ti.state=e(Ti.state):Ti.state={...Ti.state,...e},Ti.listeners.forEach(t=>t(Ti.state))},subscribe:e=>(Ti.listeners.push(e),()=>{Ti.listeners=Ti.listeners.filter(t=>t!==e)})},See=({...e})=>{const t=jee(),r=a=>Ti.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===t?{...o,...a}:o)})),n=()=>Ti.setState(a=>({...a,toasts:a.toasts.filter(i=>i.id!==t)}));return Ti.setState(a=>({...a,toasts:[{...e,id:t,dismiss:n},...a.toasts].slice(0,_ee)})),{id:t,dismiss:n,update:r}};function Tr(){const[e,t]=O.useState(Ti.getState());return O.useEffect(()=>Ti.subscribe(n=>{t(n)}),[]),O.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const a=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(a)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:See,toasts:e.toasts}}const m$=O.createContext(void 0),Nee=({children:e})=>{const{toast:t}=Tr(),[r,n]=O.useState(null),[a,i]=O.useState(null),[o,l]=O.useState(null),[c,u]=O.useState(!0),d=async x=>{try{const{data:g,error:y}=await je.from("app_users").select("*").eq("id",x).maybeSingle();if(y)throw y;return g}catch(g){return console.error("Error fetching user profile:",g),null}},f=O.useCallback(async x=>{var y;l(x);const g=(x==null?void 0:x.user)??null;if(n(g),g){let b=await d(g.id);!b&&g.email==="3762437@gmail.com"?b={id:g.id,role:"principal",name:"System Admin"}:b||(b={id:g.id,role:"teacher",name:((y=g.user_metadata)==null?void 0:y.name)||"User"}),i(b)}else i(null);u(!1)},[]);O.useEffect(()=>{(async()=>{const{data:{session:y}}=await je.auth.getSession();await f(y)})();const{data:{subscription:g}}=je.auth.onAuthStateChange(async(y,b)=>{y==="SIGNED_OUT"?(i(null),n(null),l(null),u(!1)):(y==="SIGNED_IN"||y==="TOKEN_REFRESHED")&&await f(b)});return()=>g.unsubscribe()},[f]);const h=O.useCallback(async(x,g,y)=>{const{error:b}=await je.auth.signUp({email:x,password:g,options:y});return b&&t({variant:"destructive",title:"Sign up Failed",description:b.message}),{error:b}},[t]),p=O.useCallback(async(x,g)=>{const{error:y}=await je.auth.signInWithPassword({email:x,password:g});return y&&t({variant:"destructive",title:"Sign in Failed",description:y.message}),{error:y}},[t]),v=O.useCallback(async()=>{const{error:x}=await je.auth.signOut();return x&&t({variant:"destructive",title:"Sign out Failed",description:x.message}),{error:x}},[t]),m=O.useMemo(()=>({user:r,profile:a,session:o,loading:c,signUp:h,signIn:p,signOut:v}),[r,a,o,c,h,p,v]);return s.jsx(m$.Provider,{value:m,children:e})},ow=()=>{const e=O.useContext(m$);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Aee={nav:{overview:"Overview",students:"Students",issues:"Issues",calls:"Call Logs",meetings:"Meetings",calendar:"Calendar",reports:"Reports",templates:"Templates",timeslots:"Time Slots",bulkschedule:"Bulk Schedule",activity:"Activity Log",logout:"Logout",role:"Role",welcome:"Welcome"},overview:{title:"Control Center",subtitle:"School overview at a glance",totalStudents:"Total Students",openIssues:"Open Issues",pendingCalls:"Calls Pending",upcomingMeetings:"Upcoming Meetings",emergency:"Urgent! Past due meetings"},students:{title:"Student List",search:"Search students...",add:"Add Student",import:"Import from Excel",class:"Class",teacher:"Teacher",father:"Father",mother:"Mother",phone:"Phone",viewProfile:"View Full Profile",markAttendance:"Mark Attendance",sms:"Send SMS",selectAll:"Select All",status:{present:"Present",absent:"Absent",late:"Late",excused:"Excused"}},calls:{title:"Call Logs",add:"Log a Call",contact:"Contact Person",outcome:"Outcome",notes:"Notes",followUp:"Follow-up Date",status:"Status",completed:"Completed",pending:"Pending",search:"Search logs...",deleteConfirm:"Are you sure you want to delete this?"},issues:{title:"Issues / Problems",add:"Add Issue",description:"Description",priority:"Priority",status:"Status",priorities:{low:"Low",medium:"Medium",high:"High / Urgent"},statuses:{open:"Open",resolved:"Resolved"}},meetings:{title:"Meetings",add:"Schedule Meeting",calendarView:"Calendar View",listView:"List View",date:"Date",time:"Time",location:"Location",duration:"Duration (min)",with:"With"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",confirm:"Confirm",next:"Next",back:"Back",download:"Download",print:"Print"},forms:{selectStudent:"Select Student",enterDetails:"Enter Details",required:"Required Field",name:"Name",contactPerson:"Contact Person",relation:"Relation (Father/Mother/Other)"},profile:{tabs:{overview:"Overview",academic:"Academic",communication:"Communication",intervention:"Plans & Assessments"},father:"Father",contactInfo:"Contact Information",recentIssues:"Recent Issues",performance:"Performance",gradeHistory:"Grade History",newAssessment:"New Assessment"}},g$=O.createContext(),Tee=({children:e})=>{const t=n=>{const a=n.split(".");let i=Aee;for(const o of a)i=i==null?void 0:i[o];return i||n};return s.jsx(g$.Provider,{value:{t,isRTL:!1},children:s.jsx("div",{dir:"ltr",className:"font-sans",children:e})})},qT=()=>O.useContext(g$);function v$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=v$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ir(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=v$(e))&&(n&&(n+=" "),n+=t);return n}const GT="-",Cee=e=>{const t=kee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(GT);return l[0]===""&&l.length!==1&&l.shift(),x$(l,t)||Eee(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},x$=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?x$(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(GT);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},UP=/^\[(.+)\]$/,Eee=e=>{if(UP.test(e)){const t=UP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},kee=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Oee(Object.entries(e.classGroups),r).forEach(([i,o])=>{gN(o,n,i,t)}),n},gN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:zP(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Pee(a)){gN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{gN(o,zP(t,i),r,n)})})},zP=(e,t)=>{let r=e;return t.split(GT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Pee=e=>e.isThemeGetter,Oee=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Fee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},y$="!",Dee=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===a&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(g==="/"){f=x;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(y$),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},Lee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Iee=e=>({cache:Fee(e.cacheSize),parseClassName:Dee(e),...Cee(e)}),Mee=/\s+/,Ree=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Mee);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=Lee(d).join(":"),g=f?x+y$:x,y=g+m;if(i.includes(y))continue;i.push(y);const b=a(m,v);for(let j=0;j<b.length;++j){const _=b[j];i.push(g+_)}l=u+(l.length>0?" "+l:l)}return l};function $ee(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=b$(t))&&(n&&(n+=" "),n+=r);return n}const b$=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=b$(e[n]))&&(r&&(r+=" "),r+=t);return r};function Bee(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Iee(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Ree(c,r);return a(c,d),d}return function(){return i($ee.apply(null,arguments))}}const xn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},w$=/^\[(?:([a-z-]+):)?(.+)\]$/i,Uee=/^\d+\/\d+$/,zee=new Set(["px","full","screen"]),Vee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Hee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Wee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wl=e=>Vh(e)||zee.has(e)||Uee.test(e),Gc=e=>G0(e,"length",tte),Vh=e=>!!e&&!Number.isNaN(Number(e)),B5=e=>G0(e,"number",Vh),am=e=>!!e&&Number.isInteger(Number(e)),Kee=e=>e.endsWith("%")&&Vh(e.slice(0,-1)),vr=e=>w$.test(e),Kc=e=>Vee.test(e),Yee=new Set(["length","size","percentage"]),Xee=e=>G0(e,Yee,_$),Jee=e=>G0(e,"position",_$),Qee=new Set(["image","url"]),Zee=e=>G0(e,Qee,nte),ete=e=>G0(e,"",rte),im=()=>!0,G0=(e,t,r)=>{const n=w$.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},tte=e=>Hee.test(e)&&!Wee.test(e),_$=()=>!1,rte=e=>qee.test(e),nte=e=>Gee.test(e),ate=()=>{const e=xn("colors"),t=xn("spacing"),r=xn("blur"),n=xn("brightness"),a=xn("borderColor"),i=xn("borderRadius"),o=xn("borderSpacing"),l=xn("borderWidth"),c=xn("contrast"),u=xn("grayscale"),d=xn("hueRotate"),f=xn("invert"),h=xn("gap"),p=xn("gradientColorStops"),v=xn("gradientColorStopPositions"),m=xn("inset"),x=xn("margin"),g=xn("opacity"),y=xn("padding"),b=xn("saturate"),j=xn("scale"),_=xn("sepia"),N=xn("skew"),S=xn("space"),A=xn("translate"),P=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",vr,t],k=()=>[vr,t],z=()=>["",Wl,Gc],I=()=>["auto",Vh,vr],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",vr],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Vh,vr];return{cacheSize:500,separator:":",theme:{colors:[im],spacing:[Wl,Gc],blur:["none","",Kc,vr],brightness:X(),borderColor:[e],borderRadius:["none","","full",Kc,vr],borderSpacing:k(),borderWidth:z(),contrast:X(),grayscale:F(),hueRotate:X(),invert:F(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[Kee,Gc],inset:C(),margin:C(),opacity:X(),padding:k(),saturate:X(),scale:X(),sepia:F(),skew:X(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",vr]}],container:["container"],columns:[{columns:[Kc]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),vr]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",am,vr]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",vr]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",am,vr]}],"grid-cols":[{"grid-cols":[im]}],"col-start-end":[{col:["auto",{span:["full",am,vr]},vr]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[im]}],"row-start-end":[{row:["auto",{span:[am,vr]},vr]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",vr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",vr]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",vr,t]}],"min-w":[{"min-w":[vr,t,"min","max","fit"]}],"max-w":[{"max-w":[vr,t,"none","full","min","max","fit","prose",{screen:[Kc]},Kc]}],h:[{h:[vr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[vr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[vr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[vr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Kc,Gc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",B5]}],"font-family":[{font:[im]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",vr]}],"line-clamp":[{"line-clamp":["none",Vh,B5]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wl,vr]}],"list-image":[{"list-image":["none",vr]}],"list-style-type":[{list:["none","disc","decimal",vr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wl,Gc]}],"underline-offset":[{"underline-offset":["auto",Wl,vr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),Jee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Zee]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Wl,vr]}],"outline-w":[{outline:[Wl,Gc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Wl,Gc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Kc,ete]}],"shadow-color":[{shadow:[im]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Kc,vr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",vr]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",vr]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",vr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[am,vr]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",vr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wl,Gc,B5]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ite=Bee(ate);function yr(...e){return ite(Ir(e))}function lr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function VP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function j$(...e){return t=>{let r=!1;const n=e.map(a=>{const i=VP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():VP(e[a],null)}}}}function kn(...e){return O.useCallback(j$(...e),e)}function ste(e,t){const r=O.createContext(t),n=i=>{const{children:o,...l}=i,c=O.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=O.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function gf(e,t=[]){let r=[];function n(i,o){const l=O.createContext(o),c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...v}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=O.useMemo(()=>v,Object.values(v));return s.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,v=O.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>O.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return O.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,ote(a,...t)]}function ote(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Zd=O.forwardRef((e,t)=>{const{children:r,...n}=e,a=O.Children.toArray(r),i=a.find(cte);if(i){const o=i.props.children,l=a.map(c=>c===i?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:c);return s.jsx(vN,{...n,ref:t,children:O.isValidElement(o)?O.cloneElement(o,void 0,l):null})}return s.jsx(vN,{...n,ref:t,children:r})});Zd.displayName="Slot";var vN=O.forwardRef((e,t)=>{const{children:r,...n}=e;if(O.isValidElement(r)){const a=dte(r);return O.cloneElement(r,{...ute(n,r.props),ref:t?j$(t,a):a})}return O.Children.count(r)>1?O.Children.only(null):null});vN.displayName="SlotClone";var lte=({children:e})=>s.jsx(s.Fragment,{children:e});function cte(e){return O.isValidElement(e)&&e.type===lte}function ute(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function dte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function KT(e){const t=e+"CollectionProvider",[r,n]=gf(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:m}=p,x=Ne.useRef(null),g=Ne.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:g,collectionRef:x,children:m})};o.displayName=t;const l=e+"CollectionSlot",c=Ne.forwardRef((p,v)=>{const{scope:m,children:x}=p,g=i(l,m),y=kn(v,g.collectionRef);return s.jsx(Zd,{ref:y,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=Ne.forwardRef((p,v)=>{const{scope:m,children:x,...g}=p,y=Ne.useRef(null),b=kn(v,y),j=i(u,m);return Ne.useEffect(()=>(j.itemMap.set(y,{ref:y,...g}),()=>void j.itemMap.delete(y))),s.jsx(Zd,{[d]:"",ref:b,children:x})});f.displayName=u;function h(p){const v=i(e+"CollectionConsumer",p);return Ne.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const g=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((j,_)=>g.indexOf(j.ref.current)-g.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}var fte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_r=fte.reduce((e,t)=>{const r=O.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?Zd:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function S$(e,t){e&&pf.flushSync(()=>e.dispatchEvent(t))}function ns(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function hte(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e);O.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var pte="DismissableLayer",xN="dismissableLayer.update",mte="dismissableLayer.pointerDownOutside",gte="dismissableLayer.focusOutside",HP,N$=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lw=O.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=O.useContext(N$),[d,f]=O.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=O.useState({}),v=kn(t,S=>f(S)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=g,_=xte(S=>{const A=S.target,P=[...u.branches].some(W=>W.contains(A));!j||P||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=yte(S=>{const A=S.target;[...u.branches].some(W=>W.contains(A))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return hte(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),O.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(HP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),WP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=HP)}},[d,h,r,u]),O.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),WP())},[d,u]),O.useEffect(()=>{const S=()=>p({});return document.addEventListener(xN,S),()=>document.removeEventListener(xN,S)},[]),s.jsx(_r.div,{...c,ref:v,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:lr(e.onFocusCapture,N.onFocusCapture),onBlurCapture:lr(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:lr(e.onPointerDownCapture,_.onPointerDownCapture)})});lw.displayName=pte;var vte="DismissableLayerBranch",A$=O.forwardRef((e,t)=>{const r=O.useContext(N$),n=O.useRef(null),a=kn(t,n);return O.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(_r.div,{...e,ref:a})});A$.displayName=vte;function xte(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e),n=O.useRef(!1),a=O.useRef(()=>{});return O.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){T$(mte,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yte(e,t=globalThis==null?void 0:globalThis.document){const r=ns(e),n=O.useRef(!1);return O.useEffect(()=>{const a=i=>{i.target&&!n.current&&T$(gte,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function WP(){const e=new CustomEvent(xN);document.dispatchEvent(e)}function T$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?S$(a,i):a.dispatchEvent(i)}var bte=lw,wte=A$,bi=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},_te="Portal",cw=O.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=O.useState(!1);bi(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?jJ.createPortal(s.jsx(_r.div,{...n,ref:t}),o):null});cw.displayName=_te;function jte(e,t){return O.useReducer((r,n)=>t[r][n]??r,e)}var K0=e=>{const{present:t,children:r}=e,n=Ste(t),a=typeof r=="function"?r({present:n.isPresent}):O.Children.only(r),i=kn(n.ref,Nte(a));return typeof r=="function"||n.isPresent?O.cloneElement(a,{ref:i}):null};K0.displayName="Presence";function Ste(e){const[t,r]=O.useState(),n=O.useRef({}),a=O.useRef(e),i=O.useRef("none"),o=e?"mounted":"unmounted",[l,c]=jte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const u=E1(n.current);i.current=l==="mounted"?u:"none"},[l]),bi(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=E1(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=E1(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=E1(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:O.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function E1(e){return(e==null?void 0:e.animationName)||"none"}function Nte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function c0({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Ate({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=ns(r),c=O.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function Ate({defaultProp:e,onChange:t}){const r=O.useState(e),[n]=r,a=O.useRef(n),i=ns(t);return O.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var Tte="VisuallyHidden",uw=O.forwardRef((e,t)=>s.jsx(_r.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));uw.displayName=Tte;var YT="ToastProvider",[XT,Cte,Ete]=KT("Toast"),[C$,r9e]=gf("Toast",[Ete]),[kte,dw]=C$(YT),E$=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=O.useState(null),[u,d]=O.useState(0),f=O.useRef(!1),h=O.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${YT}\`. Expected non-empty \`string\`.`),s.jsx(XT.Provider,{scope:t,children:s.jsx(kte,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:O.useCallback(()=>d(p=>p+1),[]),onToastRemove:O.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};E$.displayName=YT;var k$="ToastViewport",Pte=["F8"],yN="toast.viewportPause",bN="toast.viewportResume",P$=O.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Pte,label:a="Notifications ({hotkey})",...i}=e,o=dw(k$,r),l=Cte(r),c=O.useRef(null),u=O.useRef(null),d=O.useRef(null),f=O.useRef(null),h=kn(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;O.useEffect(()=>{const x=g=>{var b;n.length!==0&&n.every(j=>g[j]||g.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),O.useEffect(()=>{const x=c.current,g=f.current;if(v&&x&&g){const y=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(yN);g.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(bN);g.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!x.contains(N.relatedTarget)&&b()},_=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",j),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[v,o.isClosePausedRef]);const m=O.useCallback(({tabbingDirection:x})=>{const y=l().map(b=>{const j=b.ref.current,_=[j,...Hte(j)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return O.useEffect(()=>{const x=f.current;if(x){const g=y=>{var _,N,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const A=document.activeElement,P=y.shiftKey;if(y.target===x&&P){(_=u.current)==null||_.focus();return}const k=m({tabbingDirection:P?"backwards":"forwards"}),z=k.findIndex(I=>I===A);U5(k.slice(z+1))?y.preventDefault():P?(N=u.current)==null||N.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[l,m]),s.jsxs(wte,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(wN,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});U5(x)}}),s.jsx(XT.Slot,{scope:r,children:s.jsx(_r.ol,{tabIndex:-1,...i,ref:h})}),v&&s.jsx(wN,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});U5(x)}})]})});P$.displayName=k$;var O$="ToastFocusProxy",wN=O.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=dw(O$,r);return s.jsx(uw,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});wN.displayName=O$;var fw="Toast",Ote="toast.swipeStart",Fte="toast.swipeMove",Dte="toast.swipeCancel",Lte="toast.swipeEnd",F$=O.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=c0({prop:n,defaultProp:a,onChange:i});return s.jsx(K0,{present:r||l,children:s.jsx(Rte,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ns(e.onPause),onResume:ns(e.onResume),onSwipeStart:lr(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:lr(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:lr(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:lr(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});F$.displayName=fw;var[Ite,Mte]=C$(fw,{onClose(){}}),Rte=O.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=e,m=dw(fw,r),[x,g]=O.useState(null),y=kn(t,I=>g(I)),b=O.useRef(null),j=O.useRef(null),_=a||m.duration,N=O.useRef(0),S=O.useRef(_),A=O.useRef(0),{onToastAdd:P,onToastRemove:W}=m,C=ns(()=>{var R;(x==null?void 0:x.contains(document.activeElement))&&((R=m.viewport)==null||R.focus()),o()}),k=O.useCallback(I=>{!I||I===1/0||(window.clearTimeout(A.current),N.current=new Date().getTime(),A.current=window.setTimeout(C,I))},[C]);O.useEffect(()=>{const I=m.viewport;if(I){const R=()=>{k(S.current),u==null||u()},V=()=>{const L=new Date().getTime()-N.current;S.current=S.current-L,window.clearTimeout(A.current),c==null||c()};return I.addEventListener(yN,V),I.addEventListener(bN,R),()=>{I.removeEventListener(yN,V),I.removeEventListener(bN,R)}}},[m.viewport,_,c,u,k]),O.useEffect(()=>{i&&!m.isClosePausedRef.current&&k(_)},[i,_,m.isClosePausedRef,k]),O.useEffect(()=>(P(),()=>W()),[P,W]);const z=O.useMemo(()=>x?B$(x):null,[x]);return m.viewport?s.jsxs(s.Fragment,{children:[z&&s.jsx($te,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),s.jsx(Ite,{scope:r,onClose:C,children:pf.createPortal(s.jsx(XT.ItemSlot,{scope:r,children:s.jsx(bte,{asChild:!0,onEscapeKeyDown:lr(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(_r.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:lr(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:lr(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:lr(e.onPointerMove,I=>{if(!b.current)return;const R=I.clientX-b.current.x,V=I.clientY-b.current.y,L=!!j.current,M=["left","right"].includes(m.swipeDirection),F=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,U=M?F(0,R):0,X=M?0:F(0,V),E=I.pointerType==="touch"?10:2,H={x:U,y:X},G={originalEvent:I,delta:H};L?(j.current=H,k1(Fte,f,G,{discrete:!1})):qP(H,m.swipeDirection,E)?(j.current=H,k1(Ote,d,G,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(R)>E||Math.abs(V)>E)&&(b.current=null)}),onPointerUp:lr(e.onPointerUp,I=>{const R=j.current,V=I.target;if(V.hasPointerCapture(I.pointerId)&&V.releasePointerCapture(I.pointerId),j.current=null,b.current=null,R){const L=I.currentTarget,M={originalEvent:I,delta:R};qP(R,m.swipeDirection,m.swipeThreshold)?k1(Lte,p,M,{discrete:!0}):k1(Dte,h,M,{discrete:!0}),L.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),$te=e=>{const{__scopeToast:t,children:r,...n}=e,a=dw(fw,t),[i,o]=O.useState(!1),[l,c]=O.useState(!1);return zte(()=>o(!0)),O.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(cw,{asChild:!0,children:s.jsx(uw,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Bte="ToastTitle",D$=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(_r.div,{...n,ref:t})});D$.displayName=Bte;var Ute="ToastDescription",L$=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(_r.div,{...n,ref:t})});L$.displayName=Ute;var I$="ToastAction",M$=O.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx($$,{altText:r,asChild:!0,children:s.jsx(JT,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${I$}\`. Expected non-empty \`string\`.`),null)});M$.displayName=I$;var R$="ToastClose",JT=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Mte(R$,r);return s.jsx($$,{asChild:!0,children:s.jsx(_r.button,{type:"button",...n,ref:t,onClick:lr(e.onClick,a.onClose)})})});JT.displayName=R$;var $$=O.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(_r.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function B$(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Vte(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...B$(n))}}),t}function k1(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?S$(a,i):a.dispatchEvent(i)}var qP=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function zte(e=()=>{}){const t=ns(e);bi(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Vte(e){return e.nodeType===e.ELEMENT_NODE}function Hte(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function U5(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Wte=E$,U$=P$,z$=F$,V$=D$,H$=L$,W$=M$,q$=JT;const GP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KP=Ir,QT=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return KP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=GP(d)||GP(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,x]=v;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,f,h]:u},[]);return KP(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>O.createElement("svg",{ref:c,...Gte,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:G$("lucide",a),...l},[...o.map(([u,d])=>O.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=(e,t)=>{const r=O.forwardRef(({className:n,...a},i)=>O.createElement(Kte,{ref:i,iconNode:t,className:G$(`lucide-${qte(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Tt("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=Tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Tt("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Tt("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Tt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Tt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Tt("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=Tt("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=Tt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=Tt("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=Tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=Tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=Tt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Tt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=Tt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=Tt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=Tt("Contact",[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=Tt("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=Tt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=Tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=Tt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=Tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=Tt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=Tt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=Tt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=Tt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=Tt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=Tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=Tt("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Tt("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=Tt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=Tt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=Tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=Tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Tt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=Tt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=Tt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=Tt("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Tt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Tt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=Tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=Tt("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Tt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Tt("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=Tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Tt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=Tt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=Tt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Tt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Tt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_re=Wte,tB=Ne.forwardRef(({className:e,...t},r)=>s.jsx(U$,{ref:r,className:yr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));tB.displayName=U$.displayName;const jre=QT("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rB=Ne.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(z$,{ref:n,className:yr(jre({variant:t}),e),...r}));rB.displayName=z$.displayName;const Sre=Ne.forwardRef(({className:e,...t},r)=>s.jsx(W$,{ref:r,className:yr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Sre.displayName=W$.displayName;const nB=Ne.forwardRef(({className:e,...t},r)=>s.jsx(q$,{ref:r,className:yr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Y0,{className:"h-4 w-4"})}));nB.displayName=q$.displayName;const aB=Ne.forwardRef(({className:e,...t},r)=>s.jsx(V$,{ref:r,className:yr("text-sm font-semibold",e),...t}));aB.displayName=V$.displayName;const iB=Ne.forwardRef(({className:e,...t},r)=>s.jsx(H$,{ref:r,className:yr("text-sm opacity-90",e),...t}));iB.displayName=H$.displayName;function Nre(){const{toasts:e}=Tr();return s.jsxs(_re,{children:[e.map(({id:t,title:r,description:n,action:a,...i})=>s.jsxs(rB,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(aB,{children:r}),n&&s.jsx(iB,{children:n})]}),a,s.jsx(nB,{})]},t)),s.jsx(tB,{})]})}function Are(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function pw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const SN=e=>Array.isArray(e);function sB(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function $g(e){return typeof e=="string"||Array.isArray(e)}function rO(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function a3(e,t,r,n){if(typeof t=="function"){const[a,i]=rO(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=rO(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function mw(e,t,r){const n=e.getProps();return a3(n,t,r!==void 0?r:n.custom,e)}const i3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s3=["initial",...i3],Gv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vf=new Set(Gv),sc=e=>e*1e3,oc=e=>e/1e3,Tre={type:"spring",stiffness:500,damping:25,restSpeed:10},Cre=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ere={type:"keyframes",duration:.8},kre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pre=(e,{keyframes:t})=>t.length>2?Ere:vf.has(e)?e.startsWith("scale")?Cre(t[1]):Tre:kre;function o3(e,t){return e?e[t]||e.default||e:void 0}const Ore={skipAnimations:!1,useManualTiming:!1},Fre=e=>e!==null;function gw(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Fre),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Ns=e=>e;let oB=Ns;function Dre(e){let t=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&n?t:r;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){a=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,a&&(a=!1,c.process(u))}};return c}const P1=["read","resolveKeyframes","update","preRender","render","postRender"],Lre=40;function lB(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=P1.reduce((g,y)=>(g[y]=Dre(i),g),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const g=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(g-a.timestamp,Lre),1),a.timestamp=g,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(p))},v=()=>{r=!0,n=!0,a.isProcessing||e(p)};return{schedule:P1.reduce((g,y)=>{const b=o[y];return g[y]=(j,_=!1,N=!1)=>(r||v(),b.schedule(j,_,N)),g},{}),cancel:g=>{for(let y=0;y<P1.length;y++)o[P1[y]].cancel(g)},state:a,steps:o}}const{schedule:Sn,cancel:Fu,state:Wa,steps:V5}=lB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ns,!0),cB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Ire=1e-7,Mre=12;function Rre(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=cB(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>Ire&&++l<Mre);return o}function Kv(e,t,r,n){if(e===t&&r===n)return Ns;const a=i=>Rre(i,0,1,e,r);return i=>i===0||i===1?i:cB(a(i),t,n)}const uB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dB=e=>t=>1-e(1-t),fB=Kv(.33,1.53,.69,.99),l3=dB(fB),hB=uB(l3),pB=e=>(e*=2)<1?.5*l3(e):.5*(2-Math.pow(2,-10*(e-1))),c3=e=>1-Math.sin(Math.acos(e)),mB=dB(c3),gB=uB(c3),vB=e=>/^0[^.\s]+$/u.test(e);function $re(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vB(e):!0}const xB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),yB=e=>t=>typeof t=="string"&&t.startsWith(e),bB=yB("--"),Bre=yB("var(--"),u3=e=>Bre(e)?Ure.test(e.split("/*")[0].trim()):!1,Ure=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zre=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vre(e){const t=zre.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function wB(e,t,r=1){const[n,a]=Vre(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return xB(o)?parseFloat(o):o}return u3(a)?wB(a,t,r+1):a}const yc=(e,t,r)=>r>t?t:r<e?e:r,X0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bg={...X0,transform:e=>yc(0,1,e)},O1={...X0,default:1},Yv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),eu=Yv("deg"),xl=Yv("%"),Yt=Yv("px"),Hre=Yv("vh"),Wre=Yv("vw"),nO={...xl,parse:e=>xl.parse(e)/100,transform:e=>xl.transform(e*100)},qre=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),aO=e=>e===X0||e===Yt,iO=(e,t)=>parseFloat(e.split(", ")[t]),sO=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return iO(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?iO(i[1],e):0}},Gre=new Set(["x","y","z"]),Kre=Gv.filter(e=>!Gre.has(e));function Yre(e){const t=[];return Kre.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const h0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:sO(4,13),y:sO(5,14)};h0.translateX=h0.x;h0.translateY=h0.y;const _B=e=>t=>t.test(e),Xre={test:e=>e==="auto",parse:e=>e},jB=[X0,Yt,xl,eu,Wre,Hre,Xre],oO=e=>jB.find(_B(e)),$d=new Set;let NN=!1,AN=!1;function SB(){if(AN){const e=Array.from($d).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Yre(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}AN=!1,NN=!1,$d.forEach(e=>e.complete()),$d.clear()}function NB(){$d.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(AN=!0)})}function Jre(){NB(),SB()}class d3{constructor(t,r,n,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?($d.add(this),NN||(NN=!0,Sn.read(NB),Sn.resolveKeyframes(SB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$d.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$d.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Xm=e=>Math.round(e*1e5)/1e5,f3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Qre(e){return e==null}const Zre=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,h3=(e,t)=>r=>!!(typeof r=="string"&&Zre.test(r)&&r.startsWith(e)||t&&!Qre(r)&&Object.prototype.hasOwnProperty.call(r,t)),AB=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(f3);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ene=e=>yc(0,255,e),H5={...X0,transform:e=>Math.round(ene(e))},Ed={test:h3("rgb","red"),parse:AB("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+H5.transform(e)+", "+H5.transform(t)+", "+H5.transform(r)+", "+Xm(Bg.transform(n))+")"};function tne(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const TN={test:h3("#"),parse:tne,transform:Ed.transform},Ah={test:h3("hsl","hue"),parse:AB("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+xl.transform(Xm(t))+", "+xl.transform(Xm(r))+", "+Xm(Bg.transform(n))+")"},li={test:e=>Ed.test(e)||TN.test(e)||Ah.test(e),parse:e=>Ed.test(e)?Ed.parse(e):Ah.test(e)?Ah.parse(e):TN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ed.transform(e):Ah.transform(e)},rne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nne(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(f3))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(rne))===null||r===void 0?void 0:r.length)||0)>0}const TB="number",CB="color",ane="var",ine="var(",lO="${}",sne=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ug(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(sne,c=>(li.test(c)?(n.color.push(i),a.push(CB),r.push(li.parse(c))):c.startsWith(ine)?(n.var.push(i),a.push(ane),r.push(c)):(n.number.push(i),a.push(TB),r.push(parseFloat(c))),++i,lO)).split(lO);return{values:r,split:l,indexes:n,types:a}}function EB(e){return Ug(e).values}function kB(e){const{split:t,types:r}=Ug(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===TB?i+=Xm(a[o]):l===CB?i+=li.transform(a[o]):i+=a[o]}return i}}const one=e=>typeof e=="number"?0:e;function lne(e){const t=EB(e);return kB(e)(t.map(one))}const Du={test:nne,parse:EB,createTransformer:kB,getAnimatableNone:lne},cne=new Set(["brightness","contrast","saturate","opacity"]);function une(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(f3)||[];if(!n)return e;const a=r.replace(n,"");let i=cne.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const dne=/\b([a-z-]*)\(.*?\)/gu,CN={...Du,getAnimatableNone:e=>{const t=e.match(dne);return t?t.map(une).join(" "):e}},fne={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,backgroundPositionX:Yt,backgroundPositionY:Yt},hne={rotate:eu,rotateX:eu,rotateY:eu,rotateZ:eu,scale:O1,scaleX:O1,scaleY:O1,scaleZ:O1,skew:eu,skewX:eu,skewY:eu,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:Bg,originX:nO,originY:nO,originZ:Yt},cO={...X0,transform:Math.round},p3={...fne,...hne,zIndex:cO,size:Yt,fillOpacity:Bg,strokeOpacity:Bg,numOctaves:cO},pne={...p3,color:li,backgroundColor:li,outlineColor:li,fill:li,stroke:li,borderColor:li,borderTopColor:li,borderRightColor:li,borderBottomColor:li,borderLeftColor:li,filter:CN,WebkitFilter:CN},m3=e=>pne[e];function PB(e,t){let r=m3(e);return r!==CN&&(r=Du),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const mne=new Set(["auto","none","0"]);function gne(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!mne.has(i)&&Ug(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=PB(r,a)}class OB extends d3{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),u3(u))){const d=wB(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!qre.has(n)||t.length!==2)return;const[a,i]=t,o=oO(a),l=oO(i);if(o!==l)if(aO(o)&&aO(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)$re(t[a])&&n.push(a);n.length&&gne(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=h0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=h0[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function g3(e){return typeof e=="function"}let Ly;function vne(){Ly=void 0}const yl={now:()=>(Ly===void 0&&yl.set(Wa.isProcessing||Ore.useManualTiming?Wa.timestamp:performance.now()),Ly),set:e=>{Ly=e,queueMicrotask(vne)}},uO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Du.test(e)||e==="0")&&!e.startsWith("url("));function xne(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function yne(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=uO(a,t),l=uO(i,t);return!o||!l?!1:xne(e)||(r==="spring"||g3(r))&&n}const bne=40;class FB{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yl.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>bne?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Jre(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=yl.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!yne(t,n,a,i))if(o)this.options.duration=0;else{c==null||c(gw(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const p0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},DB=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(p0(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function LB(e,t){return t?e*(1e3/t):0}const wne=5;function IB(e,t,r){const n=Math.max(t-wne,0);return LB(r-e(n),t-n)}const Un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},W5=.001;function _ne({duration:e=Un.duration,bounce:t=Un.bounce,velocity:r=Un.velocity,mass:n=Un.mass}){let a,i,o=1-t;o=yc(Un.minDamping,Un.maxDamping,o),e=yc(Un.minDuration,Un.maxDuration,oc(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-r,p=EN(u,o),v=Math.exp(-f);return W5-h/p*v},i=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-f),m=EN(Math.pow(u,2),o);return(-a(u)+W5>0?-1:1)*((h-p)*v)/m}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-W5+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=Sne(a,i,l);if(e=sc(e),isNaN(c))return{stiffness:Un.stiffness,damping:Un.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const jne=12;function Sne(e,t,r){let n=r;for(let a=1;a<jne;a++)n=n-e(n)/t(n);return n}function EN(e,t){return e*Math.sqrt(1-t*t)}const kN=2e4;function MB(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<kN;)t+=r,n=e.next(t);return t>=kN?1/0:t}const Nne=["duration","bounce"],Ane=["stiffness","damping","mass"];function dO(e,t){return t.some(r=>e[r]!==void 0)}function Tne(e){let t={velocity:Un.velocity,stiffness:Un.stiffness,damping:Un.damping,mass:Un.mass,isResolvedFromDuration:!1,...e};if(!dO(e,Ane)&&dO(e,Nne))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*yc(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:Un.mass,stiffness:a,damping:i}}else{const r=_ne(e);t={...t,...r,mass:Un.mass},t.isResolvedFromDuration=!0}return t}function RB(e=Un.visualDuration,t=Un.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=Tne({...r,velocity:-oc(r.velocity||0)}),v=h||0,m=u/(2*Math.sqrt(c*d)),x=o-i,g=oc(Math.sqrt(c/d)),y=Math.abs(x)<5;n||(n=y?Un.restSpeed.granular:Un.restSpeed.default),a||(a=y?Un.restDelta.granular:Un.restDelta.default);let b;if(m<1){const _=EN(g,m);b=N=>{const S=Math.exp(-m*g*N);return o-S*((v+m*g*x)/_*Math.sin(_*N)+x*Math.cos(_*N))}}else if(m===1)b=_=>o-Math.exp(-g*_)*(x+(v+g*x)*_);else{const _=g*Math.sqrt(m*m-1);b=N=>{const S=Math.exp(-m*g*N),A=Math.min(_*N,300);return o-S*((v+m*g*x)*Math.sinh(A)+_*x*Math.cosh(A))/_}}const j={calculatedDuration:p&&f||null,next:_=>{const N=b(_);if(p)l.done=_>=f;else{let S=0;m<1&&(S=_===0?sc(v):IB(b,_,N));const A=Math.abs(S)<=n,P=Math.abs(o-N)<=a;l.done=A&&P}return l.value=l.done?o:N,l},toString:()=>{const _=Math.min(MB(j),kN),N=DB(S=>j.next(_*S).value,_,30);return _+"ms "+N}};return j}function fO({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=A=>l!==void 0&&A<l||c!==void 0&&A>c,v=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let m=r*t;const x=f+m,g=o===void 0?x:o(x);g!==x&&(m=g-f);const y=A=>-m*Math.exp(-A/n),b=A=>g+y(A),j=A=>{const P=y(A),W=b(A);h.done=Math.abs(P)<=u,h.value=h.done?g:W};let _,N;const S=A=>{p(h.value)&&(_=A,N=RB({keyframes:[h.value,v(h.value)],velocity:IB(b,A,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:A=>{let P=!1;return!N&&_===void 0&&(P=!0,j(A),S(A)),_!==void 0&&A>=_?N.next(A-_):(!P&&j(A),h)}}}const Cne=Kv(.42,0,1,1),Ene=Kv(0,0,.58,1),$B=Kv(.42,0,.58,1),kne=e=>Array.isArray(e)&&typeof e[0]!="number",v3=e=>Array.isArray(e)&&typeof e[0]=="number",Pne={linear:Ns,easeIn:Cne,easeInOut:$B,easeOut:Ene,circIn:c3,circInOut:gB,circOut:mB,backIn:l3,backInOut:hB,backOut:fB,anticipate:pB},hO=e=>{if(v3(e)){oB(e.length===4);const[t,r,n,a]=e;return Kv(t,r,n,a)}else if(typeof e=="string")return Pne[e];return e},One=(e,t)=>r=>t(e(r)),Xv=(...e)=>e.reduce(One),Dn=(e,t,r)=>e+(t-e)*r;function q5(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Fne({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=q5(c,l,e+1/3),i=q5(c,l,e),o=q5(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function h2(e,t){return r=>r>0?t:e}const G5=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Dne=[TN,Ed,Ah],Lne=e=>Dne.find(t=>t.test(e));function pO(e){const t=Lne(e);if(!t)return!1;let r=t.parse(e);return t===Ah&&(r=Fne(r)),r}const mO=(e,t)=>{const r=pO(e),n=pO(t);if(!r||!n)return h2(e,t);const a={...r};return i=>(a.red=G5(r.red,n.red,i),a.green=G5(r.green,n.green,i),a.blue=G5(r.blue,n.blue,i),a.alpha=Dn(r.alpha,n.alpha,i),Ed.transform(a))},PN=new Set(["none","hidden"]);function Ine(e,t){return PN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Mne(e,t){return r=>Dn(e,t,r)}function x3(e){return typeof e=="number"?Mne:typeof e=="string"?u3(e)?h2:li.test(e)?mO:Bne:Array.isArray(e)?BB:typeof e=="object"?li.test(e)?mO:Rne:h2}function BB(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>x3(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function Rne(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=x3(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function $ne(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,a[o]++}return n}const Bne=(e,t)=>{const r=Du.createTransformer(t),n=Ug(e),a=Ug(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?PN.has(e)&&!a.values.length||PN.has(t)&&!n.values.length?Ine(e,t):Xv(BB($ne(n,a),a.values),r):h2(e,t)};function UB(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Dn(e,t,r):x3(e)(e,t)}function Une(e,t,r){const n=[],a=r||UB,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ns:t;l=Xv(c,l)}n.push(l)}return n}function zne(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(oB(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Une(t,n,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=p0(e[d],e[d+1],u);return o[d](f)};return r?u=>c(yc(e[0],e[i-1],u)):c}function Vne(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=p0(0,t,n);e.push(Dn(r,1,a))}}function Hne(e){const t=[0];return Vne(t,e.length-1),t}function Wne(e,t){return e.map(r=>r*t)}function qne(e,t){return e.map(()=>t||$B).splice(0,e.length-1)}function p2({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=kne(n)?n.map(hO):hO(n),i={done:!1,value:t[0]},o=Wne(r&&r.length===t.length?r:Hne(t),e),l=zne(o,t,{ease:Array.isArray(a)?a:qne(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Gne=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Sn.update(t,!0),stop:()=>Fu(t),now:()=>Wa.isProcessing?Wa.timestamp:yl.now()}},Kne={decay:fO,inertia:fO,tween:p2,keyframes:p2,spring:RB},Yne=e=>e/100;class y3 extends FB{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||d3,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=g3(r)?r:Kne[r]||p2;let c,u;l!==p2&&typeof t[0]!="number"&&(c=Xv(Yne,UB(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=MB(d));const{calculatedDuration:f}=d,h=f+a,p=h*(n+1)-a;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:v,repeatDelay:m,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,j=i;if(p){const A=Math.min(this.currentTime,d)/f;let P=Math.floor(A),W=A%1;!W&&A>=1&&(W=1),W===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(v==="reverse"?(W=1-W,m&&(W-=m/f)):v==="mirror"&&(j=o)),b=yc(0,1,W)*f}const _=y?{done:!1,value:c[0]}:j.next(b);l&&(_.value=l(_.value));let{done:N}=_;!y&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return S&&a!==void 0&&(_.value=gw(c,this.options,a)),x&&x(_.value),S&&this.finish(),_}get duration(){const{resolved:t}=this;return t?oc(t.calculatedDuration):0}get time(){return oc(this.currentTime)}set time(t){t=sc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=oc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Gne,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Xne=new Set(["opacity","clipPath","filter","transform"]);function b3(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jne={linearEasing:void 0};function Qne(e,t){const r=b3(e);return()=>{var n;return(n=Jne[t])!==null&&n!==void 0?n:r()}}const m2=Qne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function zB(e){return!!(typeof e=="function"&&m2()||!e||typeof e=="string"&&(e in ON||m2())||v3(e)||Array.isArray(e)&&e.every(zB))}const Em=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,ON={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Em([0,.65,.55,1]),circOut:Em([.55,0,1,.45]),backIn:Em([.31,.01,.66,-.59]),backOut:Em([.33,1.53,.69,.99])};function VB(e,t){if(e)return typeof e=="function"&&m2()?DB(e,t):v3(e)?Em(e):Array.isArray(e)?e.map(r=>VB(r,t)||ON.easeOut):ON[e]}function Zne(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=VB(l,a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function gO(e,t){e.timeline=t,e.onfinish=null}const eae=b3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),g2=10,tae=2e4;function rae(e){return g3(e.type)||e.type==="spring"||!zB(e.ease)}function nae(e,t){const r=new y3({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<tae;)n=r.sample(i),a.push(n.value),i+=g2;return{times:void 0,keyframes:a,duration:i-g2,ease:"linear"}}const HB={anticipate:pB,backInOut:hB,circInOut:gB};function aae(e){return e in HB}class vO extends FB{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new OB(i,(o,l)=>this.onKeyframesResolved(o,l),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:a=300,times:i,ease:o,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&m2()&&aae(o)&&(o=HB[o]),rae(this.options)){const{onComplete:h,onUpdate:p,motionValue:v,element:m,...x}=this.options,g=nae(t,x);t=g.keyframes,t.length===1&&(t[1]=t[0]),a=g.duration,i=g.times,o=g.ease,l="keyframes"}const f=Zne(c.owner.current,u,t,{...this.options,duration:a,times:i,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(gO(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(gw(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:a,times:i,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return oc(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return oc(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=sc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Ns;const{animation:n}=r;gO(n,t)}return Ns}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,v=new y3({...p,keyframes:n,duration:a,type:i,ease:o,times:l,isGenerator:!0}),m=sc(this.time);u.setWithVelocity(v.sample(m-g2).value,v.sample(m).value,g2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:o,type:l}=t;return eae()&&n&&Xne.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const iae=b3(()=>window.ScrollTimeline!==void 0);class sae{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>iae()&&a.attachTimeline?a.attachTimeline(t):r(a));return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function oae({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const w3=(e,t,r,n={},a,i)=>o=>{const l=o3(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-sc(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};oae(l)||(d={...d,...Pre(e,d)}),d.duration&&(d.duration=sc(d.duration)),d.repeatDelay&&(d.repeatDelay=sc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const h=gw(d.keyframes,l);if(h!==void 0)return Sn.update(()=>{d.onUpdate(h),d.onComplete()}),new sae([])}return!i&&vO.supports(d)?new vO(d):new y3(d)},lae=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),cae=e=>SN(e)?e[e.length-1]||0:e;function _3(e,t){e.indexOf(t)===-1&&e.push(t)}function j3(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class S3{constructor(){this.subscriptions=[]}add(t){return _3(this.subscriptions,t),()=>j3(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xO=30,uae=e=>!isNaN(parseFloat(e));class dae{constructor(t,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=yl.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=yl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=uae(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new S3);const n=this.events[t].add(r);return t==="change"?()=>{n(),Sn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xO)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,xO);return LB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zg(e,t){return new dae(e,t)}function fae(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,zg(r))}function hae(e,t){const r=mw(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=cae(i[o]);fae(e,o,l)}}const N3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pae="framerAppearId",WB="data-"+N3(pae);function qB(e){return e.props[WB]}const gi=e=>!!(e&&e.getVelocity);function mae(e){return!!(gi(e)&&e.add)}function FN(e,t){const r=e.getValue("willChange");if(mae(r))return r.add(t)}function gae({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function GB(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const h=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),p=c[f];if(p===void 0||d&&gae(d,f))continue;const v={delay:r,...o3(o||{},f)};let m=!1;if(window.MotionHandoffAnimation){const g=qB(e);if(g){const y=window.MotionHandoffAnimation(g,f,Sn);y!==null&&(v.startTime=y,m=!0)}}FN(e,f),h.start(w3(f,h,p,e.shouldReduceMotion&&vf.has(f)?{type:!1}:v,e,m));const x=h.animation;x&&u.push(x)}return l&&Promise.all(u).then(()=>{Sn.update(()=>{l&&hae(e,l)})}),u}function DN(e,t,r={}){var n;const a=mw(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(GB(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return vae(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function vae(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(xae).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(DN(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function xae(e,t){return e.sortNodePosition(t)}function yae(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>DN(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=DN(e,t,r);else{const a=typeof t=="function"?mw(e,t,r.custom):t;n=Promise.all(GB(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const bae=s3.length;function KB(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?KB(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<bae;r++){const n=s3[r],a=e.props[n];($g(a)||a===!1)&&(t[n]=a)}return t}const wae=[...i3].reverse(),_ae=i3.length;function jae(e){return t=>Promise.all(t.map(({animation:r,options:n})=>yae(e,r,n)))}function Sae(e){let t=jae(e),r=yO(),n=!0;const a=c=>(u,d)=>{var f;const h=mw(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:v,...m}=h;u={...u,...m,...v}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=KB(e.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let x=0;x<_ae;x++){const g=wae[x],y=r[g],b=u[g]!==void 0?u[g]:d[g],j=$g(b),_=g===c?y.isActive:null;_===!1&&(v=x);let N=b===d[g]&&b!==u[g]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...p},!y.isActive&&_===null||!b&&!y.prevProp||pw(b)||typeof b=="boolean")continue;const S=Nae(y.prevProp,b);let A=S||g===c&&y.isActive&&!N&&j||x>v&&j,P=!1;const W=Array.isArray(b)?b:[b];let C=W.reduce(a(g),{});_===!1&&(C={});const{prevResolvedValues:k={}}=y,z={...k,...C},I=L=>{A=!0,h.has(L)&&(P=!0,h.delete(L)),y.needsAnimating[L]=!0;const M=e.getValue(L);M&&(M.liveStyle=!1)};for(const L in z){const M=C[L],F=k[L];if(p.hasOwnProperty(L))continue;let U=!1;SN(M)&&SN(F)?U=!sB(M,F):U=M!==F,U?M!=null?I(L):h.add(L):M!==void 0&&h.has(L)?I(L):y.protectedKeys[L]=!0}y.prevProp=b,y.prevResolvedValues=C,y.isActive&&(p={...p,...C}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(N&&S)||P)&&f.push(...W.map(L=>({animation:L,options:{type:g}})))}if(h.size){const x={};h.forEach(g=>{const y=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),x[g]=y??null}),f.push({animation:x})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=yO(),n=!0}}}function Nae(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sB(t,e):!1}function dd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yO(){return{animate:dd(!0),whileInView:dd(),whileHover:dd(),whileTap:dd(),whileDrag:dd(),whileFocus:dd(),exit:dd()}}class Wu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Aae extends Wu{constructor(t){super(t),t.animationState||(t.animationState=Sae(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Tae=0;class Cae extends Wu{constructor(){super(...arguments),this.id=Tae++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Eae={animation:{Feature:Aae},exit:{Feature:Cae}},No={x:!1,y:!1};function YB(){return No.x||No.y}function kae(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;t&&(a=t.current);const i=(n=r==null?void 0:r[e])!==null&&n!==void 0?n:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function XB(e,t){const r=kae(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function bO(e){return t=>{t.pointerType==="touch"||YB()||e(t)}}function Pae(e,t,r={}){const[n,a,i]=XB(e,r),o=bO(l=>{const{target:c}=l,u=t(l);if(!u||!c)return;const d=bO(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,a)});return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const A3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,km=new WeakSet;function wO(e){return t=>{t.key==="Enter"&&e(t)}}function K5(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Oae=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=wO(()=>{if(km.has(r))return;K5(r,"down");const a=wO(()=>{K5(r,"up")}),i=()=>K5(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)},Fae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dae(e){return Fae.has(e.tagName)||e.tabIndex!==-1}const JB=(e,t)=>t?e===t?!0:JB(e,t.parentElement):!1;function _O(e){return A3(e)&&!YB()}function Lae(e,t,r={}){const[n,a,i]=XB(e,r),o=l=>{const c=l.currentTarget;if(!_O(l)||km.has(c))return;km.add(c);const u=t(l),d=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!_O(p)||!km.has(c))&&(km.delete(c),u&&u(p,{success:v}))},f=p=>{d(p,r.useGlobalTarget||JB(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{Dae(l)||(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",u=>Oae(u,a),a)}),i}function Iae(e){return e==="x"||e==="y"?No[e]?null:(No[e]=!0,()=>{No[e]=!1}):No.x||No.y?null:(No.x=No.y=!0,()=>{No.x=No.y=!1})}function Jv(e){return{point:{x:e.pageX,y:e.pageY}}}const Mae=e=>t=>A3(t)&&e(t,Jv(t));function Vg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Jm(e,t,r,n){return Vg(e,t,Mae(r),n)}const jO=(e,t)=>Math.abs(e-t);function Rae(e,t){const r=jO(e.x,t.x),n=jO(e.y,t.y);return Math.sqrt(r**2+n**2)}class QB{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=X5(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Rae(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=f,{timestamp:m}=Wa;this.history.push({...v,timestamp:m});const{onStart:x,onMove:g}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Y5(h,this.transformPagePoint),Sn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=X5(f.type==="pointercancel"?this.lastMoveEventInfo:Y5(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),v&&v(f,x)},!A3(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Jv(t),l=Y5(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Wa;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,X5(l,this.history)),this.removeListeners=Xv(Jm(this.contextWindow,"pointermove",this.handlePointerMove),Jm(this.contextWindow,"pointerup",this.handlePointerUp),Jm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fu(this.updatePoint)}}function Y5(e,t){return t?{point:t(e.point)}:e}function SO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function X5({point:e},t){return{point:e,delta:SO(e,ZB(t)),offset:SO(e,$ae(t)),velocity:Bae(t,.1)}}function $ae(e){return e[0]}function ZB(e){return e[e.length-1]}function Bae(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=ZB(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>sc(t)));)r--;if(!n)return{x:0,y:0};const i=oc(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Th(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const e9=1e-4,Uae=1-e9,zae=1+e9,t9=.01,Vae=0-t9,Hae=0+t9;function Es(e){return e.max-e.min}function Wae(e,t,r){return Math.abs(e-t)<=r}function NO(e,t,r,n=.5){e.origin=n,e.originPoint=Dn(t.min,t.max,e.origin),e.scale=Es(r)/Es(t),e.translate=Dn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Uae&&e.scale<=zae||isNaN(e.scale))&&(e.scale=1),(e.translate>=Vae&&e.translate<=Hae||isNaN(e.translate))&&(e.translate=0)}function Qm(e,t,r,n){NO(e.x,t.x,r.x,n?n.originX:void 0),NO(e.y,t.y,r.y,n?n.originY:void 0)}function AO(e,t,r){e.min=r.min+t.min,e.max=e.min+Es(t)}function qae(e,t,r){AO(e.x,t.x,r.x),AO(e.y,t.y,r.y)}function TO(e,t,r){e.min=t.min-r.min,e.max=e.min+Es(t)}function Zm(e,t,r){TO(e.x,t.x,r.x),TO(e.y,t.y,r.y)}function Gae(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Dn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Dn(r,e,n.max):Math.min(e,r)),e}function CO(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Kae(e,{top:t,left:r,bottom:n,right:a}){return{x:CO(e.x,r,a),y:CO(e.y,t,n)}}function EO(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Yae(e,t){return{x:EO(e.x,t.x),y:EO(e.y,t.y)}}function Xae(e,t){let r=.5;const n=Es(e),a=Es(t);return a>n?r=p0(t.min,t.max-n,e.min):n>a&&(r=p0(e.min,e.max-a,t.min)),yc(0,1,r)}function Jae(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const LN=.35;function Qae(e=LN){return e===!1?e=0:e===!0&&(e=LN),{x:kO(e,"left","right"),y:kO(e,"top","bottom")}}function kO(e,t,r){return{min:PO(e,t),max:PO(e,r)}}function PO(e,t){return typeof e=="number"?e:e[t]||0}const OO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ch=()=>({x:OO(),y:OO()}),FO=()=>({min:0,max:0}),Jn=()=>({x:FO(),y:FO()});function Gs(e){return[e("x"),e("y")]}function r9({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Zae({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function eie(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function J5(e){return e===void 0||e===1}function IN({scale:e,scaleX:t,scaleY:r}){return!J5(e)||!J5(t)||!J5(r)}function md(e){return IN(e)||n9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function n9(e){return DO(e.x)||DO(e.y)}function DO(e){return e&&e!=="0%"}function v2(e,t,r){const n=e-r,a=t*n;return r+a}function LO(e,t,r,n,a){return a!==void 0&&(e=v2(e,a,n)),v2(e,r,n)+t}function MN(e,t=0,r=1,n,a){e.min=LO(e.min,t,r,n,a),e.max=LO(e.max,t,r,n,a)}function a9(e,{x:t,y:r}){MN(e.x,t.translate,t.scale,t.originPoint),MN(e.y,r.translate,r.scale,r.originPoint)}const IO=.999999999999,MO=1.0000000000001;function tie(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&kh(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,a9(e,o)),n&&md(i.latestValues)&&kh(e,i.latestValues))}t.x<MO&&t.x>IO&&(t.x=1),t.y<MO&&t.y>IO&&(t.y=1)}function Eh(e,t){e.min=e.min+t,e.max=e.max+t}function RO(e,t,r,n,a=.5){const i=Dn(e.min,e.max,a);MN(e,t,r,i,n)}function kh(e,t){RO(e.x,t.x,t.scaleX,t.scale,t.originX),RO(e.y,t.y,t.scaleY,t.scale,t.originY)}function i9(e,t){return r9(eie(e.getBoundingClientRect(),t))}function rie(e,t,r){const n=i9(e,r),{scroll:a}=t;return a&&(Eh(n.x,a.offset.x),Eh(n.y,a.offset.y)),n}const s9=({current:e})=>e?e.ownerDocument.defaultView:null,nie=new WeakMap;class aie{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jv(d).point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Iae(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gs(x=>{let g=this.getAxisMotionValue(x).get()||0;if(xl.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[x];b&&(g=Es(b)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&Sn.postRender(()=>v(d,f)),FN(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=iie(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Gs(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new QB(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:s9(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Sn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!F1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Gae(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&Th(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=Kae(a.layoutBox,r):this.constraints=!1,this.elastic=Qae(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Gs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Jae(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Th(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=rie(n,a.root,this.visualElement.getTransformPagePoint());let o=Yae(a.layout.layoutBox,i);if(r){const l=r(Zae(o));this.hasMutatedConstraints=!!l,l&&(o=r9(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Gs(d=>{if(!F1(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return FN(this.visualElement,t),n.start(w3(t,n,0,r,this.visualElement,!1))}stopAnimation(){Gs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gs(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Gs(r=>{const{drag:n}=this.getProps();if(!F1(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-Dn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Th(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Xae({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Gs(o=>{if(!F1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Dn(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;nie.set(this.visualElement,this);const t=this.visualElement.current,r=Jm(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Th(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Sn.read(n);const o=Vg(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=LN,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function F1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function iie(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class sie extends Wu{constructor(t){super(t),this.removeGroupControls=Ns,this.removeListeners=Ns,this.controls=new aie(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ns}unmount(){this.removeGroupControls(),this.removeListeners()}}const $O=e=>(t,r)=>{e&&Sn.postRender(()=>e(t,r))};class oie extends Wu{constructor(){super(...arguments),this.removePointerDownListener=Ns}onPointerDown(t){this.session=new QB(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:s9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:$O(t),onStart:$O(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Sn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Jm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vw=O.createContext(null);function lie(){const e=O.useContext(vw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=O.useId();O.useEffect(()=>n(a),[]);const i=O.useCallback(()=>r&&r(a),[a,r]);return!t&&r?[!1,i]:[!0]}const T3=O.createContext({}),o9=O.createContext({}),Iy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Yt.test(e))e=parseFloat(e);else return e;const r=BO(e,t.target.x),n=BO(e,t.target.y);return`${r}% ${n}%`}},cie={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Du.parse(e);if(a.length>5)return n;const i=Du.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=Dn(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}},x2={};function uie(e){Object.assign(x2,e)}const{schedule:C3,cancel:n9e}=lB(queueMicrotask,!1);class die extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;uie(fie),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Iy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Sn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),C3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function l9(e){const[t,r]=lie(),n=O.useContext(T3);return s.jsx(die,{...e,layoutGroup:n,switchLayoutGroup:O.useContext(o9),isPresent:t,safeToRemove:r})}const fie={borderRadius:{...sm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sm,borderTopRightRadius:sm,borderBottomLeftRadius:sm,borderBottomRightRadius:sm,boxShadow:cie},c9=["TopLeft","TopRight","BottomLeft","BottomRight"],hie=c9.length,UO=e=>typeof e=="string"?parseFloat(e):e,zO=e=>typeof e=="number"||Yt.test(e);function pie(e,t,r,n,a,i){a?(e.opacity=Dn(0,r.opacity!==void 0?r.opacity:1,mie(n)),e.opacityExit=Dn(t.opacity!==void 0?t.opacity:1,0,gie(n))):i&&(e.opacity=Dn(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<hie;o++){const l=`border${c9[o]}Radius`;let c=VO(t,l),u=VO(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||zO(c)===zO(u)?(e[l]=Math.max(Dn(UO(c),UO(u),n),0),(xl.test(u)||xl.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Dn(t.rotate||0,r.rotate||0,n))}function VO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const mie=u9(0,.5,mB),gie=u9(.5,.95,Ns);function u9(e,t,r){return n=>n<e?0:n>t?1:r(p0(e,t,n))}function HO(e,t){e.min=t.min,e.max=t.max}function Us(e,t){HO(e.x,t.x),HO(e.y,t.y)}function WO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qO(e,t,r,n,a){return e-=t,e=v2(e,1/r,n),a!==void 0&&(e=v2(e,1/a,n)),e}function vie(e,t=0,r=1,n=.5,a,i=e,o=e){if(xl.test(t)&&(t=parseFloat(t),t=Dn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Dn(i.min,i.max,n);e===i&&(l-=t),e.min=qO(e.min,t,r,l,a),e.max=qO(e.max,t,r,l,a)}function GO(e,t,[r,n,a],i,o){vie(e,t[r],t[n],t[a],t.scale,i,o)}const xie=["x","scaleX","originX"],yie=["y","scaleY","originY"];function KO(e,t,r,n){GO(e.x,t,xie,r?r.x:void 0,n?n.x:void 0),GO(e.y,t,yie,r?r.y:void 0,n?n.y:void 0)}function YO(e){return e.translate===0&&e.scale===1}function d9(e){return YO(e.x)&&YO(e.y)}function XO(e,t){return e.min===t.min&&e.max===t.max}function bie(e,t){return XO(e.x,t.x)&&XO(e.y,t.y)}function JO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function f9(e,t){return JO(e.x,t.x)&&JO(e.y,t.y)}function QO(e){return Es(e.x)/Es(e.y)}function ZO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class wie{constructor(){this.members=[]}add(t){_3(this.members,t),t.scheduleRender()}remove(t){if(j3(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _ie(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const jie=(e,t)=>e.depth-t.depth;class Sie{constructor(){this.children=[],this.isDirty=!1}add(t){_3(this.children,t),this.isDirty=!0}remove(t){j3(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jie),this.isDirty=!1,this.children.forEach(t)}}function My(e){const t=gi(e)?e.get():e;return lae(t)?t.toValue():t}function Nie(e,t){const r=yl.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Fu(n),e(i-t))};return Sn.read(n,!0),()=>Fu(n)}function Aie(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Tie(e,t,r){const n=gi(e)?e:zg(e);return n.start(w3("",n,t,r)),n.animation}const gd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Pm=typeof window<"u"&&window.MotionDebug!==void 0,Q5=["","X","Y","Z"],Cie={visibility:"hidden"},e6=1e3;let Eie=0;function Z5(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function h9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=qB(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Sn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&h9(n)}function p9({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Eie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pm&&(gd.totalNodes=gd.resolvedTargetDeltas=gd.recalculatedProjection=0),this.nodes.forEach(Oie),this.nodes.forEach(Mie),this.nodes.forEach(Rie),this.nodes.forEach(Fie),Pm&&window.MotionDebug.record(gd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sie)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new S3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Aie(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Nie(h,250),Iy.hasAnimatedSinceResize&&(Iy.hasAnimatedSinceResize=!1,this.nodes.forEach(r6))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||Vie,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),y=!this.targetLayout||!f9(this.targetLayout,v)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...o3(m,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||r6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($ie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&h9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t6);return}this.isUpdating||this.nodes.forEach(Lie),this.isUpdating=!1,this.nodes.forEach(Iie),this.nodes.forEach(kie),this.nodes.forEach(Pie),this.clearAllSnapshots();const l=yl.now();Wa.delta=yc(0,1e3/60,l-Wa.timestamp),Wa.timestamp=l,Wa.isProcessing=!0,V5.update.process(Wa),V5.preRender.process(Wa),V5.render.process(Wa),Wa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,C3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Die),this.sharedNodes.forEach(Bie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!d9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||md(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Hie(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Jn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Wie))){const{scroll:d}=this.root;d&&(Eh(c.x,d.offset.x),Eh(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Jn();if(Us(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Us(c,o),Eh(c.x,f.offset.x),Eh(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Jn();Us(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&kh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),md(d.latestValues)&&kh(c,d.latestValues)}return md(this.latestValues)&&kh(c,this.latestValues),c}removeTransform(o){const l=Jn();Us(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!md(u.latestValues))continue;IN(u.latestValues)&&u.updateSnapshot();const d=Jn(),f=u.measurePageBox();Us(d,f),KO(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return md(this.latestValues)&&KO(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Wa.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),Zm(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jn(),this.targetWithTransforms=Jn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Us(this.target,this.layout.layoutBox),a9(this.target,this.targetDelta)):Us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jn(),this.relativeTargetOrigin=Jn(),Zm(this.relativeTargetOrigin,this.target,p.target),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pm&&gd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||IN(this.parent.latestValues)||n9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Wa.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Us(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;tie(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Jn());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(WO(this.prevProjectionDelta.x,this.projectionDelta.x),WO(this.prevProjectionDelta.y,this.projectionDelta.y)),Qm(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!ZO(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Pm&&gd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ch(),this.projectionDelta=Ch(),this.projectionDeltaWithTransform=Ch()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ch();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Jn(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,m=p!==v,x=this.getStack(),g=!x||x.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(zie));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const _=j/1e3;n6(f.x,o.x,_),n6(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zm(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Uie(this.relativeTarget,this.relativeTargetOrigin,h,_),b&&bie(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Jn()),Us(b,this.relativeTarget)),m&&(this.animationValues=d,pie(d,u,this.latestValues,_,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Sn.update(()=>{Iy.hasAnimatedSinceResize=!0,this.currentAnimation=Tie(0,e6,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&m9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Jn();const f=Es(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Es(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Us(l,c),kh(l,d),Qm(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wie),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Z5("z",o,u,this.animationValues);for(let d=0;d<Q5.length;d++)Z5(`rotate${Q5[d]}`,o,u,this.animationValues),Z5(`skew${Q5[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Cie;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=My(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=My(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!md(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=_ie(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in x2){if(h[m]===void 0)continue;const{correct:x,applyTo:g}=x2[m],y=u.transform==="none"?h[m]:x(h[m],f);if(g){const b=g.length;for(let j=0;j<b;j++)u[g[j]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?My(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(t6),this.root.sharedNodes.clear()}}}function kie(e){e.updateLayout()}function Pie(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Gs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Es(h);h.min=n[f].min,h.max=h.min+p}):m9(i,r.layoutBox,n)&&Gs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Es(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Ch();Qm(l,n,r.layoutBox);const c=Ch();o?Qm(c,e.applyTransform(a,!0),r.measuredBox):Qm(c,n,r.layoutBox);const u=!d9(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=Jn();Zm(v,r.layoutBox,h.layoutBox);const m=Jn();Zm(m,n,p.layoutBox),f9(v,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Oie(e){Pm&&gd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Fie(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Die(e){e.clearSnapshot()}function t6(e){e.clearMeasurements()}function Lie(e){e.isLayoutDirty=!1}function Iie(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function r6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Mie(e){e.resolveTargetDelta()}function Rie(e){e.calcProjection()}function $ie(e){e.resetSkewAndRotation()}function Bie(e){e.removeLeadSnapshot()}function n6(e,t,r){e.translate=Dn(t.translate,0,r),e.scale=Dn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function a6(e,t,r,n){e.min=Dn(t.min,r.min,n),e.max=Dn(t.max,r.max,n)}function Uie(e,t,r,n){a6(e.x,t.x,r.x,n),a6(e.y,t.y,r.y,n)}function zie(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Vie={duration:.45,ease:[.4,0,.1,1]},i6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),s6=i6("applewebkit/")&&!i6("chrome/")?Math.round:Ns;function o6(e){e.min=s6(e.min),e.max=s6(e.max)}function Hie(e){o6(e.x),o6(e.y)}function m9(e,t,r){return e==="position"||e==="preserve-aspect"&&!Wae(QO(t),QO(r),.2)}function Wie(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const qie=p9({attachResizeListener:(e,t)=>Vg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ej={current:void 0},g9=p9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ej.current){const e=new qie({});e.mount(window),e.setOptions({layoutScroll:!0}),ej.current=e}return ej.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Gie={pan:{Feature:oie},drag:{Feature:sie,ProjectionNode:g9,MeasureLayout:l9}};function l6(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Sn.postRender(()=>i(t,Jv(t)))}class Kie extends Wu{mount(){const{current:t}=this.node;t&&(this.unmount=Pae(t,r=>(l6(this.node,r,"Start"),n=>l6(this.node,n,"End"))))}unmount(){}}class Yie extends Wu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xv(Vg(this.node.current,"focus",()=>this.onFocus()),Vg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c6(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Sn.postRender(()=>i(t,Jv(t)))}class Xie extends Wu{mount(){const{current:t}=this.node;t&&(this.unmount=Lae(t,r=>(c6(this.node,r,"Start"),(n,{success:a})=>c6(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const RN=new WeakMap,tj=new WeakMap,Jie=e=>{const t=RN.get(e.target);t&&t(e)},Qie=e=>{e.forEach(Jie)};function Zie({root:e,...t}){const r=e||document;tj.has(r)||tj.set(r,{});const n=tj.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Qie,{root:e,...t})),n[a]}function ese(e,t,r){const n=Zie(t);return RN.set(e,r),n.observe(e),()=>{RN.delete(e),n.unobserve(e)}}const tse={some:0,all:1};class rse extends Wu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:tse[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return ese(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(nse(t,r))&&this.startObserver()}unmount(){}}function nse({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const ase={inView:{Feature:rse},tap:{Feature:Xie},focus:{Feature:Yie},hover:{Feature:Kie}},ise={layout:{ProjectionNode:g9,MeasureLayout:l9}},E3=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),xw=O.createContext({}),k3=typeof window<"u",v9=k3?O.useLayoutEffect:O.useEffect,x9=O.createContext({strict:!1});function sse(e,t,r,n,a){var i,o;const{visualElement:l}=O.useContext(xw),c=O.useContext(x9),u=O.useContext(vw),d=O.useContext(E3).reducedMotion,f=O.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=O.useContext(o9);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&ose(f.current,r,a,p);const v=O.useRef(!1);O.useInsertionEffect(()=>{h&&v.current&&h.update(r,u)});const m=r[WB],x=O.useRef(!!m&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return v9(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),C3.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),O.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),x.current=!1))}),h}function ose(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:y9(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Th(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function y9(e){if(e)return e.options.allowProjection!==!1?e.projection:y9(e.parent)}function lse(e,t,r){return O.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Th(r)&&(r.current=n))},[t])}function yw(e){return pw(e.animate)||s3.some(t=>$g(e[t]))}function b9(e){return!!(yw(e)||e.variants)}function cse(e,t){if(yw(e)){const{initial:r,animate:n}=e;return{initial:r===!1||$g(r)?r:void 0,animate:$g(n)?n:void 0}}return e.inherit!==!1?t:{}}function use(e){const{initial:t,animate:r}=cse(e,O.useContext(xw));return O.useMemo(()=>({initial:t,animate:r}),[u6(t),u6(r)])}function u6(e){return Array.isArray(e)?e.join(" "):e}const d6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},m0={};for(const e in d6)m0[e]={isEnabled:t=>d6[e].some(r=>!!t[r])};function dse(e){for(const t in e)m0[t]={...m0[t],...e[t]}}const fse=Symbol.for("motionComponentSymbol");function hse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&dse(e);function i(l,c){let u;const d={...O.useContext(E3),...l,layoutId:pse(l)},{isStatic:f}=d,h=use(l),p=n(l,f);if(!f&&k3){mse();const v=gse(d);u=v.MeasureLayout,h.visualElement=sse(a,p,d,t,v.ProjectionNode)}return s.jsxs(xw.Provider,{value:h,children:[u&&h.visualElement?s.jsx(u,{visualElement:h.visualElement,...d}):null,r(a,l,lse(p,h.visualElement,c),p,f,h.visualElement)]})}const o=O.forwardRef(i);return o[fse]=a,o}function pse({layoutId:e}){const t=O.useContext(T3).id;return t&&e!==void 0?t+"-"+e:e}function mse(e,t){O.useContext(x9).strict}function gse(e){const{drag:t,layout:r}=m0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const vse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P3(e){return typeof e!="string"||e.includes("-")?!1:!!(vse.indexOf(e)>-1||/[A-Z]/u.test(e))}function w9(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const _9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function j9(e,t,r,n){w9(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(_9.has(a)?a:N3(a),t.attrs[a])}function S9(e,{layout:t,layoutId:r}){return vf.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!x2[e]||e==="opacity")}function O3(e,t,r){var n;const{style:a}=e,i={};for(const o in a)(gi(a[o])||t.style&&gi(t.style[o])||S9(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function N9(e,t,r){const n=O3(e,t,r);for(const a in e)if(gi(e[a])||gi(t[a])){const i=Gv.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function F3(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}function xse({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,i){const o={latestValues:yse(n,a,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const A9=e=>(t,r)=>{const n=O.useContext(xw),a=O.useContext(vw),i=()=>xse(e,t,n,a);return r?i():F3(i)};function yse(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=My(i[h]);let{initial:o,animate:l}=e;const c=yw(e),u=b9(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!pw(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=a3(e,h[p]);if(v){const{transitionEnd:m,transition:x,...g}=v;for(const y in g){let b=g[y];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(a[y]=b)}for(const y in m)a[y]=m[y]}}}return a}const D3=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),T9=()=>({...D3(),attrs:{}}),C9=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wse=Gv.length;function _se(e,t,r){let n="",a=!0;for(let i=0;i<wse;i++){const o=Gv[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=C9(l,p3[o]);if(!c){a=!1;const d=bse[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function L3(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(vf.has(c)){o=!0;continue}else if(bB(c)){a[c]=u;continue}else{const d=C9(u,p3[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=_se(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}function f6(e,t,r){return typeof e=="string"?e:Yt.transform(t+r*e)}function jse(e,t,r){const n=f6(t,e.x,e.width),a=f6(r,e.y,e.height);return`${n} ${a}`}const Sse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nse={offset:"strokeDashoffset",array:"strokeDasharray"};function Ase(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Sse:Nse;e[i.offset]=Yt.transform(-n);const o=Yt.transform(t),l=Yt.transform(r);e[i.array]=`${o} ${l}`}function I3(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(L3(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:v}=e;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=jse(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&Ase(h,o,l,c,!1)}const M3=e=>typeof e=="string"&&e.toLowerCase()==="svg",Tse={useVisualState:A9({scrapeMotionValuesFromProps:N9,createRenderState:T9,onMount:(e,t,{renderState:r,latestValues:n})=>{Sn.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Sn.render(()=>{I3(r,n,M3(t.tagName),e.transformTemplate),j9(t,r)})}})},Cse={useVisualState:A9({scrapeMotionValuesFromProps:O3,createRenderState:D3})};function E9(e,t,r){for(const n in t)!gi(t[n])&&!S9(n,r)&&(e[n]=t[n])}function Ese({transformTemplate:e},t){return O.useMemo(()=>{const r=D3();return L3(r,t,e),Object.assign({},r.vars,r.style)},[t])}function kse(e,t){const r=e.style||{},n={};return E9(n,r,e),Object.assign(n,Ese(e,t)),n}function Pse(e,t){const r={},n=kse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Ose=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function y2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ose.has(e)}let k9=e=>!y2(e);function Fse(e){e&&(k9=t=>t.startsWith("on")?!y2(t):e(t))}try{Fse(require("@emotion/is-prop-valid").default)}catch{}function Dse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(k9(a)||r===!0&&y2(a)||!t&&!y2(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Lse(e,t,r,n){const a=O.useMemo(()=>{const i=T9();return I3(i,t,M3(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};E9(i,e.style,e),a.style={...i,...a.style}}return a}function Ise(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(P3(r)?Lse:Pse)(n,i,o,r),u=Dse(n,typeof r=="string",e),d=r!==O.Fragment?{...u,...c,ref:a}:{},{children:f}=n,h=O.useMemo(()=>gi(f)?f.get():f,[f]);return O.createElement(r,{...d,children:h})}}function Mse(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...P3(n)?Tse:Cse,preloadedFeatures:e,useRender:Ise(a),createVisualElement:t,Component:n};return hse(o)}}const $N={current:null},P9={current:!1};function Rse(){if(P9.current=!0,!!k3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$N.current=e.matches;e.addListener(t),t()}else $N.current=!1}function $se(e,t,r){for(const n in t){const a=t[n],i=r[n];if(gi(a))e.addValue(n,a);else if(gi(i))e.addValue(n,zg(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,zg(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const h6=new WeakMap,Bse=[...jB,li,Du],Use=e=>Bse.find(_B(e)),p6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zse{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=d3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=yl.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Sn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=yw(r),this.isVariantNode=b9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];c[h]!==void 0&&gi(p)&&p.set(c[h],!1)}}mount(t){this.current=t,h6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),P9.current||Rse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$N.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){h6.delete(this.current),this.projection&&this.projection.unmount(),Fu(this.notifyUpdate),Fu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=vf.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Sn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in m0){const r=m0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<p6.length;n++){const a=p6[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=$se(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=zg(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(xB(a)||vB(a))?a=parseFloat(a):!Use(a)&&Du.test(r)&&(a=PB(t,r)),this.setBaseTarget(t,gi(a)?a.get():a)),gi(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=a3(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!gi(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new S3),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class O9 extends zse{constructor(){super(...arguments),this.KeyframeResolver=OB}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Vse(e){return window.getComputedStyle(e)}class Hse extends O9{constructor(){super(...arguments),this.type="html",this.renderInstance=w9}readValueFromInstance(t,r){if(vf.has(r)){const n=m3(r);return n&&n.default||0}else{const n=Vse(t),a=(bB(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return i9(t,r)}build(t,r,n){L3(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return O3(t,r,n)}}class Wse extends O9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(vf.has(r)){const n=m3(r);return n&&n.default||0}return r=_9.has(r)?r:N3(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return N9(t,r,n)}build(t,r,n){I3(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){j9(t,r,n,a)}mount(t){this.isSVGTag=M3(t.tagName),super.mount(t)}}const qse=(e,t)=>P3(e)?new Wse(t):new Hse(t,{allowProjection:e!==O.Fragment}),Gse=Mse({...Eae,...ase,...Gie,...ise},qse),BN=Are(Gse);class Kse extends O.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Yse({children:e,isPresent:t}){const r=O.useId(),n=O.useRef(null),a=O.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=O.useContext(E3);return O.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=a.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),s.jsx(Kse,{isPresent:t,childRef:n,sizeRef:a,children:O.cloneElement(e,{ref:n})})}const Xse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=F3(Jse),c=O.useId(),u=O.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),d=O.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),u]:[r,u]);return O.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),O.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(Yse,{isPresent:r,children:e})),s.jsx(vw.Provider,{value:d,children:e})};function Jse(){return new Map}const D1=e=>e.key||"";function m6(e){const t=[];return O.Children.forEach(e,r=>{O.isValidElement(r)&&t.push(r)}),t}const g6=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=O.useMemo(()=>m6(e),[e]),c=l.map(D1),u=O.useRef(!0),d=O.useRef(l),f=F3(()=>new Map),[h,p]=O.useState(l),[v,m]=O.useState(l);v9(()=>{u.current=!1,d.current=l;for(let y=0;y<v.length;y++){const b=D1(v[y]);c.includes(b)?f.delete(b):f.get(b)!==!0&&f.set(b,!1)}},[v,c.length,c.join("-")]);const x=[];if(l!==h){let y=[...l];for(let b=0;b<v.length;b++){const j=v[b],_=D1(j);c.includes(_)||(y.splice(b,0,j),x.push(j))}o==="wait"&&x.length&&(y=x),m(m6(y)),p(l);return}const{forceRender:g}=O.useContext(T3);return s.jsx(s.Fragment,{children:v.map(y=>{const b=D1(y),j=l===v||c.includes(b),_=()=>{if(f.has(b))f.set(b,!0);else return;let N=!0;f.forEach(S=>{S||(N=!1)}),N&&(g==null||g(),m(d.current),a&&a())};return s.jsx(Xse,{isPresent:j,initial:!u.current||n?void 0:!1,custom:j?void 0:r,presenceAffectsLayout:i,mode:o,onExitComplete:j?void 0:_,children:y},b)})})},Qse=QT("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=Ne.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Zd:"button";return s.jsx(o,{className:yr(Qse({variant:t,size:r,className:e})),ref:i,...a})});Se.displayName="Button";var Zse=fY["useId".toString()]||(()=>{}),eoe=0;function Au(e){const[t,r]=O.useState(Zse());return bi(()=>{e||r(n=>n??String(eoe++))},[e]),e||(t?`radix-${t}`:"")}var rj="focusScope.autoFocusOnMount",nj="focusScope.autoFocusOnUnmount",v6={bubbles:!1,cancelable:!0},toe="FocusScope",R3=O.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=O.useState(null),u=ns(a),d=ns(i),f=O.useRef(null),h=kn(t,m=>c(m)),p=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:tu(f.current,{select:!0})},x=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||tu(f.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&tu(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(g);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,p.paused]),O.useEffect(()=>{if(l){y6.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(rj,v6);l.addEventListener(rj,u),l.dispatchEvent(g),g.defaultPrevented||(roe(ooe(F9(l)),{select:!0}),document.activeElement===m&&tu(l))}return()=>{l.removeEventListener(rj,u),setTimeout(()=>{const g=new CustomEvent(nj,v6);l.addEventListener(nj,d),l.dispatchEvent(g),g.defaultPrevented||tu(m??document.body,{select:!0}),l.removeEventListener(nj,d),y6.remove(p)},0)}}},[l,u,d,p]);const v=O.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(x&&g){const y=m.currentTarget,[b,j]=noe(y);b&&j?!m.shiftKey&&g===j?(m.preventDefault(),r&&tu(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),r&&tu(j,{select:!0})):g===y&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(_r.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});R3.displayName=toe;function roe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(tu(n,{select:t}),document.activeElement!==r)return}function noe(e){const t=F9(e),r=x6(t,e),n=x6(t.reverse(),e);return[r,n]}function F9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function x6(e,t){for(const r of e)if(!aoe(r,{upTo:t}))return r}function aoe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ioe(e){return e instanceof HTMLInputElement&&"select"in e}function tu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ioe(e)&&t&&e.select()}}var y6=soe();function soe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=b6(e,t),e.unshift(t)},remove(t){var r;e=b6(e,t),(r=e[0])==null||r.resume()}}}function b6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ooe(e){return e.filter(t=>t.tagName!=="A")}var aj=0;function D9(){O.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??w6()),document.body.insertAdjacentElement("beforeend",e[1]??w6()),aj++,()=>{aj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aj--}},[])}function w6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var hl=function(){return hl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},hl.apply(this,arguments)};function L9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function loe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Ry="right-scroll-bar-position",$y="width-before-scroll-bar",coe="with-scroll-bars-hidden",uoe="--removed-body-scroll-bar-size";function ij(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function doe(e,t){var r=O.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var foe=typeof window<"u"?O.useLayoutEffect:O.useEffect,_6=new WeakMap;function hoe(e,t){var r=doe(t||null,function(n){return e.forEach(function(a){return ij(a,n)})});return foe(function(){var n=_6.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||ij(l,null)}),i.forEach(function(l){a.has(l)||ij(l,o)})}_6.set(r,e)},[e]),r}function poe(e){return e}function moe(e,t){t===void 0&&(t=poe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function goe(e){e===void 0&&(e={});var t=moe(null);return t.options=hl({async:!0,ssr:!1},e),t}var I9=function(e){var t=e.sideCar,r=L9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return O.createElement(n,hl({},r))};I9.isSideCarExport=!0;function voe(e,t){return e.useMedium(t),I9}var M9=goe(),sj=function(){},bw=O.forwardRef(function(e,t){var r=O.useRef(null),n=O.useState({onScrollCapture:sj,onWheelCapture:sj,onTouchMoveCapture:sj}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,m=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,y=e.gapMode,b=L9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=hoe([r,t]),N=hl(hl({},b),a);return O.createElement(O.Fragment,null,d&&O.createElement(j,{sideCar:M9,removeScrollBar:u,shards:f,noIsolation:p,inert:v,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?O.cloneElement(O.Children.only(l),hl(hl({},N),{ref:_})):O.createElement(g,hl({},N,{className:c,ref:_}),l))});bw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bw.classNames={fullWidth:$y,zeroRight:Ry};var j6,xoe=function(){if(j6)return j6;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yoe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=xoe();return t&&e.setAttribute("nonce",t),e}function boe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function woe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _oe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=yoe())&&(boe(t,r),woe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},joe=function(){var e=_oe();return function(t,r){O.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},R9=function(){var e=joe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Soe={left:0,top:0,right:0,gap:0},oj=function(e){return parseInt(e||"",10)||0},Noe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[oj(r),oj(n),oj(a)]},Aoe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Soe;var t=Noe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Toe=R9(),qh="data-scroll-locked",Coe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(coe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(qh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ry,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($y,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ry," .").concat(Ry,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat($y," .").concat($y,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(qh,`] {
    `).concat(uoe,": ").concat(l,`px;
  }
`)},S6=function(){var e=parseInt(document.body.getAttribute(qh)||"0",10);return isFinite(e)?e:0},Eoe=function(){O.useEffect(function(){return document.body.setAttribute(qh,(S6()+1).toString()),function(){var e=S6()-1;e<=0?document.body.removeAttribute(qh):document.body.setAttribute(qh,e.toString())}},[])},koe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Eoe();var i=O.useMemo(function(){return Aoe(a)},[a]);return O.createElement(Toe,{styles:Coe(i,!t,a,r?"":"!important")})},UN=!1;if(typeof window<"u")try{var L1=Object.defineProperty({},"passive",{get:function(){return UN=!0,!0}});window.addEventListener("test",L1,L1),window.removeEventListener("test",L1,L1)}catch{UN=!1}var eh=UN?{passive:!1}:!1,Poe=function(e){return e.tagName==="TEXTAREA"},$9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Poe(e)&&r[t]==="visible")},Ooe=function(e){return $9(e,"overflowY")},Foe=function(e){return $9(e,"overflowX")},N6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=B9(e,n);if(a){var i=U9(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Doe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Loe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},B9=function(e,t){return e==="v"?Ooe(t):Foe(t)},U9=function(e,t){return e==="v"?Doe(t):Loe(t)},Ioe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Moe=function(e,t,r,n,a){var i=Ioe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=U9(e,l),v=p[0],m=p[1],x=p[2],g=m-x-i*v;(v||g)&&B9(e,l)&&(f+=g,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(a&&Math.abs(f)<1||!a&&o>f)||!d&&(a&&Math.abs(h)<1||!a&&-o>h))&&(u=!0),u},I1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},A6=function(e){return[e.deltaX,e.deltaY]},T6=function(e){return e&&"current"in e?e.current:e},Roe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},$oe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Boe=0,th=[];function Uoe(e){var t=O.useRef([]),r=O.useRef([0,0]),n=O.useRef(),a=O.useState(Boe++)[0],i=O.useState(R9)[0],o=O.useRef(e);O.useEffect(function(){o.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=loe([e.lockRef.current],(e.shards||[]).map(T6),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=O.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=I1(m),y=r.current,b="deltaX"in m?m.deltaX:y[0]-g[0],j="deltaY"in m?m.deltaY:y[1]-g[1],_,N=m.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in m&&S==="h"&&N.type==="range")return!1;var A=N6(S,N);if(!A)return!0;if(A?_=S:(_=S==="v"?"h":"v",A=N6(S,N)),!A)return!1;if(!n.current&&"changedTouches"in m&&(b||j)&&(n.current=_),!_)return!0;var P=n.current||_;return Moe(P,x,m,P==="h"?b:j,!0)},[]),c=O.useCallback(function(m){var x=m;if(!(!th.length||th[th.length-1]!==i)){var g="deltaY"in x?A6(x):I1(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&Roe(_.delta,g)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(T6).filter(Boolean).filter(function(_){return _.contains(x.target)}),j=b.length>0?l(x,b[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=O.useCallback(function(m,x,g,y){var b={name:m,delta:x,target:g,should:y,shadowParent:zoe(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=O.useCallback(function(m){r.current=I1(m),n.current=void 0},[]),f=O.useCallback(function(m){u(m.type,A6(m),m.target,l(m,e.lockRef.current))},[]),h=O.useCallback(function(m){u(m.type,I1(m),m.target,l(m,e.lockRef.current))},[]);O.useEffect(function(){return th.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,eh),document.addEventListener("touchmove",c,eh),document.addEventListener("touchstart",d,eh),function(){th=th.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,eh),document.removeEventListener("touchmove",c,eh),document.removeEventListener("touchstart",d,eh)}},[]);var p=e.removeScrollBar,v=e.inert;return O.createElement(O.Fragment,null,v?O.createElement(i,{styles:$oe(a)}):null,p?O.createElement(koe,{gapMode:e.gapMode}):null)}function zoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Voe=voe(M9,Uoe);var z9=O.forwardRef(function(e,t){return O.createElement(bw,hl({},e,{ref:t,sideCar:Voe}))});z9.classNames=bw.classNames;const V9=z9;var Hoe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rh=new WeakMap,M1=new WeakMap,R1={},lj=0,H9=function(e){return e&&(e.host||H9(e.parentNode))},Woe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=H9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},qoe=function(e,t,r,n){var a=Woe(t,Array.isArray(e)?e:[e]);R1[r]||(R1[r]=new WeakMap);var i=R1[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(rh.get(h)||0)+1,x=(i.get(h)||0)+1;rh.set(h,m),i.set(h,x),o.push(h),m===1&&v&&M1.set(h,!0),x===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),l.clear(),lj++,function(){o.forEach(function(f){var h=rh.get(f)-1,p=i.get(f)-1;rh.set(f,h),i.set(f,p),h||(M1.has(f)||f.removeAttribute(n),M1.delete(f)),p||f.removeAttribute(r)}),lj--,lj||(rh=new WeakMap,rh=new WeakMap,M1=new WeakMap,R1={})}},W9=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||Hoe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),qoe(n,a,r,"aria-hidden")):function(){return null}},$3="Dialog",[q9,i9e]=gf($3),[Goe,Yo]=q9($3),G9=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=O.useRef(null),c=O.useRef(null),[u=!1,d]=c0({prop:n,defaultProp:a,onChange:i});return s.jsx(Goe,{scope:t,triggerRef:l,contentRef:c,contentId:Au(),titleId:Au(),descriptionId:Au(),open:u,onOpenChange:d,onOpenToggle:O.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};G9.displayName=$3;var K9="DialogTrigger",Koe=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(K9,r),i=kn(t,a.triggerRef);return s.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":z3(a.open),...n,ref:i,onClick:lr(e.onClick,a.onOpenToggle)})});Koe.displayName=K9;var B3="DialogPortal",[Yoe,Y9]=q9(B3,{forceMount:void 0}),X9=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Yo(B3,t);return s.jsx(Yoe,{scope:t,forceMount:r,children:O.Children.map(n,o=>s.jsx(K0,{present:r||i.open,children:s.jsx(cw,{asChild:!0,container:a,children:o})}))})};X9.displayName=B3;var b2="DialogOverlay",J9=O.forwardRef((e,t)=>{const r=Y9(b2,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Yo(b2,e.__scopeDialog);return i.modal?s.jsx(K0,{present:n||i.open,children:s.jsx(Xoe,{...a,ref:t})}):null});J9.displayName=b2;var Xoe=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(b2,r);return s.jsx(V9,{as:Zd,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(_r.div,{"data-state":z3(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),tf="DialogContent",Q9=O.forwardRef((e,t)=>{const r=Y9(tf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Yo(tf,e.__scopeDialog);return s.jsx(K0,{present:n||i.open,children:i.modal?s.jsx(Joe,{...a,ref:t}):s.jsx(Qoe,{...a,ref:t})})});Q9.displayName=tf;var Joe=O.forwardRef((e,t)=>{const r=Yo(tf,e.__scopeDialog),n=O.useRef(null),a=kn(t,r.contentRef,n);return O.useEffect(()=>{const i=n.current;if(i)return W9(i)},[]),s.jsx(Z9,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lr(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:lr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:lr(e.onFocusOutside,i=>i.preventDefault())})}),Qoe=O.forwardRef((e,t)=>{const r=Yo(tf,e.__scopeDialog),n=O.useRef(!1),a=O.useRef(!1);return s.jsx(Z9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Z9=O.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Yo(tf,r),c=O.useRef(null),u=kn(t,c);return D9(),s.jsxs(s.Fragment,{children:[s.jsx(R3,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(lw,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":z3(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Zoe,{titleId:l.titleId}),s.jsx(tle,{contentRef:c,descriptionId:l.descriptionId})]})]})}),U3="DialogTitle",eU=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(U3,r);return s.jsx(_r.h2,{id:a.titleId,...n,ref:t})});eU.displayName=U3;var tU="DialogDescription",rU=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(tU,r);return s.jsx(_r.p,{id:a.descriptionId,...n,ref:t})});rU.displayName=tU;var nU="DialogClose",aU=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Yo(nU,r);return s.jsx(_r.button,{type:"button",...n,ref:t,onClick:lr(e.onClick,()=>a.onOpenChange(!1))})});aU.displayName=nU;function z3(e){return e?"open":"closed"}var iU="DialogTitleWarning",[s9e,sU]=ste(iU,{contentName:tf,titleName:U3,docsSlug:"dialog"}),Zoe=({titleId:e})=>{const t=sU(iU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return O.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ele="DialogDescriptionWarning",tle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sU(ele).contentName}}.`;return O.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},rle=G9,nle=X9,oU=J9,lU=Q9,cU=eU,uU=rU,ale=aU;const pr=rle,ile=nle,dU=Ne.forwardRef(({className:e,...t},r)=>s.jsx(oU,{ref:r,className:yr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dU.displayName=oU.displayName;const dr=Ne.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(ile,{children:[s.jsx(dU,{}),s.jsxs(lU,{ref:n,className:yr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(ale,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500",children:[s.jsx(Y0,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dr.displayName=lU.displayName;const mr=({className:e,...t})=>s.jsx("div",{className:yr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});mr.displayName="DialogHeader";const Dr=({className:e,...t})=>s.jsx("div",{className:yr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dr.displayName="DialogFooter";const gr=Ne.forwardRef(({className:e,...t},r)=>s.jsx(cU,{ref:r,className:yr("text-lg font-semibold leading-none tracking-tight",e),...t}));gr.displayName=cU.displayName;const J0=Ne.forwardRef(({className:e,...t},r)=>s.jsx(uU,{ref:r,className:yr("text-sm text-slate-500",e),...t}));J0.displayName=uU.displayName;var sle="Label",fU=O.forwardRef((e,t)=>s.jsx(_r.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));fU.displayName=sle;var hU=fU;const be=Ne.forwardRef(({className:e,...t},r)=>s.jsx(hU,{ref:r,className:yr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));be.displayName=hU.displayName;function C6(e,[t,r]){return Math.min(r,Math.max(t,e))}var ole=O.createContext(void 0);function V3(e){const t=O.useContext(ole);return e||t||"ltr"}const lle=["top","right","bottom","left"],Lu=Math.min,vs=Math.max,w2=Math.round,$1=Math.floor,bl=e=>({x:e,y:e}),cle={left:"right",right:"left",bottom:"top",top:"bottom"},ule={start:"end",end:"start"};function zN(e,t,r){return vs(e,Lu(t,r))}function bc(e,t){return typeof e=="function"?e(t):e}function wc(e){return e.split("-")[0]}function Q0(e){return e.split("-")[1]}function H3(e){return e==="x"?"y":"x"}function W3(e){return e==="y"?"height":"width"}function Iu(e){return["top","bottom"].includes(wc(e))?"y":"x"}function q3(e){return H3(Iu(e))}function dle(e,t,r){r===void 0&&(r=!1);const n=Q0(e),a=q3(e),i=W3(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=_2(o)),[o,_2(o)]}function fle(e){const t=_2(e);return[VN(e),t,VN(t)]}function VN(e){return e.replace(/start|end/g,t=>ule[t])}function hle(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function ple(e,t,r,n){const a=Q0(e);let i=hle(wc(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(VN)))),i}function _2(e){return e.replace(/left|right|bottom|top/g,t=>cle[t])}function mle(e){return{top:0,right:0,bottom:0,left:0,...e}}function pU(e){return typeof e!="number"?mle(e):{top:e,right:e,bottom:e,left:e}}function j2(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function E6(e,t,r){let{reference:n,floating:a}=e;const i=Iu(t),o=q3(t),l=W3(o),c=wc(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Q0(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const gle=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=E6(u,n,c),h=n,p={},v=0;for(let m=0;m<l.length;m++){const{name:x,fn:g}=l[m],{x:y,y:b,data:j,reset:_}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=b??f,p={...p,[x]:{...p[x],...j}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=E6(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function Hg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=bc(t,e),v=pU(p),x=l[h?f==="floating"?"reference":"floating":f],g=j2(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=j2(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(g.top-_.top+v.top)/j.y,bottom:(_.bottom-g.bottom+v.bottom)/j.y,left:(g.left-_.left+v.left)/j.x,right:(_.right-g.right+v.right)/j.x}}const vle=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=bc(e,t)||{};if(u==null)return{};const f=pU(d),h={x:r,y:n},p=q3(a),v=W3(p),m=await o.getDimensions(u),x=p==="y",g=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",j=i.reference[v]+i.reference[p]-h[p]-i.floating[v],_=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[b]||i.floating[v]);const A=j/2-_/2,P=S/2-m[v]/2-1,W=Lu(f[g],P),C=Lu(f[y],P),k=W,z=S-m[v]-C,I=S/2-m[v]/2+A,R=zN(k,I,z),V=!c.arrow&&Q0(a)!=null&&I!==R&&i.reference[v]/2-(I<k?W:C)-m[v]/2<0,L=V?I<k?I-k:I-z:0;return{[p]:h[p]+L,data:{[p]:R,centerOffset:I-R-L,...V&&{alignmentOffset:L}},reset:V}}}),xle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...x}=bc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=wc(a),y=Iu(l),b=wc(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!m?[_2(l)]:fle(l)),N=v!=="none";!h&&N&&_.push(...ple(l,m,v,j));const S=[l,..._],A=await Hg(t,x),P=[];let W=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&P.push(A[g]),f){const I=dle(a,o,j);P.push(A[I[0]],A[I[1]])}if(W=[...W,{placement:a,overflows:P}],!P.every(I=>I<=0)){var C,k;const I=(((C=i.flip)==null?void 0:C.index)||0)+1,R=S[I];if(R)return{data:{index:I,overflows:W},reset:{placement:R}};let V=(k=W.filter(L=>L.overflows[0]<=0).sort((L,M)=>L.overflows[1]-M.overflows[1])[0])==null?void 0:k.placement;if(!V)switch(p){case"bestFit":{var z;const L=(z=W.filter(M=>{if(N){const F=Iu(M.placement);return F===y||F==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(F=>F>0).reduce((F,U)=>F+U,0)]).sort((M,F)=>M[1]-F[1])[0])==null?void 0:z[0];L&&(V=L);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function k6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function P6(e){return lle.some(t=>e[t]>=0)}const yle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=bc(e,t);switch(n){case"referenceHidden":{const i=await Hg(t,{...a,elementContext:"reference"}),o=k6(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:P6(o)}}}case"escaped":{const i=await Hg(t,{...a,altBoundary:!0}),o=k6(i,r.floating);return{data:{escapedOffsets:o,escaped:P6(o)}}}default:return{}}}}};async function ble(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=wc(r),l=Q0(r),c=Iu(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=bc(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const wle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await ble(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},_le=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:g,y}=x;return{x:g,y}}},...c}=bc(e,t),u={x:r,y:n},d=await Hg(t,c),f=Iu(wc(a)),h=H3(f);let p=u[h],v=u[f];if(i){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=p+d[x],b=p-d[g];p=zN(y,p,b)}if(o){const x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=v+d[x],b=v-d[g];v=zN(y,v,b)}const m=l.fn({...t,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},jle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=bc(e,t),d={x:r,y:n},f=Iu(a),h=H3(f);let p=d[h],v=d[f];const m=bc(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+x.mainAxis,_=i.reference[h]+i.reference[b]-x.mainAxis;p<j?p=j:p>_&&(p=_)}if(u){var g,y;const b=h==="y"?"width":"height",j=["top","left"].includes(wc(a)),_=i.reference[f]-i.floating[b]+(j&&((g=o.offset)==null?void 0:g[f])||0)+(j?0:x.crossAxis),N=i.reference[f]+i.reference[b]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?x.crossAxis:0);v<_?v=_:v>N&&(v=N)}return{[h]:p,[f]:v}}}},Sle=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=bc(e,t),d=await Hg(t,u),f=wc(a),h=Q0(a),p=Iu(a)==="y",{width:v,height:m}=i.floating;let x,g;f==="top"||f==="bottom"?(x=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,x=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=v-d.left-d.right,j=Lu(m-d[x],y),_=Lu(v-d[g],b),N=!t.middlewareData.shift;let S=j,A=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),N&&!h){const W=vs(d.left,0),C=vs(d.right,0),k=vs(d.top,0),z=vs(d.bottom,0);p?A=v-2*(W!==0||C!==0?W+C:vs(d.left,d.right)):S=m-2*(k!==0||z!==0?k+z:vs(d.top,d.bottom))}await c({...t,availableWidth:A,availableHeight:S});const P=await o.getDimensions(l.floating);return v!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function ww(){return typeof window<"u"}function Z0(e){return mU(e)?(e.nodeName||"").toLowerCase():"#document"}function As(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tl(e){var t;return(t=(mU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mU(e){return ww()?e instanceof Node||e instanceof As(e).Node:!1}function qo(e){return ww()?e instanceof Element||e instanceof As(e).Element:!1}function Sl(e){return ww()?e instanceof HTMLElement||e instanceof As(e).HTMLElement:!1}function O6(e){return!ww()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof As(e).ShadowRoot}function Qv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Go(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function Nle(e){return["table","td","th"].includes(Z0(e))}function _w(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function G3(e){const t=K3(),r=qo(e)?Go(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Ale(e){let t=Mu(e);for(;Sl(t)&&!g0(t);){if(G3(t))return t;if(_w(t))return null;t=Mu(t)}return null}function K3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function g0(e){return["html","body","#document"].includes(Z0(e))}function Go(e){return As(e).getComputedStyle(e)}function jw(e){return qo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mu(e){if(Z0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||O6(e)&&e.host||Tl(e);return O6(t)?t.host:t}function gU(e){const t=Mu(e);return g0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sl(t)&&Qv(t)?t:gU(t)}function Wg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=gU(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=As(a);if(i){const l=HN(o);return t.concat(o,o.visualViewport||[],Qv(a)?a:[],l&&r?Wg(l):[])}return t.concat(a,Wg(a,[],r))}function HN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vU(e){const t=Go(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Sl(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=w2(r)!==i||w2(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Y3(e){return qo(e)?e:e.contextElement}function Gh(e){const t=Y3(e);if(!Sl(t))return bl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=vU(t);let o=(i?w2(r.width):r.width)/n,l=(i?w2(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Tle=bl(0);function xU(e){const t=As(e);return!K3()||!t.visualViewport?Tle:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Cle(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==As(e)?!1:t}function rf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Y3(e);let o=bl(1);t&&(n?qo(n)&&(o=Gh(n)):o=Gh(e));const l=Cle(i,r,n)?xU(i):bl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=As(i),p=n&&qo(n)?As(n):n;let v=h,m=HN(v);for(;m&&n&&p!==v;){const x=Gh(m),g=m.getBoundingClientRect(),y=Go(m),b=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,j=g.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=j,v=As(m),m=HN(v)}}return j2({width:d,height:f,x:c,y:u})}function X3(e,t){const r=jw(e).scrollLeft;return t?t.left+r:rf(Tl(e)).left+r}function yU(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:X3(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Ele(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Tl(n),l=t?_w(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=bl(1);const d=bl(0),f=Sl(n);if((f||!f&&!i)&&((Z0(n)!=="body"||Qv(o))&&(c=jw(n)),Sl(n))){const p=rf(n);u=Gh(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?yU(o,c,!0):bl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function kle(e){return Array.from(e.getClientRects())}function Ple(e){const t=Tl(e),r=jw(e),n=e.ownerDocument.body,a=vs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=vs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+X3(e);const l=-r.scrollTop;return Go(n).direction==="rtl"&&(o+=vs(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Ole(e,t){const r=As(e),n=Tl(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=K3();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Fle(e,t){const r=rf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Sl(e)?Gh(e):bl(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function F6(e,t,r){let n;if(t==="viewport")n=Ole(e,r);else if(t==="document")n=Ple(Tl(e));else if(qo(t))n=Fle(t,r);else{const a=xU(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return j2(n)}function bU(e,t){const r=Mu(e);return r===t||!qo(r)||g0(r)?!1:Go(r).position==="fixed"||bU(r,t)}function Dle(e,t){const r=t.get(e);if(r)return r;let n=Wg(e,[],!1).filter(l=>qo(l)&&Z0(l)!=="body"),a=null;const i=Go(e).position==="fixed";let o=i?Mu(e):e;for(;qo(o)&&!g0(o);){const l=Go(o),c=G3(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Qv(o)&&!c&&bU(e,o))?n=n.filter(d=>d!==o):a=l,o=Mu(o)}return t.set(e,n),n}function Lle(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?_w(t)?[]:Dle(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=F6(t,d,a);return u.top=vs(f.top,u.top),u.right=Lu(f.right,u.right),u.bottom=Lu(f.bottom,u.bottom),u.left=vs(f.left,u.left),u},F6(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ile(e){const{width:t,height:r}=vU(e);return{width:t,height:r}}function Mle(e,t,r){const n=Sl(t),a=Tl(t),i=r==="fixed",o=rf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=bl(0);if(n||!n&&!i)if((Z0(t)!=="body"||Qv(a))&&(l=jw(t)),n){const h=rf(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=X3(a));const u=a&&!n&&!i?yU(a,l):bl(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function cj(e){return Go(e).position==="static"}function D6(e,t){if(!Sl(e)||Go(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Tl(e)===r&&(r=r.ownerDocument.body),r}function wU(e,t){const r=As(e);if(_w(e))return r;if(!Sl(e)){let a=Mu(e);for(;a&&!g0(a);){if(qo(a)&&!cj(a))return a;a=Mu(a)}return r}let n=D6(e,t);for(;n&&Nle(n)&&cj(n);)n=D6(n,t);return n&&g0(n)&&cj(n)&&!G3(n)?r:n||Ale(e)||r}const Rle=async function(e){const t=this.getOffsetParent||wU,r=this.getDimensions,n=await r(e.floating);return{reference:Mle(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $le(e){return Go(e).direction==="rtl"}const Ble={convertOffsetParentRelativeRectToViewportRelativeRect:Ele,getDocumentElement:Tl,getClippingRect:Lle,getOffsetParent:wU,getElementRects:Rle,getClientRects:kle,getDimensions:Ile,getScale:Gh,isElement:qo,isRTL:$le};function Ule(e,t){let r=null,n;const a=Tl(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const p=$1(d),v=$1(a.clientWidth-(u+f)),m=$1(a.clientHeight-(d+h)),x=$1(u),y={rootMargin:-p+"px "+-v+"px "+-m+"px "+-x+"px",threshold:vs(0,Lu(1,c))||1};let b=!0;function j(_){const N=_[0].intersectionRatio;if(N!==c){if(!b)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,y)}r.observe(e)}return o(!0),i}function zle(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Y3(e),d=a||i?[...u?Wg(u):[],...Wg(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?Ule(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let v,m=c?rf(e):null;c&&x();function x(){const g=rf(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&r(),m=g,v=requestAnimationFrame(x)}return r(),()=>{var g;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const Vle=wle,Hle=_le,Wle=xle,qle=Sle,Gle=yle,L6=vle,Kle=jle,Yle=(e,t,r)=>{const n=new Map,a={platform:Ble,...r},i={...a.platform,_c:n};return gle(e,t,{...a,platform:i})};var By=typeof document<"u"?O.useLayoutEffect:O.useEffect;function S2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!S2(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!S2(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function _U(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function I6(e,t){const r=_U(e);return Math.round(t*r)/r}function uj(e){const t=O.useRef(e);return By(()=>{t.current=e}),t}function Xle(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=O.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=O.useState(n);S2(h,n)||p(n);const[v,m]=O.useState(null),[x,g]=O.useState(null),y=O.useCallback(M=>{M!==N.current&&(N.current=M,m(M))},[]),b=O.useCallback(M=>{M!==S.current&&(S.current=M,g(M))},[]),j=i||v,_=o||x,N=O.useRef(null),S=O.useRef(null),A=O.useRef(d),P=c!=null,W=uj(c),C=uj(a),k=uj(u),z=O.useCallback(()=>{if(!N.current||!S.current)return;const M={placement:t,strategy:r,middleware:h};C.current&&(M.platform=C.current),Yle(N.current,S.current,M).then(F=>{const U={...F,isPositioned:k.current!==!1};I.current&&!S2(A.current,U)&&(A.current=U,pf.flushSync(()=>{f(U)}))})},[h,t,r,C,k]);By(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const I=O.useRef(!1);By(()=>(I.current=!0,()=>{I.current=!1}),[]),By(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(W.current)return W.current(j,_,z);z()}},[j,_,z,W,P]);const R=O.useMemo(()=>({reference:N,floating:S,setReference:y,setFloating:b}),[y,b]),V=O.useMemo(()=>({reference:j,floating:_}),[j,_]),L=O.useMemo(()=>{const M={position:r,left:0,top:0};if(!V.floating)return M;const F=I6(V.floating,d.x),U=I6(V.floating,d.y);return l?{...M,transform:"translate("+F+"px, "+U+"px)",..._U(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:U}},[r,l,V.floating,d.x,d.y]);return O.useMemo(()=>({...d,update:z,refs:R,elements:V,floatingStyles:L}),[d,z,R,V,L])}const Jle=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?L6({element:n.current,padding:a}).fn(r):{}:n?L6({element:n,padding:a}).fn(r):{}}}},Qle=(e,t)=>({...Vle(e),options:[e,t]}),Zle=(e,t)=>({...Hle(e),options:[e,t]}),ece=(e,t)=>({...Kle(e),options:[e,t]}),tce=(e,t)=>({...Wle(e),options:[e,t]}),rce=(e,t)=>({...qle(e),options:[e,t]}),nce=(e,t)=>({...Gle(e),options:[e,t]}),ace=(e,t)=>({...Jle(e),options:[e,t]});var ice="Arrow",jU=O.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(_r.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});jU.displayName=ice;var sce=jU;function oce(e){const[t,r]=O.useState(void 0);return bi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var J3="Popper",[SU,NU]=gf(J3),[lce,AU]=SU(J3),TU=e=>{const{__scopePopper:t,children:r}=e,[n,a]=O.useState(null);return s.jsx(lce,{scope:t,anchor:n,onAnchorChange:a,children:r})};TU.displayName=J3;var CU="PopperAnchor",EU=O.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=AU(CU,r),o=O.useRef(null),l=kn(t,o);return O.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(_r.div,{...a,ref:l})});EU.displayName=CU;var Q3="PopperContent",[cce,uce]=SU(Q3),kU=O.forwardRef((e,t)=>{var ee,se,J,ce,pe,Q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=e,x=AU(Q3,r),[g,y]=O.useState(null),b=kn(t,Oe=>y(Oe)),[j,_]=O.useState(null),N=oce(j),S=(N==null?void 0:N.width)??0,A=(N==null?void 0:N.height)??0,P=n+(i!=="center"?"-"+i:""),W=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],k=C.length>0,z={padding:W,boundary:C.filter(fce),altBoundary:k},{refs:I,floatingStyles:R,placement:V,isPositioned:L,middlewareData:M}=Xle({strategy:"fixed",placement:P,whileElementsMounted:(...Oe)=>zle(...Oe,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[Qle({mainAxis:a+A,alignmentAxis:o}),c&&Zle({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ece():void 0,...z}),c&&tce({...z}),rce({...z,apply:({elements:Oe,rects:$e,availableWidth:Ae,availableHeight:Z})=>{const{width:ke,height:Ge}=$e.reference,Le=Oe.floating.style;Le.setProperty("--radix-popper-available-width",`${Ae}px`),Le.setProperty("--radix-popper-available-height",`${Z}px`),Le.setProperty("--radix-popper-anchor-width",`${ke}px`),Le.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),j&&ace({element:j,padding:l}),hce({arrowWidth:S,arrowHeight:A}),h&&nce({strategy:"referenceHidden",...z})]}),[F,U]=FU(V),X=ns(v);bi(()=>{L&&(X==null||X())},[L,X]);const E=(ee=M.arrow)==null?void 0:ee.x,H=(se=M.arrow)==null?void 0:se.y,G=((J=M.arrow)==null?void 0:J.centerOffset)!==0,[q,K]=O.useState();return bi(()=>{g&&K(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:L?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(ce=M.transformOrigin)==null?void 0:ce.x,(pe=M.transformOrigin)==null?void 0:pe.y].join(" "),...((Q=M.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(cce,{scope:r,placedSide:F,onArrowChange:_,arrowX:E,arrowY:H,shouldHideArrow:G,children:s.jsx(_r.div,{"data-side":F,"data-align":U,...m,ref:b,style:{...m.style,animation:L?void 0:"none"}})})})});kU.displayName=Q3;var PU="PopperArrow",dce={top:"bottom",right:"left",bottom:"top",left:"right"},OU=O.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=uce(PU,n),o=dce[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(sce,{...a,ref:r,style:{...a.style,display:"block"}})})});OU.displayName=PU;function fce(e){return e!==null}var hce=e=>({name:"transformOrigin",options:e,fn(t){var x,g,y;const{placement:r,rects:n,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=FU(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=o?f:`${h}px`,m=`${-c}px`):u==="top"?(v=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:v,y:m}}}});function FU(e){const[t,r="center"]=e.split("-");return[t,r]}var pce=TU,mce=EU,gce=kU,vce=OU;function xce(e){const t=O.useRef({value:e,previous:e});return O.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yce=[" ","Enter","ArrowUp","ArrowDown"],bce=[" ","Enter"],Zv="Select",[Sw,Nw,wce]=KT(Zv),[ep,o9e]=gf(Zv,[wce,NU]),Aw=NU(),[_ce,qu]=ep(Zv),[jce,Sce]=ep(Zv),DU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,m=Aw(t),[x,g]=O.useState(null),[y,b]=O.useState(null),[j,_]=O.useState(!1),N=V3(u),[S=!1,A]=c0({prop:n,defaultProp:a,onChange:i}),[P,W]=c0({prop:o,defaultProp:l,onChange:c}),C=O.useRef(null),k=x?v||!!x.closest("form"):!0,[z,I]=O.useState(new Set),R=Array.from(z).map(V=>V.props.value).join(";");return s.jsx(pce,{...m,children:s.jsxs(_ce,{required:p,scope:t,trigger:x,onTriggerChange:g,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:Au(),value:P,onValueChange:W,open:S,onOpenChange:A,dir:N,triggerPointerDownPosRef:C,disabled:h,children:[s.jsx(Sw.Provider,{scope:t,children:s.jsx(jce,{scope:e.__scopeSelect,onNativeOptionAdd:O.useCallback(V=>{I(L=>new Set(L).add(V))},[]),onNativeOptionRemove:O.useCallback(V=>{I(L=>{const M=new Set(L);return M.delete(V),M})},[]),children:r})}),k?s.jsxs(nz,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:V=>W(V.target.value),disabled:h,form:v,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(z)]},R):null]})})};DU.displayName=Zv;var LU="SelectTrigger",IU=O.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Aw(r),o=qu(LU,r),l=o.disabled||n,c=kn(t,o.onTriggerChange),u=Nw(r),d=O.useRef("touch"),[f,h,p]=az(m=>{const x=u().filter(b=>!b.disabled),g=x.find(b=>b.value===o.value),y=iz(x,m,g);y!==void 0&&o.onValueChange(y.value)}),v=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(mce,{asChild:!0,...i,children:s.jsx(_r.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":rz(o.value)?"":void 0,...a,ref:c,onClick:lr(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:lr(a.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:lr(a.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&yce.includes(m.key)&&(v(),m.preventDefault())})})})});IU.displayName=LU;var MU="SelectValue",RU=O.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=qu(MU,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=kn(t,c.onValueNodeChange);return bi(()=>{u(d)},[u,d]),s.jsx(_r.span,{...l,ref:f,style:{pointerEvents:"none"},children:rz(c.value)?s.jsx(s.Fragment,{children:o}):i})});RU.displayName=MU;var Nce="SelectIcon",$U=O.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(_r.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});$U.displayName=Nce;var Ace="SelectPortal",BU=e=>s.jsx(cw,{asChild:!0,...e});BU.displayName=Ace;var nf="SelectContent",UU=O.forwardRef((e,t)=>{const r=qu(nf,e.__scopeSelect),[n,a]=O.useState();if(bi(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?pf.createPortal(s.jsx(zU,{scope:e.__scopeSelect,children:s.jsx(Sw.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(VU,{...e,ref:t})});UU.displayName=nf;var Ao=10,[zU,Gu]=ep(nf),Tce="SelectContentImpl",VU=O.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:x,...g}=e,y=qu(nf,r),[b,j]=O.useState(null),[_,N]=O.useState(null),S=kn(t,ee=>j(ee)),[A,P]=O.useState(null),[W,C]=O.useState(null),k=Nw(r),[z,I]=O.useState(!1),R=O.useRef(!1);O.useEffect(()=>{if(b)return W9(b)},[b]),D9();const V=O.useCallback(ee=>{const[se,...J]=k().map(Q=>Q.ref.current),[ce]=J.slice(-1),pe=document.activeElement;for(const Q of ee)if(Q===pe||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===se&&_&&(_.scrollTop=0),Q===ce&&_&&(_.scrollTop=_.scrollHeight),Q==null||Q.focus(),document.activeElement!==pe))return},[k,_]),L=O.useCallback(()=>V([A,b]),[V,A,b]);O.useEffect(()=>{z&&L()},[z,L]);const{onOpenChange:M,triggerPointerDownPosRef:F}=y;O.useEffect(()=>{if(b){let ee={x:0,y:0};const se=ce=>{var pe,Q;ee={x:Math.abs(Math.round(ce.pageX)-(((pe=F.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((Q=F.current)==null?void 0:Q.y)??0))}},J=ce=>{ee.x<=10&&ee.y<=10?ce.preventDefault():b.contains(ce.target)||M(!1),document.removeEventListener("pointermove",se),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",J,{capture:!0})}}},[b,M,F]),O.useEffect(()=>{const ee=()=>M(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[M]);const[U,X]=az(ee=>{const se=k().filter(pe=>!pe.disabled),J=se.find(pe=>pe.ref.current===document.activeElement),ce=iz(se,ee,J);ce&&setTimeout(()=>ce.ref.current.focus())}),E=O.useCallback((ee,se,J)=>{const ce=!R.current&&!J;(y.value!==void 0&&y.value===se||ce)&&(P(ee),ce&&(R.current=!0))},[y.value]),H=O.useCallback(()=>b==null?void 0:b.focus(),[b]),G=O.useCallback((ee,se,J)=>{const ce=!R.current&&!J;(y.value!==void 0&&y.value===se||ce)&&C(ee)},[y.value]),q=n==="popper"?WN:HU,K=q===WN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:x}:{};return s.jsx(zU,{scope:r,content:b,viewport:_,onViewportChange:N,itemRefCallback:E,selectedItem:A,onItemLeave:H,itemTextRefCallback:G,focusSelectedItem:L,selectedItemText:W,position:n,isPositioned:z,searchRef:U,children:s.jsx(V9,{as:Zd,allowPinchZoom:!0,children:s.jsx(R3,{asChild:!0,trapped:y.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:lr(a,ee=>{var se;(se=y.trigger)==null||se.focus({preventScroll:!0}),ee.preventDefault()}),children:s.jsx(lw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(q,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ee=>ee.preventDefault(),...g,...K,onPlaced:()=>I(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:lr(g.onKeyDown,ee=>{const se=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!se&&ee.key.length===1&&X(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let ce=k().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const pe=ee.target,Q=ce.indexOf(pe);ce=ce.slice(Q+1)}setTimeout(()=>V(ce)),ee.preventDefault()}})})})})})})});VU.displayName=Tce;var Cce="SelectItemAlignedPosition",HU=O.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=qu(nf,r),o=Gu(nf,r),[l,c]=O.useState(null),[u,d]=O.useState(null),f=kn(t,S=>d(S)),h=Nw(r),p=O.useRef(!1),v=O.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:g,focusSelectedItem:y}=o,b=O.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&x&&g){const S=i.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),W=g.getBoundingClientRect();if(i.dir!=="rtl"){const pe=W.left-A.left,Q=P.left-pe,Oe=S.left-Q,$e=S.width+Oe,Ae=Math.max($e,A.width),Z=window.innerWidth-Ao,ke=C6(Q,[Ao,Math.max(Ao,Z-Ae)]);l.style.minWidth=$e+"px",l.style.left=ke+"px"}else{const pe=A.right-W.right,Q=window.innerWidth-P.right-pe,Oe=window.innerWidth-S.right-Q,$e=S.width+Oe,Ae=Math.max($e,A.width),Z=window.innerWidth-Ao,ke=C6(Q,[Ao,Math.max(Ao,Z-Ae)]);l.style.minWidth=$e+"px",l.style.right=ke+"px"}const C=h(),k=window.innerHeight-Ao*2,z=m.scrollHeight,I=window.getComputedStyle(u),R=parseInt(I.borderTopWidth,10),V=parseInt(I.paddingTop,10),L=parseInt(I.borderBottomWidth,10),M=parseInt(I.paddingBottom,10),F=R+V+z+M+L,U=Math.min(x.offsetHeight*5,F),X=window.getComputedStyle(m),E=parseInt(X.paddingTop,10),H=parseInt(X.paddingBottom,10),G=S.top+S.height/2-Ao,q=k-G,K=x.offsetHeight/2,ee=x.offsetTop+K,se=R+V+ee,J=F-se;if(se<=G){const pe=C.length>0&&x===C[C.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-m.offsetTop-m.offsetHeight,Oe=Math.max(q,K+(pe?H:0)+Q+L),$e=se+Oe;l.style.height=$e+"px"}else{const pe=C.length>0&&x===C[0].ref.current;l.style.top="0px";const Oe=Math.max(G,R+m.offsetTop+(pe?E:0)+K)+J;l.style.height=Oe+"px",m.scrollTop=se-G+m.offsetTop}l.style.margin=`${Ao}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,x,g,i.dir,n]);bi(()=>b(),[b]);const[j,_]=O.useState();bi(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=O.useCallback(S=>{S&&v.current===!0&&(b(),y==null||y(),v.current=!1)},[b,y]);return s.jsx(kce,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(_r.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});HU.displayName=Cce;var Ece="SelectPopperPosition",WN=O.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ao,...i}=e,o=Aw(r);return s.jsx(gce,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WN.displayName=Ece;var[kce,Z3]=ep(nf,{}),qN="SelectViewport",WU=O.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Gu(qN,r),o=Z3(qN,r),l=kn(t,i.onViewportChange),c=O.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Sw.Slot,{scope:r,children:s.jsx(_r.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:lr(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-Ao*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),g=Math.max(m,x);if(g<v){const y=g+p,b=Math.min(v,y),j=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});WU.displayName=qN;var qU="SelectGroup",[Pce,Oce]=ep(qU),Fce=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Au();return s.jsx(Pce,{scope:r,id:a,children:s.jsx(_r.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Fce.displayName=qU;var GU="SelectLabel",KU=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Oce(GU,r);return s.jsx(_r.div,{id:a.id,...n,ref:t})});KU.displayName=GU;var N2="SelectItem",[Dce,YU]=ep(N2),XU=O.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=qu(N2,r),c=Gu(N2,r),u=l.value===n,[d,f]=O.useState(i??""),[h,p]=O.useState(!1),v=kn(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,a)}),m=Au(),x=O.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Dce,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:O.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Sw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(_r.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:lr(o.onFocus,()=>p(!0)),onBlur:lr(o.onBlur,()=>p(!1)),onClick:lr(o.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:lr(o.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:lr(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:lr(o.onPointerMove,y=>{var b;x.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:lr(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:lr(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(bce.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});XU.displayName=N2;var Om="SelectItemText",JU=O.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=qu(Om,r),l=Gu(Om,r),c=YU(Om,r),u=Sce(Om,r),[d,f]=O.useState(null),h=kn(t,g=>f(g),c.onItemTextChange,g=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,g,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=O.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return bi(()=>(m(v),()=>x(v)),[m,x,v]),s.jsxs(s.Fragment,{children:[s.jsx(_r.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pf.createPortal(i.children,o.valueNode):null]})});JU.displayName=Om;var QU="SelectItemIndicator",ZU=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return YU(QU,r).isSelected?s.jsx(_r.span,{"aria-hidden":!0,...n,ref:t}):null});ZU.displayName=QU;var GN="SelectScrollUpButton",Lce=O.forwardRef((e,t)=>{const r=Gu(GN,e.__scopeSelect),n=Z3(GN,e.__scopeSelect),[a,i]=O.useState(!1),o=kn(t,n.onScrollButtonChange);return bi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(ez,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Lce.displayName=GN;var KN="SelectScrollDownButton",Ice=O.forwardRef((e,t)=>{const r=Gu(KN,e.__scopeSelect),n=Z3(KN,e.__scopeSelect),[a,i]=O.useState(!1),o=kn(t,n.onScrollButtonChange);return bi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(ez,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ice.displayName=KN;var ez=O.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Gu("SelectScrollButton",r),o=O.useRef(null),l=Nw(r),c=O.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return O.useEffect(()=>()=>c(),[c]),bi(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(_r.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:lr(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:lr(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:lr(a.onPointerLeave,()=>{c()})})}),Mce="SelectSeparator",tz=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(_r.div,{"aria-hidden":!0,...n,ref:t})});tz.displayName=Mce;var YN="SelectArrow",Rce=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Aw(r),i=qu(YN,r),o=Gu(YN,r);return i.open&&o.position==="popper"?s.jsx(vce,{...a,...n,ref:t}):null});Rce.displayName=YN;function rz(e){return e===""||e===void 0}var nz=O.forwardRef((e,t)=>{const{value:r,...n}=e,a=O.useRef(null),i=kn(t,a),o=xce(r);return O.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(uw,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});nz.displayName="BubbleSelect";function az(e){const t=ns(e),r=O.useRef(""),n=O.useRef(0),a=O.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=O.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function iz(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=$ce(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function $ce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Bce=DU,sz=IU,Uce=RU,zce=$U,Vce=BU,oz=UU,Hce=WU,lz=KU,cz=XU,Wce=JU,qce=ZU,uz=tz;const _t=Bce,jt=Uce,xt=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sz,{ref:n,className:yr("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",e),...r,children:[t,s.jsx(zce,{asChild:!0,children:s.jsx(e3,{className:"h-4 w-4 opacity-50"})})]}));xt.displayName=sz.displayName;const yt=O.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Vce,{children:s.jsx(oz,{ref:a,className:yr("relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:s.jsx(Hce,{className:yr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));yt.displayName=oz.displayName;const Gce=O.forwardRef(({className:e,...t},r)=>s.jsx(lz,{ref:r,className:yr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Gce.displayName=lz.displayName;const De=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(cz,{ref:n,className:yr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(qce,{children:s.jsx(ZT,{className:"h-4 w-4"})})}),s.jsx(Wce,{children:t})]}));De.displayName=cz.displayName;const Kce=O.forwardRef(({className:e,...t},r)=>s.jsx(uz,{ref:r,className:yr("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",e),...t}));Kce.displayName=uz.displayName;const We=O.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:yr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));We.displayName="Input";const Er=O.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:yr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Er.displayName="Textarea";const Yce=({isOpen:e,onClose:t,student:r,onSuccess:n})=>{const{toast:a}=Tr(),[i,o]=O.useState(!1),[l,c]=O.useState({first_name:"",last_name:"",hebrew_name:"",class_id:"",date_of_birth:"",address:"",father_name:"",father_phone:"",father_email:"",mother_name:"",mother_phone:"",mother_email:"",emergency_contact:"",emergency_phone:"",notes:"",is_active:!0}),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState([]);O.useEffect(()=>{e&&(g(),r?(c({first_name:r.first_name||"",last_name:r.last_name||"",hebrew_name:r.hebrew_name||"",class_id:r.class_id||"",date_of_birth:r.date_of_birth||"",address:r.address||"",father_name:r.father_name||"",father_phone:r.father_phone||"",father_email:r.father_email||"",mother_name:r.mother_name||"",mother_phone:r.mother_phone||"",mother_email:r.mother_email||"",emergency_contact:r.emergency_contact||"",emergency_phone:r.emergency_phone||"",notes:r.notes||"",is_active:r.is_active!==!1}),m(r.id)):(x(),d([])))},[r,e]);const m=async j=>{const{data:_}=await je.from("tutor_assignments").select("tutor_id").eq("student_id",j).eq("is_active",!0);_&&d(_.map(N=>N.tutor_id))},x=()=>{c({first_name:"",last_name:"",hebrew_name:"",class_id:"",date_of_birth:"",address:"",father_name:"",father_phone:"",father_email:"",mother_name:"",mother_phone:"",mother_email:"",emergency_contact:"",emergency_phone:"",notes:"",is_active:!0})},g=async()=>{try{const{data:j}=await je.from("classes").select("id, name, grade:grades(name)").eq("is_active",!0).order("name");h(j||[]);const{data:_}=await je.from("app_users").select("id, first_name, last_name").eq("role","tutor").eq("is_active",!0).order("last_name");v(_||[])}catch(j){console.error("Error fetching options:",j)}},y=j=>{d(_=>_.includes(j)?_.filter(N=>N!==j):[..._,j])},b=async j=>{if(j.preventDefault(),o(!0),!l.first_name||!l.last_name){a({variant:"destructive",title:"Error",description:"First name and last name are required"}),o(!1);return}try{let _=r==null?void 0:r.id;const N={first_name:l.first_name,last_name:l.last_name,hebrew_name:l.hebrew_name||null,class_id:l.class_id||null,date_of_birth:l.date_of_birth||null,address:l.address||null,father_name:l.father_name||null,father_phone:l.father_phone||null,father_email:l.father_email||null,mother_name:l.mother_name||null,mother_phone:l.mother_phone||null,mother_email:l.mother_email||null,emergency_contact:l.emergency_contact||null,emergency_phone:l.emergency_phone||null,notes:l.notes||null,is_active:l.is_active};if(r){const{error:S}=await je.from("students").update(N).eq("id",_);if(S)throw S}else{const{data:S,error:A}=await je.from("students").insert([N]).select().single();if(A)throw A;_=S.id}if(await je.from("tutor_assignments").update({is_active:!1}).eq("student_id",_),u.length>0){const S=u.map(A=>({student_id:_,tutor_id:A,is_active:!0}));for(const A of S)await je.from("tutor_assignments").upsert(A,{onConflict:"student_id,tutor_id"})}a({title:"Success",description:"Student saved successfully"}),n(),t()}catch(_){console.error("Error saving student:",_),a({variant:"destructive",title:"Error",description:_.message})}finally{o(!1)}};return s.jsx(pr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(mr,{children:s.jsx(gr,{children:r?"Edit Student":"Add New Student"})}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Student Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"first_name",children:"First Name *"}),s.jsx(We,{id:"first_name",value:l.first_name,onChange:j=>c({...l,first_name:j.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"last_name",children:"Last Name *"}),s.jsx(We,{id:"last_name",value:l.last_name,onChange:j=>c({...l,last_name:j.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"hebrew_name",children:"Hebrew Name"}),s.jsx(We,{id:"hebrew_name",value:l.hebrew_name,onChange:j=>c({...l,hebrew_name:j.target.value}),dir:"rtl",placeholder:"Hebrew Name"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"class_id",children:"Class"}),s.jsxs(_t,{value:l.class_id||"none",onValueChange:j=>c({...l,class_id:j==="none"?null:j}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select Class"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"none",children:"No Class"}),f.map(j=>{var _;return s.jsxs(De,{value:j.id,children:[j.name," ",(_=j.grade)!=null&&_.name?`(${j.grade.name})`:""]},j.id)})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"date_of_birth",children:"Date of Birth"}),s.jsx(We,{id:"date_of_birth",type:"date",value:l.date_of_birth,onChange:j=>c({...l,date_of_birth:j.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"address",children:"Address"}),s.jsx(We,{id:"address",value:l.address,onChange:j=>c({...l,address:j.target.value}),placeholder:"Street, City, Zip"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Father's Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Name"}),s.jsx(We,{value:l.father_name,onChange:j=>c({...l,father_name:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Phone"}),s.jsx(We,{value:l.father_phone,onChange:j=>c({...l,father_phone:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Email"}),s.jsx(We,{type:"email",value:l.father_email,onChange:j=>c({...l,father_email:j.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Mother's Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Name"}),s.jsx(We,{value:l.mother_name,onChange:j=>c({...l,mother_name:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Phone"}),s.jsx(We,{value:l.mother_phone,onChange:j=>c({...l,mother_phone:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Email"}),s.jsx(We,{type:"email",value:l.mother_email,onChange:j=>c({...l,mother_email:j.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Emergency Contact"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Contact Name"}),s.jsx(We,{value:l.emergency_contact,onChange:j=>c({...l,emergency_contact:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Contact Phone"}),s.jsx(We,{value:l.emergency_phone,onChange:j=>c({...l,emergency_phone:j.target.value})})]})]})]}),p.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Assigned Tutors"}),s.jsx("div",{className:"border rounded-md p-3 max-h-32 overflow-y-auto bg-slate-50 grid grid-cols-2 gap-2",children:p.map(j=>s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer hover:bg-slate-100 p-1.5 rounded",children:[s.jsx("input",{type:"checkbox",checked:u.includes(j.id),onChange:()=>y(j.id),className:"rounded border-slate-300"}),j.first_name," ",j.last_name]},j.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Additional Notes"}),s.jsx(Er,{value:l.notes,onChange:j=>c({...l,notes:j.target.value}),placeholder:"Any additional notes about this student...",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(Se,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(Se,{type:"submit",disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:[i?s.jsx(na,{className:"mr-2 h-4 w-4 animate-spin"}):null,r?"Update Student":"Create Student"]})]})]})]})})},Xce=({isOpen:e,onClose:t,student:r})=>{const{toast:n}=Tr(),[a,i]=O.useState([]),[o,l]=O.useState({subject:"",grade:"",date:new Date().toISOString().split("T")[0]});O.useEffect(()=>{r&&e&&c()},[r,e]);const c=async()=>{const{data:f,error:h}=await je.from("grades").select("*").eq("student_id",r.id).order("date",{ascending:!1});h?n({variant:"destructive",title:"Error",description:"Failed to load grades"}):i(f||[])},u=async f=>{if(f.preventDefault(),!o.subject||!o.grade){n({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}const{error:h}=await je.from("grades").insert([{student_id:r.id,...o}]);h?n({variant:"destructive",title:"Error",description:"Failed to add grade"}):(n({title:"Success",description:"Grade added successfully"}),l({subject:"",grade:"",date:new Date().toISOString().split("T")[0]}),c())},d=async f=>{const{error:h}=await je.from("grades").delete().eq("id",f);h?n({variant:"destructive",title:"Error",description:"Failed to delete grade"}):(n({title:"Success",description:"Grade deleted successfully"}),c())};return r?s.jsx(pr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(mr,{children:s.jsxs(gr,{children:["Grades for ",r.name]})}),s.jsxs("form",{onSubmit:u,className:"space-y-4 border-b pb-4",children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:"Add New Grade"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"subject",children:"Subject"}),s.jsx("input",{id:"subject",type:"text",value:o.subject,onChange:f=>l({...o,subject:f.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"grade",children:"Grade"}),s.jsx("input",{id:"grade",type:"text",value:o.grade,onChange:f=>l({...o,grade:f.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"date",children:"Date"}),s.jsx("input",{id:"date",type:"date",value:o.date,onChange:f=>l({...o,date:f.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs(Se,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-blue-600",children:[s.jsx(on,{size:16,className:"mr-2"}),"Add Grade"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:"Grade History"}),a.length===0?s.jsx("p",{className:"text-slate-600 text-sm",children:"No grades recorded yet"}):s.jsx("div",{className:"space-y-2",children:a.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-slate-800",children:f.subject}),s.jsxs("p",{className:"text-sm text-slate-600",children:["Grade: ",f.grade," - ",new Date(f.date).toLocaleDateString()]})]}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>d(f.id),className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(Qa,{size:16})})]},f.id))})]})]})}):null};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var dz=1252,Jce=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],eC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},tC=function(e){Jce.indexOf(e)!=-1&&(dz=eC[0]=e)};function Qce(){tC(1252)}var Ro=function(e){tC(e)};function fz(){Ro(1200),Qce()}function M6(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Zce(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function hz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Fm=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Zce(e.slice(2)):t==254&&r==255?hz(e.slice(2)):t==65279?e.slice(1):e},B1=function(t){return String.fromCharCode(t)},R6=function(t){return String.fromCharCode(t)},lu,pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $6(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=pu.charAt(i)+pu.charAt(o)+pu.charAt(l)+pu.charAt(c);return t}function ks(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=pu.indexOf(e.charAt(u++)),o=pu.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=pu.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=pu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var kr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),xf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ru(e){return kr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function B6(e){return kr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Lo=function(t){return kr?xf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function yf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function rC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return rC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var cu=kr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:xf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function eue(e){for(var t=[],r=0,n=e.length+250,a=Ru(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ru(65535),n=65530)}return t.push(a.slice(0,r)),cu(t)}var Ii=/\u0000/g,Dm=/[\u0001-\u0006]/g;function Kh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function $o(e,t){var r=""+e;return r.length>=t?r:Vn("0",t-r.length)+r}function nC(e,t){var r=""+e;return r.length>=t?r:Vn(" ",t-r.length)+r}function A2(e,t){var r=""+e;return r.length>=t?r:r+Vn(" ",t-r.length)}function tue(e,t){var r=""+Math.round(e);return r.length>=t?r:Vn("0",t-r.length)+r}function rue(e,t){var r=""+e;return r.length>=t?r:Vn("0",t-r.length)+r}var U6=Math.pow(2,32);function nh(e,t){if(e>U6||e<-U6)return tue(e,t);var r=Math.round(e);return rue(r,t)}function T2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var z6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],dj=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function nue(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var hr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},V6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},aue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function C2(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function kd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=uue(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var pz=new Date(1899,11,31,0,0,0),iue=pz.getTime(),sue=new Date(1900,2,1,0,0,0);function mz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=sue&&(r+=24*60*60*1e3),(r-(iue+(e.getTimezoneOffset()-pz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function aC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function oue(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lue(e){var t=e<0?12:11,r=aC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function cue(e){var t=aC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function qg(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=lue(e):t===10?r=e.toFixed(10).substr(0,12):r=cue(e),aC(oue(r.toUpperCase()))}function af(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):qg(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return so(14,mz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function uue(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function due(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return dj[r.m-1][1];case 5:return dj[r.m-1][0];default:return dj[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return z6[r.q][0];default:return z6[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?$o(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=$o(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?$o(c,u):"";return d}function mu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var gz=/%/g;function fue(e,t,r){var n=t.replace(gz,""),a=t.length-n.length;return lc(e,n,r*Math.pow(10,2*a))+Vn("%",a)}function hue(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return lc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function vz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+vz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var xz=/# (\?+)( ?)\/( ?)(\d+)/;function pue(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Vn(" ",e[1].length+1+e[4].length):nC(o,e[1].length)+e[2]+"/"+e[3]+$o(l,e[4].length))}function mue(e,t,r){return r+(t===0?"":""+t)+Vn(" ",e[1].length+2+e[4].length)}var yz=/^#*0*\.([0#]+)/,bz=/\).*[0#]/,wz=/\(###\) ###\\?-####/;function Ei(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function H6(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function W6(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function gue(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function vue(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function qs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(bz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?qs("n",n,r):"("+qs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return hue(e,t,r);if(t.indexOf("%")!==-1)return fue(e,t,r);if(t.indexOf("E")!==-1)return vz(t,r);if(t.charCodeAt(0)===36)return"$"+qs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+nh(c,t.length);if(t.match(/^[#?]+$/))return a=nh(r,0),a==="0"&&(a=""),a.length>t.length?a:Ei(t.substr(0,t.length-a.length))+a;if(i=t.match(xz))return pue(i,c,u);if(t.match(/^#+0+$/))return u+nh(c,t.length-t.indexOf("0"));if(i=t.match(yz))return a=H6(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ei(i[1])).replace(/\.$/,"."+Ei(i[1])).replace(/\.(\d*)$/,function(v,m){return"."+m+Vn("0",Ei(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+H6(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+mu(nh(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+qs(e,t,-r):mu(""+(Math.floor(r)+gue(r,i[1].length)))+"."+$o(W6(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return qs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Kh(qs(e,t.replace(/[\\-]/g,""),r)),o=0,Kh(Kh(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(wz))return a=qs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=C2(c,Math.pow(10,o)-1,!1),a=""+u,d=lc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=A2(l[2],o),d.length<i[4].length&&(d=Ei(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=C2(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?nC(l[1],o)+i[2]+"/"+i[3]+A2(l[2],o):Vn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=nh(r,0),t.length<=a.length?a:Ei(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Ei(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=W6(r,i[1].length),r<0?"-"+qs(e,t,-r):mu(vue(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?$o(0,3-v.length):"")+v})+"."+$o(o,i[1].length);switch(t){case"###,##0.00":return qs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=mu(nh(c,0));return p!=="0"?u+p:"";case"###,###.00":return qs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return qs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function xue(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return lc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function yue(e,t,r){var n=t.replace(gz,""),a=t.length-n.length;return lc(e,n,r*Math.pow(10,2*a))+Vn("%",a)}function _z(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_z(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ll(e,t,r){if(e.charCodeAt(0)===40&&!t.match(bz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ll("n",n,r):"("+ll("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return xue(e,t,r);if(t.indexOf("%")!==-1)return yue(e,t,r);if(t.indexOf("E")!==-1)return _z(t,r);if(t.charCodeAt(0)===36)return"$"+ll(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+$o(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ei(t.substr(0,t.length-a.length))+a;if(i=t.match(xz))return mue(i,c,u);if(t.match(/^#+0+$/))return u+$o(c,t.length-t.indexOf("0"));if(i=t.match(yz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ei(i[1])).replace(/\.$/,"."+Ei(i[1])),a=a.replace(/\.(\d*)$/,function(v,m){return"."+m+Vn("0",Ei(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+mu(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ll(e,t,-r):mu(""+r)+"."+Vn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ll(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Kh(ll(e,t.replace(/[\\-]/g,""),r)),o=0,Kh(Kh(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(wz))return a=ll(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=C2(c,Math.pow(10,o)-1,!1),a=""+u,d=lc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=A2(l[2],o),d.length<i[4].length&&(d=Ei(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=C2(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?nC(l[1],o)+i[2]+"/"+i[3]+A2(l[2],o):Vn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ei(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Ei(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ll(e,t,-r):mu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?$o(0,3-v.length):"")+v})+"."+$o(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=mu(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return ll(e,t.slice(0,t.lastIndexOf(".")),r)+Ei(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function lc(e,t,r){return(r|0)===r?ll(e,t,r):qs(e,t,r)}function bue(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var jz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function tp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":T2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(jz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function wue(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!T2(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),v=p==="("||p===")"?p:"t";a[a.length]={t:v,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=kd(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=kd(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(u==null&&(u=kd(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),u==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(jz)){if(u==null&&(u=kd(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",tp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var x=0,g=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(g=Math.max(g,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[o].v.match(/[Hh]/)&&(x=1),x<2&&a[o].v.match(/[Mm]/)&&(x=2),x<3&&a[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",j;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=due(a[o].t.charCodeAt(0),a[o].v,u,g),a[o].t="t";break;case"n":case"?":for(j=o+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[o].v+=a[j].v,a[j]={v:"",t:";"},++j;b+=a[o].v,o=j-1;break;case"G":a[o].t="t",a[o].v=af(t,r);break}var _="",N,S;if(b.length>0){b.charCodeAt(0)==40?(N=t<0&&b.charCodeAt(0)===45?-t:t,S=lc("n",b,N)):(N=t<0&&n>1?-t:t,S=lc("n",b,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),j=S.length-1;var A=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){A=o;break}var P=a.length;if(A===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(j>=a[o].v.length-1?(j-=a[o].v.length,a[o].v=S.substr(j+1,a[o].v.length)):j<0?a[o].v="":(a[o].v=S.substr(0,j+1),j=-1),a[o].t="t",P=o);j>=0&&P<a.length&&(a[P].v=S.substr(0,j+1)+a[P].v)}else if(A!==a.length&&S.indexOf("E")===-1){for(j=S.indexOf(".")-1,o=A;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")-1:a[o].v.length-1,_=a[o].v.substr(d+1);d>=0;--d)j>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(_=S.charAt(j--)+_);a[o].v=_,a[o].t="t",P=o}for(j>=0&&P<a.length&&(a[P].v=S.substr(0,j+1)+a[P].v),j=S.indexOf(".")+1,o=A;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==A)){for(d=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")+1:0,_=a[o].v.substr(0,d);d<a[o].v.length;++d)j<S.length&&(_+=S.charAt(j++));a[o].v=_,a[o].t="t",P=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=lc(a[o].t,a[o].v,N),a[o].t="t");var W="";for(o=0;o!==a.length;++o)a[o]!=null&&(W+=a[o].v);return W}var q6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function G6(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function _ue(e,t){var r=bue(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(q6),l=r[1].match(q6);return G6(t,o)?[n,r[0]]:G6(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function so(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:hr)[e],n==null&&(n=r.table&&r.table[V6[e]]||hr[V6[e]]),n==null&&(n=aue[e]||"General");break}if(T2(n,0))return af(t,r);t instanceof Date&&(t=mz(t,r.date1904));var a=_ue(n,t);if(T2(a[1]))return af(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return wue(a[1],t,r,a[0])}function Bd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(hr[r]==null){t<0&&(t=r);continue}if(hr[r]==e){t=r;break}}t<0&&(t=391)}return hr[t]=e,t}function Sz(){hr=nue()}var jue={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Nz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Sue(e){var t=typeof e=="number"?hr[e]:e;return t=t.replace(Nz,"(\\d+)"),new RegExp("^"+t+"$")}function Nue(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(Nz)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var Aue=function(){var e={};e.version="1.2.0";function t(){for(var S=0,A=new Array(256),P=0;P!=256;++P)S=P,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,A[P]=S;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(S){var A=0,P=0,W=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(W=0;W!=256;++W)C[W]=S[W];for(W=0;W!=256;++W)for(P=S[W],A=256+W;A<4096;A+=256)P=C[A]=P>>>8^S[P&255];var k=[];for(W=1;W!=16;++W)k[W-1]=typeof Int32Array<"u"?C.subarray(W*256,W*256+256):C.slice(W*256,W*256+256);return k}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],v=a[9],m=a[10],x=a[11],g=a[12],y=a[13],b=a[14];function j(S,A){for(var P=A^-1,W=0,C=S.length;W<C;)P=P>>>8^r[(P^S.charCodeAt(W++))&255];return~P}function _(S,A){for(var P=A^-1,W=S.length-15,C=0;C<W;)P=b[S[C++]^P&255]^y[S[C++]^P>>8&255]^g[S[C++]^P>>16&255]^x[S[C++]^P>>>24]^m[S[C++]]^v[S[C++]]^p[S[C++]]^h[S[C++]]^f[S[C++]]^d[S[C++]]^u[S[C++]]^c[S[C++]]^l[S[C++]]^o[S[C++]]^i[S[C++]]^r[S[C++]];for(W+=15;C<W;)P=P>>>8^r[(P^S[C++])&255];return~P}function N(S,A){for(var P=A^-1,W=0,C=S.length,k=0,z=0;W<C;)k=S.charCodeAt(W++),k<128?P=P>>>8^r[(P^k)&255]:k<2048?(P=P>>>8^r[(P^(192|k>>6&31))&255],P=P>>>8^r[(P^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,z=S.charCodeAt(W++)&1023,P=P>>>8^r[(P^(240|k>>8&7))&255],P=P>>>8^r[(P^(128|k>>2&63))&255],P=P>>>8^r[(P^(128|z>>6&15|(k&3)<<4))&255],P=P>>>8^r[(P^(128|z&63))&255]):(P=P>>>8^r[(P^(224|k>>12&15))&255],P=P>>>8^r[(P^(128|k>>6&63))&255],P=P>>>8^r[(P^(128|k&63))&255]);return~P}return e.table=r,e.bstr=j,e.buf=_,e.str=N,e}(),Fr=function(){var t={};t.version="1.2.1";function r(ne,ve){for(var fe=ne.split("/"),he=ve.split("/"),xe=0,ye=0,Re=Math.min(fe.length,he.length);xe<Re;++xe){if(ye=fe[xe].length-he[xe].length)return ye;if(fe[xe]!=he[xe])return fe[xe]<he[xe]?-1:1}return fe.length-he.length}function n(ne){if(ne.charAt(ne.length-1)=="/")return ne.slice(0,-1).indexOf("/")===-1?ne:n(ne.slice(0,-1));var ve=ne.lastIndexOf("/");return ve===-1?ne:ne.slice(0,ve+1)}function a(ne){if(ne.charAt(ne.length-1)=="/")return a(ne.slice(0,-1));var ve=ne.lastIndexOf("/");return ve===-1?ne:ne.slice(ve+1)}function i(ne,ve){typeof ve=="string"&&(ve=new Date(ve));var fe=ve.getHours();fe=fe<<6|ve.getMinutes(),fe=fe<<5|ve.getSeconds()>>>1,ne.write_shift(2,fe);var he=ve.getFullYear()-1980;he=he<<4|ve.getMonth()+1,he=he<<5|ve.getDate(),ne.write_shift(2,he)}function o(ne){var ve=ne.read_shift(2)&65535,fe=ne.read_shift(2)&65535,he=new Date,xe=fe&31;fe>>>=5;var ye=fe&15;fe>>>=4,he.setMilliseconds(0),he.setFullYear(fe+1980),he.setMonth(ye-1),he.setDate(xe);var Re=ve&31;ve>>>=5;var Xe=ve&63;return ve>>>=6,he.setHours(ve),he.setMinutes(Xe),he.setSeconds(Re<<1),he}function l(ne){qa(ne,0);for(var ve={},fe=0;ne.l<=ne.length-4;){var he=ne.read_shift(2),xe=ne.read_shift(2),ye=ne.l+xe,Re={};switch(he){case 21589:fe=ne.read_shift(1),fe&1&&(Re.mtime=ne.read_shift(4)),xe>5&&(fe&2&&(Re.atime=ne.read_shift(4)),fe&4&&(Re.ctime=ne.read_shift(4))),Re.mtime&&(Re.mt=new Date(Re.mtime*1e3));break}ne.l=ye,ve[he]=Re}return ve}var c;function u(){return c||(c={})}function d(ne,ve){if(ne[0]==80&&ne[1]==75)return le(ne,ve);if((ne[0]|32)==109&&(ne[1]|32)==105)return Ct(ne,ve);if(ne.length<512)throw new Error("CFB file size "+ne.length+" < 512");var fe=3,he=512,xe=0,ye=0,Re=0,Xe=0,Me=0,Ve=[],He=ne.slice(0,512);qa(He,0);var dt=f(He);switch(fe=dt[0],fe){case 3:he=512;break;case 4:he=4096;break;case 0:if(dt[1]==0)return le(ne,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+fe)}he!==512&&(He=ne.slice(0,he),qa(He,28));var vt=ne.slice(0,he);h(He,fe);var Ot=He.read_shift(4,"i");if(fe===3&&Ot!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ot);He.l+=4,Re=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),Xe=He.read_shift(4,"i"),xe=He.read_shift(4,"i"),Me=He.read_shift(4,"i"),ye=He.read_shift(4,"i");for(var pt=-1,Pt=0;Pt<109&&(pt=He.read_shift(4,"i"),!(pt<0));++Pt)Ve[Pt]=pt;var Zt=p(ne,he);x(Me,ye,Zt,he,Ve);var Gr=y(Zt,Re,Ve,he);Gr[Re].name="!Directory",xe>0&&Xe!==z&&(Gr[Xe].name="!MiniFAT"),Gr[Ve[0]].name="!FAT",Gr.fat_addrs=Ve,Gr.ssz=he;var nn={},aa=[],fo=[],Fl=[];b(Re,Gr,Zt,aa,xe,nn,fo,Xe),v(fo,Fl,aa),aa.shift();var el={FileIndex:fo,FullPaths:Fl};return ve&&ve.raw&&(el.raw={header:vt,sectors:Zt}),el}function f(ne){if(ne[ne.l]==80&&ne[ne.l+1]==75)return[0,0];ne.chk(I,"Header Signature: "),ne.l+=16;var ve=ne.read_shift(2,"u");return[ne.read_shift(2,"u"),ve]}function h(ne,ve){var fe=9;switch(ne.l+=2,fe=ne.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+fe);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+fe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+fe)}ne.chk("0600","Mini Sector Shift: "),ne.chk("000000000000","Reserved: ")}function p(ne,ve){for(var fe=Math.ceil(ne.length/ve)-1,he=[],xe=1;xe<fe;++xe)he[xe-1]=ne.slice(xe*ve,(xe+1)*ve);return he[fe-1]=ne.slice(fe*ve),he}function v(ne,ve,fe){for(var he=0,xe=0,ye=0,Re=0,Xe=0,Me=fe.length,Ve=[],He=[];he<Me;++he)Ve[he]=He[he]=he,ve[he]=fe[he];for(;Xe<He.length;++Xe)he=He[Xe],xe=ne[he].L,ye=ne[he].R,Re=ne[he].C,Ve[he]===he&&(xe!==-1&&Ve[xe]!==xe&&(Ve[he]=Ve[xe]),ye!==-1&&Ve[ye]!==ye&&(Ve[he]=Ve[ye])),Re!==-1&&(Ve[Re]=he),xe!==-1&&he!=Ve[he]&&(Ve[xe]=Ve[he],He.lastIndexOf(xe)<Xe&&He.push(xe)),ye!==-1&&he!=Ve[he]&&(Ve[ye]=Ve[he],He.lastIndexOf(ye)<Xe&&He.push(ye));for(he=1;he<Me;++he)Ve[he]===he&&(ye!==-1&&Ve[ye]!==ye?Ve[he]=Ve[ye]:xe!==-1&&Ve[xe]!==xe&&(Ve[he]=Ve[xe]));for(he=1;he<Me;++he)if(ne[he].type!==0){if(Xe=he,Xe!=Ve[Xe])do Xe=Ve[Xe],ve[he]=ve[Xe]+"/"+ve[he];while(Xe!==0&&Ve[Xe]!==-1&&Xe!=Ve[Xe]);Ve[he]=-1}for(ve[0]+="/",he=1;he<Me;++he)ne[he].type!==2&&(ve[he]+="/")}function m(ne,ve,fe){for(var he=ne.start,xe=ne.size,ye=[],Re=he;fe&&xe>0&&Re>=0;)ye.push(ve.slice(Re*k,Re*k+k)),xe-=k,Re=Nd(fe,Re*4);return ye.length===0?ga(0):cu(ye).slice(0,ne.size)}function x(ne,ve,fe,he,xe){var ye=z;if(ne===z){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(ne!==-1){var Re=fe[ne],Xe=(he>>>2)-1;if(!Re)return;for(var Me=0;Me<Xe&&(ye=Nd(Re,Me*4))!==z;++Me)xe.push(ye);x(Nd(Re,he-4),ve-1,fe,he,xe)}}function g(ne,ve,fe,he,xe){var ye=[],Re=[];xe||(xe=[]);var Xe=he-1,Me=0,Ve=0;for(Me=ve;Me>=0;){xe[Me]=!0,ye[ye.length]=Me,Re.push(ne[Me]);var He=fe[Math.floor(Me*4/he)];if(Ve=Me*4&Xe,he<4+Ve)throw new Error("FAT boundary crossed: "+Me+" 4 "+he);if(!ne[He])break;Me=Nd(ne[He],Ve)}return{nodes:ye,data:n8([Re])}}function y(ne,ve,fe,he){var xe=ne.length,ye=[],Re=[],Xe=[],Me=[],Ve=he-1,He=0,dt=0,vt=0,Ot=0;for(He=0;He<xe;++He)if(Xe=[],vt=He+ve,vt>=xe&&(vt-=xe),!Re[vt]){Me=[];var pt=[];for(dt=vt;dt>=0;){pt[dt]=!0,Re[dt]=!0,Xe[Xe.length]=dt,Me.push(ne[dt]);var Pt=fe[Math.floor(dt*4/he)];if(Ot=dt*4&Ve,he<4+Ot)throw new Error("FAT boundary crossed: "+dt+" 4 "+he);if(!ne[Pt]||(dt=Nd(ne[Pt],Ot),pt[dt]))break}ye[vt]={nodes:Xe,data:n8([Me])}}return ye}function b(ne,ve,fe,he,xe,ye,Re,Xe){for(var Me=0,Ve=he.length?2:0,He=ve[ne].data,dt=0,vt=0,Ot;dt<He.length;dt+=128){var pt=He.slice(dt,dt+128);qa(pt,64),vt=pt.read_shift(2),Ot=cC(pt,0,vt-Ve),he.push(Ot);var Pt={name:Ot,type:pt.read_shift(1),color:pt.read_shift(1),L:pt.read_shift(4,"i"),R:pt.read_shift(4,"i"),C:pt.read_shift(4,"i"),clsid:pt.read_shift(16),state:pt.read_shift(4,"i"),start:0,size:0},Zt=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Zt!==0&&(Pt.ct=j(pt,pt.l-8));var Gr=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Gr!==0&&(Pt.mt=j(pt,pt.l-8)),Pt.start=pt.read_shift(4,"i"),Pt.size=pt.read_shift(4,"i"),Pt.size<0&&Pt.start<0&&(Pt.size=Pt.type=0,Pt.start=z,Pt.name=""),Pt.type===5?(Me=Pt.start,xe>0&&Me!==z&&(ve[Me].name="!StreamData")):Pt.size>=4096?(Pt.storage="fat",ve[Pt.start]===void 0&&(ve[Pt.start]=g(fe,Pt.start,ve.fat_addrs,ve.ssz)),ve[Pt.start].name=Pt.name,Pt.content=ve[Pt.start].data.slice(0,Pt.size)):(Pt.storage="minifat",Pt.size<0?Pt.size=0:Me!==z&&Pt.start!==z&&ve[Me]&&(Pt.content=m(Pt,ve[Me].data,(ve[Xe]||{}).data))),Pt.content&&qa(Pt.content,0),ye[Ot]=Pt,Re.push(Pt)}}function j(ne,ve){return new Date((xs(ne,ve+4)/1e7*Math.pow(2,32)+xs(ne,ve)/1e7-11644473600)*1e3)}function _(ne,ve){return u(),d(c.readFileSync(ne),ve)}function N(ne,ve){var fe=ve&&ve.type;switch(fe||kr&&Buffer.isBuffer(ne)&&(fe="buffer"),fe||"base64"){case"file":return _(ne,ve);case"base64":return d(Lo(ks(ne)),ve);case"binary":return d(Lo(ne),ve)}return d(ne,ve)}function S(ne,ve){var fe=ve||{},he=fe.root||"Root Entry";if(ne.FullPaths||(ne.FullPaths=[]),ne.FileIndex||(ne.FileIndex=[]),ne.FullPaths.length!==ne.FileIndex.length)throw new Error("inconsistent CFB structure");ne.FullPaths.length===0&&(ne.FullPaths[0]=he+"/",ne.FileIndex[0]={name:he,type:5}),fe.CLSID&&(ne.FileIndex[0].clsid=fe.CLSID),A(ne)}function A(ne){var ve="Sh33tJ5";if(!Fr.find(ne,"/"+ve)){var fe=ga(4);fe[0]=55,fe[1]=fe[3]=50,fe[2]=54,ne.FileIndex.push({name:ve,type:2,content:fe,size:4,L:69,R:69,C:69}),ne.FullPaths.push(ne.FullPaths[0]+ve),P(ne)}}function P(ne,ve){S(ne);for(var fe=!1,he=!1,xe=ne.FullPaths.length-1;xe>=0;--xe){var ye=ne.FileIndex[xe];switch(ye.type){case 0:he?fe=!0:(ne.FileIndex.pop(),ne.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(ye.R*ye.L*ye.C)&&(fe=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(fe=!0);break;default:fe=!0;break}}if(!(!fe&&!ve)){var Re=new Date(1987,1,19),Xe=0,Me=Object.create?Object.create(null):{},Ve=[];for(xe=0;xe<ne.FullPaths.length;++xe)Me[ne.FullPaths[xe]]=!0,ne.FileIndex[xe].type!==0&&Ve.push([ne.FullPaths[xe],ne.FileIndex[xe]]);for(xe=0;xe<Ve.length;++xe){var He=n(Ve[xe][0]);he=Me[He],he||(Ve.push([He,{name:a(He).replace("/",""),type:1,clsid:V,ct:Re,mt:Re,content:null}]),Me[He]=!0)}for(Ve.sort(function(Ot,pt){return r(Ot[0],pt[0])}),ne.FullPaths=[],ne.FileIndex=[],xe=0;xe<Ve.length;++xe)ne.FullPaths[xe]=Ve[xe][0],ne.FileIndex[xe]=Ve[xe][1];for(xe=0;xe<Ve.length;++xe){var dt=ne.FileIndex[xe],vt=ne.FullPaths[xe];if(dt.name=a(vt).replace("/",""),dt.L=dt.R=dt.C=-(dt.color=1),dt.size=dt.content?dt.content.length:0,dt.start=0,dt.clsid=dt.clsid||V,xe===0)dt.C=Ve.length>1?1:-1,dt.size=0,dt.type=5;else if(vt.slice(-1)=="/"){for(Xe=xe+1;Xe<Ve.length&&n(ne.FullPaths[Xe])!=vt;++Xe);for(dt.C=Xe>=Ve.length?-1:Xe,Xe=xe+1;Xe<Ve.length&&n(ne.FullPaths[Xe])!=n(vt);++Xe);dt.R=Xe>=Ve.length?-1:Xe,dt.type=1}else n(ne.FullPaths[xe+1]||"")==n(vt)&&(dt.R=xe+1),dt.type=2}}}function W(ne,ve){var fe=ve||{};if(fe.fileType=="mad")return mt(ne,fe);switch(P(ne),fe.fileType){case"zip":return Cr(ne,fe)}var he=function(Ot){for(var pt=0,Pt=0,Zt=0;Zt<Ot.FileIndex.length;++Zt){var Gr=Ot.FileIndex[Zt];if(Gr.content){var nn=Gr.content.length;nn>0&&(nn<4096?pt+=nn+63>>6:Pt+=nn+511>>9)}}for(var aa=Ot.FullPaths.length+3>>2,fo=pt+7>>3,Fl=pt+127>>7,el=fo+Pt+aa+Fl,ho=el+127>>7,tl=ho<=109?0:Math.ceil((ho-109)/127);el+ho+tl+127>>7>ho;)tl=++ho<=109?0:Math.ceil((ho-109)/127);var ss=[1,tl,ho,Fl,aa,Pt,pt,0];return Ot.FileIndex[0].size=pt<<6,ss[7]=(Ot.FileIndex[0].start=ss[0]+ss[1]+ss[2]+ss[3]+ss[4]+ss[5])+(ss[6]+7>>3),ss}(ne),xe=ga(he[7]<<9),ye=0,Re=0;{for(ye=0;ye<8;++ye)xe.write_shift(1,R[ye]);for(ye=0;ye<8;++ye)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),ye=0;ye<3;++ye)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,he[2]),xe.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:z),xe.write_shift(4,he[3]),xe.write_shift(-4,he[1]?he[0]-1:z),xe.write_shift(4,he[1]),ye=0;ye<109;++ye)xe.write_shift(-4,ye<he[2]?he[1]+ye:-1)}if(he[1])for(Re=0;Re<he[1];++Re){for(;ye<236+Re*127;++ye)xe.write_shift(-4,ye<he[2]?he[1]+ye:-1);xe.write_shift(-4,Re===he[1]-1?z:Re+1)}var Xe=function(Ot){for(Re+=Ot;ye<Re-1;++ye)xe.write_shift(-4,ye+1);Ot&&(++ye,xe.write_shift(-4,z))};for(Re=ye=0,Re+=he[1];ye<Re;++ye)xe.write_shift(-4,L.DIFSECT);for(Re+=he[2];ye<Re;++ye)xe.write_shift(-4,L.FATSECT);Xe(he[3]),Xe(he[4]);for(var Me=0,Ve=0,He=ne.FileIndex[0];Me<ne.FileIndex.length;++Me)He=ne.FileIndex[Me],He.content&&(Ve=He.content.length,!(Ve<4096)&&(He.start=Re,Xe(Ve+511>>9)));for(Xe(he[6]+7>>3);xe.l&511;)xe.write_shift(-4,L.ENDOFCHAIN);for(Re=ye=0,Me=0;Me<ne.FileIndex.length;++Me)He=ne.FileIndex[Me],He.content&&(Ve=He.content.length,!(!Ve||Ve>=4096)&&(He.start=Re,Xe(Ve+63>>6)));for(;xe.l&511;)xe.write_shift(-4,L.ENDOFCHAIN);for(ye=0;ye<he[4]<<2;++ye){var dt=ne.FullPaths[ye];if(!dt||dt.length===0){for(Me=0;Me<17;++Me)xe.write_shift(4,0);for(Me=0;Me<3;++Me)xe.write_shift(4,-1);for(Me=0;Me<12;++Me)xe.write_shift(4,0);continue}He=ne.FileIndex[ye],ye===0&&(He.start=He.size?He.start-1:z);var vt=ye===0&&fe.root||He.name;if(Ve=2*(vt.length+1),xe.write_shift(64,vt,"utf16le"),xe.write_shift(2,Ve),xe.write_shift(1,He.type),xe.write_shift(1,He.color),xe.write_shift(-4,He.L),xe.write_shift(-4,He.R),xe.write_shift(-4,He.C),He.clsid)xe.write_shift(16,He.clsid,"hex");else for(Me=0;Me<4;++Me)xe.write_shift(4,0);xe.write_shift(4,He.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,He.start),xe.write_shift(4,He.size),xe.write_shift(4,0)}for(ye=1;ye<ne.FileIndex.length;++ye)if(He=ne.FileIndex[ye],He.size>=4096)if(xe.l=He.start+1<<9,kr&&Buffer.isBuffer(He.content))He.content.copy(xe,xe.l,0,He.size),xe.l+=He.size+511&-512;else{for(Me=0;Me<He.size;++Me)xe.write_shift(1,He.content[Me]);for(;Me&511;++Me)xe.write_shift(1,0)}for(ye=1;ye<ne.FileIndex.length;++ye)if(He=ne.FileIndex[ye],He.size>0&&He.size<4096)if(kr&&Buffer.isBuffer(He.content))He.content.copy(xe,xe.l,0,He.size),xe.l+=He.size+63&-64;else{for(Me=0;Me<He.size;++Me)xe.write_shift(1,He.content[Me]);for(;Me&63;++Me)xe.write_shift(1,0)}if(kr)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function C(ne,ve){var fe=ne.FullPaths.map(function(Me){return Me.toUpperCase()}),he=fe.map(function(Me){var Ve=Me.split("/");return Ve[Ve.length-(Me.slice(-1)=="/"?2:1)]}),xe=!1;ve.charCodeAt(0)===47?(xe=!0,ve=fe[0].slice(0,-1)+ve):xe=ve.indexOf("/")!==-1;var ye=ve.toUpperCase(),Re=xe===!0?fe.indexOf(ye):he.indexOf(ye);if(Re!==-1)return ne.FileIndex[Re];var Xe=!ye.match(Dm);for(ye=ye.replace(Ii,""),Xe&&(ye=ye.replace(Dm,"!")),Re=0;Re<fe.length;++Re)if((Xe?fe[Re].replace(Dm,"!"):fe[Re]).replace(Ii,"")==ye||(Xe?he[Re].replace(Dm,"!"):he[Re]).replace(Ii,"")==ye)return ne.FileIndex[Re];return null}var k=64,z=-2,I="d0cf11e0a1b11ae1",R=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",L={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:I,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(ne,ve,fe){u();var he=W(ne,fe);c.writeFileSync(ve,he)}function F(ne){for(var ve=new Array(ne.length),fe=0;fe<ne.length;++fe)ve[fe]=String.fromCharCode(ne[fe]);return ve.join("")}function U(ne,ve){var fe=W(ne,ve);switch(ve&&ve.type||"buffer"){case"file":return u(),c.writeFileSync(ve.filename,fe),fe;case"binary":return typeof fe=="string"?fe:F(fe);case"base64":return $6(typeof fe=="string"?fe:F(fe));case"buffer":if(kr)return Buffer.isBuffer(fe)?fe:xf(fe);case"array":return typeof fe=="string"?Lo(fe):fe}return fe}var X;function E(ne){try{var ve=ne.InflateRaw,fe=new ve;if(fe._processChunk(new Uint8Array([3,0]),fe._finishFlushFlag),fe.bytesRead)X=ne;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function H(ne,ve){if(!X)return Ht(ne,ve);var fe=X.InflateRaw,he=new fe,xe=he._processChunk(ne.slice(ne.l),he._finishFlushFlag);return ne.l+=he.bytesRead,xe}function G(ne){return X?X.deflateRawSync(ne):ot(ne)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function se(ne){var ve=(ne<<1|ne<<11)&139536|(ne<<5|ne<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var J=typeof Uint8Array<"u",ce=J?new Uint8Array(256):[],pe=0;pe<256;++pe)ce[pe]=se(pe);function Q(ne,ve){var fe=ce[ne&255];return ve<=8?fe>>>8-ve:(fe=fe<<8|ce[ne>>8&255],ve<=16?fe>>>16-ve:(fe=fe<<8|ce[ne>>16&255],fe>>>24-ve))}function Oe(ne,ve){var fe=ve&7,he=ve>>>3;return(ne[he]|(fe<=6?0:ne[he+1]<<8))>>>fe&3}function $e(ne,ve){var fe=ve&7,he=ve>>>3;return(ne[he]|(fe<=5?0:ne[he+1]<<8))>>>fe&7}function Ae(ne,ve){var fe=ve&7,he=ve>>>3;return(ne[he]|(fe<=4?0:ne[he+1]<<8))>>>fe&15}function Z(ne,ve){var fe=ve&7,he=ve>>>3;return(ne[he]|(fe<=3?0:ne[he+1]<<8))>>>fe&31}function ke(ne,ve){var fe=ve&7,he=ve>>>3;return(ne[he]|(fe<=1?0:ne[he+1]<<8))>>>fe&127}function Ge(ne,ve,fe){var he=ve&7,xe=ve>>>3,ye=(1<<fe)-1,Re=ne[xe]>>>he;return fe<8-he||(Re|=ne[xe+1]<<8-he,fe<16-he)||(Re|=ne[xe+2]<<16-he,fe<24-he)||(Re|=ne[xe+3]<<24-he),Re&ye}function Le(ne,ve,fe){var he=ve&7,xe=ve>>>3;return he<=5?ne[xe]|=(fe&7)<<he:(ne[xe]|=fe<<he&255,ne[xe+1]=(fe&7)>>8-he),ve+3}function qe(ne,ve,fe){var he=ve&7,xe=ve>>>3;return fe=(fe&1)<<he,ne[xe]|=fe,ve+1}function ge(ne,ve,fe){var he=ve&7,xe=ve>>>3;return fe<<=he,ne[xe]|=fe&255,fe>>>=8,ne[xe+1]=fe,ve+8}function de(ne,ve,fe){var he=ve&7,xe=ve>>>3;return fe<<=he,ne[xe]|=fe&255,fe>>>=8,ne[xe+1]=fe&255,ne[xe+2]=fe>>>8,ve+16}function ze(ne,ve){var fe=ne.length,he=2*fe>ve?2*fe:ve+5,xe=0;if(fe>=ve)return ne;if(kr){var ye=B6(he);if(ne.copy)ne.copy(ye);else for(;xe<ne.length;++xe)ye[xe]=ne[xe];return ye}else if(J){var Re=new Uint8Array(he);if(Re.set)Re.set(ne);else for(;xe<fe;++xe)Re[xe]=ne[xe];return Re}return ne.length=he,ne}function Ke(ne){for(var ve=new Array(ne),fe=0;fe<ne;++fe)ve[fe]=0;return ve}function ft(ne,ve,fe){var he=1,xe=0,ye=0,Re=0,Xe=0,Me=ne.length,Ve=J?new Uint16Array(32):Ke(32);for(ye=0;ye<32;++ye)Ve[ye]=0;for(ye=Me;ye<fe;++ye)ne[ye]=0;Me=ne.length;var He=J?new Uint16Array(Me):Ke(Me);for(ye=0;ye<Me;++ye)Ve[xe=ne[ye]]++,he<xe&&(he=xe),He[ye]=0;for(Ve[0]=0,ye=1;ye<=he;++ye)Ve[ye+16]=Xe=Xe+Ve[ye-1]<<1;for(ye=0;ye<Me;++ye)Xe=ne[ye],Xe!=0&&(He[ye]=Ve[Xe+16]++);var dt=0;for(ye=0;ye<Me;++ye)if(dt=ne[ye],dt!=0)for(Xe=Q(He[ye],he)>>he-dt,Re=(1<<he+4-dt)-1;Re>=0;--Re)ve[Xe|Re<<dt]=dt&15|ye<<4;return he}var bt=J?new Uint16Array(512):Ke(512),St=J?new Uint16Array(32):Ke(32);if(!J){for(var Et=0;Et<512;++Et)bt[Et]=0;for(Et=0;Et<32;++Et)St[Et]=0}(function(){for(var ne=[],ve=0;ve<32;ve++)ne.push(5);ft(ne,St,32);var fe=[];for(ve=0;ve<=143;ve++)fe.push(8);for(;ve<=255;ve++)fe.push(9);for(;ve<=279;ve++)fe.push(7);for(;ve<=287;ve++)fe.push(8);ft(fe,bt,288)})();var _e=function(){for(var ve=J?new Uint8Array(32768):[],fe=0,he=0;fe<ee.length-1;++fe)for(;he<ee[fe+1];++he)ve[he]=fe;for(;he<32768;++he)ve[he]=29;var xe=J?new Uint8Array(259):[];for(fe=0,he=0;fe<K.length-1;++fe)for(;he<K[fe+1];++he)xe[he]=fe;function ye(Xe,Me){for(var Ve=0;Ve<Xe.length;){var He=Math.min(65535,Xe.length-Ve),dt=Ve+He==Xe.length;for(Me.write_shift(1,+dt),Me.write_shift(2,He),Me.write_shift(2,~He&65535);He-- >0;)Me[Me.l++]=Xe[Ve++]}return Me.l}function Re(Xe,Me){for(var Ve=0,He=0,dt=J?new Uint16Array(32768):[];He<Xe.length;){var vt=Math.min(65535,Xe.length-He);if(vt<10){for(Ve=Le(Me,Ve,+(He+vt==Xe.length)),Ve&7&&(Ve+=8-(Ve&7)),Me.l=Ve/8|0,Me.write_shift(2,vt),Me.write_shift(2,~vt&65535);vt-- >0;)Me[Me.l++]=Xe[He++];Ve=Me.l*8;continue}Ve=Le(Me,Ve,+(He+vt==Xe.length)+2);for(var Ot=0;vt-- >0;){var pt=Xe[He];Ot=(Ot<<5^pt)&32767;var Pt=-1,Zt=0;if((Pt=dt[Ot])&&(Pt|=He&-32768,Pt>He&&(Pt-=32768),Pt<He))for(;Xe[Pt+Zt]==Xe[He+Zt]&&Zt<250;)++Zt;if(Zt>2){pt=xe[Zt],pt<=22?Ve=ge(Me,Ve,ce[pt+1]>>1)-1:(ge(Me,Ve,3),Ve+=5,ge(Me,Ve,ce[pt-23]>>5),Ve+=3);var Gr=pt<8?0:pt-4>>2;Gr>0&&(de(Me,Ve,Zt-K[pt]),Ve+=Gr),pt=ve[He-Pt],Ve=ge(Me,Ve,ce[pt]>>3),Ve-=3;var nn=pt<4?0:pt-2>>1;nn>0&&(de(Me,Ve,He-Pt-ee[pt]),Ve+=nn);for(var aa=0;aa<Zt;++aa)dt[Ot]=He&32767,Ot=(Ot<<5^Xe[He])&32767,++He;vt-=Zt-1}else pt<=143?pt=pt+48:Ve=qe(Me,Ve,1),Ve=ge(Me,Ve,ce[pt]),dt[Ot]=He&32767,++He}Ve=ge(Me,Ve,0)-1}return Me.l=(Ve+7)/8|0,Me.l}return function(Me,Ve){return Me.length<8?ye(Me,Ve):Re(Me,Ve)}}();function ot(ne){var ve=ga(50+Math.floor(ne.length*1.1)),fe=_e(ne,ve);return ve.slice(0,fe)}var rt=J?new Uint16Array(32768):Ke(32768),qt=J?new Uint16Array(32768):Ke(32768),gt=J?new Uint16Array(128):Ke(128),jr=1,Gt=1;function rr(ne,ve){var fe=Z(ne,ve)+257;ve+=5;var he=Z(ne,ve)+1;ve+=5;var xe=Ae(ne,ve)+4;ve+=4;for(var ye=0,Re=J?new Uint8Array(19):Ke(19),Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Me=1,Ve=J?new Uint8Array(8):Ke(8),He=J?new Uint8Array(8):Ke(8),dt=Re.length,vt=0;vt<xe;++vt)Re[q[vt]]=ye=$e(ne,ve),Me<ye&&(Me=ye),Ve[ye]++,ve+=3;var Ot=0;for(Ve[0]=0,vt=1;vt<=Me;++vt)He[vt]=Ot=Ot+Ve[vt-1]<<1;for(vt=0;vt<dt;++vt)(Ot=Re[vt])!=0&&(Xe[vt]=He[Ot]++);var pt=0;for(vt=0;vt<dt;++vt)if(pt=Re[vt],pt!=0){Ot=ce[Xe[vt]]>>8-pt;for(var Pt=(1<<7-pt)-1;Pt>=0;--Pt)gt[Ot|Pt<<pt]=pt&7|vt<<3}var Zt=[];for(Me=1;Zt.length<fe+he;)switch(Ot=gt[ke(ne,ve)],ve+=Ot&7,Ot>>>=3){case 16:for(ye=3+Oe(ne,ve),ve+=2,Ot=Zt[Zt.length-1];ye-- >0;)Zt.push(Ot);break;case 17:for(ye=3+$e(ne,ve),ve+=3;ye-- >0;)Zt.push(0);break;case 18:for(ye=11+ke(ne,ve),ve+=7;ye-- >0;)Zt.push(0);break;default:Zt.push(Ot),Me<Ot&&(Me=Ot);break}var Gr=Zt.slice(0,fe),nn=Zt.slice(fe);for(vt=fe;vt<286;++vt)Gr[vt]=0;for(vt=he;vt<30;++vt)nn[vt]=0;return jr=ft(Gr,rt,286),Gt=ft(nn,qt,30),ve}function Hr(ne,ve){if(ne[0]==3&&!(ne[1]&3))return[Ru(ve),2];for(var fe=0,he=0,xe=B6(ve||1<<18),ye=0,Re=xe.length>>>0,Xe=0,Me=0;!(he&1);){if(he=$e(ne,fe),fe+=3,he>>>1)he>>1==1?(Xe=9,Me=5):(fe=rr(ne,fe),Xe=jr,Me=Gt);else{fe&7&&(fe+=8-(fe&7));var Ve=ne[fe>>>3]|ne[(fe>>>3)+1]<<8;if(fe+=32,Ve>0)for(!ve&&Re<ye+Ve&&(xe=ze(xe,ye+Ve),Re=xe.length);Ve-- >0;)xe[ye++]=ne[fe>>>3],fe+=8;continue}for(;;){!ve&&Re<ye+32767&&(xe=ze(xe,ye+32767),Re=xe.length);var He=Ge(ne,fe,Xe),dt=he>>>1==1?bt[He]:rt[He];if(fe+=dt&15,dt>>>=4,!(dt>>>8&255))xe[ye++]=dt;else{if(dt==256)break;dt-=257;var vt=dt<8?0:dt-4>>2;vt>5&&(vt=0);var Ot=ye+K[dt];vt>0&&(Ot+=Ge(ne,fe,vt),fe+=vt),He=Ge(ne,fe,Me),dt=he>>>1==1?St[He]:qt[He],fe+=dt&15,dt>>>=4;var pt=dt<4?0:dt-2>>1,Pt=ee[dt];for(pt>0&&(Pt+=Ge(ne,fe,pt),fe+=pt),!ve&&Re<Ot&&(xe=ze(xe,Ot+100),Re=xe.length);ye<Ot;)xe[ye]=xe[ye-Pt],++ye}}}return ve?[xe,fe+7>>>3]:[xe.slice(0,ye),fe+7>>>3]}function Ht(ne,ve){var fe=ne.slice(ne.l||0),he=Hr(fe,ve);return ne.l+=he[1],he[0]}function Kr(ne,ve){if(ne)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function le(ne,ve){var fe=ne;qa(fe,0);var he=[],xe=[],ye={FileIndex:he,FullPaths:xe};S(ye,{root:ve.root});for(var Re=fe.length-4;(fe[Re]!=80||fe[Re+1]!=75||fe[Re+2]!=5||fe[Re+3]!=6)&&Re>=0;)--Re;fe.l=Re+4,fe.l+=4;var Xe=fe.read_shift(2);fe.l+=6;var Me=fe.read_shift(4);for(fe.l=Me,Re=0;Re<Xe;++Re){fe.l+=20;var Ve=fe.read_shift(4),He=fe.read_shift(4),dt=fe.read_shift(2),vt=fe.read_shift(2),Ot=fe.read_shift(2);fe.l+=8;var pt=fe.read_shift(4),Pt=l(fe.slice(fe.l+dt,fe.l+dt+vt));fe.l+=dt+vt+Ot;var Zt=fe.l;fe.l=pt+4,$t(fe,Ve,He,ye,Pt),fe.l=Zt}return ye}function $t(ne,ve,fe,he,xe){ne.l+=2;var ye=ne.read_shift(2),Re=ne.read_shift(2),Xe=o(ne);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var Me=ne.read_shift(4),Ve=ne.read_shift(4),He=ne.read_shift(4),dt=ne.read_shift(2),vt=ne.read_shift(2),Ot="",pt=0;pt<dt;++pt)Ot+=String.fromCharCode(ne[ne.l++]);if(vt){var Pt=l(ne.slice(ne.l,ne.l+vt));(Pt[21589]||{}).mt&&(Xe=Pt[21589].mt),((xe||{})[21589]||{}).mt&&(Xe=xe[21589].mt)}ne.l+=vt;var Zt=ne.slice(ne.l,ne.l+Ve);switch(Re){case 8:Zt=H(ne,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Re)}var Gr=!1;ye&8&&(Me=ne.read_shift(4),Me==134695760&&(Me=ne.read_shift(4),Gr=!0),Ve=ne.read_shift(4),He=ne.read_shift(4)),Ve!=ve&&Kr(Gr,"Bad compressed size: "+ve+" != "+Ve),He!=fe&&Kr(Gr,"Bad uncompressed size: "+fe+" != "+He),Ur(he,Ot,Zt,{unsafe:!0,mt:Xe})}function Cr(ne,ve){var fe=ve||{},he=[],xe=[],ye=ga(1),Re=fe.compression?8:0,Xe=0,Me=0,Ve=0,He=0,dt=0,vt=ne.FullPaths[0],Ot=vt,pt=ne.FileIndex[0],Pt=[],Zt=0;for(Me=1;Me<ne.FullPaths.length;++Me)if(Ot=ne.FullPaths[Me].slice(vt.length),pt=ne.FileIndex[Me],!(!pt.size||!pt.content||Ot=="Sh33tJ5")){var Gr=He,nn=ga(Ot.length);for(Ve=0;Ve<Ot.length;++Ve)nn.write_shift(1,Ot.charCodeAt(Ve)&127);nn=nn.slice(0,nn.l),Pt[dt]=Aue.buf(pt.content,0);var aa=pt.content;Re==8&&(aa=G(aa)),ye=ga(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,Xe),ye.write_shift(2,Re),pt.mt?i(ye,pt.mt):ye.write_shift(4,0),ye.write_shift(-4,Pt[dt]),ye.write_shift(4,aa.length),ye.write_shift(4,pt.content.length),ye.write_shift(2,nn.length),ye.write_shift(2,0),He+=ye.length,he.push(ye),He+=nn.length,he.push(nn),He+=aa.length,he.push(aa),ye=ga(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,Xe),ye.write_shift(2,Re),ye.write_shift(4,0),ye.write_shift(-4,Pt[dt]),ye.write_shift(4,aa.length),ye.write_shift(4,pt.content.length),ye.write_shift(2,nn.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,Gr),Zt+=ye.l,xe.push(ye),Zt+=nn.length,xe.push(nn),++dt}return ye=ga(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,dt),ye.write_shift(2,dt),ye.write_shift(4,Zt),ye.write_shift(4,He),ye.write_shift(2,0),cu([cu(he),cu(xe),ye])}var nr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Bt(ne,ve){if(ne.ctype)return ne.ctype;var fe=ne.name||"",he=fe.match(/\.([^\.]+)$/);return he&&nr[he[1]]||ve&&(he=(fe=ve).match(/[\.\\]([^\.\\])+$/),he&&nr[he[1]])?nr[he[1]]:"application/octet-stream"}function Qt(ne){for(var ve=$6(ne),fe=[],he=0;he<ve.length;he+=76)fe.push(ve.slice(he,he+76));return fe.join(`\r
`)+`\r
`}function Aa(ne){var ve=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var He=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var fe=[],he=ve.split(`\r
`),xe=0;xe<he.length;++xe){var ye=he[xe];if(ye.length==0){fe.push("");continue}for(var Re=0;Re<ye.length;){var Xe=76,Me=ye.slice(Re,Re+Xe);Me.charAt(Xe-1)=="="?Xe--:Me.charAt(Xe-2)=="="?Xe-=2:Me.charAt(Xe-3)=="="&&(Xe-=3),Me=ye.slice(Re,Re+Xe),Re+=Xe,Re<ye.length&&(Me+="="),fe.push(Me)}}return fe.join(`\r
`)}function rn(ne){for(var ve=[],fe=0;fe<ne.length;++fe){for(var he=ne[fe];fe<=ne.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+ne[++fe];ve.push(he)}for(var xe=0;xe<ve.length;++xe)ve[xe]=ve[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return Lo(ve.join(`\r
`))}function Ye(ne,ve,fe){for(var he="",xe="",ye="",Re,Xe=0;Xe<10;++Xe){var Me=ve[Xe];if(!Me||Me.match(/^\s*$/))break;var Ve=Me.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":he=Ve[2].trim();break;case"content-type":ye=Ve[2].trim();break;case"content-transfer-encoding":xe=Ve[2].trim();break}}switch(++Xe,xe.toLowerCase()){case"base64":Re=Lo(ks(ve.slice(Xe).join("")));break;case"quoted-printable":Re=rn(ve.slice(Xe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var He=Ur(ne,he.slice(fe.length),Re,{unsafe:!0});ye&&(He.ctype=ye)}function Ct(ne,ve){if(F(ne.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var fe=ve&&ve.root||"",he=(kr&&Buffer.isBuffer(ne)?ne.toString("binary"):F(ne)).split(`\r
`),xe=0,ye="";for(xe=0;xe<he.length;++xe)if(ye=he[xe],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),fe||(fe=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,fe.length)!=fe))for(;fe.length>0&&(fe=fe.slice(0,fe.length-1),fe=fe.slice(0,fe.lastIndexOf("/")+1),ye.slice(0,fe.length)!=fe););var Re=(he[1]||"").match(/boundary="(.*?)"/);if(!Re)throw new Error("MAD cannot find boundary");var Xe="--"+(Re[1]||""),Me=[],Ve=[],He={FileIndex:Me,FullPaths:Ve};S(He);var dt,vt=0;for(xe=0;xe<he.length;++xe){var Ot=he[xe];Ot!==Xe&&Ot!==Xe+"--"||(vt++&&Ye(He,he.slice(dt,xe),fe),dt=xe)}return He}function mt(ne,ve){var fe=ve||{},he=fe.boundary||"SheetJS";he="------="+he;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],ye=ne.FullPaths[0],Re=ye,Xe=ne.FileIndex[0],Me=1;Me<ne.FullPaths.length;++Me)if(Re=ne.FullPaths[Me].slice(ye.length),Xe=ne.FileIndex[Me],!(!Xe.size||!Xe.content||Re=="Sh33tJ5")){Re=Re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Zt){return"_x"+Zt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Zt){return"_u"+Zt.charCodeAt(0).toString(16)+"_"});for(var Ve=Xe.content,He=kr&&Buffer.isBuffer(Ve)?Ve.toString("binary"):F(Ve),dt=0,vt=Math.min(1024,He.length),Ot=0,pt=0;pt<=vt;++pt)(Ot=He.charCodeAt(pt))>=32&&Ot<128&&++dt;var Pt=dt>=vt*4/5;xe.push(he),xe.push("Content-Location: "+(fe.root||"file:///C:/SheetJS/")+Re),xe.push("Content-Transfer-Encoding: "+(Pt?"quoted-printable":"base64")),xe.push("Content-Type: "+Bt(Xe,Re)),xe.push(""),xe.push(Pt?Aa(He):Qt(He))}return xe.push(he+`--\r
`),xe.join(`\r
`)}function wt(ne){var ve={};return S(ve,ne),ve}function Ur(ne,ve,fe,he){var xe=he&&he.unsafe;xe||S(ne);var ye=!xe&&Fr.find(ne,ve);if(!ye){var Re=ne.FullPaths[0];ve.slice(0,Re.length)==Re?Re=ve:(Re.slice(-1)!="/"&&(Re+="/"),Re=(Re+ve).replace("//","/")),ye={name:a(ve),type:2},ne.FileIndex.push(ye),ne.FullPaths.push(Re),xe||Fr.utils.cfb_gc(ne)}return ye.content=fe,ye.size=fe?fe.length:0,he&&(he.CLSID&&(ye.clsid=he.CLSID),he.mt&&(ye.mt=he.mt),he.ct&&(ye.ct=he.ct)),ye}function Pn(ne,ve){S(ne);var fe=Fr.find(ne,ve);if(fe){for(var he=0;he<ne.FileIndex.length;++he)if(ne.FileIndex[he]==fe)return ne.FileIndex.splice(he,1),ne.FullPaths.splice(he,1),!0}return!1}function Nn(ne,ve,fe){S(ne);var he=Fr.find(ne,ve);if(he){for(var xe=0;xe<ne.FileIndex.length;++xe)if(ne.FileIndex[xe]==he)return ne.FileIndex[xe].name=a(fe),ne.FullPaths[xe]=fe,!0}return!1}function vn(ne){P(ne,!0)}return t.find=C,t.read=N,t.parse=d,t.write=U,t.writeFile=M,t.utils={cfb_new:wt,cfb_add:Ur,cfb_del:Pn,cfb_mov:Nn,cfb_gc:vn,ReadShift:eg,CheckField:Kz,prep_blob:qa,bconcat:cu,use_zlib:E,_deflateRaw:ot,_inflateRaw:Ht,consts:L},t}();function Tue(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Nl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function iC(e){for(var t=[],r=Nl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var E2=new Date(1899,11,30,0,0,0);function Mi(e,t){var r=e.getTime();t&&(r-=1462*24*60*60*1e3);var n=E2.getTime()+(e.getTimezoneOffset()-E2.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Az=new Date,Cue=E2.getTime()+(Az.getTimezoneOffset()-E2.getTimezoneOffset())*6e4,K6=Az.getTimezoneOffset();function Tw(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Cue),t.getTimezoneOffset()!==K6&&t.setTime(t.getTime()+(t.getTimezoneOffset()-K6)*6e4),t}function Eue(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var Y6=new Date("2017-02-19T19:06:09.000Z"),Tz=isNaN(Y6.getFullYear())?new Date("2/19/17"):Y6,kue=Tz.getFullYear()==2017;function Ia(e,t){var r=new Date(e);if(kue)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Tz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function sf(e,t){if(kr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Im(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Im(hz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Im(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Im(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ya(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ya(e[r]));return t}function Vn(e,t){for(var r="";r.length<t;)r+=e;return r}function Vo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Pue=["january","february","march","april","may","june","july","august","september","october","november","december"];function v0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Pue.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Oue=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}}();function Cz(e){return e?e.content&&e.type?sf(e.content,!0):e.data?Fm(e.data):e.asNodeBuffer&&kr?Fm(e.asNodeBuffer().toString("binary")):e.asBinary?Fm(e.asBinary()):e._data&&e._data.getContent?Fm(sf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Ez(e){if(!e)return null;if(e.data)return M6(e.data);if(e.asNodeBuffer&&kr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?M6(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Fue(e){return e&&e.name.slice(-4)===".bin"?Ez(e):Cz(e)}function Ks(e,t){for(var r=e.FullPaths||Nl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function sC(e,t){var r=Ks(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ca(e,t,r){if(!r)return Fue(sC(e,t));if(!t)return null;try{return ca(e,t)}catch{return null}}function ys(e,t,r){if(!r)return Cz(sC(e,t));if(!t)return null;try{return ys(e,t)}catch{return null}}function kz(e,t,r){if(!r)return Ez(sC(e,t));if(!t)return null;try{return kz(e,t)}catch{return null}}function X6(e){for(var t=e.FullPaths||Nl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Due(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return kr?n=xf(r):n=eue(r),Fr.utils.cfb_add(e,t,n)}Fr.utils.cfb_add(e,t,r)}else e.file(t,r)}function Pz(e,t){switch(t.type){case"base64":return Fr.read(e,{type:"base64"});case"binary":return Fr.read(e,{type:"binary"});case"buffer":case"array":return Fr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Lm(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var Oz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Lue=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,J6=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Iue=/<[^>]*>/g,_i=Oz.match(J6)?J6:Iue,Mue=/<\w*:/,Rue=/<(\/?)\w+:/;function Jt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(Lue),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,r||(n[d.toLowerCase()]=c);else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,r||(n[p.toLowerCase()]=c)}}return n}function Cl(e){return e.replace(Rue,"<$1")}var Fz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},$ue=iC(Fz),Br=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return Fz[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}}(),Bue=/[&<>'"]/g,Uue=/[\u0000-\u001f]/g;function oC(e){var t=e+"";return t.replace(Bue,function(r){return $ue[r]}).replace(/\n/g,"<br/>").replace(Uue,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var Q6=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Tn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function fj(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function Z6(e){var t=Ru(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function e8(e){return xf(e,"binary").toString("utf8")}var U1="foo bar baz",gn=kr&&(e8(U1)==fj(U1)&&e8||Z6(U1)==fj(U1)&&Z6)||fj,Im=kr?function(e){return xf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Gg=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Dz=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),zue=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Vue=/<\/?(?:vt:)?variant>/g,Hue=/<(?:vt:)([^>]*)>([\s\S]*)</;function t8(e,t){var r=Jt(e),n=e.match(zue(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(Vue,"").match(Hue);o&&a.push({v:gn(o[2]),t:o[1]})}),a}var Wue=/(^\s|\s$|\n)/;function que(e){return Nl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Gue(e,t,r){return"<"+e+(r!=null?que(r):"")+(t!=null?(t.match(Wue)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function lC(e){if(kr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return gn(yf(rC(e)));throw new Error("Bad input format: expected Buffer or string")}var Kg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Kue={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yue=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Xue(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Jue(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var r8=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},n8=kr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:xf(t)})):r8(e)}:r8,a8=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(ec(e,a)));return n.join("").replace(Ii,"")},cC=kr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ii,""):a8(e,t,r)}:a8,i8=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Lz=kr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):i8(e,t,r)}:i8,s8=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(dh(e,a)));return n.join("")},ex=kr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):s8(t,r,n)}:s8,Iz=function(e,t){var r=xs(e,t);return r>0?ex(e,t+4,t+4+r-1):""},Mz=Iz,Rz=function(e,t){var r=xs(e,t);return r>0?ex(e,t+4,t+4+r-1):""},$z=Rz,Bz=function(e,t){var r=2*xs(e,t);return r>0?ex(e,t+4,t+4+r-1):""},Uz=Bz,zz=function(t,r){var n=xs(t,r);return n>0?cC(t,r+4,r+4+n):""},Vz=zz,Hz=function(e,t){var r=xs(e,t);return r>0?ex(e,t+4,t+4+r):""},Wz=Hz,qz=function(e,t){return Xue(e,t)},k2=qz,Gz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};kr&&(Mz=function(t,r){if(!Buffer.isBuffer(t))return Iz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},$z=function(t,r){if(!Buffer.isBuffer(t))return Rz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Uz=function(t,r){if(!Buffer.isBuffer(t))return Bz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Vz=function(t,r){if(!Buffer.isBuffer(t))return zz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Wz=function(t,r){if(!Buffer.isBuffer(t))return Hz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},k2=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):qz(t,r)},Gz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var dh=function(e,t){return e[t]},ec=function(e,t){return e[t+1]*256+e[t]},Que=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},xs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Nd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Zue=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function eg(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,kr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ec(this,u)),u+=2;e*=2;break;case"utf8":r=ex(this,this.l,this.l+e);break;case"utf16le":e*=2,r=cC(this,this.l,this.l+e);break;case"wstr":return eg.call(this,e,"dbcs");case"lpstr-ansi":r=Mz(this,this.l),e=4+xs(this,this.l);break;case"lpstr-cp":r=$z(this,this.l),e=4+xs(this,this.l);break;case"lpwstr":r=Uz(this,this.l),e=4+2*xs(this,this.l);break;case"lpp4":e=4+xs(this,this.l),r=Vz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+xs(this,this.l),r=Wz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=dh(this,this.l+e++))!==0;)i.push(B1(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=ec(this,this.l+e))!==0;)i.push(B1(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=dh(this,u),this.l=u+1,l=eg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(B1(ec(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=dh(this,u),this.l=u+1,l=eg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(B1(dh(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=dh(this,this.l),this.l++,n;case 2:return n=(t==="i"?Que:ec)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Nd:Zue)(this,this.l),this.l+=4,n):(a=xs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=k2(this,this.l):a=k2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Lz(this,this.l,e);break}}return this.l+=e,r}var ede=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},tde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},rde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function nde(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)rde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,ede(this,t,this.l);break;case 8:if(n=8,r==="f"){Jue(this,t,this.l);break}case 16:break;case-4:n=4,tde(this,t,this.l);break}return this.l+=n,this}function Kz(e,t){var r=Lz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function qa(e,t){e.l=t,e.read_shift=eg,e.chk=Kz,e.write_shift=nde}function wi(e,t){e.l+=t}function ga(e){var t=Ru(e);return qa(t,0),t}function Tc(e,t,r){if(e){var n,a,i;qa(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=I2[l]||I2[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function XN(){var e=[],t=kr?256:2048,r=function(u){var d=ga(u);return qa(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),cu(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function tg(e,t,r){var n=Ya(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function o8(e,t,r){var n=Ya(e);return n.s=tg(n.s,t.s,r),n.e=tg(n.e,t.s,r),n}function rg(e,t){if(e.cRel&&e.c<0)for(e=Ya(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ya(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=or(e);return!e.cRel&&e.cRel!=null&&(r=sde(r)),!e.rRel&&e.rRel!=null&&(r=ade(r)),r}function hj(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ba(e.s.c)+":"+(e.e.cRel?"":"$")+ba(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Xa(e.s.r)+":"+(e.e.rRel?"":"$")+Xa(e.e.r):rg(e.s,t.biff)+":"+rg(e.e,t.biff)}function uC(e){return parseInt(ide(e),10)-1}function Xa(e){return""+(e+1)}function ade(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ide(e){return e.replace(/\$(\d+)$/,"$1")}function dC(e){for(var t=ode(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ba(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function sde(e){return e.replace(/^([A-Z])/,"$$$1")}function ode(e){return e.replace(/^\$([A-Z])/,"$1")}function lde(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Pi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function or(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function rp(e){var t=e.indexOf(":");return t==-1?{s:Pi(e),e:Pi(e)}:{s:Pi(e.slice(0,t)),e:Pi(e.slice(t+1))}}function Lr(e,t){return typeof t>"u"||typeof t=="number"?Lr(e.s,e.e):(typeof e!="string"&&(e=or(e)),typeof t!="string"&&(t=or(t)),e==t?e:e+":"+t)}function qn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function l8(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=so(e.z,r?Mi(t):t)}catch{}try{return e.w=so((e.XF||{}).numFmtId||(r?14:0),r?Mi(t):t)}catch{return""+t}}function _c(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?_f[e.v]||e.v:t==null?l8(e,e.v):l8(e,t))}function Ku(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Yz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Pi(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=qn(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},v=o+f,m=l+h;if(u.s.r>v&&(u.s.r=v),u.s.c>m&&(u.s.c=m),u.e.r<v&&(u.e.r=v),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||hr[14],n.cellDates?(p.t="d",p.w=so(p.z,Mi(p.v))):(p.t="n",p.v=Mi(p.v),p.w=so(p.z,p.v))):p.t="s";if(a)i[v]||(i[v]=[]),i[v][m]&&i[v][m].z&&(p.z=i[v][m].z),i[v][m]=p;else{var x=or({c:m,r:v});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return u.s.c<1e7&&(i["!ref"]=Lr(u)),i}function np(e,t){return Yz(null,e,t)}function cde(e){return e.read_shift(4,"i")}function xi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ude(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function fC(e,t){var r=e.l,n=e.read_shift(1),a=xi(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(ude(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var dde=fC;function lo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function bf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var fde=xi;function hC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var hde=xi,JN=hC;function pC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?k2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Nd(t,0)>>2;return r?a/100:a}function Xz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var wf=Xz;function pi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function pde(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Ud[a];u&&(t.rgb=Xg(u));break;case 2:t.rgb=Xg([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function mde(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Jz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function gde(e){return Jz(e,1)}function vde(e){return Jz(e,2)}var mC=2,Ki=3,z1=11,c8=12,P2=19,V1=64,xde=65,yde=71,bde=4108,wde=4126,Pa=80,Qz=81,_de=[Pa,Qz],jde={1:{n:"CodePage",t:mC},2:{n:"Category",t:Pa},3:{n:"PresentationFormat",t:Pa},4:{n:"ByteCount",t:Ki},5:{n:"LineCount",t:Ki},6:{n:"ParagraphCount",t:Ki},7:{n:"SlideCount",t:Ki},8:{n:"NoteCount",t:Ki},9:{n:"HiddenCount",t:Ki},10:{n:"MultimediaClipCount",t:Ki},11:{n:"ScaleCrop",t:z1},12:{n:"HeadingPairs",t:bde},13:{n:"TitlesOfParts",t:wde},14:{n:"Manager",t:Pa},15:{n:"Company",t:Pa},16:{n:"LinksUpToDate",t:z1},17:{n:"CharacterCount",t:Ki},19:{n:"SharedDoc",t:z1},22:{n:"HyperlinksChanged",t:z1},23:{n:"AppVersion",t:Ki,p:"version"},24:{n:"DigSig",t:xde},26:{n:"ContentType",t:Pa},27:{n:"ContentStatus",t:Pa},28:{n:"Language",t:Pa},29:{n:"Version",t:Pa},255:{},2147483648:{n:"Locale",t:P2},2147483651:{n:"Behavior",t:P2},1919054434:{}},Sde={1:{n:"CodePage",t:mC},2:{n:"Title",t:Pa},3:{n:"Subject",t:Pa},4:{n:"Author",t:Pa},5:{n:"Keywords",t:Pa},6:{n:"Comments",t:Pa},7:{n:"Template",t:Pa},8:{n:"LastAuthor",t:Pa},9:{n:"RevNumber",t:Pa},10:{n:"EditTime",t:V1},11:{n:"LastPrinted",t:V1},12:{n:"CreatedDate",t:V1},13:{n:"ModifiedDate",t:V1},14:{n:"PageCount",t:Ki},15:{n:"WordCount",t:Ki},16:{n:"CharCount",t:Ki},17:{n:"Thumbnail",t:yde},18:{n:"Application",t:Pa},19:{n:"DocSecurity",t:Ki},255:{},2147483648:{n:"Locale",t:P2},2147483651:{n:"Behavior",t:P2},1919054434:{}},u8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Nde=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Ade(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Tde=Ade([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ud=Ya(Tde),_f={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Zz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},d8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Cde(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Ede(e){var t=Cde();if(!e||!e.match)return t;var r={};if((e.match(_i)||[]).forEach(function(n){var a=Jt(n);switch(a[0].replace(Mue,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[d8[a.ContentType]]!==void 0&&t[d8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Kue.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Ph={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function QN(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ng(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(_i)||[]).forEach(function(a){var i=Jt(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Lm(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}var kde="application/vnd.oasis.opendocument.spreadsheet";function Pde(e,t){for(var r=lC(e),n,a;n=Kg.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Jt(n[0],!1),a.path=="/"&&a.type!==kde)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var ag=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Ode=function(){for(var e=new Array(ag.length),t=0;t<ag.length;++t){var r=ag[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function eV(e){var t={};e=gn(e);for(var r=0;r<ag.length;++r){var n=ag[r],a=e.match(Ode[r]);a!=null&&a.length>0&&(t[n[1]]=Br(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ia(t[n[1]]))}return t}var Fde=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function tV(e,t,r,n){var a=[];if(typeof e=="string")a=t8(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?t8(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function Dde(e,t,r){var n={};return t||(t={}),e=gn(e),Fde.forEach(function(a){var i=(e.match(Gg(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Br(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&tV(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Lde=/<[^>]+>[^<]*/g;function Ide(e,t){var r={},n="",a=e.match(Lde);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=Jt(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Br(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Br(d);break;case"bool":r[n]=Tn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Ia(d);break;case"cy":case"error":r[n]=Br(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var Mde={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},pj;function Rde(e,t,r){pj||(pj=iC(Mde)),t=pj[t]||t,e[t]=r}function gC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function rV(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function nV(e,t,r){var n=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(n.length+1&3)&3),n}function aV(e,t,r){return t===31?nV(e):rV(e,t,r)}function ZN(e,t,r){return aV(e,t,r===!1?0:4)}function $de(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return aV(e,t,0)}function Bde(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ii,""),e.l-a&2&&(e.l+=2)}return r}function Ude(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ii,"");return r}function zde(e){var t=e.l,r=O2(e,Qz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=O2(e,Ki);return[r,n]}function Vde(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(zde(e));return r}function f8(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ii,"").replace(Dm,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>2+1<<2),n}function iV(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Hde(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function O2(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==c8&&n!==t&&_de.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===c8?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return rV(e,n,4).replace(Ii,"");case 31:return nV(e);case 64:return gC(e);case 65:return iV(e);case 71:return Hde(e);case 80:return ZN(e,n,!i.raw).replace(Ii,"");case 81:return $de(e,n).replace(Ii,"");case 4108:return Vde(e);case 4126:case 4127:return n==4127?Bde(e):Ude(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function h8(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(y,b){return y[1]-b[1]});var h={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var v=t[i[o][0]];if(h[v.n]=O2(e,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ro(l=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(i[o][0]===1){if(l=h.CodePage=O2(e,mC),Ro(l),c!==-1){var m=e.l;e.l=i[c][1],u=f8(e,l),e.l=m}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=f8(e,l)}else{var x=u[i[o][0]],g;switch(e[e.l]){case 65:e.l+=4,g=iV(e);break;case 30:e.l+=4,g=ZN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,g=ZN(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=Xn(e,4);break;case 64:e.l+=4,g=Ia(gC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[x]=g}}return e.l=r+n,h}function p8(e,t,r){var n=e.content;if(!n)return{};qa(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Fr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=h8(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var v;try{v=h8(n,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[i,o],h}function Yc(e,t){return e.read_shift(t),null}function Wde(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Xn(e,t){return e.read_shift(t)===1}function ua(e){return e.read_shift(2,"u")}function sV(e,t){return Wde(e,t,ua)}function qde(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function tx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function Gde(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function of(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function rx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):of(e,n,r)}function jf(e,t,r){if(r.biff>5)return rx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Kde(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Yde(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ii,"");return n&&(e.l+=24),a}function Xde(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(Ii,"");return r+o}function Jde(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Yde(e);case"0303000000000000c000000000000046":return Xde(e);default:throw new Error("Unsupported Moniker "+r)}}function H1(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ii,""):"";return r}function Qde(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=H1(e,r-e.l)),a&128&&(o=H1(e,r-e.l)),(a&257)===257&&(l=H1(e,r-e.l)),(a&257)===1&&(c=Jde(e,r-e.l)),a&8&&(u=H1(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=gC(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function oV(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function lV(e,t){var r=oV(e);return r[3]=0,r}function El(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Zde(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function efe(e,t,r){return t===0?"":jf(e,t,r)}function tfe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function cV(e){var t=e.read_shift(2),r=pC(e);return[t,r]}function rfe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=tx(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function Cw(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function uV(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var nfe=uV;function dV(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function afe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function ife(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ni(e){e.l+=2,e.l+=e.read_shift(2)}var sfe={0:ni,4:ni,5:ni,6:ni,7:ife,8:ni,9:ni,10:ni,11:ni,12:ni,13:afe,14:ni,15:ni,16:ni,17:ni,18:ni,19:ni,20:ni,21:dV};function ofe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(sfe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function W1(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function lfe(e,t){return t===0||e.read_shift(2),1200}function cfe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=jf(e,0,r);return e.read_shift(t+n-e.l),a}function ufe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function dfe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=tx(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function ffe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(Gde(e));return i.Count=n,i.Unique=a,i}function hfe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function pfe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function mfe(e){var t=Zde(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function gfe(e){return e.read_shift(2),e.read_shift(4)}function m8(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function vfe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function xfe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function yfe(){}function bfe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=tx(e,0,r),n}function wfe(e){var t=El(e);return t.isst=e.read_shift(4),t}function _fe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=El(e);r.biff==2&&e.l++;var i=rx(e,n-e.l,r);return a.val=i,a}function jfe(e,t,r){var n=e.read_shift(2),a=jf(e,0,r);return[n,a]}var Sfe=jf;function g8(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function Nfe(e){var t=e.read_shift(2),r=e.read_shift(2),n=cV(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Afe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(cV(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function Tfe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function Cfe(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=Nde[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function Efe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Cfe(e,t,n.fStyle,r),n}function kfe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function v8(e,t,r){var n=El(e);(r.biff==2||t==9)&&++e.l;var a=qde(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Pfe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=El(e),a=pi(e);return n.val=a,n}var x8=efe;function Ofe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=of(e,i),l=[];n>e.l;)l.push(rx(e));return[i,a,o,l]}function y8(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=rfe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Ffe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function b8(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=of(e,o,r);a&32&&(u=Ffe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:pme(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function fV(e,t,r){if(r.biff<8)return Dfe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(tfe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Dfe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=tx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Lfe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=of(e,n,r),o=of(e,a,r);return[i,o]}function Ife(e,t,r){var n=uV(e);e.l++;var a=e.read_shift(1);return t-=8,[mme(e,t,r),a,n]}function w8(e,t,r){var n=nfe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,fme(e,t,r)]}function Mfe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Rfe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=jf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,i]}}function $fe(e,t,r){return Rfe(e,t,r)}function Bfe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Cw(e));return r}function Ufe(e,t,r){if(r&&r.biff<8)return Vfe(e,t,r);var n=dV(e),a=ofe(e,t-22,n[1]);return{cmo:n,ft:a}}var zfe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Vfe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((zfe[n]||wi)(e,t,r)),{cmo:[a,n,i],ft:o}}function Hfe(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=Kde(e,6,r);var l=e.read_shift(2);e.read_shift(2),ua(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=of(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Wfe(e,t){var r=Cw(e);e.l+=16;var n=Qde(e,t-24);return[r,n]}function qfe(e,t){e.read_shift(2);var r=Cw(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ii,""),[r,n]}function Gfe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=u8[r]||r,r=e.read_shift(2),t[1]=u8[r]||r,t}function Kfe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(lV(e));return r}function Yfe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(lV(e));return r}function Xfe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function hV(e,t,r){if(!r.cellStyles)return wi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Jfe(e,t){var r={};return t<32||(e.l+=16,r.header=pi(e),r.footer=pi(e),e.l+=2),r}function Qfe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var Zfe=El,ehe=sV,the=rx;function rhe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function nhe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=El(e);++e.l;var a=jf(e,t-7,r);return n.t="str",n.val=a,n}function ahe(e){var t=El(e);++e.l;var r=pi(e);return t.t="n",t.val=r,t}function ihe(e){var t=El(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function she(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function ohe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function lhe(e,t,r){var n=e.l+t,a=El(e),i=e.read_shift(2),o=of(e,i,r);return e.l=n,a.t="str",a.val=o,a}var che=[2,3,48,49,131,139,140,245],_8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=iC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Ru(1);switch(c.type){case"base64":d=Lo(ks(l));break;case"binary":d=Lo(l);break;case"buffer":case"array":d=l;break}qa(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,x=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(x=d.read_shift(2));var g=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var b=[],j={},_=Math.min(d.length,f==2?521:x-10-(p?264:0)),N=v?32:11;d.l<_&&d[d.l]!=13;)switch(j={},j.name=lu.utils.decode(y,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,j.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(j.offset=d.read_shift(4)),j.len=d.read_shift(1),f==2&&(j.offset=d.read_shift(2)),j.dec=d.read_shift(1),j.name.length&&b.push(j),f!=2&&(d.l+=v?13:14),j.type){case"B":(!p||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var S=0,A=0;for(u[0]=[],A=0;A!=b.length;++A)u[0][A]=b[A].name;for(;m-- >0;){if(d[d.l]===42){d.l+=g;continue}for(++d.l,u[++S]=[],A=0,A=0;A!=b.length;++A){var P=d.slice(d.l,d.l+b[A].len);d.l+=b[A].len,qa(P,0);var W=lu.utils.decode(y,P);switch(b[A].type){case"C":W.trim().length&&(u[S][A]=W.replace(/\s+$/,""));break;case"D":W.length===8?u[S][A]=new Date(+W.slice(0,4),+W.slice(4,6)-1,+W.slice(6,8)):u[S][A]=W;break;case"F":u[S][A]=parseFloat(W.trim());break;case"+":case"I":u[S][A]=v?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(W.trim().toUpperCase()){case"Y":case"T":u[S][A]=!0;break;case"N":case"F":u[S][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+W+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][A]="##MEMO##"+(v?parseInt(W.trim(),10):P.read_shift(4));break;case"N":W=W.replace(/\u0000/g,"").trim(),W&&W!="."&&(u[S][A]=+W||0);break;case"@":u[S][A]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[S][A]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[S][A]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][A]=-P.read_shift(-8,"f");break;case"B":if(p&&b[A].len==8){u[S][A]=P.read_shift(8,"f");break}case"G":case"P":P.l+=b[A].len;break;case"0":if(b[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[A].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=np(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Ku(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Ro(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=XN(),f=s4(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=l["!cols"]||[],m=0,x=0,g=0,y=1;for(m=0;m<h.length;++m){if(((v[m]||{}).DBF||{}).name){h[m]=v[m].DBF.name,++g;continue}if(h[m]!=null){if(++g,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(x=0;x<1024;++x)if(h.indexOf(h[m]+"_"+x)==-1){h[m]+="_"+x;break}}}}var b=qn(l["!ref"]),j=[],_=[],N=[];for(m=0;m<=b.e.c-b.s.c;++m){var S="",A="",P=0,W=[];for(x=0;x<p.length;++x)p[x][m]!=null&&W.push(p[x][m]);if(W.length==0||h[m]==null){j[m]="?";continue}for(x=0;x<W.length;++x){switch(typeof W[x]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=W[x]instanceof Date?"D":"C";break;default:A="C"}P=Math.max(P,String(W[x]).length),S=S&&S!=A?"C":A}P>250&&(P=250),A=((v[m]||{}).DBF||{}).type,A=="C"&&v[m].DBF.len>P&&(P=v[m].DBF.len),S=="B"&&A=="N"&&(S="N",N[m]=v[m].DBF.dec,P=v[m].DBF.len),_[m]=S=="C"||A=="N"?P:i[S]||0,y+=_[m],j[m]=S}var C=d.next(32);for(C.write_shift(4,318902576),C.write_shift(4,p.length),C.write_shift(2,296+32*g),C.write_shift(2,y),m=0;m<4;++m)C.write_shift(4,0);for(C.write_shift(4,0|(+t[dz]||3)<<8),m=0,x=0;m<h.length;++m)if(h[m]!=null){var k=d.next(32),z=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,z,"sbcs"),k.write_shift(1,j[m]=="?"?"C":j[m],"sbcs"),k.write_shift(4,x),k.write_shift(1,_[m]||i[j[m]]||0),k.write_shift(1,N[m]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),x+=_[m]||i[j[m]]||0}var I=d.next(264);for(I.write_shift(4,13),m=0;m<65;++m)I.write_shift(4,0);for(m=0;m<p.length;++m){var R=d.next(y);for(R.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(j[x]){case"L":R.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":R.write_shift(8,p[m][x]||0,"f");break;case"N":var V="0";for(typeof p[m][x]=="number"&&(V=p[m][x].toFixed(N[x]||0)),g=0;g<_[x]-V.length;++g)R.write_shift(1,32);R.write_shift(1,V,"sbcs");break;case"D":p[m][x]?(R.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),R.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),R.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):R.write_shift(8,"00000000","sbcs");break;case"C":var L=String(p[m][x]!=null?p[m][x]:"").slice(0,_[x]);for(R.write_shift(1,L,"sbcs"),g=0;g<_[x]-L.length;++g)R.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),uhe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Nl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var v=e[p];return typeof v=="number"?R6(v):v},n=function(h,p,v){var m=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return m==59?h:R6(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(ks(h),p);case"binary":return i(h,p);case"buffer":return i(kr&&Buffer.isBuffer(h)?h.toString("binary"):yf(h),p);case"array":return i(sf(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var v=h.split(/[\n\r]+/),m=-1,x=-1,g=0,y=0,b=[],j=[],_=null,N={},S=[],A=[],P=[],W=0,C;for(+p.codepage>=0&&Ro(+p.codepage);g!==v.length;++g){W=0;var k=v[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),z=k.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),I=z[0],R;if(k.length>0)switch(I){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&j.push(k.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,L=!1,M=!1,F=!1,U=-1,X=-1;for(y=1;y<z.length;++y)switch(z[y].charAt(0)){case"A":break;case"X":x=parseInt(z[y].slice(1))-1,L=!0;break;case"Y":for(m=parseInt(z[y].slice(1))-1,L||(x=0),C=b.length;C<=m;++C)b[C]=[];break;case"K":R=z[y].slice(1),R.charAt(0)==='"'?R=R.slice(1,R.length-1):R==="TRUE"?R=!0:R==="FALSE"?R=!1:isNaN(Vo(R))?isNaN(v0(R).getDate())||(R=Ia(R)):(R=Vo(R),_!==null&&tp(_)&&(R=Tw(R))),V=!0;break;case"E":F=!0;var E=Yh(z[y].slice(1),{r:m,c:x});b[m][x]=[b[m][x],E];break;case"S":M=!0,b[m][x]=[b[m][x],"S5S"];break;case"G":break;case"R":U=parseInt(z[y].slice(1))-1;break;case"C":X=parseInt(z[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}if(V&&(b[m][x]&&b[m][x].length==2?b[m][x][0]=R:b[m][x]=R,_=null),M){if(F)throw new Error("SYLK shared formula cannot have own formula");var H=U>-1&&b[U][X];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");b[m][x][1]=jV(H[1],{r:m-U,c:x-X})}break;case"F":var G=0;for(y=1;y<z.length;++y)switch(z[y].charAt(0)){case"X":x=parseInt(z[y].slice(1))-1,++G;break;case"Y":for(m=parseInt(z[y].slice(1))-1,C=b.length;C<=m;++C)b[C]=[];break;case"M":W=parseInt(z[y].slice(1))/20;break;case"F":break;case"G":break;case"P":_=j[parseInt(z[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=z[y].slice(1).split(" "),C=parseInt(P[0],10);C<=parseInt(P[1],10);++C)W=parseInt(P[2],10),A[C-1]=W===0?{hidden:!0}:{wch:W},x0(A[C-1]);break;case"C":x=parseInt(z[y].slice(1))-1,A[x]||(A[x]={});break;case"R":m=parseInt(z[y].slice(1))-1,S[m]||(S[m]={}),W>0?(S[m].hpt=W,S[m].hpx=Jg(W)):W===0&&(S[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}G<1&&(_=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}}return S.length>0&&(N["!rows"]=S),A.length>0&&(N["!cols"]=A),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,N]}function o(h,p){var v=a(h,p),m=v[0],x=v[1],g=np(m,p);return Nl(x).forEach(function(y){g[y]=x[y]}),g}function l(h,p){return Ku(o(h,p),p)}function c(h,p,v,m){var x="C;Y"+(v+1)+";X"+(m+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+X0e(h.f,{r:v,c:m}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(v,m){var x="F;W"+(m+1)+" "+(m+1)+" ";v.hidden?x+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=D2(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=L2(v.wpx)),typeof v.wch=="number"&&(x+=Math.round(v.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(v,m){var x="F;";v.hidden?x+="M0;":v.hpt?x+="M"+20*v.hpt+";":v.hpx&&(x+="M"+20*bV(v.hpx)+";"),x.length>2&&h.push(x+"R"+(m+1))})}function f(h,p){var v=["ID;PWXL;N;E"],m=[],x=qn(h["!ref"]),g,y=Array.isArray(h),b=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&u(v,h["!cols"]),h["!rows"]&&d(v,h["!rows"]),v.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var j=x.s.r;j<=x.e.r;++j)for(var _=x.s.c;_<=x.e.c;++_){var N=or({r:j,c:_});g=y?(h[j]||[])[_]:h[N],!(!g||g.v==null&&(!g.f||g.F))&&m.push(c(g,h,j,_))}return v.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),dhe=function(){function e(i,o){switch(o.type){case"base64":return t(ks(i),o);case"binary":return t(i,o);case"buffer":return t(kr&&Buffer.isBuffer(i)?i.toString("binary"):yf(i),o);case"array":return t(sf(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],v=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(Vo(v))?isNaN(v0(v).getDate())?f[c][u]=v:f[c][u]=Ia(v):f[c][u]=Vo(v),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return np(e(i,o),o)}function n(i,o){return Ku(r(i,o),o)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=qn(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var m=or({r:p,c:v});if(f=h?(c[p]||[])[v]:c[m],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=so(f.z||hr[14],Mi(Ia(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var g=`\r
`,y=u.join(g);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),fhe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),v=-1,m=-1,x=0,g=[];x!==p.length;++x){var y=p[x].trim().split(":");if(y[0]==="cell"){var b=Pi(y[1]);if(g.length<=b.r)for(v=g.length;v<=b.r;++v)g[v]||(g[v]=[]);switch(v=b.r,m=b.c,y[2]){case"t":g[v][m]=e(y[3]);break;case"v":g[v][m]=+y[3];break;case"vtf":var j=y[y.length-1];case"vtc":switch(y[3]){case"nl":g[v][m]=!!+y[4];break;default:g[v][m]=+y[4];break}y[2]=="vtf"&&(g[v][m]=[g[v][m],j])}}}return h&&h.sheetRows&&(g=g.slice(0,h.sheetRows)),g}function n(f,h){return np(r(f,h),h)}function a(f,h){return Ku(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,m="",x=rp(f["!ref"]),g=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var b=x.s.c;b<=x.e.c;++b)if(m=or({r:y,c:b}),v=g?(f[y]||[])[b]:f[m],!(!v||v.v==null||v.t==="z")){switch(p=["cell",m,"t"],v.t){case"s":case"str":p.push(t(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=t(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var j=Mi(Ia(v.v));p[2]="vtc",p[3]="nd",p[4]=""+j,p[5]=v.w||so(v.z||hr[14],j);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Yg=function(){function e(d,f,h,p,v){v.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Vo(d))?isNaN(v0(d).getDate())?f[h][p]=d:f[h][p]=Ia(d):f[h][p]=Vo(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var v=d.split(/[\r\n]/),m=v.length-1;m>=0&&v[m].length===0;)--m;for(var x=10,g=0,y=0;y<=m;++y)g=v[y].indexOf(" "),g==-1?g=v[y].length:g++,x=Math.max(x,g);for(y=0;y<=m;++y){p[y]=[];var b=0;for(e(v[y].slice(0,x).trim(),p,y,b,h),b=1;b<=(v[y].length-x)/10+1;++b)e(v[y].slice(x+(b-1)*10,x+b*10).trim(),p,y,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,v=0;p<d.length;++p)(v=d.charCodeAt(p))==34?h=!h:!h&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(m,x){return m[0]-x[0]||n[m[1]]-n[x[1]]}),r[v.pop()[1]]||44}function i(d,f){var h=f||{},p="",v=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,g=0,y=0,b=0,j=0,_=p.charCodeAt(0),N=!1,S=0,A=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=h.dateNF!=null?Sue(h.dateNF):null;function W(){var C=d.slice(b,j),k={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)k.t="z";else if(h.raw)k.t="s",k.v=C;else if(C.trim().length===0)k.t="s",k.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(k.t="s",k.v=C.slice(2,-1).replace(/""/g,'"')):Q0e(C)?(k.t="n",k.f=C.slice(1)):(k.t="s",k.v=C);else if(C=="TRUE")k.t="b",k.v=!0;else if(C=="FALSE")k.t="b",k.v=!1;else if(!isNaN(y=Vo(C)))k.t="n",h.cellText!==!1&&(k.w=C),k.v=y;else if(!isNaN(v0(C).getDate())||P&&C.match(P)){k.z=h.dateNF||hr[14];var z=0;P&&C.match(P)&&(C=Nue(C,h.dateNF,C.match(P)||[]),z=1),h.cellDates?(k.t="d",k.v=Ia(C,z)):(k.t="n",k.v=Mi(Ia(C,z))),h.cellText!==!1&&(k.w=so(k.z,k.v instanceof Date?Mi(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=C;if(k.t=="z"||(h.dense?(v[x]||(v[x]=[]),v[x][g]=k):v[or({c:g,r:x})]=k),b=j+1,A=d.charCodeAt(b),m.e.c<g&&(m.e.c=g),m.e.r<x&&(m.e.r=x),S==_)++g;else if(g=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;j<d.length;++j)switch(S=d.charCodeAt(j)){case 34:A===34&&(N=!N);break;case _:case 10:case 13:if(!N&&W())break e;break}return j-b>0&&W(),v["!ref"]=Lr(m),v}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):np(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:SC(d,f);switch(f.type){case"base64":h=ks(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof lu<"u"?h=lu.utils.decode(f.codepage,d):h=kr&&Buffer.isBuffer(d)?d.toString("binary"):yf(d);break;case"array":h=sf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=gn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=gn(h):f.type=="binary"&&typeof lu<"u"&&f.codepage&&(h=lu.utils.decode(f.codepage,lu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?fhe.to_sheet(f.type=="string"?h:gn(h),f):o(h,f)}function c(d,f){return Ku(l(d,f),f)}function u(d){for(var f=[],h=qn(d["!ref"]),p,v=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var x=[],g=h.s.c;g<=h.e.c;++g){var y=or({r:m,c:g});if(p=v?(d[m]||[])[g]:d[y],!p||p.v==null){x.push("          ");continue}for(var b=(p.w||(_c(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(g===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function hhe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=uhe.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Yg.to_workbook(e,t)}}var ig=function(){function e(E,H,G){if(E){qa(E,E.l||0);for(var q=G.Enum||U;E.l<E.length;){var K=E.read_shift(2),ee=q[K]||q[65535],se=E.read_shift(2),J=E.l+se,ce=ee.f&&ee.f(E,se,G);if(E.l=J,H(ce,ee,K))return}}}function t(E,H){switch(H.type){case"base64":return r(Lo(ks(E)),H);case"binary":return r(Lo(E),H);case"buffer":case"array":return r(E,H)}throw"Unsupported type "+H.type}function r(E,H){if(!E)return E;var G=H||{},q=G.dense?[]:{},K="Sheet1",ee="",se=0,J={},ce=[],pe=[],Q={s:{r:0,c:0},e:{r:0,c:0}},Oe=G.sheetRows||0;if(E[2]==0&&(E[3]==8||E[3]==9)&&E.length>=16&&E[14]==5&&E[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(E[2]==2)G.Enum=U,e(E,function(ke,Ge,Le){switch(Le){case 0:G.vers=ke,ke>=4096&&(G.qpro=!0);break;case 6:Q=ke;break;case 204:ke&&(ee=ke);break;case 222:ee=ke;break;case 15:case 51:G.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:Le==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=G.dateNF||hr[14],G.cellDates&&(ke[1].t="d",ke[1].v=Tw(ke[1].v))),G.qpro&&ke[3]>se&&(q["!ref"]=Lr(Q),J[K]=q,ce.push(K),q=G.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},se=ke[3],K=ee||"Sheet"+(se+1),ee="");var qe=G.dense?(q[ke[0].r]||[])[ke[0].c]:q[or(ke[0])];if(qe){qe.t=ke[1].t,qe.v=ke[1].v,ke[1].z!=null&&(qe.z=ke[1].z),ke[1].f!=null&&(qe.f=ke[1].f);break}G.dense?(q[ke[0].r]||(q[ke[0].r]=[]),q[ke[0].r][ke[0].c]=ke[1]):q[or(ke[0])]=ke[1];break}},G);else if(E[2]==26||E[2]==14)G.Enum=X,E[2]==14&&(G.qpro=!0,E.l=0),e(E,function(ke,Ge,Le){switch(Le){case 204:K=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>se&&(q["!ref"]=Lr(Q),J[K]=q,ce.push(K),q=G.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},se=ke[3],K="Sheet"+(se+1)),Oe>0&&ke[0].r>=Oe)break;G.dense?(q[ke[0].r]||(q[ke[0].r]=[]),q[ke[0].r][ke[0].c]=ke[1]):q[or(ke[0])]=ke[1],Q.e.c<ke[0].c&&(Q.e.c=ke[0].c),Q.e.r<ke[0].r&&(Q.e.r=ke[0].r);break;case 27:ke[14e3]&&(pe[ke[14e3][0]]=ke[14e3][1]);break;case 1537:pe[ke[0]]=ke[1],ke[0]==se&&(K=ke[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+E[2]);if(q["!ref"]=Lr(Q),J[ee||K]=q,ce.push(ee||K),!pe.length)return{SheetNames:ce,Sheets:J};for(var $e={},Ae=[],Z=0;Z<pe.length;++Z)J[ce[Z]]?(Ae.push(pe[Z]||ce[Z]),$e[pe[Z]]=J[pe[Z]]||J[ce[Z]]):(Ae.push(pe[Z]),$e[pe[Z]]={"!ref":"A1"});return{SheetNames:Ae,Sheets:$e}}function n(E,H){var G=H||{};if(+G.codepage>=0&&Ro(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var q=XN(),K=qn(E["!ref"]),ee=Array.isArray(E),se=[];wo(q,0,i(1030)),wo(q,6,c(K));for(var J=Math.min(K.e.r,8191),ce=K.s.r;ce<=J;++ce)for(var pe=Xa(ce),Q=K.s.c;Q<=K.e.c;++Q){ce===K.s.r&&(se[Q]=ba(Q));var Oe=se[Q]+pe,$e=ee?(E[ce]||[])[Q]:E[Oe];if(!(!$e||$e.t=="z"))if($e.t=="n")($e.v|0)==$e.v&&$e.v>=-32768&&$e.v<=32767?wo(q,13,p(ce,Q,$e.v)):wo(q,14,m(ce,Q,$e.v));else{var Ae=_c($e);wo(q,15,f(ce,Q,Ae.slice(0,239)))}}return wo(q,1),q.end()}function a(E,H){var G=H||{};if(+G.codepage>=0&&Ro(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var q=XN();wo(q,0,o(E));for(var K=0,ee=0;K<E.SheetNames.length;++K)(E.Sheets[E.SheetNames[K]]||{})["!ref"]&&wo(q,27,F(E.SheetNames[K],ee++));var se=0;for(K=0;K<E.SheetNames.length;++K){var J=E.Sheets[E.SheetNames[K]];if(!(!J||!J["!ref"])){for(var ce=qn(J["!ref"]),pe=Array.isArray(J),Q=[],Oe=Math.min(ce.e.r,8191),$e=ce.s.r;$e<=Oe;++$e)for(var Ae=Xa($e),Z=ce.s.c;Z<=ce.e.c;++Z){$e===ce.s.r&&(Q[Z]=ba(Z));var ke=Q[Z]+Ae,Ge=pe?(J[$e]||[])[Z]:J[ke];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")wo(q,23,W($e,Z,se,Ge.v));else{var Le=_c(Ge);wo(q,22,S($e,Z,se,Le.slice(0,239)))}}++se}}return wo(q,1),q.end()}function i(E){var H=ga(2);return H.write_shift(2,E),H}function o(E){var H=ga(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var G=0,q=0,K=0,ee=0;ee<E.SheetNames.length;++ee){var se=E.SheetNames[ee],J=E.Sheets[se];if(!(!J||!J["!ref"])){++K;var ce=rp(J["!ref"]);G<ce.e.r&&(G=ce.e.r),q<ce.e.c&&(q=ce.e.c)}}return G>8191&&(G=8191),H.write_shift(2,G),H.write_shift(1,K),H.write_shift(1,q),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function l(E,H,G){var q={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&G.qpro?(q.s.c=E.read_shift(1),E.l++,q.s.r=E.read_shift(2),q.e.c=E.read_shift(1),E.l++,q.e.r=E.read_shift(2),q):(q.s.c=E.read_shift(2),q.s.r=E.read_shift(2),H==12&&G.qpro&&(E.l+=2),q.e.c=E.read_shift(2),q.e.r=E.read_shift(2),H==12&&G.qpro&&(E.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(E){var H=ga(8);return H.write_shift(2,E.s.c),H.write_shift(2,E.s.r),H.write_shift(2,E.e.c),H.write_shift(2,E.e.r),H}function u(E,H,G){var q=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(q[0].c=E.read_shift(1),q[3]=E.read_shift(1),q[0].r=E.read_shift(2),E.l+=2):(q[2]=E.read_shift(1),q[0].c=E.read_shift(2),q[0].r=E.read_shift(2)),q}function d(E,H,G){var q=E.l+H,K=u(E,H,G);if(K[1].t="s",G.vers==20768){E.l++;var ee=E.read_shift(1);return K[1].v=E.read_shift(ee,"utf8"),K}return G.qpro&&E.l++,K[1].v=E.read_shift(q-E.l,"cstr"),K}function f(E,H,G){var q=ga(7+G.length);q.write_shift(1,255),q.write_shift(2,H),q.write_shift(2,E),q.write_shift(1,39);for(var K=0;K<q.length;++K){var ee=G.charCodeAt(K);q.write_shift(1,ee>=128?95:ee)}return q.write_shift(1,0),q}function h(E,H,G){var q=u(E,H,G);return q[1].v=E.read_shift(2,"i"),q}function p(E,H,G){var q=ga(7);return q.write_shift(1,255),q.write_shift(2,H),q.write_shift(2,E),q.write_shift(2,G,"i"),q}function v(E,H,G){var q=u(E,H,G);return q[1].v=E.read_shift(8,"f"),q}function m(E,H,G){var q=ga(13);return q.write_shift(1,255),q.write_shift(2,H),q.write_shift(2,E),q.write_shift(8,G,"f"),q}function x(E,H,G){var q=E.l+H,K=u(E,H,G);if(K[1].v=E.read_shift(8,"f"),G.qpro)E.l=q;else{var ee=E.read_shift(2);j(E.slice(E.l,E.l+ee),K),E.l+=ee}return K}function g(E,H,G){var q=H&32768;return H&=-32769,H=(q?E:0)+(H>=8192?H-16384:H),(q?"":"$")+(G?ba(H):Xa(H))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(E,H){qa(E,0);for(var G=[],q=0,K="",ee="",se="",J="";E.l<E.length;){var ce=E[E.l++];switch(ce){case 0:G.push(E.read_shift(8,"f"));break;case 1:ee=g(H[0].c,E.read_shift(2),!0),K=g(H[0].r,E.read_shift(2),!1),G.push(ee+K);break;case 2:{var pe=g(H[0].c,E.read_shift(2),!0),Q=g(H[0].r,E.read_shift(2),!1);ee=g(H[0].c,E.read_shift(2),!0),K=g(H[0].r,E.read_shift(2),!1),G.push(pe+Q+":"+ee+K)}break;case 3:if(E.l<E.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(E.read_shift(2));break;case 6:{for(var Oe="";ce=E[E.l++];)Oe+=String.fromCharCode(ce);G.push('"'+Oe.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:J=G.pop(),se=G.pop(),G.push(["AND","OR"][ce-20]+"("+se+","+J+")");break;default:if(ce<32&&b[ce])J=G.pop(),se=G.pop(),G.push(se+b[ce]+J);else if(y[ce]){if(q=y[ce][1],q==69&&(q=E[E.l++]),q>G.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+G.join("|")+"|");return}var $e=G.slice(-q);G.length-=q,G.push(y[ce][0]+"("+$e.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}G.length==1?H[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function _(E){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=E.read_shift(2),H[3]=E[E.l++],H[0].c=E[E.l++],H}function N(E,H){var G=_(E);return G[1].t="s",G[1].v=E.read_shift(H-4,"cstr"),G}function S(E,H,G,q){var K=ga(6+q.length);K.write_shift(2,E),K.write_shift(1,G),K.write_shift(1,H),K.write_shift(1,39);for(var ee=0;ee<q.length;++ee){var se=q.charCodeAt(ee);K.write_shift(1,se>=128?95:se)}return K.write_shift(1,0),K}function A(E,H){var G=_(E);G[1].v=E.read_shift(2);var q=G[1].v>>1;if(G[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return G[1].v=q,G}function P(E,H){var G=_(E),q=E.read_shift(4),K=E.read_shift(4),ee=E.read_shift(2);if(ee==65535)return q===0&&K===3221225472?(G[1].t="e",G[1].v=15):q===0&&K===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var se=ee&32768;return ee=(ee&32767)-16446,G[1].v=(1-se*2)*(K*Math.pow(2,ee+32)+q*Math.pow(2,ee)),G}function W(E,H,G,q){var K=ga(14);if(K.write_shift(2,E),K.write_shift(1,G),K.write_shift(1,H),q==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var ee=0,se=0,J=0,ce=0;return q<0&&(ee=1,q=-q),se=Math.log2(q)|0,q/=Math.pow(2,se-31),ce=q>>>0,ce&2147483648||(q/=2,++se,ce=q>>>0),q-=ce,ce|=2147483648,ce>>>=0,q*=Math.pow(2,32),J=q>>>0,K.write_shift(4,J),K.write_shift(4,ce),se+=16383+(ee?32768:0),K.write_shift(2,se),K}function C(E,H){var G=P(E);return E.l+=H-14,G}function k(E,H){var G=_(E),q=E.read_shift(4);return G[1].v=q>>6,G}function z(E,H){var G=_(E),q=E.read_shift(8,"f");return G[1].v=q,G}function I(E,H){var G=z(E);return E.l+=H-10,G}function R(E,H){return E[E.l+H-1]==0?E.read_shift(H,"cstr"):""}function V(E,H){var G=E[E.l++];G>H-1&&(G=H-1);for(var q="";q.length<G;)q+=String.fromCharCode(E[E.l++]);return q}function L(E,H,G){if(!(!G.qpro||H<21)){var q=E.read_shift(1);E.l+=17,E.l+=1,E.l+=2;var K=E.read_shift(H-21,"cstr");return[q,K]}}function M(E,H){for(var G={},q=E.l+H;E.l<q;){var K=E.read_shift(2);if(K==14e3){for(G[K]=[0,""],G[K][0]=E.read_shift(2);E[E.l];)G[K][1]+=String.fromCharCode(E[E.l]),E.l++;E.l++}}return G}function F(E,H){var G=ga(5+E.length);G.write_shift(2,14e3),G.write_shift(2,H);for(var q=0;q<E.length;++q){var K=E.charCodeAt(q);G[G.l++]=K>127?95:K}return G[G.l++]=0,G}var U={0:{n:"BOF",f:ua},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:R},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:I},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:R},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:L},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function phe(e){var t={},r=e.match(_i),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Jt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=eC[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var mhe=function(){var e=Gg("t"),t=Gg("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:Br(o[1])},c=i.match(t);return c&&(l.s=phe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),ghe=function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),vhe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,xhe=/<(?:\w+:)?r>/,yhe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function vC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Br(gn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=gn(e),r&&(n.h=oC(n.t))):e.match(xhe)&&(n.r=gn(e),n.t=Br(gn((e.replace(yhe,"").match(vhe)||[]).join("").replace(_i,""))),r&&(n.h=ghe(mhe(n.r)))),n):{t:""}}var bhe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,whe=/<(?:\w+:)?(?:si|sstItem)>/g,_he=/<\/(?:\w+:)?(?:si|sstItem)>/;function jhe(e,t){var r=[],n="";if(!e)return r;var a=e.match(bhe);if(a){n=a[2].replace(whe,"").split(_he);for(var i=0;i!=n.length;++i){var o=vC(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=Jt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function She(e){return[e.read_shift(4),e.read_shift(4)]}function Nhe(e,t){var r=[],n=!1;return Tc(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function pV(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function cc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Ahe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=cc(e,4),t.U=cc(e,4),t.W=cc(e,4),t}function The(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Che(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(The(e));return t}function Ehe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function khe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=cc(e,4),t.U=cc(e,4),t.W=cc(e,4),t}function Phe(e){var t=khe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function mV(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function gV(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Ohe(e){var t=cc(e);switch(t.Minor){case 2:return[t.Minor,Fhe(e)];case 3:return[t.Minor,Dhe()];case 4:return[t.Minor,Lhe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Fhe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=mV(e,r),a=gV(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Dhe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Lhe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(_i,function(i){var o=Jt(i);switch(Cl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function Ihe(e,t){var r={},n=r.EncryptionVersionInfo=cc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=mV(e,a),t-=a,r.EncryptionVerifier=gV(e,t),r}function Mhe(e){var t={},r=t.EncryptionVersionInfo=cc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Rhe(e){var t=0,r,n=pV(e),a=n.length+1,i,o,l,c,u;for(r=Ru(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var vV=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=pV(o),c=i(l),u=l.length,d=Ru(16),f=0;f!=16;++f)d[f]=0;var h,p,v;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=l[l.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,v=15-l.length;v>0;)h=c>>8,d[u]=a(e[v],h),--u,--v,h=c&255,d[u]=a(l[u],h),--u,--v;return d}}(),$he=function(e,t,r,n,a){a||(a=t),n||(n=vV(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},Bhe=function(e){var t=0,r=vV(e);return function(n){var a=$he("",n,t,r);return t=a[1],a[0]}};function Uhe(e,t,r,n){var a={key:ua(e),verificationBytes:ua(e)};return r.password&&(a.verifier=Rhe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Bhe(r.password)),a}function zhe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Mhe(e):n.Data=Ihe(e,t),n}function Vhe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?zhe(e,t-2,n):Uhe(e,r.biff>=8?t:t-2,r,n),n}var Hhe=function(){function e(a,i){switch(i.type){case"base64":return t(ks(a),i);case"binary":return t(a,i);case"buffer":return t(kr&&Buffer.isBuffer(a)?a.toString("binary"):yf(a),i);case"array":return t(sf(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,v,m=-1;v=h.exec(d);){switch(v[0]){case"\\cell":var x=d.slice(p,h.lastIndex-v[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var g={v:x,t:"s"};Array.isArray(l)?l[f][m]=g:l[or({r:f,c:m})]=g}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=Lr(u),l}function r(a,i){return Ku(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=qn(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=or({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(_c(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Whe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Xg(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function qhe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function Ghe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function F2(e,t){if(t===0)return e;var r=qhe(Whe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Xg(Ghe(r))}var xV=6,Khe=15,Yhe=1,ki=xV;function D2(e){return Math.floor((e+Math.round(128/ki)/256)*ki)}function L2(e){return Math.floor((e-5)/ki*100+.5)/100}function e4(e){return Math.round((e*ki+5)/ki*256)/256}function mj(e){return e4(L2(D2(e)))}function xC(e){var t=Math.abs(e-mj(e)),r=ki;if(t>.005)for(ki=Yhe;ki<Khe;++ki)Math.abs(e-mj(e))<=t&&(t=Math.abs(e-mj(e)),r=ki);ki=r}function x0(e){e.width?(e.wpx=D2(e.width),e.wch=L2(e.wpx),e.MDW=ki):e.wpx?(e.wch=L2(e.wpx),e.width=e4(e.wch),e.MDW=ki):typeof e.wch=="number"&&(e.width=e4(e.wch),e.wpx=D2(e.width),e.MDW=ki),e.customWidth&&delete e.customWidth}var Xhe=96,yV=Xhe;function bV(e){return e*96/yV}function Jg(e){return e*yV/96}var Jhe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Qhe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(_i)||[]).forEach(function(o){var l=Jt(o);switch(Cl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Tn(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Tn(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function Zhe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(_i)||[]).forEach(function(o){var l=Jt(o);switch(Cl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function e0e(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(_i)||[]).forEach(function(o){var l=Jt(o);switch(Cl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=gn(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Tn(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Tn(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Tn(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Tn(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Tn(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Tn(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Tn(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=eC[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Tn(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Ud[a.color.index];a.color.index==81&&(c=Ud[1]),c||(c=Ud[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=F2(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function t0e(e,t,r){t.NumberFmt=[];for(var n=Nl(hr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=hr[n[a]];var i=e[0].match(_i);if(i)for(a=0;a<i.length;++a){var o=Jt(i[a]);switch(Cl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Br(gn(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Bd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var q1=["numFmtId","fillId","fontId","borderId","xfId"],G1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function r0e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(_i)||[]).forEach(function(i){var o=Jt(i),l=0;switch(Cl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<q1.length;++l)n[q1[l]]&&(n[q1[l]]=parseInt(n[q1[l]],10));for(l=0;l<G1.length;++l)n[G1[l]]&&(n[G1[l]]=Tn(n[G1[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Tn(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var n0e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&t0e(f,d,u),(f=l.match(a))&&e0e(f,d,c,u),(f=l.match(n))&&Zhe(f,d,c,u),(f=l.match(i))&&Qhe(f,d,c,u),(f=l.match(r))&&r0e(f,d,u),d}}();function a0e(e,t){var r=e.read_shift(2),n=xi(e);return[r,n]}function i0e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=mde(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=pde(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=xi(e),n}var s0e=wi;function o0e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var l0e=wi;function c0e(e,t,r){var n={};n.NumberFmt=[];for(var a in hr)n.NumberFmt[a]=hr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Tc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Bd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=F2(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var u0e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function d0e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(_i)||[]).forEach(function(a){var i=Jt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[u0e.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function f0e(){}function h0e(){}var p0e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,m0e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,g0e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function v0e(e,t,r){t.themeElements={};var n;[["clrScheme",p0e,d0e],["fontScheme",m0e,f0e],["fmtScheme",g0e,h0e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var x0e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function wV(e,t){(!e||e.length===0)&&(e=y0e());var r,n={};if(!(r=e.match(x0e)))throw new Error("themeElements not found in theme");return v0e(r[0],n,t),n.raw=e,n}function y0e(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Oz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function b0e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=Pz(i,{type:"array"})}catch{return}var l=ys(o,"theme/theme/theme1.xml",!0);if(l)return wV(l,r)}}function w0e(e){return e.read_shift(4)}function _0e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=j0e(e,4);break;case 2:t.xclrValue=oV(e);break;case 3:t.xclrValue=w0e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function j0e(e,t){return wi(e,t)}function S0e(e,t){return wi(e,t)}function N0e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=_0e(e);break;case 6:n[1]=S0e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function A0e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(N0e(e,r-e.l));return{ixfe:n,ext:i}}function T0e(e,t){t.forEach(function(r){switch(r[0]){}})}function C0e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:xi(e)}}function E0e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function k0e(e){return e.l+=4,e.read_shift(4)!=0}function P0e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return Tc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function O0e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(_i,function(l){var c=Jt(l);switch(Cl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function F0e(e){var t=[];if(!e)return t;var r=1;return(e.match(_i)||[]).forEach(function(n){var a=Jt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function D0e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=or(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function L0e(e,t,r){var n=[];return Tc(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function I0e(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Tc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function M0e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function j8(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var l=Pi(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=qn(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Lr(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function R0e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Jt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Pi(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&vC(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function $0e(e,t){var r=[],n=!1,a={},i=0;return e.replace(_i,function(l,c){var u=Jt(l);switch(Cl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function B0e(e,t){var r=[],n=!1;return e.replace(_i,function(i){var o=Jt(i);switch(Cl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function U0e(e){var t={};t.iauthor=e.read_shift(4);var r=wf(e);return t.rfx=r.s,t.ref=or(r.s),e.l+=16,t}var z0e=xi;function V0e(e,t){var r=[],n=[],a={},i=!1;return Tc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var H0e="application/vnd.ms-office.vbaProject";function W0e(e){var t=Fr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Fr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Fr.write(t)}function q0e(){return{"!type":"dialog"}}function G0e(){return{"!type":"dialog"}}function K0e(){return{"!type":"macro"}}function Y0e(){return{"!type":"macro"}}var Yh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+ba(d)+(c?"":"$")+Xa(u)}return function(a,i){return t=i,a.replace(e,r)}}(),_V=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,X0e=function(){return function(t,r){return t.replace(_V,function(n,a,i,o,l,c){var u=dC(o)-(i?0:r.c),d=uC(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function jV(e,t){return e.replace(_V,function(r,n,a,i,o,l){return n+(a=="$"?a+i:ba(dC(i)+t.c))+(o=="$"?o+l:Xa(uC(l)+t.r))})}function J0e(e,t,r){var n=rp(t),a=n.s,i=Pi(r),o={r:i.r-a.r,c:i.c-a.c};return jV(e,o)}function Q0e(e){return e.length!=1}function S8(e){return e.replace(/_xlfn\./g,"")}function la(e){e.l+=1}function $u(e,t){var r=e.read_shift(t==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function SV(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return NV(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=$u(e,2),l=$u(e,2);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function NV(e){var t=$u(e,2),r=$u(e,2),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Z0e(e,t,r){if(r.biff<8)return NV(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=$u(e,2),o=$u(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function AV(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return epe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=$u(e,2);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function epe(e){var t=$u(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function tpe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function rpe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return npe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function npe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function ape(e,t,r){var n=(e[e.l++]&96)>>5,a=SV(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function ipe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=SV(e,i,r);return[n,a,o]}function spe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function ope(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function lpe(e,t,r){var n=(e[e.l++]&96)>>5,a=Z0e(e,t-1,r);return[n,a]}function cpe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function N8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function upe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function dpe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function fpe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function hpe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function ppe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function TV(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function mpe(e){return e.read_shift(2),TV(e)}function gpe(e){return e.read_shift(2),TV(e)}function vpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=AV(e,0,r);return[n,a]}function xpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=rpe(e,0,r);return[n,a]}function ype(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=AV(e,0,r);return[n,a,i]}function bpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[wme[a],kV[a],n]}function wpe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:_pe(e);return[a,(i[0]===0?kV:bme)[i[1]]]}function _pe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function jpe(e,t,r){e.l+=r&&r.biff==2?3:4}function Spe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Npe(e){return e.l++,_f[e.read_shift(1)]}function Ape(e){return e.l++,e.read_shift(2)}function Tpe(e){return e.l++,e.read_shift(1)!==0}function Cpe(e){return e.l++,pi(e)}function Epe(e,t,r){return e.l++,tx(e,t-1,r)}function kpe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Xn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=_f[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=pi(e);break;case 2:r[1]=jf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Ppe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?wf:Cw)(e));return a}function Ope(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=kpe(e,r.biff);return o}function Fpe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Dpe(e,t,r){if(r.biff==5)return Lpe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Lpe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Ipe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Mpe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Rpe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function $pe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Bpe=wi,Upe=wi,zpe=wi;function nx(e,t,r){return e.l+=2,[tpe(e)]}function yC(e){return e.l+=6,[]}var Vpe=nx,Hpe=yC,Wpe=yC,qpe=nx;function CV(e){return e.l+=2,[ua(e),e.read_shift(2)&1]}var Gpe=nx,Kpe=CV,Ype=yC,Xpe=nx,Jpe=nx,Qpe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Zpe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=Qpe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function eme(e){return e.l+=2,[e.read_shift(4)]}function tme(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function rme(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function nme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ame(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ime(e){return e.l+=4,[0,0]}var A8={1:{n:"PtgExp",f:Spe},2:{n:"PtgTbl",f:zpe},3:{n:"PtgAdd",f:la},4:{n:"PtgSub",f:la},5:{n:"PtgMul",f:la},6:{n:"PtgDiv",f:la},7:{n:"PtgPower",f:la},8:{n:"PtgConcat",f:la},9:{n:"PtgLt",f:la},10:{n:"PtgLe",f:la},11:{n:"PtgEq",f:la},12:{n:"PtgGe",f:la},13:{n:"PtgGt",f:la},14:{n:"PtgNe",f:la},15:{n:"PtgIsect",f:la},16:{n:"PtgUnion",f:la},17:{n:"PtgRange",f:la},18:{n:"PtgUplus",f:la},19:{n:"PtgUminus",f:la},20:{n:"PtgPercent",f:la},21:{n:"PtgParen",f:la},22:{n:"PtgMissArg",f:la},23:{n:"PtgStr",f:Epe},26:{n:"PtgSheet",f:tme},27:{n:"PtgEndSheet",f:rme},28:{n:"PtgErr",f:Npe},29:{n:"PtgBool",f:Tpe},30:{n:"PtgInt",f:Ape},31:{n:"PtgNum",f:Cpe},32:{n:"PtgArray",f:cpe},33:{n:"PtgFunc",f:bpe},34:{n:"PtgFuncVar",f:wpe},35:{n:"PtgName",f:Fpe},36:{n:"PtgRef",f:vpe},37:{n:"PtgArea",f:ape},38:{n:"PtgMemArea",f:Ipe},39:{n:"PtgMemErr",f:Bpe},40:{n:"PtgMemNoMem",f:Upe},41:{n:"PtgMemFunc",f:Mpe},42:{n:"PtgRefErr",f:Rpe},43:{n:"PtgAreaErr",f:spe},44:{n:"PtgRefN",f:xpe},45:{n:"PtgAreaN",f:lpe},46:{n:"PtgMemAreaN",f:nme},47:{n:"PtgMemNoMemN",f:ame},57:{n:"PtgNameX",f:Dpe},58:{n:"PtgRef3d",f:ype},59:{n:"PtgArea3d",f:ipe},60:{n:"PtgRefErr3d",f:$pe},61:{n:"PtgAreaErr3d",f:ope},255:{}},sme={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ome={1:{n:"PtgElfLel",f:CV},2:{n:"PtgElfRw",f:Xpe},3:{n:"PtgElfCol",f:Vpe},6:{n:"PtgElfRwV",f:Jpe},7:{n:"PtgElfColV",f:qpe},10:{n:"PtgElfRadical",f:Gpe},11:{n:"PtgElfRadicalS",f:Ype},13:{n:"PtgElfColS",f:Hpe},15:{n:"PtgElfColSV",f:Wpe},16:{n:"PtgElfRadicalLel",f:Kpe},25:{n:"PtgList",f:Zpe},29:{n:"PtgSxName",f:eme},255:{}},lme={0:{n:"PtgAttrNoop",f:ime},1:{n:"PtgAttrSemi",f:ppe},2:{n:"PtgAttrIf",f:fpe},4:{n:"PtgAttrChoose",f:upe},8:{n:"PtgAttrGoto",f:dpe},16:{n:"PtgAttrSum",f:jpe},32:{n:"PtgAttrBaxcel",f:N8},33:{n:"PtgAttrBaxcel",f:N8},64:{n:"PtgAttrSpace",f:mpe},65:{n:"PtgAttrSpaceSemi",f:gpe},128:{n:"PtgAttrIfError",f:hpe},255:{}};function ax(e,t,r,n){if(n.biff<8)return wi(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Ope(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Ppe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(wi(e,t)),i}function ix(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=A8[i]||A8[sme[i]],(i===24||i===25)&&(a=(i===24?ome:lme)[e[e.l+1]]),!a||!a.f?wi(e,t):o.push([a.n,a.f(e,t,r)]);return o}function cme(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var ume={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dme(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function EV(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function T8(e,t,r){var n=EV(e,t,r);return n=="#REF"?n:dme(n,r)}function ui(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,v="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",g=0,y=e[0].length;g<y;++g){var b=e[0][g];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=Vn(" ",e[0][m][1][1]);break;case 1:x=Vn("\r",e[0][m][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+x,m=-1}l.push(u+ume[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=tg(b[1][1],o,a),l.push(rg(d,i));break;case"PtgRefN":d=r?tg(b[1][1],r,a):b[1][1],l.push(rg(d,i));break;case"PtgRef3d":f=b[1][1],d=tg(b[1][2],o,a),v=T8(n,f,a),l.push(v+"!"+rg(d,i));break;case"PtgFunc":case"PtgFuncVar":var j=b[1][0],_=b[1][1];j||(j=0),j&=127;var N=j==0?[]:l.slice(-j);l.length-=j,_==="User"&&(_=N.shift()),l.push(_+"("+N.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":p=o8(b[1][1],r?{s:r}:o,a),l.push(hj(p,a));break;case"PtgArea":p=o8(b[1][1],o,a),l.push(hj(p,a));break;case"PtgArea3d":f=b[1][1],p=b[1][2],v=T8(n,f,a),l.push(v+"!"+hj(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],A=S?S.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var P=b[1][1];h=b[1][2];var W;if(a.biff<=5)P<0&&(P=-P),n[P]&&(W=n[P][h]);else{var C="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][h]&&n[P][h].itab>0&&(C=n.SheetNames[n[P][h].itab-1]+"!"):C=n.SheetNames[h-1]+"!"),n[P]&&n[P][h])C+=n[P][h].Name;else if(n[0]&&n[0][h])C+=n[0][h].Name;else{var k=(EV(n,P,a)||"").split(";;");k[h-1]?C=k[h-1]:C+="SH33TJSERRX"}l.push(C);break}W||(W={Name:"SH33TJSERRY"}),l.push(W.Name);break;case"PtgParen":var z="(",I=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:z=Vn(" ",e[0][m][1][1])+z;break;case 3:z=Vn("\r",e[0][m][1][1])+z;break;case 4:I=Vn(" ",e[0][m][1][1])+I;break;case 5:I=Vn("\r",e[0][m][1][1])+I;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(z+l.pop()+I);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var R={c:r.c,r:r.r};if(n.sharedf[or(d)]){var V=n.sharedf[or(d)];l.push(ui(V,o,R,n,a))}else{var L=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(ui(u[1],o,R,n,a)),L=!0;break}L||l.push(b[1])}break;case"PtgArray":l.push("{"+cme(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&M.indexOf(e[0][g][0])==-1){b=e[0][m];var F=!0;switch(b[1][0]){case 4:F=!1;case 0:x=Vn(" ",b[1][1]);break;case 5:F=!1;case 1:x=Vn("\r",b[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((F?x:"")+l.pop()+(F?"":x)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function fme(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],wi(e,t-2)];var l=ix(e,o,r);return t!==o+a&&(i=ax(e,t-o-a,l,r)),e.l=n,[l,i]}function hme(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],wi(e,t-2)];var l=ix(e,o,r);return t!==o+a&&(i=ax(e,t-o-a,l,r)),e.l=n,[l,i]}function pme(e,t,r,n){var a=e.l+t,i=ix(e,n,r),o;return a!==e.l&&(o=ax(e,a-e.l,i,r)),[i,o]}function mme(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=ix(e,i,r);return i==65535?[[],wi(e,t-2)]:(t!==i+2&&(a=ax(e,n-i-2,o,r)),[o,a])}function gme(e){var t;if(ec(e,e.l+6)!==65535)return[pi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function gj(e,t,r){var n=e.l+t,a=El(e);r.biff==2&&++e.l;var i=gme(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=hme(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function Ew(e,t,r){var n=e.read_shift(4),a=ix(e,n,r),i=e.read_shift(4),o=i>0?ax(e,i,a,r):null;return[a,o]}var vme=Ew,kw=Ew,xme=Ew,yme=Ew,bme={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},kV={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},wme={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function C8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function vj(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var sg={},Xh={};function og(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function PV(e,t,r,n,a,i){try{n.cellNF&&(e.z=hr[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ia(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(hr[t]==null&&Bd(jue[t]||"General",t),e.t==="e")e.w=e.w||_f[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qg(e.v);else if(e.t==="d"){var o=Mi(e.v);(o|0)===o?e.w=o.toString(10):e.w=qg(o)}else{if(e.v===void 0)return"";e.w=af(e.v,Xh)}else e.t==="d"?e.w=so(t,Mi(e.v),Xh):e.w=so(t,e.v,Xh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=F2(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=F2(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function _me(e,t){var r=qn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Lr(r))}var jme=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Sme=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Nme=/<(?:\w:)?hyperlink [^>]*>/mg,Ame=/"(\w*:\w*)"/,Tme=/<(?:\w:)?col\b[^>]*[\/]?>/g,Cme=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Eme=/<(?:\w:)?pageMargins[^>]*\/>/g,OV=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,kme=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Pme=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Ome(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Sme);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(OV);h?bC(h[0],l,a,r):(h=u.match(kme))&&Fme(h[0],h[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=u.slice(p,p+50).match(Ame);v&&_me(l,v[1])}var m=u.match(Pme);m&&m[1]&&$me(m[1],a);var x=[];if(t.cellStyles){var g=u.match(Tme);g&&Ime(x,g)}f&&Bme(f[1],l,t,c,i,o);var y=d.match(Cme);y&&(l["!autofilter"]=Mme(y[0]));var b=[],j=d.match(jme);if(j)for(p=0;p!=j.length;++p)b[p]=qn(j[p].slice(j[p].indexOf('"')+1));var _=d.match(Nme);_&&Dme(l,_,n);var N=d.match(Eme);if(N&&(l["!margins"]=Lme(Jt(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Lr(c)),t.sheetRows>0&&l["!ref"]){var S=qn(l["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Lr(S))}return x.length>0&&(l["!cols"]=x),b.length>0&&(l["!merges"]=b),l}function bC(e,t,r,n){var a=Jt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Br(gn(a.codeName)))}function Fme(e,t,r,n,a){bC(e.slice(0,e.indexOf(">")),r,n,a)}function Dme(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Jt(gn(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Br(i.location))):(i.Target="#"+Br(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=qn(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=or({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function Lme(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Ime(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Jt(t[n],!0);a.hidden&&(a.hidden=Tn(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,xC(a.width)),x0(a);i<=o;)e[i++]=Ya(a)}}function Mme(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Rme=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function $me(e,t){t.Views||(t.Views=[{}]),(e.match(Rme)||[]).forEach(function(r,n){var a=Jt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Tn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Bme=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Gg("v"),o=Gg("f");return function(c,u,d,f,h,p){for(var v=0,m="",x=[],g=[],y=0,b=0,j=0,_="",N,S,A=0,P=0,W,C,k=0,z=0,I=Array.isArray(p.CellXf),R,V=[],L=[],M=Array.isArray(u),F=[],U={},X=!1,E=!!d.sheetStubs,H=c.split(t),G=0,q=H.length;G!=q;++G){m=H[G].trim();var K=m.length;if(K!==0){var ee=0;e:for(v=0;v<K;++v)switch(m[v]){case">":if(m[v-1]!="/"){++v;break e}if(d&&d.cellStyles){if(S=Jt(m.slice(ee,v),!0),A=S.r!=null?parseInt(S.r,10):A+1,P=-1,d.sheetRows&&d.sheetRows<A)continue;U={},X=!1,S.ht&&(X=!0,U.hpt=parseFloat(S.ht),U.hpx=Jg(U.hpt)),S.hidden=="1"&&(X=!0,U.hidden=!0),S.outlineLevel!=null&&(X=!0,U.level=+S.outlineLevel),X&&(F[A-1]=U)}break;case"<":ee=v;break}if(ee>=v)break;if(S=Jt(m.slice(ee,v),!0),A=S.r!=null?parseInt(S.r,10):A+1,P=-1,!(d.sheetRows&&d.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),d&&d.cellStyles&&(U={},X=!1,S.ht&&(X=!0,U.hpt=parseFloat(S.ht),U.hpx=Jg(U.hpt)),S.hidden=="1"&&(X=!0,U.hidden=!0),S.outlineLevel!=null&&(X=!0,U.level=+S.outlineLevel),X&&(F[A-1]=U)),x=m.slice(v).split(e);for(var se=0;se!=x.length&&x[se].trim().charAt(0)=="<";++se);for(x=x.slice(se),v=0;v!=x.length;++v)if(m=x[v].trim(),m.length!==0){if(g=m.match(r),y=v,b=0,j=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,g!=null&&g.length===2){for(y=0,_=g[1],b=0;b!=_.length&&!((j=_.charCodeAt(b)-64)<1||j>26);++b)y=26*y+j;--y,P=y}else++P;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,S=Jt(m.slice(0,b),!0),S.r||(S.r=or({r:A-1,c:P})),_=m.slice(b),N={t:""},(g=_.match(i))!=null&&g[1]!==""&&(N.v=Br(g[1])),d.cellFormula){if((g=_.match(o))!=null&&g[1]!==""){if(N.f=Br(gn(g[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=S8(N.f)),g[0].indexOf('t="array"')>-1)N.F=(_.match(a)||[])[1],N.F.indexOf(":")>-1&&V.push([qn(N.F),N.F]);else if(g[0].indexOf('t="shared"')>-1){C=Jt(g[0]);var J=Br(gn(g[1]));d.xlfn||(J=S8(J)),L[parseInt(C.si,10)]=[C,J,S.r]}}else(g=_.match(/<f[^>]*\/>/))&&(C=Jt(g[0]),L[C.si]&&(N.f=J0e(L[C.si][1],L[C.si][2],S.r)));var ce=Pi(S.r);for(b=0;b<V.length;++b)ce.r>=V[b][0].s.r&&ce.r<=V[b][0].e.r&&ce.c>=V[b][0].s.c&&ce.c<=V[b][0].e.c&&(N.F=V[b][1])}if(S.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(E)N.t="z";else continue;else N.t=S.t||"n";switch(f.s.c>P&&(f.s.c=P),f.e.c<P&&(f.e.c=P),N.t){case"n":if(N.v==""||N.v==null){if(!E)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!E)continue;N.t="z"}else W=sg[parseInt(N.v,10)],N.v=W.t,N.r=W.r,d.cellHTML&&(N.h=W.h);break;case"str":N.t="s",N.v=N.v!=null?gn(N.v):"",d.cellHTML&&(N.h=oC(N.v));break;case"inlineStr":g=_.match(n),N.t="s",g!=null&&(W=vC(g[1]))?(N.v=W.t,d.cellHTML&&(N.h=W.h)):N.v="";break;case"b":N.v=Tn(N.v);break;case"d":d.cellDates?N.v=Ia(N.v,1):(N.v=Mi(Ia(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=Zz[N.v];break}if(k=z=0,R=null,I&&S.s!==void 0&&(R=p.CellXf[S.s],R!=null&&(R.numFmtId!=null&&(k=R.numFmtId),d.cellStyles&&R.fillId!=null&&(z=R.fillId))),PV(N,k,z,d,h,p),d.cellDates&&I&&N.t=="n"&&tp(hr[k])&&(N.t="d",N.v=Tw(N.v)),S.cm&&d.xlmeta){var pe=(d.xlmeta.Cell||[])[+S.cm-1];pe&&pe.type=="XLDAPR"&&(N.D=!0)}if(M){var Q=Pi(S.r);u[Q.r]||(u[Q.r]=[]),u[Q.r][Q.c]=N}else u[S.r]=N}}}}F.length>0&&(u["!rows"]=F)}}();function Ume(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var zme=wf;function Vme(){}function Hme(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=fde(e),r}function Wme(e){var t=lo(e);return[t]}function qme(e){var t=bf(e);return[t]}function Gme(e){var t=lo(e),r=e.read_shift(1);return[t,r,"b"]}function Kme(e){var t=bf(e),r=e.read_shift(1);return[t,r,"b"]}function Yme(e){var t=lo(e),r=e.read_shift(1);return[t,r,"e"]}function Xme(e){var t=bf(e),r=e.read_shift(1);return[t,r,"e"]}function Jme(e){var t=lo(e),r=e.read_shift(4);return[t,r,"s"]}function Qme(e){var t=bf(e),r=e.read_shift(4);return[t,r,"s"]}function Zme(e){var t=lo(e),r=pi(e);return[t,r,"n"]}function FV(e){var t=bf(e),r=pi(e);return[t,r,"n"]}function ege(e){var t=lo(e),r=pC(e);return[t,r,"n"]}function tge(e){var t=bf(e),r=pC(e);return[t,r,"n"]}function rge(e){var t=lo(e),r=fC(e);return[t,r,"is"]}function nge(e){var t=lo(e),r=xi(e);return[t,r,"str"]}function age(e){var t=bf(e),r=xi(e);return[t,r,"str"]}function ige(e,t,r){var n=e.l+t,a=lo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=kw(e,n-e.l,r);o[3]=ui(l,null,a,r.supbooks,r)}else e.l=n;return o}function sge(e,t,r){var n=e.l+t,a=lo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=kw(e,n-e.l,r);o[3]=ui(l,null,a,r.supbooks,r)}else e.l=n;return o}function oge(e,t,r){var n=e.l+t,a=lo(e);a.r=r["!row"];var i=pi(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=kw(e,n-e.l,r);o[3]=ui(l,null,a,r.supbooks,r)}else e.l=n;return o}function lge(e,t,r){var n=e.l+t,a=lo(e);a.r=r["!row"];var i=xi(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=kw(e,n-e.l,r);o[3]=ui(l,null,a,r.supbooks,r)}else e.l=n;return o}var cge=wf;function uge(e,t){var r=e.l+t,n=wf(e),a=hC(e),i=xi(e),o=xi(e),l=xi(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function dge(){}function fge(e,t,r){var n=e.l+t,a=Xz(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=vme(e,n-e.l,r);o[1]=l}else e.l=n;return o}function hge(e,t,r){var n=e.l+t,a=wf(e),i=[a];if(r.cellFormula){var o=yme(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}var pge=["left","right","top","bottom","header","footer"];function mge(e){var t={};return pge.forEach(function(r){t[r]=pi(e)}),t}function gge(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function vge(){}function xge(){}function yge(e,t,r,n,a,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,m,x,g,y,b,j,_,N=[];l.biff=12,l["!row"]=0;var S=0,A=!1,P=[],W={},C=l.supbooks||a.supbooks||[[]];if(C.sharedf=W,C.arrayf=P,C.SheetNames=a.SheetNames||a.Sheets.map(function(M){return M.name}),!l.supbooks&&(l.supbooks=C,a.Names))for(var k=0;k<a.Names.length;++k)C[0][k+1]=a.Names[k];var z=[],I=[],R=!1;I2[16]={n:"BrtShortReal",f:FV};var V;if(Tc(e,function(F,U,X){if(!h)switch(X){case 148:u=F;break;case 0:p=F,l.sheetRows&&l.sheetRows<=p.r&&(h=!0),j=Xa(x=p.r),l["!row"]=p.r,(F.hidden||F.hpt||F.level!=null)&&(F.hpt&&(F.hpx=Jg(F.hpt)),I[F.r]=F);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:F[2]},F[2]){case"n":v.v=F[1];break;case"s":b=sg[F[1]],v.v=b.t,v.r=b.r;break;case"b":v.v=!!F[1];break;case"e":v.v=F[1],l.cellText!==!1&&(v.w=_f[v.v]);break;case"str":v.t="s",v.v=F[1];break;case"is":v.t="s",v.v=F[1].t;break}if((m=o.CellXf[F[0].iStyleRef])&&PV(v,m.numFmtId,null,l,i,o),g=F[0].c==-1?g+1:F[0].c,l.dense?(c[x]||(c[x]=[]),c[x][g]=v):c[ba(g)+j]=v,l.cellFormula){for(A=!1,S=0;S<P.length;++S){var E=P[S];p.r>=E[0].s.r&&p.r<=E[0].e.r&&g>=E[0].s.c&&g<=E[0].e.c&&(v.F=Lr(E[0]),A=!0)}!A&&F.length>3&&(v.f=F[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>g&&(d.s.c=g),d.e.r<p.r&&(d.e.r=p.r),d.e.c<g&&(d.e.c=g),l.cellDates&&m&&v.t=="n"&&tp(hr[m.numFmtId])){var H=kd(v.v);H&&(v.t="d",v.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}V&&(V.type=="XLDAPR"&&(v.D=!0),V=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;v={t:"z",v:void 0},g=F[0].c==-1?g+1:F[0].c,l.dense?(c[x]||(c[x]=[]),c[x][g]=v):c[ba(g)+j]=v,d.s.r>p.r&&(d.s.r=p.r),d.s.c>g&&(d.s.c=g),d.e.r<p.r&&(d.e.r=p.r),d.e.c<g&&(d.e.c=g),V&&(V.type=="XLDAPR"&&(v.D=!0),V=void 0);break;case 176:N.push(F);break;case 49:V=((l.xlmeta||{}).Cell||[])[F-1];break;case 494:var G=n["!id"][F.relId];for(G?(F.Target=G.Target,F.loc&&(F.Target+="#"+F.loc),F.Rel=G):F.relId==""&&(F.Target="#"+F.loc),x=F.rfx.s.r;x<=F.rfx.e.r;++x)for(g=F.rfx.s.c;g<=F.rfx.e.c;++g)l.dense?(c[x]||(c[x]=[]),c[x][g]||(c[x][g]={t:"z",v:void 0}),c[x][g].l=F):(y=or({c:g,r:x}),c[y]||(c[y]={t:"z",v:void 0}),c[y].l=F);break;case 426:if(!l.cellFormula)break;P.push(F),_=l.dense?c[x][g]:c[ba(g)+j],_.f=ui(F[1],d,{r:p.r,c:g},C,l),_.F=Lr(F[0]);break;case 427:if(!l.cellFormula)break;W[or(F[0].s)]=F[1],_=l.dense?c[x][g]:c[ba(g)+j],_.f=ui(F[1],d,{r:p.r,c:g},C,l);break;case 60:if(!l.cellStyles)break;for(;F.e>=F.s;)z[F.e--]={width:F.w/256,hidden:!!(F.flags&1),level:F.level},R||(R=!0,xC(F.w/256)),x0(z[F.e+1]);break;case 161:c["!autofilter"]={ref:Lr(F)};break;case 476:c["!margins"]=F;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),F.name&&(a.Sheets[r].CodeName=F.name),(F.above||F.left)&&(c["!outline"]={above:F.above,left:F.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),F.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!U.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+X.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Lr(u||d)),l.sheetRows&&c["!ref"]){var L=qn(c["!ref"]);l.sheetRows<=+L.e.r&&(L.e.r=l.sheetRows-1,L.e.r>d.e.r&&(L.e.r=d.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>d.e.c&&(L.e.c=d.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Lr(L))}return N.length>0&&(c["!merges"]=N),z.length>0&&(c["!cols"]=z),I.length>0&&(c["!rows"]=I),c}function bge(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=Br((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function wge(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=bge(f);d.s.r=d.s.c=0,d.e.c=l,u=ba(l),h[0].forEach(function(p,v){o[u+Xa(v)]={t:"n",v:p,z:h[1]},c=v}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Lr(d)),o}function _ge(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(OV);return l&&bC(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function jge(e,t){e.l+=10;var r=xi(e);return{name:r}}function Sge(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Tc(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var DV=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Nge=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Age=[],Tge=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function E8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Tn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function k8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Tn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function LV(e){k8(e.WBProps,DV),k8(e.CalcPr,Tge),E8(e.WBView,Nge),E8(e.Sheets,Age),Xh.date1904=Tn(e.WBProps.date1904)}var Cge="][*?/\\".split("");function Ege(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return Cge.forEach(function(n){if(e.indexOf(n)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}var kge=/<\w+:workbook/;function Pge(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(_i,function(c,u){var d=Jt(c);switch(Cl(d[0])){case"<?xml":break;case"<workbook":c.match(kge)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":DV.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Tn(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=gn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Br(gn(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=gn(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Tn(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=Br(gn(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Yue.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return LV(r),r}function Oge(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=JN(e),r.name=xi(e),r}function Fge(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?xi(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Dge(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Lge(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=hde(e),o=xme(e,0,r),l=hC(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Ige(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],I2[16]={n:"BrtFRTArchID$",f:Dge},Tc(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ui(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),LV(r),r.Names=i,r.supbooks=o,r}function Mge(e,t,r){return t.slice(-4)===".bin"?Ige(e,r):Pge(e,r)}function Rge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?yge(e,n,r,a,i,o,l):Ome(e,n,r,a,i,o,l)}function $ge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?Sge(e,n,r,a,i):_ge(e,n,r,a,i)}function Bge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?K0e():Y0e()}function Uge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?q0e():G0e()}function zge(e,t,r,n){return t.slice(-4)===".bin"?c0e(e,r,n):n0e(e,r,n)}function Vge(e,t,r){return wV(e,r)}function Hge(e,t,r){return t.slice(-4)===".bin"?Nhe(e,r):jhe(e,r)}function Wge(e,t,r){return t.slice(-4)===".bin"?V0e(e,r):R0e(e,r)}function qge(e,t,r){return t.slice(-4)===".bin"?L0e(e):F0e(e)}function Gge(e,t,r,n){return r.slice(-4)===".bin"?I0e(e,t,r,n):void 0}function Kge(e,t,r){return t.slice(-4)===".bin"?P0e(e,t,r):O0e(e,t,r)}var IV=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,MV=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function bo(e,t){var r=e.split(/\s+/),n=[];if(t||(n[0]=r[0]),r.length===1)return n;var a=e.match(IV),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(MV),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function Yge(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(IV),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(MV),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var lg;function Xge(e,t){var r=lg[e]||Br(e);return r==="General"?af(t):so(r,t)}function Jge(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Tn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ia(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Br(t)]=a}function Qge(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||_f[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qg(e.v):e.w=af(e.v):e.w=Xge(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=lg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&tp(n)){var a=kd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Zge(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Jhe[n.Pattern]||n.Pattern)}e[t.ID]=t}function eve(e,t,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],v=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Tn(e);break;case"String":n.t="s",n.r=Q6(Br(e)),n.v=e.indexOf("<")>-1?Br(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ia(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Br(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Zz[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=Q6(t||e));break}if(Qge(n,d,u),u.cellFormula!==!1)if(n.Formula){var m=Br(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=Yh(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Yh("RC:RC",a):n.ArrayRange&&(n.F=Yh(n.ArrayRange,a),c.push([qn(n.F),n.F]))}else for(v=0;v<c.length;++v)a.r>=c[v][0].s.r&&a.r<=c[v][0].e.r&&a.c>=c[v][0].s.c&&a.c<=c[v][0].e.c&&(n.F=c[v][1]);u.cellStyles&&(p.forEach(function(x){!h.patternType&&x.patternType&&(h.patternType=x.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function tve(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function xj(e,t){var r=t||{};Sz();var n=Fm(lC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=gn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Ya(r);return o.type="string",Yg.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ge){a.indexOf("<"+Ge)>=0&&(i=!0)}),i)return uve(n,r);lg={"General Number":"General","General Date":hr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":hr[15],"Short Date":hr[14],"Long Time":hr[19],"Medium Time":hr[18],"Short Time":hr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:hr[2],Standard:hr[4],Percent:hr[10],Scientific:hr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},p="",v={},m={},x=bo('<Data ss:Type="String">'),g=0,y=0,b=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},N={},S="",A=0,P=[],W={},C={},k=0,z=[],I=[],R={},V=[],L,M=!1,F=[],U=[],X={},E=0,H=0,G={Sheets:[],WBProps:{date1904:!1}},q={};Kg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var K="";l=Kg.exec(n);)switch(l[3]=(K=l[3]).toLowerCase()){case"data":if(K=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?eve(n.slice(g,l.index),S,x,c[c.length-1][0]=="comment"?R:v,{c:y,r:b},_,V[y],m,F,r):(S="",x=bo(l[0]),g=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(I.length>0&&(v.c=I),(!r.sheetRows||r.sheetRows>b)&&v.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][y]=v):h[ba(y)+Xa(b)]=v),v.HRef&&(v.l={Target:Br(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(E=y+(parseInt(v.MergeAcross,10)|0),H=b+(parseInt(v.MergeDown,10)|0),P.push({s:{c:y,r:b},e:{c:E,r:H}})),!r.sheetStubs)v.MergeAcross?y=E+1:++y;else if(v.MergeAcross||v.MergeDown){for(var ee=y;ee<=E;++ee)for(var se=b;se<=H;++se)(ee>y||se>b)&&(r.dense?(h[se]||(h[se]=[]),h[se][ee]={t:"z"}):h[ba(ee)+Xa(se)]={t:"z"});y=E+1}else++y;else v=Yge(l[0]),v.Index&&(y=+v.Index-1),y<j.s.c&&(j.s.c=y),y>j.e.c&&(j.e.c=y),l[0].slice(-2)==="/>"&&++y,I=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<j.s.r&&(j.s.r=b),b>j.e.r&&(j.e.r=b),l[0].slice(-2)==="/>"&&(m=bo(l[0]),m.Index&&(b=+m.Index-1)),y=0,++b):(m=bo(l[0]),m.Index&&(b=+m.Index-1),X={},(m.AutoFitHeight=="0"||m.Height)&&(X.hpx=parseInt(m.Height,10),X.hpt=bV(X.hpx),U[b]=X),m.Hidden=="1"&&(X.hidden=!0,U[b]=X));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(h["!ref"]=Lr(j),r.sheetRows&&r.sheetRows<=j.e.r&&(h["!fullref"]=h["!ref"],j.e.r=r.sheetRows-1,h["!ref"]=Lr(j))),P.length&&(h["!merges"]=P),V.length>0&&(h["!cols"]=V),U.length>0&&(h["!rows"]=U),d[p]=h}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,c.push([l[3],!1]),u=bo(l[0]),p=Br(u.Name),h=r.dense?[]:{},P=[],F=[],U=[],q={name:p,Hidden:0},G.Sheets.push(q);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),V=[],M=!1}break;case"style":l[1]==="/"?Zge(_,N,r):N=bo(l[0]);break;case"numberformat":N.nf=Br(bo(l[0]).Format||"General"),lg[N.nf]&&(N.nf=lg[N.nf]);for(var J=0;J!=392&&hr[J]!=N.nf;++J);if(J==392){for(J=57;J!=392;++J)if(hr[J]==null){Bd(N.nf,J);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(L=bo(l[0]),L.Hidden&&(L.hidden=!0,delete L.Hidden),L.Width&&(L.wpx=parseInt(L.Width,10)),!M&&L.wpx>10){M=!0,ki=xV;for(var ce=0;ce<V.length;++ce)V[ce]&&x0(V[ce])}M&&x0(L),V[L.Index-1||V.length]=L;for(var pe=0;pe<+L.Span;++pe)V[V.length]=Ya(L);break;case"namedrange":if(l[1]==="/")break;G.Names||(G.Names=[]);var Q=Jt(l[0]),Oe={Name:Q.Name,Ref:Yh(Q.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(Oe.Sheet=G.Sheets.length-1),G.Names.push(Oe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=n.slice(A,l.index):A=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=bo(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Rde(W,K,n.slice(k,l.index)):k=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));tve(R),I.push(R)}else c.push([l[3],!1]),u=bo(l[0]),R={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var $e=bo(l[0]);h["!autofilter"]={ref:Yh($e.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return I8(n,r);var Ae=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ae=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ae=!1}break;case"excelworkbook":switch(l[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ae=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ae=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(k,l.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else k=l.index+l[0].length;break;case"header":h["!margins"]||og(h["!margins"]={},"xlml"),isNaN(+Jt(l[0]).Margin)||(h["!margins"].header=+Jt(l[0]).Margin);break;case"footer":h["!margins"]||og(h["!margins"]={},"xlml"),isNaN(+Jt(l[0]).Margin)||(h["!margins"].footer=+Jt(l[0]).Margin);break;case"pagemargins":var Z=Jt(l[0]);h["!margins"]||og(h["!margins"]={},"xlml"),isNaN(+Z.Top)||(h["!margins"].top=+Z.Top),isNaN(+Z.Left)||(h["!margins"].left=+Z.Left),isNaN(+Z.Right)||(h["!margins"].right=+Z.Right),isNaN(+Z.Bottom)||(h["!margins"].bottom=+Z.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ae=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ae=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ae=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ae=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ae=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ae=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ae=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ae=!1}break;case"smarttags":break;default:Ae=!1;break}if(Ae||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Jge(C,K,z,n.slice(k,l.index)):(z=l,k=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var ke={};return!r.bookSheets&&!r.bookProps&&(ke.Sheets=d),ke.SheetNames=f,ke.Workbook=G,ke.SSF=Ya(hr),ke.Props=W,ke.Custprops=C,ke}function t4(e,t){switch(jC(t=t||{}),t.type||"base64"){case"base64":return xj(ks(e),t);case"binary":case"buffer":case"file":return xj(e,t);case"array":return xj(yf(e),t)}}function rve(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=gde(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=vde(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var nve=[60,1084,2066,2165,2175];function ave(e,t,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=ec(r,r.l),u=r4[c],d=0;u!=null&&nve.indexOf(c)>-1;)i=ec(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=r4[c=ec(r,r.l)];var f=cu(o);qa(f,0);var h=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(h),h+=o[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function ol(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=hr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||_f[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=qg(e.v):e.w=af(e.v):e.w=so(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&tp(hr[n]||String(n))){var a=kd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function K1(e,t,r){return{v:e,ixfe:t,t:r}}function ive(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,h="",p,v,m,x,g={},y=[],b,j,_=[],N=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},P=function(ot){return ot<8?Ud[ot]:ot<64&&N[ot-8]||Ud[ot]},W=function(ot,rt,qt){var gt=rt.XF.data;if(!(!gt||!gt.patternType||!qt||!qt.cellStyles)){rt.s={},rt.s.patternType=gt.patternType;var jr;(jr=Xg(P(gt.icvFore)))&&(rt.s.fgColor={rgb:jr}),(jr=Xg(P(gt.icvBack)))&&(rt.s.bgColor={rgb:jr})}},C=function(ot,rt,qt){if(!(X>1)&&!(qt.sheetRows&&ot.r>=qt.sheetRows)){if(qt.cellStyles&&rt.XF&&rt.XF.data&&W(ot,rt,qt),delete rt.ixfe,delete rt.XF,f=ot,h=or(ot),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ot.r<o.s.r&&(o.s.r=ot.r),ot.c<o.s.c&&(o.s.c=ot.c),ot.r+1>o.e.r&&(o.e.r=ot.r+1),ot.c+1>o.e.c&&(o.e.c=ot.c+1),qt.cellFormula&&rt.f){for(var gt=0;gt<y.length;++gt)if(!(y[gt][0].s.c>ot.c||y[gt][0].s.r>ot.r)&&!(y[gt][0].e.c<ot.c||y[gt][0].e.r<ot.r)){rt.F=Lr(y[gt][0]),(y[gt][0].s.c!=ot.c||y[gt][0].s.r!=ot.r)&&delete rt.f,rt.f&&(rt.f=""+ui(y[gt][1],o,ot,F,k));break}}qt.dense?(a[ot.r]||(a[ot.r]=[]),a[ot.r][ot.c]=rt):a[h]=rt}},k={enc:!1,sbcch:0,snames:[],sharedf:g,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(k.password=t.password);var z,I=[],R=[],V=[],L=[],M=!1,F=[];F.SheetNames=k.snames,F.sharedf=k.sharedf,F.arrayf=k.arrayf,F.names=[],F.XTI=[];var U=0,X=0,E=0,H=[],G=[],q;k.codepage=1200,Ro(1200);for(var K=!1;e.l<e.length-1;){var ee=e.l,se=e.read_shift(2);if(se===0&&U===10)break;var J=e.l===e.length?0:e.read_shift(2),ce=r4[se];if(ce&&ce.f){if(t.bookSheets&&U===133&&se!==133)break;if(U=se,ce.r===2||ce.r==12){var pe=e.read_shift(2);if(J-=2,!k.enc&&pe!==se&&((pe&255)<<8|pe>>8)!==se)throw new Error("rt mismatch: "+pe+"!="+se);ce.r==12&&(e.l+=10,J-=10)}var Q={};if(se===10?Q=ce.f(e,J,k):Q=ave(se,ce,e,J,k),X==0&&[9,521,1033,2057].indexOf(U)===-1)continue;switch(se){case 34:r.opts.Date1904=S.WBProps.date1904=Q;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(k.enc||(e.l=0),k.enc=Q,!t.password)throw new Error("File is password-protected");if(Q.valid==null)throw new Error("Encryption scheme unsupported");if(!Q.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=Q;break;case 66:var Oe=Number(Q);switch(Oe){case 21010:Oe=1200;break;case 32768:Oe=1e4;break;case 32769:Oe=1252;break}Ro(k.codepage=Oe),K=!0;break;case 317:k.rrtabid=Q;break;case 25:k.winlocked=Q;break;case 439:r.opts.RefreshAll=Q;break;case 12:r.opts.CalcCount=Q;break;case 16:r.opts.CalcDelta=Q;break;case 17:r.opts.CalcIter=Q;break;case 13:r.opts.CalcMode=Q;break;case 14:r.opts.CalcPrecision=Q;break;case 95:r.opts.CalcSaveRecalc=Q;break;case 15:k.CalcRefMode=Q;break;case 2211:r.opts.FullCalc=Q;break;case 129:Q.fDialog&&(a["!type"]="dialog"),Q.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),Q.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:_.push(Q);break;case 430:F.push([Q]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(Q);break;case 24:case 536:q={Name:Q.Name,Ref:ui(Q.rgce,o,null,F,k)},Q.itab>0&&(q.Sheet=Q.itab-1),F.names.push(q),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(Q),Q.Name=="_xlnm._FilterDatabase"&&Q.itab>0&&Q.rgce&&Q.rgce[0]&&Q.rgce[0][0]&&Q.rgce[0][0][0]=="PtgArea3d"&&(G[Q.itab-1]={ref:Lr(Q.rgce[0][0][1][2])});break;case 22:k.ExternCount=Q;break;case 23:F.length==0&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(Q),F.XTI=F.XTI.concat(Q);break;case 2196:if(k.biff<8)break;q!=null&&(q.Comment=Q[1]);break;case 18:a["!protect"]=Q;break;case 19:Q!==0&&k.WTF&&console.error("Password verifier: "+Q);break;case 133:i[Q.pos]=Q,k.snames.push(Q.name);break;case 10:{if(--X)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Lr(o),t.sheetRows&&t.sheetRows<=o.e.r){var $e=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Lr(o),o.e.r=$e}o.e.r++,o.e.c++}I.length>0&&(a["!merges"]=I),R.length>0&&(a["!objects"]=R),V.length>0&&(a["!cols"]=V),L.length>0&&(a["!rows"]=L),S.Sheets.push(A)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Q.BIFFVer]||8),k.biffguess=Q.BIFFVer==0,Q.BIFFVer==0&&Q.dt==4096&&(k.biff=5,K=!0,Ro(k.codepage=28591)),k.biff==8&&Q.BIFFVer==0&&Q.dt==16&&(k.biff=2),X++)break;if(a=t.dense?[]:{},k.biff<8&&!K&&(K=!0,Ro(k.codepage=t.codepage||1252)),k.biff<5||Q.BIFFVer==0&&Q.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ae={pos:e.l-J,name:u};i[Ae.pos]=Ae,k.snames.push(u)}else u=(i[ee]||{name:""}).name;Q.dt==32&&(a["!type"]="chart"),Q.dt==64&&(a["!type"]="macro"),I=[],R=[],k.arrayf=y=[],V=[],L=[],M=!1,A={Hidden:(i[ee]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[Q.r]||[])[Q.c]:a[or({c:Q.c,r:Q.r})])&&++Q.c,b={ixfe:Q.ixfe,XF:_[Q.ixfe]||{},v:Q.val,t:"n"},E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 5:case 517:b={ixfe:Q.ixfe,XF:_[Q.ixfe],v:Q.val,t:Q.t},E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 638:b={ixfe:Q.ixfe,XF:_[Q.ixfe],v:Q.rknum,t:"n"},E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 189:for(var Z=Q.c;Z<=Q.C;++Z){var ke=Q.rkrec[Z-Q.c][0];b={ixfe:ke,XF:_[ke],v:Q.rkrec[Z-Q.c][1],t:"n"},E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Z,r:Q.r},b,t)}break;case 6:case 518:case 1030:{if(Q.val=="String"){l=Q;break}if(b=K1(Q.val,Q.cell.ixfe,Q.tt),b.XF=_[b.ixfe],t.cellFormula){var Ge=Q.formula;if(Ge&&Ge[0]&&Ge[0][0]&&Ge[0][0][0]=="PtgExp"){var Le=Ge[0][0][1][0],qe=Ge[0][0][1][1],ge=or({r:Le,c:qe});g[ge]?b.f=""+ui(Q.formula,o,Q.cell,F,k):b.F=((t.dense?(a[Le]||[])[qe]:a[ge])||{}).F}else b.f=""+ui(Q.formula,o,Q.cell,F,k)}E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C(Q.cell,b,t),l=Q}break;case 7:case 519:if(l)l.val=Q,b=K1(Q,l.cell.ixfe,"s"),b.XF=_[b.ixfe],t.cellFormula&&(b.f=""+ui(l.formula,o,l.cell,F,k)),E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(Q);var de=or(Q[0].s);if(p=t.dense?(a[Q[0].s.r]||[])[Q[0].s.c]:a[de],t.cellFormula&&p){if(!l||!de||!p)break;p.f=""+ui(Q[1],o,Q[0],F,k),p.F=Lr(Q[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;g[or(l.cell)]=Q[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[or(l.cell)],(p||{}).f=""+ui(Q[0],o,f,F,k)}}break;case 253:b=K1(c[Q.isst].t,Q.ixfe,"s"),c[Q.isst].h&&(b.h=c[Q.isst].h),b.XF=_[b.ixfe],E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:Q.ixfe,XF:_[Q.ixfe],t:"z"},E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t));break;case 190:if(t.sheetStubs)for(var ze=Q.c;ze<=Q.C;++ze){var Ke=Q.ixfe[ze-Q.c];b={ixfe:Ke,XF:_[Ke],t:"z"},E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:ze,r:Q.r},b,t)}break;case 214:case 516:case 4:b=K1(Q.val,Q.ixfe,"s"),b.XF=_[b.ixfe],E>0&&(b.z=H[b.ixfe>>8&63]),ol(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 0:case 512:X===1&&(o=Q);break;case 252:c=Q;break;case 1054:if(k.biff==4){H[E++]=Q[1];for(var ft=0;ft<E+163&&hr[ft]!=Q[1];++ft);ft>=163&&Bd(Q[1],E+163)}else Bd(Q[1],Q[0]);break;case 30:{H[E++]=Q;for(var bt=0;bt<E+163&&hr[bt]!=Q;++bt);bt>=163&&Bd(Q,E+163)}break;case 229:I=I.concat(Q);break;case 93:R[Q.cmo[0]]=k.lastobj=Q;break;case 438:k.lastobj.TxO=Q;break;case 127:k.lastobj.ImData=Q;break;case 440:for(x=Q[0].s.r;x<=Q[0].e.r;++x)for(m=Q[0].s.c;m<=Q[0].e.c;++m)p=t.dense?(a[x]||[])[m]:a[or({c:m,r:x})],p&&(p.l=Q[1]);break;case 2048:for(x=Q[0].s.r;x<=Q[0].e.r;++x)for(m=Q[0].s.c;m<=Q[0].e.c;++m)p=t.dense?(a[x]||[])[m]:a[or({c:m,r:x})],p&&p.l&&(p.l.Tooltip=Q[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;p=t.dense?(a[Q[0].r]||[])[Q[0].c]:a[or(Q[0])];var St=R[Q[2]];p||(t.dense?(a[Q[0].r]||(a[Q[0].r]=[]),p=a[Q[0].r][Q[0].c]={t:"z"}):p=a[or(Q[0])]={t:"z"},o.e.r=Math.max(o.e.r,Q[0].r),o.s.r=Math.min(o.s.r,Q[0].r),o.e.c=Math.max(o.e.c,Q[0].c),o.s.c=Math.min(o.s.c,Q[0].c)),p.c||(p.c=[]),v={a:Q[1],t:St.TxO.t},p.c.push(v)}break;case 2173:T0e(_[Q.ixfe],Q.ext);break;case 125:{if(!k.cellStyles)break;for(;Q.e>=Q.s;)V[Q.e--]={width:Q.w/256,level:Q.level||0,hidden:!!(Q.flags&1)},M||(M=!0,xC(Q.w/256)),x0(V[Q.e+1])}break;case 520:{var Et={};Q.level!=null&&(L[Q.r]=Et,Et.level=Q.level),Q.hidden&&(L[Q.r]=Et,Et.hidden=!0),Q.hpt&&(L[Q.r]=Et,Et.hpt=Q.hpt,Et.hpx=Jg(Q.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||og(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[se]]=Q;break;case 161:a["!margins"]||og(a["!margins"]={}),a["!margins"].header=Q.header,a["!margins"].footer=Q.footer;break;case 574:Q.RTL&&(S.Views[0].RTL=!0);break;case 146:N=Q;break;case 2198:z=Q;break;case 140:j=Q;break;case 442:u?A.CodeName=Q||A.name:S.WBProps.CodeName=Q||"ThisWorkbook";break}}else ce||console.error("Missing Info for XLS Record 0x"+se.toString(16)),e.l+=J}return r.SheetNames=Nl(i).sort(function(_e,ot){return Number(_e)-Number(ot)}).map(function(_e){return i[_e].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&G.forEach(function(_e,ot){r.Sheets[r.SheetNames[ot]]["!autofilter"]=_e}),r.Strings=c,r.SSF=Ya(hr),k.enc&&(r.Encryption=k.enc),z&&(r.Themes=z),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),F.names.length>0&&(S.Names=F.names),r.Workbook=S,r}var P8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function sve(e,t,r){var n=Fr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=p8(n,jde,P8.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Fr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=p8(o,Sde,P8.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(tV(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function RV(e,t){t||(t={}),jC(t),fz(),t.codepage&&tC(t.codepage);var r,n;if(e.FullPaths){if(Fr.find(e,"/encryption"))throw new Error("File is password-protected");r=Fr.find(e,"!CompObj"),n=Fr.find(e,"/Workbook")||Fr.find(e,"/Book")}else{switch(t.type){case"base64":e=Lo(ks(e));break;case"binary":e=Lo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}qa(e,0),n={content:e}}var a,i;if(r&&rve(r),t.bookProps&&!t.bookSheets)a={};else{var o=kr?"buffer":"array";if(n&&n.content)a=ive(n.content,t);else if((i=Fr.find(e,"PerfectOffice_MAIN"))&&i.content)a=ig.to_workbook(i.content,(t.type=o,t));else if((i=Fr.find(e,"NativeContent_MAIN"))&&i.content)a=ig.to_workbook(i.content,(t.type=o,t));else throw(i=Fr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Fr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=W0e(e))}var l={};return e.FullPaths&&sve(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var I2={0:{f:Ume},1:{f:Wme},2:{f:ege},3:{f:Yme},4:{f:Gme},5:{f:Zme},6:{f:nge},7:{f:Jme},8:{f:lge},9:{f:oge},10:{f:ige},11:{f:sge},12:{f:qme},13:{f:tge},14:{f:Xme},15:{f:Kme},16:{f:FV},17:{f:age},18:{f:Qme},19:{f:fC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Lge},40:{},42:{},43:{f:i0e},44:{f:a0e},45:{f:s0e},46:{f:l0e},47:{f:o0e},48:{},49:{f:cde},50:{},51:{f:E0e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:hV},62:{f:rge},63:{f:D0e},64:{f:vge},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:wi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:gge},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Hme},148:{f:zme,p:16},151:{f:dge},152:{},153:{f:Fge},154:{},155:{},156:{f:Oge},157:{},158:{},159:{T:1,f:She},160:{T:-1},161:{T:1,f:wf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:cge},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:C0e},336:{T:-1},337:{f:k0e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:JN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:fV},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:fge},427:{f:hge},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:mge},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Vme},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:uge},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:JN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:z0e},633:{T:1},634:{T:-1},635:{T:1,f:U0e},636:{T:-1},637:{f:dde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:jge},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:xge},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},r4={6:{f:gj},10:{f:Yc},12:{f:ua},13:{f:ua},14:{f:Xn},15:{f:Xn},16:{f:pi},17:{f:Xn},18:{f:Xn},19:{f:ua},20:{f:x8},21:{f:x8},23:{f:fV},24:{f:b8},25:{f:Xn},26:{},27:{},28:{f:$fe},29:{},34:{f:Xn},35:{f:y8},38:{f:pi},39:{f:pi},40:{f:pi},41:{f:pi},42:{f:Xn},43:{f:Xn},47:{f:Vhe},49:{f:bfe},51:{f:ua},60:{},61:{f:vfe},64:{f:Xn},65:{f:yfe},66:{f:ua},77:{},80:{},81:{},82:{},85:{f:ua},89:{},90:{},91:{},92:{f:cfe},93:{f:Ufe},94:{},95:{f:Xn},96:{},97:{},99:{f:Xn},125:{f:hV},128:{f:kfe},129:{f:ufe},130:{f:ua},131:{f:Xn},132:{f:Xn},133:{f:dfe},134:{},140:{f:Gfe},141:{f:ua},144:{},146:{f:Yfe},151:{},152:{},153:{},154:{},155:{},156:{f:ua},157:{},158:{},160:{f:ehe},161:{f:Jfe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Afe},190:{f:Tfe},193:{f:Yc},197:{},198:{},199:{},200:{},201:{},202:{f:Xn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ua},220:{},221:{f:Xn},222:{},224:{f:Efe},225:{f:lfe},226:{f:Yc},227:{},229:{f:Bfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:ffe},253:{f:wfe},255:{f:hfe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:sV},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Xn},353:{f:Yc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Ofe},431:{f:Xn},432:{},433:{},434:{},437:{},438:{f:Hfe},439:{f:Xn},440:{f:Wfe},441:{},442:{f:rx},443:{},444:{f:ua},445:{},446:{},448:{f:Yc},449:{f:gfe,r:2},450:{f:Yc},512:{f:g8},513:{f:Zfe},515:{f:Pfe},516:{f:_fe},517:{f:v8},519:{f:the},520:{f:pfe},523:{},545:{f:w8},549:{f:m8},566:{},574:{f:xfe},638:{f:Nfe},659:{},1048:{},1054:{f:jfe},1084:{},1212:{f:Ife},2048:{f:qfe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:W1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Yc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Xfe,r:12},2173:{f:A0e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Xn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Lfe,r:12},2197:{},2198:{f:b0e,r:12},2199:{},2200:{},2201:{},2202:{f:Mfe,r:12},2203:{f:Yc},2204:{},2205:{},2206:{},2207:{},2211:{f:mfe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ua},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Qfe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Kfe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:g8},1:{},2:{f:ihe},3:{f:ahe},4:{f:nhe},5:{f:v8},7:{f:she},8:{},9:{f:W1},11:{},22:{f:ua},30:{f:Sfe},31:{},32:{},33:{f:w8},36:{},37:{f:m8},50:{f:ohe},62:{},52:{},67:{},68:{f:ua},69:{},86:{},126:{},127:{f:rhe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:lhe},223:{},234:{},354:{},421:{},518:{f:gj},521:{f:W1},536:{f:b8},547:{f:y8},561:{},579:{},1030:{f:gj},1033:{f:W1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function wo(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&Gz(r)&&e.push(r)}}function O8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=Oue(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<c.length;++o){var m=c[o].trim(),x=m.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(x!="<td"&&x!="<th")){var g=m.split(/<\/t[dh]>/i);for(l=0;l<g.length;++l){var y=g[l].trim();if(y.match(/<t[dh]/i)){for(var b=y,j=0;b.charAt(0)=="<"&&(j=b.indexOf(">"))>-1;)b=b.slice(j+1);for(var _=0;_<v.length;++_){var N=v[_];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,_=-1)}var S=Jt(y.slice(0,y.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&v.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var A=S.t||S["data-t"]||"";if(!b.length){d+=h;continue}if(b=Dz(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!b.length){d+=h;continue}var P={t:"s",v:b};r.raw||!b.trim().length||A=="s"||(b==="TRUE"?P={t:"b",v:!0}:b==="FALSE"?P={t:"b",v:!1}:isNaN(Vo(b))?isNaN(v0(b).getDate())||(P={t:"d",v:Ia(b)},r.cellDates||(P={t:"n",v:Mi(P.v)}),P.z=r.dateNF||hr[14]):P={t:"n",v:Vo(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=P):n[or({r:u,c:d})]=P,d+=h}}}}return n["!ref"]=Lr(p),v.length&&(n["!merges"]=v),n}function ove(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=or({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||oC(f.w||(_c(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(Gue("td",h,p))}}var v="<tr>";return v+i.join("")+"</tr>"}var lve='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',cve="</body></html>";function uve(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ku(O8(r[0],t),t);var n=NC();return r.forEach(function(a,i){AC(n,O8(a,t),"Sheet"+(i+1))}),n}function dve(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function fve(e,t){var r=t||{},n=r.header!=null?r.header:lve,a=r.footer!=null?r.footer:cve,i=[n],o=rp(e["!ref"]);r.dense=Array.isArray(e),i.push(dve(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(ove(e,o,l,r));return i.push("</table>"+a),i.join("")}function $V(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Pi(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=rp(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),v=0,m=0,x=0,g=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);v<l.length&&m<c;++v){var j=l[v];if(F8(j)){if(n.display)continue;p[m]={hidden:!0}}var _=j.children;for(x=g=0;x<_.length;++x){var N=_[x];if(!(n.display&&F8(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):Dz(N.innerHTML),A=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var P=f[h];P.s.c==g+i&&P.s.r<m+a&&m+a<=P.e.r&&(g=P.e.c+1-i,h=-1)}b=+N.getAttribute("colspan")||1,((y=+N.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:m+a,c:g+i},e:{r:m+a+(y||1)-1,c:g+i+(b||1)-1}});var W={t:"s",v:S},C=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?W.t=C||"z":n.raw||S.trim().length==0||C=="s"||(S==="TRUE"?W={t:"b",v:!0}:S==="FALSE"?W={t:"b",v:!1}:isNaN(Vo(S))?isNaN(v0(S).getDate())||(W={t:"d",v:Ia(S)},n.cellDates||(W={t:"n",v:Mi(W.v)}),W.z=n.dateNF||hr[14]):W={t:"n",v:Vo(S)})),W.z===void 0&&A!=null&&(W.z=A);var k="",z=N.getElementsByTagName("A");if(z&&z.length)for(var I=0;I<z.length&&!(z[I].hasAttribute("href")&&(k=z[I].getAttribute("href"),k.charAt(0)!="#"));++I);k&&k.charAt(0)!="#"&&(W.l={Target:k}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][g+i]=W):e[or({c:g+i,r:m+a})]=W,u.e.c<g+i&&(u.e.c=g+i),g+=b}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=Lr(u),m>=c&&(e["!fullref"]=Lr((u.e.r=l.length-v+m-1+a,u))),e}function BV(e,t){var r=t||{},n=r.dense?[]:{};return $V(n,e,t)}function hve(e,t){return Ku(BV(e,t),t)}function F8(e){var t="",r=pve(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function pve(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function mve(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Br(t.replace(/<[^>]*>/g,""));return[r]}var D8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function UV(e,t){var r=t||{},n=lC(e),a=[],i,o,l={name:""},c="",u=0,d,f,h={},p=[],v=r.dense?[]:{},m,x,g={value:""},y="",b=0,j=[],_=-1,N=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,P={},W=[],C={},k=0,z=0,I=[],R=1,V=1,L=[],M={Names:[]},F={},U=["",""],X=[],E={},H="",G=0,q=!1,K=!1,ee=0;for(Kg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Kg.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?v["!ref"]=Lr(S):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(v["!fullref"]=v["!ref"],S.e.r=r.sheetRows-1,v["!ref"]=Lr(S)),W.length&&(v["!merges"]=W),I.length&&(v["!rows"]=I),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=v,K=!1):m[0].charAt(m[0].length-2)!=="/"&&(d=Jt(m[0],!1),_=N=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,v=r.dense?[]:{},W=[],I=[],K=!0);break;case"table-row-group":m[1]==="/"?--A:++A;break;case"table-row":case"":if(m[1]==="/"){_+=R,R=1;break}if(f=Jt(m[0],!1),f.?_=f.-1:_==-1&&(_=0),R=+f["number-rows-repeated"]||1,R<10)for(ee=0;ee<R;++ee)A>0&&(I[_+ee]={level:A});N=-1;break;case"covered-table-cell":m[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(v[_]||(v[_]=[]),v[_][N]={t:"z"}):v[or({r:_,c:N})]={t:"z"}),y="",j=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++N,g=Jt(m[0],!1),V=parseInt(g["number-columns-repeated"]||"1",10),x={t:"z",v:null},g.formula&&r.cellFormula!=!1&&(x.f=C8(Br(g.formula))),(g.||g["value-type"])=="string"&&(x.t="s",x.v=Br(g["string-value"]||""),r.dense?(v[_]||(v[_]=[]),v[_][N]=x):v[or({r:_,c:N})]=x),N+=V-1;else if(m[1]!=="/"){++N,y="",b=0,j=[],V=1;var se=R?_+R-1:_;if(N>S.e.c&&(S.e.c=N),N<S.s.c&&(S.s.c=N),_<S.s.r&&(S.s.r=_),se>S.e.r&&(S.e.r=se),g=Jt(m[0],!1),X=[],E={},x={t:g.||g["value-type"],v:null},r.cellFormula)if(g.formula&&(g.formula=Br(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(k=parseInt(g["number-matrix-rows-spanned"],10)||0,z=parseInt(g["number-matrix-columns-spanned"],10)||0,C={s:{r:_,c:N},e:{r:_+k-1,c:N+z-1}},x.F=Lr(C),L.push([C,x.F])),g.formula)x.f=C8(g.formula);else for(ee=0;ee<L.length;++ee)_>=L[ee][0].s.r&&_<=L[ee][0].e.r&&N>=L[ee][0].s.c&&N<=L[ee][0].e.c&&(x.F=L[ee][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(k=parseInt(g["number-rows-spanned"],10)||0,z=parseInt(g["number-columns-spanned"],10)||0,C={s:{r:_,c:N},e:{r:_+k-1,c:N+z-1}},W.push(C)),g["number-columns-repeated"]&&(V=parseInt(g["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Tn(g["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(g.value);break;case"percentage":x.t="n",x.v=parseFloat(g.value);break;case"currency":x.t="n",x.v=parseFloat(g.value);break;case"date":x.t="d",x.v=Ia(g["date-value"]),r.cellDates||(x.t="n",x.v=Mi(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=Eue(g["time-value"])/86400,r.cellDates&&(x.t="d",x.v=Tw(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(g.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",g["string-value"]!=null&&(y=Br(g["string-value"]),j=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(q=!1,x.t==="s"&&(x.v=y||"",j.length&&(x.R=j),q=b==0),F.Target&&(x.l=F),X.length>0&&(x.c=X,X=[]),y&&r.cellText!==!1&&(x.w=y),q&&(x.t="z",delete x.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=_))for(var J=0;J<R;++J){if(V=parseInt(g["number-columns-repeated"]||"1",10),r.dense)for(v[_+J]||(v[_+J]=[]),v[_+J][N]=J==0?x:Ya(x);--V>0;)v[_+J][N+V]=Ya(x);else for(v[or({r:_+J,c:N})]=x;--V>0;)v[or({r:_+J,c:N+V})]=Ya(x);S.e.c<=N&&(S.e.c=N)}V=parseInt(g["number-columns-repeated"]||"1",10),N+=V-1,V=0,x={},y="",j=[]}F={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;E.t=y,j.length&&(E.R=j),E.a=H,X.push(E)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);H="",G=0,y="",b=0,j=[];break;case"creator":m[1]==="/"?H=n.slice(G,m.index):G=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);y="",b=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(P[l.name]=c,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(c="",l=Jt(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Jt(m[0],!1),c+=D8[m[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Jt(m[0],!1),c+=D8[m[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":o=Jt(m[0],!1),U=vj(o["cell-range-address"]);var ce={Name:o.name,Ref:U[0]+"!"+U[1]};K&&(ce.Sheet=p.length),M.Names.push(ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!g||!g["string-value"])){var pe=mve(n.slice(b,m.index));y=(y.length>0?y+`
`:"")+pe[0]}else Jt(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{U=vj(Jt(m[0])["target-range-address"]),h[U[0]]["!autofilter"]={ref:U[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(F=Jt(m[0],!1),!F.href)break;F.Target=Br(F.href),delete F.href,F.Target.charAt(0)=="#"&&F.Target.indexOf(".")>-1?(U=vj(F.Target.slice(1)),F.Target="#"+U[0]+"!"+U[1]):F.Target.match(/^\.\.[\\\/]/)&&(F.Target=F.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var Q={Sheets:h,SheetNames:p,Workbook:M};return r.bookSheets&&delete Q.Sheets,Q}function L8(e,t){t=t||{},Ks(e,"META-INF/manifest.xml")&&Pde(ca(e,"META-INF/manifest.xml"),t);var r=ys(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=UV(gn(r),t);return Ks(e,"meta.xml")&&(n.Props=eV(ca(e,"meta.xml"))),n}function I8(e,t){return UV(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function wC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function n4(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):gn(yf(e))}function a4(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function M8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function gve(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Qg(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Sa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function vi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Qg(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Qg(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function _C(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function vve(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Qg(e,n),i=vi(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Sa(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=vi(l.data),u=Sa(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Sa(i[3][0].data)>>>0>0),r.push(o)}return r}function xve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Qg(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[a4(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=a4(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function yve(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(xve(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return a4(t)}function bve(e,t,r,n){var a=wC(e),i=a.getUint32(4,!0),o=(n>1?12:8)+M8(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=M8(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function wve(e,t,r){var n=wC(e),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=gve(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function _ve(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return bve(e,t,r,e[0]);case 5:return wve(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Tu(e){var t=vi(e);return Qg(t[1][0].data)}function R8(e,t){var r=vi(t.data),n=Sa(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=vi(o.data),c=Sa(l[1][0].data)>>>0;switch(n){case 1:i[c]=n4(l[3][0].data);break;case 8:{var u=e[Tu(l[9][0].data)][0],d=vi(u.data),f=e[Tu(d[1][0].data)][0],h=Sa(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=vi(f.data);i[c]=p[3].map(function(v){return n4(v.data)}).join("")}break}}),i}function jve(e,t){var r,n,a,i,o,l,c,u,d,f,h,p,v,m,x=vi(e),g=Sa(x[1][0].data)>>>0,y=Sa(x[2][0].data)>>>0,b=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&Sa(x[8][0].data)>0||!1,j,_;if((i=(a=x[7])==null?void 0:a[0])!=null&&i.data&&t!=0)j=(l=(o=x[7])==null?void 0:o[0])==null?void 0:l.data,_=(u=(c=x[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=x[4])==null?void 0:d[0])!=null&&f.data&&t!=1)j=(p=(h=x[4])==null?void 0:h[0])==null?void 0:p.data,_=(m=(v=x[3])==null?void 0:v[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=b?4:1,S=wC(j),A=[],P=0;P<j.length/2;++P){var W=S.getUint16(P*2,!0);W<65535&&A.push([P,W])}if(A.length!=y)throw"Expected ".concat(y," cells, found ").concat(A.length);var C=[];for(P=0;P<A.length-1;++P)C[A[P][0]]=_.subarray(A[P][1]*N,A[P+1][1]*N);return A.length>=1&&(C[A[A.length-1][0]]=_.subarray(A[A.length-1][1]*N)),{R:g,cells:C}}function Sve(e,t){var r,n=vi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Sa(n[7][0].data)>>>0>0?1:0:-1,i=_C(n[5],function(o){return jve(o,a)});return{nrows:Sa(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function Nve(e,t,r){var n,a=vi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Sa(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Sa(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Lr(i);var o=vi(a[4][0].data),l=R8(e,e[Tu(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?R8(e,e[Tu(o[17][0].data)][0]):[],u=vi(o[3][0].data),d=0;u[1].forEach(function(f){var h=vi(f.data),p=e[Tu(h[2][0].data)][0],v=Sa(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var m=Sve(e,p);m.data.forEach(function(x,g){x.forEach(function(y,b){var j=or({r:d+g,c:b}),_=_ve(y,l,c);_&&(r[j]=_)})}),d+=m.nrows})}function Ave(e,t){var r=vi(t.data),n={"!ref":"A1"},a=e[Tu(r[2][0].data)],i=Sa(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Nve(e,a[0],n),n}function Tve(e,t){var r,n=vi(t.data),a={name:(r=n[1])!=null&&r[0]?n4(n[1][0].data):"",sheets:[]},i=_C(n[2],Tu);return i.forEach(function(o){e[o].forEach(function(l){var c=Sa(l.meta[1][0].data);c==6e3&&a.sheets.push(Ave(e,l))})}),a}function Cve(e,t){var r=NC(),n=vi(t.data),a=_C(n[1],Tu);if(a.forEach(function(i){e[i].forEach(function(o){var l=Sa(o.meta[1][0].data);if(l==2){var c=Tve(e,o);c.sheets.forEach(function(u,d){AC(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function yj(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=yve(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=vve(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Sa(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=Sa(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return Cve(i,l)}function Eve(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function jC(e){Eve([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function kve(e){return Ph.WS.indexOf(e)>-1?"sheet":e==Ph.CS?"chart":e==Ph.DS?"dialog":e==Ph.MS?"macro":e&&e.length?e:"sheet"}function Pve(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,kve(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Ove(e,t,r,n,a,i,o,l,c,u,d,f){try{i[n]=ng(ys(e,r,!0),t);var h=ca(e,t),p;switch(l){case"sheet":p=Rge(h,t,a,c,i[n],u,d,f);break;case"chart":if(p=$ge(h,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var v=Lm(p["!drawel"].Target,t),m=QN(v),x=M0e(ys(e,v,!0),ng(ys(e,m,!0),v)),g=Lm(x,v),y=QN(g);p=wge(ys(e,g,!0),g,c,ng(ys(e,y,!0),g),u,p);break;case"macro":p=Bge(h,t,a,c,i[n],u,d,f);break;case"dialog":p=Uge(h,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var b=[];i&&i[n]&&Nl(i[n]).forEach(function(j){var _="";if(i[n][j].Type==Ph.CMNT){_=Lm(i[n][j].Target,t);var N=Wge(ca(e,_,!0),_,c);if(!N||!N.length)return;j8(p,N,!1)}i[n][j].Type==Ph.TCMNT&&(_=Lm(i[n][j].Target,t),b=b.concat($0e(ca(e,_,!0),c)))}),b&&b.length&&j8(p,b,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function zs(e){return e.charAt(0)=="/"?e.slice(1):e}function Fve(e,t){if(Sz(),t=t||{},jC(t),Ks(e,"META-INF/manifest.xml")||Ks(e,"objectdata.xml"))return L8(e,t);if(Ks(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof yj<"u"){if(e.FileIndex)return yj(e);var r=Fr.utils.cfb_new();return X6(e).forEach(function(I){Due(r,I,kz(e,I))}),yj(r)}throw new Error("Unsupported NUMBERS file")}if(!Ks(e,"[Content_Types].xml"))throw Ks(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ks(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=X6(e),a=Ede(ys(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",ca(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!ca(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(sg=[],a.sst)try{sg=Hge(ca(e,zs(a.sst)),a.sst,t)}catch(I){if(t.WTF)throw I}t.cellStyles&&a.themes.length&&(c=Vge(ys(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=zge(ca(e,zs(a.style)),a.style,c,t))}a.links.map(function(I){try{var R=ng(ys(e,QN(zs(I))),I);return Gge(ca(e,zs(I)),R,I,t)}catch{}});var d=Mge(ca(e,zs(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ca(e,zs(a.coreprops[0]),!0),h&&(f=eV(h)),a.extprops.length!==0&&(h=ca(e,zs(a.extprops[0]),!0),h&&Dde(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ys(e,zs(a.custprops[0]),!0),h&&(p=Ide(h,t)));var v={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(R){return R.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=p),t.bookSheets&&typeof o<"u"&&(v.SheetNames=o),t.bookSheets?v.SheetNames:t.bookProps))return v;o={};var m={};t.bookDeps&&a.calcchain&&(m=qge(ca(e,zs(a.calcchain)),a.calcchain));var x=0,g={},y,b;{var j=d.Sheets;f.Worksheets=j.length,f.SheetNames=[];for(var _=0;_!=j.length;++_)f.SheetNames[_]=j[_].name}var N=i?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Ks(e,A)||(A="xl/_rels/workbook."+N+".rels");var P=ng(ys(e,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Kge(ca(e,zs(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=B0e(ca(e,zs(a.people[0])),t)),P&&(P=Pve(P,d.Sheets));var W=ca(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var C="sheet";if(P&&P[x]?(y="xl/"+P[x][1].replace(/[\/]?xl\//,""),Ks(e,y)||(y=P[x][1]),Ks(e,y)||(y=A.replace(/_rels\/.*$/,"")+P[x][1]),C=P[x][2]):(y="xl/worksheets/sheet"+(x+1-W)+"."+N,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var k=!1,z=0;z!=t.sheets.length;++z)typeof t.sheets[z]=="number"&&t.sheets[z]==x&&(k=1),typeof t.sheets[z]=="string"&&t.sheets[z].toLowerCase()==f.SheetNames[x].toLowerCase()&&(k=1);if(!k)continue e}}Ove(e,y,b,f.SheetNames[x],x,g,o,C,t,d,c,u)}return v={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:m,Sheets:o,SheetNames:f.SheetNames,Strings:sg,Styles:u,Themes:c,SSF:Ya(hr)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(I,R){I=I.replace(/^Root Entry[\/]/,""),v.keys.push(I),v.files[I]=e.FileIndex[R]}))),t&&t.bookVBA&&(a.vba.length>0?v.vbaraw=ca(e,zs(a.vba[0]),!0):a.defaults&&a.defaults.bin===H0e&&(v.vbaraw=ca(e,"xl/vbaProject.bin",!0))),v}function Dve(e,t){var r=t||{},n="Workbook",a=Fr.find(e,n);try{if(n="/!DataSpaces/Version",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Ahe(a.content),n="/!DataSpaces/DataSpaceMap",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Che(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Ehe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Phe(a.content)}catch{}if(n="/EncryptionInfo",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Ohe(a.content);if(n="/EncryptedPackage",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function SC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ks(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Lve(e,t){return Fr.find(e,"EncryptedPackage")?Dve(e,t):RV(e,t)}function Ive(e,t){var r,n=e,a=t||{};return a.type||(a.type=kr&&Buffer.isBuffer(e)?"buffer":"base64"),r=Pz(n,a),Fve(r,a)}function zV(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return t4(e.slice(r),t);default:break e}return Yg.to_workbook(e,t)}function Mve(e,t){var r="",n=SC(e,t);switch(t.type){case"base64":r=ks(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=sf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=gn(r)),t.type="binary",zV(r,t)}function Rve(e,t){var r=e;return t.type=="base64"&&(r=ks(r)),r=lu.utils.decode(1200,r.slice(2),"str"),t.type="binary",zV(r,t)}function $ve(e){return e.match(/[^\x00-\x7F]/)?Im(e):e}function bj(e,t,r,n){return n?(r.type="string",Yg.to_workbook(e,r)):Yg.to_workbook(t,r)}function i4(e,t){fz();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return i4(new Uint8Array(e),(r=Ya(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Xh={},r.dateNF&&(Xh.dateNF=r.dateNF),r.type||(r.type=kr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=kr?"buffer":"binary",n=Tue(e),typeof Uint8Array<"u"&&!kr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=$ve(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Ya(r),r.type="array",i4(rC(n),r)}switch((a=SC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Lve(Fr.read(n,r),r);break;case 9:if(a[1]<=8)return RV(n,r);break;case 60:return t4(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return hhe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return dhe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Ive(n,r):bj(e,n,r,i);case 239:return a[3]===60?t4(n,r):bj(e,n,r,i);case 255:if(a[1]===254)return Rve(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return ig.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return ig.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return _8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Hhe.to_workbook(n,r);break;case 10:case 13:case 32:return Mve(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return che.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?_8.to_workbook(n,r):bj(e,n,r,i)}function Bve(e,t,r,n,a,i,o,l){var c=Xa(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var v=o?e[r][p]:e[n[p]+c];if(v===void 0||v.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var m=v.v;switch(v.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[p]!=null){if(m==null)if(v.t=="e"&&m===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&m===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(v.t!=="n"||v.t==="n"&&l.rawNumbers!==!1)?m:_c(v,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function s4(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=qn(d);break;case"number":c=qn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Xa(c.s.r),h=[],p=[],v=0,m=0,x=Array.isArray(e),g=c.s.r,y=0,b={};x&&!e[g]&&(e[g]=[]);var j=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(j[y]||{}).hidden)switch(h[y]=ba(y),r=x?e[g][y]:e[h[y]+f],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=_c(r,null,u),m=b[o]||0,!m)b[o]=1;else{do l=o+"_"+m++;while(b[l]);b[o]=m,b[l]=1}i[y]=l}for(g=c.s.r+a;g<=c.e.r;++g)if(!(_[g]||{}).hidden){var N=Bve(e,c,g,h,n,i,x,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[v++]=N.row)}return p.length=v,p}var $8=/"/g;function Uve(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Xa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:_c(p,null,l));for(var v=0,m=0;v!==d.length;++v)if((m=d.charCodeAt(v))===a||m===i||m===34||l.forceQuotes){d='"'+d.replace($8,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace($8,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function VV(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=qn(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(h[v]||{}).hidden||(f[v]=ba(v));for(var m=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=Uve(e,a,x,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function zve(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=VV(e,t);return r}function Vve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=qn(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ba(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Xa(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function HV(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Pi(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=qn(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,x){Nl(m).forEach(function(g){(p=h.indexOf(g))==-1&&(h[p=h.length]=g);var y=m[g],b="z",j="",_=or({c:l+p,r:o+x+a});u=Zg(i,_),y&&typeof y=="object"&&!(y instanceof Date)?i[_]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=Mi(y)),j=n.dateNF||hr[14]):y===null&&n.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,j&&(u.z=j)):i[_]=u={t:b,v:y},j&&(u.z=j))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var v=Xa(o);if(a)for(p=0;p<h.length;++p)i[ba(p+l)+v]={t:"s",v:h[p]};return i["!ref"]=Lr(d),i}function Hve(e,t){return HV(null,e,t)}function Zg(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Pi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Zg(e,or(t)):Zg(e,or({r:t,c:r||0}))}function Wve(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function NC(){return{SheetNames:[],Sheets:{}}}function AC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Ege(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function qve(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Wve(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Gve(e,t){return e.z=t,e}function WV(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Kve(e,t,r){return WV(e,"#"+t,r)}function Yve(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Xve(e,t,r,n){for(var a=typeof t!="string"?t:qn(t),i=typeof t=="string"?t:Lr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Zg(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Jve={encode_col:ba,encode_row:Xa,encode_cell:or,encode_range:Lr,decode_col:dC,decode_row:uC,split_cell:lde,decode_cell:Pi,decode_range:rp,format_cell:_c,sheet_add_aoa:Yz,sheet_add_json:HV,sheet_add_dom:$V,aoa_to_sheet:np,json_to_sheet:Hve,table_to_sheet:BV,table_to_book:hve,sheet_to_csv:VV,sheet_to_txt:zve,sheet_to_json:s4,sheet_to_html:fve,sheet_to_formulae:Vve,sheet_to_row_object_array:s4,sheet_get_cell:Zg,book_new:NC,book_append_sheet:AC,book_set_sheet_visibility:qve,cell_set_number_format:Gve,cell_set_hyperlink:WV,cell_set_internal_link:Kve,cell_add_comment:Yve,sheet_set_array_formula:Xve,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Qve=({isOpen:e,onClose:t,onSuccess:r})=>{const{toast:n}=Tr(),[a,i]=O.useState(null),[o,l]=O.useState([]),[c,u]=O.useState(!1),[d,f]=O.useState(!1),h=m=>{const x=m.target.files[0];x&&(i(x),p(x))},p=m=>{f(!0);const x=new FileReader;x.onload=g=>{const y=g.target.result,b=i4(y,{type:"binary"}),j=b.SheetNames[0],_=b.Sheets[j],S=Jve.sheet_to_json(_).map(A=>({name:A.Name||A["Student Name"]||A.name,class:A.Class||A.Grade||A.class,teacher:A.Teacher||A.Rebbe||A.teacher,father_name:A.Father||A["Father Name"]||"",father_phone:A["Father Phone"]||"",mother_name:A.Mother||A["Mother Name"]||"",mother_phone:A["Mother Phone"]||""})).filter(A=>A.name&&A.class);l(S),f(!1)},x.readAsBinaryString(m)},v=async()=>{if(o.length!==0){u(!0);try{const{error:m}=await je.from("students").insert(o);if(m)throw m;n({title:"Import Successful",description:`Successfully imported ${o.length} students.`}),r(),t(),i(null),l([])}catch(m){console.error(m),n({variant:"destructive",title:"Import Failed",description:m.message})}finally{u(!1)}}};return s.jsx(pr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-xl",children:[s.jsxs(mr,{children:[s.jsx(gr,{children:"Bulk Import Students"}),s.jsx(J0,{children:"Upload an Excel (.xlsx) file with columns: Name, Class, Teacher, Father Name, etc."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center hover:bg-slate-50 transition-colors",children:[s.jsx("input",{type:"file",accept:".xlsx, .xls, .csv",onChange:h,className:"hidden",id:"file-upload"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:[s.jsx(ire,{className:"h-12 w-12 text-slate-400 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:a?a.name:"Click to upload Excel file"}),s.jsx("span",{className:"text-xs text-slate-500 mt-1",children:"Supports .xlsx, .xls, .csv"})]})]}),d&&s.jsxs("div",{className:"text-center py-4 text-slate-500",children:[s.jsx(na,{className:"animate-spin h-6 w-6 mx-auto mb-2"}),"Processing file..."]}),o.length>0&&s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border max-h-60 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Preview (",o.length," students)"]}),s.jsxs("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(ZT,{size:12})," Ready to import"]})]}),s.jsxs("table",{className:"w-full text-xs text-left",children:[s.jsx("thead",{className:"text-slate-500 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-1",children:"Name"}),s.jsx("th",{className:"py-1",children:"Class"}),s.jsx("th",{className:"py-1",children:"Teacher"})]})}),s.jsxs("tbody",{className:"divide-y",children:[o.slice(0,5).map((m,x)=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 font-medium",children:m.name}),s.jsx("td",{className:"py-1",children:m.class}),s.jsx("td",{className:"py-1",children:m.teacher})]},x)),o.length>5&&s.jsx("tr",{children:s.jsxs("td",{colSpan:"3",className:"py-2 text-center text-slate-400 italic",children:["...and ",o.length-5," more"]})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Se,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(Se,{onClick:v,disabled:o.length===0||c,className:"bg-green-600 hover:bg-green-700",children:[c?s.jsx(na,{className:"animate-spin mr-2 h-4 w-4"}):s.jsx(Z$,{className:"mr-2 h-4 w-4"}),"Import Students"]})]})]})]})})},Qe=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:yr("rounded-lg border bg-card text-card-foreground shadow-sm bg-white",e),...t}));Qe.displayName="Card";const er=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:yr("flex flex-col space-y-1.5 p-6",e),...t}));er.displayName="CardHeader";const tr=O.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:yr("text-2xl font-semibold leading-none tracking-tight",e),...t}));tr.displayName="CardTitle";const wa=O.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:yr("text-sm text-muted-foreground text-slate-500",e),...t}));wa.displayName="CardDescription";const Ze=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:yr("p-6 pt-0",e),...t}));Ze.displayName="CardContent";const ev=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:yr("flex items-center p-6 pt-0",e),...t}));ev.displayName="CardFooter";var wj="rovingFocusGroup.onEntryFocus",Zve={bubbles:!1,cancelable:!0},Pw="RovingFocusGroup",[o4,qV,exe]=KT(Pw),[txe,GV]=gf(Pw,[exe]),[rxe,nxe]=txe(Pw),KV=O.forwardRef((e,t)=>s.jsx(o4.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(o4.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(axe,{...e,ref:t})})}));KV.displayName=Pw;var axe=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=O.useRef(null),p=kn(t,h),v=V3(i),[m=null,x]=c0({prop:o,defaultProp:l,onChange:c}),[g,y]=O.useState(!1),b=ns(u),j=qV(r),_=O.useRef(!1),[N,S]=O.useState(0);return O.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(wj,b),()=>A.removeEventListener(wj,b)},[b]),s.jsx(rxe,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:m,onItemFocus:O.useCallback(A=>x(A),[x]),onItemShiftTab:O.useCallback(()=>y(!0),[]),onFocusableItemAdd:O.useCallback(()=>S(A=>A+1),[]),onFocusableItemRemove:O.useCallback(()=>S(A=>A-1),[]),children:s.jsx(_r.div,{tabIndex:g||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:lr(e.onMouseDown,()=>{_.current=!0}),onFocus:lr(e.onFocus,A=>{const P=!_.current;if(A.target===A.currentTarget&&P&&!g){const W=new CustomEvent(wj,Zve);if(A.currentTarget.dispatchEvent(W),!W.defaultPrevented){const C=j().filter(V=>V.focusable),k=C.find(V=>V.active),z=C.find(V=>V.id===m),R=[k,z,...C].filter(Boolean).map(V=>V.ref.current);JV(R,d)}}_.current=!1}),onBlur:lr(e.onBlur,()=>y(!1))})})}),YV="RovingFocusGroupItem",XV=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=Au(),c=i||l,u=nxe(YV,r),d=u.currentTabStopId===c,f=qV(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return O.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),s.jsx(o4.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(_r.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:lr(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:lr(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:lr(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=oxe(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let g=f().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const y=g.indexOf(v.currentTarget);g=u.loop?lxe(g,y+1):g.slice(y+1)}setTimeout(()=>JV(g))}})})})});XV.displayName=YV;var ixe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sxe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oxe(e,t,r){const n=sxe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ixe[n]}function JV(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function lxe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var cxe=KV,uxe=XV,TC="Tabs",[dxe,l9e]=gf(TC,[GV]),QV=GV(),[fxe,CC]=dxe(TC),ZV=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=V3(l),[f,h]=c0({prop:n,onChange:a,defaultProp:i});return s.jsx(fxe,{scope:r,baseId:Au(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(_r.div,{dir:d,"data-orientation":o,...u,ref:t})})});ZV.displayName=TC;var eH="TabsList",tH=O.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=CC(eH,r),o=QV(r);return s.jsx(cxe,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(_r.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});tH.displayName=eH;var rH="TabsTrigger",nH=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=CC(rH,r),l=QV(r),c=sH(o.baseId,n),u=oH(o.baseId,n),d=n===o.value;return s.jsx(uxe,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(_r.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:lr(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:lr(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:lr(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});nH.displayName=rH;var aH="TabsContent",iH=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=CC(aH,r),c=sH(l.baseId,n),u=oH(l.baseId,n),d=n===l.value,f=O.useRef(d);return O.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(K0,{present:a||d,children:({present:h})=>s.jsx(_r.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});iH.displayName=aH;function sH(e,t){return`${e}-trigger-${t}`}function oH(e,t){return`${e}-content-${t}`}var hxe=ZV,lH=tH,cH=nH,uH=iH;const kl=hxe,Xo=Ne.forwardRef(({className:e,...t},r)=>s.jsx(lH,{ref:r,className:yr("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500",e),...t}));Xo.displayName=lH.displayName;const wr=Ne.forwardRef(({className:e,...t},r)=>s.jsx(cH,{ref:r,className:yr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm",e),...t}));wr.displayName=cH.displayName;const Qr=Ne.forwardRef(({className:e,...t},r)=>s.jsx(uH,{ref:r,className:yr("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2",e),...t}));Qr.displayName=uH.displayName;var pxe=Array.isArray,as=pxe,mxe=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,dH=mxe,gxe=dH,vxe=typeof self=="object"&&self&&self.Object===Object&&self,xxe=gxe||vxe||Function("return this")(),Pl=xxe,yxe=Pl,bxe=yxe.Symbol,sx=bxe,B8=sx,fH=Object.prototype,wxe=fH.hasOwnProperty,_xe=fH.toString,om=B8?B8.toStringTag:void 0;function jxe(e){var t=wxe.call(e,om),r=e[om];try{e[om]=void 0;var n=!0}catch{}var a=_xe.call(e);return n&&(t?e[om]=r:delete e[om]),a}var Sxe=jxe,Nxe=Object.prototype,Axe=Nxe.toString;function Txe(e){return Axe.call(e)}var Cxe=Txe,U8=sx,Exe=Sxe,kxe=Cxe,Pxe="[object Null]",Oxe="[object Undefined]",z8=U8?U8.toStringTag:void 0;function Fxe(e){return e==null?e===void 0?Oxe:Pxe:z8&&z8 in Object(e)?Exe(e):kxe(e)}var Cc=Fxe;function Dxe(e){return e!=null&&typeof e=="object"}var Ec=Dxe,Lxe=Cc,Ixe=Ec,Mxe="[object Symbol]";function Rxe(e){return typeof e=="symbol"||Ixe(e)&&Lxe(e)==Mxe}var ap=Rxe,$xe=as,Bxe=ap,Uxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zxe=/^\w*$/;function Vxe(e,t){if($xe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Bxe(e)?!0:zxe.test(e)||!Uxe.test(e)||t!=null&&e in Object(t)}var EC=Vxe;function Hxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yu=Hxe;const ip=Vr(Yu);var Wxe=Cc,qxe=Yu,Gxe="[object AsyncFunction]",Kxe="[object Function]",Yxe="[object GeneratorFunction]",Xxe="[object Proxy]";function Jxe(e){if(!qxe(e))return!1;var t=Wxe(e);return t==Kxe||t==Yxe||t==Gxe||t==Xxe}var kC=Jxe;const br=Vr(kC);var Qxe=Pl,Zxe=Qxe["__core-js_shared__"],e1e=Zxe,_j=e1e,V8=function(){var e=/[^.]+$/.exec(_j&&_j.keys&&_j.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function t1e(e){return!!V8&&V8 in e}var r1e=t1e,n1e=Function.prototype,a1e=n1e.toString;function i1e(e){if(e!=null){try{return a1e.call(e)}catch{}try{return e+""}catch{}}return""}var hH=i1e,s1e=kC,o1e=r1e,l1e=Yu,c1e=hH,u1e=/[\\^$.*+?()[\]{}|]/g,d1e=/^\[object .+?Constructor\]$/,f1e=Function.prototype,h1e=Object.prototype,p1e=f1e.toString,m1e=h1e.hasOwnProperty,g1e=RegExp("^"+p1e.call(m1e).replace(u1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v1e(e){if(!l1e(e)||o1e(e))return!1;var t=s1e(e)?g1e:d1e;return t.test(c1e(e))}var x1e=v1e;function y1e(e,t){return e==null?void 0:e[t]}var b1e=y1e,w1e=x1e,_1e=b1e;function j1e(e,t){var r=_1e(e,t);return w1e(r)?r:void 0}var Sf=j1e,S1e=Sf,N1e=S1e(Object,"create"),Ow=N1e,H8=Ow;function A1e(){this.__data__=H8?H8(null):{},this.size=0}var T1e=A1e;function C1e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var E1e=C1e,k1e=Ow,P1e="__lodash_hash_undefined__",O1e=Object.prototype,F1e=O1e.hasOwnProperty;function D1e(e){var t=this.__data__;if(k1e){var r=t[e];return r===P1e?void 0:r}return F1e.call(t,e)?t[e]:void 0}var L1e=D1e,I1e=Ow,M1e=Object.prototype,R1e=M1e.hasOwnProperty;function $1e(e){var t=this.__data__;return I1e?t[e]!==void 0:R1e.call(t,e)}var B1e=$1e,U1e=Ow,z1e="__lodash_hash_undefined__";function V1e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=U1e&&t===void 0?z1e:t,this}var H1e=V1e,W1e=T1e,q1e=E1e,G1e=L1e,K1e=B1e,Y1e=H1e;function sp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sp.prototype.clear=W1e;sp.prototype.delete=q1e;sp.prototype.get=G1e;sp.prototype.has=K1e;sp.prototype.set=Y1e;var X1e=sp;function J1e(){this.__data__=[],this.size=0}var Q1e=J1e;function Z1e(e,t){return e===t||e!==e&&t!==t}var PC=Z1e,eye=PC;function tye(e,t){for(var r=e.length;r--;)if(eye(e[r][0],t))return r;return-1}var Fw=tye,rye=Fw,nye=Array.prototype,aye=nye.splice;function iye(e){var t=this.__data__,r=rye(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():aye.call(t,r,1),--this.size,!0}var sye=iye,oye=Fw;function lye(e){var t=this.__data__,r=oye(t,e);return r<0?void 0:t[r][1]}var cye=lye,uye=Fw;function dye(e){return uye(this.__data__,e)>-1}var fye=dye,hye=Fw;function pye(e,t){var r=this.__data__,n=hye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var mye=pye,gye=Q1e,vye=sye,xye=cye,yye=fye,bye=mye;function op(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}op.prototype.clear=gye;op.prototype.delete=vye;op.prototype.get=xye;op.prototype.has=yye;op.prototype.set=bye;var Dw=op,wye=Sf,_ye=Pl,jye=wye(_ye,"Map"),OC=jye,W8=X1e,Sye=Dw,Nye=OC;function Aye(){this.size=0,this.__data__={hash:new W8,map:new(Nye||Sye),string:new W8}}var Tye=Aye;function Cye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Eye=Cye,kye=Eye;function Pye(e,t){var r=e.__data__;return kye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Lw=Pye,Oye=Lw;function Fye(e){var t=Oye(this,e).delete(e);return this.size-=t?1:0,t}var Dye=Fye,Lye=Lw;function Iye(e){return Lye(this,e).get(e)}var Mye=Iye,Rye=Lw;function $ye(e){return Rye(this,e).has(e)}var Bye=$ye,Uye=Lw;function zye(e,t){var r=Uye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Vye=zye,Hye=Tye,Wye=Dye,qye=Mye,Gye=Bye,Kye=Vye;function lp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lp.prototype.clear=Hye;lp.prototype.delete=Wye;lp.prototype.get=qye;lp.prototype.has=Gye;lp.prototype.set=Kye;var FC=lp,pH=FC,Yye="Expected a function";function DC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Yye);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(DC.Cache||pH),r}DC.Cache=pH;var mH=DC;const Xye=Vr(mH);var Jye=mH,Qye=500;function Zye(e){var t=Jye(e,function(n){return r.size===Qye&&r.clear(),n}),r=t.cache;return t}var e2e=Zye,t2e=e2e,r2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n2e=/\\(\\)?/g,a2e=t2e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(r2e,function(r,n,a,i){t.push(a?i.replace(n2e,"$1"):n||r)}),t}),i2e=a2e;function s2e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var LC=s2e,q8=sx,o2e=LC,l2e=as,c2e=ap,u2e=1/0,G8=q8?q8.prototype:void 0,K8=G8?G8.toString:void 0;function gH(e){if(typeof e=="string")return e;if(l2e(e))return o2e(e,gH)+"";if(c2e(e))return K8?K8.call(e):"";var t=e+"";return t=="0"&&1/e==-u2e?"-0":t}var d2e=gH,f2e=d2e;function h2e(e){return e==null?"":f2e(e)}var vH=h2e,p2e=as,m2e=EC,g2e=i2e,v2e=vH;function x2e(e,t){return p2e(e)?e:m2e(e,t)?[e]:g2e(v2e(e))}var xH=x2e,y2e=ap,b2e=1/0;function w2e(e){if(typeof e=="string"||y2e(e))return e;var t=e+"";return t=="0"&&1/e==-b2e?"-0":t}var Iw=w2e,_2e=xH,j2e=Iw;function S2e(e,t){t=_2e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[j2e(t[r++])];return r&&r==n?e:void 0}var IC=S2e,N2e=IC;function A2e(e,t,r){var n=e==null?void 0:N2e(e,t);return n===void 0?r:n}var yH=A2e;const ro=Vr(yH);function T2e(e){return e==null}var C2e=T2e;const Ar=Vr(C2e);var E2e=Cc,k2e=as,P2e=Ec,O2e="[object String]";function F2e(e){return typeof e=="string"||!k2e(e)&&P2e(e)&&E2e(e)==O2e}var D2e=F2e;const ox=Vr(D2e);var bH={exports:{}},tn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=Symbol.for("react.element"),RC=Symbol.for("react.portal"),Mw=Symbol.for("react.fragment"),Rw=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),Bw=Symbol.for("react.provider"),Uw=Symbol.for("react.context"),L2e=Symbol.for("react.server_context"),zw=Symbol.for("react.forward_ref"),Vw=Symbol.for("react.suspense"),Hw=Symbol.for("react.suspense_list"),Ww=Symbol.for("react.memo"),qw=Symbol.for("react.lazy"),I2e=Symbol.for("react.offscreen"),wH;wH=Symbol.for("react.module.reference");function co(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case MC:switch(e=e.type,e){case Mw:case $w:case Rw:case Vw:case Hw:return e;default:switch(e=e&&e.$$typeof,e){case L2e:case Uw:case zw:case qw:case Ww:case Bw:return e;default:return t}}case RC:return t}}}tn.ContextConsumer=Uw;tn.ContextProvider=Bw;tn.Element=MC;tn.ForwardRef=zw;tn.Fragment=Mw;tn.Lazy=qw;tn.Memo=Ww;tn.Portal=RC;tn.Profiler=$w;tn.StrictMode=Rw;tn.Suspense=Vw;tn.SuspenseList=Hw;tn.isAsyncMode=function(){return!1};tn.isConcurrentMode=function(){return!1};tn.isContextConsumer=function(e){return co(e)===Uw};tn.isContextProvider=function(e){return co(e)===Bw};tn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===MC};tn.isForwardRef=function(e){return co(e)===zw};tn.isFragment=function(e){return co(e)===Mw};tn.isLazy=function(e){return co(e)===qw};tn.isMemo=function(e){return co(e)===Ww};tn.isPortal=function(e){return co(e)===RC};tn.isProfiler=function(e){return co(e)===$w};tn.isStrictMode=function(e){return co(e)===Rw};tn.isSuspense=function(e){return co(e)===Vw};tn.isSuspenseList=function(e){return co(e)===Hw};tn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mw||e===$w||e===Rw||e===Vw||e===Hw||e===I2e||typeof e=="object"&&e!==null&&(e.$$typeof===qw||e.$$typeof===Ww||e.$$typeof===Bw||e.$$typeof===Uw||e.$$typeof===zw||e.$$typeof===wH||e.getModuleId!==void 0)};tn.typeOf=co;bH.exports=tn;var M2e=bH.exports,R2e=Cc,$2e=Ec,B2e="[object Number]";function U2e(e){return typeof e=="number"||$2e(e)&&R2e(e)==B2e}var _H=U2e;const z2e=Vr(_H);var V2e=_H;function H2e(e){return V2e(e)&&e!=+e}var W2e=H2e;const lx=Vr(W2e);var Bo=function(t){return t===0?0:t>0?1:-1},Pd=function(t){return ox(t)&&t.indexOf("%")===t.length-1},At=function(t){return z2e(t)&&!lx(t)},_a=function(t){return At(t)||ox(t)},q2e=0,cx=function(t){var r=++q2e;return"".concat(t||"").concat(r)},lf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!At(t)&&!ox(t))return n;var i;if(Pd(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return lx(i)&&(i=n),a&&i>r&&(i=r),i},uu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},G2e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Do=function(t,r){return At(t)&&At(r)?function(n){return t+n*(r-t)}:function(){return r}};function M2(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ro(n,t))===r})}function Jh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function l4(e){"@babel/helpers - typeof";return l4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l4(e)}var K2e=["viewBox","children"],Y2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Y8=["points","pathLength"],jj={svg:K2e,polygon:Y8,polyline:Y8},$C=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],R2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!ip(n))return null;var a={};return Object.keys(n).forEach(function(i){$C.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},X2e=function(t,r,n){return function(a){return t(r,n,a),null}},$2=function(t,r,n){if(!ip(t)||l4(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];$C.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=X2e(o,r,n))}),a},J2e=["children"],Q2e=["children"];function X8(e,t){if(e==null)return{};var r=Z2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function c4(e){"@babel/helpers - typeof";return c4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c4(e)}var J8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Q8=null,Sj=null,BC=function e(t){if(t===Q8&&Array.isArray(Sj))return Sj;var r=[];return O.Children.forEach(t,function(n){Ar(n)||(M2e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Sj=r,Q8=t,r};function no(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return uc(a)}):n=[uc(t)],BC(e).forEach(function(a){var i=ro(a,"type.displayName")||ro(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ms(e,t){var r=no(e,t);return r&&r[0]}var Z8=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!At(n)||n<=0||!At(a)||a<=0)},ebe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tbe=function(t){return t&&t.type&&ox(t.type)&&ebe.indexOf(t.type)>=0},rbe=function(t){return t&&c4(t)==="object"&&"clipDot"in t},nbe=function(t,r,n,a){var i,o=(i=jj==null?void 0:jj[a])!==null&&i!==void 0?i:[];return!br(t)&&(a&&o.includes(r)||Y2e.includes(r))||n&&$C.includes(r)},Pr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!ip(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;nbe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},u4=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eF(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!eF(i,o))return!1}return!0},eF=function(t,r){if(Ar(t)&&Ar(r))return!0;if(!Ar(t)&&!Ar(r)){var n=t.props||{},a=n.children,i=X8(n,J2e),o=r.props||{},l=o.children,c=X8(o,Q2e);return a&&l?Jh(i,c)&&u4(a,l):!a&&!l?Jh(i,c):!1}return!1},tF=function(t,r){var n=[],a={};return BC(t).forEach(function(i,o){if(tbe(i))n.push(i);else if(i){var l=uc(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},abe=function(t){var r=t&&t.type;return r&&J8[r]?J8[r]:null},ibe=function(t,r){return BC(r).indexOf(t)},sbe=["children","width","height","viewBox","className","style","title","desc"];function d4(){return d4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d4.apply(this,arguments)}function obe(e,t){if(e==null)return{};var r=lbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f4(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=obe(e,sbe),d=a||{width:r,height:n,x:0,y:0},f=Ir("recharts-surface",i);return Ne.createElement("svg",d4({},Pr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Ne.createElement("title",null,l),Ne.createElement("desc",null,c),t)}var cbe=["children","className"];function h4(){return h4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h4.apply(this,arguments)}function ube(e,t){if(e==null)return{};var r=dbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ra=Ne.forwardRef(function(e,t){var r=e.children,n=e.className,a=ube(e,cbe),i=Ir("recharts-layer",n);return Ne.createElement("g",h4({className:i},Pr(a,!0),{ref:t}),r)}),dc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function fbe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var hbe=fbe,pbe=hbe;function mbe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:pbe(e,t,r)}var gbe=mbe,vbe="\\ud800-\\udfff",xbe="\\u0300-\\u036f",ybe="\\ufe20-\\ufe2f",bbe="\\u20d0-\\u20ff",wbe=xbe+ybe+bbe,_be="\\ufe0e\\ufe0f",jbe="\\u200d",Sbe=RegExp("["+jbe+vbe+wbe+_be+"]");function Nbe(e){return Sbe.test(e)}var jH=Nbe;function Abe(e){return e.split("")}var Tbe=Abe,SH="\\ud800-\\udfff",Cbe="\\u0300-\\u036f",Ebe="\\ufe20-\\ufe2f",kbe="\\u20d0-\\u20ff",Pbe=Cbe+Ebe+kbe,Obe="\\ufe0e\\ufe0f",Fbe="["+SH+"]",p4="["+Pbe+"]",m4="\\ud83c[\\udffb-\\udfff]",Dbe="(?:"+p4+"|"+m4+")",NH="[^"+SH+"]",AH="(?:\\ud83c[\\udde6-\\uddff]){2}",TH="[\\ud800-\\udbff][\\udc00-\\udfff]",Lbe="\\u200d",CH=Dbe+"?",EH="["+Obe+"]?",Ibe="(?:"+Lbe+"(?:"+[NH,AH,TH].join("|")+")"+EH+CH+")*",Mbe=EH+CH+Ibe,Rbe="(?:"+[NH+p4+"?",p4,AH,TH,Fbe].join("|")+")",$be=RegExp(m4+"(?="+m4+")|"+Rbe+Mbe,"g");function Bbe(e){return e.match($be)||[]}var Ube=Bbe,zbe=Tbe,Vbe=jH,Hbe=Ube;function Wbe(e){return Vbe(e)?Hbe(e):zbe(e)}var qbe=Wbe,Gbe=gbe,Kbe=jH,Ybe=qbe,Xbe=vH;function Jbe(e){return function(t){t=Xbe(t);var r=Kbe(t)?Ybe(t):void 0,n=r?r[0]:t.charAt(0),a=r?Gbe(r,1).join(""):t.slice(1);return n[e]()+a}}var Qbe=Jbe,Zbe=Qbe,ewe=Zbe("toUpperCase"),twe=ewe;const Gw=Vr(twe);function pn(e){return function(){return e}}const kH=Math.cos,B2=Math.sin,Jo=Math.sqrt,U2=Math.PI,Kw=2*U2,g4=Math.PI,v4=2*g4,vd=1e-6,rwe=v4-vd;function PH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nwe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PH;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class awe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PH:nwe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>vd)if(!(Math.abs(f*c-u*d)>vd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=a-l,m=c*c+u*u,x=p*p+v*v,g=Math.sqrt(m),y=Math.sqrt(h),b=i*Math.tan((g4-Math.acos((m+h-x)/(2*g*y)))/2),j=b/y,_=b/g;Math.abs(j-1)>vd&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*v)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>vd||Math.abs(this._y1-d)>vd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%v4+v4),h>rwe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>vd&&this._append`A${n},${n},0,${+(h>=g4)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function UC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new awe(t)}function zC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function OH(e){this._context=e}OH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yw(e){return new OH(e)}function FH(e){return e[0]}function DH(e){return e[1]}function LH(e,t){var r=pn(!0),n=null,a=Yw,i=null,o=UC(l);e=typeof e=="function"?e:e===void 0?FH:pn(e),t=typeof t=="function"?t:t===void 0?DH:pn(t);function l(c){var u,d=(c=zC(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:pn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:pn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:pn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Y1(e,t,r){var n=null,a=pn(!0),i=null,o=Yw,l=null,c=UC(u);e=typeof e=="function"?e:e===void 0?FH:pn(+e),t=typeof t=="function"?t:pn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?DH:pn(+r);function u(f){var h,p,v,m=(f=zC(f)).length,x,g=!1,y,b=new Array(m),j=new Array(m);for(i==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&a(x=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(b[v],j[v]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(x,h,f),j[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):j[h]))}if(y)return l=null,y+""||null}function d(){return LH().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:pn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:pn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:pn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:pn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:pn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class IH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function iwe(e){return new IH(e,!0)}function swe(e){return new IH(e,!1)}const VC={draw(e,t){const r=Jo(t/U2);e.moveTo(r,0),e.arc(0,0,r,0,Kw)}},owe={draw(e,t){const r=Jo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},MH=Jo(1/3),lwe=MH*2,cwe={draw(e,t){const r=Jo(t/lwe),n=r*MH;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uwe={draw(e,t){const r=Jo(t),n=-r/2;e.rect(n,n,r,r)}},dwe=.8908130915292852,RH=B2(U2/10)/B2(7*U2/10),fwe=B2(Kw/10)*RH,hwe=-kH(Kw/10)*RH,pwe={draw(e,t){const r=Jo(t*dwe),n=fwe*r,a=hwe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Kw*i/5,l=kH(o),c=B2(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Nj=Jo(3),mwe={draw(e,t){const r=-Jo(t/(Nj*3));e.moveTo(0,r*2),e.lineTo(-Nj*r,-r),e.lineTo(Nj*r,-r),e.closePath()}},Vs=-.5,Hs=Jo(3)/2,x4=1/Jo(12),gwe=(x4/2+1)*3,vwe={draw(e,t){const r=Jo(t/gwe),n=r/2,a=r*x4,i=n,o=r*x4+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Vs*n-Hs*a,Hs*n+Vs*a),e.lineTo(Vs*i-Hs*o,Hs*i+Vs*o),e.lineTo(Vs*l-Hs*c,Hs*l+Vs*c),e.lineTo(Vs*n+Hs*a,Vs*a-Hs*n),e.lineTo(Vs*i+Hs*o,Vs*o-Hs*i),e.lineTo(Vs*l+Hs*c,Vs*c-Hs*l),e.closePath()}};function xwe(e,t){let r=null,n=UC(a);e=typeof e=="function"?e:pn(e||VC),t=typeof t=="function"?t:pn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:pn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:pn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function z2(){}function V2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $H(e){this._context=e}$H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:V2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:V2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ywe(e){return new $H(e)}function BH(e){this._context=e}BH.prototype={areaStart:z2,areaEnd:z2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:V2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bwe(e){return new BH(e)}function UH(e){this._context=e}UH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:V2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wwe(e){return new UH(e)}function zH(e){this._context=e}zH.prototype={areaStart:z2,areaEnd:z2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _we(e){return new zH(e)}function rF(e){return e<0?-1:1}function nF(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(rF(i)+rF(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function aF(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Aj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function H2(e){this._context=e}H2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Aj(this,this._t0,aF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Aj(this,aF(this,r=nF(this,e,t)),r);break;default:Aj(this,this._t0,r=nF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function VH(e){this._context=new HH(e)}(VH.prototype=Object.create(H2.prototype)).point=function(e,t){H2.prototype.point.call(this,t,e)};function HH(e){this._context=e}HH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function jwe(e){return new H2(e)}function Swe(e){return new VH(e)}function WH(e){this._context=e}WH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=iF(e),a=iF(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iF(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Nwe(e){return new WH(e)}function Xw(e,t){this._context=e,this._t=t}Xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Awe(e){return new Xw(e,.5)}function Twe(e){return new Xw(e,0)}function Cwe(e){return new Xw(e,1)}function y0(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function y4(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Ewe(e,t){return e[t]}function kwe(e){const t=[];return t.key=e,t}function Pwe(){var e=pn([]),t=y4,r=y0,n=Ewe;function a(i){var o=Array.from(e.apply(this,arguments),kwe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=zC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:pn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:pn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?y4:typeof i=="function"?i:pn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??y0,a):r},a}function Owe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}y0(e,t)}}function Fwe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}y0(e,t)}}function Dwe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<l;++v){var m=e[t[v]],x=m[n][1]||0,g=m[n-1][1]||0;p+=x-g}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,y0(e,t)}}function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}var Lwe=["type","size","sizeType"];function b4(){return b4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b4.apply(this,arguments)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){Iwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iwe(e,t,r){return t=Mwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mwe(e){var t=Rwe(e,"string");return tv(t)=="symbol"?t:t+""}function Rwe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $we(e,t){if(e==null)return{};var r=Bwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qH={symbolCircle:VC,symbolCross:owe,symbolDiamond:cwe,symbolSquare:uwe,symbolStar:pwe,symbolTriangle:mwe,symbolWye:vwe},Uwe=Math.PI/180,zwe=function(t){var r="symbol".concat(Gw(t));return qH[r]||VC},Vwe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Uwe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Hwe=function(t,r){qH["symbol".concat(Gw(t))]=r},HC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=$we(t,Lwe),u=oF(oF({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=zwe(n),g=xwe().type(x).size(Vwe(i,l,n));return g()},f=u.className,h=u.cx,p=u.cy,v=Pr(u,!0);return h===+h&&p===+p&&i===+i?Ne.createElement("path",b4({},v,{className:Ir("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};HC.registerSymbol=Hwe;function b0(e){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b0(e)}function w4(){return w4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w4.apply(this,arguments)}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wwe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(n){rv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KH(n.key),n)}}function Gwe(e,t,r){return t&&cF(e.prototype,t),r&&cF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kwe(e,t,r){return t=W2(t),Ywe(e,GH()?Reflect.construct(t,r||[],W2(e).constructor):t.apply(e,r))}function Ywe(e,t){if(t&&(b0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xwe(e)}function Xwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GH=function(){return!!e})()}function W2(e){return W2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W2(e)}function Jwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_4(e,t)}function _4(e,t){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_4(e,t)}function rv(e,t,r){return t=KH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=Qwe(e,"string");return b0(t)=="symbol"?t:t+""}function Qwe(e,t){if(b0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ws=32,WC=function(e){function t(){return qwe(this,t),Kwe(this,t,arguments)}return Jwe(t,e),Gwe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ws/2,o=Ws/6,l=Ws/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Ne.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ws,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ne.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ws,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ne.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ws/8,"h").concat(Ws,"v").concat(Ws*3/4,"h").concat(-Ws,"z"),className:"recharts-legend-icon"});if(Ne.isValidElement(n.legendIcon)){var u=Wwe({},n);return delete u.legendIcon,Ne.cloneElement(n.legendIcon,u)}return Ne.createElement(HC,{fill:c,cx:i,cy:i,size:Ws,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ws,height:Ws},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var m=p.formatter||c,x=Ir(rv(rv({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=br(p.value)?null:p.value;dc(!br(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return Ne.createElement("li",w4({className:x,style:f,key:"legend-item-".concat(v)},$2(n.props,p,v)),Ne.createElement(f4,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),Ne.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(g,p,v):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ne.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);rv(WC,"displayName","Legend");rv(WC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zwe=Dw;function e_e(){this.__data__=new Zwe,this.size=0}var t_e=e_e;function r_e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var n_e=r_e;function a_e(e){return this.__data__.get(e)}var i_e=a_e;function s_e(e){return this.__data__.has(e)}var o_e=s_e,l_e=Dw,c_e=OC,u_e=FC,d_e=200;function f_e(e,t){var r=this.__data__;if(r instanceof l_e){var n=r.__data__;if(!c_e||n.length<d_e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new u_e(n)}return r.set(e,t),this.size=r.size,this}var h_e=f_e,p_e=Dw,m_e=t_e,g_e=n_e,v_e=i_e,x_e=o_e,y_e=h_e;function cp(e){var t=this.__data__=new p_e(e);this.size=t.size}cp.prototype.clear=m_e;cp.prototype.delete=g_e;cp.prototype.get=v_e;cp.prototype.has=x_e;cp.prototype.set=y_e;var YH=cp,b_e="__lodash_hash_undefined__";function w_e(e){return this.__data__.set(e,b_e),this}var __e=w_e;function j_e(e){return this.__data__.has(e)}var S_e=j_e,N_e=FC,A_e=__e,T_e=S_e;function q2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new N_e;++t<r;)this.add(e[t])}q2.prototype.add=q2.prototype.push=A_e;q2.prototype.has=T_e;var XH=q2;function C_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var JH=C_e;function E_e(e,t){return e.has(t)}var QH=E_e,k_e=XH,P_e=JH,O_e=QH,F_e=1,D_e=2;function L_e(e,t,r,n,a,i){var o=r&F_e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&D_e?new k_e:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],m=t[f];if(n)var x=o?n(m,v,f,t,e,i):n(v,m,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!P_e(t,function(g,y){if(!O_e(p,y)&&(v===g||a(v,g,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(v===m||a(v,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var ZH=L_e,I_e=Pl,M_e=I_e.Uint8Array,R_e=M_e;function $_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var B_e=$_e;function U_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var qC=U_e,uF=sx,dF=R_e,z_e=PC,V_e=ZH,H_e=B_e,W_e=qC,q_e=1,G_e=2,K_e="[object Boolean]",Y_e="[object Date]",X_e="[object Error]",J_e="[object Map]",Q_e="[object Number]",Z_e="[object RegExp]",e5e="[object Set]",t5e="[object String]",r5e="[object Symbol]",n5e="[object ArrayBuffer]",a5e="[object DataView]",fF=uF?uF.prototype:void 0,Tj=fF?fF.valueOf:void 0;function i5e(e,t,r,n,a,i,o){switch(r){case a5e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case n5e:return!(e.byteLength!=t.byteLength||!i(new dF(e),new dF(t)));case K_e:case Y_e:case Q_e:return z_e(+e,+t);case X_e:return e.name==t.name&&e.message==t.message;case Z_e:case t5e:return e==t+"";case J_e:var l=H_e;case e5e:var c=n&q_e;if(l||(l=W_e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=G_e,o.set(e,t);var d=V_e(l(e),l(t),n,a,i,o);return o.delete(e),d;case r5e:if(Tj)return Tj.call(e)==Tj.call(t)}return!1}var s5e=i5e;function o5e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var eW=o5e,l5e=eW,c5e=as;function u5e(e,t,r){var n=t(e);return c5e(e)?n:l5e(n,r(e))}var d5e=u5e;function f5e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var h5e=f5e;function p5e(){return[]}var m5e=p5e,g5e=h5e,v5e=m5e,x5e=Object.prototype,y5e=x5e.propertyIsEnumerable,hF=Object.getOwnPropertySymbols,b5e=hF?function(e){return e==null?[]:(e=Object(e),g5e(hF(e),function(t){return y5e.call(e,t)}))}:v5e,w5e=b5e;function _5e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var j5e=_5e,S5e=Cc,N5e=Ec,A5e="[object Arguments]";function T5e(e){return N5e(e)&&S5e(e)==A5e}var C5e=T5e,pF=C5e,E5e=Ec,tW=Object.prototype,k5e=tW.hasOwnProperty,P5e=tW.propertyIsEnumerable,O5e=pF(function(){return arguments}())?pF:function(e){return E5e(e)&&k5e.call(e,"callee")&&!P5e.call(e,"callee")},GC=O5e,G2={exports:{}};function F5e(){return!1}var D5e=F5e;G2.exports;(function(e,t){var r=Pl,n=D5e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(G2,G2.exports);var rW=G2.exports,L5e=9007199254740991,I5e=/^(?:0|[1-9]\d*)$/;function M5e(e,t){var r=typeof e;return t=t??L5e,!!t&&(r=="number"||r!="symbol"&&I5e.test(e))&&e>-1&&e%1==0&&e<t}var KC=M5e,R5e=9007199254740991;function $5e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=R5e}var YC=$5e,B5e=Cc,U5e=YC,z5e=Ec,V5e="[object Arguments]",H5e="[object Array]",W5e="[object Boolean]",q5e="[object Date]",G5e="[object Error]",K5e="[object Function]",Y5e="[object Map]",X5e="[object Number]",J5e="[object Object]",Q5e="[object RegExp]",Z5e="[object Set]",eje="[object String]",tje="[object WeakMap]",rje="[object ArrayBuffer]",nje="[object DataView]",aje="[object Float32Array]",ije="[object Float64Array]",sje="[object Int8Array]",oje="[object Int16Array]",lje="[object Int32Array]",cje="[object Uint8Array]",uje="[object Uint8ClampedArray]",dje="[object Uint16Array]",fje="[object Uint32Array]",bn={};bn[aje]=bn[ije]=bn[sje]=bn[oje]=bn[lje]=bn[cje]=bn[uje]=bn[dje]=bn[fje]=!0;bn[V5e]=bn[H5e]=bn[rje]=bn[W5e]=bn[nje]=bn[q5e]=bn[G5e]=bn[K5e]=bn[Y5e]=bn[X5e]=bn[J5e]=bn[Q5e]=bn[Z5e]=bn[eje]=bn[tje]=!1;function hje(e){return z5e(e)&&U5e(e.length)&&!!bn[B5e(e)]}var pje=hje;function mje(e){return function(t){return e(t)}}var nW=mje,K2={exports:{}};K2.exports;(function(e,t){var r=dH,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(K2,K2.exports);var gje=K2.exports,vje=pje,xje=nW,mF=gje,gF=mF&&mF.isTypedArray,yje=gF?xje(gF):vje,aW=yje,bje=j5e,wje=GC,_je=as,jje=rW,Sje=KC,Nje=aW,Aje=Object.prototype,Tje=Aje.hasOwnProperty;function Cje(e,t){var r=_je(e),n=!r&&wje(e),a=!r&&!n&&jje(e),i=!r&&!n&&!a&&Nje(e),o=r||n||a||i,l=o?bje(e.length,String):[],c=l.length;for(var u in e)(t||Tje.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Sje(u,c)))&&l.push(u);return l}var Eje=Cje,kje=Object.prototype;function Pje(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||kje;return e===r}var Oje=Pje;function Fje(e,t){return function(r){return e(t(r))}}var iW=Fje,Dje=iW,Lje=Dje(Object.keys,Object),Ije=Lje,Mje=Oje,Rje=Ije,$je=Object.prototype,Bje=$je.hasOwnProperty;function Uje(e){if(!Mje(e))return Rje(e);var t=[];for(var r in Object(e))Bje.call(e,r)&&r!="constructor"&&t.push(r);return t}var zje=Uje,Vje=kC,Hje=YC;function Wje(e){return e!=null&&Hje(e.length)&&!Vje(e)}var ux=Wje,qje=Eje,Gje=zje,Kje=ux;function Yje(e){return Kje(e)?qje(e):Gje(e)}var Jw=Yje,Xje=d5e,Jje=w5e,Qje=Jw;function Zje(e){return Xje(e,Qje,Jje)}var eSe=Zje,vF=eSe,tSe=1,rSe=Object.prototype,nSe=rSe.hasOwnProperty;function aSe(e,t,r,n,a,i){var o=r&tSe,l=vF(e),c=l.length,u=vF(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:nSe.call(t,h)))return!1}var p=i.get(e),v=i.get(t);if(p&&v)return p==t&&v==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var g=e[h],y=t[h];if(n)var b=o?n(y,g,h,t,e,i):n(g,y,h,e,t,i);if(!(b===void 0?g===y||a(g,y,r,n,i):b)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return i.delete(e),i.delete(t),m}var iSe=aSe,sSe=Sf,oSe=Pl,lSe=sSe(oSe,"DataView"),cSe=lSe,uSe=Sf,dSe=Pl,fSe=uSe(dSe,"Promise"),hSe=fSe,pSe=Sf,mSe=Pl,gSe=pSe(mSe,"Set"),sW=gSe,vSe=Sf,xSe=Pl,ySe=vSe(xSe,"WeakMap"),bSe=ySe,j4=cSe,S4=OC,N4=hSe,A4=sW,T4=bSe,oW=Cc,up=hH,xF="[object Map]",wSe="[object Object]",yF="[object Promise]",bF="[object Set]",wF="[object WeakMap]",_F="[object DataView]",_Se=up(j4),jSe=up(S4),SSe=up(N4),NSe=up(A4),ASe=up(T4),xd=oW;(j4&&xd(new j4(new ArrayBuffer(1)))!=_F||S4&&xd(new S4)!=xF||N4&&xd(N4.resolve())!=yF||A4&&xd(new A4)!=bF||T4&&xd(new T4)!=wF)&&(xd=function(e){var t=oW(e),r=t==wSe?e.constructor:void 0,n=r?up(r):"";if(n)switch(n){case _Se:return _F;case jSe:return xF;case SSe:return yF;case NSe:return bF;case ASe:return wF}return t});var TSe=xd,Cj=YH,CSe=ZH,ESe=s5e,kSe=iSe,jF=TSe,SF=as,NF=rW,PSe=aW,OSe=1,AF="[object Arguments]",TF="[object Array]",X1="[object Object]",FSe=Object.prototype,CF=FSe.hasOwnProperty;function DSe(e,t,r,n,a,i){var o=SF(e),l=SF(t),c=o?TF:jF(e),u=l?TF:jF(t);c=c==AF?X1:c,u=u==AF?X1:u;var d=c==X1,f=u==X1,h=c==u;if(h&&NF(e)){if(!NF(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Cj),o||PSe(e)?CSe(e,t,r,n,a,i):ESe(e,t,c,r,n,a,i);if(!(r&OSe)){var p=d&&CF.call(e,"__wrapped__"),v=f&&CF.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,x=v?t.value():t;return i||(i=new Cj),a(m,x,r,n,i)}}return h?(i||(i=new Cj),kSe(e,t,r,n,a,i)):!1}var LSe=DSe,ISe=LSe,EF=Ec;function lW(e,t,r,n,a){return e===t?!0:e==null||t==null||!EF(e)&&!EF(t)?e!==e&&t!==t:ISe(e,t,r,n,lW,a)}var XC=lW,MSe=YH,RSe=XC,$Se=1,BSe=2;function USe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new MSe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?RSe(d,u,$Se|BSe,n,f):h))return!1}}return!0}var zSe=USe,VSe=Yu;function HSe(e){return e===e&&!VSe(e)}var cW=HSe,WSe=cW,qSe=Jw;function GSe(e){for(var t=qSe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,WSe(a)]}return t}var KSe=GSe;function YSe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var uW=YSe,XSe=zSe,JSe=KSe,QSe=uW;function ZSe(e){var t=JSe(e);return t.length==1&&t[0][2]?QSe(t[0][0],t[0][1]):function(r){return r===e||XSe(r,e,t)}}var eNe=ZSe;function tNe(e,t){return e!=null&&t in Object(e)}var rNe=tNe,nNe=xH,aNe=GC,iNe=as,sNe=KC,oNe=YC,lNe=Iw;function cNe(e,t,r){t=nNe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=lNe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&oNe(a)&&sNe(o,a)&&(iNe(e)||aNe(e)))}var uNe=cNe,dNe=rNe,fNe=uNe;function hNe(e,t){return e!=null&&fNe(e,t,dNe)}var pNe=hNe,mNe=XC,gNe=yH,vNe=pNe,xNe=EC,yNe=cW,bNe=uW,wNe=Iw,_Ne=1,jNe=2;function SNe(e,t){return xNe(e)&&yNe(t)?bNe(wNe(e),t):function(r){var n=gNe(r,e);return n===void 0&&n===t?vNe(r,e):mNe(t,n,_Ne|jNe)}}var NNe=SNe;function ANe(e){return e}var dp=ANe;function TNe(e){return function(t){return t==null?void 0:t[e]}}var CNe=TNe,ENe=IC;function kNe(e){return function(t){return ENe(t,e)}}var PNe=kNe,ONe=CNe,FNe=PNe,DNe=EC,LNe=Iw;function INe(e){return DNe(e)?ONe(LNe(e)):FNe(e)}var MNe=INe,RNe=eNe,$Ne=NNe,BNe=dp,UNe=as,zNe=MNe;function VNe(e){return typeof e=="function"?e:e==null?BNe:typeof e=="object"?UNe(e)?$Ne(e[0],e[1]):RNe(e):zNe(e)}var Xu=VNe;function HNe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var dW=HNe;function WNe(e){return e!==e}var qNe=WNe;function GNe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var KNe=GNe,YNe=dW,XNe=qNe,JNe=KNe;function QNe(e,t,r){return t===t?JNe(e,t,r):YNe(e,XNe,r)}var ZNe=QNe,e4e=ZNe;function t4e(e,t){var r=e==null?0:e.length;return!!r&&e4e(e,t,0)>-1}var r4e=t4e;function n4e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var a4e=n4e;function i4e(){}var s4e=i4e,Ej=sW,o4e=s4e,l4e=qC,c4e=1/0,u4e=Ej&&1/l4e(new Ej([,-0]))[1]==c4e?function(e){return new Ej(e)}:o4e,d4e=u4e,f4e=XH,h4e=r4e,p4e=a4e,m4e=QH,g4e=d4e,v4e=qC,x4e=200;function y4e(e,t,r){var n=-1,a=h4e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=p4e;else if(i>=x4e){var u=t?null:g4e(e);if(u)return v4e(u);o=!1,a=m4e,c=new f4e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var b4e=y4e,w4e=Xu,_4e=b4e;function j4e(e,t){return e&&e.length?_4e(e,w4e(t)):[]}var S4e=j4e;const kF=Vr(S4e);function fW(e,t,r){return t===!0?kF(e,r):br(t)?kF(e,t):e}function w0(e){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w0(e)}var N4e=["ref"];function PF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PF(Object(r),!0).forEach(function(n){Qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pW(n.key),n)}}function T4e(e,t,r){return t&&OF(e.prototype,t),r&&OF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C4e(e,t,r){return t=Y2(t),E4e(e,hW()?Reflect.construct(t,r||[],Y2(e).constructor):t.apply(e,r))}function E4e(e,t){if(t&&(w0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k4e(e)}function k4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hW=function(){return!!e})()}function Y2(e){return Y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y2(e)}function P4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C4(e,t)}function C4(e,t){return C4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C4(e,t)}function Qw(e,t,r){return t=pW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=O4e(e,"string");return w0(t)=="symbol"?t:t+""}function O4e(e,t){if(w0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F4e(e,t){if(e==null)return{};var r=D4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L4e(e){return e.value}function I4e(e,t){if(Ne.isValidElement(e))return Ne.cloneElement(e,t);if(typeof e=="function")return Ne.createElement(e,t);t.ref;var r=F4e(t,N4e);return Ne.createElement(WC,r)}var FF=1,Qh=function(e){function t(){var r;A4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=C4e(this,t,[].concat(a)),Qw(r,"lastBoundingBox",{width:-1,height:-1}),r}return P4e(t,e),T4e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>FF||Math.abs(a.height-this.lastBoundingBox.height)>FF)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ql({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ql(ql({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=ql(ql({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},I4e(i,ql(ql({},this.props),{},{payload:fW(d,u,L4e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ql(ql({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&At(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);Qw(Qh,"displayName","Legend");Qw(Qh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DF=sx,M4e=GC,R4e=as,LF=DF?DF.isConcatSpreadable:void 0;function $4e(e){return R4e(e)||M4e(e)||!!(LF&&e&&e[LF])}var B4e=$4e,U4e=eW,z4e=B4e;function mW(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=z4e),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?mW(l,t-1,r,n,a):U4e(a,l):n||(a[a.length]=l)}return a}var gW=mW;function V4e(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var H4e=V4e,W4e=H4e,q4e=W4e(),G4e=q4e,K4e=G4e,Y4e=Jw;function X4e(e,t){return e&&K4e(e,t,Y4e)}var vW=X4e,J4e=ux;function Q4e(e,t){return function(r,n){if(r==null)return r;if(!J4e(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Z4e=Q4e,eAe=vW,tAe=Z4e,rAe=tAe(eAe),JC=rAe,nAe=JC,aAe=ux;function iAe(e,t){var r=-1,n=aAe(e)?Array(e.length):[];return nAe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var xW=iAe;function sAe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var oAe=sAe,IF=ap;function lAe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=IF(e),o=t!==void 0,l=t===null,c=t===t,u=IF(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var cAe=lAe,uAe=cAe;function dAe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=uAe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var fAe=dAe,kj=LC,hAe=IC,pAe=Xu,mAe=xW,gAe=oAe,vAe=nW,xAe=fAe,yAe=dp,bAe=as;function wAe(e,t,r){t.length?t=kj(t,function(i){return bAe(i)?function(o){return hAe(o,i.length===1?i[0]:i)}:i}):t=[yAe];var n=-1;t=kj(t,vAe(pAe));var a=mAe(e,function(i,o,l){var c=kj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return gAe(a,function(i,o){return xAe(i,o,r)})}var _Ae=wAe;function jAe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var SAe=jAe,NAe=SAe,MF=Math.max;function AAe(e,t,r){return t=MF(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=MF(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),NAe(e,this,l)}}var TAe=AAe;function CAe(e){return function(){return e}}var EAe=CAe,kAe=Sf,PAe=function(){try{var e=kAe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yW=PAe,OAe=EAe,RF=yW,FAe=dp,DAe=RF?function(e,t){return RF(e,"toString",{configurable:!0,enumerable:!1,value:OAe(t),writable:!0})}:FAe,LAe=DAe,IAe=800,MAe=16,RAe=Date.now;function $Ae(e){var t=0,r=0;return function(){var n=RAe(),a=MAe-(n-r);if(r=n,a>0){if(++t>=IAe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var BAe=$Ae,UAe=LAe,zAe=BAe,VAe=zAe(UAe),HAe=VAe,WAe=dp,qAe=TAe,GAe=HAe;function KAe(e,t){return GAe(qAe(e,t,WAe),e+"")}var YAe=KAe,XAe=PC,JAe=ux,QAe=KC,ZAe=Yu;function eTe(e,t,r){if(!ZAe(r))return!1;var n=typeof t;return(n=="number"?JAe(r)&&QAe(t,r.length):n=="string"&&t in r)?XAe(r[t],e):!1}var Zw=eTe,tTe=gW,rTe=_Ae,nTe=YAe,$F=Zw,aTe=nTe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&$F(e,t[0],t[1])?t=[]:r>2&&$F(t[0],t[1],t[2])&&(t=[t[0]]),rTe(e,tTe(t,1),[])}),iTe=aTe;const QC=Vr(iTe);function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function E4(){return E4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E4.apply(this,arguments)}function sTe(e,t){return uTe(e)||cTe(e,t)||lTe(e,t)||oTe()}function oTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lTe(e,t){if(e){if(typeof e=="string")return BF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BF(e,t)}}function BF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function uTe(e){if(Array.isArray(e))return e}function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(n){dTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dTe(e,t,r){return t=fTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fTe(e){var t=hTe(e,"string");return nv(t)=="symbol"?t:t+""}function hTe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pTe(e){return Array.isArray(e)&&_a(e[0])&&_a(e[1])?e.join(" ~ "):e}var mTe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,m=t.label,x=t.labelFormatter,g=t.accessibilityLayer,y=g===void 0?!1:g,b=function(){if(d&&d.length){var k={padding:0,margin:0},z=(h?QC(d,h):d).map(function(I,R){if(I.type==="none")return null;var V=Pj({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),L=I.formatter||f||pTe,M=I.value,F=I.name,U=M,X=F;if(L&&U!=null&&X!=null){var E=L(M,F,I,R,d);if(Array.isArray(E)){var H=sTe(E,2);U=H[0],X=H[1]}else U=E}return Ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:V},_a(X)?Ne.createElement("span",{className:"recharts-tooltip-item-name"},X):null,_a(X)?Ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ne.createElement("span",{className:"recharts-tooltip-item-value"},U),Ne.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return Ne.createElement("ul",{className:"recharts-tooltip-item-list",style:k},z)}return null},j=Pj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=Pj({margin:0},u),N=!Ar(m),S=N?m:"",A=Ir("recharts-default-tooltip",p),P=Ir("recharts-tooltip-label",v);N&&x&&d!==void 0&&d!==null&&(S=x(m,d));var W=y?{role:"status","aria-live":"assertive"}:{};return Ne.createElement("div",E4({className:A,style:j},W),Ne.createElement("p",{className:P,style:_},Ne.isValidElement(S)?S:"".concat(S)),b())};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function J1(e,t,r){return t=gTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gTe(e){var t=vTe(e,"string");return av(t)=="symbol"?t:t+""}function vTe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lm="recharts-tooltip-wrapper",xTe={visibility:"hidden"};function yTe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ir(lm,J1(J1(J1(J1({},"".concat(lm,"-right"),At(r)&&t&&At(t.x)&&r>=t.x),"".concat(lm,"-left"),At(r)&&t&&At(t.x)&&r<t.x),"".concat(lm,"-bottom"),At(n)&&t&&At(t.y)&&n>=t.y),"".concat(lm,"-top"),At(n)&&t&&At(t.y)&&n<t.y))}function zF(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&At(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,m=c[n]+u;return v>m?Math.max(d,c[n]):Math.max(f,c[n])}function bTe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function wTe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=zF({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=zF({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=bTe({translateX:d,translateY:f,useTranslate3d:l})):u=xTe,{cssProperties:u,cssClasses:yTe({translateX:d,translateY:f,coordinate:r})}}function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}function VF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(r),!0).forEach(function(n){P4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wW(n.key),n)}}function jTe(e,t,r){return t&&WF(e.prototype,t),r&&WF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function STe(e,t,r){return t=X2(t),NTe(e,bW()?Reflect.construct(t,r||[],X2(e).constructor):t.apply(e,r))}function NTe(e,t){if(t&&(_0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ATe(e)}function ATe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bW=function(){return!!e})()}function X2(e){return X2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X2(e)}function TTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k4(e,t)}function k4(e,t){return k4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k4(e,t)}function P4(e,t,r){return t=wW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=CTe(e,"string");return _0(t)=="symbol"?t:t+""}function CTe(e,t){if(_0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qF=1,ETe=function(e){function t(){var r;_Te(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=STe(this,t,[].concat(a)),P4(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),P4(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return TTe(t,e),jTe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>qF||Math.abs(n.height-this.state.lastBoundingBox.height)>qF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,v=a.position,m=a.reverseDirection,x=a.useTranslate3d,g=a.viewBox,y=a.wrapperStyle,b=wTe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:g}),j=b.cssClasses,_=b.cssProperties,N=HF(HF({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return Ne.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(A){n.wrapperNode=A}},u)}}])}(O.PureComponent),kTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fc={isSsr:kTe(),get:function(t){return fc[t]},set:function(t,r){if(typeof t=="string")fc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){fc[a]=t[a]})}}};function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function GF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GF(Object(r),!0).forEach(function(n){ZC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jW(n.key),n)}}function OTe(e,t,r){return t&&YF(e.prototype,t),r&&YF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FTe(e,t,r){return t=J2(t),DTe(e,_W()?Reflect.construct(t,r||[],J2(e).constructor):t.apply(e,r))}function DTe(e,t){if(t&&(j0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LTe(e)}function LTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!e})()}function J2(e){return J2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J2(e)}function ITe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O4(e,t)}function O4(e,t){return O4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O4(e,t)}function ZC(e,t,r){return t=jW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=MTe(e,"string");return j0(t)=="symbol"?t:t+""}function MTe(e,t){if(j0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RTe(e){return e.dataKey}function $Te(e,t){return Ne.isValidElement(e)?Ne.cloneElement(e,t):typeof e=="function"?Ne.createElement(e,t):Ne.createElement(mTe,t)}var dl=function(e){function t(){return PTe(this,t),FTe(this,t,arguments)}return ITe(t,e),OTe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,v=a.payload,m=a.payloadUniqBy,x=a.position,g=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,j=a.wrapperStyle,_=v??[];f&&_.length&&(_=fW(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,RTe));var N=_.length>0;return Ne.createElement(ETe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:x,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:j},$Te(u,KF(KF({},this.props),{},{payload:_})))}}])}(O.PureComponent);ZC(dl,"displayName","Tooltip");ZC(dl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var BTe=Pl,UTe=function(){return BTe.Date.now()},zTe=UTe,VTe=/\s/;function HTe(e){for(var t=e.length;t--&&VTe.test(e.charAt(t)););return t}var WTe=HTe,qTe=WTe,GTe=/^\s+/;function KTe(e){return e&&e.slice(0,qTe(e)+1).replace(GTe,"")}var YTe=KTe,XTe=YTe,XF=Yu,JTe=ap,JF=0/0,QTe=/^[-+]0x[0-9a-f]+$/i,ZTe=/^0b[01]+$/i,e3e=/^0o[0-7]+$/i,t3e=parseInt;function r3e(e){if(typeof e=="number")return e;if(JTe(e))return JF;if(XF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=XF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XTe(e);var r=ZTe.test(e);return r||e3e.test(e)?t3e(e.slice(2),r?2:8):QTe.test(e)?JF:+e}var SW=r3e,n3e=Yu,Oj=zTe,QF=SW,a3e="Expected a function",i3e=Math.max,s3e=Math.min;function o3e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(a3e);t=QF(t)||0,n3e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?i3e(QF(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var S=n,A=a;return n=a=void 0,u=N,o=e.apply(A,S),o}function v(N){return u=N,l=setTimeout(g,t),d?p(N):o}function m(N){var S=N-c,A=N-u,P=t-S;return f?s3e(P,i-A):P}function x(N){var S=N-c,A=N-u;return c===void 0||S>=t||S<0||f&&A>=i}function g(){var N=Oj();if(x(N))return y(N);l=setTimeout(g,m(N))}function y(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:y(Oj())}function _(){var N=Oj(),S=x(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return _.cancel=b,_.flush=j,_}var l3e=o3e,c3e=l3e,u3e=Yu,d3e="Expected a function";function f3e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(d3e);return u3e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),c3e(e,t,{leading:n,maxWait:t,trailing:a})}var h3e=f3e;const NW=Vr(h3e);function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function ZF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(r),!0).forEach(function(n){p3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p3e(e,t,r){return t=m3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m3e(e){var t=g3e(e,"string");return iv(t)=="symbol"?t:t+""}function g3e(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v3e(e,t){return w3e(e)||b3e(e,t)||y3e(e,t)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y3e(e,t){if(e){if(typeof e=="string")return eD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eD(e,t)}}function eD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function w3e(e){if(Array.isArray(e))return e}var _3e=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=v===void 0?0:v,x=e.id,g=e.className,y=e.onResize,b=e.style,j=b===void 0?{}:b,_=O.useRef(null),N=O.useRef();N.current=y,O.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=O.useState({containerWidth:a.width,containerHeight:a.height}),A=v3e(S,2),P=A[0],W=A[1],C=O.useCallback(function(z,I){W(function(R){var V=Math.round(z),L=Math.round(I);return R.containerWidth===V&&R.containerHeight===L?R:{containerWidth:V,containerHeight:L}})},[]);O.useEffect(function(){var z=function(F){var U,X=F[0].contentRect,E=X.width,H=X.height;C(E,H),(U=N.current)===null||U===void 0||U.call(N,E,H)};m>0&&(z=NW(z,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(z),R=_.current.getBoundingClientRect(),V=R.width,L=R.height;return C(V,L),I.observe(_.current),function(){I.disconnect()}},[C,m]);var k=O.useMemo(function(){var z=P.containerWidth,I=P.containerHeight;if(z<0||I<0)return null;dc(Pd(o)||Pd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),dc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=Pd(o)?z:o,V=Pd(c)?I:c;r&&r>0&&(R?V=R/r:V&&(R=V*r),h&&V>h&&(V=h)),dc(R>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,V,o,c,d,f,r);var L=!Array.isArray(p)&&uc(p.type).endsWith("Chart");return Ne.Children.map(p,function(M){return Ne.isValidElement(M)?O.cloneElement(M,Q1({width:R,height:V},L?{style:Q1({height:"100%",width:"100%",maxHeight:V,maxWidth:R},M.props.style)}:{})):M})},[r,p,c,h,f,d,P,o]);return Ne.createElement("div",{id:x?"".concat(x):void 0,className:Ir("recharts-responsive-container",g),style:Q1(Q1({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},k)}),AW=function(t){return null};AW.displayName="Cell";function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){j3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j3e(e,t,r){return t=S3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S3e(e){var t=N3e(e,"string");return sv(t)=="symbol"?t:t+""}function N3e(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ah={widthCache:{},cacheCount:0},A3e=2e3,T3e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rD="recharts_measurement_span";function C3e(e){var t=F4({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var cg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fc.isSsr)return{width:0,height:0};var n=C3e(r),a=JSON.stringify({text:t,copyStyle:n});if(ah.widthCache[a])return ah.widthCache[a];try{var i=document.getElementById(rD);i||(i=document.createElement("span"),i.setAttribute("id",rD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=F4(F4({},T3e),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ah.widthCache[a]=c,++ah.cacheCount>A3e&&(ah.cacheCount=0,ah.widthCache={}),c}catch{return{width:0,height:0}}},E3e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Q2(e,t){return F3e(e)||O3e(e,t)||P3e(e,t)||k3e()}function k3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3e(e,t){if(e){if(typeof e=="string")return nD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nD(e,t)}}function nD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function F3e(e){if(Array.isArray(e))return e}function D3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I3e(n.key),n)}}function L3e(e,t,r){return t&&aD(e.prototype,t),r&&aD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I3e(e){var t=M3e(e,"string");return ov(t)=="symbol"?t:t+""}function M3e(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,R3e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$3e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},B3e=Object.keys(TW),Oh="NaN";function U3e(e,t){return e*TW[t]}var Z1=function(){function e(t,r){D3e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!R3e.test(r)&&(this.num=NaN,this.unit=""),B3e.includes(r)&&(this.num=U3e(t,r),this.unit="px")}return L3e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=$3e.exec(r))!==null&&n!==void 0?n:[],i=Q2(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function CW(e){if(e.includes(Oh))return Oh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=iD.exec(t))!==null&&r!==void 0?r:[],a=Q2(n,4),i=a[1],o=a[2],l=a[3],c=Z1.parse(i??""),u=Z1.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Oh;t=t.replace(iD,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=sD.exec(t))!==null&&f!==void 0?f:[],p=Q2(h,4),v=p[1],m=p[2],x=p[3],g=Z1.parse(v??""),y=Z1.parse(x??""),b=m==="+"?g.add(y):g.subtract(y);if(b.isNaN())return Oh;t=t.replace(sD,b.toString())}return t}var oD=/\(([^()]*)\)/;function z3e(e){for(var t=e;t.includes("(");){var r=oD.exec(t),n=Q2(r,2),a=n[1];t=t.replace(oD,CW(a))}return t}function V3e(e){var t=e.replace(/\s+/g,"");return t=z3e(t),t=CW(t),t}function H3e(e){try{return V3e(e)}catch{return Oh}}function Fj(e){var t=H3e(e.slice(5,-1));return t===Oh?"":t}var W3e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],q3e=["dx","dy","angle","className","breakAll"];function D4(){return D4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D4.apply(this,arguments)}function lD(e,t){if(e==null)return{};var r=G3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cD(e,t){return J3e(e)||X3e(e,t)||Y3e(e,t)||K3e()}function K3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3e(e,t){if(e){if(typeof e=="string")return uD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uD(e,t)}}function uD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function J3e(e){if(Array.isArray(e))return e}var EW=/[ \f\n\r\t\v\u2028\u2029]+/,kW=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ar(r)||(n?i=r.toString().split(""):i=r.toString().split(EW));var o=i.map(function(c){return{word:c,width:cg(c,a).width}}),l=n?0:cg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Q3e=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=At(o),f=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(V,L){var M=L.word,F=L.width,U=V[V.length-1];if(U&&(a==null||i||U.width+F+n<Number(a)))U.words.push(M),U.width+=F+n;else{var X={words:[M],width:F};V.push(X)}return V},[])},p=h(r),v=function(R){return R.reduce(function(V,L){return V.width>L.width?V:L})};if(!d)return p;for(var m="",x=function(R){var V=f.slice(0,R),L=kW({breakAll:u,style:c,children:V+m}).wordsWithComputedWidth,M=h(L),F=M.length>o||v(M).width>Number(a);return[F,M]},g=0,y=f.length-1,b=0,j;g<=y&&b<=f.length-1;){var _=Math.floor((g+y)/2),N=_-1,S=x(N),A=cD(S,2),P=A[0],W=A[1],C=x(_),k=cD(C,1),z=k[0];if(!P&&!z&&(g=_+1),P&&z&&(y=_-1),!P&&z){j=W;break}b++}return j||p},dD=function(t){var r=Ar(t)?[]:t.toString().split(EW);return[{words:r}]},Z3e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!fc.isSsr){var c,u,d=kW({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return dD(a);return Q3e({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return dD(a)},fD="#808080",Z2=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,x=t.fill,g=x===void 0?fD:x,y=lD(t,W3e),b=O.useMemo(function(){return Z3e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),j=y.dx,_=y.dy,N=y.angle,S=y.className,A=y.breakAll,P=lD(y,q3e);if(!_a(n)||!_a(i))return null;var W=n+(At(j)?j:0),C=i+(At(_)?_:0),k;switch(m){case"start":k=Fj("calc(".concat(u,")"));break;case"middle":k=Fj("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=Fj("calc(".concat(b.length-1," * -").concat(l,")"));break}var z=[];if(f){var I=b[0].width,R=y.width;z.push("scale(".concat((At(R)?R/I:1)/I,")"))}return N&&z.push("rotate(".concat(N,", ").concat(W,", ").concat(C,")")),z.length&&(P.transform=z.join(" ")),Ne.createElement("text",D4({},Pr(P,!0),{x:W,y:C,className:Ir("recharts-text",S),textAnchor:p,fill:g.includes("url")?fD:g}),b.map(function(V,L){var M=V.words.join(A?"":" ");return Ne.createElement("tspan",{x:W,dy:L===0?k:l,key:"".concat(M,"-").concat(L)},M)}))};function Cu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eCe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eE(e){let t,r,n;e.length!==2?(t=Cu,r=(l,c)=>Cu(e(l),c),n=(l,c)=>e(l)-c):(t=e===Cu||e===eCe?e:tCe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function tCe(){return 0}function PW(e){return e===null?NaN:+e}function*rCe(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const nCe=eE(Cu),aCe=nCe.right;eE(PW).center;const dx=aCe;class hD extends Map{constructor(t,r=oCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(pD(this,t))}has(t){return super.has(pD(this,t))}set(t,r){return super.set(iCe(this,t),r)}delete(t){return super.delete(sCe(this,t))}}function pD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function iCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function sCe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function oCe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function lCe(e=Cu){if(e===Cu)return OW;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function OW(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const cCe=Math.sqrt(50),uCe=Math.sqrt(10),dCe=Math.sqrt(2);function eb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=cCe?10:i>=uCe?5:i>=dCe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?eb(e,t,r*2):[l,c,u]}function L4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?eb(t,e,r):eb(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function I4(e,t,r){return t=+t,e=+e,r=+r,eb(e,t,r)[2]}function M4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?I4(t,e,r):I4(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function mD(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function gD(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function FW(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?OW:lCe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));FW(e,t,p,v,a)}const i=e[t];let o=r,l=n;for(cm(e,r,t),a(e[n],i)>0&&cm(e,r,n);o<l;){for(cm(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?cm(e,r,l):(++l,cm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function cm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function fCe(e,t,r){if(e=Float64Array.from(rCe(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return gD(e);if(t>=1)return mD(e);var n,a=(n-1)*t,i=Math.floor(a),o=mD(FW(e,i).subarray(0,i+1)),l=gD(e.subarray(i+1));return o+(l-o)*(a-i)}}function hCe(e,t,r=PW){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function pCe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function uo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function kc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const R4=Symbol("implicit");function tE(){var e=new hD,t=[],r=[],n=R4;function a(i){let o=e.get(i);if(o===void 0){if(n!==R4)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new hD;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return tE(t,r).unknown(n)},uo.apply(a,arguments),a}function lv(){var e=tE().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,v=p?a:n,m=p?n:a;i=(m-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(m-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=pCe(h).map(function(g){return v+i*g});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return lv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},uo.apply(f(),arguments)}function DW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DW(t())},e}function ug(){return DW(lv.apply(null,arguments).paddingInner(1))}function rE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function LW(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fx(){}var cv=.7,tb=1/cv,Zh="\\s*([+-]?\\d+)\\s*",uv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mCe=/^#([0-9a-f]{3,8})$/,gCe=new RegExp(`^rgb\\(${Zh},${Zh},${Zh}\\)$`),vCe=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),xCe=new RegExp(`^rgba\\(${Zh},${Zh},${Zh},${uv}\\)$`),yCe=new RegExp(`^rgba\\(${wl},${wl},${wl},${uv}\\)$`),bCe=new RegExp(`^hsl\\(${uv},${wl},${wl}\\)$`),wCe=new RegExp(`^hsla\\(${uv},${wl},${wl},${uv}\\)$`),vD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rE(fx,dv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xD,formatHex:xD,formatHex8:_Ce,formatHsl:jCe,formatRgb:yD,toString:yD});function xD(){return this.rgb().formatHex()}function _Ce(){return this.rgb().formatHex8()}function jCe(){return IW(this).formatHsl()}function yD(){return this.rgb().formatRgb()}function dv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=mCe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?bD(t):r===3?new Qi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ey(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ey(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=gCe.exec(e))?new Qi(t[1],t[2],t[3],1):(t=vCe.exec(e))?new Qi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xCe.exec(e))?ey(t[1],t[2],t[3],t[4]):(t=yCe.exec(e))?ey(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bCe.exec(e))?jD(t[1],t[2]/100,t[3]/100,1):(t=wCe.exec(e))?jD(t[1],t[2]/100,t[3]/100,t[4]):vD.hasOwnProperty(e)?bD(vD[e]):e==="transparent"?new Qi(NaN,NaN,NaN,0):null}function bD(e){return new Qi(e>>16&255,e>>8&255,e&255,1)}function ey(e,t,r,n){return n<=0&&(e=t=r=NaN),new Qi(e,t,r,n)}function SCe(e){return e instanceof fx||(e=dv(e)),e?(e=e.rgb(),new Qi(e.r,e.g,e.b,e.opacity)):new Qi}function $4(e,t,r,n){return arguments.length===1?SCe(e):new Qi(e,t,r,n??1)}function Qi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rE(Qi,$4,LW(fx,{brighter(e){return e=e==null?tb:Math.pow(tb,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cv:Math.pow(cv,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qi(zd(this.r),zd(this.g),zd(this.b),rb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wD,formatHex:wD,formatHex8:NCe,formatRgb:_D,toString:_D}));function wD(){return`#${Od(this.r)}${Od(this.g)}${Od(this.b)}`}function NCe(){return`#${Od(this.r)}${Od(this.g)}${Od(this.b)}${Od((isNaN(this.opacity)?1:this.opacity)*255)}`}function _D(){const e=rb(this.opacity);return`${e===1?"rgb(":"rgba("}${zd(this.r)}, ${zd(this.g)}, ${zd(this.b)}${e===1?")":`, ${e})`}`}function rb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Od(e){return e=zd(e),(e<16?"0":"")+e.toString(16)}function jD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Io(e,t,r,n)}function IW(e){if(e instanceof Io)return new Io(e.h,e.s,e.l,e.opacity);if(e instanceof fx||(e=dv(e)),!e)return new Io;if(e instanceof Io)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Io(o,l,c,e.opacity)}function ACe(e,t,r,n){return arguments.length===1?IW(e):new Io(e,t,r,n??1)}function Io(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rE(Io,ACe,LW(fx,{brighter(e){return e=e==null?tb:Math.pow(tb,e),new Io(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cv:Math.pow(cv,e),new Io(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Qi(Dj(e>=240?e-240:e+120,a,n),Dj(e,a,n),Dj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Io(SD(this.h),ty(this.s),ty(this.l),rb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rb(this.opacity);return`${e===1?"hsl(":"hsla("}${SD(this.h)}, ${ty(this.s)*100}%, ${ty(this.l)*100}%${e===1?")":`, ${e})`}`}}));function SD(e){return e=(e||0)%360,e<0?e+360:e}function ty(e){return Math.max(0,Math.min(1,e||0))}function Dj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nE=e=>()=>e;function TCe(e,t){return function(r){return e+r*t}}function CCe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ECe(e){return(e=+e)==1?MW:function(t,r){return r-t?CCe(t,r,e):nE(isNaN(t)?r:t)}}function MW(e,t){var r=t-e;return r?TCe(e,r):nE(isNaN(e)?t:e)}const ND=function e(t){var r=ECe(t);function n(a,i){var o=r((a=$4(a)).r,(i=$4(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=MW(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function kCe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function PCe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OCe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=fp(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function FCe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function nb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function DCe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=fp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var B4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lj=new RegExp(B4.source,"g");function LCe(e){return function(){return e}}function ICe(e){return function(t){return e(t)+""}}function MCe(e,t){var r=B4.lastIndex=Lj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=B4.exec(e))&&(a=Lj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:nb(n,a)})),r=Lj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?ICe(c[0].x):LCe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function fp(e,t){var r=typeof t,n;return t==null||r==="boolean"?nE(t):(r==="number"?nb:r==="string"?(n=dv(t))?(t=n,ND):MCe:t instanceof dv?ND:t instanceof Date?FCe:PCe(t)?kCe:Array.isArray(t)?OCe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?DCe:nb)(e,t)}function aE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function RCe(e,t){t===void 0&&(t=e,e=fp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function $Ce(e){return function(){return e}}function ab(e){return+e}var AD=[0,1];function Oi(e){return e}function U4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$Ce(isNaN(t)?NaN:.5)}function BCe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function UCe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=U4(a,n),i=r(o,i)):(n=U4(n,a),i=r(i,o)),function(l){return i(n(l))}}function zCe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=U4(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=dx(e,l,1,n)-1;return i[c](a[c](l))}}function hx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function e_(){var e=AD,t=AD,r=fp,n,a,i,o=Oi,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Oi&&(o=BCe(e[0],e[h-1])),l=h>2?zCe:UCe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),nb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ab),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=aE,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Oi,d()):o!==Oi},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function iE(){return e_()(Oi,Oi)}function VCe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ib(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function S0(e){return e=ib(Math.abs(e)),e?e[1]:NaN}function HCe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function WCe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var qCe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fv(e){if(!(t=qCe.exec(e)))throw new Error("invalid format: "+e);var t;return new sE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fv.prototype=sE.prototype;function sE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GCe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var RW;function KCe(e,t){var r=ib(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(RW=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ib(e,Math.max(0,t+i-1))[0]}function TD(e,t){var r=ib(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const CD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VCe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TD(e*100,t),r:TD,s:KCe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ED(e){return e}var kD=Array.prototype.map,PD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function YCe(e){var t=e.grouping===void 0||e.thousands===void 0?ED:HCe(kD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ED:WCe(kD.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=fv(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,x=f.zero,g=f.width,y=f.comma,b=f.precision,j=f.trim,_=f.type;_==="n"?(y=!0,_="g"):CD[_]||(b===void 0&&(b=12),j=!0,_="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=m==="$"?n:/[%p]/.test(_)?o:"",A=CD[_],P=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function W(C){var k=N,z=S,I,R,V;if(_==="c")z=A(C)+z,C="";else{C=+C;var L=C<0||1/C<0;if(C=isNaN(C)?c:A(Math.abs(C),b),j&&(C=GCe(C)),L&&+C==0&&v!=="+"&&(L=!1),k=(L?v==="("?v:l:v==="-"||v==="("?"":v)+k,z=(_==="s"?PD[8+RW/3]:"")+z+(L&&v==="("?")":""),P){for(I=-1,R=C.length;++I<R;)if(V=C.charCodeAt(I),48>V||V>57){z=(V===46?a+C.slice(I+1):C.slice(I))+z,C=C.slice(0,I);break}}}y&&!x&&(C=t(C,1/0));var M=k.length+C.length+z.length,F=M<g?new Array(g-M+1).join(h):"";switch(y&&x&&(C=t(F+C,F.length?g-z.length:1/0),F=""),p){case"<":C=k+C+z+F;break;case"=":C=k+F+C+z;break;case"^":C=F.slice(0,M=F.length>>1)+k+C+z+F.slice(M);break;default:C=F+k+C+z;break}return i(C)}return W.toString=function(){return f+""},W}function d(f,h){var p=u((f=fv(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(S0(h)/3)))*3,m=Math.pow(10,-v),x=PD[8+v/3];return function(g){return p(m*g)+x}}return{format:u,formatPrefix:d}}var ry,oE,$W;XCe({thousands:",",grouping:[3],currency:["$",""]});function XCe(e){return ry=YCe(e),oE=ry.format,$W=ry.formatPrefix,ry}function JCe(e){return Math.max(0,-S0(Math.abs(e)))}function QCe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(S0(t)/3)))*3-S0(Math.abs(e)))}function ZCe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,S0(t)-S0(e))+1}function BW(e,t,r,n){var a=M4(e,t,r),i;switch(n=fv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=QCe(a,o))&&(n.precision=i),$W(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ZCe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=JCe(a))&&(n.precision=i-(n.type==="%")*2);break}}return oE(n)}function Ju(e){var t=e.domain;return e.ticks=function(r){var n=t();return L4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return BW(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=I4(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function sb(){var e=iE();return e.copy=function(){return hx(e,sb())},uo.apply(e,arguments),Ju(e)}function UW(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ab),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return UW(e).unknown(t)},e=arguments.length?Array.from(e,ab):[0,1],Ju(r)}function zW(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function OD(e){return Math.log(e)}function FD(e){return Math.exp(e)}function eEe(e){return-Math.log(-e)}function tEe(e){return-Math.exp(-e)}function rEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nEe(e){return e===10?rEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function DD(e){return(t,r)=>-e(-t,r)}function lE(e){const t=e(OD,FD),r=t.domain;let n=10,a,i;function o(){return a=aEe(n),i=nEe(n),r()[0]<0?(a=DD(a),i=DD(i),e(eEe,tEe)):e(OD,FD),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),v,m;const x=l==null?10:+l;let g=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;g.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;g.push(m)}g.length*2<x&&(g=L4(u,d,x))}else g=L4(h,p,Math.min(p-h,x)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=fv(c)).precision==null&&(c.trim=!0),c=oE(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(zW(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function VW(){const e=lE(e_()).domain([1,10]);return e.copy=()=>hx(e,VW()).base(e.base()),uo.apply(e,arguments),e}function LD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ID(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cE(e){var t=1,r=e(LD(t),ID(t));return r.constant=function(n){return arguments.length?e(LD(t=+n),ID(t)):t},Ju(r)}function HW(){var e=cE(e_());return e.copy=function(){return hx(e,HW()).constant(e.constant())},uo.apply(e,arguments)}function MD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sEe(e){return e<0?-e*e:e*e}function uE(e){var t=e(Oi,Oi),r=1;function n(){return r===1?e(Oi,Oi):r===.5?e(iEe,sEe):e(MD(r),MD(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ju(t)}function dE(){var e=uE(e_());return e.copy=function(){return hx(e,dE()).exponent(e.exponent())},uo.apply(e,arguments),e}function oEe(){return dE.apply(null,arguments).exponent(.5)}function RD(e){return Math.sign(e)*e*e}function lEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WW(){var e=iE(),t=[0,1],r=!1,n;function a(i){var o=lEe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(RD(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ab)).map(RD)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return WW(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},uo.apply(a,arguments),Ju(a)}function qW(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=hCe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[dx(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Cu),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return qW().domain(e).range(t).unknown(n)},uo.apply(i,arguments)}function GW(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[dx(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return GW().domain([e,t]).range(a).unknown(i)},uo.apply(Ju(o),arguments)}function KW(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[dx(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return KW().domain(e).range(t).unknown(r)},uo.apply(a,arguments)}const Ij=new Date,Mj=new Date;function Na(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Na(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Ij.setTime(+i),Mj.setTime(+o),e(Ij),e(Mj),Math.floor(r(Ij,Mj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ob=Na(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ob.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Na(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ob);ob.range;const tc=1e3,Zs=tc*60,rc=Zs*60,jc=rc*24,fE=jc*7,$D=jc*30,Rj=jc*365,Fd=Na(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tc)},(e,t)=>(t-e)/tc,e=>e.getUTCSeconds());Fd.range;const hE=Na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc)},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getMinutes());hE.range;const pE=Na(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getUTCMinutes());pE.range;const mE=Na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc-e.getMinutes()*Zs)},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getHours());mE.range;const gE=Na(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getUTCHours());gE.range;const px=Na(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zs)/jc,e=>e.getDate()-1);px.range;const t_=Na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jc,e=>e.getUTCDate()-1);t_.range;const YW=Na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/jc,e=>Math.floor(e/jc));YW.range;function Nf(e){return Na(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Zs)/fE)}const r_=Nf(0),lb=Nf(1),cEe=Nf(2),uEe=Nf(3),N0=Nf(4),dEe=Nf(5),fEe=Nf(6);r_.range;lb.range;cEe.range;uEe.range;N0.range;dEe.range;fEe.range;function Af(e){return Na(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fE)}const n_=Af(0),cb=Af(1),hEe=Af(2),pEe=Af(3),A0=Af(4),mEe=Af(5),gEe=Af(6);n_.range;cb.range;hEe.range;pEe.range;A0.range;mEe.range;gEe.range;const vE=Na(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vE.range;const xE=Na(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xE.range;const Sc=Na(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Na(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Sc.range;const Nc=Na(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Na(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Nc.range;function XW(e,t,r,n,a,i){const o=[[Fd,1,tc],[Fd,5,5*tc],[Fd,15,15*tc],[Fd,30,30*tc],[i,1,Zs],[i,5,5*Zs],[i,15,15*Zs],[i,30,30*Zs],[a,1,rc],[a,3,3*rc],[a,6,6*rc],[a,12,12*rc],[n,1,jc],[n,2,2*jc],[r,1,fE],[t,1,$D],[t,3,3*$D],[e,1,Rj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=eE(([,,x])=>x).right(o,h);if(p===o.length)return e.every(M4(u/Rj,d/Rj,f));if(p===0)return ob.every(Math.max(M4(u,d,f),1));const[v,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(m)}return[l,c]}const[vEe,xEe]=XW(Nc,xE,n_,YW,gE,pE),[yEe,bEe]=XW(Sc,vE,r_,px,mE,hE);function $j(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Bj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function um(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function wEe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=dm(a),d=fm(a),f=dm(i),h=fm(i),p=dm(o),v=fm(o),m=dm(l),x=fm(l),g=dm(c),y=fm(c),b={a:L,A:M,b:F,B:U,c:null,d:WD,e:WD,f:HEe,g:eke,G:rke,H:UEe,I:zEe,j:VEe,L:JW,m:WEe,M:qEe,p:X,q:E,Q:KD,s:YD,S:GEe,u:KEe,U:YEe,V:XEe,w:JEe,W:QEe,x:null,X:null,y:ZEe,Y:tke,Z:nke,"%":GD},j={a:H,A:G,b:q,B:K,c:null,d:qD,e:qD,f:oke,g:vke,G:yke,H:ake,I:ike,j:ske,L:ZW,m:lke,M:cke,p:ee,q:se,Q:KD,s:YD,S:uke,u:dke,U:fke,V:hke,w:pke,W:mke,x:null,X:null,y:gke,Y:xke,Z:bke,"%":GD},_={a:W,A:C,b:k,B:z,c:I,d:VD,e:VD,f:MEe,g:zD,G:UD,H:HD,I:HD,j:FEe,L:IEe,m:OEe,M:DEe,p:P,q:PEe,Q:$Ee,s:BEe,S:LEe,u:AEe,U:TEe,V:CEe,w:NEe,W:EEe,x:R,X:V,y:zD,Y:UD,Z:kEe,"%":REe};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(J,ce){return function(pe){var Q=[],Oe=-1,$e=0,Ae=J.length,Z,ke,Ge;for(pe instanceof Date||(pe=new Date(+pe));++Oe<Ae;)J.charCodeAt(Oe)===37&&(Q.push(J.slice($e,Oe)),(ke=BD[Z=J.charAt(++Oe)])!=null?Z=J.charAt(++Oe):ke=Z==="e"?" ":"0",(Ge=ce[Z])&&(Z=Ge(pe,ke)),Q.push(Z),$e=Oe+1);return Q.push(J.slice($e,Oe)),Q.join("")}}function S(J,ce){return function(pe){var Q=um(1900,void 0,1),Oe=A(Q,J,pe+="",0),$e,Ae;if(Oe!=pe.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ce&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?($e=Bj(um(Q.y,0,1)),Ae=$e.getUTCDay(),$e=Ae>4||Ae===0?cb.ceil($e):cb($e),$e=t_.offset($e,(Q.V-1)*7),Q.y=$e.getUTCFullYear(),Q.m=$e.getUTCMonth(),Q.d=$e.getUTCDate()+(Q.w+6)%7):($e=$j(um(Q.y,0,1)),Ae=$e.getDay(),$e=Ae>4||Ae===0?lb.ceil($e):lb($e),$e=px.offset($e,(Q.V-1)*7),Q.y=$e.getFullYear(),Q.m=$e.getMonth(),Q.d=$e.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Ae="Z"in Q?Bj(um(Q.y,0,1)).getUTCDay():$j(um(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Ae+5)%7:Q.w+Q.U*7-(Ae+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Bj(Q)):$j(Q)}}function A(J,ce,pe,Q){for(var Oe=0,$e=ce.length,Ae=pe.length,Z,ke;Oe<$e;){if(Q>=Ae)return-1;if(Z=ce.charCodeAt(Oe++),Z===37){if(Z=ce.charAt(Oe++),ke=_[Z in BD?ce.charAt(Oe++):Z],!ke||(Q=ke(J,pe,Q))<0)return-1}else if(Z!=pe.charCodeAt(Q++))return-1}return Q}function P(J,ce,pe){var Q=u.exec(ce.slice(pe));return Q?(J.p=d.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function W(J,ce,pe){var Q=p.exec(ce.slice(pe));return Q?(J.w=v.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function C(J,ce,pe){var Q=f.exec(ce.slice(pe));return Q?(J.w=h.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function k(J,ce,pe){var Q=g.exec(ce.slice(pe));return Q?(J.m=y.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function z(J,ce,pe){var Q=m.exec(ce.slice(pe));return Q?(J.m=x.get(Q[0].toLowerCase()),pe+Q[0].length):-1}function I(J,ce,pe){return A(J,t,ce,pe)}function R(J,ce,pe){return A(J,r,ce,pe)}function V(J,ce,pe){return A(J,n,ce,pe)}function L(J){return o[J.getDay()]}function M(J){return i[J.getDay()]}function F(J){return c[J.getMonth()]}function U(J){return l[J.getMonth()]}function X(J){return a[+(J.getHours()>=12)]}function E(J){return 1+~~(J.getMonth()/3)}function H(J){return o[J.getUTCDay()]}function G(J){return i[J.getUTCDay()]}function q(J){return c[J.getUTCMonth()]}function K(J){return l[J.getUTCMonth()]}function ee(J){return a[+(J.getUTCHours()>=12)]}function se(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ce=N(J+="",b);return ce.toString=function(){return J},ce},parse:function(J){var ce=S(J+="",!1);return ce.toString=function(){return J},ce},utcFormat:function(J){var ce=N(J+="",j);return ce.toString=function(){return J},ce},utcParse:function(J){var ce=S(J+="",!0);return ce.toString=function(){return J},ce}}}var BD={"-":"",_:" ",0:"0"},Ba=/^\s*\d+/,_Ee=/^%/,jEe=/[\\^$*+?|[\]().{}]/g;function zr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function SEe(e){return e.replace(jEe,"\\$&")}function dm(e){return new RegExp("^(?:"+e.map(SEe).join("|")+")","i")}function fm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function NEe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function AEe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TEe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function CEe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function EEe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function UD(e,t,r){var n=Ba.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function zD(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kEe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function PEe(e,t,r){var n=Ba.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function OEe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function VD(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function FEe(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function HD(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function DEe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function LEe(e,t,r){var n=Ba.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function IEe(e,t,r){var n=Ba.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function MEe(e,t,r){var n=Ba.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function REe(e,t,r){var n=_Ee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function $Ee(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function BEe(e,t,r){var n=Ba.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function WD(e,t){return zr(e.getDate(),t,2)}function UEe(e,t){return zr(e.getHours(),t,2)}function zEe(e,t){return zr(e.getHours()%12||12,t,2)}function VEe(e,t){return zr(1+px.count(Sc(e),e),t,3)}function JW(e,t){return zr(e.getMilliseconds(),t,3)}function HEe(e,t){return JW(e,t)+"000"}function WEe(e,t){return zr(e.getMonth()+1,t,2)}function qEe(e,t){return zr(e.getMinutes(),t,2)}function GEe(e,t){return zr(e.getSeconds(),t,2)}function KEe(e){var t=e.getDay();return t===0?7:t}function YEe(e,t){return zr(r_.count(Sc(e)-1,e),t,2)}function QW(e){var t=e.getDay();return t>=4||t===0?N0(e):N0.ceil(e)}function XEe(e,t){return e=QW(e),zr(N0.count(Sc(e),e)+(Sc(e).getDay()===4),t,2)}function JEe(e){return e.getDay()}function QEe(e,t){return zr(lb.count(Sc(e)-1,e),t,2)}function ZEe(e,t){return zr(e.getFullYear()%100,t,2)}function eke(e,t){return e=QW(e),zr(e.getFullYear()%100,t,2)}function tke(e,t){return zr(e.getFullYear()%1e4,t,4)}function rke(e,t){var r=e.getDay();return e=r>=4||r===0?N0(e):N0.ceil(e),zr(e.getFullYear()%1e4,t,4)}function nke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zr(t/60|0,"0",2)+zr(t%60,"0",2)}function qD(e,t){return zr(e.getUTCDate(),t,2)}function ake(e,t){return zr(e.getUTCHours(),t,2)}function ike(e,t){return zr(e.getUTCHours()%12||12,t,2)}function ske(e,t){return zr(1+t_.count(Nc(e),e),t,3)}function ZW(e,t){return zr(e.getUTCMilliseconds(),t,3)}function oke(e,t){return ZW(e,t)+"000"}function lke(e,t){return zr(e.getUTCMonth()+1,t,2)}function cke(e,t){return zr(e.getUTCMinutes(),t,2)}function uke(e,t){return zr(e.getUTCSeconds(),t,2)}function dke(e){var t=e.getUTCDay();return t===0?7:t}function fke(e,t){return zr(n_.count(Nc(e)-1,e),t,2)}function eq(e){var t=e.getUTCDay();return t>=4||t===0?A0(e):A0.ceil(e)}function hke(e,t){return e=eq(e),zr(A0.count(Nc(e),e)+(Nc(e).getUTCDay()===4),t,2)}function pke(e){return e.getUTCDay()}function mke(e,t){return zr(cb.count(Nc(e)-1,e),t,2)}function gke(e,t){return zr(e.getUTCFullYear()%100,t,2)}function vke(e,t){return e=eq(e),zr(e.getUTCFullYear()%100,t,2)}function xke(e,t){return zr(e.getUTCFullYear()%1e4,t,4)}function yke(e,t){var r=e.getUTCDay();return e=r>=4||r===0?A0(e):A0.ceil(e),zr(e.getUTCFullYear()%1e4,t,4)}function bke(){return"+0000"}function GD(){return"%"}function KD(e){return+e}function YD(e){return Math.floor(+e/1e3)}var ih,tq,rq;wke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wke(e){return ih=wEe(e),tq=ih.format,ih.parse,rq=ih.utcFormat,ih.utcParse,ih}function _ke(e){return new Date(e)}function jke(e){return e instanceof Date?+e:+new Date(+e)}function yE(e,t,r,n,a,i,o,l,c,u){var d=iE(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),x=u("%I %p"),g=u("%a %d"),y=u("%b %d"),b=u("%B"),j=u("%Y");function _(N){return(c(N)<N?p:l(N)<N?v:o(N)<N?m:i(N)<N?x:n(N)<N?a(N)<N?g:y:r(N)<N?b:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,jke)):h().map(_ke)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?_:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(zW(S,N)):d},d.copy=function(){return hx(d,yE(e,t,r,n,a,i,o,l,c,u))},d}function Ske(){return uo.apply(yE(yEe,bEe,Sc,vE,r_,px,mE,hE,Fd,tq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nke(){return uo.apply(yE(vEe,xEe,Nc,xE,n_,t_,gE,pE,Fd,rq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function a_(){var e=0,t=1,r,n,a,i,o=Oi,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=d(fp),u.rangeRound=d(aE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Qu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nq(){var e=Ju(a_()(Oi));return e.copy=function(){return Qu(e,nq())},kc.apply(e,arguments)}function aq(){var e=lE(a_()).domain([1,10]);return e.copy=function(){return Qu(e,aq()).base(e.base())},kc.apply(e,arguments)}function iq(){var e=cE(a_());return e.copy=function(){return Qu(e,iq()).constant(e.constant())},kc.apply(e,arguments)}function bE(){var e=uE(a_());return e.copy=function(){return Qu(e,bE()).exponent(e.exponent())},kc.apply(e,arguments)}function Ake(){return bE.apply(null,arguments).exponent(.5)}function sq(){var e=[],t=Oi;function r(n){if(n!=null&&!isNaN(n=+n))return t((dx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Cu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>fCe(e,i/n))},r.copy=function(){return sq(t).domain(e)},kc.apply(r,arguments)}function i_(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Oi,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function v(m){return function(x){var g,y,b;return arguments.length?([g,y,b]=x,u=RCe(m,[g,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=v(fp),p.rangeRound=v(aE),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function oq(){var e=Ju(i_()(Oi));return e.copy=function(){return Qu(e,oq())},kc.apply(e,arguments)}function lq(){var e=lE(i_()).domain([.1,1,10]);return e.copy=function(){return Qu(e,lq()).base(e.base())},kc.apply(e,arguments)}function cq(){var e=cE(i_());return e.copy=function(){return Qu(e,cq()).constant(e.constant())},kc.apply(e,arguments)}function wE(){var e=uE(i_());return e.copy=function(){return Qu(e,wE()).exponent(e.exponent())},kc.apply(e,arguments)}function Tke(){return wE.apply(null,arguments).exponent(.5)}const XD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lv,scaleDiverging:oq,scaleDivergingLog:lq,scaleDivergingPow:wE,scaleDivergingSqrt:Tke,scaleDivergingSymlog:cq,scaleIdentity:UW,scaleImplicit:R4,scaleLinear:sb,scaleLog:VW,scaleOrdinal:tE,scalePoint:ug,scalePow:dE,scaleQuantile:qW,scaleQuantize:GW,scaleRadial:WW,scaleSequential:nq,scaleSequentialLog:aq,scaleSequentialPow:bE,scaleSequentialQuantile:sq,scaleSequentialSqrt:Ake,scaleSequentialSymlog:iq,scaleSqrt:oEe,scaleSymlog:HW,scaleThreshold:KW,scaleTime:Ske,scaleUtc:Nke,tickFormat:BW},Symbol.toStringTag,{value:"Module"}));var Cke=ap;function Eke(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Cke(o):r(o,l)))var l=o,c=i}return c}var uq=Eke;function kke(e,t){return e>t}var Pke=kke,Oke=uq,Fke=Pke,Dke=dp;function Lke(e){return e&&e.length?Oke(e,Dke,Fke):void 0}var Ike=Lke;const s_=Vr(Ike);function Mke(e,t){return e<t}var Rke=Mke,$ke=uq,Bke=Rke,Uke=dp;function zke(e){return e&&e.length?$ke(e,Uke,Bke):void 0}var Vke=zke;const o_=Vr(Vke);var Hke=LC,Wke=Xu,qke=xW,Gke=as;function Kke(e,t){var r=Gke(e)?Hke:qke;return r(e,Wke(t))}var Yke=Kke,Xke=gW,Jke=Yke;function Qke(e,t){return Xke(Jke(e,t),1)}var Zke=Qke;const ePe=Vr(Zke);var tPe=XC;function rPe(e,t){return tPe(e,t)}var nPe=rPe;const l_=Vr(nPe);var hp=1e9,aPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jE,En=!0,oo="[DecimalError] ",Vd=oo+"Invalid argument: ",_E=oo+"Exponent out of range: ",pp=Math.floor,yd=Math.pow,iPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bs,Oa=1e7,wn=7,dq=9007199254740991,ub=pp(dq/wn),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Mt.dividedBy=Mt.div=function(e){return hc(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,r=t.constructor;return un(hc(t,new r(e),0,1),r.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return ha(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bs))throw Error(oo+"NaN");if(r.s<1)throw Error(oo+(r.s?"NaN":"-Infinity"));return r.eq(bs)?new n(0):(En=!1,t=hc(hv(r,i),hv(e,i),i),En=!0,un(t,a))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pq(t,e):fq(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(oo+"NaN");return r.s?(En=!1,t=hc(r,e,0,1).times(e),En=!0,r.minus(t)):un(new n(r),a)};Mt.naturalExponential=Mt.exp=function(){return hq(this)};Mt.naturalLogarithm=Mt.ln=function(){return hv(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fq(t,e):pq(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vd+e);if(t=ha(a)+1,n=a.d.length-1,r=n*wn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Mt.squareRoot=Mt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(oo+"NaN")}for(e=ha(l),En=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=pl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=pp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(hc(l,i,o+2)).times(.5),pl(i.d).slice(0,o)===(t=pl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(un(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return En=!0,un(n,r)};Mt.times=Mt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Oa|0,t=l/Oa|0;i[a]=(i[a]+t)%Oa|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,En?un(e,f.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Al(e,0,hp),t===void 0?t=n.rounding:Al(t,0,8),un(r,e+ha(r)+1,t))};Mt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=cf(n,!0):(Al(e,0,hp),t===void 0?t=a.rounding:Al(t,0,8),n=un(new a(n),e+1,t),r=cf(n,!0,e+1)),r};Mt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?cf(a):(Al(e,0,hp),t===void 0?t=i.rounding:Al(t,0,8),n=un(new i(a),e+ha(a)+1,t),r=cf(n.abs(),!1,e+ha(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return un(new t(e),ha(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(bs);if(l=new c(l),!l.s){if(e.s<1)throw Error(oo+"Infinity");return l}if(l.eq(bs))return l;if(n=c.precision,e.eq(bs))return un(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=dq){for(a=new c(bs),t=Math.ceil(n/wn+4),En=!1;r%2&&(a=a.times(l),QD(a.d,t)),r=pp(r/2),r!==0;)l=l.times(l),QD(l.d,t);return En=!0,e.s<0?new c(bs).div(a):un(a,n)}}else if(i<0)throw Error(oo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,En=!1,a=e.times(hv(l,n+u)),En=!0,a=hq(a),a.s=i,a};Mt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ha(a),n=cf(a,r<=i.toExpNeg||r>=i.toExpPos)):(Al(e,1,hp),t===void 0?t=i.rounding:Al(t,0,8),a=un(new i(a),e,t),r=ha(a),n=cf(a,e<=r||r<=i.toExpNeg,e)),n};Mt.toSignificantDigits=Mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Al(e,1,hp),t===void 0?t=n.rounding:Al(t,0,8)),un(new n(r),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ha(e),r=e.constructor;return cf(e,t<=r.toExpNeg||t>=r.toExpPos)};function fq(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),En?un(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/wn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Oa|0,c[i]%=Oa;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,En?un(t,f):t}function Al(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vd+e)}function pl(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=wn-n.length,r&&(i+=iu(r)),i+=n;o=e[t],n=o+"",r=wn-n.length,r&&(i+=iu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var hc=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Oa|0,o=i/Oa|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Oa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,v,m,x,g,y,b,j,_,N,S,A,P=n.constructor,W=n.s==a.s?1:-1,C=n.d,k=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(oo+"Division by zero");for(c=n.e-a.e,S=k.length,_=C.length,p=new P(W),v=p.d=[],u=0;k[u]==(C[u]||0);)++u;if(k[u]>(C[u]||0)&&--c,i==null?y=i=P.precision:o?y=i+(ha(n)-ha(a))+1:y=i,y<0)return new P(0);if(y=y/wn+2|0,u=0,S==1)for(d=0,k=k[0],y++;(u<_||d)&&y--;u++)b=d*Oa+(C[u]||0),v[u]=b/k|0,d=b%k|0;else{for(d=Oa/(k[0]+1)|0,d>1&&(k=e(k,d),C=e(C,d),S=k.length,_=C.length),j=S,m=C.slice(0,S),x=m.length;x<S;)m[x++]=0;A=k.slice(),A.unshift(0),N=k[0],k[1]>=Oa/2&&++N;do d=0,l=t(k,m,S,x),l<0?(g=m[0],S!=x&&(g=g*Oa+(m[1]||0)),d=g/N|0,d>1?(d>=Oa&&(d=Oa-1),f=e(k,d),h=f.length,x=m.length,l=t(f,m,h,x),l==1&&(d--,r(f,S<h?A:k,h))):(d==0&&(l=d=1),f=k.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),l==-1&&(x=m.length,l=t(k,m,S,x),l<1&&(d++,r(m,S<x?A:k,x))),x=m.length):l===0&&(d++,m=[0]),v[u++]=d,l&&m[0]?m[x++]=C[j]||0:(m=[C[j]],x=1);while((j++<_||m[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,un(p,o?i+ha(p)+1:i)}}();function hq(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ha(e)>16)throw Error(_E+ha(e));if(!e.s)return new d(bs);for(t==null?(En=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(yd(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(bs),d.precision=l;;){if(a=un(a.times(e),l),r=r.times(++c),o=i.plus(hc(a,r,l)),pl(o.d).slice(0,l)===pl(i.d).slice(0,l)){for(;u--;)i=un(i.times(i),l);return d.precision=f,t==null?(En=!0,un(i,f)):i}i=o}}function ha(e){for(var t=e.e*wn,r=e.d[0];r>=10;r/=10)t++;return t}function Uj(e,t,r){if(t>e.LN10.sd())throw En=!0,r&&(e.precision=r),Error(oo+"LN10 precision limit exceeded");return un(new e(e.LN10),t)}function iu(e){for(var t="";e--;)t+="0";return t}function hv(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,v=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(oo+(p.s?"NaN":"-Infinity"));if(p.eq(bs))return new m(0);if(t==null?(En=!1,u=x):u=t,p.eq(10))return t==null&&(En=!0),Uj(m,u);if(u+=h,m.precision=u,r=pl(v),n=r.charAt(0),i=ha(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=pl(p.d),n=r.charAt(0),f++;i=ha(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Uj(m,u+2,x).times(i+""),p=hv(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(En=!0,un(p,x)):p;for(l=o=p=hc(p.minus(bs),p.plus(bs),u),d=un(p.times(p),u),a=3;;){if(o=un(o.times(d),u),c=l.plus(hc(o,new m(a),u)),pl(c.d).slice(0,u)===pl(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Uj(m,u+2,x).times(i+""))),l=hc(l,new m(f),u),m.precision=x,t==null?(En=!0,un(l,x)):l;l=c,a+=2}}function JD(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=pp(r/wn),e.d=[],n=(r+1)%wn,r<0&&(n+=wn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=wn;n<a;)e.d.push(+t.slice(n,n+=wn));t=t.slice(n),n=wn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),En&&(e.e>ub||e.e<-ub))throw Error(_E+r)}else e.s=0,e.e=0,e.d=[0];return e}function un(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=wn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/wn),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=wn,a=n-wn+o}if(r!==void 0&&(i=yd(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/yd(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ha(e),f.length=1,t=t-i-1,f[0]=yd(10,(wn-t%wn)%wn),e.e=pp(-t/wn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=yd(10,wn-n),f[d]=a>0?(u/yd(10,o-a)%yd(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Oa&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Oa)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(En&&(e.e>ub||e.e<-ub))throw Error(_E+ha(e));return e}function pq(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),En?un(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/wn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Oa-1;--c[i],c[a]+=Oa}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,En?un(t,p):t):new h(0)}function cf(e,t,r){var n,a=ha(e),i=pl(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+iu(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+iu(-a-1)+i,r&&(n=r-o)>0&&(i+=iu(n))):a>=o?(i+=iu(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+iu(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=iu(n))),e.s<0?"-"+i:i}function QD(e,t){if(e.length>t)return e.length=t,!0}function mq(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Vd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return JD(o,i.toString())}else if(typeof i!="string")throw Error(Vd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,iPe.test(i))JD(o,i);else throw Error(Vd+i)}if(a.prototype=Mt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=mq,a.config=a.set=sPe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function sPe(e){if(!e||typeof e!="object")throw Error(oo+"Object expected");var t,r,n,a=["precision",1,hp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(pp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Vd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vd+r+": "+n);return this}var jE=mq(aPe);bs=new jE(1);const sn=jE;function oPe(e){return dPe(e)||uPe(e)||cPe(e)||lPe()}function lPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cPe(e,t){if(e){if(typeof e=="string")return z4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z4(e,t)}}function uPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function dPe(e){if(Array.isArray(e))return z4(e)}function z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fPe=function(t){return t},gq={"@@functional/placeholder":!0},vq=function(t){return t===gq},ZD=function(t){return function r(){return arguments.length===0||arguments.length===1&&vq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hPe=function e(t,r){return t===1?r:ZD(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==gq}).length;return o>=t?r.apply(void 0,a):e(t-o,ZD(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return vq(f)?c.shift():f});return r.apply(void 0,oPe(d).concat(c))}))})},c_=function(t){return hPe(t.length,t)},V4=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},pPe=c_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),mPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fPe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},H4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},xq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function gPe(e){var t;return e===0?t=1:t=Math.floor(new sn(e).abs().log(10).toNumber())+1,t}function vPe(e,t,r){for(var n=new sn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var xPe=c_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),yPe=c_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),bPe=c_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const u_={rangeStep:vPe,getDigitCount:gPe,interpolateNumber:xPe,uninterpolateNumber:yPe,uninterpolateTruncation:bPe};function W4(e){return jPe(e)||_Pe(e)||yq(e)||wPe()}function wPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jPe(e){if(Array.isArray(e))return q4(e)}function pv(e,t){return APe(e)||NPe(e,t)||yq(e,t)||SPe()}function SPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yq(e,t){if(e){if(typeof e=="string")return q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q4(e,t)}}function q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NPe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function APe(e){if(Array.isArray(e))return e}function bq(e){var t=pv(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function wq(e,t,r){if(e.lte(0))return new sn(0);var n=u_.getDigitCount(e.toNumber()),a=new sn(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new sn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new sn(Math.ceil(c))}function TPe(e,t,r){var n=1,a=new sn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new sn(10).pow(u_.getDigitCount(e)-1),a=new sn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new sn(Math.floor(e)))}else e===0?a=new sn(Math.floor((t-1)/2)):r||(a=new sn(Math.floor(e)));var o=Math.floor((t-1)/2),l=mPe(pPe(function(c){return a.add(new sn(c-o).mul(n)).toNumber()}),V4);return l(0,t)}function _q(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new sn(0),tickMin:new sn(0),tickMax:new sn(0)};var i=wq(new sn(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new sn(0):(o=new sn(e).add(t).div(2),o=o.sub(new sn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new sn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?_q(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new sn(l).mul(i)),tickMax:o.add(new sn(c).mul(i))})}function CPe(e){var t=pv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=bq([r,n]),c=pv(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(W4(V4(0,a-1).map(function(){return 1/0}))):[].concat(W4(V4(0,a-1).map(function(){return-1/0})),[d]);return r>n?H4(f):f}if(u===d)return TPe(u,a,i);var h=_q(u,d,o,i),p=h.step,v=h.tickMin,m=h.tickMax,x=u_.rangeStep(v,m.add(new sn(.1).mul(p)),p);return r>n?H4(x):x}function EPe(e,t){var r=pv(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=bq([n,a]),l=pv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=wq(new sn(u).sub(c).div(d-1),i,0),h=[].concat(W4(u_.rangeStep(new sn(c),new sn(u).sub(new sn(.99).mul(f)),f)),[u]);return n>a?H4(h):h}var kPe=xq(CPe),PPe=xq(EPe),OPe=!0,zj="Invariant failed";function uf(e,t){if(!e){if(OPe)throw new Error(zj);var r=typeof t=="function"?t():t,n=r?"".concat(zj,": ").concat(r):zj;throw new Error(n)}}var FPe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},db.apply(this,arguments)}function DPe(e,t){return RPe(e)||MPe(e,t)||IPe(e,t)||LPe()}function LPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IPe(e,t){if(e){if(typeof e=="string")return eL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eL(e,t)}}function eL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function RPe(e){if(Array.isArray(e))return e}function $Pe(e,t){if(e==null)return{};var r=BPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nq(n.key),n)}}function zPe(e,t,r){return t&&tL(e.prototype,t),r&&tL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VPe(e,t,r){return t=fb(t),HPe(e,jq()?Reflect.construct(t,r||[],fb(e).constructor):t.apply(e,r))}function HPe(e,t){if(t&&(T0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WPe(e)}function WPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jq=function(){return!!e})()}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fb(e)}function qPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G4(e,t)}function G4(e,t){return G4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G4(e,t)}function Sq(e,t,r){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=GPe(e,"string");return T0(t)=="symbol"?t:t+""}function GPe(e,t){if(T0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mx=function(e){function t(){return UPe(this,t),VPe(this,t,arguments)}return qPe(t,e),zPe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=$Pe(n,FPe),p=Pr(h,!1);this.props.direction==="x"&&d.type!=="number"&&uf(!1);var v=c.map(function(m){var x=u(m,l),g=x.x,y=x.y,b=x.value,j=x.errorVal;if(!j)return null;var _=[],N,S;if(Array.isArray(j)){var A=DPe(j,2);N=A[0],S=A[1]}else N=S=j;if(i==="vertical"){var P=d.scale,W=y+a,C=W+o,k=W-o,z=P(b-N),I=P(b+S);_.push({x1:I,y1:C,x2:I,y2:k}),_.push({x1:z,y1:W,x2:I,y2:W}),_.push({x1:z,y1:C,x2:z,y2:k})}else if(i==="horizontal"){var R=f.scale,V=g+a,L=V-o,M=V+o,F=R(b-N),U=R(b+S);_.push({x1:L,y1:U,x2:M,y2:U}),_.push({x1:V,y1:F,x2:V,y2:U}),_.push({x1:L,y1:F,x2:M,y2:F})}return Ne.createElement(ra,db({className:"recharts-errorBar",key:"bar-".concat(_.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},p),_.map(function(X){return Ne.createElement("line",db({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return Ne.createElement(ra,{className:"recharts-errorBars"},v)}}])}(Ne.Component);Sq(mx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Sq(mx,"displayName","ErrorBar");function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function rL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(r),!0).forEach(function(n){KPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KPe(e,t,r){return t=YPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YPe(e){var t=XPe(e,"string");return mv(t)=="symbol"?t:t+""}function XPe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ms(r,Qh);if(!o)return null;var l=Qh.defaultProps,c=l!==void 0?fd(fd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?fd(fd({},h),f.props):{},v=p.dataKey,m=p.name,x=p.legendType,g=p.hide;return{inactive:g,dataKey:v,type:c.iconType||x||"square",color:SE(f),value:m||v,payload:p}}),fd(fd(fd({},c),Qh.getWithHeight(o,a)),{},{payload:u,item:o})};function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function nL(e){return eOe(e)||ZPe(e)||QPe(e)||JPe()}function JPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QPe(e,t){if(e){if(typeof e=="string")return K4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K4(e,t)}}function ZPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eOe(e){if(Array.isArray(e))return K4(e)}function K4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(r),!0).forEach(function(n){e0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0(e,t,r){return t=tOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tOe(e){var t=rOe(e,"string");return gv(t)=="symbol"?t:t+""}function rOe(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(e,t,r){return Ar(e)||Ar(t)?r:_a(t)?ro(e,t,r):br(t)?t(e):r}function dg(e,t,r,n){var a=ePe(e,function(l){return Ps(l,t)});if(r==="number"){var i=a.filter(function(l){return At(l)||parseFloat(l)});return i.length?[o_(i),s_(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ar(l)}):a;return o.map(function(l){return _a(l)||l instanceof Date?l:""})}var nOe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Bo(f-d)!==Bo(h-f)){var v=[];if(Bo(h-f)===Bo(c[1]-c[0])){p=h;var m=f+c[1]-c[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+c[1]-c[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(t>(y+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},SE=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Hn(Hn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},aOe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,x=v.cateAxisId,g=m.filter(function(S){return uc(S.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,b=y!==void 0?Hn(Hn({},y),g[0].props):g[0].props,j=b.barSize,_=b[x];o[_]||(o[_]=[]);var N=Ar(j)?r:j;o[_].push({item:g[0],stackList:g.slice(1),barSize:Ar(N)?void 0:lf(N,n,0)})}}return o},iOe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=lf(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,v=o.reduce(function(j,_){return j+_.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&p>0&&(h=!0,p*=.9,v=c*p);var m=(a-v)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(j,_){var N={item:_.item,position:{offset:x.offset+x.size+u,size:h?p:_.barSize}},S=[].concat(nL(j),[N]);return x=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(A){S.push({item:A,position:x})}),S},f)}else{var g=lf(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var y=(a-2*g-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=o.reduce(function(j,_,N){var S=[].concat(nL(j),[{item:_.item,position:{offset:g+(y+u)*N+(y-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return d},sOe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Aq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&At(t[p]))return Hn(Hn({},t),{},e0({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&At(t[v]))return Hn(Hn({},t),{},e0({},v,t[v]+(h||0)))}return t},oOe=function(t,r,n){return Ar(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Tq=function(t,r,n,a,i){var o=r.props.children,l=no(o,mx).filter(function(u){return oOe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ps(d,n);if(Ar(f))return u;var h=Array.isArray(f)?[o_(f),s_(f)]:[f,f],p=c.reduce(function(v,m){var x=Ps(d,m,0),g=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(g,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},lOe=function(t,r,n,a,i){var o=r.map(function(l){return Tq(t,l,n,i,a)}).filter(function(l){return!Ar(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Cq=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Tq(t,c,u,a)||dg(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Eq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},kq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},nc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Bo(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!lx(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Vj=new WeakMap,ny=function(t,r){if(typeof r!="function")return t;Vj.has(t)||Vj.set(t,new WeakMap);var n=Vj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},cOe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:lv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:sb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ug(),realScaleType:"point"}:i==="category"?{scale:lv(),realScaleType:"band"}:{scale:sb(),realScaleType:"linear"};if(ox(a)){var c="scale".concat(Gw(a));return{scale:(XD[c]||ug)(),realScaleType:XD[c]?c:"point"}}return br(a)?{scale:a}:{scale:ug(),realScaleType:"point"}},iL=1e-4,uOe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-iL,o=Math.max(a[0],a[1])+iL,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},dOe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},fOe=function(t,r){if(!r||r.length!==2||!At(r[0])||!At(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!At(t[0])||t[0]<n)&&(i[0]=n),(!At(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},hOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=lx(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},pOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=lx(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},mOe={sign:hOe,expand:Owe,none:y0,silhouette:Fwe,wiggle:Dwe,positive:pOe},gOe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=mOe[n],o=Pwe().keys(a).value(function(l,c){return+Ps(l,c,0)}).order(y4).offset(i);return o(t)},vOe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Hn(Hn({},h.type.defaultProps),h.props):h.props,m=v.stackId,x=v.hide;if(x)return f;var g=v[n],y=f[g]||{hasStack:!1,stackGroups:{}};if(_a(m)){var b=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[m]=b}else y.stackGroups[cx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Hn(Hn({},f),{},e0({},g,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var g=p.stackGroups[x];return Hn(Hn({},m),{},e0({},x,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:gOe(t,g.items,i)}))},v)}return Hn(Hn({},f),{},e0({},h,p))},d)},xOe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=kPe(u,i,l);return t.domain([o_(d),s_(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=PPe(f,i,l);return{niceTicks:h}}return null};function sL(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ar(a[t.dataKey])){var l=M2(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ps(a,Ar(o)?t.dataKey:o);return Ar(c)?null:t.scale(c)}var oL=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ps(o,r.dataKey,r.domain[l]);return Ar(c)?null:r.scale(c)-i/2+a},yOe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},bOe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Hn(Hn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(_a(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},wOe=function(t){return t.reduce(function(r,n){return[o_(n.concat([r[0]]).filter(At)),s_(n.concat([r[1]]).filter(At))]},[1/0,-1/0])},Pq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=wOe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},lL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y4=function(t,r,n){if(br(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(At(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(lL.test(t[0])){var i=+lL.exec(t[0])[1];a[0]=r[0]-i}else br(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(At(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(cL.test(t[1])){var o=+cL.exec(t[1])[1];a[1]=r[1]+o}else br(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},hb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=QC(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},uL=function(t,r,n){return!t||!t.length||l_(t,ro(n,"type.defaultProps.domain"))?r:t},Oq=function(t,r){var n=t.type.defaultProps?Hn(Hn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Hn(Hn({},Pr(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:SE(t),value:Ps(r,a),type:c,payload:r,chartType:u,hide:d})};function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function dL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(r),!0).forEach(function(n){_Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Oe(e,t,r){return t=jOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jOe(e){var t=SOe(e,"string");return vv(t)=="symbol"?t:t+""}function SOe(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pb=Math.PI/180,NOe=function(t){return t*180/Math.PI},Ga=function(t,r,n,a){return{x:t+Math.cos(-pb*a)*n,y:r+Math.sin(-pb*a)*n}},AOe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},TOe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=AOe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:NOe(u),angleInRadian:u}},COe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},EOe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},hL=function(t,r){var n=t.x,a=t.y,i=TOe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=COe(r),f=d.startAngle,h=d.endAngle,p=l,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?fL(fL({},r),{},{radius:o,angle:EOe(p,r)}):null};function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}var kOe=["offset"];function POe(e){return LOe(e)||DOe(e)||FOe(e)||OOe()}function OOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FOe(e,t){if(e){if(typeof e=="string")return X4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X4(e,t)}}function DOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LOe(e){if(Array.isArray(e))return X4(e)}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IOe(e,t){if(e==null)return{};var r=MOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(r),!0).forEach(function(n){ROe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ROe(e,t,r){return t=$Oe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Oe(e){var t=BOe(e,"string");return xv(t)=="symbol"?t:t+""}function BOe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(this,arguments)}var UOe=function(t){var r=t.value,n=t.formatter,a=Ar(t.children)?r:t.children;return br(n)?n(a):a},zOe=function(t,r){var n=Bo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},VOe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,m=c.clockWise,x=(f+h)/2,g=zOe(p,v),y=g>=0?1:-1,b,j;a==="insideStart"?(b=p+y*o,j=m):a==="insideEnd"?(b=v-y*o,j=!m):a==="end"&&(b=v+y*o,j=m),j=g<=0?j:!j;var _=Ga(u,d,x,b),N=Ga(u,d,x,b+(j?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),A=Ar(t.id)?cx("recharts-radial-line-"):t.id;return Ne.createElement("text",yv({},n,{dominantBaseline:"central",className:Ir("recharts-radial-bar-label",l)}),Ne.createElement("defs",null,Ne.createElement("path",{id:A,d:S})),Ne.createElement("textPath",{xlinkHref:"#".concat(A)},r))},HOe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Ga(o,l,u+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,g=Ga(o,l,x,h),y=g.x,b=g.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},WOe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",v=f>0?"start":"end",m=u>=0?1:-1,x=m*a,g=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return ma(ma({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return ma(ma({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var _={x:l-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return ma(ma({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return ma(ma({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?ma({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideRight"?ma({x:l+u-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideTop"?ma({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},S):i==="insideBottom"?ma({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?ma({x:l+x,y:c+h,textAnchor:y,verticalAnchor:v},S):i==="insideTopRight"?ma({x:l+u-x,y:c+h,textAnchor:g,verticalAnchor:v},S):i==="insideBottomLeft"?ma({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:p},S):i==="insideBottomRight"?ma({x:l+u-x,y:c+d-h,textAnchor:g,verticalAnchor:p},S):ip(i)&&(At(i.x)||Pd(i.x))&&(At(i.y)||Pd(i.y))?ma({x:l+lf(i.x,u),y:c+lf(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):ma({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},qOe=function(t){return"cx"in t&&At(t.cx)};function fi(e){var t=e.offset,r=t===void 0?5:t,n=IOe(e,kOe),a=ma({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Ar(l)&&Ar(c)&&!O.isValidElement(u)&&!br(u))return null;if(O.isValidElement(u))return O.cloneElement(u,a);var p;if(br(u)){if(p=O.createElement(u,a),O.isValidElement(p))return p}else p=UOe(a);var v=qOe(i),m=Pr(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return VOe(a,p,m);var x=v?HOe(a):WOe(a);return Ne.createElement(Z2,yv({className:Ir("recharts-label",f)},m,x,{breakAll:h}),p)}fi.displayName="Label";var Fq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,m=t.width,x=t.height,g=t.clockWise,y=t.labelViewBox;if(y)return y;if(At(m)&&At(x)){if(At(f)&&At(h))return{x:f,y:h,width:m,height:x};if(At(p)&&At(v))return{x:p,y:v,width:m,height:x}}return At(f)&&At(h)?{x:f,y:h,width:0,height:0}:At(r)&&At(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},GOe=function(t,r){return t?t===!0?Ne.createElement(fi,{key:"label-implicit",viewBox:r}):_a(t)?Ne.createElement(fi,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===fi?O.cloneElement(t,{key:"label-implicit",viewBox:r}):Ne.createElement(fi,{key:"label-implicit",content:t,viewBox:r}):br(t)?Ne.createElement(fi,{key:"label-implicit",content:t,viewBox:r}):ip(t)?Ne.createElement(fi,yv({viewBox:r},t,{key:"label-implicit"})):null:null},KOe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Fq(t),o=no(a,fi).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=GOe(t.label,r||i);return[l].concat(POe(o))};fi.parseViewBox=Fq;fi.renderCallByParent=KOe;function YOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var XOe=YOe;const JOe=Vr(XOe);function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}var QOe=["valueAccessor"],ZOe=["data","dataKey","clockWise","id","textBreakAll"];function e6e(e){return a6e(e)||n6e(e)||r6e(e)||t6e()}function t6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r6e(e,t){if(e){if(typeof e=="string")return J4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J4(e,t)}}function n6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a6e(e){if(Array.isArray(e))return J4(e)}function J4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mb.apply(this,arguments)}function mL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(r),!0).forEach(function(n){i6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i6e(e,t,r){return t=s6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s6e(e){var t=o6e(e,"string");return bv(t)=="symbol"?t:t+""}function o6e(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vL(e,t){if(e==null)return{};var r=l6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var c6e=function(t){return Array.isArray(t.value)?JOe(t.value):t.value};function Eu(e){var t=e.valueAccessor,r=t===void 0?c6e:t,n=vL(e,QOe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=vL(n,ZOe);return!a||!a.length?null:Ne.createElement(ra,{className:"recharts-label-list"},a.map(function(d,f){var h=Ar(i)?r(d,f):Ps(d&&d.payload,i),p=Ar(l)?{}:{id:"".concat(l,"-").concat(f)};return Ne.createElement(fi,mb({},Pr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:fi.parseViewBox(Ar(o)?d:gL(gL({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Eu.displayName="LabelList";function u6e(e,t){return e?e===!0?Ne.createElement(Eu,{key:"labelList-implicit",data:t}):Ne.isValidElement(e)||br(e)?Ne.createElement(Eu,{key:"labelList-implicit",data:t,content:e}):ip(e)?Ne.createElement(Eu,mb({data:t},e,{key:"labelList-implicit"})):null:null}function d6e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=no(n,Eu).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=u6e(e.label,t);return[i].concat(e6e(a))}Eu.renderCallByParent=d6e;function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function Q4(){return Q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q4.apply(this,arguments)}function xL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(r),!0).forEach(function(n){f6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f6e(e,t,r){return t=h6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h6e(e){var t=p6e(e,"string");return wv(t)=="symbol"?t:t+""}function p6e(e,t){if(wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m6e=function(t,r){var n=Bo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ay=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/pb,h=u?i:i+o*f,p=Ga(r,n,d,h),v=Ga(r,n,a,h),m=u?i-o*f:i,x=Ga(r,n,d*Math.cos(f*pb),m);return{center:p,circleTangency:v,lineTangency:x,theta:f}},Dq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=m6e(o,l),u=o+c,d=Ga(r,n,i,o),f=Ga(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Ga(r,n,a,o),v=Ga(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},g6e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Bo(d-u),h=ay({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,m=h.theta,x=ay({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=x.circleTangency,y=x.lineTangency,b=x.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Dq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=ay({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,A=N.lineTangency,P=N.theta,W=ay({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=W.circleTangency,k=W.lineTangency,z=W.theta,I=c?Math.abs(u-d):Math.abs(u-d)-P-z;if(I<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},v6e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Lq=function(t){var r=yL(yL({},v6e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Ir("recharts-sector",h),v=o-i,m=lf(l,v,0,!0),x;return m>0&&Math.abs(d-f)<360?x=g6e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=Dq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),Ne.createElement("path",Q4({},Pr(r,!0),{className:p,d:x,role:"img"}))};function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function Z4(){return Z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z4.apply(this,arguments)}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){x6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x6e(e,t,r){return t=y6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6e(e){var t=b6e(e,"string");return _v(t)=="symbol"?t:t+""}function b6e(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _L={curveBasisClosed:bwe,curveBasisOpen:wwe,curveBasis:ywe,curveBumpX:iwe,curveBumpY:swe,curveLinearClosed:_we,curveLinear:Yw,curveMonotoneX:jwe,curveMonotoneY:Swe,curveNatural:Nwe,curveStep:Awe,curveStepAfter:Cwe,curveStepBefore:Twe},iy=function(t){return t.x===+t.x&&t.y===+t.y},hm=function(t){return t.x},pm=function(t){return t.y},w6e=function(t,r){if(br(t))return t;var n="curve".concat(Gw(t));return(n==="curveMonotone"||n==="curveBump")&&r?_L["".concat(n).concat(r==="vertical"?"Y":"X")]:_L[n]||Yw},_6e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=w6e(n,l),f=u?i.filter(function(m){return iy(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return iy(m)}):o,v=f.map(function(m,x){return wL(wL({},m),{},{base:p[x]})});return l==="vertical"?h=Y1().y(pm).x1(hm).x0(function(m){return m.base.x}):h=Y1().x(hm).y1(pm).y0(function(m){return m.base.y}),h.defined(iy).curve(d),h(v)}return l==="vertical"&&At(o)?h=Y1().y(pm).x1(hm).x0(o):At(o)?h=Y1().x(hm).y1(pm).y0(o):h=LH().x(hm).y(pm),h.defined(iy).curve(d),h(f)},eA=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?_6e(t):a;return Ne.createElement("path",Z4({},Pr(t,!1),R2(t),{className:Ir("recharts-curve",r),d:o,ref:i}))},j6e=Object.getOwnPropertyNames,S6e=Object.getOwnPropertySymbols,N6e=Object.prototype.hasOwnProperty;function jL(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function sy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function SL(e){return j6e(e).concat(S6e(e))}var Iq=Object.hasOwn||function(e,t){return N6e.call(e,t)};function mp(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Mq="_owner",NL=Object.getOwnPropertyDescriptor,AL=Object.keys;function A6e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function T6e(e,t){return mp(e.getTime(),t.getTime())}function TL(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],p=f[1],v=l.value,m=v[0],x=v[1];!u&&!n[d]&&(u=r.equals(h,m,i,d,e,t,r)&&r.equals(p,x,h,m,e,t,r))&&(n[d]=!0),d++}if(!u)return!1;i++}return!0}function C6e(e,t,r){var n=AL(e),a=n.length;if(AL(t).length!==a)return!1;for(var i;a-- >0;)if(i=n[a],i===Mq&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Iq(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function mm(e,t,r){var n=SL(e),a=n.length;if(SL(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],i===Mq&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Iq(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=NL(e,i),l=NL(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function E6e(e,t){return mp(e.valueOf(),t.valueOf())}function k6e(e,t){return e.source===t.source&&e.flags===t.flags}function CL(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function P6e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var O6e="[object Arguments]",F6e="[object Boolean]",D6e="[object Date]",L6e="[object Map]",I6e="[object Number]",M6e="[object Object]",R6e="[object RegExp]",$6e="[object Set]",B6e="[object String]",U6e=Array.isArray,EL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kL=Object.assign,z6e=Object.prototype.toString.call.bind(Object.prototype.toString);function V6e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return a(d,f,h);if(U6e(d))return t(d,f,h);if(EL!=null&&EL(d))return c(d,f,h);if(p===Date)return r(d,f,h);if(p===RegExp)return o(d,f,h);if(p===Map)return n(d,f,h);if(p===Set)return l(d,f,h);var v=z6e(d);return v===D6e?r(d,f,h):v===R6e?o(d,f,h):v===L6e?n(d,f,h):v===$6e?l(d,f,h):v===M6e?typeof d.then!="function"&&typeof f.then!="function"&&a(d,f,h):v===O6e?a(d,f,h):v===F6e||v===I6e||v===B6e?i(d,f,h):!1}}function H6e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?mm:A6e,areDatesEqual:T6e,areMapsEqual:n?jL(TL,mm):TL,areObjectsEqual:n?mm:C6e,arePrimitiveWrappersEqual:E6e,areRegExpsEqual:k6e,areSetsEqual:n?jL(CL,mm):CL,areTypedArraysEqual:n?mm:P6e};if(r&&(a=kL({},a,r(a))),t){var i=sy(a.areArraysEqual),o=sy(a.areMapsEqual),l=sy(a.areObjectsEqual),c=sy(a.areSetsEqual);a=kL({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function W6e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function q6e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var G6e=Zu();Zu({strict:!0});Zu({circular:!0});Zu({circular:!0,strict:!0});Zu({createInternalComparator:function(){return mp}});Zu({strict:!0,createInternalComparator:function(){return mp}});Zu({circular:!0,createInternalComparator:function(){return mp}});Zu({circular:!0,createInternalComparator:function(){return mp},strict:!0});function Zu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=H6e(e),c=V6e(l),u=n?n(c):W6e(c);return q6e({circular:r,comparator:c,createState:a,equals:u,strict:o})}function K6e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function PL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):K6e(a)};requestAnimationFrame(n)}function tA(e){"@babel/helpers - typeof";return tA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tA(e)}function Y6e(e){return Z6e(e)||Q6e(e)||J6e(e)||X6e()}function X6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J6e(e,t){if(e){if(typeof e=="string")return OL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OL(e,t)}}function OL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z6e(e){if(Array.isArray(e))return e}function e8e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Y6e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){PL(a.bind(null,u),c);return}a(c),PL(a.bind(null,u));return}tA(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return t=t8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8e(e){var t=r8e(e,"string");return jv(t)==="symbol"?t:String(t)}function r8e(e,t){if(jv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n8e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},a8e=function(t){return t},i8e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},fg=function(t,r){return Object.keys(r).reduce(function(n,a){return DL(DL({},n),{},Rq({},a,t(a,r[a])))},{})},LL=function(t,r,n){return t.map(function(a){return"".concat(i8e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function s8e(e,t){return c8e(e)||l8e(e,t)||$q(e,t)||o8e()}function o8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function c8e(e){if(Array.isArray(e))return e}function u8e(e){return h8e(e)||f8e(e)||$q(e)||d8e()}function d8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $q(e,t){if(e){if(typeof e=="string")return rA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rA(e,t)}}function f8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h8e(e){if(Array.isArray(e))return rA(e)}function rA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gb=1e-4,Bq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Uq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},IL=function(t,r){return function(n){var a=Bq(t,r);return Uq(a,n)}},p8e=function(t,r){return function(n){var a=Bq(t,r),i=[].concat(u8e(a.map(function(o,l){return o*l}).slice(1)),[0]);return Uq(i,n)}},ML=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=s8e(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=IL(a,o),h=IL(i,l),p=p8e(a,o),v=function(g){return g>1?1:g<0?0:g},m=function(g){for(var y=g>1?1:g,b=y,j=0;j<8;++j){var _=f(b)-y,N=p(b);if(Math.abs(_-y)<gb||N<gb)return h(b);b=v(b-_/N)}return h(b)};return m.isStepper=!1,m},m8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,v=h*i,m=h+(p-v)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<gb&&Math.abs(m)<gb?[f,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},g8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ML(a);case"spring":return m8e();default:if(a.split("(")[0]==="cubic-bezier")return ML(a)}return typeof a=="function"?a:null};function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function RL(e){return y8e(e)||x8e(e)||zq(e)||v8e()}function v8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y8e(e){if(Array.isArray(e))return aA(e)}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){nA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nA(e,t,r){return t=b8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b8e(e){var t=w8e(e,"string");return Sv(t)==="symbol"?t:String(t)}function w8e(e,t){if(Sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _8e(e,t){return N8e(e)||S8e(e,t)||zq(e,t)||j8e()}function j8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zq(e,t){if(e){if(typeof e=="string")return aA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aA(e,t)}}function aA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function N8e(e){if(Array.isArray(e))return e}var vb=function(t,r,n){return t+(r-t)*n},iA=function(t){var r=t.from,n=t.to;return r!==n},A8e=function e(t,r,n){var a=fg(function(i,o){if(iA(o)){var l=t(o.from,o.to,o.velocity),c=_8e(l,2),u=c[0],d=c[1];return Va(Va({},o),{},{from:u,velocity:d})}return o},r);return n<1?fg(function(i,o){return iA(o)?Va(Va({},o),{},{velocity:vb(o.velocity,a[i].velocity,n),from:vb(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const T8e=function(e,t,r,n,a){var i=n8e(e,t),o=i.reduce(function(x,g){return Va(Va({},x),{},nA({},g,[e[g],t[g]]))},{}),l=i.reduce(function(x,g){return Va(Va({},x),{},nA({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return fg(function(g,y){return y.from},l)},p=function(){return!Object.values(l).filter(iA).length},v=function(g){u||(u=g);var y=g-u,b=y/r.dt;l=A8e(r,l,b),a(Va(Va(Va({},e),t),h())),u=g,p()||(c=requestAnimationFrame(f))},m=function(g){d||(d=g);var y=(g-d)/n,b=fg(function(_,N){return vb.apply(void 0,RL(N).concat([r(y)]))},o);if(a(Va(Va(Va({},e),t),b)),y<1)c=requestAnimationFrame(f);else{var j=fg(function(_,N){return vb.apply(void 0,RL(N).concat([r(1)]))},o);a(Va(Va(Va({},e),t),j))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}var C8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function E8e(e,t){if(e==null)return{};var r=k8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Hj(e){return D8e(e)||F8e(e)||O8e(e)||P8e()}function P8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O8e(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function F8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D8e(e){if(Array.isArray(e))return sA(e)}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(r),!0).forEach(function(n){Mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mm(e,t,r){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vq(n.key),n)}}function I8e(e,t,r){return t&&UL(e.prototype,t),r&&UL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vq(e){var t=M8e(e,"string");return C0(t)==="symbol"?t:String(t)}function M8e(e,t){if(C0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(C0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oA(e,t)}function oA(e,t){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oA(e,t)}function $8e(e){var t=B8e();return function(){var n=xb(e),a;if(t){var i=xb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return lA(this,a)}}function lA(e,t){if(t&&(C0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cA(e)}function cA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(e)}var d_=function(e){R8e(r,e);var t=$8e(r);function r(n,a){var i;L8e(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(cA(i)),i.changeStyle=i.changeStyle.bind(cA(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),lA(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},lA(i);i.state={style:c?Mm({},c,u):u}}else i.state={style:{}};return i}return I8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Mm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(G6e(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?f:a.to;if(this.state&&h){var x={style:c?Mm({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(x)}this.runAnimation(_o(_o({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=T8e(o,l,g8e(u),c,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,g){if(g===0)return m;var y=x.duration,b=x.easing,j=b===void 0?"ease":b,_=x.style,N=x.properties,S=x.onAnimationEnd,A=g>0?o[g-1]:x,P=N||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(Hj(m),[i.runJSAnimation.bind(i,{from:A.style,to:_,duration:y,easing:j}),y]);var W=LL(P,y,j),C=_o(_o(_o({},A.style),_),{},{transition:W});return[].concat(Hj(m),[C,y,S]).filter(a8e)};return this.manager.start([c].concat(Hj(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=e8e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?Mm({},l,c):c,x=LL(Object.keys(m),o,u);v.start([d,i,_o(_o({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=E8e(a,C8e),u=O.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var v=p.props,m=v.style,x=m===void 0?{}:m,g=v.className,y=O.cloneElement(p,_o(_o({},c),{},{style:_o(_o({},x),d),className:g}));return y};return u===1?f(O.Children.only(i)):Ne.createElement("div",null,O.Children.map(i,function(h){return f(h)}))}}]),r}(O.PureComponent);d_.displayName="Animate";d_.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};d_.propTypes={from:zt.oneOfType([zt.object,zt.string]),to:zt.oneOfType([zt.object,zt.string]),attributeName:zt.string,duration:zt.number,begin:zt.number,easing:zt.oneOfType([zt.string,zt.func]),steps:zt.arrayOf(zt.shape({duration:zt.number.isRequired,style:zt.object.isRequired,easing:zt.oneOfType([zt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zt.func]),properties:zt.arrayOf("string"),onAnimationEnd:zt.func})),children:zt.oneOfType([zt.node,zt.func]),isActive:zt.bool,canBegin:zt.bool,onAnimationEnd:zt.func,shouldReAnimate:zt.bool,onAnimationStart:zt.func,onAnimationReStart:zt.func};const E0=d_;function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(this,arguments)}function U8e(e,t){return W8e(e)||H8e(e,t)||V8e(e,t)||z8e()}function z8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8e(e,t){if(e){if(typeof e=="string")return zL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zL(e,t)}}function zL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function W8e(e){if(Array.isArray(e))return e}function VL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(r),!0).forEach(function(n){q8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q8e(e,t,r){return t=G8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8e(e){var t=K8e(e,"string");return Nv(t)=="symbol"?t:t+""}function K8e(e,t){if(Nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WL=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Y8e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},X8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NE=function(t){var r=HL(HL({},X8e),t),n=O.useRef(),a=O.useState(-1),i=U8e(a,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ir("recharts-rectangle",p);return y?Ne.createElement(E0,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:v,isActive:y},function(j){var _=j.width,N=j.height,S=j.x,A=j.y;return Ne.createElement(E0,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:g,easing:v},Ne.createElement("path",yb({},Pr(r,!0),{className:b,d:WL(S,A,_,N,h),ref:n})))}):Ne.createElement("path",yb({},Pr(r,!0),{className:b,d:WL(c,u,d,f,h)}))};function uA(){return uA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uA.apply(this,arguments)}var AE=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ir("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ne.createElement("circle",uA({},Pr(t,!1),R2(t),{className:o,cx:r,cy:n,r:a})):null};function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}var J8e=["x","y","top","left","width","height","className"];function dA(){return dA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dA.apply(this,arguments)}function qL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(r),!0).forEach(function(n){Z8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8e(e,t,r){return t=eFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eFe(e){var t=tFe(e,"string");return Av(t)=="symbol"?t:t+""}function tFe(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rFe(e,t){if(e==null)return{};var r=nFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aFe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},iFe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,m=rFe(t,J8e),x=Q8e({x:n,y:i,top:l,left:u,width:f,height:p},m);return!At(n)||!At(i)||!At(f)||!At(p)||!At(l)||!At(u)?null:Ne.createElement("path",dA({},Pr(x,!0),{className:Ir("recharts-cross",v),d:aFe(n,i,f,p,l,u)}))},sFe=iW,oFe=sFe(Object.getPrototypeOf,Object),lFe=oFe,cFe=Cc,uFe=lFe,dFe=Ec,fFe="[object Object]",hFe=Function.prototype,pFe=Object.prototype,Hq=hFe.toString,mFe=pFe.hasOwnProperty,gFe=Hq.call(Object);function vFe(e){if(!dFe(e)||cFe(e)!=fFe)return!1;var t=uFe(e);if(t===null)return!0;var r=mFe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Hq.call(r)==gFe}var xFe=vFe;const yFe=Vr(xFe);var bFe=Cc,wFe=Ec,_Fe="[object Boolean]";function jFe(e){return e===!0||e===!1||wFe(e)&&bFe(e)==_Fe}var SFe=jFe;const NFe=Vr(SFe);function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(this,arguments)}function AFe(e,t){return kFe(e)||EFe(e,t)||CFe(e,t)||TFe()}function TFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CFe(e,t){if(e){if(typeof e=="string")return GL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GL(e,t)}}function GL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kFe(e){if(Array.isArray(e))return e}function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(n){PFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PFe(e,t,r){return t=OFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OFe(e){var t=FFe(e,"string");return Tv(t)=="symbol"?t:t+""}function FFe(e,t){if(Tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XL=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},DFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LFe=function(t){var r=YL(YL({},DFe),t),n=O.useRef(),a=O.useState(-1),i=AFe(a,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ir("recharts-trapezoid",p);return g?Ne.createElement(E0,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:v,isActive:g},function(b){var j=b.upperWidth,_=b.lowerWidth,N=b.height,S=b.x,A=b.y;return Ne.createElement(E0,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:v},Ne.createElement("path",bb({},Pr(r,!0),{className:y,d:XL(S,A,j,_,N),ref:n})))}):Ne.createElement("g",null,Ne.createElement("path",bb({},Pr(r,!0),{className:y,d:XL(c,u,d,f,h)})))},IFe=["option","shapeType","propTransformer","activeClassName","isActive"];function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function MFe(e,t){if(e==null)return{};var r=RFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(n){$Fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Fe(e,t,r){return t=BFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BFe(e){var t=UFe(e,"string");return Cv(t)=="symbol"?t:t+""}function UFe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zFe(e,t){return wb(wb({},t),e)}function VFe(e,t){return e==="symbols"}function QL(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ne.createElement(NE,r);case"trapezoid":return Ne.createElement(LFe,r);case"sector":return Ne.createElement(Lq,r);case"symbols":if(VFe(t))return Ne.createElement(HC,r);break;default:return null}}function HFe(e){return O.isValidElement(e)?e.props:e}function WFe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?zFe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=MFe(e,IFe),u;if(O.isValidElement(t))u=O.cloneElement(t,wb(wb({},c),HFe(t)));else if(br(t))u=t(c);else if(yFe(t)&&!NFe(t)){var d=a(t,c);u=Ne.createElement(QL,{shapeType:r,elementProps:d})}else{var f=c;u=Ne.createElement(QL,{shapeType:r,elementProps:f})}return l?Ne.createElement(ra,{className:o},u):u}function f_(e,t){return t!=null&&"trapezoids"in e.props}function h_(e,t){return t!=null&&"sectors"in e.props}function Ev(e,t){return t!=null&&"points"in e.props}function qFe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function GFe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function KFe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function YFe(e,t){var r;return f_(e,t)?r=qFe:h_(e,t)?r=GFe:Ev(e,t)&&(r=KFe),r}function XFe(e,t){var r;return f_(e,t)?r="trapezoids":h_(e,t)?r="sectors":Ev(e,t)&&(r="points"),r}function JFe(e,t){if(f_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(h_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ev(e,t)?t.payload:{}}function QFe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=XFe(r,t),i=JFe(r,t),o=n.filter(function(c,u){var d=l_(i,c),f=r.props[a].filter(function(v){var m=YFe(r,t);return m(v,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var ZFe=Math.ceil,eDe=Math.max;function tDe(e,t,r,n){for(var a=-1,i=eDe(ZFe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var rDe=tDe,nDe=SW,ZL=1/0,aDe=17976931348623157e292;function iDe(e){if(!e)return e===0?e:0;if(e=nDe(e),e===ZL||e===-ZL){var t=e<0?-1:1;return t*aDe}return e===e?e:0}var Wq=iDe,sDe=rDe,oDe=Zw,Wj=Wq;function lDe(e){return function(t,r,n){return n&&typeof n!="number"&&oDe(t,r,n)&&(r=n=void 0),t=Wj(t),r===void 0?(r=t,t=0):r=Wj(r),n=n===void 0?t<r?1:-1:Wj(n),sDe(t,r,n,e)}}var cDe=lDe,uDe=cDe,dDe=uDe(),fDe=dDe;const _b=Vr(fDe);function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qq(e,t,r){return t=hDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hDe(e){var t=pDe(e,"string");return kv(t)=="symbol"?t:t+""}function pDe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mDe=["Webkit","Moz","O","ms"],gDe=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=mDe.reduce(function(i,o){return tI(tI({},i),{},qq({},o+n,r))},{});return a[t]=r,a};function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(this,arguments)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kq(n.key),n)}}function xDe(e,t,r){return t&&nI(e.prototype,t),r&&nI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yDe(e,t,r){return t=Sb(t),bDe(e,Gq()?Reflect.construct(t,r||[],Sb(e).constructor):t.apply(e,r))}function bDe(e,t){if(t&&(k0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wDe(e)}function wDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!e})()}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(e)}function _De(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fA(e,t)}function fA(e,t){return fA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fA(e,t)}function hs(e,t,r){return t=Kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=jDe(e,"string");return k0(t)=="symbol"?t:t+""}function jDe(e,t){if(k0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SDe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ug().domain(_b(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},aI=function(t){return t.changedTouches&&!!t.changedTouches.length},P0=function(e){function t(r){var n;return vDe(this,t),n=yDe(this,t,[r]),hs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),hs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),hs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),hs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hs(n,"handleSlideDragStart",function(a){var i=aI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _De(t,e),xDe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Ps(i[n],l,n);return br(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var x=this.getIndex({startX:o+m,endX:l+m});(x.startIndex!==h||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=aI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,x=d.data,g={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),g[o]=u+y;var b=this.getIndex(g),j=b.startIndex,_=b.endIndex,N=function(){var A=x.length-1;return o==="startX"&&(l>c?j%m===0:_%m===0)||l<c&&_===A||o==="endX"&&(l>c?_%m===0:j%m===0)||l>c&&_===A};this.setState(hs(hs({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&N()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(hs({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Ne.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=O.Children.only(u);return f?Ne.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,m=c.startIndex,x=c.endIndex,g=Math.max(n,this.props.x),y=qj(qj({},Pr(this.props,!1)),{},{x:g,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=v[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return Ne.createElement(ra,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return Ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return Ne.createElement(ra,{className:"recharts-brush-texts"},Ne.createElement(Z2,jb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},v),this.getTextOfTick(a)),Ne.createElement(Z2,jb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,x=h.isSlideMoving,g=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!At(l)||!At(c)||!At(u)||!At(d)||u<=0||d<=0)return null;var b=Ir("recharts-brush",i),j=Ne.Children.count(o)===1,_=gDe("userSelect","none");return Ne.createElement(ra,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||x||g||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return Ne.createElement(Ne.Fragment,null,Ne.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Ne.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),Ne.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ne.isValidElement(n)?i=Ne.cloneElement(n,a):br(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return qj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?SDe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(O.PureComponent);hs(P0,"displayName","Brush");hs(P0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var NDe=JC;function ADe(e,t){var r;return NDe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var TDe=ADe,CDe=JH,EDe=Xu,kDe=TDe,PDe=as,ODe=Zw;function FDe(e,t,r){var n=PDe(e)?CDe:kDe;return r&&ODe(e,t,r)&&(t=void 0),n(e,EDe(t))}var DDe=FDe;const LDe=Vr(DDe);var _l=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},iI=yW;function IDe(e,t,r){t=="__proto__"&&iI?iI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var MDe=IDe,RDe=MDe,$De=vW,BDe=Xu;function UDe(e,t){var r={};return t=BDe(t),$De(e,function(n,a,i){RDe(r,a,t(n,a,i))}),r}var zDe=UDe;const VDe=Vr(zDe);function HDe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var WDe=HDe,qDe=JC;function GDe(e,t){var r=!0;return qDe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var KDe=GDe,YDe=WDe,XDe=KDe,JDe=Xu,QDe=as,ZDe=Zw;function eLe(e,t,r){var n=QDe(e)?YDe:XDe;return r&&ZDe(e,t,r)&&(t=void 0),n(e,JDe(t))}var tLe=eLe;const Yq=Vr(tLe);var rLe=["x","y"];function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hA.apply(this,arguments)}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(n){nLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nLe(e,t,r){return t=aLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aLe(e){var t=iLe(e,"string");return Pv(t)=="symbol"?t:t+""}function iLe(e,t){if(Pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sLe(e,t){if(e==null)return{};var r=oLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lLe(e,t){var r=e.x,n=e.y,a=sLe(e,rLe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return gm(gm(gm(gm(gm({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function oI(e){return Ne.createElement(WFe,hA({shapeType:"rectangle",propTransformer:lLe,activeClassName:"recharts-active-bar"},e))}var cLe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||uf(!1),r)}},uLe=["value","background"],Xq;function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}function dLe(e,t){if(e==null)return{};var r=fLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(this,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qq(n.key),n)}}function pLe(e,t,r){return t&&cI(e.prototype,t),r&&cI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mLe(e,t,r){return t=Ab(t),gLe(e,Jq()?Reflect.construct(t,r||[],Ab(e).constructor):t.apply(e,r))}function gLe(e,t){if(t&&(O0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vLe(e)}function vLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jq=function(){return!!e})()}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(e)}function xLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pA(e,t)}function pA(e,t){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pA(e,t)}function gu(e,t,r){return t=Qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=yLe(e,"string");return O0(t)=="symbol"?t:t+""}function yLe(e,t){if(O0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(O0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gx=function(e){function t(){var r;hLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=mLe(this,t,[].concat(a)),gu(r,"state",{isAnimationFinished:!1}),gu(r,"id",cx("recharts-bar-")),gu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),gu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return xLe(t,e),pLe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Pr(this.props,!1);return n&&n.map(function(f,h){var p=h===c,v=p?u:o,m=da(da(da({},d),f),{},{isActive:p,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ne.createElement(ra,Nb({className:"recharts-bar-rectangle"},$2(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),Ne.createElement(oI,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return Ne.createElement(E0,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=i.map(function(x,g){var y=h&&h[g];if(y){var b=Do(y.x,x.x),j=Do(y.y,x.y),_=Do(y.width,x.width),N=Do(y.height,x.height);return da(da({},x),{},{x:b(v),y:j(v),width:_(v),height:N(v)})}if(o==="horizontal"){var S=Do(0,x.height),A=S(v);return da(da({},x),{},{y:x.y+x.height-A,height:A})}var P=Do(0,x.width),W=P(v);return da(da({},x),{},{width:W})});return Ne.createElement(ra,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!l_(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Pr(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=dLe(u,uLe);if(!f)return null;var p=da(da(da(da(da({},h),{},{fill:"#eee"},f),c),$2(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return Ne.createElement(oI,Nb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=no(d,mx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,g){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Ps(x,g)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(ra,v,f.map(function(m){return Ne.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,g=Ir("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,j=y||b,_=Ar(m)?this.id:m;return Ne.createElement(ra,{className:g},y||b?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(_)},Ne.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,Ne.createElement(ra,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!p||x)&&Eu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);Xq=gx;gu(gx,"displayName","Bar");gu(gx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gu(gx,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=dOe(n,r);if(!p)return null;var v=t.layout,m=r.type.defaultProps,x=m!==void 0?da(da({},m),r.props):r.props,g=x.dataKey,y=x.children,b=x.minPointSize,j=v==="horizontal"?o:i,_=u?j.scale.domain():null,N=yOe({numericAxis:j}),S=no(y,AW),A=f.map(function(P,W){var C,k,z,I,R,V;u?C=fOe(u[d+W],_):(C=Ps(P,g),Array.isArray(C)||(C=[N,C]));var L=cLe(b,Xq.defaultProps.minPointSize)(C[1],W);if(v==="horizontal"){var M,F=[o.scale(C[0]),o.scale(C[1])],U=F[0],X=F[1];k=oL({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:P,index:W}),z=(M=X??U)!==null&&M!==void 0?M:void 0,I=p.size;var E=U-X;if(R=Number.isNaN(E)?0:E,V={x:k,y:o.y,width:I,height:o.height},Math.abs(L)>0&&Math.abs(R)<Math.abs(L)){var H=Bo(R||L)*(Math.abs(L)-Math.abs(R));z-=H,R+=H}}else{var G=[i.scale(C[0]),i.scale(C[1])],q=G[0],K=G[1];if(k=q,z=oL({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:P,index:W}),I=K-q,R=p.size,V={x:i.x,y:z,width:i.width,height:R},Math.abs(L)>0&&Math.abs(I)<Math.abs(L)){var ee=Bo(I||L)*(Math.abs(L)-Math.abs(I));I+=ee}}return da(da(da({},P),{},{x:k,y:z,width:I,height:R,value:u?C:C[1],payload:P,background:V},S&&S[W]&&S[W].props),{},{tooltipPayload:[Oq(r,P)],tooltipPosition:{x:k+I/2,y:z+R/2}})});return da({data:A,layout:v},h)});function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function bLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function wLe(e,t,r){return t&&uI(e.prototype,t),r&&uI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){p_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p_(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=_Le(e,"string");return Ov(t)=="symbol"?t:t+""}function _Le(e,t){if(Ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jLe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ms(u,gx);return d.reduce(function(p,v){var m=r[v],x=m.orientation,g=m.domain,y=m.padding,b=y===void 0?{}:y,j=m.mirror,_=m.reversed,N="".concat(x).concat(j?"Mirror":""),S,A,P,W,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=g[1]-g[0],z=1/0,I=m.categoricalDomain.sort();if(I.forEach(function(G,q){q>0&&(z=Math.min((G||0)-(I[q-1]||0),z))}),Number.isFinite(z)){var R=z/k,V=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=R*V/2),m.padding==="no-gap"){var L=lf(t.barCategoryGap,R*V),M=R*V/2;S=M-L-(M-L)/V*L}}}a==="xAxis"?A=[n.left+(b.left||0)+(S||0),n.left+n.width-(b.right||0)-(S||0)]:a==="yAxis"?A=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(S||0),n.top+n.height-(b.bottom||0)-(S||0)]:A=m.range,_&&(A=[A[1],A[0]]);var F=cOe(m,i,h),U=F.scale,X=F.realScaleType;U.domain(g).range(A),uOe(U);var E=xOe(U,Po(Po({},m),{},{realScaleType:X}));a==="xAxis"?(C=x==="top"&&!j||x==="bottom"&&j,P=n.left,W=f[N]-C*m.height):a==="yAxis"&&(C=x==="left"&&!j||x==="right"&&j,P=f[N]-C*m.width,W=n.top);var H=Po(Po(Po({},m),E),{},{realScaleType:X,x:P,y:W,scale:U,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return H.bandSize=hb(H,E),!m.hide&&a==="xAxis"?f[N]+=(C?-1:1)*H.height:m.hide||(f[N]+=(C?-1:1)*H.width),Po(Po({},p),{},p_({},v,H))},{})},eG=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},SLe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return eG({x:r,y:n},{x:a,y:i})},tG=function(){function e(t){bLe(this,e),this.scale=t}return wLe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();p_(tG,"EPS",1e-4);var TE=function(t){var r=Object.keys(t).reduce(function(n,a){return Po(Po({},n),{},p_({},a,tG.create(t[a])))},{});return Po(Po({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return VDe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Yq(a,function(i,o){return r[o].isInRange(i)})}})};function NLe(e){return(e%180+180)%180}var ALe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=NLe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},TLe=Xu,CLe=ux,ELe=Jw;function kLe(e){return function(t,r,n){var a=Object(t);if(!CLe(t)){var i=TLe(r);t=ELe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var PLe=kLe,OLe=Wq;function FLe(e){var t=OLe(e),r=t%1;return t===t?r?t-r:t:0}var DLe=FLe,LLe=dW,ILe=Xu,MLe=DLe,RLe=Math.max;function $Le(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:MLe(r);return a<0&&(a=RLe(n+a,0)),LLe(e,ILe(t),a)}var BLe=$Le,ULe=PLe,zLe=BLe,VLe=ULe(zLe),HLe=VLe;const WLe=Vr(HLe);var qLe=Xye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),CE=O.createContext(void 0),EE=O.createContext(void 0),rG=O.createContext(void 0),nG=O.createContext({}),aG=O.createContext(void 0),iG=O.createContext(0),sG=O.createContext(0),fI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=qLe(i);return Ne.createElement(CE.Provider,{value:n},Ne.createElement(EE.Provider,{value:a},Ne.createElement(nG.Provider,{value:i},Ne.createElement(rG.Provider,{value:d},Ne.createElement(aG.Provider,{value:o},Ne.createElement(iG.Provider,{value:u},Ne.createElement(sG.Provider,{value:c},l)))))))},GLe=function(){return O.useContext(aG)},oG=function(t){var r=O.useContext(CE);r==null&&uf(!1);var n=r[t];return n==null&&uf(!1),n},KLe=function(){var t=O.useContext(CE);return uu(t)},YLe=function(){var t=O.useContext(EE),r=WLe(t,function(n){return Yq(n.domain,Number.isFinite)});return r||uu(t)},lG=function(t){var r=O.useContext(EE);r==null&&uf(!1);var n=r[t];return n==null&&uf(!1),n},XLe=function(){var t=O.useContext(rG);return t},JLe=function(){return O.useContext(nG)},kE=function(){return O.useContext(sG)},PE=function(){return O.useContext(iG)};function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function QLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uG(n.key),n)}}function ZLe(e,t,r){return t&&hI(e.prototype,t),r&&hI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eIe(e,t,r){return t=Tb(t),tIe(e,cG()?Reflect.construct(t,r||[],Tb(e).constructor):t.apply(e,r))}function tIe(e,t){if(t&&(F0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rIe(e)}function rIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cG=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}function nIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mA(e,t)}function mA(e,t){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mA(e,t)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(n){OE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OE(e,t,r){return t=uG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=aIe(e,"string");return F0(t)=="symbol"?t:t+""}function aIe(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iIe(e,t){return cIe(e)||lIe(e,t)||oIe(e,t)||sIe()}function sIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oIe(e,t){if(e){if(typeof e=="string")return gI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gI(e,t)}}function gI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cIe(e){if(Array.isArray(e))return e}function gA(){return gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gA.apply(this,arguments)}var uIe=function(t,r){var n;return Ne.isValidElement(t)?n=Ne.cloneElement(t,r):br(t)?n=t(r):n=Ne.createElement("line",gA({},r,{className:"recharts-reference-line-line"})),n},dIe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var v=u.y,m=t.y.apply(v,{position:o});if(_l(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?x.reverse():x}if(r){var g=u.x,y=t.x.apply(g,{position:o});if(_l(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?b.reverse():b}if(a){var j=u.segment,_=j.map(function(N){return t.apply(N,{position:o})});return _l(u,"discard")&&LDe(_,function(N){return!t.isInRange(N)})?null:_}return null};function fIe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=GLe(),d=oG(a),f=lG(i),h=XLe();if(!u||!h)return null;dc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=TE({x:d.scale,y:f.scale}),v=_a(t),m=_a(r),x=n&&n.length===2,g=dIe(p,v,m,x,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var y=iIe(g,2),b=y[0],j=b.x,_=b.y,N=y[1],S=N.x,A=N.y,P=_l(e,"hidden")?"url(#".concat(u,")"):void 0,W=mI(mI({clipPath:P},Pr(e,!0)),{},{x1:j,y1:_,x2:S,y2:A});return Ne.createElement(ra,{className:Ir("recharts-reference-line",l)},uIe(o,W),fi.renderCallByParent(e,SLe({x1:j,y1:_,x2:S,y2:A})))}var FE=function(e){function t(){return QLe(this,t),eIe(this,t,arguments)}return nIe(t,e),ZLe(t,[{key:"render",value:function(){return Ne.createElement(fIe,this.props)}}])}(Ne.Component);OE(FE,"displayName","ReferenceLine");OE(FE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vA.apply(this,arguments)}function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){m_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fG(n.key),n)}}function pIe(e,t,r){return t&&yI(e.prototype,t),r&&yI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mIe(e,t,r){return t=Cb(t),gIe(e,dG()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function gIe(e,t){if(t&&(D0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vIe(e)}function vIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dG=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function xIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xA(e,t)}function xA(e,t){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xA(e,t)}function m_(e,t,r){return t=fG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=yIe(e,"string");return D0(t)=="symbol"?t:t+""}function yIe(e,t){if(D0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(D0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bIe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=TE({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return _l(t,"discard")&&!o.isInRange(l)?null:l},g_=function(e){function t(){return hIe(this,t),mIe(this,t,arguments)}return xIe(t,e),pIe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=_a(a),d=_a(i);if(dc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=bIe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,x=v.className,g=_l(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=xI(xI({clipPath:g},Pr(this.props,!0)),{},{cx:h,cy:p});return Ne.createElement(ra,{className:Ir("recharts-reference-dot",x)},t.renderDot(m,y),fi.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(Ne.Component);m_(g_,"displayName","ReferenceDot");m_(g_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});m_(g_,"renderDot",function(e,t){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,t):br(e)?r=e(t):r=Ne.createElement(AE,vA({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function yA(){return yA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yA.apply(this,arguments)}function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){v_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pG(n.key),n)}}function _Ie(e,t,r){return t&&_I(e.prototype,t),r&&_I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jIe(e,t,r){return t=Eb(t),SIe(e,hG()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function SIe(e,t){if(t&&(L0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NIe(e)}function NIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hG=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function AIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bA(e,t)}function bA(e,t){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bA(e,t)}function v_(e,t,r){return t=pG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=TIe(e,"string");return L0(t)=="symbol"?t:t+""}function TIe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CIe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=TE({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return _l(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:eG(p,v)},x_=function(e){function t(){return wIe(this,t),jIe(this,t,arguments)}return AIe(t,e),_Ie(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;dc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=_a(a),h=_a(i),p=_a(o),v=_a(l),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var x=CIe(f,h,p,v,this.props);if(!x&&!m)return null;var g=_l(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Ne.createElement(ra,{className:Ir("recharts-reference-area",c)},t.renderRect(m,wI(wI({clipPath:g},Pr(this.props,!0)),x)),fi.renderCallByParent(this.props,x))}}])}(Ne.Component);v_(x_,"displayName","ReferenceArea");v_(x_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});v_(x_,"renderRect",function(e,t){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,t):br(e)?r=e(t):r=Ne.createElement(NE,yA({},t,{className:"recharts-reference-area-rect"})),r});function mG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function EIe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ALe(n,r)}function kIe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function kb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function PIe(e,t){return mG(e,t+1)}function OIe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:mG(n,u)};var m=c,x,g=function(){return x===void 0&&(x=r(v,m)),x},y=v.coordinate,b=c===0||kb(e,y,g,d,l);b||(c=0,d=o,u+=1),b&&(d=y+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){FIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FIe(e,t,r){return t=DIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DIe(e){var t=LIe(e,"string");return Fv(t)=="symbol"?t:t+""}function LIe(e,t){if(Fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IIe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var x=e*(p.coordinate+e*m()/2-c);i[h]=p=ci(ci({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=ci(ci({},p),{},{tickCoord:p.coordinate});var g=kb(e,p.tickCoord,m,l,c);g&&(c=p.tickCoord-e*(m()/2+a),i[h]=ci(ci({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function MIe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=ci(ci({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=kb(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=ci(ci({},d),{},{isShow:!0}))}for(var v=i?l-1:l,m=function(y){var b=o[y],j,_=function(){return j===void 0&&(j=r(b,y)),j};if(y===0){var N=e*(b.coordinate-e*_()/2-c);o[y]=b=ci(ci({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[y]=b=ci(ci({},b),{},{tickCoord:b.coordinate});var S=kb(e,b.tickCoord,_,c,u);S&&(c=b.tickCoord+e*(_()/2+a),o[y]=ci(ci({},b),{},{isShow:!0}))},x=0;x<v;x++)m(x);return o}function DE(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(At(c)||fc.isSsr)return PIe(a,typeof c=="number"&&At(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?cg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,j){var _=br(u)?u(b.value,j):b.value;return p==="width"?EIe(cg(_,{fontSize:t,letterSpacing:r}),v,f):cg(_,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?Bo(a[1].coordinate-a[0].coordinate):1,g=kIe(i,x,p);return c==="equidistantPreserveStart"?OIe(x,g,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=MIe(x,g,m,a,o,c==="preserveStartEnd"):h=IIe(x,g,m,a,o),h.filter(function(y){return y.isShow}))}var RIe=["viewBox"],$Ie=["viewBox"],BIe=["ticks"];function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(this,arguments)}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){LE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gj(e,t){if(e==null)return{};var r=UIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vG(n.key),n)}}function VIe(e,t,r){return t&&NI(e.prototype,t),r&&NI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HIe(e,t,r){return t=Pb(t),WIe(e,gG()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function WIe(e,t){if(t&&(I0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qIe(e)}function qIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gG=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function GIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wA(e,t)}function wA(e,t){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wA(e,t)}function LE(e,t,r){return t=vG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=KIe(e,"string");return I0(t)=="symbol"?t:t+""}function KIe(e,t){if(I0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gp=function(e){function t(r){var n;return zIe(this,t),n=HIe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return GIe(t,e),VIe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Gj(n,RIe),l=this.props,c=l.viewBox,u=Gj(l,$Ie);return!Jh(i,c)||!Jh(o,u)||!Jh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,v,m,x,g,y,b=f?-1:1,j=n.tickSize||d,_=At(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,x=o+ +!f*c,m=x-b*j,y=m-b*h,g=_;break;case"left":m=x=n.coordinate,v=i+ +!f*l,p=v-b*j,g=p-b*h,y=_;break;case"right":m=x=n.coordinate,v=i+ +f*l,p=v+b*j,g=p+b*h,y=_;break;default:p=v=n.coordinate,x=o+ +f*c,m=x+b*j,y=m+b*h,g=_;break}return{line:{x1:p,y1:m,x2:v,y2:x},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ai(Ai(Ai({},Pr(this.props,!1)),Pr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ai(Ai({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Ai(Ai({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return Ne.createElement("line",Fh({},f,{className:Ir("recharts-cartesian-axis-line",ro(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=DE(Ai(Ai({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=Pr(this.props,!1),g=Pr(d,!1),y=Ai(Ai({},x),{},{fill:"none"},Pr(c,!1)),b=p.map(function(j,_){var N=o.getTickLineCoord(j),S=N.line,A=N.tick,P=Ai(Ai(Ai(Ai({textAnchor:v,verticalAnchor:m},x),{},{stroke:"none",fill:u},g),A),{},{index:_,payload:j,visibleTicksCount:p.length,tickFormatter:f});return Ne.createElement(ra,Fh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},$2(o.props,j,_)),c&&Ne.createElement("line",Fh({},y,S,{className:Ir("recharts-cartesian-axis-tick-line",ro(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(br(f)?f(j.value,_):j.value).concat(h||"")))});return Ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Gj(f,BIe),v=h;return br(c)&&(v=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:Ne.createElement(ra,{className:Ir("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),fi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ne.isValidElement(n)?o=Ne.cloneElement(n,a):br(n)?o=n(a):o=Ne.createElement(Z2,Fh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);LE(gp,"displayName","CartesianAxis");LE(gp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var YIe=["x1","y1","x2","y2","key"],XIe=["offset"];function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){JIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JIe(e,t,r){return t=QIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QIe(e){var t=ZIe(e,"string");return df(t)=="symbol"?t:t+""}function ZIe(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dd.apply(this,arguments)}function TI(e,t){if(e==null)return{};var r=eMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tMe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return Ne.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xG(e,t){var r;if(Ne.isValidElement(e))r=Ne.cloneElement(e,t);else if(br(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=TI(t,YIe),u=Pr(c,!1);u.offset;var d=TI(u,XIe);r=Ne.createElement("line",Dd({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function rMe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hi(hi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return xG(a,u)});return Ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function nMe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hi(hi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return xG(a,u)});return Ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function aMe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?a+o-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return Ne.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function iMe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?i+l-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return Ne.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var sMe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return kq(DE(hi(hi(hi({},gp.defaultProps),n),{},{ticks:nc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},oMe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return kq(DE(hi(hi(hi({},gp.defaultProps),n),{},{ticks:nc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},sh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function yG(e){var t,r,n,a,i,o,l=kE(),c=PE(),u=JLe(),d=hi(hi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:sh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:sh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:sh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:sh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:sh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:sh.verticalFill,x:At(e.x)?e.x:u.left,y:At(e.y)?e.y:u.top,width:At(e.width)?e.width:u.width,height:At(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,m=d.syncWithTicks,x=d.horizontalValues,g=d.verticalValues,y=KLe(),b=YLe();if(!At(p)||p<=0||!At(v)||v<=0||!At(f)||f!==+f||!At(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||sMe,_=d.horizontalCoordinatesGenerator||oMe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&br(_)){var A=x&&x.length,P=_({yAxis:b?hi(hi({},b),{},{ticks:A?x:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:m);dc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(df(P),"]")),Array.isArray(P)&&(N=P)}if((!S||!S.length)&&br(j)){var W=g&&g.length,C=j({xAxis:y?hi(hi({},y),{},{ticks:W?g:y.ticks}):void 0,width:l,height:c,offset:u},W?!0:m);dc(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(df(C),"]")),Array.isArray(C)&&(S=C)}return Ne.createElement("g",{className:"recharts-cartesian-grid"},Ne.createElement(tMe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Ne.createElement(rMe,Dd({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:b})),Ne.createElement(nMe,Dd({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:b})),Ne.createElement(aMe,Dd({},d,{horizontalPoints:N})),Ne.createElement(iMe,Dd({},d,{verticalPoints:S})))}yG.displayName="CartesianGrid";var lMe=["type","layout","connectNulls","ref"],cMe=["key"];function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function CI(e,t){if(e==null)return{};var r=uMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){Oo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oh(e){return pMe(e)||hMe(e)||fMe(e)||dMe()}function dMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fMe(e,t){if(e){if(typeof e=="string")return _A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(e,t)}}function hMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pMe(e){if(Array.isArray(e))return _A(e)}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wG(n.key),n)}}function gMe(e,t,r){return t&&kI(e.prototype,t),r&&kI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vMe(e,t,r){return t=Ob(t),xMe(e,bG()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function xMe(e,t){if(t&&(M0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yMe(e)}function yMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function bMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jA(e,t)}function jA(e,t){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jA(e,t)}function Oo(e,t,r){return t=wG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=wMe(e,"string");return M0(t)=="symbol"?t:t+""}function wMe(e,t){if(M0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx=function(e){function t(){var r;mMe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=vMe(this,t,[].concat(a)),Oo(r,"state",{isAnimationFinished:!0,totalLength:0}),Oo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Oo(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,y){return g+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],v=0,m=0;v<c.length;m+=c[v],++v)if(m+c[v]>f){p=[].concat(oh(c.slice(0,v)),[f-m]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(oh(t.repeat(c,d)),oh(p),x).map(function(g){return"".concat(g,"px")}).join(", ")}),Oo(r,"id",cx("recharts-line-")),Oo(r,"pathRef",function(o){r.mainCurve=o}),Oo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Oo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return bMe(t,e),gMe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=no(d,mx);if(!f)return null;var h=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:Ps(m.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(ra,p,f.map(function(v){return Ne.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Pr(this.props,!1),h=Pr(c,!0),p=u.map(function(m,x){var g=ds(ds(ds({key:"dot-".concat(x),r:3},f),h),{},{value:m.value,dataKey:d,cx:m.x,cy:m.y,index:x,payload:m.payload});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ne.createElement(ra,hg({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=CI(l,lMe),h=ds(ds(ds({},Pr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return Ne.createElement(eA,hg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,m=o.width,x=o.height,g=this.state,y=g.prevPoints,b=g.totalLength;return Ne.createElement(E0,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(y){var N=y.length/l.length,S=l.map(function(k,z){var I=Math.floor(z*N);if(y[I]){var R=y[I],V=Do(R.x,k.x),L=Do(R.y,k.y);return ds(ds({},k),{},{x:V(_),y:L(_)})}if(v){var M=Do(m*2,k.x),F=Do(x/2,k.y);return ds(ds({},k),{},{x:M(_),y:F(_)})}return ds(ds({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(S,n,a)}var A=Do(0,b),P=A(_),W;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});W=i.getStrokeDasharray(P,b,C)}else W=i.generateSimpleStrokeDasharray(b,P);return i.renderCurveStatically(l,n,a,{strokeDasharray:W})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!l_(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,v=a.height,m=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,y=l.length===1,b=Ir("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,N=j||_,S=Ar(x)?this.id:x,A=(n=Pr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=A.r,W=P===void 0?3:P,C=A.strokeWidth,k=C===void 0?2:C,z=rbe(o)?o:{},I=z.clipDot,R=I===void 0?!0:I,V=W*2+k;return Ne.createElement(ra,{className:b},j||_?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(S)},Ne.createElement("rect",{x:j?h:h-p/2,y:_?f:f-v/2,width:j?p:p*2,height:_?v:v*2})),!R&&Ne.createElement("clipPath",{id:"clipPath-dots-".concat(S)},Ne.createElement("rect",{x:h-V/2,y:f-V/2,width:p+V,height:v+V}))):null,!y&&this.renderCurve(N,S),this.renderErrorBar(N,S),(y||o)&&this.renderDots(N,R,S),(!m||g)&&Eu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(oh(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(oh(o),oh(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Ne.isValidElement(n))i=Ne.cloneElement(n,a);else if(br(n))i=n(a);else{var o=a.key,l=CI(a,cMe),c=Ir("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ne.createElement(AE,hg({key:o},l,{className:c}))}return i}}])}(O.PureComponent);Oo(vx,"displayName","Line");Oo(vx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Oo(vx,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var v=Ps(h,o);return d==="horizontal"?{x:sL({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Ar(v)?null:n.scale(v),value:v,payload:h}:{x:Ar(v)?null:r.scale(v),y:sL({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:v,payload:h}});return ds({points:f,layout:d},u)});function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function _Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SG(n.key),n)}}function jMe(e,t,r){return t&&PI(e.prototype,t),r&&PI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SMe(e,t,r){return t=Fb(t),NMe(e,_G()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function NMe(e,t){if(t&&(R0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AMe(e)}function AMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function TMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SA(e,t)}function SA(e,t){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SA(e,t)}function jG(e,t,r){return t=SG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=CMe(e,"string");return R0(t)=="symbol"?t:t+""}function CMe(e,t){if(R0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NA.apply(this,arguments)}function EMe(e){var t=e.xAxisId,r=kE(),n=PE(),a=oG(t);return a==null?null:Ne.createElement(gp,NA({},a,{className:Ir("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return nc(o,!0)}}))}var y_=function(e){function t(){return _Me(this,t),SMe(this,t,arguments)}return TMe(t,e),jMe(t,[{key:"render",value:function(){return Ne.createElement(EMe,this.props)}}])}(Ne.Component);jG(y_,"displayName","XAxis");jG(y_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function kMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TG(n.key),n)}}function PMe(e,t,r){return t&&OI(e.prototype,t),r&&OI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OMe(e,t,r){return t=Db(t),FMe(e,NG()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function FMe(e,t){if(t&&($0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DMe(e)}function DMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NG=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function LMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AA(e,t)}function AA(e,t){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AA(e,t)}function AG(e,t,r){return t=TG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=IMe(e,"string");return $0(t)=="symbol"?t:t+""}function IMe(e,t){if($0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TA.apply(this,arguments)}var MMe=function(t){var r=t.yAxisId,n=kE(),a=PE(),i=lG(r);return i==null?null:Ne.createElement(gp,TA({},i,{className:Ir("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return nc(l,!0)}}))},b_=function(e){function t(){return kMe(this,t),OMe(this,t,arguments)}return LMe(t,e),PMe(t,[{key:"render",value:function(){return Ne.createElement(MMe,this.props)}}])}(Ne.Component);AG(b_,"displayName","YAxis");AG(b_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function FI(e){return UMe(e)||BMe(e)||$Me(e)||RMe()}function RMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Me(e,t){if(e){if(typeof e=="string")return CA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(e,t)}}function BMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UMe(e){if(Array.isArray(e))return CA(e)}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var EA=function(t,r,n,a,i){var o=no(t,FE),l=no(t,g_),c=[].concat(FI(o),FI(l)),u=no(t,x_),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,x){if(x.props[d]===n&&_l(x.props,"extendDomain")&&At(x.props[f])){var g=x.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&_l(x.props,"extendDomain")&&At(x.props[p])&&At(x.props[v])){var g=x.props[p],y=x.props[v];return[Math.min(m[0],g,y),Math.max(m[1],g,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,x){return At(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},CG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,v){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],g=arguments.length,y,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,v),!0}for(b=1,y=new Array(g-1);b<g;b++)y[b-1]=arguments[b];x.fn.apply(x.context,y)}else{var j=x.length,_;for(b=0;b<j;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),g){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!y)for(_=1,y=new Array(g-1);_<g;_++)y[_-1]=arguments[_];x[b].fn.apply(x[b].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var m=0,x=[],g=v.length;m<g;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&x.push(v[m]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(CG);var zMe=CG.exports;const VMe=Vr(zMe);var Kj=new VMe,Yj="recharts.syncMouseEvents";function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function HMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EG(n.key),n)}}function WMe(e,t,r){return t&&DI(e.prototype,t),r&&DI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xj(e,t,r){return t=EG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=qMe(e,"string");return Dv(t)=="symbol"?t:t+""}function qMe(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GMe=function(){function e(){HMe(this,e),Xj(this,"activeIndex",0),Xj(this,"coordinateList",[]),Xj(this,"layout","horizontal")}return WMe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function KMe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&At(n)&&At(a))return!0}return!1}function YMe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function kG(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Ga(t,r,n,a),l=Ga(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function XMe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ga(l,c,u,f),p=Ga(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return kG(t);return[{x:n,y:a},{x:i,y:o}]}function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){JMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JMe(e,t,r){return t=QMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QMe(e){var t=ZMe(e,"string");return Lv(t)=="symbol"?t:t+""}function ZMe(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eRe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,m=eA;if(h==="ScatterChart")v=o,m=iFe;else if(h==="BarChart")v=YMe(f,o,c,d),m=NE;else if(f==="radial"){var x=kG(o),g=x.cx,y=x.cy,b=x.radius,j=x.startAngle,_=x.endAngle;v={cx:g,cy:y,startAngle:j,endAngle:_,innerRadius:b,outerRadius:b},m=Lq}else v={points:XMe(f,o,c)},m=eA;var N=oy(oy(oy(oy({stroke:"#ccc",pointerEvents:"none"},c),v),Pr(p,!1)),{},{payload:l,payloadIndex:u,className:Ir("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,N):O.createElement(m,N)}var tRe=["item"],rRe=["children","className","width","height","style","compact","title","desc"];function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}function II(e,t){return iRe(e)||aRe(e,t)||OG(e,t)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iRe(e){if(Array.isArray(e))return e}function MI(e,t){if(e==null)return{};var r=sRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FG(n.key),n)}}function lRe(e,t,r){return t&&RI(e.prototype,t),r&&RI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cRe(e,t,r){return t=Lb(t),uRe(e,PG()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function uRe(e,t){if(t&&(B0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dRe(e)}function dRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PG=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function fRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kA(e,t)}function kA(e,t){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kA(e,t)}function U0(e){return mRe(e)||pRe(e)||OG(e)||hRe()}function hRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(e,t){if(e){if(typeof e=="string")return PA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PA(e,t)}}function pRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mRe(e){if(Array.isArray(e))return PA(e)}function PA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(r),!0).forEach(function(n){Kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kt(e,t,r){return t=FG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=gRe(e,"string");return B0(t)=="symbol"?t:t+""}function gRe(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vRe={xAxis:["bottom","top"],yAxis:["left","right"]},xRe={width:"100%",height:"100%"},DG={x:0,y:0};function ly(e){return e}var yRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},bRe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return tt(tt(tt({},a),Ga(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return tt(tt(tt({},a),Ga(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return DG},w_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(U0(l),U0(u)):l},[]);return o.length>0?o:t&&t.length&&At(a)&&At(i)?t.slice(a,i+1):[]};function LG(e){return e==="number"?[0,"auto"]:void 0}var OA=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=w_(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=M2(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(U0(c),[Oq(u,h)]):c},[])},BI=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=yRe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=nOe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=OA(t,r,d,f),p=bRe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},wRe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=Eq(d,i);return n.reduce(function(v,m){var x,g=m.type.defaultProps!==void 0?tt(tt({},m.type.defaultProps),m.props):m.props,y=g.type,b=g.dataKey,j=g.allowDataOverflow,_=g.allowDuplicatedCategory,N=g.scale,S=g.ticks,A=g.includeHidden,P=g[o];if(v[P])return v;var W=w_(t.data,{graphicalItems:a.filter(function(E){var H,G=o in E.props?E.props[o]:(H=E.type.defaultProps)===null||H===void 0?void 0:H[o];return G===P}),dataStartIndex:c,dataEndIndex:u}),C=W.length,k,z,I;KMe(g.domain,j,y)&&(k=Y4(g.domain,null,j),p&&(y==="number"||N!=="auto")&&(I=dg(W,b,"category")));var R=LG(y);if(!k||k.length===0){var V,L=(V=g.domain)!==null&&V!==void 0?V:R;if(b){if(k=dg(W,b,y),y==="category"&&p){var M=G2e(k);_&&M?(z=k,k=_b(0,C)):_||(k=uL(L,k,m).reduce(function(E,H){return E.indexOf(H)>=0?E:[].concat(U0(E),[H])},[]))}else if(y==="category")_?k=k.filter(function(E){return E!==""&&!Ar(E)}):k=uL(L,k,m).reduce(function(E,H){return E.indexOf(H)>=0||H===""||Ar(H)?E:[].concat(U0(E),[H])},[]);else if(y==="number"){var F=lOe(W,a.filter(function(E){var H,G,q=o in E.props?E.props[o]:(H=E.type.defaultProps)===null||H===void 0?void 0:H[o],K="hide"in E.props?E.props.hide:(G=E.type.defaultProps)===null||G===void 0?void 0:G.hide;return q===P&&(A||!K)}),b,i,d);F&&(k=F)}p&&(y==="number"||N!=="auto")&&(I=dg(W,b,"category"))}else p?k=_b(0,C):l&&l[P]&&l[P].hasStack&&y==="number"?k=h==="expand"?[0,1]:Pq(l[P].stackGroups,c,u):k=Cq(W,a.filter(function(E){var H=o in E.props?E.props[o]:E.type.defaultProps[o],G="hide"in E.props?E.props.hide:E.type.defaultProps.hide;return H===P&&(A||!G)}),y,d,!0);if(y==="number")k=EA(f,k,P,i,S),L&&(k=Y4(L,k,j));else if(y==="category"&&L){var U=L,X=k.every(function(E){return U.indexOf(E)>=0});X&&(k=U)}}return tt(tt({},v),{},Kt({},P,tt(tt({},g),{},{axisType:i,domain:k,categoricalDomain:I,duplicateDomain:z,originalDomain:(x=g.domain)!==null&&x!==void 0?x:R,isCategorical:p,layout:d})))},{})},_Re=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=w_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=Eq(d,i),m=-1;return n.reduce(function(x,g){var y=g.type.defaultProps!==void 0?tt(tt({},g.type.defaultProps),g.props):g.props,b=y[o],j=LG("number");if(!x[b]){m++;var _;return v?_=_b(0,p):l&&l[b]&&l[b].hasStack?(_=Pq(l[b].stackGroups,c,u),_=EA(f,_,b,i)):(_=Y4(j,Cq(h,n.filter(function(N){var S,A,P=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],W="hide"in N.props?N.props.hide:(A=N.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===b&&!W}),"number",d),a.defaultProps.allowDataOverflow),_=EA(f,_,b,i)),tt(tt({},x),{},Kt({},b,tt(tt({axisType:i},a.defaultProps),{},{hide:!0,orientation:ro(vRe,"".concat(i,".").concat(m%2),null),domain:_,originalDomain:j,isCategorical:v,layout:d})))}return x},{})},jRe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=no(d,i),p={};return h&&h.length?p=wRe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=_Re(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},SRe=function(t){var r=uu(t),n=nc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:QC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:hb(r,n)}},UI=function(t){var r=t.children,n=t.defaultShowTooltip,a=ms(r,P0),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},NRe=function(t){return!t||!t.length?!1:t.some(function(r){var n=uc(r&&r.type);return n&&n.indexOf("Bar")>=0})},zI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ARe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ms(f,P0),v=ms(f,Qh),m=Object.keys(c).reduce(function(_,N){var S=c[N],A=S.orientation;return!S.mirror&&!S.hide?tt(tt({},_),{},Kt({},A,_[A]+S.width)):_},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(_,N){var S=o[N],A=S.orientation;return!S.mirror&&!S.hide?tt(tt({},_),{},Kt({},A,ro(_,"".concat(A))+S.height)):_},{top:h.top||0,bottom:h.bottom||0}),g=tt(tt({},x),m),y=g.bottom;p&&(g.bottom+=p.props.height||P0.defaultProps.height),v&&r&&(g=sOe(g,a,n,r));var b=u-g.left-g.right,j=d-g.top-g.bottom;return tt(tt({brushBottom:y},g),{},{width:Math.max(b,0),height:Math.max(j,0)})},TRe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},CRe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,y){var b=y.graphicalItems,j=y.stackGroups,_=y.offset,N=y.updateId,S=y.dataStartIndex,A=y.dataEndIndex,P=g.barSize,W=g.layout,C=g.barGap,k=g.barCategoryGap,z=g.maxBarSize,I=zI(W),R=I.numericAxisName,V=I.cateAxisName,L=NRe(b),M=[];return b.forEach(function(F,U){var X=w_(g.data,{graphicalItems:[F],dataStartIndex:S,dataEndIndex:A}),E=F.type.defaultProps!==void 0?tt(tt({},F.type.defaultProps),F.props):F.props,H=E.dataKey,G=E.maxBarSize,q=E["".concat(R,"Id")],K=E["".concat(V,"Id")],ee={},se=c.reduce(function(ge,de){var ze=y["".concat(de.axisType,"Map")],Ke=E["".concat(de.axisType,"Id")];ze&&ze[Ke]||de.axisType==="zAxis"||uf(!1);var ft=ze[Ke];return tt(tt({},ge),{},Kt(Kt({},de.axisType,ft),"".concat(de.axisType,"Ticks"),nc(ft)))},ee),J=se[V],ce=se["".concat(V,"Ticks")],pe=j&&j[q]&&j[q].hasStack&&bOe(F,j[q].stackGroups),Q=uc(F.type).indexOf("Bar")>=0,Oe=hb(J,ce),$e=[],Ae=L&&aOe({barSize:P,stackGroups:j,totalSize:TRe(se,V)});if(Q){var Z,ke,Ge=Ar(G)?z:G,Le=(Z=(ke=hb(J,ce,!0))!==null&&ke!==void 0?ke:Ge)!==null&&Z!==void 0?Z:0;$e=iOe({barGap:C,barCategoryGap:k,bandSize:Le!==Oe?Le:Oe,sizeList:Ae[K],maxBarSize:Ge}),Le!==Oe&&($e=$e.map(function(ge){return tt(tt({},ge),{},{position:tt(tt({},ge.position),{},{offset:ge.position.offset-Le/2})})}))}var qe=F&&F.type&&F.type.getComposedData;qe&&M.push({props:tt(tt({},qe(tt(tt({},se),{},{displayedData:X,props:g,dataKey:H,item:F,bandSize:Oe,barPosition:$e,offset:_,stackedData:pe,layout:W,dataStartIndex:S,dataEndIndex:A}))),{},Kt(Kt(Kt({key:F.key||"item-".concat(U)},R,se[R]),V,se[V]),"animationId",N)),childIndex:ibe(F,g.children),item:F})}),M},p=function(g,y){var b=g.props,j=g.dataStartIndex,_=g.dataEndIndex,N=g.updateId;if(!Z8({props:b}))return null;var S=b.children,A=b.layout,P=b.stackOffset,W=b.data,C=b.reverseStackOrder,k=zI(A),z=k.numericAxisName,I=k.cateAxisName,R=no(S,n),V=vOe(W,R,"".concat(z,"Id"),"".concat(I,"Id"),P,C),L=c.reduce(function(E,H){var G="".concat(H.axisType,"Map");return tt(tt({},E),{},Kt({},G,jRe(b,tt(tt({},H),{},{graphicalItems:R,stackGroups:H.axisType===z&&V,dataStartIndex:j,dataEndIndex:_}))))},{}),M=ARe(tt(tt({},L),{},{props:b,graphicalItems:R}),y==null?void 0:y.legendBBox);Object.keys(L).forEach(function(E){L[E]=d(b,L[E],M,E.replace("Map",""),r)});var F=L["".concat(I,"Map")],U=SRe(F),X=h(b,tt(tt({},L),{},{dataStartIndex:j,dataEndIndex:_,updateId:N,graphicalItems:R,stackGroups:V,offset:M}));return tt(tt({formattedGraphicalItems:X,graphicalItems:R,offset:M,stackGroups:V},U),L)},v=function(x){function g(y){var b,j,_;return oRe(this,g),_=cRe(this,g,[y]),Kt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Kt(_,"accessibilityManager",new GMe),Kt(_,"handleLegendBBoxUpdate",function(N){if(N){var S=_.state,A=S.dataStartIndex,P=S.dataEndIndex,W=S.updateId;_.setState(tt({legendBBox:N},p({props:_.props,dataStartIndex:A,dataEndIndex:P,updateId:W},tt(tt({},_.state),{},{legendBBox:N}))))}}),Kt(_,"handleReceiveSyncEvent",function(N,S,A){if(_.props.syncId===N){if(A===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),Kt(_,"handleBrushChange",function(N){var S=N.startIndex,A=N.endIndex;if(S!==_.state.dataStartIndex||A!==_.state.dataEndIndex){var P=_.state.updateId;_.setState(function(){return tt({dataStartIndex:S,dataEndIndex:A},p({props:_.props,dataStartIndex:S,dataEndIndex:A,updateId:P},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Kt(_,"handleMouseEnter",function(N){var S=_.getMouseInfo(N);if(S){var A=tt(tt({},S),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var P=_.props.onMouseEnter;br(P)&&P(A,N)}}),Kt(_,"triggeredAfterMouseMove",function(N){var S=_.getMouseInfo(N),A=S?tt(tt({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var P=_.props.onMouseMove;br(P)&&P(A,N)}),Kt(_,"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Kt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Kt(_,"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),Kt(_,"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var A=_.props.onMouseLeave;br(A)&&A(S,N)}),Kt(_,"handleOuterEvent",function(N){var S=abe(N),A=ro(_.props,"".concat(S));if(S&&br(A)){var P,W;/.*touch.*/i.test(S)?W=_.getMouseInfo(N.changedTouches[0]):W=_.getMouseInfo(N),A((P=W)!==null&&P!==void 0?P:{},N)}}),Kt(_,"handleClick",function(N){var S=_.getMouseInfo(N);if(S){var A=tt(tt({},S),{},{isTooltipActive:!0});_.setState(A),_.triggerSyncEvent(A);var P=_.props.onClick;br(P)&&P(A,N)}}),Kt(_,"handleMouseDown",function(N){var S=_.props.onMouseDown;if(br(S)){var A=_.getMouseInfo(N);S(A,N)}}),Kt(_,"handleMouseUp",function(N){var S=_.props.onMouseUp;if(br(S)){var A=_.getMouseInfo(N);S(A,N)}}),Kt(_,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Kt(_,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),Kt(_,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),Kt(_,"handleDoubleClick",function(N){var S=_.props.onDoubleClick;if(br(S)){var A=_.getMouseInfo(N);S(A,N)}}),Kt(_,"handleContextMenu",function(N){var S=_.props.onContextMenu;if(br(S)){var A=_.getMouseInfo(N);S(A,N)}}),Kt(_,"triggerSyncEvent",function(N){_.props.syncId!==void 0&&Kj.emit(Yj,_.props.syncId,N,_.eventEmitterSymbol)}),Kt(_,"applySyncEvent",function(N){var S=_.props,A=S.layout,P=S.syncMethod,W=_.state.updateId,C=N.dataStartIndex,k=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(tt({dataStartIndex:C,dataEndIndex:k},p({props:_.props,dataStartIndex:C,dataEndIndex:k,updateId:W},_.state)));else if(N.activeTooltipIndex!==void 0){var z=N.chartX,I=N.chartY,R=N.activeTooltipIndex,V=_.state,L=V.offset,M=V.tooltipTicks;if(!L)return;if(typeof P=="function")R=P(M,N);else if(P==="value"){R=-1;for(var F=0;F<M.length;F++)if(M[F].value===N.activeLabel){R=F;break}}var U=tt(tt({},L),{},{x:L.left,y:L.top}),X=Math.min(z,U.x+U.width),E=Math.min(I,U.y+U.height),H=M[R]&&M[R].value,G=OA(_.state,_.props.data,R),q=M[R]?{x:A==="horizontal"?M[R].coordinate:X,y:A==="horizontal"?E:M[R].coordinate}:DG;_.setState(tt(tt({},N),{},{activeLabel:H,activeCoordinate:q,activePayload:G,activeTooltipIndex:R}))}else _.setState(N)}),Kt(_,"renderCursor",function(N){var S,A=_.state,P=A.isTooltipActive,W=A.activeCoordinate,C=A.activePayload,k=A.offset,z=A.activeTooltipIndex,I=A.tooltipAxisBandSize,R=_.getTooltipEventType(),V=(S=N.props.active)!==null&&S!==void 0?S:P,L=_.props.layout,M=N.key||"_recharts-cursor";return Ne.createElement(eRe,{key:M,activeCoordinate:W,activePayload:C,activeTooltipIndex:z,chartName:r,element:N,isActive:V,layout:L,offset:k,tooltipAxisBandSize:I,tooltipEventType:R})}),Kt(_,"renderPolarAxis",function(N,S,A){var P=ro(N,"type.axisType"),W=ro(_.state,"".concat(P,"Map")),C=N.type.defaultProps,k=C!==void 0?tt(tt({},C),N.props):N.props,z=W&&W[k["".concat(P,"Id")]];return O.cloneElement(N,tt(tt({},z),{},{className:Ir(P,z.className),key:N.key||"".concat(S,"-").concat(A),ticks:nc(z,!0)}))}),Kt(_,"renderPolarGrid",function(N){var S=N.props,A=S.radialLines,P=S.polarAngles,W=S.polarRadius,C=_.state,k=C.radiusAxisMap,z=C.angleAxisMap,I=uu(k),R=uu(z),V=R.cx,L=R.cy,M=R.innerRadius,F=R.outerRadius;return O.cloneElement(N,{polarAngles:Array.isArray(P)?P:nc(R,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(W)?W:nc(I,!0).map(function(U){return U.coordinate}),cx:V,cy:L,innerRadius:M,outerRadius:F,key:N.key||"polar-grid",radialLines:A})}),Kt(_,"renderLegend",function(){var N=_.state.formattedGraphicalItems,S=_.props,A=S.children,P=S.width,W=S.height,C=_.props.margin||{},k=P-(C.left||0)-(C.right||0),z=Aq({children:A,formattedGraphicalItems:N,legendWidth:k,legendContent:u});if(!z)return null;var I=z.item,R=MI(z,tRe);return O.cloneElement(I,tt(tt({},R),{},{chartWidth:P,chartHeight:W,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Kt(_,"renderTooltip",function(){var N,S=_.props,A=S.children,P=S.accessibilityLayer,W=ms(A,dl);if(!W)return null;var C=_.state,k=C.isTooltipActive,z=C.activeCoordinate,I=C.activePayload,R=C.activeLabel,V=C.offset,L=(N=W.props.active)!==null&&N!==void 0?N:k;return O.cloneElement(W,{viewBox:tt(tt({},V),{},{x:V.left,y:V.top}),active:L,label:R,payload:L?I:[],coordinate:z,accessibilityLayer:P})}),Kt(_,"renderBrush",function(N){var S=_.props,A=S.margin,P=S.data,W=_.state,C=W.offset,k=W.dataStartIndex,z=W.dataEndIndex,I=W.updateId;return O.cloneElement(N,{key:N.key||"_recharts-brush",onChange:ny(_.handleBrushChange,N.props.onChange),data:P,x:At(N.props.x)?N.props.x:C.left,y:At(N.props.y)?N.props.y:C.top+C.height+C.brushBottom-(A.bottom||0),width:At(N.props.width)?N.props.width:C.width,startIndex:k,endIndex:z,updateId:"brush-".concat(I)})}),Kt(_,"renderReferenceElement",function(N,S,A){if(!N)return null;var P=_,W=P.clipPathId,C=_.state,k=C.xAxisMap,z=C.yAxisMap,I=C.offset,R=N.type.defaultProps||{},V=N.props,L=V.xAxisId,M=L===void 0?R.xAxisId:L,F=V.yAxisId,U=F===void 0?R.yAxisId:F;return O.cloneElement(N,{key:N.key||"".concat(S,"-").concat(A),xAxis:k[M],yAxis:z[U],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:W})}),Kt(_,"renderActivePoints",function(N){var S=N.item,A=N.activePoint,P=N.basePoint,W=N.childIndex,C=N.isRange,k=[],z=S.props.key,I=S.item.type.defaultProps!==void 0?tt(tt({},S.item.type.defaultProps),S.item.props):S.item.props,R=I.activeDot,V=I.dataKey,L=tt(tt({index:W,dataKey:V,cx:A.x,cy:A.y,r:4,fill:SE(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Pr(R,!1)),R2(R));return k.push(g.renderActiveDot(R,L,"".concat(z,"-activePoint-").concat(W))),P?k.push(g.renderActiveDot(R,tt(tt({},L),{},{cx:P.x,cy:P.y}),"".concat(z,"-basePoint-").concat(W))):C&&k.push(null),k}),Kt(_,"renderGraphicChild",function(N,S,A){var P=_.filterFormatItem(N,S,A);if(!P)return null;var W=_.getTooltipEventType(),C=_.state,k=C.isTooltipActive,z=C.tooltipAxis,I=C.activeTooltipIndex,R=C.activeLabel,V=_.props.children,L=ms(V,dl),M=P.props,F=M.points,U=M.isRange,X=M.baseLine,E=P.item.type.defaultProps!==void 0?tt(tt({},P.item.type.defaultProps),P.item.props):P.item.props,H=E.activeDot,G=E.hide,q=E.activeBar,K=E.activeShape,ee=!!(!G&&k&&L&&(H||q||K)),se={};W!=="axis"&&L&&L.props.trigger==="click"?se={onClick:ny(_.handleItemMouseEnter,N.props.onClick)}:W!=="axis"&&(se={onMouseLeave:ny(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:ny(_.handleItemMouseEnter,N.props.onMouseEnter)});var J=O.cloneElement(N,tt(tt({},P.props),se));function ce(de){return typeof z.dataKey=="function"?z.dataKey(de.payload):null}if(ee)if(I>=0){var pe,Q;if(z.dataKey&&!z.allowDuplicatedCategory){var Oe=typeof z.dataKey=="function"?ce:"payload.".concat(z.dataKey.toString());pe=M2(F,Oe,R),Q=U&&X&&M2(X,Oe,R)}else pe=F==null?void 0:F[I],Q=U&&X&&X[I];if(K||q){var $e=N.props.activeIndex!==void 0?N.props.activeIndex:I;return[O.cloneElement(N,tt(tt(tt({},P.props),se),{},{activeIndex:$e})),null,null]}if(!Ar(pe))return[J].concat(U0(_.renderActivePoints({item:P,activePoint:pe,basePoint:Q,childIndex:I,isRange:U})))}else{var Ae,Z=(Ae=_.getItemByXY(_.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:J},ke=Z.graphicalItem,Ge=ke.item,Le=Ge===void 0?N:Ge,qe=ke.childIndex,ge=tt(tt(tt({},P.props),se),{},{activeIndex:qe});return[O.cloneElement(Le,ge),null,null]}return U?[J,null,null]:[J,null]}),Kt(_,"renderCustomized",function(N,S,A){return O.cloneElement(N,tt(tt({key:"recharts-customized-".concat(A)},_.props),_.state))}),Kt(_,"renderMap",{CartesianGrid:{handler:ly,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:ly},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:ly},YAxis:{handler:ly},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:cx("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=NW(_.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return fRe(g,x),lRe(g,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,_=b.data,N=b.height,S=b.layout,A=ms(j,dl);if(A){var P=A.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var W=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=OA(this.state,_,P,W),k=this.state.tooltipTicks[P].coordinate,z=(this.state.offset.top+N)/2,I=S==="horizontal",R=I?{x:k,y:z}:{y:k,x:z},V=this.state.formattedGraphicalItems.find(function(M){var F=M.item;return F.type.name==="Scatter"});V&&(R=tt(tt({},R),V.props.points[P].tooltipPosition),C=V.props.points[P].tooltipPayload);var L={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:W,activePayload:C,activeCoordinate:R};this.setState(L),this.renderCursor(A),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){u4([ms(b.children,dl)],[ms(this.props.children,dl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ms(this.props.children,dl);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),N=E3e(_),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},A=_.width/j.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,A);if(!P)return null;var W=this.state,C=W.xAxisMap,k=W.yAxisMap,z=this.getTooltipEventType();if(z!=="axis"&&C&&k){var I=uu(C).scale,R=uu(k).scale,V=I&&I.invert?I.invert(S.chartX):null,L=R&&R.invert?R.invert(S.chartY):null;return tt(tt({},S),{},{xValue:V,yValue:L})}var M=BI(this.state,this.props.data,this.props.layout,P);return M?tt(tt({},S),M):null}},{key:"inRange",value:function(b,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/_,A=j/_;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,W=S>=P.left&&S<=P.left+P.width&&A>=P.top&&A<=P.top+P.height;return W?{x:S,y:A}:null}var C=this.state,k=C.angleAxisMap,z=C.radiusAxisMap;if(k&&z){var I=uu(k);return hL({x:S,y:A},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),_=ms(b,dl),N={};_&&j==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=R2(this.props,this.handleOuterEvent);return tt(tt({},S),N)}},{key:"addListener",value:function(){Kj.on(Yj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Kj.removeListener(Yj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,_){for(var N=this.state.formattedGraphicalItems,S=0,A=N.length;S<A;S++){var P=N[S];if(P.item===b||P.props.key===b.key||j===uc(P.item.type)&&_===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,_=j.left,N=j.top,S=j.height,A=j.width;return Ne.createElement("defs",null,Ne.createElement("clipPath",{id:b},Ne.createElement("rect",{x:_,y:N,height:S,width:A})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=II(_,2),S=N[0],A=N[1];return tt(tt({},j),{},Kt({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=II(_,2),S=N[0],A=N[1];return tt(tt({},j),{},Kt({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,_=j.formattedGraphicalItems,N=j.activeItem;if(_&&_.length)for(var S=0,A=_.length;S<A;S++){var P=_[S],W=P.props,C=P.item,k=C.type.defaultProps!==void 0?tt(tt({},C.type.defaultProps),C.props):C.props,z=uc(C.type);if(z==="Bar"){var I=(W.data||[]).find(function(M){return Y8e(b,M)});if(I)return{graphicalItem:P,payload:I}}else if(z==="RadialBar"){var R=(W.data||[]).find(function(M){return hL(b,M)});if(R)return{graphicalItem:P,payload:R}}else if(f_(P,N)||h_(P,N)||Ev(P,N)){var V=QFe({graphicalItem:P,activeTooltipItem:N,itemData:k.data}),L=k.activeIndex===void 0?V:k.activeIndex;return{graphicalItem:tt(tt({},P),{},{childIndex:L}),payload:Ev(P,N)?k.data[V]:P.props.data[V]}}}return null}},{key:"render",value:function(){var b=this;if(!Z8(this))return null;var j=this.props,_=j.children,N=j.className,S=j.width,A=j.height,P=j.style,W=j.compact,C=j.title,k=j.desc,z=MI(j,rRe),I=Pr(z,!1);if(W)return Ne.createElement(fI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement(f4,Dh({},I,{width:S,height:A,title:C,desc:k}),this.renderClipPath(),tF(_,this.renderMap)));if(this.props.accessibilityLayer){var R,V;I.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,I.role=(V=this.props.role)!==null&&V!==void 0?V:"application",I.onKeyDown=function(M){b.accessibilityManager.keyboardEvent(M)},I.onFocus=function(){b.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return Ne.createElement(fI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement("div",Dh({className:Ir("recharts-wrapper",N),style:tt({position:"relative",cursor:"default",width:S,height:A},P)},L,{ref:function(F){b.container=F}}),Ne.createElement(f4,Dh({},I,{width:S,height:A,title:C,desc:k,style:xRe}),this.renderClipPath(),tF(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Kt(v,"displayName",r),Kt(v,"defaultProps",tt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Kt(v,"getDerivedStateFromProps",function(x,g){var y=x.dataKey,b=x.data,j=x.children,_=x.width,N=x.height,S=x.layout,A=x.stackOffset,P=x.margin,W=g.dataStartIndex,C=g.dataEndIndex;if(g.updateId===void 0){var k=UI(x);return tt(tt(tt({},k),{},{updateId:0},p(tt(tt({props:x},k),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:P,prevChildren:j})}if(y!==g.prevDataKey||b!==g.prevData||_!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||A!==g.prevStackOffset||!Jh(P,g.prevMargin)){var z=UI(x),I={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},R=tt(tt({},BI(g,b,S)),{},{updateId:g.updateId+1}),V=tt(tt(tt({},z),I),R);return tt(tt(tt({},V),p(tt({props:x},V),g)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:P,prevChildren:j})}if(!u4(j,g.prevChildren)){var L,M,F,U,X=ms(j,P0),E=X&&(L=(M=X.props)===null||M===void 0?void 0:M.startIndex)!==null&&L!==void 0?L:W,H=X&&(F=(U=X.props)===null||U===void 0?void 0:U.endIndex)!==null&&F!==void 0?F:C,G=E!==W||H!==C,q=!Ar(b),K=q&&!G?g.updateId:g.updateId+1;return tt(tt({updateId:K},p(tt(tt({props:x},g),{},{updateId:K,dataStartIndex:E,dataEndIndex:H}),g)),{},{prevChildren:j,dataStartIndex:E,dataEndIndex:H})}return null}),Kt(v,"renderActiveDot",function(x,g,y){var b;return O.isValidElement(x)?b=O.cloneElement(x,g):br(x)?b=x(g):b=Ne.createElement(AE,g),Ne.createElement(ra,{className:"recharts-active-dot",key:y},b)});var m=O.forwardRef(function(g,y){return Ne.createElement(v,Dh({},g,{ref:y}))});return m.displayName=v.displayName,m},ERe=CRe({chartName:"LineChart",GraphicalChild:vx,axisComponents:[{axisType:"xAxis",AxisComp:y_},{axisType:"yAxis",AxisComp:b_}],formatAxisMap:jLe});const kRe=({formData:e,handleChange:t})=>s.jsxs("div",{className:"border border-slate-800 rounded-sm mb-6",children:[s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.limud_learning||"",onChange:r=>t("limud_learning",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Learning"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.ivri_language||"",onChange:r=>t("ivri_language",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Hebrew"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.hitnahagut_behavior||"",onChange:r=>t("hitnahagut_behavior",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Behavior"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.emotional||"",onChange:r=>t("emotional",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Emotional"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.social||"",onChange:r=>t("social",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Social"})]}),s.jsxs("div",{className:"grid grid-cols-12 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"General notes...",value:e.remarks||"",onChange:r=>t("remarks",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Notes / Other"})]}),s.jsxs("div",{className:"my-6",dir:"rtl",children:[s.jsx("h3",{className:"text-center font-bold mb-2 border-b-2 border-slate-800 pb-1 w-full",children:"Summary of the Situation"}),s.jsx("textarea",{className:"w-full p-2 border border-slate-300 rounded min-h-[100px]",placeholder:"Summary of the situation...",value:e.summary||"",onChange:r=>t("summary",r.target.value)})]}),s.jsxs("div",{className:"mb-8",dir:"rtl",children:[s.jsx("h3",{className:"text-center font-bold mb-2 border-b-2 border-slate-800 pb-1 w-full",children:"Plan"}),s.jsx("textarea",{className:"w-full p-2 border border-slate-300 rounded min-h-[100px]",placeholder:"Action plan...",value:e.plan||"",onChange:r=>t("plan",r.target.value)})]})]}),PRe=({schema:e,customData:t,onChange:r})=>s.jsx("div",{className:"space-y-6 mb-8",children:e.map(n=>{var a;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:[n.label," ",n.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),n.type==="text"&&s.jsx(We,{value:t[n.id]||"",onChange:i=>r(n.id,i.target.value),placeholder:"Your answer..."}),n.type==="number"&&s.jsx(We,{type:"number",value:t[n.id]||"",onChange:i=>r(n.id,i.target.value),placeholder:"0"}),n.type==="date"&&s.jsx(We,{type:"date",value:t[n.id]||"",onChange:i=>r(n.id,i.target.value)}),n.type==="textarea"&&s.jsx("textarea",{className:"w-full p-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-400",rows:4,value:t[n.id]||"",onChange:i=>r(n.id,i.target.value)}),n.type==="select"&&s.jsxs(_t,{value:t[n.id]||"",onValueChange:i=>r(n.id,i),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select an option"})}),s.jsx(yt,{children:(a=n.options)==null?void 0:a.map((i,o)=>s.jsx(De,{value:i,children:i},o))})]}),n.type==="checkbox"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300",checked:!!t[n.id],onChange:i=>r(n.id,i.target.checked)}),s.jsx("span",{className:"text-sm text-slate-600",children:"Yes"})]})]},n.id)})}),ORe=({student:e,assessment:t=null,onSave:r,onCancel:n})=>{const{toast:a}=Tr(),[i,o]=O.useState([]),[l,c]=O.useState("standard"),[u,d]=O.useState(null),[f,h]=O.useState({teacher_name:"",date:new Date().toISOString().split("T")[0],limud_learning:"",ivri_language:"",hitnahagut_behavior:"",emotional:"",social:"",remarks:"",summary:"",plan:"",status:"draft",custom_data:{}});O.useEffect(()=>{p(),t?(h(t),t.template_id&&c(t.template_id)):e&&h(g=>({...g,teacher_name:e.teacher||""}))},[e,t]);const p=async()=>{const{data:g}=await je.from("assessment_templates").select("*");o(g||[])};O.useEffect(()=>{if(l&&l!=="standard"){const g=i.find(y=>y.id===l);d(g)}else d(null)},[l,i]);const v=(g,y)=>{h(b=>({...b,[g]:y}))},m=(g,y)=>{h(b=>({...b,custom_data:{...b.custom_data,[g]:y}}))},x=async g=>{const y={...f,status:g,student_id:e.id,template_id:l==="standard"?null:l};let b;t!=null&&t.id?b=await je.from("assessments").update(y).eq("id",t.id):b=await je.from("assessments").insert([y]),b.error?a({variant:"destructive",title:"Error",description:"Failed to save assessment"}):(a({title:g==="final"?"Assessment Finalized":"Draft Saved",description:`Assessment for ${e.name} has been saved.`}),r&&r())};return s.jsxs("div",{className:"bg-white rounded-lg border shadow-sm max-w-4xl mx-auto p-8 font-sans animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-1",children:u?u.name:"Standard Assessment"}),s.jsx("p",{className:"text-sm text-slate-500",children:u?u.description:"Official Special Education Form"})]}),!t&&s.jsxs("div",{className:"w-64",children:[s.jsx(be,{children:"Select Template"}),s.jsxs(_t,{value:l,onValueChange:c,children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"standard",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ss,{size:14})," Standard Hebrew Form"]})}),i.map(g=>s.jsx(De,{value:g.id,children:g.name},g.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 text-right bg-slate-50 p-4 rounded-md border",dir:"rtl",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Student Name:"}),s.jsx("span",{children:e.name})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Son of Rabbi:"}),s.jsx("span",{children:e.father_name||"_________"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Class:"}),s.jsx("span",{className:"ml-4",children:e.class}),s.jsx("span",{className:"font-bold",children:"Teacher:"}),s.jsx("input",{className:"border-b border-slate-300 bg-transparent focus:outline-none",value:f.teacher_name,onChange:g=>v("teacher_name",g.target.value)})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Date:"}),s.jsx("input",{type:"date",className:"border-b border-slate-300 bg-transparent focus:outline-none",value:f.date,onChange:g=>v("date",g.target.value)})]})]})]}),l==="standard"?s.jsx(kRe,{formData:f,handleChange:v}):u&&s.jsx(PRe,{schema:u.schema,customData:f.custom_data||{},onChange:m}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t sticky bottom-0 bg-white pb-2",children:[s.jsxs(Se,{variant:"outline",onClick:n,className:"flex items-center gap-2",children:[s.jsx(K$,{size:16})," Cancel"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Se,{variant:"secondary",onClick:()=>x("draft"),className:"flex items-center gap-2",children:[s.jsx(hw,{size:16})," Save Draft"]}),s.jsxs(Se,{onClick:()=>x("final"),className:"flex items-center gap-2 bg-slate-900 text-white hover:bg-slate-800",children:[s.jsx(ZT,{size:16})," Finalize Assessment"]})]})]})]})},FRe=QT("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ft({className:e,variant:t,...r}){return s.jsx("div",{className:yr(FRe({variant:t}),e),...r})}const VI={initial_contact:{label:"Initial Contact",color:"bg-blue-100 text-blue-800 border-blue-300",icon:Ss},info_gathering:{label:"Info Gathering",color:"bg-purple-100 text-purple-800 border-purple-300",icon:La},assessment:{label:"Assessment",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:rs},plan_creation:{label:"Creating Plan",color:"bg-orange-100 text-orange-800 border-orange-300",icon:Ss},plan_review:{label:"Plan Review",color:"bg-cyan-100 text-cyan-800 border-cyan-300",icon:Qte},service_setup:{label:"Setting Up Services",color:"bg-indigo-100 text-indigo-800 border-indigo-300",icon:Qs},active_monitoring:{label:"Active Monitoring",color:"bg-green-100 text-green-800 border-green-300",icon:Dy},plan_adjustment:{label:"Plan Adjustment",color:"bg-red-100 text-red-800 border-red-300",icon:rs},completed:{label:"Completed",color:"bg-slate-100 text-slate-800 border-slate-300",icon:Di}},DRe=({stage:e,showIcon:t=!0,className:r=""})=>{const n=VI[e]||VI.initial_contact,a=n.icon;return s.jsxs(Ft,{variant:"outline",className:`${n.color} ${r}`,children:[t&&s.jsx(a,{size:14,className:"mr-1"}),n.label]})},LRe=({isOpen:e,onClose:t,studentId:r,plan:n,onSuccess:a})=>{const{toast:i}=Tr(),[o,l]=O.useState(!1),[c,u]=O.useState(null),[d,f]=O.useState([]),[h,p]=O.useState({goals:"",social_emotional_notes:"",kriah_notes:"",limud_notes:"",interventions:[{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}],review_frequency:"weekly",created_by:"",reviewed_by:"",status:"draft"});O.useEffect(()=>{e&&(v(),m(),n?p({...n,interventions:n.interventions||[{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}]}):x())},[e,n,r]);const v=async()=>{const{data:_}=await je.from("students").select("*").eq("id",r).single();u(_)},m=async()=>{const{data:_}=await je.from("app_users").select("id, name").eq("role","tutor").order("name");f(_||[])},x=()=>{p({goals:"",social_emotional_notes:"",kriah_notes:"",limud_notes:"",interventions:[{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}],review_frequency:"weekly",created_by:"",reviewed_by:"",status:"draft"})},g=()=>{p({...h,interventions:[...h.interventions,{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}]})},y=_=>{p({...h,interventions:h.interventions.filter((N,S)=>S!==_)})},b=(_,N,S)=>{const A=[...h.interventions];A[_][N]=S,p({...h,interventions:A})},j=async _=>{_.preventDefault(),l(!0);try{const N={student_id:r,...h,updated_at:new Date().toISOString()};n?await je.from("student_plans").update(N).eq("id",n.id):(N.created_at=new Date().toISOString(),await je.from("student_plans").insert([N])),i({title:"Success",description:"Plan saved successfully"}),a(),t()}catch(N){console.error(N),i({variant:"destructive",title:"Error",description:"Failed to save plan"})}finally{l(!1)}};return s.jsx(pr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(mr,{children:s.jsxs(gr,{children:[n?"Edit Student Plan":"Create Student Plan",c&&` - ${c.name}`]})}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"goals",children:"Overall Goals & Objectives"}),s.jsx(Er,{id:"goals",value:h.goals,onChange:_=>p({...h,goals:_.target.value}),placeholder:"What are the main goals for this student?",rows:3,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"social",children:"Social/Emotional Notes"}),s.jsx(Er,{id:"social",value:h.social_emotional_notes,onChange:_=>p({...h,social_emotional_notes:_.target.value}),placeholder:"Assessment findings...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"kriah",children:"Kriah (Reading) Notes"}),s.jsx(Er,{id:"kriah",value:h.kriah_notes,onChange:_=>p({...h,kriah_notes:_.target.value}),placeholder:"Assessment findings...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"limud",children:"Limud (Learning) Notes"}),s.jsx(Er,{id:"limud",value:h.limud_notes,onChange:_=>p({...h,limud_notes:_.target.value}),placeholder:"Assessment findings...",rows:3})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(be,{children:"Interventions (Tutors/Therapists/Mentors)"}),s.jsxs(Se,{type:"button",size:"sm",variant:"outline",onClick:g,children:[s.jsx(on,{size:16,className:"mr-1"})," Add Intervention"]})]}),h.interventions.map((_,N)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3 bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(be,{className:"text-sm font-semibold",children:["Intervention #",N+1]}),h.interventions.length>1&&s.jsx(Se,{type:"button",size:"sm",variant:"ghost",onClick:()=>y(N),children:s.jsx(Qa,{size:16,className:"text-red-500"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Type"}),s.jsxs(_t,{value:_.type,onValueChange:S=>b(N,"type",S),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"tutor",children:"Tutor"}),s.jsx(De,{value:"therapist",children:"Therapist"}),s.jsx(De,{value:"mentor",children:"Mentor"}),s.jsx(De,{value:"other",children:"Other Support"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Assign to Tutor"}),s.jsxs(_t,{value:_.tutor_id,onValueChange:S=>b(N,"tutor_id",S),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select tutor..."})}),s.jsx(yt,{children:d.map(S=>s.jsx(De,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Description"}),s.jsx(We,{value:_.description,onChange:S=>b(N,"description",S.target.value),placeholder:"e.g., Reading support"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Frequency"}),s.jsx(We,{value:_.frequency,onChange:S=>b(N,"frequency",S.target.value),placeholder:"e.g., 2x weekly"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(be,{children:"Specific Goals for this Intervention"}),s.jsx(Er,{value:_.goals,onChange:S=>b(N,"goals",S.target.value),placeholder:"What should this intervention achieve?",rows:2})]})]})]},N))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Review Frequency"}),s.jsxs(_t,{value:h.review_frequency,onValueChange:_=>p({...h,review_frequency:_}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"weekly",children:"Weekly"}),s.jsx(De,{value:"biweekly",children:"Bi-weekly"}),s.jsx(De,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Plan Status"}),s.jsxs(_t,{value:h.status,onValueChange:_=>p({...h,status:_}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"draft",children:"Draft"}),s.jsx(De,{value:"pending_review",children:"Pending Review"}),s.jsx(De,{value:"approved",children:"Approved"}),s.jsx(De,{value:"active",children:"Active"}),s.jsx(De,{value:"needs_adjustment",children:"Needs Adjustment"})]})]})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(Se,{type:"submit",disabled:o,children:o?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(hw,{size:16,className:"mr-2"})," Save Plan"]})})]})]})]})})};async function IG({to:e,subject:t,body:r,from:n,relatedType:a,relatedId:i,sentBy:o}){const l=Array.isArray(e)?e:[e],c=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:l,subject:t,html:r.replace(/\n/g,"<br>"),text:r,from:n||"School Management <onboarding@resend.dev>",relatedType:a||null,relatedId:i||null,sentBy:o||null})}),u=await c.json();if(!c.ok)throw new Error(u.error||`Failed to send email (${c.status})`);return u}const xx=({isOpen:e,onClose:t,defaultSubject:r="",defaultBody:n="",currentUser:a,relatedType:i,relatedId:o})=>{const{toast:l}=Tr(),[c,u]=O.useState(!1),[d,f]=O.useState({recipients:[""],subject:r,body:n});Ne.useEffect(()=>{e&&f({recipients:[""],subject:r||"",body:n||""})},[e,r,n]);const h=()=>{f(x=>({...x,recipients:[...x.recipients,""]}))},p=x=>{f(g=>({...g,recipients:g.recipients.filter((y,b)=>b!==x)}))},v=(x,g)=>{f(y=>({...y,recipients:y.recipients.map((b,j)=>j===x?g:b)}))},m=async()=>{const x=d.recipients.filter(g=>g.trim()&&g.includes("@"));if(x.length===0){l({variant:"destructive",title:"Error",description:"Please add at least one email address"});return}if(!d.subject.trim()){l({variant:"destructive",title:"Error",description:"Please enter a subject"});return}u(!0);try{await IG({to:x,subject:d.subject,body:d.body,relatedType:i||null,relatedId:o||null,sentBy:a==null?void 0:a.id}),l({title:"Email Sent",description:`Email sent successfully to ${x.length} recipient(s)`}),t()}catch(g){console.error("Error sending email:",g),l({variant:"destructive",title:"Email Failed",description:g.message||"Failed to send email. Please try again."})}finally{u(!1)}};return s.jsx(pr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-lg",dir:"rtl",children:[s.jsx(mr,{children:s.jsxs(gr,{className:"flex items-center gap-2",children:[s.jsx(to,{className:"h-5 w-5 text-blue-600"}),"Send Email"]})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"To (email addresses)"}),d.recipients.map((x,g)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(We,{type:"email",value:x,onChange:y=>v(g,y.target.value),placeholder:"email@example.com",className:"flex-1",dir:"ltr"}),d.recipients.length>1&&s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>p(g),children:s.jsx(Y0,{className:"h-4 w-4"})})]},g)),s.jsxs(Se,{variant:"outline",size:"sm",onClick:h,children:[s.jsx(on,{className:"h-4 w-4 ml-1"})," Add Email"]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Subject"}),s.jsx(We,{value:d.subject,onChange:x=>f({...d,subject:x.target.value}),placeholder:"Email subject"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Content"}),s.jsx(Er,{value:d.body,onChange:x=>f({...d,body:x.target.value}),rows:6,placeholder:"Write the email content here..."})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(Se,{onClick:m,disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[c?s.jsx(na,{className:"h-4 w-4 animate-spin ml-2"}):s.jsx(to,{className:"h-4 w-4 ml-2"}),"Send Email"]})]})]})})},MG=({studentId:e,onBack:t})=>{var bt,St,Et;const{toast:r}=Tr(),[n,a]=O.useState(null),[i,o]=O.useState("overview"),[l,c]=O.useState("all"),[u,d]=O.useState(!1),[f,h]=O.useState("credit"),[p,v]=O.useState(""),[m,x]=O.useState(""),[g,y]=O.useState(!1),[b,j]=O.useState([]),[_,N]=O.useState(""),[S,A]=O.useState(""),[P,W]=O.useState("existing"),[C,k]=O.useState({calls:[],issues:[],grades:[],assessments:[],interventions:[],meetings:[],plans:[],progress_reviews:[],studentFees:[],payments:[]}),[z,I]=O.useState(!1),[R,V]=O.useState(null),[L,M]=O.useState(!1),[F,U]=O.useState(null),[X,E]=O.useState([]),[H,G]=O.useState(null),[q,K]=O.useState([]),[ee,se]=O.useState(!1),[J,ce]=O.useState(null),[pe,Q]=O.useState({title:"",content:"",note_type:"general",edit_mode:"update"}),[Oe,$e]=O.useState(!1),[Ae,Z]=O.useState({});O.useEffect(()=>{Ge(),ke()},[e]);const ke=async()=>{try{const{data:_e,error:ot}=await je.from("fees").select("*, fee_type:fee_types(name, category)").order("name");if(ot){console.error("Error loading fees:",ot);return}j(_e||[])}catch(_e){console.error("Error loading fees:",_e)}},Ge=async()=>{try{const{data:_e}=await je.from("students").select("*").eq("id",e).single();a(_e);const[ot,rt,qt,gt,jr,Gt,rr,Hr,Ht,Kr]=await Promise.all([je.from("call_logs").select("*").eq("student_id",e).order("created_at",{ascending:!1}),je.from("issues").select("*").eq("student_id",e).order("created_at",{ascending:!1}),je.from("grades").select("*").eq("student_id",e).order("created_at",{ascending:!0}),je.from("assessments").select("*").eq("student_id",e).order("created_at",{ascending:!1}),je.from("interventions").select("*").eq("student_id",e).order("start_date",{ascending:!1}),je.from("meetings").select("*").eq("student_id",e).order("meeting_date",{ascending:!1}),je.from("student_plans").select("*").eq("student_id",e).order("created_at",{ascending:!1}),je.from("progress_reviews").select("*").eq("student_id",e).order("created_at",{ascending:!1}),je.from("student_fees").select("*, fee:fees(name, description, due_date, academic_year, fee_type:fee_types(name, category))").eq("student_id",e).order("created_at",{ascending:!1}),je.from("payments").select("*, student_fee:student_fees(id, fee:fees(name, academic_year))").eq("student_id",e).order("payment_date",{ascending:!1})]);k({calls:ot.data||[],issues:rt.data||[],grades:qt.data||[],assessments:gt.data||[],interventions:jr.data||[],meetings:Gt.data||[],plans:rr.data||[],progress_reviews:Hr.data||[],studentFees:Ht.data||[],payments:Kr.data||[]});try{const{data:le}=await je.from("student_notes").select("*").eq("student_id",e).eq("is_active",!0).order("created_at",{ascending:!1});E(le||[])}catch{console.log("student_notes not available yet")}try{const{data:le}=await je.from("late_arrivals").select("*").eq("student_id",e).order("date",{ascending:!1});K(le||[])}catch{console.log("late_arrivals not available yet")}try{const{data:le}=await je.from("special_ed_students").select("*").eq("student_id",e).eq("is_active",!0).maybeSingle();if(le){const[$t,Cr,nr]=await Promise.all([je.from("special_ed_info_sources").select("*").eq("special_ed_student_id",le.id).order("created_at",{ascending:!1}),je.from("special_ed_evaluations").select("*").eq("special_ed_student_id",le.id).order("evaluation_date",{ascending:!1}),je.from("special_ed_tutoring").select("*, tutor:special_ed_staff(name, hebrew_name)").eq("special_ed_student_id",le.id).eq("is_active",!0)]);G({...le,info_sources:$t.data||[],evaluations:Cr.data||[],tutoring:nr.data||[]})}else G(null)}catch{console.log("special_ed tables not available yet")}}catch(_e){console.error(_e),r({variant:"destructive",title:"Error",description:"Failed to load student profile"})}},Le=()=>{I(!1),V(null),Ge()},qe=C.studentFees.filter(_e=>_e.status!=="paid"&&_e.status!=="waived"&&parseFloat(_e.amount)-parseFloat(_e.amount_paid||0)>0),ge=_e=>{h(_e),v(""),x(""),N(""),A(""),W(_e==="credit"&&qe.length>0?"existing":"new"),d(!0)},de=async()=>{var _e,ot,rt,qt;if(!p||parseFloat(p)<=0){r({variant:"destructive",title:"Error",description:"Please enter a valid amount"});return}y(!0);try{const gt=parseFloat(p),jr=m||"";if(f==="credit")if(P==="existing"&&S){const Gt=qe.find(Kr=>Kr.id===S);if(!Gt)throw new Error("Charge not found");const rr=parseFloat(Gt.amount_paid||0)+gt,Hr=parseFloat(Gt.amount),Ht=rr>=Hr?"paid":"partial";await je.from("student_fees").update({amount_paid:rr,status:Ht}).eq("id",S),await je.from("payments").insert({student_id:e,student_fee_id:S,amount:gt,payment_method:"cash",payment_date:new Date().toISOString().split("T")[0],notes:jr||`Payment for ${((_e=Gt.fee)==null?void 0:_e.name)||"charge"}`}),r({title:" Payment Recorded!",description:`$${gt.toFixed(2)} paid toward ${((ot=Gt.fee)==null?void 0:ot.name)||"charge"}`})}else{const Gt=_||null;if(Gt){const{data:rr}=await je.from("student_fees").insert({student_id:e,fee_id:Gt,amount:gt,amount_paid:gt,status:"paid",notes:jr}).select().single(),Hr=b.find(Ht=>Ht.id===Gt);await je.from("payments").insert({student_id:e,student_fee_id:rr.id,amount:gt,payment_method:"cash",payment_date:new Date().toISOString().split("T")[0],notes:jr||`Payment for ${(Hr==null?void 0:Hr.name)||"fee"}`})}else{let{data:rr}=await je.from("fee_types").select("id").eq("category","donation"),Hr=(rt=rr==null?void 0:rr[0])==null?void 0:rt.id;if(!Hr){const{data:$t}=await je.from("fee_types").insert({name:"Donations",description:"General donations",category:"donation",is_active:!0}).select().single();Hr=$t.id}let{data:Ht}=await je.from("fees").select("id").eq("fee_type_id",Hr).eq("academic_year","2024-2025"),Kr=(qt=Ht==null?void 0:Ht[0])==null?void 0:qt.id;if(!Kr){const{data:$t}=await je.from("fees").insert({name:"General Payment",fee_type_id:Hr,academic_year:"2024-2025",is_active:!0}).select().single();Kr=$t.id}const{data:le}=await je.from("student_fees").insert({student_id:e,fee_id:Kr,amount:gt,amount_paid:gt,status:"paid",notes:jr||"Payment/Donation"}).select().single();await je.from("payments").insert({student_id:e,student_fee_id:le.id,amount:gt,payment_method:"cash",payment_date:new Date().toISOString().split("T")[0],notes:jr||"Payment/Donation"})}r({title:" Payment Added!",description:`+$${gt.toFixed(2)} recorded`})}else{if(!_){r({variant:"destructive",title:"Error",description:"Please select what this charge is for"}),y(!1);return}await je.from("student_fees").insert({student_id:e,fee_id:_,amount:gt,amount_paid:0,status:"pending",notes:jr});const Gt=b.find(rr=>rr.id===_);r({title:" Charge Added!",description:`$${gt.toFixed(2)} charge for ${(Gt==null?void 0:Gt.name)||"fee"}`})}v(""),x(""),N(""),A(""),d(!1),Ge()}catch(gt){console.error("Transaction save error:",gt),r({variant:"destructive",title:"Error",description:"Failed to save transaction"})}finally{y(!1)}};if(!n)return s.jsx("div",{className:"p-8 text-center",children:"Loading profile..."});const ze=[{value:"general",label:"General"},{value:"teacher_meeting",label:"Teacher Meeting"},{value:"discipline",label:"Discipline"},{value:"academic",label:"Academic"},{value:"behavioral",label:"Behavior"},{value:"parent_feedback",label:"Parent Feedback"},{value:"other",label:"Other"}],Ke=async()=>{if(!pe.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{J&&pe.edit_mode==="edit"?(await je.from("student_notes").update({title:pe.title,content:pe.content,note_type:pe.note_type,previous_content:J.content,edit_mode:"edit",updated_at:new Date().toISOString()}).eq("id",J.id),r({title:"Edited",description:"Note has been updated"})):(await je.from("student_notes").insert([{student_id:e,title:pe.title||null,content:pe.content,note_type:pe.note_type,edit_mode:"update"}]),r({title:"Added",description:"Note has been added"})),se(!1),ce(null),Ge()}catch(_e){r({variant:"destructive",title:"Error",description:_e.message})}};if(z)return s.jsx(ORe,{student:n,assessment:R,onSave:Le,onCancel:()=>{I(!1),V(null)}});const ft=C.grades.map(_e=>({date:new Date(_e.date).toLocaleDateString(),grade:isNaN(_e.grade)?0:parseInt(_e.grade),subject:_e.subject})).slice(-10);return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex items-center gap-4 border-b pb-4",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(Xte,{size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:n.name}),n.workflow_stage&&s.jsx(DRe,{stage:n.workflow_stage})]}),s.jsxs("p",{className:"text-slate-500",children:["Class: ",n.class,"  Teacher: ",n.teacher]})]}),s.jsxs("div",{className:"ml-auto flex gap-2",children:[s.jsxs(Se,{onClick:()=>I(!0),variant:"outline",children:[s.jsx(on,{size:16,className:"mr-2"})," New Assessment"]}),s.jsxs(Se,{onClick:()=>{U(null),M(!0)},children:[s.jsx(on,{size:16,className:"mr-2"})," Create Plan"]})]})]}),s.jsxs(kl,{value:i,onValueChange:o,className:"w-full",children:[s.jsxs(Xo,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0 overflow-x-auto",children:[s.jsx(wr,{value:"overview",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Overview"}),s.jsxs(wr,{value:"financial",className:"data-[state=active]:border-b-2 data-[state=active]:border-green-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-2",children:[s.jsx(gs,{size:16}),"Financial"]}),s.jsx(wr,{value:"workflow",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Workflow & Plans"}),s.jsx(wr,{value:"academic",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Academic"}),s.jsx(wr,{value:"communication",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Communication"}),s.jsx(wr,{value:"intervention",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Assessments"}),s.jsxs(wr,{value:"notes",className:"data-[state=active]:border-b-2 data-[state=active]:border-purple-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-1",children:[s.jsx(d0,{size:14}),"Notes (",X.length,")"]}),s.jsxs(wr,{value:"late-arrivals",className:"data-[state=active]:border-b-2 data-[state=active]:border-orange-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-1",children:[s.jsx(Qs,{size:14}),"Late Arrivals (",q.length,")"]}),H&&s.jsxs(wr,{value:"special-ed",className:"data-[state=active]:border-b-2 data-[state=active]:border-pink-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-1",children:[s.jsx(Oy,{size:14}),"Special Education"]})]}),s.jsx(Qr,{value:"overview",className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Contact Information"})}),s.jsxs(Ze,{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"text-slate-400",size:18}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Father: ",n.father_name||"N/A"]}),s.jsx("p",{className:"text-slate-500",children:n.father_phone})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wo,{className:"text-slate-400",size:18}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Mother: ",n.mother_name||"N/A"]}),s.jsx("p",{className:"text-slate-500",children:n.mother_phone})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ef,{className:"text-slate-400",size:18}),s.jsx("p",{children:n.home_phone||"N/A"})]})]})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Quick Stats"})}),s.jsxs(Ze,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded",children:[s.jsx("span",{children:"Average Grade"}),s.jsx("span",{className:"font-bold text-blue-600",children:C.grades.length>0?Math.round(C.grades.reduce((_e,ot)=>_e+(parseInt(ot.grade)||0),0)/C.grades.length)+"%":"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded",children:[s.jsx("span",{children:"Open Issues"}),s.jsx("span",{className:"font-bold text-amber-600",children:C.issues.filter(_e=>_e.status==="open").length})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded",children:[s.jsx("span",{children:"Assessments"}),s.jsx("span",{className:"font-bold text-purple-600",children:C.assessments.length})]})]})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Recent Issues"})}),s.jsxs(Ze,{className:"space-y-3",children:[C.issues.slice(0,3).map(_e=>s.jsxs("div",{className:"flex gap-2 items-start text-sm",children:[s.jsx(Wh,{size:16,className:`shrink-0 mt-0.5 ${_e.priority==="high"?"text-red-500":"text-amber-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_e.title}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(_e.created_at).toLocaleDateString()})]})]},_e.id)),C.issues.length===0&&s.jsx("p",{className:"text-sm text-slate-400",children:"No issues recorded."})]})]})]})}),s.jsx(Qr,{value:"financial",className:"mt-6 space-y-6",children:(()=>{var Aa,rn;const ot=[...new Set(C.studentFees.map(Ye=>{var Ct;return(Ct=Ye.fee)==null?void 0:Ct.academic_year}).filter(Boolean))].sort().reverse(),rt=l==="all"?C.studentFees:C.studentFees.filter(Ye=>{var Ct;return((Ct=Ye.fee)==null?void 0:Ct.academic_year)===l}),qt=l==="all"?C.payments:C.payments.filter(Ye=>{var Ct,mt;return((mt=(Ct=Ye.student_fee)==null?void 0:Ct.fee)==null?void 0:mt.academic_year)===l}),gt=rt.filter(Ye=>{var Ct,mt;return((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)==="donation"}),jr=rt.filter(Ye=>{var Ct,mt;return((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)!=="donation"}),Gt=["tuition","registration","books"],rr=jr.filter(Ye=>{var Ct,mt;return Gt.includes((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)}),Hr=jr.filter(Ye=>{var Ct,mt;return!Gt.includes((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)}),Ht=jr.reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount)||0),0),Kr=jr.reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount_paid)||0),0),le=gt.reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount_paid)||0),0),$t=l!=="all"?l:"2024-2025",Cr=$t==="2024-2025"?"2023-2024":"2022-2023",nr=C.studentFees.filter(Ye=>{var Ct,mt,wt;return((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)==="donation"&&((wt=Ye.fee)==null?void 0:wt.academic_year)===Cr}).reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount_paid)||0),0),Bt=C.studentFees.filter(Ye=>{var Ct,mt,wt;return((mt=(Ct=Ye.fee)==null?void 0:Ct.fee_type)==null?void 0:mt.category)==="donation"&&((wt=Ye.fee)==null?void 0:wt.academic_year)===$t}).reduce((Ye,Ct)=>Ye+(parseFloat(Ct.amount_paid)||0),0),Qt=Bt-nr;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg",children:[s.jsx(J$,{size:20,className:"text-slate-600"}),s.jsx("span",{className:"font-medium",children:"Filter by Year:"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Se,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),children:"All Years"}),ot.map(Ye=>s.jsx(Se,{variant:l===Ye?"default":"outline",size:"sm",onClick:()=>c(Ye),children:Ye},Ye))]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{className:"bg-blue-50 border-blue-200",children:s.jsxs(Ze,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Charges"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:["$",Ht.toFixed(2)]}),s.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"(excludes donations)"})]})}),s.jsx(Qe,{className:"bg-green-50 border-green-200",children:s.jsxs(Ze,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["$",Kr.toFixed(2)]})]})}),s.jsx(Qe,{className:`${Ht-Kr>0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:s.jsxs(Ze,{className:"p-4",children:[s.jsx("p",{className:`text-sm font-medium ${Ht-Kr>0?"text-red-600":"text-gray-600"}`,children:"Open Balance"}),s.jsxs("p",{className:`text-2xl font-bold ${Ht-Kr>0?"text-red-800":"text-gray-800"}`,children:["$",(Ht-Kr).toFixed(2)]})]})}),s.jsx(Qe,{className:"bg-pink-50 border-pink-200",children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("p",{className:"text-sm text-pink-600 font-medium flex items-center gap-1",children:[s.jsx(Oy,{size:14})," Donations Collected"]}),s.jsxs("p",{className:"text-2xl font-bold text-pink-800",children:["$",le.toFixed(2)]})]})})]}),s.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[s.jsx(Se,{onClick:()=>ge("credit"),className:"bg-green-600 hover:bg-green-700 text-white text-lg px-6 py-5 h-auto rounded-xl shadow-lg",size:"lg",children:" Add Payment"}),s.jsx(Se,{onClick:()=>ge("debit"),className:"bg-red-600 hover:bg-red-700 text-white text-lg px-6 py-5 h-auto rounded-xl shadow-lg",size:"lg",children:" Add Charge"})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Qe,{className:"w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(er,{className:`border-b ${f==="credit"?"bg-green-100":"bg-red-100"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(tr,{className:`text-xl flex items-center gap-2 ${f==="credit"?"text-green-800":"text-red-800"}`,children:f==="credit"?" Add Payment":" Add Charge"}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>d(!1),children:s.jsx(Y0,{size:20})})]}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["For: ",s.jsx("strong",{children:n.name})]})]}),s.jsxs(Ze,{className:"p-6 space-y-5",children:[f==="credit"?s.jsxs(s.Fragment,{children:[qe.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:"font-bold",children:"Payment Type"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Se,{type:"button",onClick:()=>{W("existing"),N("")},className:`h-12 ${P==="existing"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Pay Existing Charge"}),s.jsx(Se,{type:"button",onClick:()=>{W("new"),A("")},className:`h-12 ${P==="new"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"New Payment/Donation"})]})]}),P==="existing"&&qe.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:"font-bold text-blue-700",children:" Select Charge to Pay"}),s.jsxs(_t,{value:S,onValueChange:A,children:[s.jsx(xt,{className:"h-14 text-lg border-2 border-blue-300",children:s.jsx(jt,{placeholder:"Select a charge..."})}),s.jsx(yt,{children:qe.map(Ye=>{var mt;const Ct=parseFloat(Ye.amount)-parseFloat(Ye.amount_paid||0);return s.jsx(De,{value:Ye.id,className:"py-3",children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"font-medium",children:((mt=Ye.fee)==null?void 0:mt.name)||"Charge"}),s.jsxs("span",{className:"text-red-600 font-bold ml-4",children:["$",Ct.toFixed(2)," owed"]})]})},Ye.id)})})]}),S&&s.jsxs("p",{className:"text-sm text-blue-600",children:["Balance: $",(parseFloat(((Aa=qe.find(Ye=>Ye.id===S))==null?void 0:Aa.amount)||0)-parseFloat(((rn=qe.find(Ye=>Ye.id===S))==null?void 0:rn.amount_paid)||0)).toFixed(2)]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:"font-bold text-green-700",children:" What is this payment for? (Optional)"}),s.jsxs(_t,{value:_||"general",onValueChange:Ye=>N(Ye==="general"?"":Ye),children:[s.jsx(xt,{className:"h-12 border-2 border-green-300",children:s.jsx(jt,{placeholder:"General payment / donation"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"general",children:"General Payment / Donation"}),b.map(Ye=>{var Ct;return s.jsxs(De,{value:Ye.id,children:[Ye.name," ",(Ct=Ye.fee_type)!=null&&Ct.name?`(${Ye.fee_type.name})`:""," - ",Ye.academic_year]},Ye.id)})]})]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{className:"font-bold text-red-700",children:" What is this charge for? *"}),s.jsxs(_t,{value:_,onValueChange:N,children:[s.jsx(xt,{className:"h-14 text-lg border-2 border-red-300",children:s.jsx(jt,{placeholder:"Select fee type..."})}),s.jsx(yt,{children:b.map(Ye=>{var Ct;return s.jsxs(De,{value:Ye.id,children:[Ye.name," ",(Ct=Ye.fee_type)!=null&&Ct.name?`(${Ye.fee_type.name})`:""," - ",Ye.academic_year]},Ye.id)})})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-lg font-bold",children:"Amount ($)"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx("span",{className:`absolute left-4 top-1/2 -translate-y-1/2 text-3xl font-bold ${f==="credit"?"text-green-600":"text-red-600"}`,children:"$"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:p,onChange:Ye=>v(Ye.target.value),placeholder:"0.00",className:`text-4xl h-20 pl-12 text-center font-bold border-2 ${f==="credit"?"border-green-300 focus:border-green-500":"border-red-300 focus:border-red-500"}`})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm",children:"Note (optional)"}),s.jsx(Er,{value:m,onChange:Ye=>x(Ye.target.value),placeholder:"Additional details...",className:"mt-1",rows:2})]}),s.jsx(Se,{onClick:de,disabled:g||!p||f==="debit"&&!_,className:`w-full h-14 text-xl ${f==="credit"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:g?"Saving...":f==="credit"?s.jsx(s.Fragment,{children:" Save Payment"}):s.jsx(s.Fragment,{children:" Save Charge"})})]})]})}),(Bt>0||nr>0)&&s.jsxs(Qe,{className:"border-2 border-pink-300 bg-gradient-to-r from-pink-50 to-purple-50",children:[s.jsx(er,{className:"pb-2",children:s.jsxs(tr,{className:"text-lg flex items-center gap-2",children:[s.jsx(sre,{size:20,className:"text-pink-600"})," Donation Collection"]})}),s.jsxs(Ze,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-1",children:["Last Year (",Cr,")"]}),s.jsxs("p",{className:"text-3xl font-bold text-slate-700",children:["$",nr.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-pink-300",children:[s.jsxs("p",{className:"text-sm text-pink-600 mb-1",children:["This Year (",$t,")"]}),s.jsxs("p",{className:"text-3xl font-bold text-pink-700",children:["$",Bt.toFixed(2)]})]}),s.jsxs("div",{className:`p-4 rounded-lg border ${Qt>=0?"bg-green-50 border-green-300":"bg-amber-50 border-amber-300"}`,children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Change"}),s.jsxs("div",{className:"flex items-center gap-2",children:[Qt>=0?s.jsx(Dy,{size:24,className:"text-green-600"}):s.jsx(bre,{size:24,className:"text-amber-600"}),s.jsxs("p",{className:`text-3xl font-bold ${Qt>=0?"text-green-700":"text-amber-700"}`,children:[Qt>=0?"+":"","$",Qt.toFixed(2)]})]}),nr>0&&s.jsxs("p",{className:`text-xs mt-1 ${Qt>=0?"text-green-600":"text-amber-600"}`,children:[(Qt/nr*100).toFixed(0),"% ",Qt>=0?"increase":"decrease"]})]})]}),gt.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Donation Campaigns:"}),s.jsx("div",{className:"space-y-2",children:gt.map(Ye=>{var Ct,mt;return s.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-pink-800",children:(Ct=Ye.fee)==null?void 0:Ct.name}),s.jsx("p",{className:"text-xs text-slate-500",children:(mt=Ye.fee)==null?void 0:mt.academic_year})]}),s.jsxs("p",{className:"font-bold text-pink-600",children:["$",parseFloat(Ye.amount_paid||0).toFixed(2)]})]},Ye.id)})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Qe,{className:"border-2 border-green-300",children:[s.jsx(er,{className:"bg-green-50",children:s.jsxs(tr,{className:"text-lg flex items-center gap-2 text-green-800",children:[s.jsx(Ym,{size:20})," Payment History (",qt.length,")"]})}),s.jsx(Ze,{className:"p-4 space-y-3 max-h-96 overflow-y-auto",children:qt.length===0?s.jsxs("p",{className:"text-center text-slate-500 py-8",children:["No payments recorded ",l!=="all"?`for ${l}`:"yet"]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 bg-green-100 rounded-lg flex justify-between items-center mb-4",children:[s.jsx("span",{className:"font-medium text-green-800",children:"Total Paid:"}),s.jsxs("span",{className:"text-xl font-bold text-green-700",children:["$",qt.reduce((Ye,Ct)=>Ye+parseFloat(Ct.amount||0),0).toFixed(2)]})]}),qt.map(Ye=>{var Ct,mt;return s.jsx("div",{className:"p-3 bg-white border border-green-200 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:((mt=(Ct=Ye.student_fee)==null?void 0:Ct.fee)==null?void 0:mt.name)||"Payment"}),s.jsxs("p",{className:"text-sm text-slate-600",children:[Ye.payment_method==="cash"?" Cash":Ye.payment_method==="check"?" Check":Ye.payment_method==="credit_card"?" Credit Card":Ye.payment_method==="bank_transfer"?" Bank Transfer":Ye.payment_method,Ye.reference_number&&` - #${Ye.reference_number}`]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[new Date(Ye.payment_date).toLocaleDateString(),Ye.notes&&` - ${Ye.notes}`]})]}),s.jsxs("p",{className:"font-bold text-green-600 text-lg",children:["$",parseFloat(Ye.amount).toFixed(2)]})]})},Ye.id)})]})})]}),s.jsxs(Qe,{children:[s.jsx(er,{className:"bg-blue-50",children:s.jsxs(tr,{className:"text-lg flex items-center gap-2 text-blue-800",children:[s.jsx(Rg,{size:20}),"Charges (",jr.length,")"]})}),s.jsx(Ze,{className:"p-4 space-y-3 max-h-96 overflow-y-auto",children:jr.length===0?s.jsxs("p",{className:"text-center text-slate-500 py-8",children:["No charges recorded ",l!=="all"?`for ${l}`:""]}):s.jsxs(s.Fragment,{children:[rr.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-sm font-bold text-red-700 mb-2 flex items-center gap-1",children:[s.jsx(rs,{size:14})," Mandatory Fees (",rr.length,")"]}),rr.map(Ye=>{var Ct,mt,wt,Ur;return s.jsxs("div",{className:"p-3 mb-2 bg-red-50 border border-red-200 rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:((Ct=Ye.fee)==null?void 0:Ct.name)||"Charge"}),s.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-red-200 text-red-800 rounded font-medium",children:"Required"})]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(wt=(mt=Ye.fee)==null?void 0:mt.fee_type)==null?void 0:wt.name,((Ur=Ye.fee)==null?void 0:Ur.academic_year)&&s.jsxs("span",{className:"text-blue-600 ml-2",children:["| ",Ye.fee.academic_year]})]}),Ye.notes&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Ye.notes})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(Ye.amount).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Paid: $",parseFloat(Ye.amount_paid||0).toFixed(2)]}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Ye.status==="paid"?"bg-green-100 text-green-800":Ye.status==="partial"?"bg-blue-100 text-blue-800":Ye.status==="pending"?"bg-yellow-100 text-yellow-800":Ye.status==="waived"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:Ye.status})]})]},Ye.id)})]}),Hr.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold text-blue-700 mb-2 flex items-center gap-1",children:[s.jsx(YP,{size:14})," Optional Fees (",Hr.length,")"]}),Hr.map(Ye=>{var Ct,mt,wt,Ur;return s.jsxs("div",{className:"p-3 mb-2 bg-white border rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:((Ct=Ye.fee)==null?void 0:Ct.name)||"Charge"}),s.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Optional"})]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(wt=(mt=Ye.fee)==null?void 0:mt.fee_type)==null?void 0:wt.name,((Ur=Ye.fee)==null?void 0:Ur.academic_year)&&s.jsxs("span",{className:"text-blue-600 ml-2",children:["| ",Ye.fee.academic_year]})]}),Ye.notes&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Ye.notes})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(Ye.amount).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Paid: $",parseFloat(Ye.amount_paid||0).toFixed(2)]}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Ye.status==="paid"?"bg-green-100 text-green-800":Ye.status==="partial"?"bg-blue-100 text-blue-800":Ye.status==="pending"?"bg-yellow-100 text-yellow-800":Ye.status==="waived"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:Ye.status})]})]},Ye.id)})]})]})})]})]})]})})()}),s.jsx(Qr,{value:"workflow",className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Student Plans"}),s.jsxs(Se,{size:"sm",onClick:()=>{U(null),M(!0)},children:[s.jsx(on,{size:14,className:"mr-1"})," New Plan"]})]}),C.plans.length>0?s.jsx("div",{className:"space-y-3",children:C.plans.map(_e=>{var ot;return s.jsx(Qe,{className:"cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>{U(_e),M(!0)},children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ss,{size:18,className:"text-blue-500"}),s.jsxs("span",{className:"font-semibold",children:["Plan created ",new Date(_e.created_at).toLocaleDateString()]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${_e.status==="active"?"bg-green-100 text-green-800":_e.status==="approved"?"bg-blue-100 text-blue-800":_e.status==="needs_adjustment"?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"}`,children:(ot=_e.status)==null?void 0:ot.replace("_"," ")})]}),s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-2",children:_e.goals}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[_e.interventions&&_e.interventions.length>0&&s.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:[_e.interventions.length," intervention",_e.interventions.length!==1?"s":""]}),s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded capitalize",children:[_e.review_frequency||"monthly"," reviews"]})]})]})},_e.id)})}):s.jsx(Qe,{className:"bg-slate-50",children:s.jsxs(Ze,{className:"p-8 text-center text-slate-500",children:[s.jsx(Ss,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No plans created yet"}),s.jsx(Se,{size:"sm",className:"mt-3",onClick:()=>M(!0),children:"Create First Plan"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Progress Reviews"}),C.progress_reviews.length>0?s.jsx("div",{className:"space-y-3",children:C.progress_reviews.map(_e=>s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[_e.progress_rating==="excellent"&&s.jsx(Dy,{className:"text-green-600",size:18}),_e.progress_rating==="good"&&s.jsx(Di,{className:"text-blue-600",size:18}),_e.progress_rating==="fair"&&s.jsx(Qs,{className:"text-yellow-600",size:18}),_e.progress_rating==="poor"&&s.jsx(rs,{className:"text-red-600",size:18}),s.jsxs("span",{className:"font-semibold capitalize",children:[_e.progress_rating," Progress"]})]}),s.jsx("span",{className:"text-xs text-slate-500",children:new Date(_e.created_at).toLocaleDateString()})]}),_e.notes&&s.jsx("p",{className:"text-sm text-slate-600 mb-2",children:_e.notes}),_e.concerns&&s.jsxs("div",{className:"text-xs bg-orange-50 border border-orange-200 rounded p-2 mb-2",children:[s.jsx("span",{className:"font-semibold text-orange-800",children:"Concerns: "}),s.jsx("span",{className:"text-orange-700",children:_e.concerns})]}),_e.escalate_to_mz&&s.jsxs("div",{className:"text-xs bg-red-50 border border-red-200 rounded p-2 flex items-center gap-1",children:[s.jsx(rs,{size:12,className:"text-red-600"}),s.jsx("span",{className:"text-red-800 font-semibold",children:"Escalated to M.Z. - Needs Plan Adjustment"})]})]})},_e.id))}):s.jsx(Qe,{className:"bg-slate-50",children:s.jsxs(Ze,{className:"p-8 text-center text-slate-500",children:[s.jsx(Dy,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No progress reviews yet"})]})})]})]})}),s.jsxs(Qr,{value:"academic",className:"mt-6 space-y-6",children:[s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Performance Trends"})}),s.jsx(Ze,{className:"h-80",children:ft.length>0?s.jsx(_3e,{width:"100%",height:"100%",children:s.jsxs(ERe,{data:ft,children:[s.jsx(yG,{strokeDasharray:"3 3"}),s.jsx(y_,{dataKey:"date"}),s.jsx(b_,{}),s.jsx(dl,{}),s.jsx(vx,{type:"monotone",dataKey:"grade",stroke:"#2563eb",strokeWidth:2})]})}):s.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"No grade data available"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Grade History"}),s.jsxs("div",{className:"bg-white rounded border divide-y max-h-[400px] overflow-y-auto",children:[C.grades.map(_e=>s.jsxs("div",{className:"p-3 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_e.subject}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(_e.date).toLocaleDateString()})]}),s.jsx("span",{className:"font-bold bg-slate-100 px-2 py-1 rounded",children:_e.grade})]},_e.id)),C.grades.length===0&&s.jsx("p",{className:"p-4 text-center text-slate-400",children:"No grades recorded."})]})]})})]}),s.jsx(Qr,{value:"communication",className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs(Qe,{children:[s.jsxs(er,{className:"flex flex-row items-center justify-between",children:[s.jsx(tr,{children:"Detailed Call History"}),s.jsxs("span",{className:"text-sm text-slate-500",children:[C.calls.length," Total Calls"]})]}),s.jsx(Ze,{children:s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-medium border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Date & Time"}),s.jsx("th",{className:"px-4 py-3",children:"Contact"}),s.jsx("th",{className:"px-4 py-3",children:"Outcome"}),s.jsx("th",{className:"px-4 py-3",children:"Notes"}),s.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),s.jsxs("tbody",{className:"divide-y",children:[C.calls.map(_e=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:new Date(_e.created_at).toLocaleDateString()}),s.jsx("span",{className:"text-xs text-slate-500",children:new Date(_e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("p",{className:"font-medium",children:_e.contact_person}),s.jsx("p",{className:"text-xs text-slate-500",children:_e.phone_number})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-slate-100 text-slate-700 border",children:_e.outcome||"N/A"})}),s.jsx("td",{className:"px-4 py-3 max-w-xs truncate",title:_e.notes,children:_e.notes||"-"}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsxs("span",{className:"flex items-center text-green-600 gap-1 text-xs",children:[s.jsx(Di,{size:14})," Logged"]}),_e.follow_up_date&&s.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[s.jsx(Qs,{size:10})," ",new Date(_e.follow_up_date).toLocaleDateString()]})]})]},_e.id)),C.calls.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-400",children:"No call logs found for this student."})})]})]})})})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Meetings"})}),s.jsxs(Ze,{className:"space-y-4",children:[C.meetings.map(_e=>s.jsxs("div",{className:"flex gap-3 items-start p-3 bg-slate-50 rounded",children:[s.jsx(Cs,{className:"shrink-0 text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_e.title}),s.jsxs("p",{className:"text-sm text-slate-600",children:[new Date(_e.meeting_date).toLocaleDateString()," at ",new Date(_e.meeting_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1 capitalize",children:["Status: ",_e.status]})]})]},_e.id)),C.meetings.length===0&&s.jsx("p",{className:"text-center text-slate-400",children:"No meetings scheduled."})]})]})]})}),s.jsxs(Qr,{value:"intervention",className:"mt-6 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h3",{className:"text-xl font-bold",children:"Assessments & Plans"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-slate-600",children:"Assessments History"}),C.assessments.map(_e=>s.jsx(Qe,{className:"cursor-pointer hover:border-blue-300 transition-colors",onClick:()=>{V(_e),I(!0)},children:s.jsxs(Ze,{className:"p-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ss,{className:"text-slate-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[_e.template_id?"Custom Assessment":"Standard Assessment",s.jsx("span",{className:"text-slate-400 mx-2",children:"|"}),new Date(_e.date).toLocaleDateString()]}),s.jsxs("p",{className:"text-xs text-slate-500",children:["By ",_e.teacher_name]})]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${_e.status==="draft"?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:_e.status})]})},_e.id)),C.assessments.length===0&&s.jsx("div",{className:"border-2 border-dashed border-slate-200 rounded p-6 text-center text-slate-400",children:"No assessments created yet."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-slate-600",children:"Intervention Plans"}),s.jsx(Qe,{className:"bg-slate-50",children:s.jsxs(Ze,{className:"p-4 text-center text-slate-500 italic flex flex-col items-center",children:[s.jsx(YP,{className:"mb-2"}),"Intervention plans are typically generated from Finalized Assessments."]})})]})]})]}),s.jsxs(Qr,{value:"notes",className:"mt-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Notes / Communication Log"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>{Z({subject:`About ${n.hebrew_name||n.first_name||n.name}`,body:`Information about ${n.hebrew_name||n.first_name||n.name}

`}),$e(!0)},children:[s.jsx(to,{size:14,className:"ml-1"})," Email"]}),s.jsxs(Se,{size:"sm",onClick:()=>{ce(null),Q({title:"",content:"",note_type:"general",edit_mode:"update"}),se(!0)},children:[s.jsx(on,{size:14,className:"ml-1"})," New Note"]})]})]}),X.length===0?s.jsx(Qe,{className:"bg-slate-50",children:s.jsxs(Ze,{className:"p-8 text-center text-slate-500",children:[s.jsx(d0,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No notes recorded yet"}),s.jsx(Se,{size:"sm",className:"mt-3",onClick:()=>{ce(null),Q({title:"",content:"",note_type:"general",edit_mode:"update"}),se(!0)},children:"Add First Note"})]})}):s.jsx("div",{className:"space-y-3",children:X.map(_e=>{var ot;return s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx(Ft,{variant:"outline",className:"text-xs",children:((ot=ze.find(rt=>rt.value===_e.note_type))==null?void 0:ot.label)||_e.note_type}),_e.title&&s.jsx("span",{className:"font-bold",children:_e.title}),_e.edit_mode==="edit"&&s.jsx(Ft,{className:"bg-orange-100 text-orange-800 text-xs",children:"Edited"})]}),s.jsx("p",{className:"text-slate-700 mt-1",children:_e.content}),_e.previous_content&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-orange-600 cursor-pointer",children:"Previous version"}),s.jsx("p",{className:"text-xs text-slate-400 mt-1 p-2 bg-slate-50 rounded",children:_e.previous_content})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-400",children:[s.jsx("span",{children:new Date(_e.created_at).toLocaleDateString("he-IL")}),s.jsx("span",{children:new Date(_e.created_at).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})}),_e.created_by_name&&s.jsxs("span",{children:["By: ",_e.created_by_name]})]})]}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{ce(_e),Q({title:_e.title||"",content:_e.content,note_type:_e.note_type,edit_mode:"edit"}),se(!0)},children:s.jsx(ja,{size:14})})]})})},_e.id)})})]}),s.jsxs(Qr,{value:"late-arrivals",className:"mt-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Qs,{size:20,className:"text-orange-600"})," Late Arrival History"]}),q.length>0&&s.jsxs(Ft,{className:"bg-orange-100 text-orange-800 text-sm px-3 py-1",children:[q.length," times late"]})]}),q.length>0&&(()=>{const _e={};return q.forEach(ot=>{const rt=new Date(ot.date).toLocaleDateString("he-IL",{year:"numeric",month:"long"});_e[rt]=(_e[rt]||0)+1}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(_e).slice(0,4).map(([ot,rt])=>s.jsx(Qe,{className:"bg-orange-50 border-orange-200",children:s.jsxs(Ze,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-sm text-orange-600",children:ot}),s.jsx("p",{className:"text-2xl font-bold text-orange-800",children:rt}),s.jsx("p",{className:"text-xs text-orange-500",children:"times late"})]})},ot))})})(),q.length===0?s.jsx(Qe,{className:"bg-green-50 border-green-200",children:s.jsxs(Ze,{className:"p-8 text-center",children:[s.jsx(Di,{size:48,className:"mx-auto mb-4 text-green-400"}),s.jsx("p",{className:"text-green-700 font-medium",children:"No late arrivals recorded"})]})}):s.jsx(Qe,{children:s.jsx(Ze,{className:"p-0",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Arrival Time"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Minutes Late"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Reason"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Notes"})]})}),s.jsx("tbody",{className:"divide-y",children:q.map(_e=>s.jsxs("tr",{className:"hover:bg-orange-50 transition-colors",children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("span",{className:"font-medium",children:new Date(_e.date).toLocaleDateString("he-IL")}),s.jsx("span",{className:"block text-xs text-slate-400",children:new Date(_e.date).toLocaleDateString("he-IL",{weekday:"long"})})]}),s.jsx("td",{className:"px-4 py-3",children:_e.arrival_time||""}),s.jsx("td",{className:"px-4 py-3",children:_e.minutes_late?s.jsxs(Ft,{className:_e.minutes_late>15?"bg-red-100 text-red-800":_e.minutes_late>5?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800",children:[_e.minutes_late," min"]}):""}),s.jsx("td",{className:"px-4 py-3 max-w-[200px]",children:_e.reason||""}),s.jsx("td",{className:"px-4 py-3 max-w-[200px] text-slate-500",children:_e.notes||""})]},_e.id))})]})})})]}),H&&s.jsxs(Qr,{value:"special-ed",className:"mt-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Oy,{size:20,className:"text-pink-600"})," Special Education Information"]}),s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[s.jsxs(Ft,{className:"bg-blue-100 text-blue-800",children:["Status: ",H.status]}),H.referral_reason&&s.jsxs(Ft,{variant:"outline",children:["Reason: ",H.referral_reason]})]})]}),((bt=H.info_sources)==null?void 0:bt.length)>0&&s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Information Sources"})}),s.jsx(Ze,{className:"space-y-2",children:H.info_sources.map(_e=>s.jsxs("div",{className:"p-3 bg-slate-50 rounded border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ft,{variant:"outline",className:"text-xs",children:_e.source_type}),_e.source_name&&s.jsx("span",{className:"font-medium text-sm",children:_e.source_name}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(_e.created_at).toLocaleDateString("he-IL")})]}),s.jsx("p",{className:"text-sm",children:_e.content})]},_e.id))})]}),((St=H.evaluations)==null?void 0:St.length)>0&&s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Evaluations"})}),s.jsx(Ze,{className:"space-y-3",children:H.evaluations.map(_e=>s.jsxs("div",{className:"p-3 border rounded",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx(Ft,{className:_e.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:_e.status}),s.jsx("span",{className:"text-xs text-slate-400",children:_e.evaluation_date&&new Date(_e.evaluation_date).toLocaleDateString("he-IL")})]}),_e.evaluator_name&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Evaluator:"})," ",_e.evaluator_name]}),_e.results&&s.jsxs("p",{className:"text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Results:"})," ",_e.results]}),_e.recommendations&&s.jsxs("p",{className:"text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Recommendations:"})," ",_e.recommendations]}),_e.action_plan&&s.jsxs("p",{className:"text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Plan:"})," ",_e.action_plan]})]},_e.id))})]}),((Et=H.tutoring)==null?void 0:Et.length)>0&&s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Private Tutoring"})}),s.jsx(Ze,{children:s.jsx("div",{className:"space-y-2",children:H.tutoring.map(_e=>{var ot,rt;return s.jsxs("div",{className:"p-3 bg-purple-50 rounded border border-purple-200",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((ot=_e.tutor)==null?void 0:ot.hebrew_name)||((rt=_e.tutor)==null?void 0:rt.name)||_e.tutor_name}),s.jsx("p",{className:"text-sm text-slate-600",children:_e.subject})]}),s.jsx("div",{className:"text-left text-sm",children:s.jsxs("p",{children:[_e.day_of_week," ",_e.start_time,"",_e.end_time]})})]}),_e.notes&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:_e.notes})]},_e.id)})})})]}),H.notes&&s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{className:"text-lg",children:"Notes"})}),s.jsx(Ze,{children:s.jsx("p",{children:H.notes})})]})]})]}),s.jsx(pr,{open:ee,onOpenChange:se,children:s.jsxs(dr,{className:"max-w-lg",dir:"rtl",children:[s.jsx(mr,{children:s.jsxs(gr,{children:[J?"Edit Note":"New Note"," - ",n.hebrew_name||n.first_name||n.name]})}),s.jsxs("div",{className:"space-y-4 py-2",children:[J&&s.jsxs("div",{children:[s.jsx(be,{children:"Mode"}),s.jsxs(_t,{value:pe.edit_mode,onValueChange:_e=>Q({...pe,edit_mode:_e}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"update",children:"UPDATE - Keep old, add new"}),s.jsx(De,{value:"edit",children:"EDIT - Replace text (keep record)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Type"}),s.jsxs(_t,{value:pe.note_type,onValueChange:_e=>Q({...pe,note_type:_e}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:ze.map(_e=>s.jsx(De,{value:_e.value,children:_e.label},_e.value))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Title"}),s.jsx(We,{value:pe.title,onChange:_e=>Q({...pe,title:_e.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Content *"}),s.jsx(Er,{value:pe.content,onChange:_e=>Q({...pe,content:_e.target.value}),rows:5,placeholder:"What was discussed..."})]})]}),s.jsxs(Dr,{className:"flex justify-between",children:[s.jsxs(Se,{variant:"outline",onClick:()=>{Z({subject:`Note - ${n.hebrew_name||n.first_name||n.name}`,body:`${pe.title?pe.title+`

`:""}${pe.content}`}),$e(!0)},children:[s.jsx(to,{size:14,className:"ml-1"})," Send Email"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),s.jsx(Se,{onClick:Ke,children:J&&pe.edit_mode==="edit"?"EDIT - Replace":"UPDATE - Add"})]})]})]})}),s.jsx(xx,{isOpen:Oe,onClose:()=>$e(!1),defaultSubject:Ae.subject,defaultBody:Ae.body}),s.jsx(LRe,{isOpen:L,onClose:()=>{M(!1),U(null)},studentId:e,plan:F,onSuccess:()=>{Ge(),M(!1),U(null)}})]})},Ma=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:yr("w-full caption-bottom text-sm",e),...t})}));Ma.displayName="Table";const Ra=O.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:yr("[&_tr]:border-b",e),...t}));Ra.displayName="TableHeader";const $a=O.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:yr("[&_tr:last-child]:border-0",e),...t}));$a.displayName="TableBody";const IRe=O.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:yr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));IRe.displayName="TableFooter";const xr=O.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:yr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));xr.displayName="TableRow";const lt=O.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:yr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));lt.displayName="TableHead";const it=O.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:yr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));it.displayName="TableCell";const MRe=O.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:yr("mt-4 text-sm text-muted-foreground",e),...t}));MRe.displayName="TableCaption";const RRe=({role:e,currentUser:t})=>{qT();const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState(!0),[u,d]=O.useState("grid"),[f,h]=O.useState({search:"",class_id:"all",grade_id:"all",hasOpenIssues:"all"}),[p,v]=O.useState([]),[m,x]=O.useState([]),[g,y]=O.useState(!1),[b,j]=O.useState(null),[_,N]=O.useState(!1),[S,A]=O.useState(!1),[P,W]=O.useState(()=>localStorage.getItem("viewingStudentId")||null),[C,k]=O.useState([]),[z,I]=O.useState(!1),[R,V]=O.useState({date:new Date().toISOString().split("T")[0],status:"present",note:""});O.useEffect(()=>{P?localStorage.setItem("viewingStudentId",P):localStorage.removeItem("viewingStudentId")},[P]),O.useEffect(()=>{M(),L()},[e,t]),O.useEffect(()=>{F()},[n,f]);const L=async()=>{try{const{data:K,error:ee}=await je.from("classes").select("id, name, grade_id, grade:grades!grade_id(name)").order("name");ee?console.error("Error loading classes:",ee):(console.log("Loaded classes:",K==null?void 0:K.length),v(K||[]));const{data:se,error:J}=await je.from("grades").select("*").order("grade_number");J?console.error("Error loading grades:",J):(console.log("Loaded grades:",se==null?void 0:se.length),x(se||[]))}catch(K){console.error("Error loading filters:",K)}},M=async()=>{c(!0);try{let K=je.from("students").select(`
          *,
          class:classes!class_id(id, name, grade_id, grade:grades(id, name))
        `);if(e==="teacher"||e==="teacher_hebrew"||e==="teacher_english"){const{data:pe}=await je.from("classes").select("id").or(`hebrew_teacher_id.eq.${t==null?void 0:t.id},english_teacher_id.eq.${t==null?void 0:t.id}`),Q=(pe==null?void 0:pe.map(Oe=>Oe.id))||[];if(Q.length>0)K=K.in("class_id",Q);else{a([]),c(!1);return}}else if(e==="tutor"){const{data:pe}=await je.from("tutor_assignments").select("student_id").eq("tutor_id",t==null?void 0:t.id).eq("is_active",!0),Q=(pe==null?void 0:pe.map(Oe=>Oe.student_id))||[];if(Q.length>0)K=K.in("id",Q);else{a([]),c(!1);return}}const{data:ee,error:se}=await K.order("last_name");if(se)throw se;let J={};try{const{data:pe}=await je.from("student_issues").select("student_id, status");pe&&pe.forEach(Q=>{J[Q.student_id]||(J[Q.student_id]=[]),J[Q.student_id].push(Q)})}catch{}const ce=(ee||[]).map(pe=>({...pe,open_issues_count:(J[pe.id]||[]).filter(Q=>Q.status==="open"||Q.status==="in_progress").length}));a(ce)}catch(K){console.error("Error loading students:",K),r({variant:"destructive",title:"Error",description:"Failed to load students"})}finally{c(!1)}},F=()=>{let K=[...n];if(f.search){const ee=f.search.toLowerCase();K=K.filter(se=>{var J,ce,pe,Q,Oe;return((J=se.first_name)==null?void 0:J.toLowerCase().includes(ee))||((ce=se.last_name)==null?void 0:ce.toLowerCase().includes(ee))||((pe=se.hebrew_name)==null?void 0:pe.toLowerCase().includes(ee))||((Q=se.father_name)==null?void 0:Q.toLowerCase().includes(ee))||((Oe=se.mother_name)==null?void 0:Oe.toLowerCase().includes(ee))})}f.class_id!=="all"&&(K=K.filter(ee=>ee.class_id===f.class_id)),f.grade_id!=="all"&&(K=K.filter(ee=>{var se;return((se=ee.class)==null?void 0:se.grade_id)===f.grade_id})),f.hasOpenIssues!=="all"&&(K=K.filter(ee=>{const se=ee.open_issues_count>0;return f.hasOpenIssues==="yes"?se:!se})),o(K)},U=async K=>{if(window.confirm("Are you sure you want to delete this student? This cannot be undone."))try{const{error:ee}=await je.from("students").delete().eq("id",K);if(ee)throw ee;r({title:"Success",description:"Student deleted"}),M()}catch(ee){console.error("Error deleting student:",ee),r({variant:"destructive",title:"Error",description:"Could not delete student"})}},X=K=>{K.target.checked?k(i.map(ee=>ee.id)):k([])},E=K=>{k(ee=>ee.includes(K)?ee.filter(se=>se!==K):[...ee,K])},H=async()=>{if(C.length===0)return;const K=C.map(ee=>({student_id:ee,date:R.date,status:R.status,note:R.note}));await je.from("attendance").insert(K),r({title:"Success",description:"Attendance marked"}),I(!1),k([])},G=()=>{h({search:"",class_id:"all",grade_id:"all",hasOpenIssues:"all"})},q=K=>K.first_name&&K.last_name?`${K.first_name} ${K.last_name}`:K.first_name||K.last_name||"Unnamed";return P?s.jsx(MG,{studentId:P,onBack:()=>W(null)}):l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Students"}),s.jsx("p",{className:"text-slate-600 mt-1",children:e==="teacher"||e==="teacher_hebrew"||e==="teacher_english"?"Students in your classes":e==="tutor"?"Your assigned students":`${n.length} students registered`})]}),s.jsxs("div",{className:"flex gap-2",children:[["principal","principal_hebrew","principal_english","admin"].includes(e)&&s.jsxs(Se,{variant:"outline",onClick:()=>A(!0),className:"flex items-center gap-2",children:[s.jsx(Z$,{size:18})," Import"]}),["principal","principal_hebrew","principal_english","admin","teacher","teacher_hebrew","teacher_english"].includes(e)&&s.jsxs(Se,{onClick:()=>{j(null),y(!0)},className:"bg-gradient-to-r from-blue-500 to-blue-600",children:[s.jsx(on,{size:20,className:"mr-2"})," Add Student"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search students...",value:f.search,onChange:K=>h(ee=>({...ee,search:K.target.value})),className:"w-full pl-9 pr-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),s.jsxs(_t,{value:f.grade_id,onValueChange:K=>h(ee=>({...ee,grade_id:K})),children:[s.jsx(xt,{className:"w-[140px]",children:s.jsx(jt,{placeholder:"Grade"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Grades"}),m.map(K=>s.jsx(De,{value:K.id,children:K.name},K.id))]})]}),s.jsxs(_t,{value:f.class_id,onValueChange:K=>h(ee=>({...ee,class_id:K})),children:[s.jsx(xt,{className:"w-[140px]",children:s.jsx(jt,{placeholder:"Class"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Classes"}),p.map(K=>{var ee;return s.jsxs(De,{value:K.id,children:[K.name," (",(ee=K.grade)==null?void 0:ee.name,")"]},K.id)})]})]}),s.jsxs(_t,{value:f.hasOpenIssues,onValueChange:K=>h(ee=>({...ee,hasOpenIssues:K})),children:[s.jsx(xt,{className:"w-[140px]",children:s.jsx(jt,{placeholder:"Issues"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"Any Status"}),s.jsx(De,{value:"yes",children:"Has Open Issues"}),s.jsx(De,{value:"no",children:"No Open Issues"})]})]}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:G,title:"Clear Filters",className:"text-slate-500",children:s.jsx(Y0,{size:18})})]}),s.jsx("div",{className:"flex items-center gap-2 border-l pl-4",children:s.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>d("grid"),className:`p-1.5 rounded-md transition-all ${u==="grid"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:s.jsx(lre,{size:18})}),s.jsx("button",{onClick:()=>d("list"),className:`p-1.5 rounded-md transition-all ${u==="list"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:s.jsx(r3,{size:18})})]})})]}),C.length>0&&s.jsxs("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded-md border border-blue-100 animate-in slide-in-from-top-2",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-800 ml-2",children:[C.length," students selected"]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Se,{size:"sm",variant:"outline",className:"bg-white text-blue-700 hover:bg-blue-50 border-blue-200",onClick:()=>I(!0),children:[s.jsx(jN,{size:16,className:"mr-2"})," Mark Attendance"]})})]})]}),u==="grid"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(K=>{var ee,se,J;return s.jsxs("div",{className:`bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 border-2 ${C.includes(K.id)?"border-blue-500 bg-blue-50/10":"border-transparent"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:C.includes(K.id),onChange:()=>E(K.id),className:"mt-1 w-4 h-4 rounded border-slate-300"}),s.jsxs("div",{className:"cursor-pointer group",onClick:()=>W(K.id),children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 group-hover:text-blue-600 transition-colors",children:q(K)}),K.hebrew_name&&s.jsx("p",{className:"text-sm text-slate-500",dir:"rtl",children:K.hebrew_name}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Ft,{variant:"secondary",className:"text-xs",children:((ee=K.class)==null?void 0:ee.name)||"No Class"}),K.open_issues_count>0&&s.jsxs(Ft,{variant:"destructive",className:"text-xs",children:[K.open_issues_count," Issues"]})]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[["principal","principal_hebrew","principal_english","admin","teacher","teacher_hebrew","teacher_english"].includes(e)&&s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>{j(K),y(!0)},children:s.jsx(ja,{size:16})}),["principal","principal_hebrew","principal_english","admin"].includes(e)&&s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>U(K.id),className:"hover:text-red-600",children:s.jsx(Qa,{size:16})})]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-left mt-4 border-t pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(t3,{size:14}),s.jsx("span",{children:((J=(se=K.class)==null?void 0:se.grade)==null?void 0:J.name)||"No Grade"})]}),K.father_name&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Wo,{size:14}),s.jsx("span",{children:K.father_name}),K.father_phone&&s.jsxs("span",{className:"text-xs text-slate-400",children:["(",K.father_phone,")"]})]}),K.mother_name&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Wo,{size:14}),s.jsx("span",{children:K.mother_name}),K.mother_phone&&s.jsxs("span",{className:"text-xs text-slate-400",children:["(",K.mother_phone,")"]})]})]}),s.jsx(Se,{onClick:()=>W(K.id),variant:"outline",className:"w-full mt-4 text-sm h-8",children:"View Profile"})]},K.id)}),i.length===0&&s.jsx("div",{className:"col-span-full py-12 text-center text-slate-500",children:"No students found matching your filters."})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{className:"w-[50px]",children:s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded",onChange:X,checked:i.length>0&&C.length===i.length})}),s.jsx(lt,{children:"Student Name"}),s.jsx(lt,{children:"Hebrew Name"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"Grade"}),s.jsx(lt,{children:"Parents"}),s.jsx(lt,{children:"Status"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsxs($a,{children:[i.map(K=>{var ee,se,J;return s.jsxs(xr,{className:C.includes(K.id)?"bg-blue-50":"",children:[s.jsx(it,{children:s.jsx("input",{type:"checkbox",checked:C.includes(K.id),onChange:()=>E(K.id),className:"w-4 h-4 rounded"})}),s.jsx(it,{className:"font-medium cursor-pointer hover:text-blue-600",onClick:()=>W(K.id),children:q(K)}),s.jsx(it,{dir:"rtl",className:"text-slate-600",children:K.hebrew_name||"-"}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",children:((ee=K.class)==null?void 0:ee.name)||"-"})}),s.jsx(it,{className:"text-sm",children:((J=(se=K.class)==null?void 0:se.grade)==null?void 0:J.name)||"-"}),s.jsxs(it,{className:"text-xs text-slate-500",children:[K.father_name&&s.jsx("div",{children:K.father_name}),K.mother_name&&s.jsx("div",{children:K.mother_name})]}),s.jsx(it,{children:K.open_issues_count>0&&s.jsxs("div",{className:"flex items-center text-amber-600 text-xs font-medium",children:[s.jsx(rs,{size:14,className:"mr-1"})," ",K.open_issues_count," Open"]})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>W(K.id),children:s.jsx(jN,{size:16})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>{j(K),y(!0)},children:s.jsx(ja,{size:16})})]})})]},K.id)}),i.length===0&&s.jsx(xr,{children:s.jsx(it,{colSpan:8,className:"h-24 text-center text-slate-500",children:"No results found."})})]})]})}),s.jsx(Yce,{isOpen:g,onClose:()=>{y(!1),j(null)},student:b,onSuccess:M}),s.jsx(Xce,{isOpen:_,onClose:()=>{N(!1),j(null)},student:b}),s.jsx(Qve,{isOpen:S,onClose:()=>A(!1),onSuccess:M}),s.jsx(pr,{open:z,onOpenChange:I,children:s.jsxs(dr,{className:"sm:max-w-[425px]",children:[s.jsx(mr,{children:s.jsx(gr,{children:"Mark Attendance"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Date"}),s.jsx("input",{type:"date",value:R.date,onChange:K=>V({...R,date:K.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Status"}),s.jsxs("select",{value:R.status,onChange:K=>V({...R,status:K.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"}),s.jsx("option",{value:"late",children:"Late"}),s.jsx("option",{value:"excused",children:"Excused"})]})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),s.jsx(Se,{onClick:H,children:"Save"})]})]})})]})},$Re=({role:e,currentUser:t})=>{var pe,Q,Oe,$e,Ae;const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!0),[f,h]=O.useState(""),[p,v]=O.useState("all"),[m,x]=O.useState("all"),[g,y]=O.useState(!1),[b,j]=O.useState(null),[_,N]=O.useState({student_id:"",title:"",description:"",category:"academic",severity:"medium",assigned_to:""}),[S,A]=O.useState(null),[P,W]=O.useState(!1),[C,k]=O.useState([]),[z,I]=O.useState(""),R=[{value:"academic",label:"Academic"},{value:"behavioral",label:"Behavioral"},{value:"attendance",label:"Attendance"},{value:"social",label:"Social"},{value:"health",label:"Health"},{value:"other",label:"Other"}],V=[{value:"low",label:"Low",color:"bg-green-100 text-green-700"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-700"},{value:"high",label:"High",color:"bg-orange-100 text-orange-700"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-700"}],L=[{value:"open",label:"Open",color:"bg-blue-100 text-blue-700"},{value:"in_progress",label:"In Progress",color:"bg-purple-100 text-purple-700"},{value:"resolved",label:"Resolved",color:"bg-green-100 text-green-700"},{value:"closed",label:"Closed",color:"bg-slate-100 text-slate-700"}];O.useEffect(()=>{M()},[]);const M=async()=>{d(!0);try{const{data:Z,error:ke}=await je.from("student_issues").select(`
          *,
          student:students(id, first_name, last_name, class_id),
          reporter:app_users!reported_by(id, first_name, last_name),
          assignee:app_users!assigned_to(id, first_name, last_name)
        `).order("created_at",{ascending:!1});if(ke)throw ke;a(Z||[]);const{data:Ge,error:Le}=await je.from("students").select("id, first_name, last_name").eq("status","active").order("last_name");if(Le)throw Le;o(Ge||[]);const{data:qe,error:ge}=await je.from("app_users").select("id, first_name, last_name, role").eq("is_active",!0).order("last_name");if(ge)throw ge;c(qe||[])}catch(Z){console.error("Error loading data:",Z),r({variant:"destructive",title:"Error",description:"Failed to load issues"})}finally{d(!1)}},F=n.filter(Z=>{var ge,de;const ke=`${((ge=Z.student)==null?void 0:ge.first_name)||""} ${((de=Z.student)==null?void 0:de.last_name)||""}`.toLowerCase(),Ge=Z.title.toLowerCase().includes(f.toLowerCase())||ke.includes(f.toLowerCase()),Le=p==="all"||Z.status===p,qe=m==="all"||Z.category===m;return Ge&&Le&&qe}),U=n.filter(Z=>Z.status==="open").length,X=n.filter(Z=>Z.status==="in_progress").length,E=n.filter(Z=>Z.severity==="critical"&&Z.status!=="resolved"&&Z.status!=="closed").length,H=(Z=null)=>{Z?(j(Z),N({student_id:Z.student_id||"",title:Z.title||"",description:Z.description||"",category:Z.category||"academic",severity:Z.severity||"medium",assigned_to:Z.assigned_to||""})):(j(null),N({student_id:"",title:"",description:"",category:"academic",severity:"medium",assigned_to:""})),y(!0)},G=async()=>{if(!_.student_id||!_.title||!_.description){r({variant:"destructive",title:"Error",description:"Please fill in all required fields"});return}try{const Z={student_id:_.student_id,title:_.title,description:_.description,category:_.category,severity:_.severity,assigned_to:_.assigned_to||null};if(b){const{error:ke}=await je.from("student_issues").update(Z).eq("id",b.id);if(ke)throw ke;r({title:"Success",description:"Issue updated"})}else{Z.reported_by=t==null?void 0:t.id,Z.status="open";const{error:ke}=await je.from("student_issues").insert([Z]);if(ke)throw ke;r({title:"Success",description:"Issue created"})}y(!1),M()}catch(Z){console.error("Error saving issue:",Z),r({variant:"destructive",title:"Error",description:"Failed to save issue"})}},q=async Z=>{if(confirm("Are you sure you want to delete this issue?"))try{const{error:ke}=await je.from("student_issues").delete().eq("id",Z);if(ke)throw ke;r({title:"Success",description:"Issue deleted"}),M()}catch(ke){console.error("Error deleting issue:",ke),r({variant:"destructive",title:"Error",description:"Failed to delete issue"})}},K=async(Z,ke)=>{try{const Ge={status:ke};ke==="resolved"&&(Ge.resolved_at=new Date().toISOString(),Ge.resolved_by=t==null?void 0:t.id);const{error:Le}=await je.from("student_issues").update(Ge).eq("id",Z);if(Le)throw Le;r({title:"Success",description:"Status updated"}),M()}catch(Ge){console.error("Error updating status:",Ge),r({variant:"destructive",title:"Error",description:"Failed to update status"})}},ee=async Z=>{A(Z),W(!0);try{const{data:ke,error:Ge}=await je.from("issue_comments").select("*, user:app_users(first_name, last_name)").eq("issue_id",Z.id).order("created_at",{ascending:!0});if(Ge)throw Ge;k(ke||[])}catch(ke){console.error("Error loading comments:",ke)}},se=async()=>{if(!(!z.trim()||!S))try{const{error:Z}=await je.from("issue_comments").insert([{issue_id:S.id,user_id:t==null?void 0:t.id,comment:z.trim()}]);if(Z)throw Z;I("");const{data:ke}=await je.from("issue_comments").select("*, user:app_users(first_name, last_name)").eq("issue_id",S.id).order("created_at",{ascending:!0});k(ke||[])}catch(Z){console.error("Error adding comment:",Z),r({variant:"destructive",title:"Error",description:"Failed to add comment"})}},J=Z=>{var ke;return((ke=V.find(Ge=>Ge.value===Z))==null?void 0:ke.color)||"bg-slate-100 text-slate-700"},ce=Z=>{var ke;return((ke=L.find(Ge=>Ge.value===Z))==null?void 0:ke.color)||"bg-slate-100 text-slate-700"};return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Student Issues"}),s.jsx("p",{className:"text-slate-500",children:"Track and resolve student concerns"})]}),s.jsxs(Se,{onClick:()=>H(),className:"bg-amber-600 hover:bg-amber-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Report Issue"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Wh,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:U}),s.jsx("p",{className:"text-sm text-slate-500",children:"Open Issues"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Qs,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:X}),s.jsx("p",{className:"text-sm text-slate-500",children:"In Progress"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Wh,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:E}),s.jsx("p",{className:"text-sm text-slate-500",children:"Critical"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Di,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.filter(Z=>Z.status==="resolved").length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Resolved"})]})]})})]}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"flex-1 min-w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search by title or student...",value:f,onChange:Z=>h(Z.target.value),className:"pl-10"})]})}),s.jsxs(_t,{value:p,onValueChange:v,children:[s.jsx(xt,{className:"w-36",children:s.jsx(jt,{placeholder:"Status"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Status"}),L.map(Z=>s.jsx(De,{value:Z.value,children:Z.label},Z.value))]})]}),s.jsxs(_t,{value:m,onValueChange:x,children:[s.jsx(xt,{className:"w-36",children:s.jsx(jt,{placeholder:"Category"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Categories"}),R.map(Z=>s.jsx(De,{value:Z.value,children:Z.label},Z.value))]})]})]})})}),s.jsx("div",{className:"space-y-4",children:F.length===0?s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-12 text-center text-slate-500",children:[s.jsx(Wh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No issues found"}),s.jsx("p",{className:"text-sm",children:'Click "Report Issue" to create a new issue'})]})}):F.map(Z=>{var ke,Ge,Le;return s.jsx(Qe,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>ee(Z),children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:Z.title}),s.jsx(Ft,{className:J(Z.severity),children:Z.severity}),s.jsx(Ft,{className:ce(Z.status),children:(ke=Z.status)==null?void 0:ke.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 mb-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wo,{className:"h-4 w-4"}),(Ge=Z.student)==null?void 0:Ge.first_name," ",(Le=Z.student)==null?void 0:Le.last_name]}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{className:"capitalize",children:Z.category}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{children:new Date(Z.created_at).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-slate-500 line-clamp-2",children:Z.description}),Z.assignee&&s.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Assigned to: ",Z.assignee.first_name," ",Z.assignee.last_name]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",onClick:qe=>qe.stopPropagation(),children:[s.jsxs(_t,{value:Z.status,onValueChange:qe=>K(Z.id,qe),children:[s.jsx(xt,{className:"w-32 h-8",children:s.jsx(jt,{})}),s.jsx(yt,{children:L.map(qe=>s.jsx(De,{value:qe.value,children:qe.label},qe.value))})]}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>H(Z),children:s.jsx(ja,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>q(Z.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})]})})},Z.id)})}),s.jsx(pr,{open:g,onOpenChange:y,children:s.jsxs(dr,{className:"max-w-2xl",children:[s.jsx(mr,{children:s.jsx(gr,{children:b?"Edit Issue":"Report New Issue"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Student *"}),s.jsxs(_t,{value:_.student_id,onValueChange:Z=>N({..._,student_id:Z}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select student"})}),s.jsx(yt,{children:i.map(Z=>s.jsxs(De,{value:Z.id,children:[Z.first_name," ",Z.last_name]},Z.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Title *"}),s.jsx(We,{value:_.title,onChange:Z=>N({..._,title:Z.target.value}),placeholder:"Brief description of the issue"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Category"}),s.jsxs(_t,{value:_.category,onValueChange:Z=>N({..._,category:Z}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:R.map(Z=>s.jsx(De,{value:Z.value,children:Z.label},Z.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Severity"}),s.jsxs(_t,{value:_.severity,onValueChange:Z=>N({..._,severity:Z}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:V.map(Z=>s.jsx(De,{value:Z.value,children:Z.label},Z.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Assign To"}),s.jsxs(_t,{value:_.assigned_to||"none",onValueChange:Z=>N({..._,assigned_to:Z==="none"?null:Z}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Unassigned"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"none",children:"Unassigned"}),l.map(Z=>s.jsxs(De,{value:Z.id,children:[Z.first_name," ",Z.last_name," (",Z.role,")"]},Z.id))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Description *"}),s.jsx(Er,{value:_.description,onChange:Z=>N({..._,description:Z.target.value}),placeholder:"Detailed description of the issue...",rows:4})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Se,{onClick:G,className:"bg-amber-600 hover:bg-amber-700",children:b?"Update Issue":"Report Issue"})]})]})}),s.jsx(pr,{open:P,onOpenChange:W,children:s.jsxs(dr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(mr,{children:s.jsx(gr,{children:S==null?void 0:S.title})}),S&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ft,{className:J(S.severity),children:S.severity}),s.jsx(Ft,{className:ce(S.status),children:(pe=S.status)==null?void 0:pe.replace("_"," ")}),s.jsx(Ft,{variant:"outline",className:"capitalize",children:S.category})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Student"}),s.jsxs("p",{className:"text-slate-600",children:[(Q=S.student)==null?void 0:Q.first_name," ",(Oe=S.student)==null?void 0:Oe.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Description"}),s.jsx("p",{className:"text-slate-600",children:S.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Reported By"}),s.jsxs("p",{className:"text-slate-600",children:[($e=S.reporter)==null?void 0:$e.first_name," ",(Ae=S.reporter)==null?void 0:Ae.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Assigned To"}),s.jsx("p",{className:"text-slate-600",children:S.assignee?`${S.assignee.first_name} ${S.assignee.last_name}`:"Unassigned"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Created"}),s.jsx("p",{className:"text-slate-600",children:new Date(S.created_at).toLocaleString()})]}),S.resolved_at&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Resolved"}),s.jsx("p",{className:"text-slate-600",children:new Date(S.resolved_at).toLocaleString()})]})]}),S.resolution&&s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Resolution"}),s.jsx("p",{className:"text-slate-600",children:S.resolution})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(d0,{className:"h-4 w-4"}),"Comments (",C.length,")"]}),s.jsxs("div",{className:"space-y-3 max-h-48 overflow-y-auto mb-4",children:[C.map(Z=>{var ke,Ge;return s.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:[(ke=Z.user)==null?void 0:ke.first_name," ",(Ge=Z.user)==null?void 0:Ge.last_name]}),s.jsx("p",{className:"text-xs text-slate-400",children:new Date(Z.created_at).toLocaleString()})]}),s.jsx("p",{className:"text-sm text-slate-600",children:Z.comment})]},Z.id)}),C.length===0&&s.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No comments yet"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(We,{placeholder:"Add a comment...",value:z,onChange:Z=>I(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&se()}),s.jsx(Se,{onClick:se,children:"Add"})]})]})]})]})})]})},BRe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState(""),[u,d]=O.useState(!1),[f,h]=O.useState(null),[p,v]=O.useState(!0),[m,x]=O.useState("all"),[g,y]=O.useState({student_id:"",contact_type:"father",contact_person:"",phone_number:"",call_type:"outgoing",purpose:"",notes:"",outcome:"",follow_up_needed:!1,follow_up_date:"",direction:"outgoing",reminder_date:"",reminder_email:"",duration_minutes:""});O.useEffect(()=>{j(),b()},[]);const b=async()=>{const{data:I}=await je.from("students").select("id, first_name, last_name, father_name, father_phone, mother_name, mother_phone").eq("is_active",!0).order("last_name");o(I||[])},j=async()=>{v(!0);try{const{data:I,error:R}=await je.from("call_logs").select(`
          *,
          student:students(id, first_name, last_name),
          caller:app_users!caller_id(id, first_name, last_name)
        `).order("call_date",{ascending:!1});if(R)throw R;a(I||[])}catch(I){console.error("Error loading call logs:",I),r({variant:"destructive",title:"Error",description:"Failed to load call logs"})}finally{v(!1)}},_=(I=null)=>{I?(h(I),y({student_id:I.student_id||"",contact_type:I.contact_type||"father",contact_person:I.contact_person||"",phone_number:I.phone_number||"",call_type:I.call_type||"outgoing",purpose:I.purpose||"",notes:I.notes||"",outcome:I.outcome||"",follow_up_needed:I.follow_up_needed||!1,follow_up_date:I.follow_up_date||"",direction:I.direction||I.call_type||"outgoing",reminder_date:I.reminder_date?I.reminder_date.split("T")[0]:"",reminder_email:I.reminder_email||"",duration_minutes:I.duration_minutes||""})):(h(null),y({student_id:"",contact_type:"father",contact_person:"",phone_number:"",call_type:"outgoing",purpose:"",notes:"",outcome:"",follow_up_needed:!1,follow_up_date:"",direction:"outgoing",reminder_date:"",reminder_email:"",duration_minutes:""})),d(!0)},N=I=>{const R=i.find(V=>V.id===I);if(R){const V=g.contact_type==="father"?{name:R.father_name,phone:R.father_phone}:{name:R.mother_name,phone:R.mother_phone};y({...g,student_id:I,contact_person:V.name||"",phone_number:V.phone||""})}},S=I=>{const R=i.find(V=>V.id===g.student_id);if(R){const V=I==="father"?{name:R.father_name,phone:R.father_phone}:{name:R.mother_name,phone:R.mother_phone};y({...g,contact_type:I,contact_person:V.name||"",phone_number:V.phone||""})}else y({...g,contact_type:I})},A=async()=>{if(!g.student_id||!g.contact_person){r({variant:"destructive",title:"Error",description:"Please select a student and contact person"});return}try{const I={student_id:g.student_id,caller_id:t==null?void 0:t.id,contact_type:g.contact_type,contact_person:g.contact_person,phone_number:g.phone_number,call_type:g.call_type,purpose:g.purpose,notes:g.notes,outcome:g.outcome,follow_up_needed:g.follow_up_needed,follow_up_date:g.follow_up_date||null,call_date:(f==null?void 0:f.call_date)||new Date().toISOString(),direction:g.direction||g.call_type,reminder_date:g.reminder_date||null,reminder_email:g.reminder_email||null,duration_minutes:g.duration_minutes?parseInt(g.duration_minutes):null};if(f){const{error:R}=await je.from("call_logs").update(I).eq("id",f.id);if(R)throw R;r({title:"Success",description:"Call log updated"})}else{const{error:R}=await je.from("call_logs").insert([I]);if(R)throw R;r({title:"Success",description:"Call log created"})}d(!1),j()}catch(I){console.error("Error saving call log:",I),r({variant:"destructive",title:"Error",description:"Failed to save call log"})}},P=async I=>{if(window.confirm("Are you sure you want to delete this call log?"))try{const{error:R}=await je.from("call_logs").delete().eq("id",I);if(R)throw R;r({title:"Success",description:"Call log deleted"}),j()}catch{r({variant:"destructive",title:"Error",description:"Failed to delete call log"})}},W=async I=>{try{const{error:R}=await je.from("call_logs").update({follow_up_needed:!I.follow_up_needed}).eq("id",I.id);if(R)throw R;j()}catch{r({variant:"destructive",title:"Error",description:"Failed to update"})}},C=n.filter(I=>{var V,L,M,F,U,X,E;const R=((V=I.contact_person)==null?void 0:V.toLowerCase().includes(l.toLowerCase()))||((M=(L=I.student)==null?void 0:L.first_name)==null?void 0:M.toLowerCase().includes(l.toLowerCase()))||((U=(F=I.student)==null?void 0:F.last_name)==null?void 0:U.toLowerCase().includes(l.toLowerCase()))||((X=I.purpose)==null?void 0:X.toLowerCase().includes(l.toLowerCase()));if(m==="all")return R;if(m==="follow_up")return R&&I.follow_up_needed;if(m==="today"){const H=new Date().toISOString().split("T")[0];return R&&((E=I.call_date)==null?void 0:E.split("T")[0])===H}return R}),k=n.filter(I=>{var R;return((R=I.call_date)==null?void 0:R.split("T")[0])===new Date().toISOString().split("T")[0]}).length,z=n.filter(I=>I.follow_up_needed).length;return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Call Logs"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Track communication with parents and guardians"})]}),s.jsxs(Se,{onClick:()=>_(),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[s.jsx(on,{size:20,className:"mr-2"}),"Log Call"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(ef,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Calls"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Cs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:k}),s.jsx("p",{className:"text-sm text-slate-500",children:"Today"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(d0,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:z}),s.jsx("p",{className:"text-sm text-slate-500",children:"Need Follow-up"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Wo,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:new Set(n.map(I=>I.student_id)).size}),s.jsx("p",{className:"text-sm text-slate-500",children:"Students Contacted"})]})]})})]}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search by student, contact, or purpose...",value:l,onChange:I=>c(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsx(kl,{value:m,onValueChange:x,children:s.jsxs(Xo,{children:[s.jsx(wr,{value:"all",children:"All"}),s.jsx(wr,{value:"today",children:"Today"}),s.jsx(wr,{value:"follow_up",children:"Follow-up Needed"})]})})]})})}),s.jsxs("div",{className:"space-y-4",children:[C.map(I=>{var R,V;return s.jsx(Qe,{className:I.follow_up_needed?"border-l-4 border-l-amber-400":"",children:s.jsx(Ze,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[(R=I.student)==null?void 0:R.first_name," ",(V=I.student)==null?void 0:V.last_name]}),s.jsx(Ft,{variant:I.call_type==="outgoing"?"default":"secondary",children:I.call_type==="outgoing"||I.direction==="outgoing"?" Outgoing":" Incoming"}),I.duration_minutes&&s.jsxs(Ft,{variant:"outline",className:"text-slate-500",children:[I.duration_minutes," min"]}),I.follow_up_needed&&s.jsx(Ft,{variant:"outline",className:"text-amber-600 border-amber-400",children:"Follow-up Needed"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Contact:"})," ",s.jsx("span",{className:"font-medium",children:I.contact_person}),s.jsxs("span",{className:"text-slate-400 ml-1",children:["(",I.contact_type,")"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Phone:"})," ",s.jsx("span",{className:"font-medium",children:I.phone_number||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Purpose:"})," ",s.jsx("span",{className:"font-medium",children:I.purpose||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Date:"})," ",s.jsx("span",{className:"font-medium",children:new Date(I.call_date).toLocaleDateString()})]})]}),I.notes&&s.jsx("p",{className:"text-sm text-slate-600 mt-2 bg-slate-50 p-2 rounded",children:I.notes}),I.outcome&&s.jsxs("p",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"text-slate-500",children:"Outcome:"})," ",I.outcome]}),I.follow_up_date&&s.jsxs("p",{className:"text-sm text-amber-600",children:["Follow-up scheduled: ",new Date(I.follow_up_date).toLocaleDateString()]}),I.reminder_date&&s.jsxs("p",{className:"text-sm text-purple-600",children:[" Reminder: ",new Date(I.reminder_date).toLocaleDateString(),I.reminder_email&&`  ${I.reminder_email}`]}),I.caller&&s.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Logged by: ",I.caller.first_name," ",I.caller.last_name]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>W(I),className:I.follow_up_needed?"text-amber-600 hover:bg-amber-50":"hover:bg-slate-100",title:"Toggle follow-up",children:s.jsx(Di,{size:18})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>_(I),className:"hover:bg-slate-100",children:s.jsx(ja,{size:18})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>P(I.id),className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(Qa,{size:18})})]})]})})},I.id)}),C.length===0&&s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-12 text-center text-slate-500",children:[s.jsx(ef,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No call logs found"}),s.jsx("p",{className:"text-sm",children:"Start logging calls to track parent communication"})]})})]}),s.jsx(pr,{open:u,onOpenChange:d,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:f?"Edit Call Log":"Log New Call"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Student *"}),s.jsxs(_t,{value:g.student_id,onValueChange:N,children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select student"})}),s.jsx(yt,{children:i.map(I=>s.jsxs(De,{value:I.id,children:[I.first_name," ",I.last_name]},I.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Contact Type"}),s.jsxs(_t,{value:g.contact_type,onValueChange:S,children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"father",children:"Father"}),s.jsx(De,{value:"mother",children:"Mother"}),s.jsx(De,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Call Type"}),s.jsxs(_t,{value:g.call_type,onValueChange:I=>y({...g,call_type:I}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"outgoing",children:"Outgoing"}),s.jsx(De,{value:"incoming",children:"Incoming"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Contact Person *"}),s.jsx(We,{value:g.contact_person,onChange:I=>y({...g,contact_person:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Phone Number"}),s.jsx(We,{value:g.phone_number,onChange:I=>y({...g,phone_number:I.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Purpose"}),s.jsx(We,{value:g.purpose,onChange:I=>y({...g,purpose:I.target.value}),placeholder:"e.g., Attendance, Progress update, Behavior"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Notes"}),s.jsx(Er,{value:g.notes,onChange:I=>y({...g,notes:I.target.value}),rows:3,placeholder:"Details of the conversation..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Outcome"}),s.jsx(We,{value:g.outcome,onChange:I=>y({...g,outcome:I.target.value}),placeholder:"Result or action items from the call"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Direction"}),s.jsxs(_t,{value:g.direction,onValueChange:I=>y({...g,direction:I,call_type:I}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"outgoing",children:" Outgoing"}),s.jsx(De,{value:"incoming",children:" Incoming"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Duration (minutes)"}),s.jsx(We,{type:"number",value:g.duration_minutes,onChange:I=>y({...g,duration_minutes:I.target.value}),placeholder:"e.g., 15"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Reminder Date"}),s.jsx(We,{type:"date",value:g.reminder_date,onChange:I=>y({...g,reminder_date:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Reminder Email"}),s.jsx(We,{type:"email",value:g.reminder_email,onChange:I=>y({...g,reminder_email:I.target.value}),placeholder:"email@example.com"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g.follow_up_needed,onChange:I=>y({...g,follow_up_needed:I.target.checked}),className:"rounded border-slate-300"}),s.jsx("span",{className:"text-sm",children:"Follow-up needed"})]}),g.follow_up_needed&&s.jsx(We,{type:"date",value:g.follow_up_date,onChange:I=>y({...g,follow_up_date:I.target.value}),className:"w-40"})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(Se,{onClick:A,className:"bg-green-600 hover:bg-green-700",children:f?"Update":"Save Call Log"})]})]})})]})};function Wn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ko(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Rm(e,t){const r=Wn(e);return isNaN(t)?Ko(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function HI(e,t){const r=Wn(e);if(isNaN(t))return Ko(e,NaN);if(!t)return r;const n=r.getDate(),a=Ko(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const RG=6048e5,URe=864e5,$G=6e4,BG=36e5;let zRe={};function yx(){return zRe}function ac(e,t){var l,c,u,d;const r=yx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Wn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ib(e){return ac(e,{weekStartsOn:1})}function UG(e){const t=Wn(e),r=t.getFullYear(),n=Ko(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Ib(n),i=Ko(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Ib(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Iv(e){const t=Wn(e);return t.setHours(0,0,0,0),t}function WI(e){const t=Wn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function VRe(e,t){const r=Iv(e),n=Iv(t),a=+r-WI(r),i=+n-WI(n);return Math.round((a-i)/URe)}function HRe(e){const t=UG(e),r=Ko(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ib(r)}function qI(e,t){const r=t*7;return Rm(e,r)}function WRe(e){return Ko(e,Date.now())}function FA(e,t){const r=Iv(e),n=Iv(t);return+r==+n}function qRe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function GRe(e){if(!qRe(e)&&typeof e!="number")return!1;const t=Wn(e);return!isNaN(Number(t))}function GI(e){const t=Wn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function KRe(e,t){const r=Wn(e.start),n=Wn(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=(t==null?void 0:t.step)??1;if(!l)return[];l<0&&(l=-l,a=!a);const c=[];for(;+o<=i;)c.push(Wn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function KI(e){const t=Wn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function YRe(e){const t=Wn(e),r=Ko(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function cy(e,t){var l,c,u,d;const r=yx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Wn(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const XRe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JRe=(e,t,r)=>{let n;const a=XRe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Jj(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const QRe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZRe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},e7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},t7e={date:Jj({formats:QRe,defaultWidth:"full"}),time:Jj({formats:ZRe,defaultWidth:"full"}),dateTime:Jj({formats:e7e,defaultWidth:"full"})},r7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n7e=(e,t,r,n)=>r7e[e];function vm(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const a7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},i7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},s7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},u7e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},d7e={ordinalNumber:u7e,era:vm({values:a7e,defaultWidth:"wide"}),quarter:vm({values:i7e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:vm({values:s7e,defaultWidth:"wide"}),day:vm({values:o7e,defaultWidth:"wide"}),dayPeriod:vm({values:l7e,defaultWidth:"wide",formattingValues:c7e,defaultFormattingWidth:"wide"})};function xm(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?h7e(l,f=>f.test(o)):f7e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function f7e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function h7e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function p7e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const m7e=/^(\d+)(th|st|nd|rd)?/i,g7e=/\d+/i,v7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x7e={any:[/^b/i,/^(a|c)/i]},y7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},b7e={any:[/1/i,/2/i,/3/i,/4/i]},w7e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_7e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j7e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},S7e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},N7e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A7e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},T7e={ordinalNumber:p7e({matchPattern:m7e,parsePattern:g7e,valueCallback:e=>parseInt(e,10)}),era:xm({matchPatterns:v7e,defaultMatchWidth:"wide",parsePatterns:x7e,defaultParseWidth:"any"}),quarter:xm({matchPatterns:y7e,defaultMatchWidth:"wide",parsePatterns:b7e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xm({matchPatterns:w7e,defaultMatchWidth:"wide",parsePatterns:_7e,defaultParseWidth:"any"}),day:xm({matchPatterns:j7e,defaultMatchWidth:"wide",parsePatterns:S7e,defaultParseWidth:"any"}),dayPeriod:xm({matchPatterns:N7e,defaultMatchWidth:"any",parsePatterns:A7e,defaultParseWidth:"any"})},C7e={code:"en-US",formatDistance:JRe,formatLong:t7e,formatRelative:n7e,localize:d7e,match:T7e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function E7e(e){const t=Wn(e);return VRe(t,YRe(t))+1}function k7e(e){const t=Wn(e),r=+Ib(t)-+HRe(t);return Math.round(r/RG)+1}function zG(e,t){var d,f,h,p;const r=Wn(e),n=r.getFullYear(),a=yx(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ko(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ac(o,t),c=Ko(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=ac(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function P7e(e,t){var l,c,u,d;const r=yx(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=zG(e,t),i=Ko(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ac(i,t)}function O7e(e,t){const r=Wn(e),n=+ac(r,t)-+P7e(r,t);return Math.round(n/RG)+1}function Jr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Xc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Jr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Jr(r+1,2)},d(e,t){return Jr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Jr(e.getHours()%12||12,t.length)},H(e,t){return Jr(e.getHours(),t.length)},m(e,t){return Jr(e.getMinutes(),t.length)},s(e,t){return Jr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Jr(a,t.length)}},lh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YI={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Xc.y(e,t)},Y:function(e,t,r,n){const a=zG(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Jr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Jr(i,t.length)},R:function(e,t){const r=UG(e);return Jr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Jr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Jr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Jr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Xc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Jr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=O7e(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Jr(a,t.length)},I:function(e,t,r){const n=k7e(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Jr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Xc.d(e,t)},D:function(e,t,r){const n=E7e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Jr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Jr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Jr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Jr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=lh.noon:n===0?a=lh.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=lh.evening:n>=12?a=lh.afternoon:n>=4?a=lh.morning:a=lh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Xc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Xc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Jr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Jr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Xc.s(e,t)},S:function(e,t){return Xc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return JI(n);case"XXXX":case"XX":return bd(n);case"XXXXX":case"XXX":default:return bd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return JI(n);case"xxxx":case"xx":return bd(n);case"xxxxx":case"xxx":default:return bd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+XI(n,":");case"OOOO":default:return"GMT"+bd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+XI(n,":");case"zzzz":default:return"GMT"+bd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Jr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Jr(n,t.length)}};function XI(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Jr(i,2)}function JI(e,t){return e%60===0?(e>0?"-":"+")+Jr(Math.abs(e)/60,2):bd(e,t)}function bd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Jr(Math.trunc(n/60),2),i=Jr(n%60,2);return r+a+t+i}const QI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},VG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},F7e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return QI(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",QI(n,t)).replace("{{time}}",VG(a,t))},D7e={p:VG,P:F7e},L7e=/^D+$/,I7e=/^Y+$/,M7e=["D","DD","YY","YYYY"];function R7e(e){return L7e.test(e)}function $7e(e){return I7e.test(e)}function B7e(e,t,r){const n=U7e(e,t,r);if(console.warn(n),M7e.includes(e))throw new RangeError(n)}function U7e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const z7e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,V7e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,H7e=/^'([^]*?)'?$/,W7e=/''/g,q7e=/[a-zA-Z]/;function Jc(e,t,r){var d,f,h,p,v,m,x,g;const n=yx(),a=(r==null?void 0:r.locale)??n.locale??C7e,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,l=Wn(e);if(!GRe(l))throw new RangeError("Invalid time value");let c=t.match(V7e).map(y=>{const b=y[0];if(b==="p"||b==="P"){const j=D7e[b];return j(y,a.formatLong)}return y}).join("").match(z7e).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:G7e(y)};if(YI[b])return{isToken:!0,value:y};if(b.match(q7e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&$7e(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&R7e(b))&&B7e(b,t,String(e));const j=YI[b[0]];return j(l,b,a.localize,u)}).join("")}function G7e(e){const t=e.match(H7e);return t?t[1].replace(W7e,"'"):e}function K7e(e){return Wn(e).getHours()}function Y7e(e,t){const r=Wn(e),n=Wn(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function uy(e){return FA(e,WRe(e))}function ym(e,t){const r=(t==null?void 0:t.additionalDigits)??2,n=Z7e(e);let a;if(n.date){const c=e$e(n.date,r);a=t$e(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=r$e(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=n$e(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const dy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},X7e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,J7e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Q7e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Z7e(e){const t={},r=e.split(dy.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],dy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(dy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=dy.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function e$e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function t$e(e,t){if(t===null)return new Date(NaN);const r=e.match(X7e);if(!r)return new Date(NaN);const n=!!r[4],a=bm(r[1]),i=bm(r[2])-1,o=bm(r[3]),l=bm(r[4]),c=bm(r[5])-1;if(n)return l$e(t,l,c)?a$e(t,l,c):new Date(NaN);{const u=new Date(0);return!s$e(t,i,o)||!o$e(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function bm(e){return e?parseInt(e):1}function r$e(e){const t=e.match(J7e);if(!t)return NaN;const r=Qj(t[1]),n=Qj(t[2]),a=Qj(t[3]);return c$e(r,n,a)?r*BG+n*$G+a*1e3:NaN}function Qj(e){return e&&parseFloat(e.replace(",","."))||0}function n$e(e){if(e==="Z")return 0;const t=e.match(Q7e);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return u$e(n,a)?r*(n*BG+a*$G):NaN}function a$e(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const i$e=[31,null,31,30,31,30,31,31,30,31,30,31];function HG(e){return e%400===0||e%4===0&&e%100!==0}function s$e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(i$e[t]||(HG(e)?29:28))}function o$e(e,t){return t>=1&&t<=(HG(e)?366:365)}function l$e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function c$e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function u$e(e,t){return t>=0&&t<=59}const d$e=({isOpen:e,onClose:t,meeting:r,students:n,onSuccess:a})=>{const{toast:i}=Tr(),[o,l]=O.useState(!1),[c,u]=O.useState({student_id:"",title:"",description:"",meeting_date:"",meeting_time:"",duration:60,location:"",status:"scheduled"});O.useEffect(()=>{if(r){const g=!r.id,y=r.meeting_date?new Date(r.meeting_date):new Date;u({student_id:r.student_id||"",title:r.title||"",description:r.description||"",meeting_date:g&&r.meeting_date?r.meeting_date:y.toISOString().split("T")[0],meeting_time:g&&r.meeting_time?r.meeting_time:y.toTimeString().slice(0,5),duration:r.duration||60,location:r.location||"",status:r.status||"scheduled"})}else u({student_id:"",title:"",description:"",meeting_date:new Date().toISOString().split("T")[0],meeting_time:"09:00",duration:60,location:"",status:"scheduled"})},[r,e]);const d=async g=>{if(u(y=>({...y,student_id:g})),g){const y=n.find(b=>b.id===g);y&&!c.title&&u(b=>({...b,title:`Meeting w/ ${y.name}'s Parents`}))}},f=async g=>{if(g&&g.preventDefault(),l(!0),!c.student_id||!c.title||!c.meeting_date||!c.meeting_time){i({variant:"destructive",title:"Error",description:"Please fill in all required fields"}),l(!1);return}const y=new Date(`${c.meeting_date}T${c.meeting_time}`),b={student_id:c.student_id,title:c.title,description:c.description,meeting_date:y.toISOString(),duration:parseInt(c.duration),location:c.location,status:c.status},{error:j}=r&&r.id?await je.from("meetings").update(b).eq("id",r.id):await je.from("meetings").insert([b]);j?i({variant:"destructive",title:"Error",description:`Failed to ${r&&r.id?"update":"create"} meeting`}):(i({title:"Success",description:`Meeting ${r&&r.id?"updated":"created"} successfully`}),a(),t()),l(!1)},h=async()=>{if(!(r!=null&&r.id))return;l(!0);const{error:g}=await je.from("meetings").update({status:"completed"}).eq("id",r.id);g?i({variant:"destructive",title:"Error",description:"Failed to update status"}):(i({title:"Completed",description:"Meeting marked as completed"}),a(),t()),l(!1)},p=()=>{u(y=>({...y,status:"scheduled"}));const g=document.getElementById("meeting_date");g&&(g.focus(),g.showPicker&&g.showPicker()),i({title:"Rescheduling",description:"Please select a new date and time, then click Update."})},v=n.find(g=>g.id===c.student_id),m=r&&r.meeting_date&&new Date(r.meeting_date)<new Date,x=r&&r.id;return s.jsx(pr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-2xl",children:[s.jsx(mr,{children:s.jsx(gr,{children:x?"Edit Meeting":"Schedule Meeting"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"student",children:"Student *"}),s.jsxs("select",{id:"student",value:c.student_id,onChange:g=>d(g.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a student"}),n.map(g=>s.jsxs("option",{value:g.id,children:[g.name," - ",g.class]},g.id))]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"title",children:"Title *"}),s.jsx("input",{id:"title",type:"text",value:c.title,onChange:g=>u({...c,title:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"meeting_date",children:"Date *"}),s.jsx("input",{id:"meeting_date",type:"date",value:c.meeting_date,onChange:g=>u({...c,meeting_date:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"meeting_time",children:"Time *"}),s.jsx("input",{id:"meeting_time",type:"time",value:c.meeting_time,onChange:g=>u({...c,meeting_time:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"duration",children:"Duration (min)"}),s.jsx("input",{id:"duration",type:"number",min:"15",step:"15",value:c.duration,onChange:g=>u({...c,duration:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"status",children:"Status"}),s.jsxs("select",{id:"status",value:c.status,onChange:g=>u({...c,status:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"description",children:"Notes / Agenda"}),s.jsx("textarea",{id:"description",value:c.description,onChange:g=>u({...c,description:g.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between pt-4 gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[x&&m&&c.status!=="completed"&&s.jsxs(Se,{type:"button",variant:"outline",className:"bg-green-50 text-green-700 hover:bg-green-100 border-green-200",onClick:h,children:[s.jsx(Di,{size:16,className:"mr-2"})," Complete"]}),x&&c.status!=="completed"&&s.jsxs(Se,{type:"button",variant:"outline",className:"bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200",onClick:p,children:[s.jsx(Zte,{size:16,className:"mr-2"})," Reschedule"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),s.jsx(Se,{type:"submit",disabled:o,className:"bg-gradient-to-r from-indigo-500 to-indigo-600",children:o?s.jsx(na,{className:"animate-spin h-4 w-4"}):x?"Update":"Schedule"})]})]})]})}),s.jsxs("div",{className:"border-l pl-6 hidden md:block",children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[s.jsx(Wo,{size:16})," Student Details"]}),v?s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 block text-xs uppercase",children:"Name"}),s.jsx("span",{className:"font-medium",children:v.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 block text-xs uppercase",children:"Class"}),s.jsx("span",{className:"font-medium",children:v.class})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 block text-xs uppercase",children:"Parents"}),s.jsxs("div",{children:["F: ",v.father_name||"-"]}),s.jsxs("div",{children:["M: ",v.mother_name||"-"]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx("p",{className:"text-xs text-slate-400 italic",children:'Click "Update" or "Schedule" to save the meeting with this student.'})})]}):s.jsx("div",{className:"text-slate-400 text-sm italic py-8 text-center",children:"Select a student to view details."})]})]})]})})},f$e=()=>{const e=new Date,t=e.getFullYear();return e.getMonth()>=7?`${t}-${t+1}`:`${t-1}-${t}`},h$e=()=>{const t=new Date().getFullYear(),r=[];for(let n=5;n>=1;n--)r.push(`${t-n}-${t-n+1}`);r.push(`${t}-${t+1}`);for(let n=1;n<=2;n++)r.push(`${t+n}-${t+n+1}`);return r},p$e=({isOpen:e,onClose:t,studentId:r})=>{var Ae,Z,ke,Ge,Le,qe,ge;const{toast:n}=Tr(),[a,i]=O.useState(null),[o,l]=O.useState([]),[c,u]=O.useState([]),[d,f]=O.useState([]),[h,p]=O.useState([]),[v,m]=O.useState([]),[x,g]=O.useState([]),[y,b]=O.useState([]),[j,_]=O.useState([]),[N,S]=O.useState(""),[A,P]=O.useState(!1),[W,C]=O.useState(!1),[k,z]=O.useState(!1),[I,R]=O.useState(!1),[V,L]=O.useState("all"),M=O.useMemo(()=>h$e(),[]),[F,U]=O.useState({fee_id:"",amount:"",notes:""}),[X,E]=O.useState({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),[H,G]=O.useState({totalAmount:"",payment_method:"cash",reference_number:"",notes:"",selectedStudents:{}});O.useEffect(()=>{r&&e&&q()},[r,e]),O.useEffect(()=>{if(V==="all")p(v),g(y);else{const de=v.filter(ft=>{var bt;return((bt=ft.fee)==null?void 0:bt.academic_year)===V});p(de);const ze=new Set(de.map(ft=>ft.id)),Ke=y.filter(ft=>ze.has(ft.student_fee_id));g(Ke)}},[V,v,y]);const q=async()=>{P(!0);try{const{data:de}=await je.from("students").select(`
          *,
          class:classes!class_id(name, grade:grades(name))
        `).eq("id",r).single();if(i(de),de!=null&&de.father_phone){const{data:Et}=await je.from("students").select(`
            id, first_name, last_name, hebrew_name, name,
            class:classes!class_id(name, grade:grades(name))
          `).eq("father_phone",de.father_phone).neq("id",r).eq("status","active");if(l(Et||[]),Et&&Et.length>0){const _e=Et.map(gt=>gt.id),ot=[r,..._e],{data:rt}=await je.from("student_fees").select(`
              *,
              fee:fees(name, description, due_date, academic_year),
              student:students(id, first_name, last_name, hebrew_name)
            `).in("student_id",ot).in("status",["pending","partial"]).order("created_at",{ascending:!1}),qt={};(rt||[]).forEach(gt=>{qt[gt.student_id]||(qt[gt.student_id]={selected:!1,fees:[]}),qt[gt.student_id].fees.push(gt)}),G(gt=>({...gt,selectedStudents:qt}))}}else l([]);const{data:ze}=await je.from("student_issues").select(`
          *,
          reported_by_user:app_users!student_issues_reported_by_fkey(first_name, last_name)
        `).eq("student_id",r).order("created_at",{ascending:!1});u(ze||[]);const{data:Ke}=await je.from("student_fees").select(`
          *,
          fee:fees(name, description, due_date, academic_year, fee_type:fee_types(name, category))
        `).eq("student_id",r).order("created_at",{ascending:!1});m(Ke||[]),p(Ke||[]);const{data:ft}=await je.from("payments").select(`
          *,
          student_fee:student_fees(id, fee:fees(name, academic_year))
        `).eq("student_id",r).order("payment_date",{ascending:!1});b(ft||[]),g(ft||[]);const{data:bt}=await je.from("fees").select("id, name, amount, fee_type:fee_types(name)").eq("status","active");_(bt||[]);const{data:St}=await je.from("teacher_remarks").select("*").eq("student_id",r).order("created_at",{ascending:!1});f(St||[])}catch(de){console.error("Error loading profile:",de)}finally{P(!1)}},ee=(()=>{const de=h.reduce((bt,St)=>bt+(parseFloat(St.amount)||0),0),ze=h.reduce((bt,St)=>bt+(parseFloat(St.amount_paid)||0),0),Ke=de-ze,ft=h.filter(bt=>bt.status==="waived").reduce((bt,St)=>bt+(parseFloat(St.amount)||0),0);return{totalCharges:de,totalPaid:ze,openBalance:Ke,waived:ft}})(),se=async()=>{if(!F.fee_id){n({variant:"destructive",title:"Error",description:"Please select a charge"});return}const de=j.find(Ke=>Ke.id===F.fee_id),ze=F.amount||(de==null?void 0:de.amount)||0;try{const{error:Ke}=await je.from("student_fees").insert({student_id:r,fee_id:F.fee_id,amount:parseFloat(ze),amount_paid:0,status:"pending",notes:F.notes||null});if(Ke)throw Ke;n({title:"Added",description:"Charge has been added"}),U({fee_id:"",amount:"",notes:""}),C(!1),q()}catch(Ke){console.error("Error adding charge:",Ke),n({variant:"destructive",title:"Error",description:"Failed to add charge"})}},J=async()=>{if(!X.student_fee_id||!X.amount){n({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}try{const{error:de}=await je.from("payments").insert({student_id:r,student_fee_id:X.student_fee_id,amount:parseFloat(X.amount),payment_method:X.payment_method,reference_number:X.reference_number||null,payment_date:new Date().toISOString(),notes:X.notes||null});if(de)throw de;const ze=h.find(Ke=>Ke.id===X.student_fee_id);if(ze){const Ke=(parseFloat(ze.amount_paid)||0)+parseFloat(X.amount),ft=Ke>=parseFloat(ze.amount)?"paid":"partial";await je.from("student_fees").update({amount_paid:Ke,status:ft}).eq("id",X.student_fee_id)}n({title:"Paid",description:"Payment has been recorded"}),E({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),z(!1),q()}catch(de){console.error("Error adding payment:",de),n({variant:"destructive",title:"Error",description:"Cannot record payment"})}},ce=async()=>{if(!N.trim())return;const{error:de}=await je.from("teacher_remarks").insert({student_id:r,content:N,teacher_name:"Current User"});de||(S(""),q())},pe=async()=>{var bt;if(!H.totalAmount||parseFloat(H.totalAmount)<=0){n({variant:"destructive",title:"Error",description:"Please enter an amount"});return}const de=[];if(Object.entries(H.selectedStudents).forEach(([St,Et])=>{Et.selected&&Et.fees&&Et.fees.forEach(_e=>{var rt,qt,gt;const ot=parseFloat(_e.amount)-parseFloat(_e.amount_paid||0);ot>0&&de.push({studentId:St,feeId:_e.id,feeName:(rt=_e.fee)==null?void 0:rt.name,balance:ot,studentName:((qt=_e.student)==null?void 0:qt.hebrew_name)||((gt=_e.student)==null?void 0:gt.first_name)})})}),de.length===0){n({variant:"destructive",title:"Error",description:"Please select students with open balances"});return}let ze=parseFloat(H.totalAmount);const Ke=[],ft=[];for(const St of de){if(ze<=0)break;const Et=Math.min(ze,St.balance);ze-=Et,Ke.push({student_id:St.studentId,student_fee_id:St.feeId,amount:Et,payment_method:H.payment_method,reference_number:H.reference_number||null,payment_date:new Date().toISOString(),notes:H.notes||`Family Payment - ${St.studentName}`});const _e=(bt=H.selectedStudents[St.studentId])==null?void 0:bt.fees.find(qt=>qt.id===St.feeId),ot=(parseFloat(_e==null?void 0:_e.amount_paid)||0)+Et,rt=ot>=parseFloat(_e==null?void 0:_e.amount)?"paid":"partial";ft.push({id:St.feeId,amount_paid:ot,status:rt})}try{const{error:St}=await je.from("payments").insert(Ke);if(St)throw St;for(const Et of ft)await je.from("student_fees").update({amount_paid:Et.amount_paid,status:Et.status}).eq("id",Et.id);n({title:"Family Payment Recorded",description:`$${parseFloat(H.totalAmount).toFixed(2)} split across ${Ke.length} charges`}),G({totalAmount:"",payment_method:"cash",reference_number:"",notes:"",selectedStudents:{}}),R(!1),q()}catch(St){console.error("Error processing family payment:",St),n({variant:"destructive",title:"Error",description:"Cannot process payment"})}},Q=de=>{G(ze=>{var Ke;return{...ze,selectedStudents:{...ze.selectedStudents,[de]:{...ze.selectedStudents[de],selected:!((Ke=ze.selectedStudents[de])!=null&&Ke.selected)}}}})},Oe=()=>{let de=0;return Object.entries(H.selectedStudents).forEach(([ze,Ke])=>{Ke.selected&&Ke.fees&&Ke.fees.forEach(ft=>{de+=parseFloat(ft.amount)-parseFloat(ft.amount_paid||0)})}),de},$e=de=>{const ze={pending:"bg-yellow-100 text-yellow-800",partial:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",waived:"bg-gray-100 text-gray-800",overdue:"bg-red-100 text-red-800"},Ke={pending:"Pending",partial:"Partial",paid:"Paid",waived:"Waived",overdue:"Overdue"};return s.jsx(Ft,{className:ze[de]||"bg-gray-100",children:Ke[de]||de})};return A?s.jsx(pr,{open:e,onOpenChange:t,children:s.jsx(dr,{className:"max-w-4xl",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(na,{className:"h-8 w-8 animate-spin text-blue-600"})})})}):a?s.jsx(pr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[s.jsxs(mr,{children:[s.jsxs(gr,{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Wo,{className:"h-6 w-6"}),a.hebrew_name||a.name||`${a.first_name} ${a.last_name}`]}),s.jsxs("p",{className:"text-slate-500",children:["Class: ",((Ae=a.class)==null?void 0:Ae.name)||"N/A"," |",((ke=(Z=a.class)==null?void 0:Z.grade)==null?void 0:ke.name)&&` ${a.class.grade.name}`]})]}),s.jsxs(kl,{defaultValue:"details",className:"mt-4",children:[s.jsxs(Xo,{className:"grid w-full grid-cols-4",children:[s.jsx(wr,{value:"details",children:"Details"}),s.jsxs(wr,{value:"financial",className:"flex items-center gap-1",children:[s.jsx(gs,{className:"h-4 w-4"}),"Account (",ee.openBalance>0?`$${ee.openBalance.toFixed(2)}`:"Balance",")"]}),s.jsxs(wr,{value:"issues",children:["Issues (",c.length,")"]}),s.jsxs(wr,{value:"remarks",children:["Remarks (",d.length,")"]})]}),s.jsxs(Qr,{value:"details",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Wo,{size:16})," Parents"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Father:"})," ",a.father_name||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Mother:"})," ",a.mother_name||"N/A"]})]})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(ef,{size:16})," Contact"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Father Phone:"})," ",a.father_phone||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Mother Phone:"})," ",a.mother_phone||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",a.address||"N/A",", ",a.city||""]})]})]})]}),o.length>0&&s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(La,{size:16,className:"text-purple-600"}),"Siblings in School (",o.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(de=>{var ze;return s.jsxs("div",{className:"px-3 py-2 bg-white rounded-lg border border-purple-200 text-sm",children:[s.jsxs("span",{className:"font-medium",children:[de.hebrew_name||de.first_name," ",de.last_name]}),s.jsxs("span",{className:"text-purple-600 mr-2",children:["| ",(ze=de.class)==null?void 0:ze.name]})]},de.id)})})]})]}),s.jsxs(Qr,{value:"financial",className:"mt-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-100 rounded-lg",children:[s.jsx(Cs,{className:"h-5 w-5 text-slate-600"}),s.jsx(be,{className:"font-medium",children:"Year:"}),s.jsxs(_t,{value:V,onValueChange:L,children:[s.jsx(xt,{className:"w-[180px]",children:s.jsx(jt,{placeholder:"Select year..."})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Years"}),M.map(de=>s.jsxs(De,{value:de,children:[de," ",de===f$e()&&"(Current)"]},de))]})]}),s.jsx("span",{className:"text-sm text-slate-500",children:V==="all"?`Showing all ${v.length} charges`:`Showing ${h.length} charges for ${V}`})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Charges"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:["$",ee.totalCharges.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["$",ee.totalPaid.toFixed(2)]})]}),s.jsxs("div",{className:`p-4 rounded-lg border ${ee.openBalance>0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("p",{className:`text-sm font-medium ${ee.openBalance>0?"text-red-600":"text-gray-600"}`,children:"Open Balance"}),s.jsxs("p",{className:`text-2xl font-bold ${ee.openBalance>0?"text-red-800":"text-gray-800"}`,children:["$",ee.openBalance.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Waived"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",ee.waived.toFixed(2)]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Se,{onClick:()=>C(!W),variant:W?"secondary":"default",size:"sm",children:[s.jsx(on,{className:"h-4 w-4 ml-1"}),"Add Charge"]}),s.jsxs(Se,{onClick:()=>z(!k),variant:k?"secondary":"outline",size:"sm",children:[s.jsx(Ym,{className:"h-4 w-4 ml-1"}),"Record Payment"]}),o.length>0&&s.jsxs(Se,{onClick:()=>R(!I),variant:I?"secondary":"outline",size:"sm",className:"bg-purple-100 hover:bg-purple-200 text-purple-800 border-purple-300",children:[s.jsx(La,{className:"h-4 w-4 ml-1"}),"Family Payment (",o.length+1," children)"]})]}),I&&o.length>0&&s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-300 space-y-4",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(La,{className:"h-5 w-5 text-purple-600"}),"Family Payment - ",a.father_name||"Family"]}),s.jsx("p",{className:"text-sm text-purple-700",children:"Select children and the payment will be split across their open balances"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Select Children:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${(Ge=H.selectedStudents[r])!=null&&Ge.selected?"bg-purple-100 border-purple-400":"bg-white border-gray-200 hover:border-purple-300"}`,onClick:()=>Q(r),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:((Le=H.selectedStudents[r])==null?void 0:Le.selected)||!1,onChange:()=>{},className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[a.hebrew_name||a.first_name," ",a.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:(qe=a.class)==null?void 0:qe.name}),((ge=H.selectedStudents[r])==null?void 0:ge.fees)&&s.jsxs("p",{className:"text-sm text-red-600 font-medium",children:["Balance: $",H.selectedStudents[r].fees.reduce((de,ze)=>de+parseFloat(ze.amount)-parseFloat(ze.amount_paid||0),0).toFixed(2)]})]})]})}),o.map(de=>{var ze,Ke,ft,bt;return s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${(ze=H.selectedStudents[de.id])!=null&&ze.selected?"bg-purple-100 border-purple-400":"bg-white border-gray-200 hover:border-purple-300"}`,onClick:()=>Q(de.id),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:((Ke=H.selectedStudents[de.id])==null?void 0:Ke.selected)||!1,onChange:()=>{},className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[de.hebrew_name||de.first_name," ",de.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:(ft=de.class)==null?void 0:ft.name}),((bt=H.selectedStudents[de.id])==null?void 0:bt.fees)&&s.jsxs("p",{className:"text-sm text-red-600 font-medium",children:["Balance: $",H.selectedStudents[de.id].fees.reduce((St,Et)=>St+parseFloat(Et.amount)-parseFloat(Et.amount_paid||0),0).toFixed(2)]})]})]})},de.id)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-3 border-t border-purple-200",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Total Amount"}),s.jsx(We,{type:"number",step:"0.01",placeholder:`Maximum: $${Oe().toFixed(2)}`,value:H.totalAmount,onChange:de=>G({...H,totalAmount:de.target.value}),className:"text-lg font-bold"}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Total Selected Balance: $",Oe().toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Payment Method"}),s.jsxs(_t,{value:H.payment_method,onValueChange:de=>G({...H,payment_method:de}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"cash",children:"Cash"}),s.jsx(De,{value:"check",children:"Check"}),s.jsx(De,{value:"credit_card",children:"Credit Card"}),s.jsx(De,{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Reference # (Check/Card)"}),s.jsx(We,{placeholder:"Reference number",value:H.reference_number,onChange:de=>G({...H,reference_number:de.target.value})})]})]}),s.jsxs(Se,{onClick:pe,size:"sm",className:"bg-purple-600 hover:bg-purple-700",disabled:Oe()===0,children:[s.jsx(Ym,{className:"h-4 w-4 ml-1"}),"Record Family Payment"]})]}),W&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Add New Charge"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Charge Type"}),s.jsxs(_t,{value:F.fee_id,onValueChange:de=>U({...F,fee_id:de}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select..."})}),s.jsx(yt,{children:j.map(de=>s.jsxs(De,{value:de.id,children:[de.name," - $",de.amount]},de.id))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Amount (if different)"}),s.jsx(We,{type:"number",step:"0.01",placeholder:"Amount",value:F.amount,onChange:de=>U({...F,amount:de.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Notes"}),s.jsx(We,{placeholder:"Notes",value:F.notes,onChange:de=>U({...F,notes:de.target.value})})]})]}),s.jsx(Se,{onClick:se,size:"sm",children:"Add Charge"})]}),k&&s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200 space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Record Payment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"For Which Charge"}),s.jsxs(_t,{value:X.student_fee_id,onValueChange:de=>E({...X,student_fee_id:de}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select..."})}),s.jsx(yt,{children:h.filter(de=>de.status!=="paid"&&de.status!=="waived").map(de=>{var ze;return s.jsxs(De,{value:de.id,children:[(ze=de.fee)==null?void 0:ze.name," - Balance: $",(parseFloat(de.amount)-parseFloat(de.amount_paid||0)).toFixed(2)]},de.id)})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Amount"}),s.jsx(We,{type:"number",step:"0.01",placeholder:"Amount",value:X.amount,onChange:de=>E({...X,amount:de.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Payment Method"}),s.jsxs(_t,{value:X.payment_method,onValueChange:de=>E({...X,payment_method:de}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"cash",children:"Cash"}),s.jsx(De,{value:"check",children:"Check"}),s.jsx(De,{value:"credit_card",children:"Credit Card"}),s.jsx(De,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(De,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Reference # (Check/Card)"}),s.jsx(We,{placeholder:"Reference number",value:X.reference_number,onChange:de=>E({...X,reference_number:de.target.value})})]})]}),s.jsx(Se,{onClick:J,size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Record Payment"})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Rg,{className:"h-5 w-5"}),"Charges (",h.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:h.length===0?s.jsx("p",{className:"text-slate-500 text-center py-4",children:V==="all"?"No charges found":`No charges found for ${V}`}):h.map(de=>{var ze,Ke,ft,bt,St,Et,_e;return s.jsxs("div",{className:"p-3 bg-white border rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((ze=de.fee)==null?void 0:ze.name)||"Charge"}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(ft=(Ke=de.fee)==null?void 0:Ke.fee_type)==null?void 0:ft.name,((bt=de.fee)==null?void 0:bt.academic_year)&&s.jsx("span",{className:"mx-1",children:"|"}),((St=de.fee)==null?void 0:St.academic_year)&&s.jsx("span",{className:"text-blue-600",children:de.fee.academic_year}),((Et=de.fee)==null?void 0:Et.due_date)&&s.jsx("span",{className:"mx-1",children:"|"}),((_e=de.fee)==null?void 0:_e.due_date)&&new Date(de.fee.due_date).toLocaleDateString("he-IL")]}),de.notes&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:de.notes})]}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(de.amount).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Paid: $",parseFloat(de.amount_paid||0).toFixed(2)]}),$e(de.status)]})]},de.id)})})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border-2 border-green-300",children:[s.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-green-800",children:[s.jsx(Ym,{className:"h-6 w-6"})," Payment History (",x.length,")"]}),x.length===0?s.jsx("p",{className:"text-slate-500 text-center py-6 bg-white rounded-lg",children:V==="all"?"No payments found - this student has not paid yet":`No payments found for ${V}`}):s.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[s.jsxs("div",{className:"mb-3 p-3 bg-green-100 rounded-lg flex justify-between items-center",children:[s.jsx("span",{className:"font-medium text-green-800",children:"Total Paid:"}),s.jsxs("span",{className:"text-xl font-bold text-green-700",children:["$",x.reduce((de,ze)=>de+parseFloat(ze.amount||0),0).toFixed(2)]})]}),x.map(de=>{var ze,Ke,ft,bt;return s.jsxs("div",{className:"p-3 bg-white border border-green-200 rounded-lg flex justify-between items-center shadow-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:((Ke=(ze=de.student_fee)==null?void 0:ze.fee)==null?void 0:Ke.name)||de.description||"Payment"}),s.jsxs("p",{className:"text-sm text-slate-600",children:[de.payment_method==="cash"?" Cash":de.payment_method==="check"?" Check":de.payment_method==="credit_card"?" Credit Card":de.payment_method==="bank_transfer"?" Bank Transfer":de.payment_method,de.reference_number&&` - #${de.reference_number}`,((bt=(ft=de.student_fee)==null?void 0:ft.fee)==null?void 0:bt.academic_year)&&s.jsxs("span",{className:"text-blue-600 mr-2",children:[" | ",de.student_fee.fee.academic_year]})]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[new Date(de.payment_date).toLocaleDateString("he-IL"),de.notes&&` - ${de.notes}`]})]}),s.jsx("div",{className:"text-left",children:s.jsxs("p",{className:"font-bold text-green-600",children:["$",parseFloat(de.amount).toFixed(2)]})})]},de.id)})]})]})]}),s.jsx(Qr,{value:"issues",className:"mt-4",children:s.jsx("div",{className:"space-y-3",children:c.length===0?s.jsx("p",{className:"text-slate-500 text-center py-4",children:"No issues recorded"}):c.map(de=>{var ze,Ke;return s.jsxs("div",{className:"p-3 border rounded-lg bg-white shadow-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h5",{className:"font-semibold text-slate-800",children:de.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${de.status==="open"?"bg-red-100 text-red-700":de.status==="in_progress"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:de.status==="open"?"Open":de.status==="in_progress"?"In Progress":"Done"})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:de.description}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-400",children:[s.jsxs("span",{children:["Reported by: ",(ze=de.reported_by_user)==null?void 0:ze.first_name," ",(Ke=de.reported_by_user)==null?void 0:Ke.last_name]}),s.jsx("span",{children:new Date(de.created_at).toLocaleDateString("he-IL")})]})]},de.id)})})}),s.jsx(Qr,{value:"remarks",className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Add a remark...",className:"flex-1 px-3 py-2 border rounded-lg",value:N,onChange:de=>S(de.target.value)}),s.jsxs(Se,{onClick:ce,size:"sm",children:[s.jsx(d0,{className:"h-4 w-4 ml-2"})," Add"]})]}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:d.length===0?s.jsx("p",{className:"text-slate-500 text-center py-4",children:"No remarks found"}):d.map(de=>s.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-slate-700",children:de.content}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-400",children:[s.jsx("span",{children:de.teacher_name}),s.jsx("span",{children:new Date(de.created_at).toLocaleDateString("he-IL")})]})]},de.id))})]})})]})]})}):null},m$e=()=>{const{toast:e}=Tr(),[t,r]=O.useState(new Date),[n,a]=O.useState("month"),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!1),[f,h]=O.useState(null),[p,v]=O.useState(null),[m,x]=O.useState(null);O.useEffect(()=>{y(),g()},[t,n]);const g=async()=>{const{data:A}=await je.from("students").select("id, name, class");c(A||[])},y=async()=>{let A,P;n==="month"?(A=KI(t),P=GI(t),A=ac(A),P=cy(P)):n==="week"?(A=ac(t),P=cy(t)):(A=Iv(t),P=Rm(A,1));const{data:W,error:C}=await je.from("meetings").select("*, students(name, class)").gte("meeting_date",A.toISOString()).lte("meeting_date",P.toISOString());C?(console.error(C),e({variant:"destructive",title:"Error",description:"Failed to load calendar events"})):o(W||[])},b=A=>{r(n==="month"?P=>A==="next"?HI(P,1):HI(P,-1):n==="week"?P=>A==="next"?qI(P,1):qI(P,-1):P=>A==="next"?Rm(P,1):Rm(P,-1))},j=(A,P=9)=>{const W=Jc(A,"yyyy-MM-dd"),C=`${P.toString().padStart(2,"0")}:00`;h(null),v({meeting_date:W,meeting_time:C}),d(!0)},_=(A,P)=>{A.stopPropagation(),h(P),v(null),d(!0)},N=()=>{const A=KI(t),P=GI(A),W=ac(A),C=cy(P),k="d",z=[];let I=[],R=W,V="";const L=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],M=s.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-sm font-semibold text-slate-500",children:L.map(F=>s.jsx("div",{className:"py-2",children:F},F))});for(;R<=C;){for(let F=0;F<7;F++){V=Jc(R,k);const U=R,X=i.filter(E=>FA(ym(E.meeting_date),R));I.push(s.jsxs("div",{className:`min-h-[120px] bg-white border border-slate-100 p-2 relative hover:bg-slate-50 transition-colors cursor-pointer flex flex-col gap-1 ${Y7e(R,A)?"text-slate-700":"text-slate-300 bg-slate-50/50"} ${uy(R)?"bg-blue-50/30 border-blue-200":""}`,onClick:()=>j(U),children:[s.jsx("div",{className:`text-right text-sm font-medium ${uy(R)?"text-blue-600":""}`,children:V}),s.jsx("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto max-h-[100px] scrollbar-hide",children:X.map(E=>{var H;return s.jsxs("div",{onClick:G=>_(G,E),className:`text-xs px-2 py-1 rounded truncate border shadow-sm ${E.status==="completed"?"bg-green-100 border-green-200 text-green-800":E.status==="cancelled"?"bg-red-50 text-red-400 line-through":"bg-blue-100 border-blue-200 text-blue-800"}`,title:`${Jc(ym(E.meeting_date),"h:mm a")} - ${E.title}`,children:[s.jsx("span",{className:"font-semibold mr-1",children:Jc(ym(E.meeting_date),"h:mm a")}),((H=E.students)==null?void 0:H.name)||E.title]},E.id)})})]},R)),R=Rm(R,1)}z.push(s.jsx("div",{className:"grid grid-cols-7 gap-1",children:I},R)),I=[]}return s.jsxs("div",{className:"bg-slate-100 p-1 rounded-lg shadow-inner",children:[M,z]})},S=A=>{const P=Array.from({length:13},(W,C)=>C+7);return s.jsxs("div",{className:"flex bg-white border rounded-lg overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"w-16 flex-shrink-0 border-r bg-slate-50",children:[s.jsx("div",{className:"h-12 border-b"})," ",P.map(W=>s.jsx("div",{className:"h-20 border-b text-xs text-slate-500 text-right pr-2 pt-2",children:W>12?`${W-12} PM`:`${W} AM`},W))]}),s.jsx("div",{className:"flex-1 flex overflow-x-auto",children:A.map(W=>s.jsxs("div",{className:"flex-1 min-w-[150px] border-r last:border-r-0",children:[s.jsxs("div",{className:`h-12 border-b flex flex-col justify-center items-center ${uy(W)?"bg-blue-50":"bg-slate-50"}`,children:[s.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase",children:Jc(W,"EEE")}),s.jsx("span",{className:`text-sm font-bold ${uy(W)?"text-blue-600":"text-slate-800"}`,children:Jc(W,"MMM d")})]}),s.jsxs("div",{className:"relative",children:[P.map(C=>s.jsx("div",{className:"h-20 border-b border-slate-100 hover:bg-slate-50 cursor-pointer relative group",onClick:()=>j(W,C),children:s.jsx("div",{className:"hidden group-hover:flex absolute inset-0 items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(on,{className:"text-blue-300 h-6 w-6"})})},C)),i.filter(C=>FA(ym(C.meeting_date),W)).map(C=>{var M;const k=ym(C.meeting_date),z=K7e(k),I=k.getMinutes(),R=(z-7)*80+I/60*80,L=(C.duration||60)/60*80;return z<7||z>19?null:s.jsxs("div",{onClick:F=>_(F,C),className:`absolute left-1 right-1 rounded p-2 text-xs border shadow-sm cursor-pointer hover:brightness-95 transition-all z-10 overflow-hidden ${C.status==="completed"?"bg-green-100 border-green-300 text-green-900":"bg-blue-100 border-blue-300 text-blue-900"}`,style:{top:`${R}px`,height:`${L}px`},children:[s.jsx("div",{className:"font-bold",children:Jc(k,"h:mm a")}),s.jsx("div",{className:"truncate font-medium",children:(M=C.students)==null?void 0:M.name}),s.jsx("div",{className:"truncate text-blue-800/70",children:C.title})]},C.id)})]})]},W.toString()))})]})};return s.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>b("prev"),className:"h-8 w-8",children:s.jsx(tre,{size:16})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>r(new Date),className:"h-8 px-3 text-xs font-semibold",children:"Today"}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>b("next"),className:"h-8 w-8",children:s.jsx(X$,{size:16})})]}),s.jsx("h2",{className:"text-xl font-bold text-slate-800 min-w-[200px]",children:Jc(t,"MMMM yyyy")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(kl,{value:n,onValueChange:a,className:"w-[300px]",children:s.jsxs(Xo,{className:"grid w-full grid-cols-3",children:[s.jsx(wr,{value:"month",children:"Month"}),s.jsx(wr,{value:"week",children:"Week"}),s.jsx(wr,{value:"day",children:"Day"})]})}),s.jsxs(Se,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>d(!0),children:[s.jsx(on,{size:16,className:"mr-2"})," Event"]})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto bg-white rounded-lg shadow border p-4",children:[n==="month"&&N(),n==="week"&&S(KRe({start:ac(t),end:cy(t)})),n==="day"&&S([t])]}),s.jsx(d$e,{isOpen:u,onClose:()=>{d(!1),v(null),h(null)},meeting:f?{...f}:p?{title:"",student_id:"",meeting_date:p.meeting_date,meeting_time:p.meeting_time,duration:60,status:"scheduled"}:null,students:l,onSuccess:()=>{y(),d(!1)}}),s.jsx(p$e,{isOpen:!!m,onClose:()=>x(null),studentId:m})]})},ZI=({role:e="principal"})=>{const{toast:t}=Tr(),{t:r}=qT(),[n,a]=O.useState({totalStudents:0,openIssues:0,pendingCalls:0,upcomingMeetings:0,emergencyMeetings:0});O.useEffect(()=>{i()},[]);const i=async()=>{var l,c;try{const[u,d,f,h]=await Promise.all([je.from("students").select("id",{count:"exact"}),je.from("issues").select("id",{count:"exact"}).eq("status","open"),je.from("call_logs").select("id",{count:"exact"}),je.from("meetings").select("meeting_date").eq("status","scheduled")]),p=new Date,v=((l=h.data)==null?void 0:l.filter(x=>new Date(x.meeting_date)>=p).length)||0,m=((c=h.data)==null?void 0:c.filter(x=>new Date(x.meeting_date)<p).length)||0;a({totalStudents:u.count||0,openIssues:d.count||0,pendingCalls:f.count||0,upcomingMeetings:v,emergencyMeetings:m})}catch{t({variant:"destructive",title:"Error",description:"Failed to load statistics"})}},o=[{title:r("overview.totalStudents"),value:n.totalStudents,icon:La,color:"from-blue-500 to-blue-600"},{title:r("overview.openIssues"),value:n.openIssues,icon:rs,color:"from-amber-500 to-amber-600"},{title:r("overview.pendingCalls"),value:n.pendingCalls,icon:ef,color:"from-green-500 to-green-600"},{title:r("overview.upcomingMeetings"),value:n.upcomingMeetings,icon:Cs,color:"from-indigo-500 to-indigo-600"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:r("overview.title")}),s.jsx("p",{className:"text-slate-600 mt-2",children:r("overview.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(l=>{const c=l.icon;return s.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-200 p-6 text-left",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${l.color}`,children:s.jsx(c,{className:"text-white",size:24})})}),s.jsx("h3",{className:"text-slate-600 text-sm font-medium",children:l.title}),s.jsx("p",{className:"text-3xl font-bold text-slate-800 mt-2",children:l.value})]},l.title)})}),n.emergencyMeetings>0&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg text-left",children:s.jsxs("div",{className:"flex items-center gap-3 justify-start flex-row",children:[s.jsx(rs,{className:"text-red-500",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-semibold",children:r("overview.emergency")}),s.jsxs("p",{className:"text-red-700 text-sm",children:[n.emergencyMeetings," meetings need attention!"]})]})]})})]})},g$e=()=>{const{toast:e}=Tr(),[t,r]=O.useState([]),[n,a]=O.useState({day_of_week:"Monday",type:"calls",start_time:"09:00",end_time:"10:00"}),i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];O.useEffect(()=>{o()},[]);const o=async()=>{const{data:u,error:d}=await je.from("time_slots").select("*").order("day_of_week").order("start_time");d?e({variant:"destructive",title:"Error",description:"Failed to load time slots"}):r(u||[])},l=async u=>{if(u.preventDefault(),n.start_time>=n.end_time){e({variant:"destructive",title:"Invalid Time",description:"Start time must be before end time"});return}const{error:d}=await je.from("time_slots").insert([n]);d?e({variant:"destructive",title:"Error",description:"Failed to add time slot"}):(e({title:"Success",description:"Time slot added successfully"}),o())},c=async u=>{const{error:d}=await je.from("time_slots").delete().eq("id",u);d?e({variant:"destructive",title:"Error",description:"Failed to delete slot"}):o()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Time Slots"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage availability for calls and meetings"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Slot"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"day",children:"Day"}),s.jsx("select",{id:"day",value:n.day_of_week,onChange:u=>a({...n,day_of_week:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1",children:i.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"type",children:"Type"}),s.jsxs("select",{id:"type",value:n.type,onChange:u=>a({...n,type:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1",children:[s.jsx("option",{value:"calls",children:"Calls"}),s.jsx("option",{value:"meetings",children:"Meetings"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{htmlFor:"start",children:"Start Time"}),s.jsx("input",{type:"time",id:"start",value:n.start_time,onChange:u=>a({...n,start_time:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1"})]}),s.jsxs("div",{children:[s.jsx(be,{htmlFor:"end",children:"End Time"}),s.jsx("input",{type:"time",id:"end",value:n.end_time,onChange:u=>a({...n,end_time:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1"})]})]}),s.jsxs(Se,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-blue-600",children:[s.jsx(on,{size:16,className:"mr-2"})," Add Slot"]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Weekly Schedule"}),s.jsxs("div",{className:"space-y-6",children:[i.map(u=>{const d=t.filter(f=>f.day_of_week===u);return d.length===0?null:s.jsxs("div",{className:"border-b last:border-0 pb-4 last:pb-0",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:u}),s.jsx("div",{className:"space-y-2",children:d.map(f=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qs,{size:16,className:"text-slate-400"}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium uppercase ${f.type==="calls"?"bg-green-100 text-green-700":"bg-indigo-100 text-indigo-700"}`,children:f.type}),s.jsxs("span",{className:"text-sm text-slate-600",children:[f.start_time.slice(0,5)," - ",f.end_time.slice(0,5)]})]}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>c(f.id),className:"h-8 w-8 hover:bg-red-50 hover:text-red-600",children:s.jsx(Qa,{size:14})})]},f.id))})]},u)}),t.length===0&&s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No time slots configured yet."})]})]})})]})]})},v$e=()=>{const{toast:e}=Tr(),[t,r]=O.useState(1),[n,a]=O.useState("class"),[i,o]=O.useState(""),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState({duration:15,startDate:new Date().toISOString().split("T")[0],daysOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday"],type:"calls"}),[p,v]=O.useState([]),[m,x]=O.useState(!1);O.useEffect(()=>{g()},[n]);const g=async()=>{const{data:_}=await je.from("students").select(n),N=[...new Set(_.map(S=>S[n]))].filter(Boolean).sort();c(N)},y=async()=>{if(!i)return;const{data:_,error:N}=await je.from("students").select("id, name, class, teacher").eq(n,i);N?e({variant:"destructive",title:"Error",description:"Failed to fetch students"}):(d(_.map(S=>({...S,selected:!0}))),r(2))},b=async()=>{x(!0);try{const{data:_}=await je.from("time_slots").select("*").eq("type",f.type).order("start_time");if(!_||_.length===0){e({variant:"destructive",title:"No Slots",description:`No time slots configured for ${f.type}`}),x(!1);return}let N=new Date(f.startDate);const S=[],A=u.filter(W=>W.selected);let P=0;for(let W=0;W<30&&P<A.length;W++){const C=N.toLocaleDateString("en-US",{weekday:"long"});if(f.daysOfWeek.includes(C)){const k=_.filter(z=>z.day_of_week===C);for(const z of k){let I=new Date(`${N.toISOString().split("T")[0]}T${z.start_time}`);const R=new Date(`${N.toISOString().split("T")[0]}T${z.end_time}`);for(;I<R&&P<A.length;){const V=new Date(I.getTime()+f.duration*6e4);if(V<=R)S.push({student:A[P],date:I.toISOString().split("T")[0],time:I.toTimeString().slice(0,5),endTime:V.toTimeString().slice(0,5)}),P++,I=V;else break}}}N.setDate(N.getDate()+1)}v(S),r(3)}catch(_){console.error(_),e({variant:"destructive",title:"Error",description:"Scheduling failed"})}finally{x(!1)}},j=async()=>{x(!0);try{const _=p.map(A=>{if(f.type==="calls")return{student_id:A.student.id,contact_person:"Parent/Guardian",phone_number:"Pending",follow_up_date:A.date,notes:`Scheduled Bulk Call for ${A.date} at ${A.time}`,completed:!1};{const P=new Date(`${A.date}T${A.time}`).toISOString();return{student_id:A.student.id,title:`Scheduled Meeting: ${A.student.name}`,description:"Bulk scheduled meeting",meeting_date:P,duration:f.duration,status:"scheduled"}}}),N=f.type==="calls"?"call_logs":"meetings",{error:S}=await je.from(N).insert(_);if(S)throw S;e({title:"Success",description:`Successfully scheduled ${_.length} ${f.type}`}),r(1),d([]),v([])}catch{e({variant:"destructive",title:"Error",description:"Failed to save schedule"})}finally{x(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Bulk Scheduling"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Auto-schedule multiple calls or meetings efficiently"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[t===1&&s.jsxs("div",{className:"space-y-4 max-w-lg",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 1: Select Students"}),s.jsxs("div",{children:[s.jsx(be,{children:"Filter By"}),s.jsxs("div",{className:"flex gap-4 mt-2 mb-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:n==="class",onChange:()=>a("class")})," Class"]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:n==="teacher",onChange:()=>a("teacher")})," Teacher"]})]}),s.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:i,onChange:_=>o(_.target.value),children:[s.jsxs("option",{value:"",children:["Select ",n,"..."]}),l.map(_=>s.jsx("option",{value:_,children:_},_))]})]}),s.jsx(Se,{onClick:y,disabled:!i,className:"w-full",children:"Next"})]}),t===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 2: Configure Schedule"}),s.jsxs("span",{className:"text-sm text-slate-500",children:[u.filter(_=>_.selected).length," students selected"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Schedule Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg mt-1",value:f.type,onChange:_=>h({...f,type:_.target.value}),children:[s.jsx("option",{value:"calls",children:"Phone Calls"}),s.jsx("option",{value:"meetings",children:"Meetings"})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Duration (minutes)"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border rounded-lg mt-1",value:f.duration,onChange:_=>h({...f,duration:parseInt(_.target.value)})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Start Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg mt-1",value:f.startDate,onChange:_=>h({...f,startDate:_.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{className:"mb-2 block",children:"Allowed Days"}),s.jsx("div",{className:"space-y-2 border rounded-lg p-3 bg-slate-50",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(_=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:f.daysOfWeek.includes(_),onChange:N=>{const S=N.target.checked?[...f.daysOfWeek,_]:f.daysOfWeek.filter(A=>A!==_);h({...f,daysOfWeek:S})}}),_]},_))})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Se,{variant:"outline",onClick:()=>r(1),children:"Back"}),s.jsx(Se,{onClick:b,disabled:m,children:m?"Calculating...":"Preview Schedule"})]})]}),t===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 3: Preview & Confirm"}),s.jsx("div",{className:"bg-slate-50 rounded-lg p-4 max-h-96 overflow-y-auto border",children:p.length===0?s.jsx("p",{className:"text-red-500",children:"Could not fit any students into the available slots."}):s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2",children:"Date"}),s.jsx("th",{className:"px-3 py-2",children:"Time"}),s.jsx("th",{className:"px-3 py-2",children:"Student"}),s.jsx("th",{className:"px-3 py-2",children:"Class"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:p.map((_,N)=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 font-medium",children:[_.date," (",new Date(_.date).toLocaleDateString("en-US",{weekday:"short"}),")"]}),s.jsxs("td",{className:"px-3 py-2",children:[_.time," - ",_.endTime]}),s.jsx("td",{className:"px-3 py-2",children:_.student.name}),s.jsx("td",{className:"px-3 py-2 text-slate-500",children:_.student.class})]},N))})]})}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-blue-700",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Summary:"})," Scheduled ",p.length," of ",u.filter(_=>_.selected).length," selected students."]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Se,{variant:"outline",onClick:()=>r(2),children:"Adjust Configuration"}),s.jsxs(Se,{onClick:j,disabled:p.length===0||m,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Di,{className:"mr-2 h-4 w-4"})," Confirm & Save"]})]})]})]})]})};function Zr(e){"@babel/helpers - typeof";return Zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr(e)}var mi=Uint8Array,_s=Uint16Array,IE=Int32Array,__=new mi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),j_=new mi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),DA=new mi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WG=function(e,t){for(var r=new _s(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new IE(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},qG=WG(__,2),GG=qG.b,LA=qG.r;GG[28]=258,LA[258]=28;var KG=WG(j_,0),x$e=KG.b,eM=KG.r,IA=new _s(32768);for(var _n=0;_n<32768;++_n){var Qc=(_n&43690)>>1|(_n&21845)<<1;Qc=(Qc&52428)>>2|(Qc&13107)<<2,Qc=(Qc&61680)>>4|(Qc&3855)<<4,IA[_n]=((Qc&65280)>>8|(Qc&255)<<8)>>1}var jl=function(e,t,r){for(var n=e.length,a=0,i=new _s(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new _s(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new _s(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[IA[f]>>c]=u}else for(l=new _s(n),a=0;a<n;++a)e[a]&&(l[a]=IA[o[e[a]-1]++]>>15-e[a]);return l},Bu=new mi(288);for(var _n=0;_n<144;++_n)Bu[_n]=8;for(var _n=144;_n<256;++_n)Bu[_n]=9;for(var _n=256;_n<280;++_n)Bu[_n]=7;for(var _n=280;_n<288;++_n)Bu[_n]=8;var Mv=new mi(32);for(var _n=0;_n<32;++_n)Mv[_n]=5;var y$e=jl(Bu,9,0),b$e=jl(Bu,9,1),w$e=jl(Mv,5,0),_$e=jl(Mv,5,1),Zj=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},jo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},eS=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},ME=function(e){return(e+7)/8|0},YG=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new mi(e.subarray(t,r))},j$e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Co=function(e,t,r){var n=new Error(t||j$e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Co),!r)throw n;return n},S$e=function(e,t,r,n){var a=e.length,i=n?n.length:0;if(!a||t.f&&!t.l)return r||new mi(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new mi(a*3));var u=function(pe){var Q=r.length;if(pe>Q){var Oe=new mi(Math.max(Q*2,pe));Oe.set(r),r=Oe}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,v=t.d,m=t.m,x=t.n,g=a*8;do{if(!p){d=jo(e,f,1);var y=jo(e,f+1,3);if(f+=3,y)if(y==1)p=b$e,v=_$e,m=9,x=5;else if(y==2){var N=jo(e,f,31)+257,S=jo(e,f+10,15)+4,A=N+jo(e,f+5,31)+1;f+=14;for(var P=new mi(A),W=new mi(19),C=0;C<S;++C)W[DA[C]]=jo(e,f+C*3,7);f+=S*3;for(var k=Zj(W),z=(1<<k)-1,I=jl(W,k,1),C=0;C<A;){var R=I[jo(e,f,z)];f+=R&15;var b=R>>4;if(b<16)P[C++]=b;else{var V=0,L=0;for(b==16?(L=3+jo(e,f,3),f+=2,V=P[C-1]):b==17?(L=3+jo(e,f,7),f+=3):b==18&&(L=11+jo(e,f,127),f+=7);L--;)P[C++]=V}}var M=P.subarray(0,N),F=P.subarray(N);m=Zj(M),x=Zj(F),p=jl(M,m,1),v=jl(F,x,1)}else Co(1);else{var b=ME(f)+4,j=e[b-4]|e[b-3]<<8,_=b+j;if(_>a){c&&Co(0);break}l&&u(h+j),r.set(e.subarray(b,_),h),t.b=h+=j,t.p=f=_*8,t.f=d;continue}if(f>g){c&&Co(0);break}}l&&u(h+131072);for(var U=(1<<m)-1,X=(1<<x)-1,E=f;;E=f){var V=p[eS(e,f)&U],H=V>>4;if(f+=V&15,f>g){c&&Co(0);break}if(V||Co(2),H<256)r[h++]=H;else if(H==256){E=f,p=null;break}else{var G=H-254;if(H>264){var C=H-257,q=__[C];G=jo(e,f,(1<<q)-1)+GG[C],f+=q}var K=v[eS(e,f)&X],ee=K>>4;K||Co(3),f+=K&15;var F=x$e[ee];if(ee>3){var q=j_[ee];F+=eS(e,f)&(1<<q)-1,f+=q}if(f>g){c&&Co(0);break}l&&u(h+131072);var se=h+G;if(h<F){var J=i-F,ce=Math.min(F,se);for(J+h<0&&Co(3);h<ce;++h)r[h]=n[J+h]}for(;h<se;++h)r[h]=r[h-F]}}t.l=p,t.p=E,t.b=h,t.f=d,p&&(d=1,t.m=m,t.d=v,t.n=x)}while(!d);return h!=r.length&&o?YG(r,0,h):r.subarray(0,h)},Gl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},wm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},tS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:JG,l:0};if(a==1){var o=new mi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,N){return _.f-N.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new _s(h+1),v=MA(r[d-1],p,0);if(v>t){var n=0,m=0,x=v-t,g=1<<x;for(i.sort(function(N,S){return p[S.s]-p[N.s]||N.f-S.f});n<a;++n){var y=i[n].s;if(p[y]>t)m+=g-(1<<v-p[y]),p[y]=t;else break}for(m>>=x;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var j=i[n].s;p[j]==t&&(--p[j],++m)}v=t}return{t:new mi(p),l:v}},MA=function(e,t,r){return e.s==-1?Math.max(MA(e.l,t,r+1),MA(e.r,t,r+1)):t[e.s]=r},tM=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new _s(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},_m=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},XG=function(e,t,r){var n=r.length,a=ME(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},rM=function(e,t,r,n,a,i,o,l,c,u,d){Gl(t,d++,r),++a[256];for(var f=tS(a,15),h=f.t,p=f.l,v=tS(i,15),m=v.t,x=v.l,g=tM(h),y=g.c,b=g.n,j=tM(m),_=j.c,N=j.n,S=new _s(19),A=0;A<y.length;++A)++S[y[A]&31];for(var A=0;A<_.length;++A)++S[_[A]&31];for(var P=tS(S,7),W=P.t,C=P.l,k=19;k>4&&!W[DA[k-1]];--k);var z=u+5<<3,I=_m(a,Bu)+_m(i,Mv)+o,R=_m(a,h)+_m(i,m)+o+14+3*k+_m(S,W)+2*S[16]+3*S[17]+7*S[18];if(c>=0&&z<=I&&z<=R)return XG(t,d,e.subarray(c,c+u));var V,L,M,F;if(Gl(t,d,1+(R<I)),d+=2,R<I){V=jl(h,p,0),L=h,M=jl(m,x,0),F=m;var U=jl(W,C,0);Gl(t,d,b-257),Gl(t,d+5,N-1),Gl(t,d+10,k-4),d+=14;for(var A=0;A<k;++A)Gl(t,d+3*A,W[DA[A]]);d+=3*k;for(var X=[y,_],E=0;E<2;++E)for(var H=X[E],A=0;A<H.length;++A){var G=H[A]&31;Gl(t,d,U[G]),d+=W[G],G>15&&(Gl(t,d,H[A]>>5&127),d+=H[A]>>12)}}else V=y$e,L=Bu,M=w$e,F=Mv;for(var A=0;A<l;++A){var q=n[A];if(q>255){var G=q>>18&31;wm(t,d,V[G+257]),d+=L[G+257],G>7&&(Gl(t,d,q>>23&31),d+=__[G]);var K=q&31;wm(t,d,M[K]),d+=F[K],K>3&&(wm(t,d,q>>5&8191),d+=j_[K])}else wm(t,d,V[q]),d+=L[q]}return wm(t,d,V[256]),d+L[256]},N$e=new IE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),JG=new mi(0),A$e=function(e,t,r,n,a,i){var o=i.z||e.length,l=new mi(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=N$e[t-1],h=f>>13,p=f&8191,v=(1<<r)-1,m=i.p||new _s(32768),x=i.h||new _s(v+1),g=Math.ceil(r/3),y=2*g,b=function($e){return(e[$e]^e[$e+1]<<g^e[$e+2]<<y)&v},j=new IE(25e3),_=new _s(288),N=new _s(32),S=0,A=0,P=i.i||0,W=0,C=i.w||0,k=0;P+2<o;++P){var z=b(P),I=P&32767,R=x[z];if(m[I]=R,x[z]=I,C<=P){var V=o-P;if((S>7e3||W>24576)&&(V>423||!u)){d=rM(e,c,0,j,_,N,A,W,k,P-k,d),W=S=A=0,k=P;for(var L=0;L<286;++L)_[L]=0;for(var L=0;L<30;++L)N[L]=0}var M=2,F=0,U=p,X=I-R&32767;if(V>2&&z==b(P-X))for(var E=Math.min(h,V)-1,H=Math.min(32767,P),G=Math.min(258,V);X<=H&&--U&&I!=R;){if(e[P+M]==e[P+M-X]){for(var q=0;q<G&&e[P+q]==e[P+q-X];++q);if(q>M){if(M=q,F=X,q>E)break;for(var K=Math.min(X,q-2),ee=0,L=0;L<K;++L){var se=P-X+L&32767,J=m[se],ce=se-J&32767;ce>ee&&(ee=ce,R=se)}}}I=R,R=m[I],X+=I-R&32767}if(F){j[W++]=268435456|LA[M]<<18|eM[F];var pe=LA[M]&31,Q=eM[F]&31;A+=__[pe]+j_[Q],++_[257+pe],++N[Q],C=P+M,++S}else j[W++]=e[P],++_[e[P]]}}for(P=Math.max(P,C);P<o;++P)j[W++]=e[P],++_[e[P]];d=rM(e,c,u,j,_,N,A,W,k,P-k,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=m,i.i=P,i.w=C)}else{for(var P=i.w||0;P<o+u;P+=65535){var Oe=P+65535;Oe>=o&&(c[d/8|0]=u,Oe=o),d=XG(c,d+1,e.subarray(P,Oe))}i.i=o}return YG(l,0,n+ME(d)+a)},QG=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},T$e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new mi(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return A$e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},ZG=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},C$e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=QG();a.p(t.dictionary),ZG(e,2,a.d())}},E$e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Co(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Co(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function RA(e,t){t||(t={});var r=QG();r.p(e);var n=T$e(e,t,t.dictionary?6:2,4);return C$e(n,t),ZG(n,n.length-4,r.d()),n}function k$e(e,t){return S$e(e.subarray(E$e(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var P$e=typeof TextDecoder<"u"&&new TextDecoder,O$e=0;try{P$e.decode(JG,{stream:!0}),O$e=1}catch{}var Xt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function rS(){Xt.console&&typeof Xt.console.log=="function"&&Xt.console.log.apply(Xt.console,arguments)}var cn={log:rS,warn:function(e){Xt.console&&(typeof Xt.console.warn=="function"?Xt.console.warn.apply(Xt.console,arguments):rS.call(null,arguments))},error:function(e){Xt.console&&(typeof Xt.console.error=="function"?Xt.console.error.apply(Xt.console,arguments):rS(e))}};function nS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){wd(n.response,t,r)},n.onerror=function(){cn.error("could not download file")},n.send()}function nM(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function fy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var pg,$A,wd=Xt.saveAs||((typeof window>"u"?"undefined":Zr(window))!=="object"||window!==Xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Xt.URL||Xt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?nM(a.href)?nS(e,t,r):fy(a,a.target="_blank"):fy(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){fy(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(nM(e))nS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){fy(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Zr(i)!=="object"&&(cn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return nS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Xt.HTMLElement)||Xt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Zr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Xt.URL||Xt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function aS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ai(r,n,a,i,t[0],7,-680876936),i=ai(i,r,n,a,t[1],12,-389564586),a=ai(a,i,r,n,t[2],17,606105819),n=ai(n,a,i,r,t[3],22,-1044525330),r=ai(r,n,a,i,t[4],7,-176418897),i=ai(i,r,n,a,t[5],12,1200080426),a=ai(a,i,r,n,t[6],17,-1473231341),n=ai(n,a,i,r,t[7],22,-45705983),r=ai(r,n,a,i,t[8],7,1770035416),i=ai(i,r,n,a,t[9],12,-1958414417),a=ai(a,i,r,n,t[10],17,-42063),n=ai(n,a,i,r,t[11],22,-1990404162),r=ai(r,n,a,i,t[12],7,1804603682),i=ai(i,r,n,a,t[13],12,-40341101),a=ai(a,i,r,n,t[14],17,-1502002290),r=ii(r,n=ai(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ii(i,r,n,a,t[6],9,-1069501632),a=ii(a,i,r,n,t[11],14,643717713),n=ii(n,a,i,r,t[0],20,-373897302),r=ii(r,n,a,i,t[5],5,-701558691),i=ii(i,r,n,a,t[10],9,38016083),a=ii(a,i,r,n,t[15],14,-660478335),n=ii(n,a,i,r,t[4],20,-405537848),r=ii(r,n,a,i,t[9],5,568446438),i=ii(i,r,n,a,t[14],9,-1019803690),a=ii(a,i,r,n,t[3],14,-187363961),n=ii(n,a,i,r,t[8],20,1163531501),r=ii(r,n,a,i,t[13],5,-1444681467),i=ii(i,r,n,a,t[2],9,-51403784),a=ii(a,i,r,n,t[7],14,1735328473),r=si(r,n=ii(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=si(i,r,n,a,t[8],11,-2022574463),a=si(a,i,r,n,t[11],16,1839030562),n=si(n,a,i,r,t[14],23,-35309556),r=si(r,n,a,i,t[1],4,-1530992060),i=si(i,r,n,a,t[4],11,1272893353),a=si(a,i,r,n,t[7],16,-155497632),n=si(n,a,i,r,t[10],23,-1094730640),r=si(r,n,a,i,t[13],4,681279174),i=si(i,r,n,a,t[0],11,-358537222),a=si(a,i,r,n,t[3],16,-722521979),n=si(n,a,i,r,t[6],23,76029189),r=si(r,n,a,i,t[9],4,-640364487),i=si(i,r,n,a,t[12],11,-421815835),a=si(a,i,r,n,t[15],16,530742520),r=oi(r,n=si(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=oi(i,r,n,a,t[7],10,1126891415),a=oi(a,i,r,n,t[14],15,-1416354905),n=oi(n,a,i,r,t[5],21,-57434055),r=oi(r,n,a,i,t[12],6,1700485571),i=oi(i,r,n,a,t[3],10,-1894986606),a=oi(a,i,r,n,t[10],15,-1051523),n=oi(n,a,i,r,t[1],21,-2054922799),r=oi(r,n,a,i,t[8],6,1873313359),i=oi(i,r,n,a,t[15],10,-30611744),a=oi(a,i,r,n,t[6],15,-1560198380),n=oi(n,a,i,r,t[13],21,1309151649),r=oi(r,n,a,i,t[4],6,-145523070),i=oi(i,r,n,a,t[11],10,-1120210379),a=oi(a,i,r,n,t[2],15,718787259),n=oi(n,a,i,r,t[9],21,-343485551),e[0]=vu(r,e[0]),e[1]=vu(n,e[1]),e[2]=vu(a,e[2]),e[3]=vu(i,e[3])}function S_(e,t,r,n,a,i){return t=vu(vu(t,e),vu(n,i)),vu(t<<a|t>>>32-a,r)}function ai(e,t,r,n,a,i,o){return S_(t&r|~t&n,e,t,a,i,o)}function ii(e,t,r,n,a,i,o){return S_(t&n|r&~n,e,t,a,i,o)}function si(e,t,r,n,a,i,o){return S_(t^r^n,e,t,a,i,o)}function oi(e,t,r,n,a,i,o){return S_(r^(t|~n),e,t,a,i,o)}function tK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)aS(n,F$e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(aS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,aS(n,a),n}function F$e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}pg=Xt.atob.bind(Xt),$A=Xt.btoa.bind(Xt);var aM="0123456789abcdef".split("");function D$e(e){for(var t="",r=0;r<4;r++)t+=aM[e>>8*r+4&15]+aM[e>>8*r&15];return t}function L$e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function BA(e){return tK(e).map(L$e).join("")}var I$e=function(e){for(var t=0;t<e.length;t++)e[t]=D$e(e[t]);return e.join("")}(tK("hello"))!="5d41402abc4b2a76b9719d911017c592";function vu(e,t){if(I$e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function UA(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,p=0,v="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,o=l[(l[h]+l[p])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var iM={print:4,modify:8,copy:16,"annot-forms":32};function fh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(iM.perm!==void 0)throw new Error("Invalid permission: "+l);a+=iM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=BA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=UA(this.encryptionKey,this.padding)}function hh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function sM(e){if(Zr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){Xt.console&&cn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Rv(e){if(!(this instanceof Rv))return new Rv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function rK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function du(e,t,r,n,a){if(!(this instanceof du))return new du(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,rK.call(this,n,a)}function Ld(e,t,r,n,a){if(!(this instanceof Ld))return new Ld(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,rK.call(this,n,a)}function Vt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;Zr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=sM;var v="1.3",m=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(D){v=D};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var g=p.__private__.getPageFormat=function(D){return x[D]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function j(){this.saveGraphicsState(),Z(new mt(rt,0,0,-rt,0,Fc()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),u="n",b=y.ADVANCED}function _(){this.restoreGraphicsState(),u="S",b=y.COMPAT}var N=p.__private__.combineFontStyleAndFontWeight=function(D,re){if(D=="bold"&&re=="normal"||D=="bold"&&re==400||D=="normal"&&re=="italic"||D=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(D=re==400||re==="normal"?D==="italic"?"italic":"normal":re!=700&&re!=="bold"||D!=="normal"?(re==700?"bold":re)+""+D:"bold"),D};p.advancedAPI=function(D){var re=b===y.COMPAT;return re&&j.call(this),typeof D!="function"||(D(this),re&&_.call(this)),this},p.compatAPI=function(D){var re=b===y.ADVANCED;return re&&_.call(this),typeof D!="function"||(D(this),re&&j.call(this)),this},p.isAdvancedAPI=function(){return b===y.ADVANCED};var S,A=function(D){if(b!==y.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=p.roundToPrecision=p.__private__.roundToPrecision=function(D,re){var we=t||re;if(isNaN(D)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(we).replace(/0+$/,"")};S=p.hpf=p.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return P(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return P(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return P(D,16)};var W=p.f2=p.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return P(D,2)},C=p.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return P(D,3)},k=p.scale=p.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?D*rt:b===y.ADVANCED?D:void 0},z=function(D){return b===y.COMPAT?Fc()-D:b===y.ADVANCED?D:void 0},I=function(D){return k(z(D))};p.__private__.setPrecision=p.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var R,V="00000000000000000000000000000000",L=p.__private__.getFileId=function(){return V},M=p.__private__.setFileId=function(D){return V=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Za=new fh(d.userPermissions,d.userPassword,d.ownerPassword,V)),V};p.setFileId=function(D){return M(D),this},p.getFileId=function(){return L()};var F=p.__private__.convertDateToPDFDate=function(D){var re=D.getTimezoneOffset(),we=re<0?"+":"-",Te=Math.floor(Math.abs(re/60)),Ie=Math.abs(re%60),et=[we,G(Te),"'",G(Ie),"'"].join("");return["D:",D.getFullYear(),G(D.getMonth()+1),G(D.getDate()),G(D.getHours()),G(D.getMinutes()),G(D.getSeconds()),et].join("")},U=p.__private__.convertPDFDateToDate=function(D){var re=parseInt(D.substr(2,4),10),we=parseInt(D.substr(6,2),10)-1,Te=parseInt(D.substr(8,2),10),Ie=parseInt(D.substr(10,2),10),et=parseInt(D.substr(12,2),10),ut=parseInt(D.substr(14,2),10);return new Date(re,we,Te,Ie,et,ut,0)},X=p.__private__.setCreationDate=function(D){var re;if(D===void 0&&(D=new Date),D instanceof Date)re=F(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=D}return R=re},E=p.__private__.getCreationDate=function(D){var re=R;return D==="jsDate"&&(re=U(R)),re};p.setCreationDate=function(D){return X(D),this},p.getCreationDate=function(D){return E(D)};var H,G=p.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},q=p.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},K=0,ee=[],se=[],J=0,ce=[],pe=[],Q=!1,Oe=se,$e=function(){K=0,J=0,se=[],ee=[],ce=[],fe=vn(),he=vn()};p.__private__.setCustomOutputDestination=function(D){Q=!0,Oe=D};var Ae=function(D){Q||(Oe=D)};p.__private__.resetCustomOutputDestination=function(){Q=!1,Oe=se};var Z=p.__private__.out=function(D){return D=D.toString(),J+=D.length+1,Oe.push(D),Oe},ke=p.__private__.write=function(D){return Z(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},Ge=p.__private__.getArrayBuffer=function(D){for(var re=D.length,we=new ArrayBuffer(re),Te=new Uint8Array(we);re--;)Te[re]=D.charCodeAt(re);return we},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Le};var qe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(D){return qe=b===y.ADVANCED?D/rt:D,this};var ge,de=p.__private__.getFontSize=p.getFontSize=function(){return b===y.COMPAT?qe:qe*rt},ze=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(D){return ze=D,this},p.__private__.getR2L=p.getR2L=function(){return ze};var Ke,ft=p.__private__.setZoomMode=function(D){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))ge=D;else if(isNaN(D)){if(re.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');ge=D}else ge=parseInt(D,10)};p.__private__.getZoomMode=function(){return ge};var bt,St=p.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Ke=D};p.__private__.getPageMode=function(){return Ke};var Et=p.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');bt=D};p.__private__.getLayoutMode=function(){return bt},p.__private__.setDisplayMode=p.setDisplayMode=function(D,re,we){return ft(D),Et(re),St(we),this};var _e={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(D){if(Object.keys(_e).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _e[D]},p.__private__.getDocumentProperties=function(){return _e},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(D){for(var re in _e)_e.hasOwnProperty(re)&&D[re]&&(_e[re]=D[re]);return this},p.__private__.setDocumentProperty=function(D,re){if(Object.keys(_e).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _e[D]=re};var ot,rt,qt,gt,jr,Gt={},rr={},Hr=[],Ht={},Kr={},le={},$t={},Cr=null,nr=0,Bt=[],Qt=new sM(p),Aa=e.hotfixes||[],rn={},Ye={},Ct=[],mt=function D(re,we,Te,Ie,et,ut){if(!(this instanceof D))return new D(re,we,Te,Ie,et,ut);isNaN(re)&&(re=1),isNaN(we)&&(we=0),isNaN(Te)&&(Te=0),isNaN(Ie)&&(Ie=1),isNaN(et)&&(et=0),isNaN(ut)&&(ut=0),this._matrix=[re,we,Te,Ie,et,ut]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(D)},mt.prototype.multiply=function(D){var re=D.sx*this.sx+D.shy*this.shx,we=D.sx*this.shy+D.shy*this.sy,Te=D.shx*this.sx+D.sy*this.shx,Ie=D.shx*this.shy+D.sy*this.sy,et=D.tx*this.sx+D.ty*this.shx+this.tx,ut=D.tx*this.shy+D.ty*this.sy+this.ty;return new mt(re,we,Te,Ie,et,ut)},mt.prototype.decompose=function(){var D=this.sx,re=this.shy,we=this.shx,Te=this.sy,Ie=this.tx,et=this.ty,ut=Math.sqrt(D*D+re*re),Dt=(D/=ut)*we+(re/=ut)*Te;we-=D*Dt,Te-=re*Dt;var Ut=Math.sqrt(we*we+Te*Te);return Dt/=Ut,D*(Te/=Ut)<re*(we/=Ut)&&(D=-D,re=-re,Dt=-Dt,ut=-ut),{scale:new mt(ut,0,0,Ut,0,0),translate:new mt(1,0,0,1,Ie,et),rotate:new mt(D,re,-re,D,0,0),skew:new mt(1,0,Dt,1,0,0)}},mt.prototype.toString=function(D){return this.join(" ")},mt.prototype.inversed=function(){var D=this.sx,re=this.shy,we=this.shx,Te=this.sy,Ie=this.tx,et=this.ty,ut=1/(D*Te-re*we),Dt=Te*ut,Ut=-re*ut,cr=-we*ut,ir=D*ut;return new mt(Dt,Ut,cr,ir,-Dt*Ie-cr*et,-Ut*Ie-ir*et)},mt.prototype.applyToPoint=function(D){var re=D.x*this.sx+D.y*this.shx+this.tx,we=D.x*this.shy+D.y*this.sy+this.ty;return new Df(re,we)},mt.prototype.applyToRectangle=function(D){var re=this.applyToPoint(D),we=this.applyToPoint(new Df(D.x+D.w,D.y+D.h));return new Ap(re.x,re.y,we.x-re.x,we.y-re.y)},mt.prototype.clone=function(){var D=this.sx,re=this.shy,we=this.shx,Te=this.sy,Ie=this.tx,et=this.ty;return new mt(D,re,we,Te,Ie,et)},p.Matrix=mt;var wt=p.matrixMult=function(D,re){return re.multiply(D)},Ur=new mt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ur;var Pn=function(D,re){if(!Kr[D]){var we=(re instanceof du?"Sh":"P")+(Object.keys(Ht).length+1).toString(10);re.id=we,Kr[D]=we,Ht[we]=re,Qt.publish("addPattern",re)}};p.ShadingPattern=du,p.TilingPattern=Ld,p.addShadingPattern=function(D,re){return A("addShadingPattern()"),Pn(D,re),this},p.beginTilingPattern=function(D){A("beginTilingPattern()"),Lx(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},p.endTilingPattern=function(D,re){A("endTilingPattern()"),re.stream=pe[H].join(`
`),Pn(D,re),Qt.publish("endTilingPattern",re),Ct.pop().restore()};var Nn=p.__private__.newObject=function(){var D=vn();return ne(D,!0),D},vn=p.__private__.newObjectDeferred=function(){return K++,ee[K]=function(){return J},K},ne=function(D,re){return re=typeof re=="boolean"&&re,ee[D]=J,re&&Z(D+" 0 obj"),D},ve=p.__private__.newAdditionalObject=function(){var D={objId:vn(),content:""};return ce.push(D),D},fe=vn(),he=vn(),xe=p.__private__.decodeColorString=function(D){var re=D.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var we=parseFloat(re[0]);re=[we,we,we,"r"]}for(var Te="#",Ie=0;Ie<3;Ie++)Te+=("0"+Math.floor(255*parseFloat(re[Ie])).toString(16)).slice(-2);return Te},ye=p.__private__.encodeColorString=function(D){var re;typeof D=="string"&&(D={ch1:D});var we=D.ch1,Te=D.ch2,Ie=D.ch3,et=D.ch4,ut=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var Dt=new eK(we);if(Dt.ok)we=Dt.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var Ut=parseInt(we.substr(1),16);we=Ut>>16&255,Te=Ut>>8&255,Ie=255&Ut}if(Te===void 0||et===void 0&&we===Te&&Te===Ie)if(typeof we=="string")re=we+" "+ut[0];else switch(D.precision){case 2:re=W(we/255)+" "+ut[0];break;case 3:default:re=C(we/255)+" "+ut[0]}else if(et===void 0||Zr(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return re=["1.","1.","1.",ut[1]].join(" ");if(typeof we=="string")re=[we,Te,Ie,ut[1]].join(" ");else switch(D.precision){case 2:re=[W(we/255),W(Te/255),W(Ie/255),ut[1]].join(" ");break;default:case 3:re=[C(we/255),C(Te/255),C(Ie/255),ut[1]].join(" ")}}else if(typeof we=="string")re=[we,Te,Ie,et,ut[2]].join(" ");else switch(D.precision){case 2:re=[W(we),W(Te),W(Ie),W(et),ut[2]].join(" ");break;case 3:default:re=[C(we),C(Te),C(Ie),C(et),ut[2]].join(" ")}return re},Re=p.__private__.getFilters=function(){return o},Xe=p.__private__.putStream=function(D){var re=(D=D||{}).data||"",we=D.filters||Re(),Te=D.alreadyAppliedFilters||[],Ie=D.addLength1||!1,et=re.length,ut=D.objectId,Dt=function(ei){return ei};if(d!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Dt=Za.encryptor(ut,0));var Ut={};we===!0&&(we=["FlateEncode"]);var cr=D.additionalKeyValues||[],ir=(Ut=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(re,we):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(Ut.data.length!==0&&(cr.push({key:"Length",value:Ut.data.length}),Ie===!0&&cr.push({key:"Length1",value:et})),ir.length!=0)if(ir.split("/").length-1==1)cr.push({key:"Filter",value:ir});else{cr.push({key:"Filter",value:"["+ir+"]"});for(var Or=0;Or<cr.length;Or+=1)if(cr[Or].key==="DecodeParms"){for(var On=[],Rn=0;Rn<Ut.reverseChain.split("/").length-1;Rn+=1)On.push("null");On.push(cr[Or].value),cr[Or].value="["+On.join(" ")+"]"}}Z("<<");for(var ia=0;ia<cr.length;ia++)Z("/"+cr[ia].key+" "+cr[ia].value);Z(">>"),Ut.data.length!==0&&(Z("stream"),Z(Dt(Ut.data)),Z("endstream"))},Me=p.__private__.putPage=function(D){var re=D.number,we=D.data,Te=D.objId,Ie=D.contentsObjId;ne(Te,!0),Z("<</Type /Page"),Z("/Parent "+D.rootDictionaryObjId+" 0 R"),Z("/Resources "+D.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(S(D.mediaBox.bottomLeftX))+" "+parseFloat(S(D.mediaBox.bottomLeftY))+" "+S(D.mediaBox.topRightX)+" "+S(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&Z("/CropBox ["+S(D.cropBox.bottomLeftX)+" "+S(D.cropBox.bottomLeftY)+" "+S(D.cropBox.topRightX)+" "+S(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&Z("/BleedBox ["+S(D.bleedBox.bottomLeftX)+" "+S(D.bleedBox.bottomLeftY)+" "+S(D.bleedBox.topRightX)+" "+S(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&Z("/TrimBox ["+S(D.trimBox.bottomLeftX)+" "+S(D.trimBox.bottomLeftY)+" "+S(D.trimBox.topRightX)+" "+S(D.trimBox.topRightY)+"]"),D.artBox!==null&&Z("/ArtBox ["+S(D.artBox.bottomLeftX)+" "+S(D.artBox.bottomLeftY)+" "+S(D.artBox.topRightX)+" "+S(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&Z("/UserUnit "+D.userUnit),Qt.publish("putPage",{objId:Te,pageContext:Bt[re],pageNumber:re,page:we}),Z("/Contents "+Ie+" 0 R"),Z(">>"),Z("endobj");var et=we.join(`
`);return b===y.ADVANCED&&(et+=`
Q`),ne(Ie,!0),Xe({data:et,filters:Re(),objectId:Ie}),Z("endobj"),Te},Ve=p.__private__.putPages=function(){var D,re,we=[];for(D=1;D<=nr;D++)Bt[D].objId=vn(),Bt[D].contentsObjId=vn();for(D=1;D<=nr;D++)we.push(Me({number:D,data:pe[D],objId:Bt[D].objId,contentsObjId:Bt[D].contentsObjId,mediaBox:Bt[D].mediaBox,cropBox:Bt[D].cropBox,bleedBox:Bt[D].bleedBox,trimBox:Bt[D].trimBox,artBox:Bt[D].artBox,userUnit:Bt[D].userUnit,rootDictionaryObjId:fe,resourceDictionaryObjId:he}));ne(fe,!0),Z("<</Type /Pages");var Te="/Kids [";for(re=0;re<nr;re++)Te+=we[re]+" 0 R ";Z(Te+"]"),Z("/Count "+nr),Z(">>"),Z("endobj"),Qt.publish("postPutPages")},He=function(D){Qt.publish("putFont",{font:D,out:Z,newObject:Nn,putStream:Xe}),D.isAlreadyPutted!==!0&&(D.objectNumber=Nn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+hh(D.postScriptName)),Z("/Subtype /Type1"),typeof D.encoding=="string"&&Z("/Encoding /"+D.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},dt=function(){for(var D in Gt)Gt.hasOwnProperty(D)&&(f===!1||f===!0&&h.hasOwnProperty(D))&&He(Gt[D])},vt=function(D){D.objectNumber=Nn();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[S(D.x),S(D.y),S(D.x+D.width),S(D.y+D.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var we=D.pages[1].join(`
`);Xe({data:we,additionalKeyValues:re,objectId:D.objectNumber}),Z("endobj")},Ot=function(){for(var D in rn)rn.hasOwnProperty(D)&&vt(rn[D])},pt=function(D,re){var we,Te=[],Ie=1/(re-1);for(we=0;we<1;we+=Ie)Te.push(we);if(Te.push(1),D[0].offset!=0){var et={offset:0,color:D[0].color};D.unshift(et)}if(D[D.length-1].offset!=1){var ut={offset:1,color:D[D.length-1].color};D.push(ut)}for(var Dt="",Ut=0,cr=0;cr<Te.length;cr++){for(we=Te[cr];we>D[Ut+1].offset;)Ut++;var ir=D[Ut].offset,Or=(we-ir)/(D[Ut+1].offset-ir),On=D[Ut].color,Rn=D[Ut+1].color;Dt+=q(Math.round((1-Or)*On[0]+Or*Rn[0]).toString(16))+q(Math.round((1-Or)*On[1]+Or*Rn[1]).toString(16))+q(Math.round((1-Or)*On[2]+Or*Rn[2]).toString(16))}return Dt.trim()},Pt=function(D,re){re||(re=21);var we=Nn(),Te=pt(D.colors,re),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+re+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe({data:Te,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),Z("endobj"),D.objectNumber=Nn(),Z("<< /ShadingType "+D.type),Z("/ColorSpace /DeviceRGB");var et="/Coords ["+S(parseFloat(D.coords[0]))+" "+S(parseFloat(D.coords[1]))+" ";D.type===2?et+=S(parseFloat(D.coords[2]))+" "+S(parseFloat(D.coords[3])):et+=S(parseFloat(D.coords[2]))+" "+S(parseFloat(D.coords[3]))+" "+S(parseFloat(D.coords[4]))+" "+S(parseFloat(D.coords[5])),Z(et+="]"),D.matrix&&Z("/Matrix ["+D.matrix.toString()+"]"),Z("/Function "+we+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Zt=function(D,re){var we=vn(),Te=Nn();re.push({resourcesOid:we,objectOid:Te}),D.objectNumber=Te;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+D.boundingBox.map(S).join(" ")+"]"}),Ie.push({key:"XStep",value:S(D.xStep)}),Ie.push({key:"YStep",value:S(D.yStep)}),Ie.push({key:"Resources",value:we+" 0 R"}),D.matrix&&Ie.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Xe({data:D.stream,additionalKeyValues:Ie,objectId:D.objectNumber}),Z("endobj")},Gr=function(D){var re;for(re in Ht)Ht.hasOwnProperty(re)&&(Ht[re]instanceof du?Pt(Ht[re]):Ht[re]instanceof Ld&&Zt(Ht[re],D))},nn=function(D){for(var re in D.objectNumber=Nn(),Z("<<"),D)switch(re){case"opacity":Z("/ca "+W(D[re]));break;case"stroke-opacity":Z("/CA "+W(D[re]))}Z(">>"),Z("endobj")},aa=function(){var D;for(D in le)le.hasOwnProperty(D)&&nn(le[D])},fo=function(){for(var D in Z("/XObject <<"),rn)rn.hasOwnProperty(D)&&rn[D].objectNumber>=0&&Z("/"+D+" "+rn[D].objectNumber+" 0 R");Qt.publish("putXobjectDict"),Z(">>")},Fl=function(){Za.oid=Nn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Za.v),Z("/R "+Za.r),Z("/U <"+Za.toHexString(Za.U)+">"),Z("/O <"+Za.toHexString(Za.O)+">"),Z("/P "+Za.P),Z(">>"),Z("endobj")},el=function(){for(var D in Z("/Font <<"),Gt)Gt.hasOwnProperty(D)&&(f===!1||f===!0&&h.hasOwnProperty(D))&&Z("/"+D+" "+Gt[D].objectNumber+" 0 R");Z(">>")},ho=function(){if(Object.keys(Ht).length>0){for(var D in Z("/Shading <<"),Ht)Ht.hasOwnProperty(D)&&Ht[D]instanceof du&&Ht[D].objectNumber>=0&&Z("/"+D+" "+Ht[D].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),Z(">>")}},tl=function(D){if(Object.keys(Ht).length>0){for(var re in Z("/Pattern <<"),Ht)Ht.hasOwnProperty(re)&&Ht[re]instanceof p.TilingPattern&&Ht[re].objectNumber>=0&&Ht[re].objectNumber<D&&Z("/"+re+" "+Ht[re].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),Z(">>")}},ss=function(){if(Object.keys(le).length>0){var D;for(D in Z("/ExtGState <<"),le)le.hasOwnProperty(D)&&le[D].objectNumber>=0&&Z("/"+D+" "+le[D].objectNumber+" 0 R");Qt.publish("putGStateDict"),Z(">>")}},Gn=function(D){ne(D.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),el(),ho(),tl(D.objectOid),ss(),fo(),Z(">>"),Z("endobj")},bx=function(){var D=[];dt(),aa(),Ot(),Gr(D),Qt.publish("putResources"),D.forEach(Gn),Gn({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},wx=function(){Qt.publish("putAdditionalObjects");for(var D=0;D<ce.length;D++){var re=ce[D];ne(re.objId,!0),Z(re.content),Z("endobj")}Qt.publish("postPutAdditionalObjects")},_x=function(D){rr[D.fontName]=rr[D.fontName]||{},rr[D.fontName][D.fontStyle]=D.id},vp=function(D,re,we,Te,Ie){var et={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:D,fontName:re,fontStyle:we,encoding:Te,isStandardFont:Ie||!1,metadata:{}};return Qt.publish("addFont",{font:et,instance:this}),Gt[et.id]=et,_x(et),et.id},N_=function(D){for(var re=0,we=Le.length;re<we;re++){var Te=vp.call(this,D[re][0],D[re][1],D[re][2],Le[re][3],!0);f===!1&&(h[Te]=!0);var Ie=D[re][0].split("-");_x({id:Te,fontName:Ie[0],fontStyle:Ie[1]||""})}Qt.publish("addFonts",{fonts:Gt,dictionary:rr})},po=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Te){var re=Te.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var we="Error in function "+re.split(`
`)[0].split("<")[0]+": "+Te.message;if(!Xt.console)throw new Error(we);Xt.console.error(we,Te),Xt.alert&&alert(we)}},D.foo.bar=D,D.foo},Cf=function(D,re){var we,Te,Ie,et,ut,Dt,Ut,cr,ir;if(Ie=(re=re||{}).sourceEncoding||"Unicode",ut=re.outputEncoding,(re.autoencode||ut)&&Gt[ot].metadata&&Gt[ot].metadata[Ie]&&Gt[ot].metadata[Ie].encoding&&(et=Gt[ot].metadata[Ie].encoding,!ut&&Gt[ot].encoding&&(ut=Gt[ot].encoding),!ut&&et.codePages&&(ut=et.codePages[0]),typeof ut=="string"&&(ut=et[ut]),ut)){for(Ut=!1,Dt=[],we=0,Te=D.length;we<Te;we++)(cr=ut[D.charCodeAt(we)])?Dt.push(String.fromCharCode(cr)):Dt.push(D[we]),Dt[we].charCodeAt(0)>>8&&(Ut=!0);D=Dt.join("")}for(we=D.length;Ut===void 0&&we!==0;)D.charCodeAt(we-1)>>8&&(Ut=!0),we--;if(!Ut)return D;for(Dt=re.noBOM?[]:[254,255],we=0,Te=D.length;we<Te;we++){if((ir=(cr=D.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Dt.push(ir),Dt.push(cr-(ir<<8))}return String.fromCharCode.apply(void 0,Dt)},Bi=p.__private__.pdfEscape=p.pdfEscape=function(D,re){return Cf(D,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xp=p.__private__.beginPage=function(D){pe[++nr]=[],Bt[nr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Sx(nr),Ae(pe[H])},jx=function(D,re){var we,Te,Ie;switch(r=re||r,typeof D=="string"&&(we=g(D.toLowerCase()),Array.isArray(we)&&(Te=we[0],Ie=we[1])),Array.isArray(D)&&(Te=D[0]*rt,Ie=D[1]*rt),isNaN(Te)&&(Te=a[0],Ie=a[1]),(Te>14400||Ie>14400)&&(cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Ie=Math.min(14400,Ie)),a=[Te,Ie],r.substr(0,1)){case"l":Ie>Te&&(a=[Ie,Te]);break;case"p":Te>Ie&&(a=[Ie,Te])}xp(a),kx(_p),Z(mo),Sp!==0&&Z(Sp+" J"),Np!==0&&Z(Np+" j"),Qt.publish("addPage",{pageNumber:nr})},A_=function(D){D>0&&D<=nr&&(pe.splice(D,1),Bt.splice(D,1),nr--,H>nr&&(H=nr),this.setPage(H))},Sx=function(D){D>0&&D<=nr&&(H=D)},T_=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return pe.length-1},Nx=function(D,re,we){var Te,Ie=void 0;return we=we||{},D=D!==void 0?D:Gt[ot].fontName,re=re!==void 0?re:Gt[ot].fontStyle,Te=D.toLowerCase(),rr[Te]!==void 0&&rr[Te][re]!==void 0?Ie=rr[Te][re]:rr[D]!==void 0&&rr[D][re]!==void 0?Ie=rr[D][re]:we.disableWarning===!1&&cn.warn("Unable to look up font label for font '"+D+"', '"+re+"'. Refer to getFontList() for available fonts."),Ie||we.noFallback||(Ie=rr.times[re])==null&&(Ie=rr.times.normal),Ie},C_=p.__private__.putInfo=function(){var D=Nn(),re=function(Te){return Te};for(var we in d!==null&&(re=Za.encryptor(D,0)),Z("<<"),Z("/Producer ("+Bi(re("jsPDF "+Vt.version))+")"),_e)_e.hasOwnProperty(we)&&_e[we]&&Z("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+Bi(re(_e[we]))+")");Z("/CreationDate ("+Bi(re(R))+")"),Z(">>"),Z("endobj")},yp=p.__private__.putCatalog=function(D){var re=(D=D||{}).rootDictionaryObjId||fe;switch(Nn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+re+" 0 R"),ge||(ge="fullwidth"),ge){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+ge;we.substr(we.length-1)==="%"&&(ge=parseInt(ge)/100),typeof ge=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+W(ge)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Ke&&Z("/PageMode /"+Ke),Qt.publish("putCatalog"),Z(">>"),Z("endobj")},E_=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(K+1)),Z("/Root "+K+" 0 R"),Z("/Info "+(K-1)+" 0 R"),d!==null&&Z("/Encrypt "+Za.oid+" 0 R"),Z("/ID [ <"+V+"> <"+V+"> ]"),Z(">>")},k_=p.__private__.putHeader=function(){Z("%PDF-"+v),Z("%")},P_=p.__private__.putXRef=function(){var D="0000000000";Z("xref"),Z("0 "+(K+1)),Z("0000000000 65535 f ");for(var re=1;re<=K;re++)typeof ee[re]=="function"?Z((D+ee[re]()).slice(-10)+" 00000 n "):ee[re]!==void 0?Z((D+ee[re]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Dl=p.__private__.buildDocument=function(){$e(),Ae(se),Qt.publish("buildDocument"),k_(),Ve(),wx(),bx(),d!==null&&Fl(),C_(),yp();var D=J;return P_(),E_(),Z("startxref"),Z(""+D),Z("%%EOF"),Ae(pe[H]),se.join(`
`)},Ef=p.__private__.getBlob=function(D){return new Blob([Ge(D)],{type:"application/pdf"})},kf=p.output=p.__private__.output=po(function(D,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",D){case void 0:return Dl();case"save":p.save(re.filename);break;case"arraybuffer":return Ge(Dl());case"blob":return Ef(Dl());case"bloburi":case"bloburl":if(Xt.URL!==void 0&&typeof Xt.URL.createObjectURL=="function")return Xt.URL&&Xt.URL.createObjectURL(Ef(Dl()))||void 0;cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Te=Dl();try{we=$A(Te)}catch{we=$A(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+re.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Ie=re.pdfObjectUrl,et="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Dt=Xt.open();return Dt!==null&&Dt.document.write(ut),Dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',cr=Xt.open();if(cr!==null){cr.document.write(Ut);var ir=this;cr.document.documentElement.querySelector("#pdfViewer").onload=function(){cr.document.title=re.filename,cr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ir.output("bloburl"))}}return cr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',On=Xt.open();if(On!==null&&(On.document.write(Or),On.document.title=re.filename),On||typeof safari>"u")return On;break;case"datauri":case"dataurl":return Xt.document.location.href=this.output("datauristring",re);default:return null}}),Ax=function(D){return Array.isArray(Aa)===!0&&Aa.indexOf(D)>-1};switch(n){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=Ax("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);rt=n}var Za=null;X(),M();var O_=function(D){return d!==null?Za.encryptor(D,0):function(re){return re}},Tx=p.__private__.getPageInfo=p.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[D].objId,pageNumber:D,pageContext:Bt[D]}},ar=p.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Bt)if(Bt[re].objId===D)break;return Tx(re)},F_=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Bt[H].objId,pageNumber:H,pageContext:Bt[H]}};p.addPage=function(){return jx.apply(this,arguments),this},p.setPage=function(){return Sx.apply(this,arguments),Ae.call(this,pe[H]),this},p.insertPage=function(D){return this.addPage(),this.movePage(H,D),this},p.movePage=function(D,re){var we,Te;if(D>re){we=pe[D],Te=Bt[D];for(var Ie=D;Ie>re;Ie--)pe[Ie]=pe[Ie-1],Bt[Ie]=Bt[Ie-1];pe[re]=we,Bt[re]=Te,this.setPage(re)}else if(D<re){we=pe[D],Te=Bt[D];for(var et=D;et<re;et++)pe[et]=pe[et+1],Bt[et]=Bt[et+1];pe[re]=we,Bt[re]=Te,this.setPage(re)}return this},p.deletePage=function(){return A_.apply(this,arguments),this},p.__private__.text=p.text=function(D,re,we,Te,Ie){var et,ut,Dt,Ut,cr,ir,Or,On,Rn,ia=(Te=Te||{}).scope||this;if(typeof D=="number"&&typeof re=="number"&&(typeof we=="string"||Array.isArray(we))){var ei=we;we=re,re=D,D=ei}if(arguments[3]instanceof mt?(A("The transform parameter of text() with a Matrix value"),Rn=Ie):(Dt=arguments[4],Ut=arguments[5],Zr(Or=arguments[3])==="object"&&Or!==null||(typeof Dt=="string"&&(Ut=Dt,Dt=null),typeof Or=="string"&&(Ut=Or,Or=null),typeof Or=="number"&&(Dt=Or,Or=null),Te={flags:Or,angle:Dt,align:Ut})),isNaN(re)||isNaN(we)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return ia;var Ta="",go=!1,os=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:td,al=ia.internal.scaleFactor;function Ix(dn){return dn=dn.split("	").join(Array(Te.TabLen||9).join(" ")),Bi(dn,Or)}function kp(dn){for(var fn,Yn=dn.concat(),pa=[],$l=Yn.length;$l--;)typeof(fn=Yn.shift())=="string"?pa.push(fn):Array.isArray(dn)&&(fn.length===1||fn[1]===void 0&&fn[2]===void 0)?pa.push(fn[0]):pa.push([fn[0],fn[1],fn[2]]);return pa}function Pp(dn,fn){var Yn;if(typeof dn=="string")Yn=fn(dn)[0];else if(Array.isArray(dn)){for(var pa,$l,$p=dn.concat(),Wf=[],Ux=$p.length;Ux--;)typeof(pa=$p.shift())=="string"?Wf.push(fn(pa)[0]):Array.isArray(pa)&&typeof pa[0]=="string"&&($l=fn(pa[0],pa[1],pa[2]),Wf.push([$l[0],$l[1],$l[2]]));Yn=Wf}return Yn}var If=!1,Op=!0;if(typeof D=="string")If=!0;else if(Array.isArray(D)){var Fp=D.concat();ut=[];for(var Mf,Ua=Fp.length;Ua--;)(typeof(Mf=Fp.shift())!="string"||Array.isArray(Mf)&&typeof Mf[0]!="string")&&(Op=!1);If=Op}if(If===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Rf=qe/ia.internal.scaleFactor,$f=Rf*(os-1);switch(Te.baseline){case"bottom":we-=$f;break;case"top":we+=Rf-$f;break;case"hanging":we+=Rf-2*$f;break;case"middle":we+=Rf/2-$f}if((ir=Te.maxWidth||0)>0&&(typeof D=="string"?D=ia.splitTextToSize(D,ir):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(dn,fn){return dn.concat(ia.splitTextToSize(fn,ir))},[]))),et={text:D,x:re,y:we,options:Te,mutex:{pdfEscape:Bi,activeFontKey:ot,fonts:Gt,activeFontSize:qe}},Qt.publish("preProcessText",et),D=et.text,Dt=(Te=et.options).angle,!(Rn instanceof mt)&&Dt&&typeof Dt=="number"){Dt*=Math.PI/180,Te.rotationDirection===0&&(Dt=-Dt),b===y.ADVANCED&&(Dt=-Dt);var Bf=Math.cos(Dt),Dp=Math.sin(Dt);Rn=new mt(Bf,Dp,-Dp,Bf,0,0)}else Dt&&Dt instanceof mt&&(Rn=Dt);b!==y.ADVANCED||Rn||(Rn=Ur),(cr=Te.charSpace||Ff)!==void 0&&(Ta+=S(k(cr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(On=Te.horizontalScale)!==void 0&&(Ta+=S(100*On)+` Tz
`),Te.lang;var Ui=-1,V_=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,Lp=ia.internal.getCurrentPageInfo().pageContext;switch(V_){case 0:case!1:case"fill":Ui=0;break;case 1:case!0:case"stroke":Ui=1;break;case 2:case"fillThenStroke":Ui=2;break;case 3:case"invisible":Ui=3;break;case 4:case"fillAndAddForClipping":Ui=4;break;case 5:case"strokeAndAddPathForClipping":Ui=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ui=6;break;case 7:case"addToPathForClipping":Ui=7}var Mx=Lp.usedRenderingMode!==void 0?Lp.usedRenderingMode:-1;Ui!==-1?Ta+=Ui+` Tr
`:Mx!==-1&&(Ta+=`0 Tr
`),Ui!==-1&&(Lp.usedRenderingMode=Ui),Ut=Te.align||"left";var Ds,Uf=qe*os,Rx=ia.internal.pageSize.getWidth(),$x=Gt[ot];cr=Te.charSpace||Ff,ir=Te.maxWidth||0,Or=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var Dc=[],ad=function(dn){return ia.getStringUnitWidth(dn,{font:$x,charSpace:cr,fontSize:qe,doKerning:!1})*qe/al};if(Object.prototype.toString.call(D)==="[object Array]"){var zi;ut=kp(D),Ut!=="left"&&(Ds=ut.map(ad));var ji,Lc=0;if(Ut==="right"){re-=Ds[0],D=[],Ua=ut.length;for(var Il=0;Il<Ua;Il++)Il===0?(ji=nl(re),zi=Ll(we)):(ji=k(Lc-Ds[Il]),zi=-Uf),D.push([ut[Il],ji,zi]),Lc=Ds[Il]}else if(Ut==="center"){re-=Ds[0]/2,D=[],Ua=ut.length;for(var Ml=0;Ml<Ua;Ml++)Ml===0?(ji=nl(re),zi=Ll(we)):(ji=k((Lc-Ds[Ml])/2),zi=-Uf),D.push([ut[Ml],ji,zi]),Lc=Ds[Ml]}else if(Ut==="left"){D=[],Ua=ut.length;for(var zf=0;zf<Ua;zf++)D.push(ut[zf])}else if(Ut==="justify"&&$x.encoding==="Identity-H"){D=[],Ua=ut.length,ir=ir!==0?ir:Rx;for(var Rl=0,Kn=0;Kn<Ua;Kn++)if(zi=Kn===0?Ll(we):-Uf,ji=Kn===0?nl(re):Rl,Kn<Ua-1){var Ip=k((ir-Ds[Kn])/(ut[Kn].split(" ").length-1)),Si=ut[Kn].split(" ");D.push([Si[0]+" ",ji,zi]),Rl=0;for(var Ls=1;Ls<Si.length;Ls++){var Vf=(ad(Si[Ls-1]+" "+Si[Ls])-ad(Si[Ls]))*al+Ip;Ls==Si.length-1?D.push([Si[Ls],Vf,0]):D.push([Si[Ls]+" ",Vf,0]),Rl-=Vf}}else D.push([ut[Kn],ji,zi]);D.push(["",Rl,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Ua=ut.length,ir=ir!==0?ir:Rx,Kn=0;Kn<Ua;Kn++)zi=Kn===0?Ll(we):-Uf,ji=Kn===0?nl(re):0,Kn<Ua-1?Dc.push(S(k((ir-Ds[Kn])/(ut[Kn].split(" ").length-1)))):Dc.push(0),D.push([ut[Kn],ji,zi])}}var Bx=typeof Te.R2L=="boolean"?Te.R2L:ze;Bx===!0&&(D=Pp(D,function(dn,fn,Yn){return[dn.split("").reverse().join(""),fn,Yn]})),et={text:D,x:re,y:we,options:Te,mutex:{pdfEscape:Bi,activeFontKey:ot,fonts:Gt,activeFontSize:qe}},Qt.publish("postProcessText",et),D=et.text,go=et.mutex.isHex||!1;var Mp=Gt[ot].encoding;Mp!=="WinAnsiEncoding"&&Mp!=="StandardEncoding"||(D=Pp(D,function(dn,fn,Yn){return[Ix(dn),fn,Yn]})),ut=kp(D),D=[];for(var id,sd,Ic,od=0,Hf=1,ld=Array.isArray(ut[0])?Hf:od,Mc="",Rp=function(dn,fn,Yn){var pa="";return Yn instanceof mt?(Yn=typeof Te.angle=="number"?wt(Yn,new mt(1,0,0,1,dn,fn)):wt(new mt(1,0,0,1,dn,fn),Yn),b===y.ADVANCED&&(Yn=wt(new mt(1,0,0,-1,0,0),Yn)),pa=Yn.join(" ")+` Tm
`):pa=S(dn)+" "+S(fn)+` Td
`,pa},Is=0;Is<ut.length;Is++){switch(Mc="",ld){case Hf:Ic=(go?"<":"(")+ut[Is][0]+(go?">":")"),id=parseFloat(ut[Is][1]),sd=parseFloat(ut[Is][2]);break;case od:Ic=(go?"<":"(")+ut[Is]+(go?">":")"),id=nl(re),sd=Ll(we)}Dc!==void 0&&Dc[Is]!==void 0&&(Mc=Dc[Is]+` Tw
`),Is===0?D.push(Mc+Rp(id,sd,Rn)+Ic):ld===od?D.push(Mc+Ic):ld===Hf&&D.push(Mc+Rp(id,sd,Rn)+Ic)}D=ld===od?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ms=`BT
/`;return Ms+=ot+" "+qe+` Tf
`,Ms+=S(qe*os)+` TL
`,Ms+=rd+`
`,Ms+=Ta,Ms+=D,Z(Ms+="ET"),h[ot]=!0,ia};var D_=p.__private__.clip=p.clip=function(D){return Z(D==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return D_("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var rl=p.__private__.isValidStyle=function(D){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(re=!0),re};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(D){return rl(D)&&(u=D),this};var Cx=p.__private__.getStyle=p.getStyle=function(D){var re=u;switch(D){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=D}return re},Ex=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(D){return Pf("f",D),this},p.fillEvenOdd=function(D){return Pf("f*",D),this},p.fillStroke=function(D){return Pf("B",D),this},p.fillStrokeEvenOdd=function(D){return Pf("B*",D),this};var Pf=function(D,re){Zr(re)==="object"?I_(re,D):Z(D)},bp=function(D){D===null||b===y.ADVANCED&&D===void 0||(D=Cx(D),Z(D))};function L_(D,re,we,Te,Ie){var et=new Ld(re||this.boundingBox,we||this.xStep,Te||this.yStep,this.gState,Ie||this.matrix);et.stream=this.stream;var ut=D+"$$"+this.cloneIndex+++"$$";return Pn(ut,et),et}var I_=function(D,re){var we=Kr[D.key],Te=Ht[we];if(Te instanceof du)Z("q"),Z(M_(re)),Te.gState&&p.setGState(Te.gState),Z(D.matrix.toString()+" cm"),Z("/"+we+" sh"),Z("Q");else if(Te instanceof Ld){var Ie=new mt(1,0,0,-1,0,Fc());D.matrix&&(Ie=Ie.multiply(D.matrix||Ur),we=L_.call(Te,D.key,D.boundingBox,D.xStep,D.yStep,Ie).id),Z("q"),Z("/Pattern cs"),Z("/"+we+" scn"),Te.gState&&p.setGState(Te.gState),Z(re),Z("Q")}},M_=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wp=p.moveTo=function(D,re){return Z(S(k(D))+" "+S(I(re))+" m"),this},ed=p.lineTo=function(D,re){return Z(S(k(D))+" "+S(I(re))+" l"),this},Pc=p.curveTo=function(D,re,we,Te,Ie,et){return Z([S(k(D)),S(I(re)),S(k(we)),S(I(Te)),S(k(Ie)),S(I(et)),"c"].join(" ")),this};p.__private__.line=p.line=function(D,re,we,Te,Ie){if(isNaN(D)||isNaN(re)||isNaN(we)||isNaN(Te)||!rl(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[we-D,Te-re]],D,re,[1,1],Ie||"S"):this.lines([[we-D,Te-re]],D,re,[1,1]).stroke()},p.__private__.lines=p.lines=function(D,re,we,Te,Ie,et){var ut,Dt,Ut,cr,ir,Or,On,Rn,ia,ei,Ta,go;if(typeof D=="number"&&(go=we,we=re,re=D,D=go),Te=Te||[1,1],et=et||!1,isNaN(re)||isNaN(we)||!Array.isArray(D)||!Array.isArray(Te)||!rl(Ie)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wp(re,we),ut=Te[0],Dt=Te[1],cr=D.length,ei=re,Ta=we,Ut=0;Ut<cr;Ut++)(ir=D[Ut]).length===2?(ei=ir[0]*ut+ei,Ta=ir[1]*Dt+Ta,ed(ei,Ta)):(Or=ir[0]*ut+ei,On=ir[1]*Dt+Ta,Rn=ir[2]*ut+ei,ia=ir[3]*Dt+Ta,ei=ir[4]*ut+ei,Ta=ir[5]*Dt+Ta,Pc(Or,On,Rn,ia,ei,Ta));return et&&Ex(),bp(Ie),this},p.path=function(D){for(var re=0;re<D.length;re++){var we=D[re],Te=we.c;switch(we.op){case"m":wp(Te[0],Te[1]);break;case"l":ed(Te[0],Te[1]);break;case"c":Pc.apply(this,Te);break;case"h":Ex()}}return this},p.__private__.rect=p.rect=function(D,re,we,Te,Ie){if(isNaN(D)||isNaN(re)||isNaN(we)||isNaN(Te)||!rl(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(Te=-Te),Z([S(k(D)),S(I(re)),S(k(we)),S(k(Te)),"re"].join(" ")),bp(Ie),this},p.__private__.triangle=p.triangle=function(D,re,we,Te,Ie,et,ut){if(isNaN(D)||isNaN(re)||isNaN(we)||isNaN(Te)||isNaN(Ie)||isNaN(et)||!rl(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-D,Te-re],[Ie-we,et-Te],[D-Ie,re-et]],D,re,[1,1],ut,!0),this},p.__private__.roundedRect=p.roundedRect=function(D,re,we,Te,Ie,et,ut){if(isNaN(D)||isNaN(re)||isNaN(we)||isNaN(Te)||isNaN(Ie)||isNaN(et)||!rl(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Dt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*we),et=Math.min(et,.5*Te),this.lines([[we-2*Ie,0],[Ie*Dt,0,Ie,et-et*Dt,Ie,et],[0,Te-2*et],[0,et*Dt,-Ie*Dt,et,-Ie,et],[2*Ie-we,0],[-Ie*Dt,0,-Ie,-et*Dt,-Ie,-et],[0,2*et-Te],[0,-et*Dt,Ie*Dt,-et,Ie,-et]],D+Ie,re,[1,1],ut,!0),this},p.__private__.ellipse=p.ellipse=function(D,re,we,Te,Ie){if(isNaN(D)||isNaN(re)||isNaN(we)||isNaN(Te)||!rl(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*we,ut=4/3*(Math.SQRT2-1)*Te;return wp(D+we,re),Pc(D+we,re-ut,D+et,re-Te,D,re-Te),Pc(D-et,re-Te,D-we,re-ut,D-we,re),Pc(D-we,re+ut,D-et,re+Te,D,re+Te),Pc(D+et,re+Te,D+we,re+ut,D+we,re),bp(Ie),this},p.__private__.circle=p.circle=function(D,re,we,Te){if(isNaN(D)||isNaN(re)||isNaN(we)||!rl(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,re,we,we,Te)},p.setFont=function(D,re,we){return we&&(re=N(re,we)),ot=Nx(D,re,{disableWarning:!1}),this};var R_=p.__private__.getFont=p.getFont=function(){return Gt[Nx.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var D,re,we={};for(D in rr)if(rr.hasOwnProperty(D))for(re in we[D]=[],rr[D])rr[D].hasOwnProperty(re)&&we[D].push(re);return we},p.addFont=function(D,re,we,Te,Ie){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(we=N(we,Te)),Ie=Ie||"Identity-H",vp.call(this,D,re,we,Ie)};var td,_p=e.lineWidth||.200025,Of=p.__private__.getLineWidth=p.getLineWidth=function(){return _p},kx=p.__private__.setLineWidth=p.setLineWidth=function(D){return _p=D,Z(S(k(D))+" w"),this};p.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(D,re){if(D=D||[],re=re||0,isNaN(re)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(we){return S(k(we))}).join(" "),re=S(k(re)),Z("["+D+"] "+re+" d"),this};var Px=p.__private__.getLineHeight=p.getLineHeight=function(){return qe*td};p.__private__.getLineHeight=p.getLineHeight=function(){return qe*td};var Ox=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(td=D),this},Fx=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return td};Ox(e.lineHeight);var nl=p.__private__.getHorizontalCoordinate=function(D){return k(D)},Ll=p.__private__.getVerticalCoordinate=function(D){return b===y.ADVANCED?D:Bt[H].mediaBox.topRightY-Bt[H].mediaBox.bottomLeftY-k(D)},$_=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(D){return S(nl(D))},Oc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(D){return S(Ll(D))},mo=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xe(mo)},p.__private__.setStrokeColor=p.setDrawColor=function(D,re,we,Te){return mo=ye({ch1:D,ch2:re,ch3:we,ch4:Te,pdfColorType:"draw",precision:2}),Z(mo),this};var jp=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xe(jp)},p.__private__.setFillColor=p.setFillColor=function(D,re,we,Te){return jp=ye({ch1:D,ch2:re,ch3:we,ch4:Te,pdfColorType:"fill",precision:2}),Z(jp),this};var rd=e.textColor||"0 g",B_=p.__private__.getTextColor=p.getTextColor=function(){return xe(rd)};p.__private__.setTextColor=p.setTextColor=function(D,re,we,Te){return rd=ye({ch1:D,ch2:re,ch3:we,ch4:Te,pdfColorType:"text",precision:3}),this};var Ff=e.charSpace,U_=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ff||0)};p.__private__.setCharSpace=p.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ff=D,this};var Sp=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(D){var re=p.CapJoinStyles[D];if(re===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sp=re,Z(re+" J"),this};var Np=0;p.__private__.setLineJoin=p.setLineJoin=function(D){var re=p.CapJoinStyles[D];if(re===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Np=re,Z(re+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(S(k(D))+" M"),this},p.GState=Rv,p.setGState=function(D){(D=typeof D=="string"?le[$t[D]]:Dx(null,D)).equals(Cr)||(Z("/"+D.id+" gs"),Cr=D)};var Dx=function(D,re){if(!D||!$t[D]){var we=!1;for(var Te in le)if(le.hasOwnProperty(Te)&&le[Te].equals(re)){we=!0;break}if(we)re=le[Te];else{var Ie="GS"+(Object.keys(le).length+1).toString(10);le[Ie]=re,re.id=Ie}return D&&($t[D]=re.id),Qt.publish("addGState",re),re}};p.addGState=function(D,re){return Dx(D,re),this},p.saveGraphicsState=function(){return Z("q"),Hr.push({key:ot,size:qe,color:rd}),this},p.restoreGraphicsState=function(){Z("Q");var D=Hr.pop();return ot=D.key,qe=D.size,rd=D.color,Cr=null,this},p.setCurrentTransformationMatrix=function(D){return Z(D.toString()+" cm"),this},p.comment=function(D){return Z("#"+D),this};var Df=function(D,re){var we=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(et){isNaN(et)||(we=parseFloat(et))}});var Te=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(et){isNaN(et)||(Te=parseFloat(et))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(et){Ie=et.toString()}}),this},Ap=function(D,re,we,Te){Df.call(this,D,re),this.type="rect";var Ie=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(ut){isNaN(ut)||(Ie=parseFloat(ut))}});var et=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(ut){isNaN(ut)||(et=parseFloat(ut))}}),this},Tp=function(){this.page=nr,this.currentPage=H,this.pages=pe.slice(0),this.pagesContext=Bt.slice(0),this.x=qt,this.y=gt,this.matrix=jr,this.width=nd(H),this.height=Fc(H),this.outputDestination=Oe,this.id="",this.objectNumber=-1};Tp.prototype.restore=function(){nr=this.page,H=this.currentPage,Bt=this.pagesContext,pe=this.pages,qt=this.x,gt=this.y,jr=this.matrix,Cp(H,this.width),Ep(H,this.height),Oe=this.outputDestination};var Lx=function(D,re,we,Te,Ie){Ct.push(new Tp),nr=H=0,pe=[],qt=D,gt=re,jr=Ie,xp([we,Te])},z_=function(D){if(Ye[D])Ct.pop().restore();else{var re=new Tp,we="Xo"+(Object.keys(rn).length+1).toString(10);re.id=we,Ye[D]=we,rn[we]=re,Qt.publish("addFormObject",re),Ct.pop().restore()}};for(var Lf in p.beginFormObject=function(D,re,we,Te,Ie){return Lx(D,re,we,Te,Ie),this},p.endFormObject=function(D){return z_(D),this},p.doFormObject=function(D,re){var we=rn[Ye[D]];return Z("q"),Z(re.toString()+" cm"),Z("/"+we.id+" Do"),Z("Q"),this},p.getFormObject=function(D){var re=rn[Ye[D]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},p.save=function(D,re){return D=D||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(wd(Ef(Dl()),D),typeof wd.unload=="function"&&Xt.setTimeout&&setTimeout(wd.unload,911),this):new Promise(function(we,Te){try{var Ie=wd(Ef(Dl()),D);typeof wd.unload=="function"&&Xt.setTimeout&&setTimeout(wd.unload,911),we(Ie)}catch(et){Te(et.message)}})},Vt.API)Vt.API.hasOwnProperty(Lf)&&(Lf==="events"&&Vt.API.events.length?function(D,re){var we,Te,Ie;for(Ie=re.length-1;Ie!==-1;Ie--)we=re[Ie][0],Te=re[Ie][1],D.subscribe.apply(D,[we].concat(typeof Te=="function"?[Te]:Te))}(Qt,Vt.API.events):p[Lf]=Vt.API[Lf]);var nd=p.getPageWidth=function(D){return(Bt[D=D||H].mediaBox.topRightX-Bt[D].mediaBox.bottomLeftX)/rt},Cp=p.setPageWidth=function(D,re){Bt[D].mediaBox.topRightX=re*rt+Bt[D].mediaBox.bottomLeftX},Fc=p.getPageHeight=function(D){return(Bt[D=D||H].mediaBox.topRightY-Bt[D].mediaBox.bottomLeftY)/rt},Ep=p.setPageHeight=function(D,re){Bt[D].mediaBox.topRightY=re*rt+Bt[D].mediaBox.bottomLeftY};return p.internal={pdfEscape:Bi,getStyle:Cx,getFont:R_,getFontSize:de,getCharSpace:U_,getTextColor:B_,getLineHeight:Px,getLineHeightFactor:Fx,getLineWidth:Of,write:ke,getHorizontalCoordinate:nl,getVerticalCoordinate:Ll,getCoordinateString:$_,getVerticalCoordinateString:Oc,collections:{},newObject:Nn,newAdditionalObject:ve,newObjectDeferred:vn,newObjectDeferredBegin:ne,getFilters:Re,putStream:Xe,events:Qt,scaleFactor:rt,pageSize:{getWidth:function(){return nd(H)},setWidth:function(D){Cp(H,D)},getHeight:function(){return Fc(H)},setHeight:function(D){Ep(H,D)}},encryptionOptions:d,encryption:Za,getEncryptor:O_,output:kf,getNumberOfPages:T_,pages:pe,out:Z,f2:W,f3:C,getPageInfo:Tx,getPageInfoByObjId:ar,getCurrentPageInfo:F_,getPDFVersion:m,Point:Df,Rectangle:Ap,Matrix:mt,hasHotfix:Ax},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return nd(H)},set:function(D){Cp(H,D)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Fc(H)},set:function(D){Ep(H,D)},enumerable:!0,configurable:!0}),N_.call(p,Le),ot="F1",jx(a,r),Qt.publish("initialized"),p}fh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},fh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},fh.prototype.processOwnerPassword=function(e,t){return UA(BA(t).substr(0,5),e)},fh.prototype.encryptor=function(e,t){var r=BA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return UA(r,n)}},Rv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Zr(e)!==Zr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Vt.API={events:[]},Vt.version="2.5.2";var Bn=Vt.API,RE=1,Tf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ch=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sr=function(e){return e.toFixed(2)},Zc=function(e){return e.toFixed(5)};Bn.__acroform__={};var is=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},oM=function(e){return e*RE},cl=function(e){var t=new aK,r=Rt.internal.getHeight(e)||0,n=Rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(sr(n)),Number(sr(r))],t},M$e=Bn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},R$e=Bn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},$$e=Bn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Zn=Bn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $$e(e,t-1)},ea=Bn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return M$e(e,t-1)},ta=Bn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return R$e(e,t-1)},B$e=Bn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(sr(c.lowerLeft_X)),Number(sr(c.lowerLeft_Y)),Number(sr(c.upperRight_X)),Number(sr(c.upperRight_Y))]},U$e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=zA(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+sr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=cl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},zA=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,o=Rt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Rt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(C,k,z){if(C+1<a.length){var I=k+" "+a[C+1][0];return hy(I,e,z).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=hy("3",e,i).height,h=e.multiline?o-i:(o-f)/2,p=h+=2,v=0,m=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+hy(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var j=!1;if(a[b].length!==1&&x!==a[b].length-1){if((f+2)*(y+2)+2>o)continue e;g+=a[b][x],j=!0,m=b,b--}else{g=(g+=a[b][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var _=parseInt(b),N=c(_,g,i),S=b>=a.length-1;if(N&&!S){g+=" ",x=0;continue}if(N||S){if(S)m=_;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;m=_}}for(var A="",P=v;P<=m;P++){var W=a[P];if(e.multiline){if(P===m){A+=W[x]+" ",x=(x+1)%W.length;continue}if(P===v){A+=W[W.length-1]+" ";continue}}A+=W[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=hy(A,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=sr(u)+" "+sr(p)+` Td
`,t+="("+Tf(A)+`) Tj
`,t+=-sr(u)+` 0 Td
`,p=-(i+2),d=0,v=j?m:m+1,y++,g=""}break}return n.text=t,n.fontSize=i,n},hy=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},z$e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},V$e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},H$e=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Zr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},W$e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Qo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(z$e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");RE=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new iK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&V$e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=B$e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Rt.createDefaultAppearanceStream(l),Zr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=U$e(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&H$e(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},nK=Bn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Zr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Tf(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},iS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Tf(n(e))+")"},ml=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ml.prototype.toString=function(){return this.objId+" 0 R"},ml.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ml.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:nK(a,this.objId,this.scope)}):a instanceof ml?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var aK=function(){ml.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};is(aK,ml);var iK=function(){ml.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Tf(r(e))+")"}},set:function(r){e=r}})};is(iK,ml);var Qo=function e(){ml.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zn(t,3)},set:function(g){g?this.F=ea(t,3):this.F=ta(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Mb)return;i="FieldObject"+e.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Tf(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/RE:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Mb||this instanceof ku))return iS(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof xa?h:iS(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof xa?g:g.substr(0,1)==="("?ch(g.substr(1,g.length-2)):ch(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xa?ch(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof xa?"/"+g:g}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xa?p:iS(p,this.objId,this.scope)},set:function(g){g=g.toString(),p=this instanceof xa?g:g.substr(0,1)==="("?ch(g.substr(1,g.length-2)):ch(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xa?ch(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof xa?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,1)},set:function(g){g?this.Ff=ea(this.Ff,1):this.Ff=ta(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,2)},set:function(g){g?this.Ff=ea(this.Ff,2):this.Ff=ta(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,3)},set:function(g){g?this.Ff=ea(this.Ff,3):this.Ff=ta(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};is(Qo,ml);var Hd=function(){Qo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,18)},set:function(r){r?this.Ff=ea(this.Ff,18):this.Ff=ta(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ea(this.Ff,19):this.Ff=ta(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,20)},set:function(r){r?(this.Ff=ea(this.Ff,20),t.sort()):this.Ff=ta(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,22)},set:function(r){r?this.Ff=ea(this.Ff,22):this.Ff=ta(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(r){r?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,27)},set:function(r){r?this.Ff=ea(this.Ff,27):this.Ff=ta(this.Ff,27)}}),this.hasAppearanceStream=!1};is(Hd,Qo);var Wd=function(){Hd.call(this),this.fontName="helvetica",this.combo=!1};is(Wd,Hd);var qd=function(){Wd.call(this),this.combo=!0};is(qd,Wd);var mg=function(){qd.call(this),this.edit=!0};is(mg,qd);var xa=function(){Qo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,15)},set:function(r){r?this.Ff=ea(this.Ff,15):this.Ff=ta(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,16)},set:function(r){r?this.Ff=ea(this.Ff,16):this.Ff=ta(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,17)},set:function(r){r?this.Ff=ea(this.Ff,17):this.Ff=ta(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(r){r?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Tf(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Zr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};is(xa,Qo);var gg=function(){xa.call(this),this.pushButton=!0};is(gg,xa);var Gd=function(){xa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};is(Gd,xa);var Mb=function(){var e,t;Qo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Tf(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Zr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};is(Mb,Qo),Gd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Gd.prototype.createOption=function(e){var t=new Mb;return t.Parent=this,t.optionName=e,this.Kids.push(t),q$e.call(this.scope,t),t};var vg=function(){xa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};is(vg,xa);var ku=function(){Qo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,13)},set:function(t){t?this.Ff=ea(this.Ff,13):this.Ff=ta(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,21)},set:function(t){t?this.Ff=ea(this.Ff,21):this.Ff=ta(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(t){t?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,24)},set:function(t){t?this.Ff=ea(this.Ff,24):this.Ff=ta(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,25)},set:function(t){t?this.Ff=ea(this.Ff,25):this.Ff=ta(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(t){t?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};is(ku,Qo);var xg=function(){ku.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,14)},set:function(e){e?this.Ff=ea(this.Ff,14):this.Ff=ta(this.Ff,14)}}),this.password=!0};is(xg,ku);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=zA(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+sr(Rt.internal.getWidth(e))+" "+sr(Rt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+sr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=cl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Rt.internal.getHeight(e),o=Rt.internal.getWidth(e),l=zA(e,e.caption);return a.push("1 g"),a.push("0 0 "+sr(o)+" "+sr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+sr(o-1)+" "+sr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+sr(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+sr(Rt.internal.getWidth(e))+" "+sr(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Circle.YesNormal,t.D[e]=Rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Rt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Zc(Rt.internal.getWidth(e)/2)+" "+Zc(Rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5)),o=Number((n*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zc(Rt.internal.getWidth(e)/2)+" "+Zc(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Zc(Rt.internal.getWidth(e)/2)+" "+Zc(Rt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Rt.internal.getWidth(e)<=Rt.internal.getHeight(e)?Rt.internal.getWidth(e)/4:Rt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zc(Rt.internal.getWidth(e)/2)+" "+Zc(Rt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Rt.RadioButton.Cross.YesNormal,t.D[e]=Rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=cl(e);t.scope=e.scope;var r=[],n=Rt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+sr(Rt.internal.getWidth(e)-2)+" "+sr(Rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(sr(n.x1.x)+" "+sr(n.x1.y)+" m"),r.push(sr(n.x2.x)+" "+sr(n.x2.y)+" l"),r.push(sr(n.x4.x)+" "+sr(n.x4.y)+" m"),r.push(sr(n.x3.x)+" "+sr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=Rt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+sr(Rt.internal.getWidth(e))+" "+sr(Rt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+sr(Rt.internal.getWidth(e)-2)+" "+sr(Rt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(sr(r.x1.x)+" "+sr(r.x1.y)+" m"),n.push(sr(r.x2.x)+" "+sr(r.x2.y)+" l"),n.push(sr(r.x4.x)+" "+sr(r.x4.y)+" m"),n.push(sr(r.x3.x)+" "+sr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=cl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+sr(Rt.internal.getWidth(e))+" "+sr(Rt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Rt.internal.getWidth(e),r=Rt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Rt.internal.getWidth=function(e){var t=0;return Zr(e)==="object"&&(t=oM(e.Rect[2])),t},Rt.internal.getHeight=function(e){var t=0;return Zr(e)==="object"&&(t=oM(e.Rect[3])),t};var q$e=Bn.addField=function(e){if(W$e(this,e),!(e instanceof Qo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=Hd,Bn.AcroFormListBox=Wd,Bn.AcroFormComboBox=qd,Bn.AcroFormEditBox=mg,Bn.AcroFormButton=xa,Bn.AcroFormPushButton=gg,Bn.AcroFormRadioButton=Gd,Bn.AcroFormCheckBox=vg,Bn.AcroFormTextField=ku,Bn.AcroFormPasswordField=xg,Bn.AcroFormAppearance=Rt,Bn.AcroForm={ChoiceField:Hd,ListBox:Wd,ComboBox:qd,EditBox:mg,Button:xa,PushButton:gg,RadioButton:Gd,CheckBox:vg,TextField:ku,PasswordField:xg,Appearance:Rt},Vt.AcroForm={ChoiceField:Hd,ListBox:Wd,ComboBox:qd,EditBox:mg,Button:xa,PushButton:gg,RadioButton:Gd,CheckBox:vg,TextField:ku,PasswordField:xg,Appearance:Rt};var G$e=Vt.AcroForm;function sK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(C,k){var z,I,R,V,L,M=t;if((k=k||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(N(C))for(L in r)for(R=r[L],z=0;z<R.length;z+=1){for(V=!0,I=0;I<R[z].length;I+=1)if(R[z][I]!==void 0&&R[z][I]!==C[I]){V=!1;break}if(V===!0){M=L;break}}else for(L in r)for(R=r[L],z=0;z<R.length;z+=1){for(V=!0,I=0;I<R[z].length;I+=1)if(R[z][I]!==void 0&&R[z][I]!==C.charCodeAt(I)){V=!1;break}if(V===!0){M=L;break}}return M===t&&k!==t&&(M=k),M},a=function C(k){for(var z=this.internal.write,I=this.internal.putStream,R=(0,this.internal.getFilters)();R.indexOf("FlateEncode")!==-1;)R.splice(R.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:k.width}),V.push({key:"Height",value:k.height}),k.colorSpace===x.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===x.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var L="",M=0,F=k.transparency.length;M<F;M++)L+=k.transparency[M]+" "+k.transparency[M]+" ";V.push({key:"Mask",value:"["+L+"]"})}k.sMask!==void 0&&V.push({key:"SMask",value:k.objectId+1+" 0 R"});var U=k.filter!==void 0?["/"+k.filter]:void 0;if(I({data:k.data,additionalKeyValues:V,alreadyAppliedFilters:U,objectId:k.objectId}),z("endobj"),"sMask"in k&&k.sMask!==void 0){var X="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,E={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:X,data:k.sMask};"filter"in k&&(E.filter=k.filter),C.call(this,E)}if(k.colorSpace===x.INDEXED){var H=this.internal.newObject();I({data:A(new Uint8Array(k.palette)),objectId:H}),z("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var k in C)a.call(this,C[k])},o=function(){var C,k=this.internal.collections.addImage_images,z=this.internal.write;for(var I in k)z("/I"+(C=k[I]).index,C.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var C=this.internal.collections.addImage_images;return l.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(C){return typeof e["process"+C.toUpperCase()]=="function"},f=function(C){return Zr(C)==="object"&&C.nodeType===1},h=function(C,k){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var z=""+C.getAttribute("src");if(z.indexOf("data:image/")===0)return pg(unescape(z).split("base64,").pop());var I=e.loadFile(z,!0);if(I!==void 0)return I}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var R;switch(k){case"PNG":R="image/png";break;case"WEBP":R="image/webp";break;case"JPEG":case"JPG":default:R="image/jpeg"}return pg(C.toDataURL(R,1).split("base64,").pop())}},p=function(C){var k=this.internal.collections.addImage_images;if(k){for(var z in k)if(C===k[z].alias)return k[z]}},v=function(C,k,z){return C||k||(C=-96,k=-96),C<0&&(C=-1*z.width*72/C/this.internal.scaleFactor),k<0&&(k=-1*z.height*72/k/this.internal.scaleFactor),C===0&&(C=k*z.width/z.height),k===0&&(k=C*z.height/z.width),[C,k]},m=function(C,k,z,I,R,V){var L=v.call(this,z,I,R),M=this.internal.getCoordinateString,F=this.internal.getVerticalCoordinateString,U=c.call(this);if(z=L[0],I=L[1],U[R.index]=R,V){V*=Math.PI/180;var X=Math.cos(V),E=Math.sin(V),H=function(q){return q.toFixed(4)},G=[H(X),H(E),H(-1*E),H(X),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,M(C),F(k+I),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([M(z),"0","0",M(I),"0","0","cm"].join(" "))):this.internal.write([M(z),"0","0",M(I),M(C),F(k+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+R.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(C){var k,z,I=0;if(typeof C=="string")for(z=C.length,k=0;k<z;k++)I=(I<<5)-I+C.charCodeAt(k),I|=0;else if(N(C))for(z=C.byteLength/2,k=0;k<z;k++)I=(I<<5)-I+C[k],I|=0;return I},b=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var k=!0;return C.length===0&&(k=!1),C.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(k=!1),k},j=e.__addimage__.extractImageFromDataUrl=function(C){var k=(C=C||"").split("base64,"),z=null;if(k.length===2){var I=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(k[0]);Array.isArray(I)&&(z={mimeType:I[1],charset:I[2],data:k[1]})}return z},_=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return _()&&C instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(C){return _()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},S=e.__addimage__.binaryStringToUint8Array=function(C){for(var k=C.length,z=new Uint8Array(k),I=0;I<k;I++)z[I]=C.charCodeAt(I);return z},A=e.__addimage__.arrayBufferToBinaryString=function(C){for(var k="",z=N(C)?C:new Uint8Array(C),I=0;I<z.length;I+=8192)k+=String.fromCharCode.apply(null,z.subarray(I,I+8192));return k};e.addImage=function(){var C,k,z,I,R,V,L,M,F;if(typeof arguments[1]=="number"?(k=t,z=arguments[1],I=arguments[2],R=arguments[3],V=arguments[4],L=arguments[5],M=arguments[6],F=arguments[7]):(k=arguments[1],z=arguments[2],I=arguments[3],R=arguments[4],V=arguments[5],L=arguments[6],M=arguments[7],F=arguments[8]),Zr(C=arguments[0])==="object"&&!f(C)&&"imageData"in C){var U=C;C=U.imageData,k=U.format||k||t,z=U.x||z||0,I=U.y||I||0,R=U.w||U.width||R,V=U.h||U.height||V,L=U.alias||L,M=U.compression||M,F=U.rotation||U.angle||F}var X=this.internal.getFilters();if(M===void 0&&X.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN(z)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var E=P.call(this,C,k,L,M);return m.call(this,z,I,R,V,E,F),this};var P=function(C,k,z,I){var R,V,L;if(typeof C=="string"&&n(C)===t){C=unescape(C);var M=W(C,!1);(M!==""||(M=e.loadFile(C,!0))!==void 0)&&(C=M)}if(f(C)&&(C=h(C,k)),k=n(C,k),!d(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((L=z)==null||L.length===0)&&(z=function(F){return typeof F=="string"||N(F)?y(F):N(F.data)?y(F.data):null}(C)),(R=p.call(this,z))||(_()&&(C instanceof Uint8Array||k==="RGBA"||(V=C,C=S(C))),R=this["process"+k.toUpperCase()](C,u.call(this),z,function(F){return F&&typeof F=="string"&&(F=F.toUpperCase()),F in e.image_compression?F:g.NONE}(I),V)),!R)throw new Error("An unknown error occurred whilst processing the image.");return R},W=e.__addimage__.convertBase64ToBinaryString=function(C,k){var z;k=typeof k!="boolean"||k;var I,R="";if(typeof C=="string"){I=(z=j(C))!==null?z.data:C;try{R=pg(I)}catch(V){if(k)throw b(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};e.getImageProperties=function(C){var k,z,I="";if(f(C)&&(C=h(C)),typeof C=="string"&&n(C)===t&&((I=W(C,!1))===""&&(I=e.loadFile(C)||""),C=I),z=n(C),!d(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!_()||C instanceof Uint8Array||(C=S(C)),!(k=this["process"+z.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=z,k}})(Vt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(g(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(g(y))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var N=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Vt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var x=0,g=r,y="",b=0;for(x=0;x<m.length;x+=1)g[m.charCodeAt(x)]!==void 0?(b++,typeof(g=g[m.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(g),g=r,b=0),x===m.length-1&&(g=r,y+=m.charAt(x-(b-1)),x-=b-1,b=0)):(g=r,y+=m.charAt(x-b),x-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,x,g){return o(m)?i(m)===!1?-1:!u(m)||!o(x)&&!o(g)||!o(g)&&l(x)||l(m)&&!o(x)||l(m)&&c(x)||l(m)&&l(x)?0:d(m)&&o(x)&&!l(x)&&o(g)&&u(g)?3:l(m)||!o(g)?1:2:-1},p=function(m){var x=0,g=0,y=0,b="",j="",_="",N=(m=m||"").split("\\s+"),S=[];for(x=0;x<N.length;x+=1){for(S.push(""),g=0;g<N[x].length;g+=1)b=N[x][g],j=N[x][g-1],_=N[x][g+1],o(b)?(y=h(b,j,_),S[x]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):S[x]+=b;S[x]=f(S[x])}return S.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var y=0;for(g=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?g.push([p(x[y][0]),x[y][1],x[y][2]]):g.push([p(x[y])]);m=g}else m=p(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",v])}(Vt.API),Vt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Vt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,m=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,j){return b.concat(x.splitTextToSize(j,g))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(m=this.getStringUnitWidth(c[y],{font:f})*d)&&(p=m);return p!==0&&(v=c.length),{w:p/=h,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,v,m,x,g=[],y=[],b=[],j={},_={},N=[],S=[],A=(h=h||{}).autoSize||!1,P=h.printHeaders!==!1,W=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},t),k=typeof h.padding=="number"?h.padding:3,z=h.headerBackgroundColor||"#c8c8c8",I=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=I,this.setFontSize(W),f==null)y=g=Object.keys(d[0]),b=g.map(function(){return"left"});else if(Array.isArray(f)&&Zr(f[0])==="object")for(g=f.map(function(U){return U.name}),y=f.map(function(U){return U.prompt||U.name||""}),b=f.map(function(U){return U.align||"left"}),p=0;p<f.length;p+=1)_[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=g=f,b=g.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<g.length;p+=1){for(j[x=g[p]]=d.map(function(U){return U[x]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=j[x],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)N.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[x]=Math.max.apply(null,N)+k+k,N=[]}if(P){var R={};for(p=0;p<g.length;p+=1)R[g[p]]={},R[g[p]].text=y[p],R[g[p]].align=b[p];var V=l.call(this,R,_);S=g.map(function(U){return new i(c,u,_[U],V,R[U].text,void 0,R[U].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var L=f.reduce(function(U,X){return U[X.name]=X.align,U},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var M=l.call(this,d[p],_);for(m=0;m<g.length;m+=1){var F=d[p][g[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:F},this),o.call(this,new i(c,u,_[g[m]],M,F,p+2,L[g[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Vt.API);var oK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],VA=sK(lK),cK=[100,200,300,400,500,600,700,800,900],K$e=sK(cK);function HA(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return oK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof VA[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function lM(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var Y$e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function uM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function X$e(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Y$e,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=HA(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+uM(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=VA[c],f=d<=VA.normal?-1:1,h=lM(u,lK,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=oK[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=K$e[c],f=lM(u,cK,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+uM(i)+"'.");return o}function dM(e){return e.trimLeft()}function J$e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Q$e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var py,fM,hM,sS=["times"];(function(e){var t,r,n,a,i,o,l,c,u,d=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new c,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new o,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new o,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=E;Object.defineProperty(this,"pdf",{get:function(){return H}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Ae){G=!!Ae}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(Ae){q=!!Ae}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(Ae){isNaN(Ae)||(K=Ae)}});var ee=0;Object.defineProperty(this,"posY",{get:function(){return ee},set:function(Ae){isNaN(Ae)||(ee=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ae){var Z;typeof Ae=="number"?Z=[Ae,Ae,Ae,Ae]:((Z=new Array(4))[0]=Ae[0],Z[1]=Ae.length>=2?Ae[1]:Z[0],Z[2]=Ae.length>=3?Ae[2]:Z[0],Z[3]=Ae.length>=4?Ae[3]:Z[1]),u.margin=Z}});var se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return se},set:function(Ae){se=Ae}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(Ae){J=Ae}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(Ae){ce=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ae){Ae instanceof d&&(u=Ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ae){u.path=Ae}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(Ae){pe=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var Z;Z=h(Ae),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var Z=h(Ae);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Q=null;function Oe(Ae,Z){if(Q===null){var ke=function(Ge){var Le=[];return Object.keys(Ge).forEach(function(qe){Ge[qe].forEach(function(ge){var de=null;switch(ge){case"bold":de={family:qe,weight:"bold"};break;case"italic":de={family:qe,style:"italic"};break;case"bolditalic":de={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":de={family:qe}}de!==null&&(de.ref={name:qe,style:ge},Le.push(de))})}),Le}(Ae.getFontList());Q=function(Ge){for(var Le={},qe=0;qe<Ge.length;++qe){var ge=HA(Ge[qe]),de=ge.family,ze=ge.stretch,Ke=ge.style,ft=ge.weight;Le[de]=Le[de]||{},Le[de][ze]=Le[de][ze]||{},Le[de][ze][Ke]=Le[de][ze][Ke]||{},Le[de][ze][Ke][ft]=ge}return Le}(ke.concat(Z))}return Q}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(Ae){Q=null,$e=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var Z;if(this.ctx.font=Ae,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var ke=Z[1],Ge=(Z[2],Z[3]),Le=Z[4],qe=(Z[5],Z[6]),ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(ge==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:ge==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var de=function(_e){var ot,rt,qt=[],gt=_e.trim();if(gt==="")return sS;if(gt in cM)return[cM[gt]];for(;gt!=="";){switch(rt=null,ot=(gt=dM(gt)).charAt(0)){case'"':case"'":rt=J$e(gt.substring(1),ot);break;default:rt=Q$e(gt)}if(rt===null||(qt.push(rt[0]),(gt=dM(rt[1]))!==""&&gt.charAt(0)!==","))return sS;gt=gt.replace(/^,/,"")}return qt}(qe);if(this.fontFaces){var ze=X$e(Oe(this.pdf,this.fontFaces),de.map(function(_e){return{family:_e,stretch:"normal",weight:Ge,style:ke}}));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var Ke="";(Ge==="bold"||parseInt(Ge,10)>=700||ke==="bold")&&(Ke="bold"),ke==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var ft="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<de.length;St++){if(this.pdf.internal.getFont(de[St],Ke,{noFallback:!0,disableWarning:!0})!==void 0){ft=de[St];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(de[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=de[St],Ke="bold";else if(this.pdf.internal.getFont(de[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=de[St],Ke="normal";break}}if(ft===""){for(var Et=0;Et<de.length;Et++)if(bt[de[Et]]){ft=bt[de[Et]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};f.prototype.setLineDash=function(E){this.lineDash=E},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(E,H){if(isNaN(E)||isNaN(H))throw cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(E,H));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(E,H)},f.prototype.closePath=function(){var E=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Zr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){E=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(E.x,E.y)},f.prototype.lineTo=function(E,H){if(isNaN(E)||isNaN(H))throw cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(E,H));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(E,H,G,q){if(isNaN(G)||isNaN(q)||isNaN(E)||isNaN(H))throw cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new o(G,q)),ee=this.ctx.transform.applyToPoint(new o(E,H));this.path.push({type:"qct",x1:ee.x,y1:ee.y,x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},f.prototype.bezierCurveTo=function(E,H,G,q,K,ee){if(isNaN(K)||isNaN(ee)||isNaN(E)||isNaN(H)||isNaN(G)||isNaN(q))throw cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var se=this.ctx.transform.applyToPoint(new o(K,ee)),J=this.ctx.transform.applyToPoint(new o(E,H)),ce=this.ctx.transform.applyToPoint(new o(G,q));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:ce.x,y2:ce.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},f.prototype.arc=function(E,H,G,q,K,ee){if(isNaN(E)||isNaN(H)||isNaN(G)||isNaN(q)||isNaN(K))throw cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ee=!!ee,!this.ctx.transform.isIdentity){var se=this.ctx.transform.applyToPoint(new o(E,H));E=se.x,H=se.y;var J=this.ctx.transform.applyToPoint(new o(0,G)),ce=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(J.x-ce.x,2)+Math.pow(J.y-ce.y,2))}Math.abs(K-q)>=2*Math.PI&&(q=0,K=2*Math.PI),this.path.push({type:"arc",x:E,y:H,radius:G,startAngle:q,endAngle:K,counterclockwise:ee})},f.prototype.arcTo=function(E,H,G,q,K){throw new Error("arcTo not implemented.")},f.prototype.rect=function(E,H,G,q){if(isNaN(E)||isNaN(H)||isNaN(G)||isNaN(q))throw cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,H),this.lineTo(E+G,H),this.lineTo(E+G,H+q),this.lineTo(E,H+q),this.lineTo(E,H),this.lineTo(E+G,H),this.lineTo(E,H)},f.prototype.fillRect=function(E,H,G,q){if(isNaN(E)||isNaN(H)||isNaN(G)||isNaN(q))throw cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,H,G,q),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},f.prototype.strokeRect=function(E,H,G,q){if(isNaN(E)||isNaN(H)||isNaN(G)||isNaN(q))throw cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(E,H,G,q),this.stroke())},f.prototype.clearRect=function(E,H,G,q){if(isNaN(E)||isNaN(H)||isNaN(G)||isNaN(q))throw cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,H,G,q))},f.prototype.save=function(E){E=typeof E!="boolean"||E;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},f.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(H),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(E){var H,G,q,K;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))H=0,G=0,q=0,K=0;else{var ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ee!==null)H=parseInt(ee[1]),G=parseInt(ee[2]),q=parseInt(ee[3]),K=1;else if((ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)H=parseInt(ee[1]),G=parseInt(ee[2]),q=parseInt(ee[3]),K=parseFloat(ee[4]);else{if(K=1,typeof E=="string"&&E.charAt(0)!=="#"){var se=new eK(E);E=se.ok?se.toHex():"#000000"}E.length===4?(H=E.substring(1,2),H+=H,G=E.substring(2,3),G+=G,q=E.substring(3,4),q+=q):(H=E.substring(1,3),G=E.substring(3,5),q=E.substring(5,7)),H=parseInt(H,16),G=parseInt(G,16),q=parseInt(q,16)}}return{r:H,g:G,b:q,a:K,style:E}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(E,H,G,q){if(isNaN(H)||isNaN(G)||typeof E!="string")throw cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!p.call(this)){var K=M(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;k.call(this,{text:E,x:H,y:G,scale:ee,angle:K,align:this.textAlign,maxWidth:q})}},f.prototype.strokeText=function(E,H,G,q){if(isNaN(H)||isNaN(G)||typeof E!="string")throw cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){q=isNaN(q)?void 0:q;var K=M(this.ctx.transform.rotation),ee=this.ctx.transform.scaleX;k.call(this,{text:E,x:H,y:G,scale:ee,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:q})}},f.prototype.measureText=function(E){if(typeof E!="string")throw cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,G=this.pdf.internal.scaleFactor,q=H.internal.getFontSize(),K=H.getStringUnitWidth(E)*q/H.internal.scaleFactor,ee=function(se){var J=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return J}}),this};return new ee({width:K*=Math.round(96*G/72*1e4)/1e4})},f.prototype.scale=function(E,H){if(isNaN(E)||isNaN(H))throw cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(E,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.rotate=function(E){if(isNaN(E))throw cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function(E,H){if(isNaN(E)||isNaN(H))throw cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,E,H);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.transform=function(E,H,G,q,K,ee){if(isNaN(E)||isNaN(H)||isNaN(G)||isNaN(q)||isNaN(K)||isNaN(ee))throw cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var se=new c(E,H,G,q,K,ee);this.ctx.transform=this.ctx.transform.multiply(se)},f.prototype.setTransform=function(E,H,G,q,K,ee){E=isNaN(E)?1:E,H=isNaN(H)?0:H,G=isNaN(G)?0:G,q=isNaN(q)?1:q,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,this.ctx.transform=new c(E,H,G,q,K,ee)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(E,H,G,q,K,ee,se,J,ce){var pe=this.pdf.getImageProperties(E),Q=1,Oe=1,$e=1,Ae=1;q!==void 0&&J!==void 0&&($e=J/q,Ae=ce/K,Q=pe.width/q*J/q,Oe=pe.height/K*ce/K),ee===void 0&&(ee=H,se=G,H=0,G=0),q!==void 0&&J===void 0&&(J=q,ce=K),q===void 0&&J===void 0&&(J=pe.width,ce=pe.height);for(var Z,ke=this.ctx.transform.decompose(),Ge=M(ke.rotate.shx),Le=new c,qe=(Le=(Le=(Le=Le.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new l(ee-H*$e,se-G*Ae,q*Q,K*Oe)),ge=x.call(this,qe),de=[],ze=0;ze<ge.length;ze+=1)de.indexOf(ge[ze])===-1&&de.push(ge[ze]);if(b(de),this.autoPaging)for(var Ke=de[0],ft=de[de.length-1],bt=Ke;bt<ft+1;bt++){this.pdf.setPage(bt);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=bt===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=bt===1?0:_e+(bt-2)*ot;if(this.ctx.clip_path.length!==0){var qt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Z,this.posX+this.margin[3],-rt+Et+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=qt}var gt=JSON.parse(JSON.stringify(qe));gt=y([gt],this.posX+this.margin[3],-rt+Et+this.ctx.prevPageLastElemOffset)[0];var jr=(bt>Ke||bt<ft)&&m.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,ot,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,Ge),jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Ge)};var x=function(E,H,G){var q=[];H=H||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":q.push(Math.floor((E.y+K)/G)+1);break;case"arc":q.push(Math.floor((E.y+K-E.radius)/G)+1),q.push(Math.floor((E.y+K+E.radius)/G)+1);break;case"qct":var ee=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);q.push(Math.floor((ee.y+K)/G)+1),q.push(Math.floor((ee.y+ee.h+K)/G)+1);break;case"bct":var se=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);q.push(Math.floor((se.y+K)/G)+1),q.push(Math.floor((se.y+se.h+K)/G)+1);break;case"rect":q.push(Math.floor((E.y+K)/G)+1),q.push(Math.floor((E.y+E.h+K)/G)+1)}for(var J=0;J<q.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<q[J];)g.call(this);return q},g=function(){var E=this.fillStyle,H=this.strokeStyle,G=this.font,q=this.lineCap,K=this.lineWidth,ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=H,this.font=G,this.lineCap=q,this.lineWidth=K,this.lineJoin=ee},y=function(E,H,G){for(var q=0;q<E.length;q++)switch(E[q].type){case"bct":E[q].x2+=H,E[q].y2+=G;case"qct":E[q].x1+=H,E[q].y1+=G;case"mt":case"lt":case"arc":default:E[q].x+=H,E[q].y+=G}return E},b=function(E){return E.sort(function(H,G){return H-G})},j=function(E,H){for(var G,q,K=this.fillStyle,ee=this.strokeStyle,se=this.lineCap,J=this.lineWidth,ce=Math.abs(J*this.ctx.transform.scaleX),pe=this.lineJoin,Q=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),$e=[],Ae=0;Ae<Oe.length;Ae++)if(Oe[Ae].x!==void 0)for(var Z=x.call(this,Oe[Ae]),ke=0;ke<Z.length;ke+=1)$e.indexOf(Z[ke])===-1&&$e.push(Z[ke]);for(var Ge=0;Ge<$e.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<$e[Ge];)g.call(this);if(b($e),this.autoPaging)for(var Le=$e[0],qe=$e[$e.length-1],ge=Le;ge<qe+1;ge++){this.pdf.setPage(ge),this.fillStyle=K,this.strokeStyle=ee,this.lineCap=se,this.lineWidth=ce,this.lineJoin=pe;var de=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=ge===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=ge===1?0:Ke+(ge-2)*ft;if(this.ctx.clip_path.length!==0){var St=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(G,this.posX+this.margin[3],-bt+ze+this.ctx.prevPageLastElemOffset),_.call(this,E,!0),this.path=St}if(q=JSON.parse(JSON.stringify(Q)),this.path=y(q,this.posX+this.margin[3],-bt+ze+this.ctx.prevPageLastElemOffset),H===!1||ge===0){var Et=(ge>Le||ge<qe)&&m.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],de,ft,null).clip().discardPath()),_.call(this,E,H),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=ce,_.call(this,E,H),this.lineWidth=J;this.path=Q},_=function(E,H){if((E!=="stroke"||H||!v.call(this))&&(E==="stroke"||H||!p.call(this))){for(var G,q,K=[],ee=this.path,se=0;se<ee.length;se++){var J=ee[se];switch(J.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:J,deltas:[],abs:[]});break;case"lt":var ce=K.length;if(ee[se-1]&&!isNaN(ee[se-1].x)&&(G=[J.x-ee[se-1].x,J.y-ee[se-1].y],ce>0)){for(;ce>=0;ce--)if(K[ce-1].close!==!0&&K[ce-1].begin!==!0){K[ce-1].deltas.push(G),K[ce-1].abs.push(J);break}}break;case"bct":G=[J.x1-ee[se-1].x,J.y1-ee[se-1].y,J.x2-ee[se-1].x,J.y2-ee[se-1].y,J.x-ee[se-1].x,J.y-ee[se-1].y],K[K.length-1].deltas.push(G);break;case"qct":var pe=ee[se-1].x+2/3*(J.x1-ee[se-1].x),Q=ee[se-1].y+2/3*(J.y1-ee[se-1].y),Oe=J.x+2/3*(J.x1-J.x),$e=J.y+2/3*(J.y1-J.y),Ae=J.x,Z=J.y;G=[pe-ee[se-1].x,Q-ee[se-1].y,Oe-ee[se-1].x,$e-ee[se-1].y,Ae-ee[se-1].x,Z-ee[se-1].y],K[K.length-1].deltas.push(G);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(J)}}q=H?null:E==="stroke"?"stroke":"fill";for(var ke=!1,Ge=0;Ge<K.length;Ge++)if(K[Ge].arc)for(var Le=K[Ge].abs,qe=0;qe<Le.length;qe++){var ge=Le[qe];ge.type==="arc"?A.call(this,ge.x,ge.y,ge.radius,ge.startAngle,ge.endAngle,ge.counterclockwise,void 0,H,!ke):z.call(this,ge.x,ge.y),ke=!0}else if(K[Ge].close===!0)this.pdf.internal.out("h"),ke=!1;else if(K[Ge].begin!==!0){var de=K[Ge].start.x,ze=K[Ge].start.y;I.call(this,K[Ge].deltas,de,ze),ke=!0}q&&P.call(this,q),H&&W.call(this)}},N=function(E){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-G;case"top":return E+H-G;case"hanging":return E+H-2*G;case"middle":return E+H/2-G;case"ideographic":return E;case"alphabetic":default:return E}},S=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(H,G){this.colorStops.push([H,G])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(E,H,G,q,K,ee,se,J,ce){for(var pe=V.call(this,G,q,K,ee),Q=0;Q<pe.length;Q++){var Oe=pe[Q];Q===0&&(ce?C.call(this,Oe.x1+E,Oe.y1+H):z.call(this,Oe.x1+E,Oe.y1+H)),R.call(this,E,H,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}J?W.call(this):P.call(this,se)},P=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(E,H){this.pdf.internal.out(r(E)+" "+n(H)+" m")},k=function(E){var H;switch(E.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var G=this.pdf.getTextDimensions(E.text),q=N.call(this,E.y),K=S.call(this,q)-G.h,ee=this.ctx.transform.applyToPoint(new o(E.x,q)),se=this.ctx.transform.decompose(),J=new c;J=(J=(J=J.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var ce,pe,Q,Oe=this.ctx.transform.applyToRectangle(new l(E.x,q,G.w,G.h)),$e=J.applyToRectangle(new l(E.x,K,G.w,G.h)),Ae=x.call(this,$e),Z=[],ke=0;ke<Ae.length;ke+=1)Z.indexOf(Ae[ke])===-1&&Z.push(Ae[ke]);if(b(Z),this.autoPaging)for(var Ge=Z[0],Le=Z[Z.length-1],qe=Ge;qe<Le+1;qe++){this.pdf.setPage(qe);var ge=qe===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],Ke=ze-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],bt=ft-this.margin[3],St=qe===1?0:de+(qe-2)*Ke;if(this.ctx.clip_path.length!==0){var Et=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ce,this.posX+this.margin[3],-1*St+ge),_.call(this,"fill",!0),this.path=Et}var _e=y([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-St+ge+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*E.scale),Q=this.lineWidth,this.lineWidth=Q*E.scale);var ot=this.autoPaging!=="text";if(ot||_e.y+_e.h<=ze){if(ot||_e.y>=ge&&_e.x<=ft){var rt=ot?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||ft-_e.x)[0],qt=y([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-St+ge+this.ctx.prevPageLastElemOffset)[0],gt=ot&&(qe>Ge||qe<Le)&&m.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ke,null).clip().discardPath()),this.pdf.text(rt,qt.x,qt.y,{angle:E.angle,align:H,renderingMode:E.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else _e.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-_e.y);E.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Q)}else E.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*E.scale),Q=this.lineWidth,this.lineWidth=Q*E.scale),this.pdf.text(E.text,ee.x+this.posX,ee.y+this.posY,{angle:E.angle,align:H,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Q)},z=function(E,H,G,q){G=G||0,q=q||0,this.pdf.internal.out(r(E+G)+" "+n(H+q)+" l")},I=function(E,H,G){return this.pdf.lines(E,H,G,null,null)},R=function(E,H,G,q,K,ee,se,J){this.pdf.internal.out([t(a(G+E)),t(i(q+H)),t(a(K+E)),t(i(ee+H)),t(a(se+E)),t(i(J+H)),"c"].join(" "))},V=function(E,H,G,q){for(var K=2*Math.PI,ee=Math.PI/2;H>G;)H-=K;var se=Math.abs(G-H);se<K&&q&&(se=K-se);for(var J=[],ce=q?-1:1,pe=H;se>1e-5;){var Q=pe+ce*Math.min(se,ee);J.push(L.call(this,E,pe,Q)),se-=Math.abs(Q-pe),pe=Q}return J},L=function(E,H,G){var q=(G-H)/2,K=E*Math.cos(q),ee=E*Math.sin(q),se=K,J=-ee,ce=se*se+J*J,pe=ce+se*K+J*ee,Q=4/3*(Math.sqrt(2*ce*pe)-pe)/(se*ee-J*K),Oe=se-Q*J,$e=J+Q*se,Ae=Oe,Z=-$e,ke=q+H,Ge=Math.cos(ke),Le=Math.sin(ke);return{x1:E*Math.cos(H),y1:E*Math.sin(H),x2:Oe*Ge-$e*Le,y2:Oe*Le+$e*Ge,x3:Ae*Ge-Z*Le,y3:Ae*Le+Z*Ge,x4:E*Math.cos(G),y4:E*Math.sin(G)}},M=function(E){return 180*E/Math.PI},F=function(E,H,G,q,K,ee){var se=E+.5*(G-E),J=H+.5*(q-H),ce=K+.5*(G-K),pe=ee+.5*(q-ee),Q=Math.min(E,K,se,ce),Oe=Math.max(E,K,se,ce),$e=Math.min(H,ee,J,pe),Ae=Math.max(H,ee,J,pe);return new l(Q,$e,Oe-Q,Ae-$e)},U=function(E,H,G,q,K,ee,se,J){var ce,pe,Q,Oe,$e,Ae,Z,ke,Ge,Le,qe,ge,de,ze,Ke=G-E,ft=q-H,bt=K-G,St=ee-q,Et=se-K,_e=J-ee;for(pe=0;pe<41;pe++)Ge=(Z=(Q=E+(ce=pe/40)*Ke)+ce*(($e=G+ce*bt)-Q))+ce*($e+ce*(K+ce*Et-$e)-Z),Le=(ke=(Oe=H+ce*ft)+ce*((Ae=q+ce*St)-Oe))+ce*(Ae+ce*(ee+ce*_e-Ae)-ke),pe==0?(qe=Ge,ge=Le,de=Ge,ze=Le):(qe=Math.min(qe,Ge),ge=Math.min(ge,Le),de=Math.max(de,Ge),ze=Math.max(ze,Le));return new l(Math.round(qe),Math.round(ge),Math.round(de-qe),Math.round(ze-ge))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,H,G=(E=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:H}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Vt.API),function(e){var t=function(i){var o,l,c,u,d,f,h,p,v,m;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(m=d%85))/85)-(v=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,v+33,m+33)):l.push(122);return function(x,g){for(var y=g;y>0;y--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,d,f=String,h="length",p=255,v="charCodeAt",m="slice",x="replace";for(i[m](-2),i=i[m](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[m](i[h]%5||5))[h];d>u;u+=5)l=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(g,y){for(var b=y;b>0;b--)g.pop()}(c,o[h]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=RA(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Vt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(v){var m=v.length,x=[],g=String.fromCharCode;for(h=0;h<m;h+=1)x.push(g(255&v.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Vt.API),function(e){function t(){return(Xt.html2canvas?Promise.resolve(Xt.html2canvas):xc(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Xt.DOMPurify?Promise.resolve(Xt.DOMPurify):xc(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Zr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],v=p.src.find(function(m){return m.format==="truetype"});v&&c.addFont(v.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Vt.getPageSize=function(o,l,c){if(Zr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,v=0,m=0;if(h.hasOwnProperty(f))v=h[f][1]/d,m=h[f][0]/d;else try{v=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",m>v&&(p=m,m=v,v=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>m&&(p=m,m=v,v=p)}return{width:m,height:v,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(HA):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(Vt.API),Vt.API.addJS=function(e){return hM=e,this.internal.events.subscribe("postPutResources",function(){py=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(py+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){py!==void 0&&fM!==void 0&&this.internal.out("/Names <</JavaScript "+py+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Vt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,m={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=p,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),m={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Vt.API);var uh,my,pM,mM,gM,Z$e=function(){var e,t,r;function n(i){var o,l,c,u,d,f,h,p,v,m,x,g,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var j,_;for(_=[],j=0;j<4;++j)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(y=0;0<=m?y<m:y>m;0<=m?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(x=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,x.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,v){var m,x,g,y,b,j,_,N,S,A,P,W,C,k,z,I,R,V,L,M,F,U=Math.ceil((u.width-f)/p),X=Math.ceil((u.height-h)/v),E=u.width==U&&u.height==X;for(k=o*U,W=E?l:new Uint8Array(k*X),j=i.length,C=0,x=0;C<X&&c<j;){switch(i[c++]){case 0:for(y=R=0;R<k;y=R+=1)W[x++]=i[c++];break;case 1:for(y=V=0;V<k;y=V+=1)m=i[c++],b=y<o?0:W[x-o],W[x++]=(m+b)%256;break;case 2:for(y=L=0;L<k;y=L+=1)m=i[c++],g=(y-y%o)/o,z=C&&W[(C-1)*k+g*o+y%o],W[x++]=(z+m)%256;break;case 3:for(y=M=0;M<k;y=M+=1)m=i[c++],g=(y-y%o)/o,b=y<o?0:W[x-o],z=C&&W[(C-1)*k+g*o+y%o],W[x++]=(m+Math.floor((b+z)/2))%256;break;case 4:for(y=F=0;F<k;y=F+=1)m=i[c++],g=(y-y%o)/o,b=y<o?0:W[x-o],C===0?z=I=0:(z=W[(C-1)*k+g*o+y%o],I=g&&W[(C-1)*k+(g-1)*o+y%o]),_=b+z-I,N=Math.abs(_-b),A=Math.abs(_-z),P=Math.abs(_-I),S=N<=A&&N<=P?b:A<=P?z:I,W[x++]=(m+S)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!E){var H=((h+C*v)*u.width+f)*o,G=C*k;for(y=0;y<U;y+=1){for(var q=0;q<o;q+=1)l[H++]=W[G++];H+=(p-1)*o}}C++}}return i=k$e(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,u,d,f,h,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,o=f=0,h=l.length;f<h;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,o){var l,c,u,d,f,h,p,v,m,x,g;if(c=this.colors,m=null,l=this.hasAlphaChannel,this.palette.length&&(m=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(u=i.data||i).length,f=m||o,d=h=0,c===1)for(;d<v;)p=m?4*o[d/4]:h,x=f[p++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=l?f[p++]:255,h=p;else for(;d<v;)p=m?4*o[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=l?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Xt)==="[object Window]"){try{t=Xt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,u,d,f,h,p;if(this.animation){for(p=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)o=h[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var p,v;if(p=l++%u,v=c[p],h.renderFrame(i,p),u>1&&l/u<d)return h.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function eBe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,p=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++],_=j>>6&1,N=1<<(7&j)+1,S=l,A=c,P=!1;j>>7&&(P=!0,S=t,A=N,t+=3*N);var W=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}d.push({x,y:g,width:y,height:b,has_local_palette:P,palette_offset:S,palette_size:A,data_offset:W,data_length:t-W,transparent_index:h,interlaced:!!_,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(k){if(k<0||k>=d.length)throw new Error("Frame index out of range.");return d[k]},this.decodeAndBlitFrameBGRA=function(k,z){var I=this.frameInfo(k),R=I.width*I.height,V=new Uint8Array(R);vM(e,I.data_offset,V,R);var L=I.palette_offset,M=I.transparent_index;M===null&&(M=256);var F=I.width,U=r-F,X=F,E=4*(I.y*r+I.x),H=4*((I.y+I.height)*r+I.x),G=E,q=4*U;I.interlaced===!0&&(q+=4*r*7);for(var K=8,ee=0,se=V.length;ee<se;++ee){var J=V[ee];if(X===0&&(X=F,(G+=q)>=H&&(q=4*U+4*r*(K-1),G=E+(F+U)*(K<<1),K>>=1)),J===M)G+=4;else{var ce=e[L+3*J],pe=e[L+3*J+1],Q=e[L+3*J+2];z[G++]=Q,z[G++]=pe,z[G++]=ce,z[G++]=255}--X}},this.decodeAndBlitFrameRGBA=function(k,z){var I=this.frameInfo(k),R=I.width*I.height,V=new Uint8Array(R);vM(e,I.data_offset,V,R);var L=I.palette_offset,M=I.transparent_index;M===null&&(M=256);var F=I.width,U=r-F,X=F,E=4*(I.y*r+I.x),H=4*((I.y+I.height)*r+I.x),G=E,q=4*U;I.interlaced===!0&&(q+=4*r*7);for(var K=8,ee=0,se=V.length;ee<se;++ee){var J=V[ee];if(X===0&&(X=F,(G+=q)>=H&&(q=4*U+4*r*(K-1),G=E+(F+U)*(K<<1),K>>=1)),J===M)G+=4;else{var ce=e[L+3*J],pe=e[L+3*J+1],Q=e[L+3*J+2];z[G++]=ce,z[G++]=pe,z[G++]=Q,z[G++]=255}--X}}}function vM(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],v=new Int32Array(4096),m=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==i){if(x===o)break;for(var g=x<l?x:m,y=0,b=g;b>i;)b=v[b]>>8,++y;var j=b;if(h+y+(g!==x?1:0)>n)return void cn.log("Warning, gif stream longer than expected.");r[h++]=j;var _=h+=y;for(g!==x&&(r[h++]=j),b=g;y--;)b=v[b],r[--_]=255&b,b>>=8;m!==null&&l<4096&&(v[l++]=m<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=x}else l=o+1,u=(1<<(c=a+1))-1,m=null}return h!==n&&cn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function oS(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),v=new Array(64),m=[],x=0,g=7,y=new Array(64),b=new Array(64),j=new Array(64),_=new Array(256),N=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],R=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(E,H){for(var G=0,q=0,K=new Array,ee=1;ee<=16;ee++){for(var se=1;se<=E[ee];se++)K[H[q]]=[],K[H[q]][0]=G,K[H[q]][1]=ee,q++,G++;G*=2}return K}function L(E){for(var H=E[0],G=E[1]-1;G>=0;)H&1<<G&&(x|=1<<g),G--,--g<0&&(x==255?(M(255),M(0)):M(x),g=7,x=0)}function M(E){m.push(E)}function F(E){M(E>>8&255),M(255&E)}function U(E,H,G,q,K){for(var ee,se=K[0],J=K[240],ce=function(Le,qe){var ge,de,ze,Ke,ft,bt,St,Et,_e,ot,rt=0;for(_e=0;_e<8;++_e){ge=Le[rt],de=Le[rt+1],ze=Le[rt+2],Ke=Le[rt+3],ft=Le[rt+4],bt=Le[rt+5],St=Le[rt+6];var qt=ge+(Et=Le[rt+7]),gt=ge-Et,jr=de+St,Gt=de-St,rr=ze+bt,Hr=ze-bt,Ht=Ke+ft,Kr=Ke-ft,le=qt+Ht,$t=qt-Ht,Cr=jr+rr,nr=jr-rr;Le[rt]=le+Cr,Le[rt+4]=le-Cr;var Bt=.707106781*(nr+$t);Le[rt+2]=$t+Bt,Le[rt+6]=$t-Bt;var Qt=.382683433*((le=Kr+Hr)-(nr=Gt+gt)),Aa=.5411961*le+Qt,rn=1.306562965*nr+Qt,Ye=.707106781*(Cr=Hr+Gt),Ct=gt+Ye,mt=gt-Ye;Le[rt+5]=mt+Aa,Le[rt+3]=mt-Aa,Le[rt+1]=Ct+rn,Le[rt+7]=Ct-rn,rt+=8}for(rt=0,_e=0;_e<8;++_e){ge=Le[rt],de=Le[rt+8],ze=Le[rt+16],Ke=Le[rt+24],ft=Le[rt+32],bt=Le[rt+40],St=Le[rt+48];var wt=ge+(Et=Le[rt+56]),Ur=ge-Et,Pn=de+St,Nn=de-St,vn=ze+bt,ne=ze-bt,ve=Ke+ft,fe=Ke-ft,he=wt+ve,xe=wt-ve,ye=Pn+vn,Re=Pn-vn;Le[rt]=he+ye,Le[rt+32]=he-ye;var Xe=.707106781*(Re+xe);Le[rt+16]=xe+Xe,Le[rt+48]=xe-Xe;var Me=.382683433*((he=fe+ne)-(Re=Nn+Ur)),Ve=.5411961*he+Me,He=1.306562965*Re+Me,dt=.707106781*(ye=ne+Nn),vt=Ur+dt,Ot=Ur-dt;Le[rt+40]=Ot+Ve,Le[rt+24]=Ot-Ve,Le[rt+8]=vt+He,Le[rt+56]=vt-He,rt++}for(_e=0;_e<64;++_e)ot=Le[_e]*qe[_e],p[_e]=ot>0?ot+.5|0:ot-.5|0;return p}(E,H),pe=0;pe<64;++pe)v[S[pe]]=ce[pe];var Q=v[0]-G;G=v[0],Q==0?L(q[0]):(L(q[h[ee=32767+Q]]),L(f[ee]));for(var Oe=63;Oe>0&&v[Oe]==0;)Oe--;if(Oe==0)return L(se),G;for(var $e,Ae=1;Ae<=Oe;){for(var Z=Ae;v[Ae]==0&&Ae<=Oe;)++Ae;var ke=Ae-Z;if(ke>=16){$e=ke>>4;for(var Ge=1;Ge<=$e;++Ge)L(J);ke&=15}ee=32767+v[Ae],L(K[(ke<<4)+h[ee]]),L(f[ee]),Ae++}return Oe!=63&&L(se),G}function X(E){E=Math.min(Math.max(E,1),100),i!=E&&(function(H){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var K=o((G[q]*H+50)/100);K=Math.min(Math.max(K,1),255),l[S[q]]=K}for(var ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],se=0;se<64;se++){var J=o((ee[se]*H+50)/100);J=Math.min(Math.max(J,1),255),c[S[se]]=J}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,Q=0;Q<8;Q++)for(var Oe=0;Oe<8;Oe++)u[pe]=1/(l[S[pe]]*ce[Q]*ce[Oe]*8),d[pe]=1/(c[S[pe]]*ce[Q]*ce[Oe]*8),pe++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),i=E)}this.encode=function(E,H){H&&X(H),m=new Array,x=0,g=7,F(65496),F(65504),F(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),F(1),F(1),M(0),M(0),function(){F(65499),F(132),M(0);for(var de=0;de<64;de++)M(l[de]);M(1);for(var ze=0;ze<64;ze++)M(c[ze])}(),function(de,ze){F(65472),F(17),M(8),F(ze),F(de),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(E.width,E.height),function(){F(65476),F(418),M(0);for(var de=0;de<16;de++)M(A[de+1]);for(var ze=0;ze<=11;ze++)M(P[ze]);M(16);for(var Ke=0;Ke<16;Ke++)M(W[Ke+1]);for(var ft=0;ft<=161;ft++)M(C[ft]);M(1);for(var bt=0;bt<16;bt++)M(k[bt+1]);for(var St=0;St<=11;St++)M(z[St]);M(17);for(var Et=0;Et<16;Et++)M(I[Et+1]);for(var _e=0;_e<=161;_e++)M(R[_e])}(),F(65498),F(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var G=0,q=0,K=0;x=0,g=7,this.encode.displayName="_encode_";for(var ee,se,J,ce,pe,Q,Oe,$e,Ae,Z=E.data,ke=E.width,Ge=E.height,Le=4*ke,qe=0;qe<Ge;){for(ee=0;ee<Le;){for(pe=Le*qe+ee,Oe=-1,$e=0,Ae=0;Ae<64;Ae++)Q=pe+($e=Ae>>3)*Le+(Oe=4*(7&Ae)),qe+$e>=Ge&&(Q-=Le*(qe+1+$e-Ge)),ee+Oe>=Le&&(Q-=ee+Oe-Le+4),se=Z[Q++],J=Z[Q++],ce=Z[Q++],y[Ae]=(N[se]+N[J+256>>0]+N[ce+512>>0]>>16)-128,b[Ae]=(N[se+768>>0]+N[J+1024>>0]+N[ce+1280>>0]>>16)-128,j[Ae]=(N[se+1280>>0]+N[J+1536>>0]+N[ce+1792>>0]>>16)-128;G=U(y,u,G,t,n),q=U(b,d,q,r,a),K=U(j,d,K,r,a),ee+=32}qe+=8}if(g>=0){var ge=[];ge[1]=g+1,ge[0]=(1<<g+1)-1,L(ge)}return F(65497),new Uint8Array(m)},e=e||50,function(){for(var E=String.fromCharCode,H=0;H<256;H++)_[H]=E(H)}(),t=V(A,P),r=V(k,z),n=V(W,C),a=V(I,R),function(){for(var E=1,H=2,G=1;G<=15;G++){for(var q=E;q<H;q++)h[32767+q]=G,f[32767+q]=[],f[32767+q][1]=G,f[32767+q][0]=q;for(var K=-(H-1);K<=-E;K++)h[32767+K]=G,f[32767+K]=[],f[32767+K][1]=G,f[32767+K][0]=H-1+K;E<<=1,H<<=1}}(),function(){for(var E=0;E<256;E++)N[E]=19595*E,N[E+256>>0]=38470*E,N[E+512>>0]=7471*E+32768,N[E+768>>0]=-11059*E,N[E+1024>>0]=-21709*E,N[E+1280>>0]=32768*E+8421375,N[E+1536>>0]=-27439*E,N[E+1792>>0]=-5329*E}(),X(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function So(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xM(e){function t(A){if(!A)throw Error("assert :P")}function r(A,P,W){for(var C=0;4>C;C++)if(A[P+C]!=W.charCodeAt(C))return!0;return!1}function n(A,P,W,C,k){for(var z=0;z<k;z++)A[P+z]=W[C+z]}function a(A,P,W,C){for(var k=0;k<C;k++)A[P+k]=W}function i(A){return new Int32Array(A)}function o(A,P){for(var W=[],C=0;C<A;C++)W.push(new P);return W}function l(A,P){var W=[];return function C(k,z,I){for(var R=I[z],V=0;V<R&&(k.push(I.length>z+1?[]:new P),!(I.length<z+1));V++)C(k[V],z+1,I)}(W,0,A),W}var c=function(){var A=this;function P(w,T){for(var B=1<<T-1>>>0;w&B;)B>>>=1;return B?(w&B-1)+B:w}function W(w,T,B,Y,te){t(!(Y%B));do w[T+(Y-=B)]=te;while(0<Y)}function C(w,T,B,Y,te){if(t(2328>=te),512>=te)var ae=i(512);else if((ae=i(te))==null)return 0;return function(ie,oe,ue,me,Ce,Be){var Ue,Fe,st=oe,Je=1<<ue,Ee=i(16),Pe=i(16);for(t(Ce!=0),t(me!=null),t(ie!=null),t(0<ue),Fe=0;Fe<Ce;++Fe){if(15<me[Fe])return 0;++Ee[me[Fe]]}if(Ee[0]==Ce)return 0;for(Pe[1]=0,Ue=1;15>Ue;++Ue){if(Ee[Ue]>1<<Ue)return 0;Pe[Ue+1]=Pe[Ue]+Ee[Ue]}for(Fe=0;Fe<Ce;++Fe)Ue=me[Fe],0<me[Fe]&&(Be[Pe[Ue]++]=Fe);if(Pe[15]==1)return(me=new k).g=0,me.value=Be[0],W(ie,st,1,Je,me),Je;var nt,ct=-1,at=Je-1,Lt=0,Nt=1,Wt=1,kt=1<<ue;for(Fe=0,Ue=1,Ce=2;Ue<=ue;++Ue,Ce<<=1){if(Nt+=Wt<<=1,0>(Wt-=Ee[Ue]))return 0;for(;0<Ee[Ue];--Ee[Ue])(me=new k).g=Ue,me.value=Be[Fe++],W(ie,st+Lt,Ce,kt,me),Lt=P(Lt,Ue)}for(Ue=ue+1,Ce=2;15>=Ue;++Ue,Ce<<=1){if(Nt+=Wt<<=1,0>(Wt-=Ee[Ue]))return 0;for(;0<Ee[Ue];--Ee[Ue]){if(me=new k,(Lt&at)!=ct){for(st+=kt,nt=1<<(ct=Ue)-ue;15>ct&&!(0>=(nt-=Ee[ct]));)++ct,nt<<=1;Je+=kt=1<<(nt=ct-ue),ie[oe+(ct=Lt&at)].g=nt+ue,ie[oe+ct].value=st-oe-ct}me.g=Ue-ue,me.value=Be[Fe++],W(ie,st+(Lt>>ue),Ce,kt,me),Lt=P(Lt,Ue)}}return Nt!=2*Pe[15]-1?0:Je}(w,T,B,Y,te,ae)}function k(){this.value=this.g=0}function z(){this.value=this.g=0}function I(){this.G=o(5,k),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ua,z)}function R(w,T,B,Y){t(w!=null),t(T!=null),t(2147483648>Y),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=T,w.pa=B,w.Jd=T,w.Yc=B+Y,w.Zc=4<=Y?B+Y-4+1:B,ee(w)}function V(w,T){for(var B=0;0<T--;)B|=J(w,128)<<T;return B}function L(w,T){var B=V(w,T);return se(w)?-B:B}function M(w,T,B,Y){var te,ae=0;for(t(w!=null),t(T!=null),t(4294967288>Y),w.Sb=Y,w.Ra=0,w.u=0,w.h=0,4<Y&&(Y=4),te=0;te<Y;++te)ae+=T[B+te]<<8*te;w.Ra=ae,w.bb=Y,w.oa=T,w.pa=B}function F(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Bf-8>>>0,++w.bb,w.u-=8;G(w)&&(w.h=1,w.u=0)}function U(w,T){if(t(0<=T),!w.h&&T<=$f){var B=H(w)&Rf[T];return w.u+=T,F(w),B}return w.h=1,w.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(w){return w.Ra>>>(w.u&Bf-1)>>>0}function G(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Bf}function q(w,T){w.u=T,w.h=G(w)}function K(w){w.u>=Dp&&(t(w.u>=Dp),F(w))}function ee(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function se(w){return V(w,1)}function J(w,T){var B=w.Ca;0>w.b&&ee(w);var Y=w.b,te=B*T>>>8,ae=(w.I>>>Y>te)+0;for(ae?(B-=te,w.I-=te+1<<Y>>>0):B=te+1,Y=B,te=0;256<=Y;)te+=8,Y>>=8;return Y=7^te+Ui[Y],w.b-=Y,w.Ca=(B<<Y)-1,ae}function ce(w,T,B){w[T+0]=B>>24&255,w[T+1]=B>>16&255,w[T+2]=B>>8&255,w[T+3]=B>>0&255}function pe(w,T){return w[T+0]<<0|w[T+1]<<8}function Q(w,T){return pe(w,T)|w[T+2]<<16}function Oe(w,T){return pe(w,T)|pe(w,T+2)<<16}function $e(w,T){var B=1<<T;return t(w!=null),t(0<T),w.X=i(B),w.X==null?0:(w.Mb=32-T,w.Xa=T,1)}function Ae(w,T){t(w!=null),t(T!=null),t(w.Xa==T.Xa),n(T.X,0,w.X,0,1<<T.Xa)}function Z(){this.X=[],this.Xa=this.Mb=0}function ke(w,T,B,Y){t(B!=null),t(Y!=null);var te=B[0],ae=Y[0];return te==0&&(te=(w*ae+T/2)/T),ae==0&&(ae=(T*te+w/2)/w),0>=te||0>=ae?0:(B[0]=te,Y[0]=ae,1)}function Ge(w,T){return w+(1<<T)-1>>>T}function Le(w,T){return((4278255360&w)+(4278255360&T)>>>0&4278255360)+((16711935&w)+(16711935&T)>>>0&16711935)>>>0}function qe(w,T){A[T]=function(B,Y,te,ae,ie,oe,ue){var me;for(me=0;me<ie;++me){var Ce=A[w](oe[ue+me-1],te,ae+me);oe[ue+me]=Le(B[Y+me],Ce)}}}function ge(){this.ud=this.hd=this.jd=0}function de(w,T){return((4278124286&(w^T))>>>1)+(w&T)>>>0}function ze(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Ke(w,T){return ze(w+(w-T+.5>>1))}function ft(w,T,B){return Math.abs(T-B)-Math.abs(w-B)}function bt(w,T,B,Y,te,ae,ie){for(Y=ae[ie-1],B=0;B<te;++B)ae[ie+B]=Y=Le(w[T+B],Y)}function St(w,T,B,Y,te){var ae;for(ae=0;ae<B;++ae){var ie=w[T+ae],oe=ie>>8&255,ue=16711935&(ue=(ue=16711935&ie)+((oe<<16)+oe));Y[te+ae]=(4278255360&ie)+ue>>>0}}function Et(w,T){T.jd=w>>0&255,T.hd=w>>8&255,T.ud=w>>16&255}function _e(w,T,B,Y,te,ae){var ie;for(ie=0;ie<Y;++ie){var oe=T[B+ie],ue=oe>>>8,me=oe,Ce=255&(Ce=(Ce=oe>>>16)+((w.jd<<24>>24)*(ue<<24>>24)>>>5));me=255&(me=(me=me+((w.hd<<24>>24)*(ue<<24>>24)>>>5))+((w.ud<<24>>24)*(Ce<<24>>24)>>>5)),te[ae+ie]=(4278255360&oe)+(Ce<<16)+me}}function ot(w,T,B,Y,te){A[T]=function(ae,ie,oe,ue,me,Ce,Be,Ue,Fe){for(ue=Be;ue<Ue;++ue)for(Be=0;Be<Fe;++Be)me[Ce++]=te(oe[Y(ae[ie++])])},A[w]=function(ae,ie,oe,ue,me,Ce,Be){var Ue=8>>ae.b,Fe=ae.Ea,st=ae.K[0],Je=ae.w;if(8>Ue)for(ae=(1<<ae.b)-1,Je=(1<<Ue)-1;ie<oe;++ie){var Ee,Pe=0;for(Ee=0;Ee<Fe;++Ee)Ee&ae||(Pe=Y(ue[me++])),Ce[Be++]=te(st[Pe&Je]),Pe>>=Ue}else A["VP8LMapColor"+B](ue,me,st,Je,Ce,Be,ie,oe,Fe)}}function rt(w,T,B,Y,te){for(B=T+B;T<B;){var ae=w[T++];Y[te++]=ae>>16&255,Y[te++]=ae>>8&255,Y[te++]=ae>>0&255}}function qt(w,T,B,Y,te){for(B=T+B;T<B;){var ae=w[T++];Y[te++]=ae>>16&255,Y[te++]=ae>>8&255,Y[te++]=ae>>0&255,Y[te++]=ae>>24&255}}function gt(w,T,B,Y,te){for(B=T+B;T<B;){var ae=(ie=w[T++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;Y[te++]=ae,Y[te++]=ie}}function jr(w,T,B,Y,te){for(B=T+B;T<B;){var ae=(ie=w[T++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;Y[te++]=ae,Y[te++]=ie}}function Gt(w,T,B,Y,te){for(B=T+B;T<B;){var ae=w[T++];Y[te++]=ae>>0&255,Y[te++]=ae>>8&255,Y[te++]=ae>>16&255}}function rr(w,T,B,Y,te,ae){if(ae==0)for(B=T+B;T<B;)ce(Y,((ae=w[T++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),te+=32;else n(Y,te,w,T,B)}function Hr(w,T){A[T][0]=A[w+"0"],A[T][1]=A[w+"1"],A[T][2]=A[w+"2"],A[T][3]=A[w+"3"],A[T][4]=A[w+"4"],A[T][5]=A[w+"5"],A[T][6]=A[w+"6"],A[T][7]=A[w+"7"],A[T][8]=A[w+"8"],A[T][9]=A[w+"9"],A[T][10]=A[w+"10"],A[T][11]=A[w+"11"],A[T][12]=A[w+"12"],A[T][13]=A[w+"13"],A[T][14]=A[w+"0"],A[T][15]=A[w+"0"]}function Ht(w){return w==q_||w==G_||w==Gx||w==K_}function Kr(){this.eb=[],this.size=this.A=this.fb=0}function le(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $t(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Kr,this.f.kb=new le,this.sd=null}function Cr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Qt(w,T){var B=w.T,Y=T.ba.f.RGBA,te=Y.eb,ae=Y.fb+w.ka*Y.A,ie=$s[T.ba.S],oe=w.y,ue=w.O,me=w.f,Ce=w.N,Be=w.ea,Ue=w.W,Fe=T.cc,st=T.dc,Je=T.Mc,Ee=T.Nc,Pe=w.ka,nt=w.ka+w.T,ct=w.U,at=ct+1>>1;for(Pe==0?ie(oe,ue,null,null,me,Ce,Be,Ue,me,Ce,Be,Ue,te,ae,null,null,ct):(ie(T.ec,T.fc,oe,ue,Fe,st,Je,Ee,me,Ce,Be,Ue,te,ae-Y.A,te,ae,ct),++B);Pe+2<nt;Pe+=2)Fe=me,st=Ce,Je=Be,Ee=Ue,Ce+=w.Rc,Ue+=w.Rc,ae+=2*Y.A,ie(oe,(ue+=2*w.fa)-w.fa,oe,ue,Fe,st,Je,Ee,me,Ce,Be,Ue,te,ae-Y.A,te,ae,ct);return ue+=w.fa,w.j+nt<w.o?(n(T.ec,T.fc,oe,ue,ct),n(T.cc,T.dc,me,Ce,at),n(T.Mc,T.Nc,Be,Ue,at),B--):1&nt||ie(oe,ue,null,null,me,Ce,Be,Ue,me,Ce,Be,Ue,te,ae+Y.A,null,null,ct),B}function Aa(w,T,B){var Y=w.F,te=[w.J];if(Y!=null){var ae=w.U,ie=T.ba.S,oe=ie==qx||ie==Gx;T=T.ba.f.RGBA;var ue=[0],me=w.ka;ue[0]=w.T,w.Kb&&(me==0?--ue[0]:(--me,te[0]-=w.width),w.j+w.ka+w.T==w.o&&(ue[0]=w.o-w.j-me));var Ce=T.eb;me=T.fb+me*T.A,w=fn(Y,te[0],w.width,ae,ue,Ce,me+(oe?0:3),T.A),t(B==ue),w&&Ht(ie)&&Ms(Ce,me,oe,ae,ue,T.A)}return 0}function rn(w){var T=w.ma,B=T.ba.S,Y=11>B,te=B==Hx||B==Wx||B==qx||B==W_||B==12||Ht(B);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Op(T.Oa,w,te?11:12))return 0;if(te&&Ht(B)&&ut(),w.da)alert("todo:use_scaling");else{if(Y){if(T.Ib=Bt,w.Kb){if(B=w.U+1>>1,T.memory=i(w.U+2*B),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+w.U,T.Mc=T.cc,T.Nc=T.dc+B,T.Ib=Qt,ut()}}else alert("todo:EmitYUV");te&&(T.Jb=Aa,Y&&Ie())}if(Y&&!XE){for(w=0;256>w;++w)OK[w]=89858*(w-128)+Yx>>Kx,LK[w]=-22014*(w-128)+Yx,DK[w]=-45773*(w-128),FK[w]=113618*(w-128)+Yx>>Kx;for(w=Up;w<J_;++w)T=76283*(w-16)+Yx>>Kx,IK[w-Up]=os(T,255),MK[w-Up]=os(T+8>>4,15);XE=1}return 1}function Ye(w){var T=w.ma,B=w.U,Y=w.T;return t(!(1&w.ka)),0>=B||0>=Y?0:(B=T.Ib(w,T),T.Jb!=null&&T.Jb(w,T,B),T.Dc+=B,1)}function Ct(w){w.ma.memory=null}function mt(w,T,B,Y){return U(w,8)!=47?0:(T[0]=U(w,14)+1,B[0]=U(w,14)+1,Y[0]=U(w,1),U(w,3)!=0?0:!w.h)}function wt(w,T){if(4>w)return w+1;var B=w-2>>1;return(2+(1&w)<<B)+U(T,B)+1}function Ur(w,T){return 120<T?T-120:1<=(B=((B=xK[T-1])>>4)*w+(8-(15&B)))?B:1;var B}function Pn(w,T,B){var Y=H(B),te=w[T+=255&Y].g-8;return 0<te&&(q(B,B.u+8),Y=H(B),T+=w[T].value,T+=Y&(1<<te)-1),q(B,B.u+w[T].g),w[T].value}function Nn(w,T,B){return B.g+=w.g,B.value+=w.value<<T>>>0,t(8>=B.g),w.g}function vn(w,T,B){var Y=w.xc;return t((T=Y==0?0:w.vc[w.md*(B>>Y)+(T>>Y)])<w.Wb),w.Ya[T]}function ne(w,T,B,Y){var te=w.ab,ae=w.c*T,ie=w.C;T=ie+T;var oe=B,ue=Y;for(Y=w.Ta,B=w.Ua;0<te--;){var me=w.gc[te],Ce=ie,Be=T,Ue=oe,Fe=ue,st=(ue=Y,oe=B,me.Ea);switch(t(Ce<Be),t(Be<=me.nc),me.hc){case 2:Mx(Ue,Fe,(Be-Ce)*st,ue,oe);break;case 0:var Je=Ce,Ee=Be,Pe=ue,nt=oe,ct=(kt=me).Ea;Je==0&&(V_(Ue,Fe,null,null,1,Pe,nt),bt(Ue,Fe+1,0,0,ct-1,Pe,nt+1),Fe+=ct,nt+=ct,++Je);for(var at=1<<kt.b,Lt=at-1,Nt=Ge(ct,kt.b),Wt=kt.K,kt=kt.w+(Je>>kt.b)*Nt;Je<Ee;){var Wr=Wt,Yr=kt,Mr=1;for(Lp(Ue,Fe,Pe,nt-ct,1,Pe,nt);Mr<ct;){var Nr=(Mr&~Lt)+at;Nr>ct&&(Nr=ct),(0,Dc[Wr[Yr++]>>8&15])(Ue,Fe+ +Mr,Pe,nt+Mr-ct,Nr-Mr,Pe,nt+Mr),Mr=Nr}Fe+=ct,nt+=ct,++Je&Lt||(kt+=Nt)}Be!=me.nc&&n(ue,oe-st,ue,oe+(Be-Ce-1)*st,st);break;case 1:for(st=Ue,Ee=Fe,ct=(Ue=me.Ea)-(nt=Ue&~(Pe=(Fe=1<<me.b)-1)),Je=Ge(Ue,me.b),at=me.K,me=me.w+(Ce>>me.b)*Je;Ce<Be;){for(Lt=at,Nt=me,Wt=new ge,kt=Ee+nt,Wr=Ee+Ue;Ee<kt;)Et(Lt[Nt++],Wt),ad(Wt,st,Ee,Fe,ue,oe),Ee+=Fe,oe+=Fe;Ee<Wr&&(Et(Lt[Nt++],Wt),ad(Wt,st,Ee,ct,ue,oe),Ee+=ct,oe+=ct),++Ce&Pe||(me+=Je)}break;case 3:if(Ue==ue&&Fe==oe&&0<me.b){for(Ee=ue,Ue=st=oe+(Be-Ce)*st-(nt=(Be-Ce)*Ge(me.Ea,me.b)),Fe=ue,Pe=oe,Je=[],nt=(ct=nt)-1;0<=nt;--nt)Je[nt]=Fe[Pe+nt];for(nt=ct-1;0<=nt;--nt)Ee[Ue+nt]=Je[nt];Ds(me,Ce,Be,ue,st,ue,oe)}else Ds(me,Ce,Be,Ue,Fe,ue,oe)}oe=Y,ue=B}ue!=B&&n(Y,B,oe,ue,ae)}function ve(w,T){var B=w.V,Y=w.Ba+w.c*w.C,te=T-w.C;if(t(T<=w.l.o),t(16>=te),0<te){var ae=w.l,ie=w.Ta,oe=w.Ua,ue=ae.width;if(ne(w,te,B,Y),te=oe=[oe],t((B=w.C)<(Y=T)),t(ae.v<ae.va),Y>ae.o&&(Y=ae.o),B<ae.j){var me=ae.j-B;B=ae.j,te[0]+=me*ue}if(B>=Y?B=0:(te[0]+=4*ae.v,ae.ka=B-ae.j,ae.U=ae.va-ae.v,ae.T=Y-B,B=1),B){if(oe=oe[0],11>(B=w.ca).S){var Ce=B.f.RGBA,Be=(Y=B.S,te=ae.U,ae=ae.T,me=Ce.eb,Ce.A),Ue=ae;for(Ce=Ce.fb+w.Ma*Ce.A;0<Ue--;){var Fe=ie,st=oe,Je=te,Ee=me,Pe=Ce;switch(Y){case Vx:zi(Fe,st,Je,Ee,Pe);break;case Hx:ji(Fe,st,Je,Ee,Pe);break;case q_:ji(Fe,st,Je,Ee,Pe),Ms(Ee,Pe,0,Je,1,0);break;case BE:Ml(Fe,st,Je,Ee,Pe);break;case Wx:rr(Fe,st,Je,Ee,Pe,1);break;case G_:rr(Fe,st,Je,Ee,Pe,1),Ms(Ee,Pe,0,Je,1,0);break;case qx:rr(Fe,st,Je,Ee,Pe,0);break;case Gx:rr(Fe,st,Je,Ee,Pe,0),Ms(Ee,Pe,1,Je,1,0);break;case W_:Lc(Fe,st,Je,Ee,Pe);break;case K_:Lc(Fe,st,Je,Ee,Pe),dn(Ee,Pe,Je,1,0);break;case UE:Il(Fe,st,Je,Ee,Pe);break;default:t(0)}oe+=ue,Ce+=Be}w.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=B.height)}}w.C=T,t(w.C<=w.i)}function fe(w){var T;if(0<w.ua)return 0;for(T=0;T<w.Wb;++T){var B=w.Ya[T].G,Y=w.Ya[T].H;if(0<B[1][Y[1]+0].g||0<B[2][Y[2]+0].g||0<B[3][Y[3]+0].g)return 0}return 1}function he(w,T,B,Y,te,ae){if(w.Z!=0){var ie=w.qd,oe=w.rd;for(t($c[w.Z]!=null);T<B;++T)$c[w.Z](ie,oe,Y,te,Y,te,ae),ie=Y,oe=te,te+=ae;w.qd=ie,w.rd=oe}}function xe(w,T){var B=w.l.ma,Y=B.Z==0||B.Z==1?w.l.j:w.C;if(Y=w.C<Y?Y:w.C,t(T<=w.l.o),T>Y){var te=w.l.width,ae=B.ca,ie=B.tb+te*Y,oe=w.V,ue=w.Ba+w.c*Y,me=w.gc;t(w.ab==1),t(me[0].hc==3),Rx(me[0],Y,T,oe,ue,ae,ie),he(B,Y,T,ae,ie,te)}w.C=w.Ma=T}function ye(w,T,B,Y,te,ae,ie){var oe=w.$/Y,ue=w.$%Y,me=w.m,Ce=w.s,Be=B+w.$,Ue=Be;te=B+Y*te;var Fe=B+Y*ae,st=280+Ce.ua,Je=w.Pb?oe:16777216,Ee=0<Ce.ua?Ce.Wa:null,Pe=Ce.wc,nt=Be<Fe?vn(Ce,ue,oe):null;t(w.C<ae),t(Fe<=te);var ct=!1;e:for(;;){for(;ct||Be<Fe;){var at=0;if(oe>=Je){var Lt=Be-B;t((Je=w).Pb),Je.wd=Je.m,Je.xd=Lt,0<Je.s.ua&&Ae(Je.s.Wa,Je.s.vb),Je=oe+bK}if(ue&Pe||(nt=vn(Ce,ue,oe)),t(nt!=null),nt.Qb&&(T[Be]=nt.qb,ct=!0),!ct)if(K(me),nt.jc){at=me,Lt=T;var Nt=Be,Wt=nt.pd[H(at)&Ua-1];t(nt.jc),256>Wt.g?(q(at,at.u+Wt.g),Lt[Nt]=Wt.value,at=0):(q(at,at.u+Wt.g-256),t(256<=Wt.value),at=Wt.value),at==0&&(ct=!0)}else at=Pn(nt.G[0],nt.H[0],me);if(me.h)break;if(ct||256>at){if(!ct)if(nt.nd)T[Be]=(nt.qb|at<<8)>>>0;else{if(K(me),ct=Pn(nt.G[1],nt.H[1],me),K(me),Lt=Pn(nt.G[2],nt.H[2],me),Nt=Pn(nt.G[3],nt.H[3],me),me.h)break;T[Be]=(Nt<<24|ct<<16|at<<8|Lt)>>>0}if(ct=!1,++Be,++ue>=Y&&(ue=0,++oe,ie!=null&&oe<=ae&&!(oe%16)&&ie(w,oe),Ee!=null))for(;Ue<Be;)at=T[Ue++],Ee.X[(506832829*at&4294967295)>>>Ee.Mb]=at}else if(280>at){if(at=wt(at-256,me),Lt=Pn(nt.G[4],nt.H[4],me),K(me),Lt=Ur(Y,Lt=wt(Lt,me)),me.h)break;if(Be-B<Lt||te-Be<at)break e;for(Nt=0;Nt<at;++Nt)T[Be+Nt]=T[Be+Nt-Lt];for(Be+=at,ue+=at;ue>=Y;)ue-=Y,++oe,ie!=null&&oe<=ae&&!(oe%16)&&ie(w,oe);if(t(Be<=te),ue&Pe&&(nt=vn(Ce,ue,oe)),Ee!=null)for(;Ue<Be;)at=T[Ue++],Ee.X[(506832829*at&4294967295)>>>Ee.Mb]=at}else{if(!(at<st))break e;for(ct=at-280,t(Ee!=null);Ue<Be;)at=T[Ue++],Ee.X[(506832829*at&4294967295)>>>Ee.Mb]=at;at=Be,t(!(ct>>>(Lt=Ee).Xa)),T[at]=Lt.X[ct],ct=!0}ct||t(me.h==G(me))}if(w.Pb&&me.h&&Be<te)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Ae(w.s.vb,w.s.Wa);else{if(me.h)break e;ie!=null&&ie(w,oe>ae?ae:oe),w.a=0,w.$=Be-B}return 1}return w.a=3,0}function Re(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var T=w.Wa;T!=null&&(T.X=null),w.vb=null,t(w!=null)}function Xe(){var w=new z_;return w==null?null:(w.a=0,w.xb=HE,Hr("Predictor","VP8LPredictors"),Hr("Predictor","VP8LPredictors_C"),Hr("PredictorAdd","VP8LPredictorsAdd"),Hr("PredictorAdd","VP8LPredictorsAdd_C"),Mx=St,ad=_e,zi=rt,ji=qt,Lc=gt,Il=jr,Ml=Gt,A.VP8LMapColor32b=Uf,A.VP8LMapColor8b=$x,w)}function Me(w,T,B,Y,te){var ae=1,ie=[w],oe=[T],ue=Y.m,me=Y.s,Ce=null,Be=0;e:for(;;){if(B)for(;ae&&U(ue,1);){var Ue=ie,Fe=oe,st=Y,Je=1,Ee=st.m,Pe=st.gc[st.ab],nt=U(Ee,2);if(st.Oc&1<<nt)ae=0;else{switch(st.Oc|=1<<nt,Pe.hc=nt,Pe.Ea=Ue[0],Pe.nc=Fe[0],Pe.K=[null],++st.ab,t(4>=st.ab),nt){case 0:case 1:Pe.b=U(Ee,3)+2,Je=Me(Ge(Pe.Ea,Pe.b),Ge(Pe.nc,Pe.b),0,st,Pe.K),Pe.K=Pe.K[0];break;case 3:var ct,at=U(Ee,8)+1,Lt=16<at?0:4<at?1:2<at?2:3;if(Ue[0]=Ge(Pe.Ea,Lt),Pe.b=Lt,ct=Je=Me(at,1,0,st,Pe.K)){var Nt,Wt=at,kt=Pe,Wr=1<<(8>>kt.b),Yr=i(Wr);if(Yr==null)ct=0;else{var Mr=kt.K[0],Nr=kt.w;for(Yr[0]=kt.K[0][0],Nt=1;Nt<1*Wt;++Nt)Yr[Nt]=Le(Mr[Nr+Nt],Yr[Nt-1]);for(;Nt<4*Wr;++Nt)Yr[Nt]=0;kt.K[0]=null,kt.K[0]=Yr,ct=1}}Je=ct;break;case 2:break;default:t(0)}ae=Je}}if(ie=ie[0],oe=oe[0],ae&&U(ue,1)&&!(ae=1<=(Be=U(ue,4))&&11>=Be)){Y.a=3;break e}var ln;if(ln=ae)t:{var an,fr,sa,Vi=Y,oa=ie,Hi=oe,Xr=Be,cs=B,us=Vi.m,Ca=Vi.s,za=[null],Ni=1,Bs=0,il=yK[Xr];r:for(;;){if(cs&&U(us,1)){var Ea=U(us,3)+2,Ul=Ge(oa,Ea),cd=Ge(Hi,Ea),qf=Ul*cd;if(!Me(Ul,cd,0,Vi,za))break r;for(za=za[0],Ca.xc=Ea,an=0;an<qf;++an){var Bc=za[an]>>8&65535;za[an]=Bc,Bc>=Ni&&(Ni=Bc+1)}}if(us.h)break r;for(fr=0;5>fr;++fr){var $n=zE[fr];!fr&&0<Xr&&($n+=1<<Xr),Bs<$n&&(Bs=$n)}var Q_=o(Ni*il,k),ZE=Ni,ek=o(ZE,I);if(ek==null)var Jx=null;else t(65536>=ZE),Jx=ek;var zp=i(Bs);if(Jx==null||zp==null||Q_==null){Vi.a=1;break r}var Qx=Q_;for(an=sa=0;an<Ni;++an){var xo=Jx[an],Gf=xo.G,Kf=xo.H,tk=0,Zx=1,rk=0;for(fr=0;5>fr;++fr){$n=zE[fr],Gf[fr]=Qx,Kf[fr]=sa,!fr&&0<Xr&&($n+=1<<Xr);a:{var e1,Z_=$n,t1=Vi,Vp=zp,BK=Qx,UK=sa,e5=0,Uc=t1.m,zK=U(Uc,1);if(a(Vp,0,0,Z_),zK){var VK=U(Uc,1)+1,HK=U(Uc,1),nk=U(Uc,HK==0?1:8);Vp[nk]=1,VK==2&&(Vp[nk=U(Uc,8)]=1);var r1=1}else{var ak=i(19),ik=U(Uc,4)+4;if(19<ik){t1.a=3;var n1=0;break a}for(e1=0;e1<ik;++e1)ak[vK[e1]]=U(Uc,3);var t5=void 0,Hp=void 0,sk=t1,WK=ak,a1=Z_,ok=Vp,r5=0,zc=sk.m,lk=8,ck=o(128,k);n:for(;C(ck,0,7,WK,19);){if(U(zc,1)){var qK=2+2*U(zc,3);if((t5=2+U(zc,qK))>a1)break n}else t5=a1;for(Hp=0;Hp<a1&&t5--;){K(zc);var uk=ck[0+(127&H(zc))];q(zc,zc.u+uk.g);var Yf=uk.value;if(16>Yf)ok[Hp++]=Yf,Yf!=0&&(lk=Yf);else{var GK=Yf==16,dk=Yf-16,KK=mK[dk],fk=U(zc,pK[dk])+KK;if(Hp+fk>a1)break n;for(var YK=GK?lk:0;0<fk--;)ok[Hp++]=YK}}r5=1;break n}r5||(sk.a=3),r1=r5}(r1=r1&&!Uc.h)&&(e5=C(BK,UK,8,Vp,Z_)),r1&&e5!=0?n1=e5:(t1.a=3,n1=0)}if(n1==0)break r;if(Zx&&gK[fr]==1&&(Zx=Qx[sa].g==0),tk+=Qx[sa].g,sa+=n1,3>=fr){var Wp,n5=zp[0];for(Wp=1;Wp<$n;++Wp)zp[Wp]>n5&&(n5=zp[Wp]);rk+=n5}}if(xo.nd=Zx,xo.Qb=0,Zx&&(xo.qb=(Gf[3][Kf[3]+0].value<<24|Gf[1][Kf[1]+0].value<<16|Gf[2][Kf[2]+0].value)>>>0,tk==0&&256>Gf[0][Kf[0]+0].value&&(xo.Qb=1,xo.qb+=Gf[0][Kf[0]+0].value<<8)),xo.jc=!xo.Qb&&6>rk,xo.jc){var i1,zl=xo;for(i1=0;i1<Ua;++i1){var Vc=i1,Hc=zl.pd[Vc],s1=zl.G[0][zl.H[0]+Vc];256<=s1.value?(Hc.g=s1.g+256,Hc.value=s1.value):(Hc.g=0,Hc.value=0,Vc>>=Nn(s1,8,Hc),Vc>>=Nn(zl.G[1][zl.H[1]+Vc],16,Hc),Vc>>=Nn(zl.G[2][zl.H[2]+Vc],0,Hc),Nn(zl.G[3][zl.H[3]+Vc],24,Hc))}}}Ca.vc=za,Ca.Wb=Ni,Ca.Ya=Jx,Ca.yc=Q_,ln=1;break t}ln=0}if(!(ae=ln)){Y.a=3;break e}if(0<Be){if(me.ua=1<<Be,!$e(me.Wa,Be)){Y.a=1,ae=0;break e}}else me.ua=0;var a5=Y,hk=ie,XK=oe,i5=a5.s,s5=i5.xc;if(a5.c=hk,a5.i=XK,i5.md=Ge(hk,s5),i5.wc=s5==0?-1:(1<<s5)-1,B){Y.xb=TK;break e}if((Ce=i(ie*oe))==null){Y.a=1,ae=0;break e}ae=(ae=ye(Y,Ce,0,ie,oe,oe,null))&&!ue.h;break e}return ae?(te!=null?te[0]=Ce:(t(Ce==null),t(B)),Y.$=0,B||Re(me)):Re(me),ae}function Ve(w,T){var B=w.c*w.i,Y=B+T+16*T;return t(w.c<=T),w.V=i(Y),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+B+T,1)}function He(w,T){var B=w.C,Y=T-B,te=w.V,ae=w.Ba+w.c*B;for(t(T<=w.l.o);0<Y;){var ie=16<Y?16:Y,oe=w.l.ma,ue=w.l.width,me=ue*ie,Ce=oe.ca,Be=oe.tb+ue*B,Ue=w.Ta,Fe=w.Ua;ne(w,ie,te,ae),Yn(Ue,Fe,Ce,Be,me),he(oe,B,B+ie,Ce,Be,ue),Y-=ie,te+=ie*w.c,B+=ie}t(B==T),w.C=w.Ma=T}function dt(){this.ub=this.yd=this.td=this.Rb=0}function vt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ot(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function pt(){this.Yb=function(){var w=[];return function T(B,Y,te){for(var ae=te[Y],ie=0;ie<ae&&(B.push(te.length>Y+1?[]:0),!(te.length<Y+1));ie++)T(B[ie],Y+1,te)}(w,0,[3,11]),w}()}function Pt(){this.jb=i(3),this.Wc=l([4,8],pt),this.Xc=l([4,17],pt)}function Zt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Gr(){this.ld=this.La=this.dd=this.tc=0}function nn(){this.Na=this.la=0}function aa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fo(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gr),this.Y=0,this.ya=Array(new fo),this.aa=0,this.l=new tl}function el(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ho(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new dt,this.Kc=new vt,this.ed=new Zt,this.Qa=new Ot,this.Ic=this.$c=this.Aa=0,this.D=new Fl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,X),this.ia=0,this.pb=o(4,aa),this.Pa=new Pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new el),this.Hd=0,this.rb=Array(new nn),this.sb=0,this.wa=Array(new Gr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fo),this.L=this.aa=0,this.gd=l([4,2],Gr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ss(){var w=new ho;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Bp||(Bp=_x)),w}function Gn(w,T,B){return w.a==0&&(w.a=T,w.sc=B,w.cb=0),0}function bx(w,T,B){return 3<=B&&w[T+0]==157&&w[T+1]==1&&w[T+2]==42}function wx(w,T){if(w==null)return 0;if(w.a=0,w.sc="OK",T==null)return Gn(w,2,"null VP8Io passed to VP8GetHeaders()");var B=T.data,Y=T.w,te=T.ha;if(4>te)return Gn(w,7,"Truncated header.");var ae=B[Y+0]|B[Y+1]<<8|B[Y+2]<<16,ie=w.Od;if(ie.Rb=!(1&ae),ie.td=ae>>1&7,ie.yd=ae>>4&1,ie.ub=ae>>5,3<ie.td)return Gn(w,3,"Incorrect keyframe parameters.");if(!ie.yd)return Gn(w,4,"Frame not displayable.");Y+=3,te-=3;var oe=w.Kc;if(ie.Rb){if(7>te)return Gn(w,7,"cannot parse picture header");if(!bx(B,Y,te))return Gn(w,3,"Bad code word");oe.c=16383&(B[Y+4]<<8|B[Y+3]),oe.Td=B[Y+4]>>6,oe.i=16383&(B[Y+6]<<8|B[Y+5]),oe.Ud=B[Y+6]>>6,Y+=7,te-=7,w.za=oe.c+15>>4,w.Ub=oe.i+15>>4,T.width=oe.c,T.height=oe.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,a((ae=w.Pa).jb,0,255,ae.jb.length),t((ae=w.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,a(ae.Zb,0,0,ae.Zb.length),a(ae.Lb,0,0,ae.Lb)}if(ie.ub>te)return Gn(w,7,"bad partition length");R(ae=w.m,B,Y,ie.ub),Y+=ie.ub,te-=ie.ub,ie.Rb&&(oe.Ld=se(ae),oe.Kd=se(ae)),oe=w.Qa;var ue,me=w.Pa;if(t(ae!=null),t(oe!=null),oe.Cb=se(ae),oe.Cb){if(oe.Bb=se(ae),se(ae)){for(oe.Fb=se(ae),ue=0;4>ue;++ue)oe.Zb[ue]=se(ae)?L(ae,7):0;for(ue=0;4>ue;++ue)oe.Lb[ue]=se(ae)?L(ae,6):0}if(oe.Bb)for(ue=0;3>ue;++ue)me.jb[ue]=se(ae)?V(ae,8):255}else oe.Bb=0;if(ae.Ka)return Gn(w,3,"cannot parse segment header");if((oe=w.ed).zd=se(ae),oe.Tb=V(ae,6),oe.wb=V(ae,3),oe.Pc=se(ae),oe.Pc&&se(ae)){for(me=0;4>me;++me)se(ae)&&(oe.vd[me]=L(ae,6));for(me=0;4>me;++me)se(ae)&&(oe.od[me]=L(ae,6))}if(w.L=oe.Tb==0?0:oe.zd?1:2,ae.Ka)return Gn(w,3,"cannot parse filter header");var Ce=te;if(te=ue=Y,Y=ue+Ce,oe=Ce,w.Xb=(1<<V(w.m,2))-1,Ce<3*(me=w.Xb))B=7;else{for(ue+=3*me,oe-=3*me,Ce=0;Ce<me;++Ce){var Be=B[te+0]|B[te+1]<<8|B[te+2]<<16;Be>oe&&(Be=oe),R(w.Jc[+Ce],B,ue,Be),ue+=Be,oe-=Be,te+=3}R(w.Jc[+me],B,ue,oe),B=ue<Y?0:5}if(B!=0)return Gn(w,B,"cannot parse partitions");for(B=V(ue=w.m,7),te=se(ue)?L(ue,4):0,Y=se(ue)?L(ue,4):0,oe=se(ue)?L(ue,4):0,me=se(ue)?L(ue,4):0,ue=se(ue)?L(ue,4):0,Ce=w.Qa,Be=0;4>Be;++Be){if(Ce.Cb){var Ue=Ce.Zb[Be];Ce.Fb||(Ue+=B)}else{if(0<Be){w.pb[Be]=w.pb[0];continue}Ue=B}var Fe=w.pb[Be];Fe.Sc[0]=Y_[os(Ue+te,127)],Fe.Sc[1]=X_[os(Ue+0,127)],Fe.Eb[0]=2*Y_[os(Ue+Y,127)],Fe.Eb[1]=101581*X_[os(Ue+oe,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=Y_[os(Ue+me,117)],Fe.Qc[1]=X_[os(Ue+ue,127)],Fe.lc=Ue+ue}if(!ie.Rb)return Gn(w,4,"Not a key frame.");for(se(ae),ie=w.Pa,B=0;4>B;++B){for(te=0;8>te;++te)for(Y=0;3>Y;++Y)for(oe=0;11>oe;++oe)me=J(ae,NK[B][te][Y][oe])?V(ae,8):jK[B][te][Y][oe],ie.Wc[B][te].Yb[Y][oe]=me;for(te=0;17>te;++te)ie.Xc[B][te]=ie.Wc[B][AK[te]]}return w.kc=se(ae),w.kc&&(w.Bd=V(ae,8)),w.cb=1}function _x(w,T,B,Y,te,ae,ie){var oe=T[te].Yb[B];for(B=0;16>te;++te){if(!J(w,oe[B+0]))return te;for(;!J(w,oe[B+1]);)if(oe=T[++te].Yb[0],B=0,te==16)return 16;var ue=T[te+1].Yb;if(J(w,oe[B+2])){var me=w,Ce=0;if(J(me,(Ue=oe)[(Be=B)+3]))if(J(me,Ue[Be+6])){for(oe=0,Be=2*(Ce=J(me,Ue[Be+8]))+(Ue=J(me,Ue[Be+9+Ce])),Ce=0,Ue=wK[Be];Ue[oe];++oe)Ce+=Ce+J(me,Ue[oe]);Ce+=3+(8<<Be)}else J(me,Ue[Be+7])?(Ce=7+2*J(me,165),Ce+=J(me,145)):Ce=5+J(me,159);else Ce=J(me,Ue[Be+4])?3+J(me,Ue[Be+5]):2;oe=ue[2]}else Ce=1,oe=ue[1];ue=ie+_K[te],0>(me=w).b&&ee(me);var Be,Ue=me.b,Fe=(Be=me.Ca>>1)-(me.I>>Ue)>>31;--me.b,me.Ca+=Fe,me.Ca|=1,me.I-=(Be+1&Fe)<<Ue,ae[ue]=((Ce^Fe)-Fe)*Y[(0<te)+0]}return 16}function vp(w){var T=w.rb[w.sb-1];T.la=0,T.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function N_(w,T){if(w==null)return 0;if(T==null)return Gn(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!wx(w,T))return 0;if(t(w.cb),T.ac==null||T.ac(T)){T.ob&&(w.L=0);var B=Xx[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=T.v-B>>4,w.zb=T.j-B>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=T.o+15+B>>4,w.Hb=T.va+15+B>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var Y=w.ed;for(B=0;4>B;++B){var te;if(w.Qa.Cb){var ae=w.Qa.Lb[B];w.Qa.Fb||(ae+=Y.Tb)}else ae=Y.Tb;for(te=0;1>=te;++te){var ie=w.gd[B][te],oe=ae;if(Y.Pc&&(oe+=Y.vd[0],te&&(oe+=Y.od[0])),0<(oe=0>oe?0:63<oe?63:oe)){var ue=oe;0<Y.wb&&(ue=4<Y.wb?ue>>2:ue>>1)>9-Y.wb&&(ue=9-Y.wb),1>ue&&(ue=1),ie.dd=ue,ie.tc=2*oe+ue,ie.ld=40<=oe?2:15<=oe?1:0}else ie.tc=0;ie.La=te}}}B=0}else Gn(w,6,"Frame setup failed"),B=w.a;if(B=B==0){if(B){w.$c=0,0<w.Aa||(w.Ic=$K);e:{B=w.Ic,Y=4*(ue=w.za);var me=32*ue,Ce=ue+1,Be=0<w.L?ue*(0<w.Aa?2:1):0,Ue=(w.Aa==2?2:1)*ue;if((ie=Y+832+(te=3*(16*B+Xx[w.L])/2*me)+(ae=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ie)B=0;else{if(ie>w.Vb){if(w.Vb=0,w.Ec=i(ie),w.Fc=0,w.Ec==null){B=Gn(w,1,"no memory during frame initialization.");break e}w.Vb=ie}ie=w.Ec,oe=w.Fc,w.Ac=ie,w.Bc=oe,oe+=Y,w.Gd=o(me,el),w.Hd=0,w.rb=o(Ce+1,nn),w.sb=1,w.wa=Be?o(Be,Gr):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=ue),t(!0),w.oc=ie,w.pc=oe,oe+=832,w.ya=o(Ue,fo),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=ue),w.R=16*ue,w.B=8*ue,ue=(me=Xx[w.L])*w.R,me=me/2*w.B,w.sa=ie,w.ta=oe+ue,w.qa=w.sa,w.ra=w.ta+16*B*w.R+me,w.Ha=w.qa,w.Ia=w.ra+8*B*w.B+me,w.$c=0,oe+=te,w.mb=ae?ie:null,w.nb=ae?oe:null,t(oe+ae<=w.Fc+w.Vb),vp(w),a(w.Ac,w.Bc,0,Y),B=1}}if(B){if(T.ka=0,T.y=w.sa,T.O=w.ta,T.f=w.qa,T.N=w.ra,T.ea=w.Ha,T.Vd=w.Ia,T.fa=w.R,T.Rc=w.B,T.F=null,T.J=0,!Ux){for(B=-255;255>=B;++B)pa[255+B]=0>B?-B:B;for(B=-1020;1020>=B;++B)$l[1020+B]=-128>B?-128:127<B?127:B;for(B=-112;112>=B;++B)$p[112+B]=-16>B?-16:15<B?15:B;for(B=-255;510>=B;++B)Wf[255+B]=0>B?0:255<B?255:B;Ux=1}zf=C_,Rl=A_,Ip=Sx,Si=T_,Ls=Nx,Kn=jx,Vf=jp,Bx=rd,Mp=U_,id=Sp,sd=B_,Ic=Ff,od=Np,Hf=Dx,ld=Fx,Mc=nl,Rp=Ll,Is=$_,vo[0]=rl,vo[1]=E_,vo[2]=F_,vo[3]=D_,vo[4]=Cx,vo[5]=Pf,vo[6]=Ex,vo[7]=bp,vo[8]=I_,vo[9]=L_,Rc[0]=Ax,Rc[1]=P_,Rc[2]=Dl,Rc[3]=Ef,Rc[4]=Za,Rc[5]=O_,Rc[6]=Tx,Bl[0]=Pc,Bl[1]=k_,Bl[2]=M_,Bl[3]=wp,Bl[4]=td,Bl[5]=R_,Bl[6]=_p,B=1}else B=0}B&&(B=function(Fe,st){for(Fe.M=0;Fe.M<Fe.Va;++Fe.M){var Je,Ee=Fe.Jc[Fe.M&Fe.Xb],Pe=Fe.m,nt=Fe;for(Je=0;Je<nt.za;++Je){var ct=Pe,at=nt,Lt=at.Ac,Nt=at.Bc+4*Je,Wt=at.zc,kt=at.ya[at.aa+Je];if(at.Qa.Bb?kt.$b=J(ct,at.Pa.jb[0])?2+J(ct,at.Pa.jb[2]):J(ct,at.Pa.jb[1]):kt.$b=0,at.kc&&(kt.Ad=J(ct,at.Bd)),kt.Za=!J(ct,145)+0,kt.Za){var Wr=kt.Ob,Yr=0;for(at=0;4>at;++at){var Mr,Nr=Wt[0+at];for(Mr=0;4>Mr;++Mr){Nr=SK[Lt[Nt+Mr]][Nr];for(var ln=VE[J(ct,Nr[0])];0<ln;)ln=VE[2*ln+J(ct,Nr[ln])];Nr=-ln,Lt[Nt+Mr]=Nr}n(Wr,Yr,Lt,Nt,4),Yr+=4,Wt[0+at]=Nr}}else Nr=J(ct,156)?J(ct,128)?1:3:J(ct,163)?2:0,kt.Ob[0]=Nr,a(Lt,Nt,Nr,4),a(Wt,0,Nr,4);kt.Dd=J(ct,142)?J(ct,114)?J(ct,183)?1:3:2:0}if(nt.m.Ka)return Gn(Fe,7,"Premature end-of-partition0 encountered.");for(;Fe.ja<Fe.za;++Fe.ja){if(nt=Ee,ct=(Pe=Fe).rb[Pe.sb-1],Lt=Pe.rb[Pe.sb+Pe.ja],Je=Pe.ya[Pe.aa+Pe.ja],Nt=Pe.kc?Je.Ad:0)ct.la=Lt.la=0,Je.Za||(ct.Na=Lt.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var an,fr;if(ct=Lt,Lt=nt,Nt=Pe.Pa.Xc,Wt=Pe.ya[Pe.aa+Pe.ja],kt=Pe.pb[Wt.$b],at=Wt.ad,Wr=0,Yr=Pe.rb[Pe.sb-1],Nr=Mr=0,a(at,Wr,0,384),Wt.Za)var sa=0,Vi=Nt[3];else{ln=i(16);var oa=ct.Na+Yr.Na;if(oa=Bp(Lt,Nt[1],oa,kt.Eb,0,ln,0),ct.Na=Yr.Na=(0<oa)+0,1<oa)zf(ln,0,at,Wr);else{var Hi=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)at[Wr+ln]=Hi}sa=1,Vi=Nt[0]}var Xr=15&ct.la,cs=15&Yr.la;for(ln=0;4>ln;++ln){var us=1&cs;for(Hi=fr=0;4>Hi;++Hi)Xr=Xr>>1|(us=(oa=Bp(Lt,Vi,oa=us+(1&Xr),kt.Sc,sa,at,Wr))>sa)<<7,fr=fr<<2|(3<oa?3:1<oa?2:at[Wr+0]!=0),Wr+=16;Xr>>=4,cs=cs>>1|us<<7,Mr=(Mr<<8|fr)>>>0}for(Vi=Xr,sa=cs>>4,an=0;4>an;an+=2){for(fr=0,Xr=ct.la>>4+an,cs=Yr.la>>4+an,ln=0;2>ln;++ln){for(us=1&cs,Hi=0;2>Hi;++Hi)oa=us+(1&Xr),Xr=Xr>>1|(us=0<(oa=Bp(Lt,Nt[2],oa,kt.Qc,0,at,Wr)))<<3,fr=fr<<2|(3<oa?3:1<oa?2:at[Wr+0]!=0),Wr+=16;Xr>>=2,cs=cs>>1|us<<5}Nr|=fr<<4*an,Vi|=Xr<<4<<an,sa|=(240&cs)<<an}ct.la=Vi,Yr.la=sa,Wt.Hc=Mr,Wt.Gc=Nr,Wt.ia=43690&Nr?0:kt.ia,Nt=!(Mr|Nr)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[Je.$b][Je.Za],Pe.wa[Pe.Y+Pe.ja].La|=!Nt),nt.Ka)return Gn(Fe,7,"Premature end-of-file encountered.")}if(vp(Fe),Pe=st,nt=1,Je=(Ee=Fe).D,ct=0<Ee.L&&Ee.M>=Ee.zb&&Ee.M<=Ee.Va,Ee.Aa==0)e:{if(Je.M=Ee.M,Je.uc=ct,Pp(Ee,Je),nt=1,Je=(fr=Ee.D).Nb,ct=(Nr=Xx[Ee.L])*Ee.R,Lt=Nr/2*Ee.B,ln=16*Je*Ee.R,Hi=8*Je*Ee.B,Nt=Ee.sa,Wt=Ee.ta-ct+ln,kt=Ee.qa,at=Ee.ra-Lt+Hi,Wr=Ee.Ha,Yr=Ee.Ia-Lt+Hi,cs=(Xr=fr.M)==0,Mr=Xr>=Ee.Va-1,Ee.Aa==2&&Pp(Ee,fr),fr.uc)for(us=(oa=Ee).D.M,t(oa.D.uc),fr=oa.yb;fr<oa.Hb;++fr){sa=fr,Vi=us;var Ca=(za=($n=oa).D).Nb;an=$n.R;var za=za.wa[za.Y+sa],Ni=$n.sa,Bs=$n.ta+16*Ca*an+16*sa,il=za.dd,Ea=za.tc;if(Ea!=0)if(t(3<=Ea),$n.L==1)0<sa&&Mc(Ni,Bs,an,Ea+4),za.La&&Is(Ni,Bs,an,Ea),0<Vi&&ld(Ni,Bs,an,Ea+4),za.La&&Rp(Ni,Bs,an,Ea);else{var Ul=$n.B,cd=$n.qa,qf=$n.ra+8*Ca*Ul+8*sa,Bc=$n.Ha,$n=$n.Ia+8*Ca*Ul+8*sa;Ca=za.ld,0<sa&&(Bx(Ni,Bs,an,Ea+4,il,Ca),id(cd,qf,Bc,$n,Ul,Ea+4,il,Ca)),za.La&&(Ic(Ni,Bs,an,Ea,il,Ca),Hf(cd,qf,Bc,$n,Ul,Ea,il,Ca)),0<Vi&&(Vf(Ni,Bs,an,Ea+4,il,Ca),Mp(cd,qf,Bc,$n,Ul,Ea+4,il,Ca)),za.La&&(sd(Ni,Bs,an,Ea,il,Ca),od(cd,qf,Bc,$n,Ul,Ea,il,Ca))}}if(Ee.ia&&alert("todo:DitherRow"),Pe.put!=null){if(fr=16*Xr,Xr=16*(Xr+1),cs?(Pe.y=Ee.sa,Pe.O=Ee.ta+ln,Pe.f=Ee.qa,Pe.N=Ee.ra+Hi,Pe.ea=Ee.Ha,Pe.W=Ee.Ia+Hi):(fr-=Nr,Pe.y=Nt,Pe.O=Wt,Pe.f=kt,Pe.N=at,Pe.ea=Wr,Pe.W=Yr),Mr||(Xr-=Nr),Xr>Pe.o&&(Xr=Pe.o),Pe.F=null,Pe.J=null,Ee.Fa!=null&&0<Ee.Fa.length&&fr<Xr&&(Pe.J=Ep(Ee,Pe,fr,Xr-fr),Pe.F=Ee.mb,Pe.F==null&&Pe.F.length==0)){nt=Gn(Ee,3,"Could not decode alpha data.");break e}fr<Pe.j&&(Nr=Pe.j-fr,fr=Pe.j,t(!(1&Nr)),Pe.O+=Ee.R*Nr,Pe.N+=Ee.B*(Nr>>1),Pe.W+=Ee.B*(Nr>>1),Pe.F!=null&&(Pe.J+=Pe.width*Nr)),fr<Xr&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=fr-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=Xr-fr,nt=Pe.put(Pe))}Je+1!=Ee.Ic||Mr||(n(Ee.sa,Ee.ta-ct,Nt,Wt+16*Ee.R,ct),n(Ee.qa,Ee.ra-Lt,kt,at+8*Ee.B,Lt),n(Ee.Ha,Ee.Ia-Lt,Wr,Yr+8*Ee.B,Lt))}if(!nt)return Gn(Fe,6,"Output aborted.")}return 1}(w,T)),T.bc!=null&&T.bc(T),B&=1}return B?(w.cb=0,B):0}function po(w,T,B,Y,te){te=w[T+B+32*Y]+(te>>3),w[T+B+32*Y]=-256&te?0>te?0:255:te}function Cf(w,T,B,Y,te,ae){po(w,T,0,B,Y+te),po(w,T,1,B,Y+ae),po(w,T,2,B,Y-ae),po(w,T,3,B,Y-te)}function Bi(w){return(20091*w>>16)+w}function xp(w,T,B,Y){var te,ae=0,ie=i(16);for(te=0;4>te;++te){var oe=w[T+0]+w[T+8],ue=w[T+0]-w[T+8],me=(35468*w[T+4]>>16)-Bi(w[T+12]),Ce=Bi(w[T+4])+(35468*w[T+12]>>16);ie[ae+0]=oe+Ce,ie[ae+1]=ue+me,ie[ae+2]=ue-me,ie[ae+3]=oe-Ce,ae+=4,T++}for(te=ae=0;4>te;++te)oe=(w=ie[ae+0]+4)+ie[ae+8],ue=w-ie[ae+8],me=(35468*ie[ae+4]>>16)-Bi(ie[ae+12]),po(B,Y,0,0,oe+(Ce=Bi(ie[ae+4])+(35468*ie[ae+12]>>16))),po(B,Y,1,0,ue+me),po(B,Y,2,0,ue-me),po(B,Y,3,0,oe-Ce),ae++,Y+=32}function jx(w,T,B,Y){var te=w[T+0]+4,ae=35468*w[T+4]>>16,ie=Bi(w[T+4]),oe=35468*w[T+1]>>16;Cf(B,Y,0,te+ie,w=Bi(w[T+1]),oe),Cf(B,Y,1,te+ae,w,oe),Cf(B,Y,2,te-ae,w,oe),Cf(B,Y,3,te-ie,w,oe)}function A_(w,T,B,Y,te){xp(w,T,B,Y),te&&xp(w,T+16,B,Y+4)}function Sx(w,T,B,Y){Rl(w,T+0,B,Y,1),Rl(w,T+32,B,Y+128,1)}function T_(w,T,B,Y){var te;for(w=w[T+0]+4,te=0;4>te;++te)for(T=0;4>T;++T)po(B,Y,T,te,w)}function Nx(w,T,B,Y){w[T+0]&&Si(w,T+0,B,Y),w[T+16]&&Si(w,T+16,B,Y+4),w[T+32]&&Si(w,T+32,B,Y+128),w[T+48]&&Si(w,T+48,B,Y+128+4)}function C_(w,T,B,Y){var te,ae=i(16);for(te=0;4>te;++te){var ie=w[T+0+te]+w[T+12+te],oe=w[T+4+te]+w[T+8+te],ue=w[T+4+te]-w[T+8+te],me=w[T+0+te]-w[T+12+te];ae[0+te]=ie+oe,ae[8+te]=ie-oe,ae[4+te]=me+ue,ae[12+te]=me-ue}for(te=0;4>te;++te)ie=(w=ae[0+4*te]+3)+ae[3+4*te],oe=ae[1+4*te]+ae[2+4*te],ue=ae[1+4*te]-ae[2+4*te],me=w-ae[3+4*te],B[Y+0]=ie+oe>>3,B[Y+16]=me+ue>>3,B[Y+32]=ie-oe>>3,B[Y+48]=me-ue>>3,Y+=64}function yp(w,T,B){var Y,te=T-32,ae=ls,ie=255-w[te-1];for(Y=0;Y<B;++Y){var oe,ue=ae,me=ie+w[T-1];for(oe=0;oe<B;++oe)w[T+oe]=ue[me+w[te+oe]];T+=32}}function E_(w,T){yp(w,T,4)}function k_(w,T){yp(w,T,8)}function P_(w,T){yp(w,T,16)}function Dl(w,T){var B;for(B=0;16>B;++B)n(w,T+32*B,w,T-32,16)}function Ef(w,T){var B;for(B=16;0<B;--B)a(w,T,w[T-1],16),T+=32}function kf(w,T,B){var Y;for(Y=0;16>Y;++Y)a(T,B+32*Y,w,16)}function Ax(w,T){var B,Y=16;for(B=0;16>B;++B)Y+=w[T-1+32*B]+w[T+B-32];kf(Y>>5,w,T)}function Za(w,T){var B,Y=8;for(B=0;16>B;++B)Y+=w[T-1+32*B];kf(Y>>4,w,T)}function O_(w,T){var B,Y=8;for(B=0;16>B;++B)Y+=w[T+B-32];kf(Y>>4,w,T)}function Tx(w,T){kf(128,w,T)}function ar(w,T,B){return w+2*T+B+2>>2}function F_(w,T){var B,Y=T-32;for(Y=new Uint8Array([ar(w[Y-1],w[Y+0],w[Y+1]),ar(w[Y+0],w[Y+1],w[Y+2]),ar(w[Y+1],w[Y+2],w[Y+3]),ar(w[Y+2],w[Y+3],w[Y+4])]),B=0;4>B;++B)n(w,T+32*B,Y,0,Y.length)}function D_(w,T){var B=w[T-1],Y=w[T-1+32],te=w[T-1+64],ae=w[T-1+96];ce(w,T+0,16843009*ar(w[T-1-32],B,Y)),ce(w,T+32,16843009*ar(B,Y,te)),ce(w,T+64,16843009*ar(Y,te,ae)),ce(w,T+96,16843009*ar(te,ae,ae))}function rl(w,T){var B,Y=4;for(B=0;4>B;++B)Y+=w[T+B-32]+w[T-1+32*B];for(Y>>=3,B=0;4>B;++B)a(w,T+32*B,Y,4)}function Cx(w,T){var B=w[T-1+0],Y=w[T-1+32],te=w[T-1+64],ae=w[T-1-32],ie=w[T+0-32],oe=w[T+1-32],ue=w[T+2-32],me=w[T+3-32];w[T+0+96]=ar(Y,te,w[T-1+96]),w[T+1+96]=w[T+0+64]=ar(B,Y,te),w[T+2+96]=w[T+1+64]=w[T+0+32]=ar(ae,B,Y),w[T+3+96]=w[T+2+64]=w[T+1+32]=w[T+0+0]=ar(ie,ae,B),w[T+3+64]=w[T+2+32]=w[T+1+0]=ar(oe,ie,ae),w[T+3+32]=w[T+2+0]=ar(ue,oe,ie),w[T+3+0]=ar(me,ue,oe)}function Ex(w,T){var B=w[T+1-32],Y=w[T+2-32],te=w[T+3-32],ae=w[T+4-32],ie=w[T+5-32],oe=w[T+6-32],ue=w[T+7-32];w[T+0+0]=ar(w[T+0-32],B,Y),w[T+1+0]=w[T+0+32]=ar(B,Y,te),w[T+2+0]=w[T+1+32]=w[T+0+64]=ar(Y,te,ae),w[T+3+0]=w[T+2+32]=w[T+1+64]=w[T+0+96]=ar(te,ae,ie),w[T+3+32]=w[T+2+64]=w[T+1+96]=ar(ae,ie,oe),w[T+3+64]=w[T+2+96]=ar(ie,oe,ue),w[T+3+96]=ar(oe,ue,ue)}function Pf(w,T){var B=w[T-1+0],Y=w[T-1+32],te=w[T-1+64],ae=w[T-1-32],ie=w[T+0-32],oe=w[T+1-32],ue=w[T+2-32],me=w[T+3-32];w[T+0+0]=w[T+1+64]=ae+ie+1>>1,w[T+1+0]=w[T+2+64]=ie+oe+1>>1,w[T+2+0]=w[T+3+64]=oe+ue+1>>1,w[T+3+0]=ue+me+1>>1,w[T+0+96]=ar(te,Y,B),w[T+0+64]=ar(Y,B,ae),w[T+0+32]=w[T+1+96]=ar(B,ae,ie),w[T+1+32]=w[T+2+96]=ar(ae,ie,oe),w[T+2+32]=w[T+3+96]=ar(ie,oe,ue),w[T+3+32]=ar(oe,ue,me)}function bp(w,T){var B=w[T+0-32],Y=w[T+1-32],te=w[T+2-32],ae=w[T+3-32],ie=w[T+4-32],oe=w[T+5-32],ue=w[T+6-32],me=w[T+7-32];w[T+0+0]=B+Y+1>>1,w[T+1+0]=w[T+0+64]=Y+te+1>>1,w[T+2+0]=w[T+1+64]=te+ae+1>>1,w[T+3+0]=w[T+2+64]=ae+ie+1>>1,w[T+0+32]=ar(B,Y,te),w[T+1+32]=w[T+0+96]=ar(Y,te,ae),w[T+2+32]=w[T+1+96]=ar(te,ae,ie),w[T+3+32]=w[T+2+96]=ar(ae,ie,oe),w[T+3+64]=ar(ie,oe,ue),w[T+3+96]=ar(oe,ue,me)}function L_(w,T){var B=w[T-1+0],Y=w[T-1+32],te=w[T-1+64],ae=w[T-1+96];w[T+0+0]=B+Y+1>>1,w[T+2+0]=w[T+0+32]=Y+te+1>>1,w[T+2+32]=w[T+0+64]=te+ae+1>>1,w[T+1+0]=ar(B,Y,te),w[T+3+0]=w[T+1+32]=ar(Y,te,ae),w[T+3+32]=w[T+1+64]=ar(te,ae,ae),w[T+3+64]=w[T+2+64]=w[T+0+96]=w[T+1+96]=w[T+2+96]=w[T+3+96]=ae}function I_(w,T){var B=w[T-1+0],Y=w[T-1+32],te=w[T-1+64],ae=w[T-1+96],ie=w[T-1-32],oe=w[T+0-32],ue=w[T+1-32],me=w[T+2-32];w[T+0+0]=w[T+2+32]=B+ie+1>>1,w[T+0+32]=w[T+2+64]=Y+B+1>>1,w[T+0+64]=w[T+2+96]=te+Y+1>>1,w[T+0+96]=ae+te+1>>1,w[T+3+0]=ar(oe,ue,me),w[T+2+0]=ar(ie,oe,ue),w[T+1+0]=w[T+3+32]=ar(B,ie,oe),w[T+1+32]=w[T+3+64]=ar(Y,B,ie),w[T+1+64]=w[T+3+96]=ar(te,Y,B),w[T+1+96]=ar(ae,te,Y)}function M_(w,T){var B;for(B=0;8>B;++B)n(w,T+32*B,w,T-32,8)}function wp(w,T){var B;for(B=0;8>B;++B)a(w,T,w[T-1],8),T+=32}function ed(w,T,B){var Y;for(Y=0;8>Y;++Y)a(T,B+32*Y,w,8)}function Pc(w,T){var B,Y=8;for(B=0;8>B;++B)Y+=w[T+B-32]+w[T-1+32*B];ed(Y>>4,w,T)}function R_(w,T){var B,Y=4;for(B=0;8>B;++B)Y+=w[T+B-32];ed(Y>>3,w,T)}function td(w,T){var B,Y=4;for(B=0;8>B;++B)Y+=w[T-1+32*B];ed(Y>>3,w,T)}function _p(w,T){ed(128,w,T)}function Of(w,T,B){var Y=w[T-B],te=w[T+0],ae=3*(te-Y)+H_[1020+w[T-2*B]-w[T+B]],ie=zx[112+(ae+4>>3)];w[T-B]=ls[255+Y+zx[112+(ae+3>>3)]],w[T+0]=ls[255+te-ie]}function kx(w,T,B,Y){var te=w[T+0],ae=w[T+B];return Rs[255+w[T-2*B]-w[T-B]]>Y||Rs[255+ae-te]>Y}function Px(w,T,B,Y){return 4*Rs[255+w[T-B]-w[T+0]]+Rs[255+w[T-2*B]-w[T+B]]<=Y}function Ox(w,T,B,Y,te){var ae=w[T-3*B],ie=w[T-2*B],oe=w[T-B],ue=w[T+0],me=w[T+B],Ce=w[T+2*B],Be=w[T+3*B];return 4*Rs[255+oe-ue]+Rs[255+ie-me]>Y?0:Rs[255+w[T-4*B]-ae]<=te&&Rs[255+ae-ie]<=te&&Rs[255+ie-oe]<=te&&Rs[255+Be-Ce]<=te&&Rs[255+Ce-me]<=te&&Rs[255+me-ue]<=te}function Fx(w,T,B,Y){var te=2*Y+1;for(Y=0;16>Y;++Y)Px(w,T+Y,B,te)&&Of(w,T+Y,B)}function nl(w,T,B,Y){var te=2*Y+1;for(Y=0;16>Y;++Y)Px(w,T+Y*B,1,te)&&Of(w,T+Y*B,1)}function Ll(w,T,B,Y){var te;for(te=3;0<te;--te)Fx(w,T+=4*B,B,Y)}function $_(w,T,B,Y){var te;for(te=3;0<te;--te)nl(w,T+=4,B,Y)}function Oc(w,T,B,Y,te,ae,ie,oe){for(ae=2*ae+1;0<te--;){if(Ox(w,T,B,ae,ie))if(kx(w,T,B,oe))Of(w,T,B);else{var ue=w,me=T,Ce=B,Be=ue[me-2*Ce],Ue=ue[me-Ce],Fe=ue[me+0],st=ue[me+Ce],Je=ue[me+2*Ce],Ee=27*(nt=H_[1020+3*(Fe-Ue)+H_[1020+Be-st]])+63>>7,Pe=18*nt+63>>7,nt=9*nt+63>>7;ue[me-3*Ce]=ls[255+ue[me-3*Ce]+nt],ue[me-2*Ce]=ls[255+Be+Pe],ue[me-Ce]=ls[255+Ue+Ee],ue[me+0]=ls[255+Fe-Ee],ue[me+Ce]=ls[255+st-Pe],ue[me+2*Ce]=ls[255+Je-nt]}T+=Y}}function mo(w,T,B,Y,te,ae,ie,oe){for(ae=2*ae+1;0<te--;){if(Ox(w,T,B,ae,ie))if(kx(w,T,B,oe))Of(w,T,B);else{var ue=w,me=T,Ce=B,Be=ue[me-Ce],Ue=ue[me+0],Fe=ue[me+Ce],st=zx[112+((Je=3*(Ue-Be))+4>>3)],Je=zx[112+(Je+3>>3)],Ee=st+1>>1;ue[me-2*Ce]=ls[255+ue[me-2*Ce]+Ee],ue[me-Ce]=ls[255+Be+Je],ue[me+0]=ls[255+Ue-st],ue[me+Ce]=ls[255+Fe-Ee]}T+=Y}}function jp(w,T,B,Y,te,ae){Oc(w,T,B,1,16,Y,te,ae)}function rd(w,T,B,Y,te,ae){Oc(w,T,1,B,16,Y,te,ae)}function B_(w,T,B,Y,te,ae){var ie;for(ie=3;0<ie;--ie)mo(w,T+=4*B,B,1,16,Y,te,ae)}function Ff(w,T,B,Y,te,ae){var ie;for(ie=3;0<ie;--ie)mo(w,T+=4,1,B,16,Y,te,ae)}function U_(w,T,B,Y,te,ae,ie,oe){Oc(w,T,te,1,8,ae,ie,oe),Oc(B,Y,te,1,8,ae,ie,oe)}function Sp(w,T,B,Y,te,ae,ie,oe){Oc(w,T,1,te,8,ae,ie,oe),Oc(B,Y,1,te,8,ae,ie,oe)}function Np(w,T,B,Y,te,ae,ie,oe){mo(w,T+4*te,te,1,8,ae,ie,oe),mo(B,Y+4*te,te,1,8,ae,ie,oe)}function Dx(w,T,B,Y,te,ae,ie,oe){mo(w,T+4,1,te,8,ae,ie,oe),mo(B,Y+4,1,te,8,ae,ie,oe)}function Df(){this.ba=new $t,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ap(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tp(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lx(){this.ua=0,this.Wa=new Z,this.vb=new Z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new k}function z_(){this.xb=this.a=0,this.l=new tl,this.ca=new $t,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lx,this.ab=0,this.gc=o(4,Tp),this.Oc=0}function Lf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nd(w,T,B,Y,te,ae,ie){for(w=w==null?0:w[T+0],T=0;T<ie;++T)te[ae+T]=w+B[Y+T]&255,w=te[ae+T]}function Cp(w,T,B,Y,te,ae,ie){var oe;if(w==null)nd(null,null,B,Y,te,ae,ie);else for(oe=0;oe<ie;++oe)te[ae+oe]=w[T+oe]+B[Y+oe]&255}function Fc(w,T,B,Y,te,ae,ie){if(w==null)nd(null,null,B,Y,te,ae,ie);else{var oe,ue=w[T+0],me=ue,Ce=ue;for(oe=0;oe<ie;++oe)me=Ce+(ue=w[T+oe])-me,Ce=B[Y+oe]+(-256&me?0>me?0:255:me)&255,me=ue,te[ae+oe]=Ce}}function Ep(w,T,B,Y){var te=T.width,ae=T.o;if(t(w!=null&&T!=null),0>B||0>=Y||B+Y>ae)return null;if(!w.Cc){if(w.ga==null){var ie;if(w.ga=new Lf,(ie=w.ga==null)||(ie=T.width*T.o,t(w.Gb.length==0),w.Gb=i(ie),w.Uc=0,w.Gb==null?ie=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ie=1),ie=!ie),!ie){ie=w.ga;var oe=w.Fa,ue=w.P,me=w.qc,Ce=w.mb,Be=w.nb,Ue=ue+1,Fe=me-1,st=ie.l;if(t(oe!=null&&Ce!=null&&T!=null),$c[0]=null,$c[1]=nd,$c[2]=Cp,$c[3]=Fc,ie.ca=Ce,ie.tb=Be,ie.c=T.width,ie.i=T.height,t(0<ie.c&&0<ie.i),1>=me)T=0;else if(ie.$a=oe[ue+0]>>0&3,ie.Z=oe[ue+0]>>2&3,ie.Lc=oe[ue+0]>>4&3,ue=oe[ue+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||ue)T=0;else if(st.put=Ye,st.ac=rn,st.bc=Ct,st.ma=ie,st.width=T.width,st.height=T.height,st.Da=T.Da,st.v=T.v,st.va=T.va,st.j=T.j,st.o=T.o,ie.$a)e:{t(ie.$a==1),T=Xe();t:for(;;){if(T==null){T=0;break e}if(t(ie!=null),ie.mc=T,T.c=ie.c,T.i=ie.i,T.l=ie.l,T.l.ma=ie,T.l.width=ie.c,T.l.height=ie.i,T.a=0,M(T.m,oe,Ue,Fe),!Me(ie.c,ie.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&fe(T.s)?(ie.ic=1,oe=T.c*T.i,T.Ta=null,T.Ua=0,T.V=i(oe),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ie.ic=0,T=Ve(T,ie.c)),!T))break t;T=1;break e}ie.mc=null,T=0}else T=Fe>=ie.c*ie.i;ie=!T}if(ie)return null;w.ga.Lc!=1?w.Ga=0:Y=ae-B}t(w.ga!=null),t(B+Y<=ae);e:{if(T=(oe=w.ga).c,ae=oe.l.o,oe.$a==0){if(Ue=w.rc,Fe=w.Vc,st=w.Fa,ue=w.P+1+B*T,me=w.mb,Ce=w.nb+B*T,t(ue<=w.P+w.qc),oe.Z!=0)for(t($c[oe.Z]!=null),ie=0;ie<Y;++ie)$c[oe.Z](Ue,Fe,st,ue,me,Ce,T),Ue=me,Fe=Ce,Ce+=T,ue+=T;else for(ie=0;ie<Y;++ie)n(me,Ce,st,ue,T),Ue=me,Fe=Ce,Ce+=T,ue+=T;w.rc=Ue,w.Vc=Fe}else{if(t(oe.mc!=null),T=B+Y,t((ie=oe.mc)!=null),t(T<=ie.i),ie.C>=T)T=1;else if(oe.ic||Ie(),oe.ic){oe=ie.V,Ue=ie.Ba,Fe=ie.c;var Je=ie.i,Ee=(st=1,ue=ie.$/Fe,me=ie.$%Fe,Ce=ie.m,Be=ie.s,ie.$),Pe=Fe*Je,nt=Fe*T,ct=Be.wc,at=Ee<nt?vn(Be,me,ue):null;t(Ee<=Pe),t(T<=Je),t(fe(Be));t:for(;;){for(;!Ce.h&&Ee<nt;){if(me&ct||(at=vn(Be,me,ue)),t(at!=null),K(Ce),256>(Je=Pn(at.G[0],at.H[0],Ce)))oe[Ue+Ee]=Je,++Ee,++me>=Fe&&(me=0,++ue<=T&&!(ue%16)&&xe(ie,ue));else{if(!(280>Je)){st=0;break t}Je=wt(Je-256,Ce);var Lt,Nt=Pn(at.G[4],at.H[4],Ce);if(K(Ce),!(Ee>=(Nt=Ur(Fe,Nt=wt(Nt,Ce)))&&Pe-Ee>=Je)){st=0;break t}for(Lt=0;Lt<Je;++Lt)oe[Ue+Ee+Lt]=oe[Ue+Ee+Lt-Nt];for(Ee+=Je,me+=Je;me>=Fe;)me-=Fe,++ue<=T&&!(ue%16)&&xe(ie,ue);Ee<nt&&me&ct&&(at=vn(Be,me,ue))}t(Ce.h==G(Ce))}xe(ie,ue>T?T:ue);break t}!st||Ce.h&&Ee<Pe?(st=0,ie.a=Ce.h?5:3):ie.$=Ee,T=st}else T=ye(ie,ie.V,ie.Ba,ie.c,ie.i,T,He);if(!T){Y=0;break e}}B+Y>=ae&&(w.Cc=1),Y=1}if(!Y)return null;if(w.Cc&&((Y=w.ga)!=null&&(Y.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+B*te}function D(w,T,B,Y,te,ae){for(;0<te--;){var ie,oe=w,ue=T+(B?1:0),me=w,Ce=T+(B?0:3);for(ie=0;ie<Y;++ie){var Be=me[Ce+4*ie];Be!=255&&(Be*=32897,oe[ue+4*ie+0]=oe[ue+4*ie+0]*Be>>23,oe[ue+4*ie+1]=oe[ue+4*ie+1]*Be>>23,oe[ue+4*ie+2]=oe[ue+4*ie+2]*Be>>23)}T+=ae}}function re(w,T,B,Y,te){for(;0<Y--;){var ae;for(ae=0;ae<B;++ae){var ie=w[T+2*ae+0],oe=15&(me=w[T+2*ae+1]),ue=4369*oe,me=(240&me|me>>4)*ue>>16;w[T+2*ae+0]=(240&ie|ie>>4)*ue>>16&240|(15&ie|ie<<4)*ue>>16>>4&15,w[T+2*ae+1]=240&me|oe}T+=te}}function we(w,T,B,Y,te,ae,ie,oe){var ue,me,Ce=255;for(me=0;me<te;++me){for(ue=0;ue<Y;++ue){var Be=w[T+ue];ae[ie+4*ue]=Be,Ce&=Be}T+=B,ie+=oe}return Ce!=255}function Te(w,T,B,Y,te){var ae;for(ae=0;ae<te;++ae)B[Y+ae]=w[T+ae]>>8}function Ie(){Ms=D,dn=re,fn=we,Yn=Te}function et(w,T,B){A[w]=function(Y,te,ae,ie,oe,ue,me,Ce,Be,Ue,Fe,st,Je,Ee,Pe,nt,ct){var at,Lt=ct-1>>1,Nt=oe[ue+0]|me[Ce+0]<<16,Wt=Be[Ue+0]|Fe[st+0]<<16;t(Y!=null);var kt=3*Nt+Wt+131074>>2;for(T(Y[te+0],255&kt,kt>>16,Je,Ee),ae!=null&&(kt=3*Wt+Nt+131074>>2,T(ae[ie+0],255&kt,kt>>16,Pe,nt)),at=1;at<=Lt;++at){var Wr=oe[ue+at]|me[Ce+at]<<16,Yr=Be[Ue+at]|Fe[st+at]<<16,Mr=Nt+Wr+Wt+Yr+524296,Nr=Mr+2*(Wr+Wt)>>3;kt=Nr+Nt>>1,Nt=(Mr=Mr+2*(Nt+Yr)>>3)+Wr>>1,T(Y[te+2*at-1],255&kt,kt>>16,Je,Ee+(2*at-1)*B),T(Y[te+2*at-0],255&Nt,Nt>>16,Je,Ee+(2*at-0)*B),ae!=null&&(kt=Mr+Wt>>1,Nt=Nr+Yr>>1,T(ae[ie+2*at-1],255&kt,kt>>16,Pe,nt+(2*at-1)*B),T(ae[ie+2*at+0],255&Nt,Nt>>16,Pe,nt+(2*at+0)*B)),Nt=Wr,Wt=Yr}1&ct||(kt=3*Nt+Wt+131074>>2,T(Y[te+ct-1],255&kt,kt>>16,Je,Ee+(ct-1)*B),ae!=null&&(kt=3*Wt+Nt+131074>>2,T(ae[ie+ct-1],255&kt,kt>>16,Pe,nt+(ct-1)*B)))}}function ut(){$s[Vx]=CK,$s[Hx]=WE,$s[BE]=EK,$s[Wx]=qE,$s[qx]=GE,$s[W_]=KE,$s[UE]=kK,$s[q_]=WE,$s[G_]=qE,$s[Gx]=GE,$s[K_]=KE}function Dt(w){return w&~PK?0>w?0:255:w>>YE}function Ut(w,T){return Dt((19077*w>>8)+(26149*T>>8)-14234)}function cr(w,T,B){return Dt((19077*w>>8)-(6419*T>>8)-(13320*B>>8)+8708)}function ir(w,T){return Dt((19077*w>>8)+(33050*T>>8)-17685)}function Or(w,T,B,Y,te){Y[te+0]=Ut(w,B),Y[te+1]=cr(w,T,B),Y[te+2]=ir(w,T)}function On(w,T,B,Y,te){Y[te+0]=ir(w,T),Y[te+1]=cr(w,T,B),Y[te+2]=Ut(w,B)}function Rn(w,T,B,Y,te){var ae=cr(w,T,B);T=ae<<3&224|ir(w,T)>>3,Y[te+0]=248&Ut(w,B)|ae>>5,Y[te+1]=T}function ia(w,T,B,Y,te){var ae=240&ir(w,T)|15;Y[te+0]=240&Ut(w,B)|cr(w,T,B)>>4,Y[te+1]=ae}function ei(w,T,B,Y,te){Y[te+0]=255,Or(w,T,B,Y,te+1)}function Ta(w,T,B,Y,te){On(w,T,B,Y,te),Y[te+3]=255}function go(w,T,B,Y,te){Or(w,T,B,Y,te),Y[te+3]=255}function os(w,T){return 0>w?0:w>T?T:w}function al(w,T,B){A[w]=function(Y,te,ae,ie,oe,ue,me,Ce,Be){for(var Ue=Ce+(-2&Be)*B;Ce!=Ue;)T(Y[te+0],ae[ie+0],oe[ue+0],me,Ce),T(Y[te+1],ae[ie+0],oe[ue+0],me,Ce+B),te+=2,++ie,++ue,Ce+=2*B;1&Be&&T(Y[te+0],ae[ie+0],oe[ue+0],me,Ce)}}function Ix(w,T,B){return B==0?w==0?T==0?6:5:T==0?4:0:B}function kp(w,T,B,Y,te){switch(w>>>30){case 3:Rl(T,B,Y,te,0);break;case 2:Kn(T,B,Y,te);break;case 1:Si(T,B,Y,te)}}function Pp(w,T){var B,Y,te=T.M,ae=T.Nb,ie=w.oc,oe=w.pc+40,ue=w.oc,me=w.pc+584,Ce=w.oc,Be=w.pc+600;for(B=0;16>B;++B)ie[oe+32*B-1]=129;for(B=0;8>B;++B)ue[me+32*B-1]=129,Ce[Be+32*B-1]=129;for(0<te?ie[oe-1-32]=ue[me-1-32]=Ce[Be-1-32]=129:(a(ie,oe-32-1,127,21),a(ue,me-32-1,127,9),a(Ce,Be-32-1,127,9)),Y=0;Y<w.za;++Y){var Ue=T.ya[T.aa+Y];if(0<Y){for(B=-1;16>B;++B)n(ie,oe+32*B-4,ie,oe+32*B+12,4);for(B=-1;8>B;++B)n(ue,me+32*B-4,ue,me+32*B+4,4),n(Ce,Be+32*B-4,Ce,Be+32*B+4,4)}var Fe=w.Gd,st=w.Hd+Y,Je=Ue.ad,Ee=Ue.Hc;if(0<te&&(n(ie,oe-32,Fe[st].y,0,16),n(ue,me-32,Fe[st].f,0,8),n(Ce,Be-32,Fe[st].ea,0,8)),Ue.Za){var Pe=ie,nt=oe-32+16;for(0<te&&(Y>=w.za-1?a(Pe,nt,Fe[st].y[15],4):n(Pe,nt,Fe[st+1].y,0,4)),B=0;4>B;B++)Pe[nt+128+B]=Pe[nt+256+B]=Pe[nt+384+B]=Pe[nt+0+B];for(B=0;16>B;++B,Ee<<=2)Pe=ie,nt=oe+JE[B],vo[Ue.Ob[B]](Pe,nt),kp(Ee,Je,16*+B,Pe,nt)}else if(Pe=Ix(Y,te,Ue.Ob[0]),Rc[Pe](ie,oe),Ee!=0)for(B=0;16>B;++B,Ee<<=2)kp(Ee,Je,16*+B,ie,oe+JE[B]);for(B=Ue.Gc,Pe=Ix(Y,te,Ue.Dd),Bl[Pe](ue,me),Bl[Pe](Ce,Be),Ee=Je,Pe=ue,nt=me,255&(Ue=B>>0)&&(170&Ue?Ip(Ee,256,Pe,nt):Ls(Ee,256,Pe,nt)),Ue=Ce,Ee=Be,255&(B>>=8)&&(170&B?Ip(Je,320,Ue,Ee):Ls(Je,320,Ue,Ee)),te<w.Ub-1&&(n(Fe[st].y,0,ie,oe+480,16),n(Fe[st].f,0,ue,me+224,8),n(Fe[st].ea,0,Ce,Be+224,8)),B=8*ae*w.B,Fe=w.sa,st=w.ta+16*Y+16*ae*w.R,Je=w.qa,Ue=w.ra+8*Y+B,Ee=w.Ha,Pe=w.Ia+8*Y+B,B=0;16>B;++B)n(Fe,st+B*w.R,ie,oe+32*B,16);for(B=0;8>B;++B)n(Je,Ue+B*w.B,ue,me+32*B,8),n(Ee,Pe+B*w.B,Ce,Be+32*B,8)}}function If(w,T,B,Y,te,ae,ie,oe,ue){var me=[0],Ce=[0],Be=0,Ue=ue!=null?ue.kd:0,Fe=ue??new Ap;if(w==null||12>B)return 7;Fe.data=w,Fe.w=T,Fe.ha=B,T=[T],B=[B],Fe.gb=[Fe.gb];e:{var st=T,Je=B,Ee=Fe.gb;if(t(w!=null),t(Je!=null),t(Ee!=null),Ee[0]=0,12<=Je[0]&&!r(w,st[0],"RIFF")){if(r(w,st[0]+8,"WEBP")){Ee=3;break e}var Pe=Oe(w,st[0]+4);if(12>Pe||4294967286<Pe){Ee=3;break e}if(Ue&&Pe>Je[0]-8){Ee=7;break e}Ee[0]=Pe,st[0]+=12,Je[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Pe=0<Fe.gb[0],B=B[0];;){e:{var nt=w;Je=T,Ee=B;var ct=me,at=Ce,Lt=st=[0];if((kt=Be=[Be])[0]=0,8>Ee[0])Ee=7;else{if(!r(nt,Je[0],"VP8X")){if(Oe(nt,Je[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var Nt=Oe(nt,Je[0]+8),Wt=1+Q(nt,Je[0]+12);if(2147483648<=Wt*(nt=1+Q(nt,Je[0]+15))){Ee=3;break e}Lt!=null&&(Lt[0]=Nt),ct!=null&&(ct[0]=Wt),at!=null&&(at[0]=nt),Je[0]+=18,Ee[0]-=18,kt[0]=1}Ee=0}}if(Be=Be[0],st=st[0],Ee!=0)return Ee;if(Je=!!(2&st),!Pe&&Be)return 3;if(ae!=null&&(ae[0]=!!(16&st)),ie!=null&&(ie[0]=Je),oe!=null&&(oe[0]=0),ie=me[0],st=Ce[0],Be&&Je&&ue==null){Ee=0;break}if(4>B){Ee=7;break}if(Pe&&Be||!Pe&&!Be&&!r(w,T[0],"ALPH")){B=[B],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{Nt=w,Ee=T,Pe=B;var kt=Fe.gb;ct=Fe.na,at=Fe.P,Lt=Fe.Sa,Wt=22,t(Nt!=null),t(Pe!=null),nt=Ee[0];var Wr=Pe[0];for(t(ct!=null),t(Lt!=null),ct[0]=null,at[0]=null,Lt[0]=0;;){if(Ee[0]=nt,Pe[0]=Wr,8>Wr){Ee=7;break e}var Yr=Oe(Nt,nt+4);if(4294967286<Yr){Ee=3;break e}var Mr=8+Yr+1&-2;if(Wt+=Mr,0<kt&&Wt>kt){Ee=3;break e}if(!r(Nt,nt,"VP8 ")||!r(Nt,nt,"VP8L")){Ee=0;break e}if(Wr[0]<Mr){Ee=7;break e}r(Nt,nt,"ALPH")||(ct[0]=Nt,at[0]=nt+8,Lt[0]=Yr),nt+=Mr,Wr-=Mr}}if(B=B[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Ee!=0)break}B=[B],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(kt=w,Ee=T,Pe=B,ct=Fe.gb[0],at=Fe.Ja,Lt=Fe.xa,Nt=Ee[0],nt=!r(kt,Nt,"VP8 "),Wt=!r(kt,Nt,"VP8L"),t(kt!=null),t(Pe!=null),t(at!=null),t(Lt!=null),8>Pe[0])Ee=7;else{if(nt||Wt){if(kt=Oe(kt,Nt+4),12<=ct&&kt>ct-12){Ee=3;break e}if(Ue&&kt>Pe[0]-8){Ee=7;break e}at[0]=kt,Ee[0]+=8,Pe[0]-=8,Lt[0]=Wt}else Lt[0]=5<=Pe[0]&&kt[Nt+0]==47&&!(kt[Nt+4]>>5),at[0]=Pe[0];Ee=0}if(B=B[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],T=T[0],Ee!=0)break;if(4294967286<Fe.Ja)return 3;if(oe==null||Je||(oe[0]=Fe.xa?2:1),ie=[ie],st=[st],Fe.xa){if(5>B){Ee=7;break}oe=ie,Ue=st,Je=ae,w==null||5>B?w=0:5<=B&&w[T+0]==47&&!(w[T+4]>>5)?(Pe=[0],kt=[0],ct=[0],M(at=new E,w,T,B),mt(at,Pe,kt,ct)?(oe!=null&&(oe[0]=Pe[0]),Ue!=null&&(Ue[0]=kt[0]),Je!=null&&(Je[0]=ct[0]),w=1):w=0):w=0}else{if(10>B){Ee=7;break}oe=st,w==null||10>B||!bx(w,T+3,B-3)?w=0:(Ue=w[T+0]|w[T+1]<<8|w[T+2]<<16,Je=16383&(w[T+7]<<8|w[T+6]),w=16383&(w[T+9]<<8|w[T+8]),1&Ue||3<(Ue>>1&7)||!(Ue>>4&1)||Ue>>5>=Fe.Ja||!Je||!w?w=0:(ie&&(ie[0]=Je),oe&&(oe[0]=w),w=1))}if(!w||(ie=ie[0],st=st[0],Be&&(me[0]!=ie||Ce[0]!=st)))return 3;ue!=null&&(ue[0]=Fe,ue.offset=T-ue.w,t(4294967286>T-ue.w),t(ue.offset==ue.ha-B));break}return Ee==0||Ee==7&&Be&&ue==null?(ae!=null&&(ae[0]|=Fe.na!=null&&0<Fe.na.length),Y!=null&&(Y[0]=ie),te!=null&&(te[0]=st),0):Ee}function Op(w,T,B){var Y=T.width,te=T.height,ae=0,ie=0,oe=Y,ue=te;if(T.Da=w!=null&&0<w.Da,T.Da&&(oe=w.cd,ue=w.bd,ae=w.v,ie=w.j,11>B||(ae&=-2,ie&=-2),0>ae||0>ie||0>=oe||0>=ue||ae+oe>Y||ie+ue>te))return 0;if(T.v=ae,T.j=ie,T.va=ae+oe,T.o=ie+ue,T.U=oe,T.T=ue,T.da=w!=null&&0<w.da,T.da){if(!ke(oe,ue,B=[w.ib],ae=[w.hb]))return 0;T.ib=B[0],T.hb=ae[0]}return T.ob=w!=null&&w.ob,T.Kb=w==null||!w.Sd,T.da&&(T.ob=T.ib<3*Y/4&&T.hb<3*te/4,T.Kb=0),1}function Fp(w){if(w==null)return 2;if(11>w.S){var T=w.f.RGBA;T.fb+=(w.height-1)*T.A,T.A=-T.A}else T=w.f.kb,w=w.height,T.O+=(w-1)*T.fa,T.fa=-T.fa,T.N+=(w-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(w-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(w-1)*T.lb,T.lb=-T.lb);return 0}function Mf(w,T,B,Y){if(Y==null||0>=w||0>=T)return 2;if(B!=null){if(B.Da){var te=B.cd,ae=B.bd,ie=-2&B.v,oe=-2&B.j;if(0>ie||0>oe||0>=te||0>=ae||ie+te>w||oe+ae>T)return 2;w=te,T=ae}if(B.da){if(!ke(w,T,te=[B.ib],ae=[B.hb]))return 2;w=te[0],T=ae[0]}}Y.width=w,Y.height=T;e:{var ue=Y.width,me=Y.height;if(w=Y.S,0>=ue||0>=me||!(w>=Vx&&13>w))w=2;else{if(0>=Y.Rd&&Y.sd==null){ie=ae=te=T=0;var Ce=(oe=ue*QE[w])*me;if(11>w||(ae=(me+1)/2*(T=(ue+1)/2),w==12&&(ie=(te=ue)*me)),(me=i(Ce+2*ae+ie))==null){w=1;break e}Y.sd=me,11>w?((ue=Y.f.RGBA).eb=me,ue.fb=0,ue.A=oe,ue.size=Ce):((ue=Y.f.kb).y=me,ue.O=0,ue.fa=oe,ue.Fd=Ce,ue.f=me,ue.N=0+Ce,ue.Ab=T,ue.Cd=ae,ue.ea=me,ue.W=0+Ce+ae,ue.Db=T,ue.Ed=ae,w==12&&(ue.F=me,ue.J=0+Ce+2*ae),ue.Tc=ie,ue.lb=te)}if(T=1,te=Y.S,ae=Y.width,ie=Y.height,te>=Vx&&13>te)if(11>te)w=Y.f.RGBA,T&=(oe=Math.abs(w.A))*(ie-1)+ae<=w.size,T&=oe>=ae*QE[te],T&=w.eb!=null;else{w=Y.f.kb,oe=(ae+1)/2,Ce=(ie+1)/2,ue=Math.abs(w.fa),me=Math.abs(w.Ab);var Be=Math.abs(w.Db),Ue=Math.abs(w.lb),Fe=Ue*(ie-1)+ae;T&=ue*(ie-1)+ae<=w.Fd,T&=me*(Ce-1)+oe<=w.Cd,T=(T&=Be*(Ce-1)+oe<=w.Ed)&ue>=ae&me>=oe&Be>=oe,T&=w.y!=null,T&=w.f!=null,T&=w.ea!=null,te==12&&(T&=Ue>=ae,T&=Fe<=w.Tc,T&=w.F!=null)}else T=0;w=T?0:2}}return w!=0||B!=null&&B.fd&&(w=Fp(Y)),w}var Ua=64,Rf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$f=24,Bf=32,Dp=8,Ui=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(w){return w},A.Predictor2=function(w,T,B){return T[B+0]},A.Predictor3=function(w,T,B){return T[B+1]},A.Predictor4=function(w,T,B){return T[B-1]},A.Predictor5=function(w,T,B){return de(de(w,T[B+1]),T[B+0])},A.Predictor6=function(w,T,B){return de(w,T[B-1])},A.Predictor7=function(w,T,B){return de(w,T[B+0])},A.Predictor8=function(w,T,B){return de(T[B-1],T[B+0])},A.Predictor9=function(w,T,B){return de(T[B+0],T[B+1])},A.Predictor10=function(w,T,B){return de(de(w,T[B-1]),de(T[B+0],T[B+1]))},A.Predictor11=function(w,T,B){var Y=T[B+0];return 0>=ft(Y>>24&255,w>>24&255,(T=T[B-1])>>24&255)+ft(Y>>16&255,w>>16&255,T>>16&255)+ft(Y>>8&255,w>>8&255,T>>8&255)+ft(255&Y,255&w,255&T)?Y:w},A.Predictor12=function(w,T,B){var Y=T[B+0];return(ze((w>>24&255)+(Y>>24&255)-((T=T[B-1])>>24&255))<<24|ze((w>>16&255)+(Y>>16&255)-(T>>16&255))<<16|ze((w>>8&255)+(Y>>8&255)-(T>>8&255))<<8|ze((255&w)+(255&Y)-(255&T)))>>>0},A.Predictor13=function(w,T,B){var Y=T[B-1];return(Ke((w=de(w,T[B+0]))>>24&255,Y>>24&255)<<24|Ke(w>>16&255,Y>>16&255)<<16|Ke(w>>8&255,Y>>8&255)<<8|Ke(w>>0&255,Y>>0&255))>>>0};var V_=A.PredictorAdd0;A.PredictorAdd1=bt,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var Lp=A.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Mx,Ds=A.ColorIndexInverseTransform,Uf=A.MapARGB,Rx=A.VP8LColorIndexInverseTransformAlpha,$x=A.MapAlpha,Dc=A.VP8LPredictorsAdd=[];Dc.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var ad,zi,ji,Lc,Il,Ml,zf,Rl,Kn,Ip,Si,Ls,Vf,Bx,Mp,id,sd,Ic,od,Hf,ld,Mc,Rp,Is,Ms,dn,fn,Yn,pa=i(511),$l=i(2041),$p=i(225),Wf=i(767),Ux=0,H_=$l,zx=$p,ls=Wf,Rs=pa,Vx=0,Hx=1,BE=2,Wx=3,qx=4,W_=5,UE=6,q_=7,G_=8,Gx=9,K_=10,pK=[2,3,7],mK=[3,3,11],zE=[280,256,256,256,40],gK=[0,1,1,1,0],vK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],bK=8,Y_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],X_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bp=null,wK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_K=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],VE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],jK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],SK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],NK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],AK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rc=[],vo=[],Bl=[],TK=1,HE=2,$c=[],$s=[];et("UpsampleRgbLinePair",Or,3),et("UpsampleBgrLinePair",On,3),et("UpsampleRgbaLinePair",go,4),et("UpsampleBgraLinePair",Ta,4),et("UpsampleArgbLinePair",ei,4),et("UpsampleRgba4444LinePair",ia,2),et("UpsampleRgb565LinePair",Rn,2);var CK=A.UpsampleRgbLinePair,EK=A.UpsampleBgrLinePair,WE=A.UpsampleRgbaLinePair,qE=A.UpsampleBgraLinePair,GE=A.UpsampleArgbLinePair,KE=A.UpsampleRgba4444LinePair,kK=A.UpsampleRgb565LinePair,Kx=16,Yx=1<<Kx-1,Up=-227,J_=482,YE=6,PK=(256<<YE)-1,XE=0,OK=i(256),FK=i(256),DK=i(256),LK=i(256),IK=i(J_-Up),MK=i(J_-Up);al("YuvToRgbRow",Or,3),al("YuvToBgrRow",On,3),al("YuvToRgbaRow",go,4),al("YuvToBgraRow",Ta,4),al("YuvToArgbRow",ei,4),al("YuvToRgba4444Row",ia,2),al("YuvToRgb565Row",Rn,2);var JE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xx=[0,2,8],RK=[8,7,6,4,4,2,2,2,1,1,1,1],$K=1;this.WebPDecodeRGBA=function(w,T,B,Y,te){var ae=Hx,ie=new Df,oe=new $t;ie.ba=oe,oe.S=ae,oe.width=[oe.width],oe.height=[oe.height];var ue=oe.width,me=oe.height,Ce=new Cr;if(Ce==null||w==null)var Be=2;else t(Ce!=null),Be=If(w,T,B,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Be!=0?ue=0:(ue!=null&&(ue[0]=Ce.width[0]),me!=null&&(me[0]=Ce.height[0]),ue=1),ue){oe.width=oe.width[0],oe.height=oe.height[0],Y!=null&&(Y[0]=oe.width),te!=null&&(te[0]=oe.height);e:{if(Y=new tl,(te=new Ap).data=w,te.w=T,te.ha=B,te.kd=1,T=[0],t(te!=null),((w=If(te.data,te.w,te.ha,null,null,null,T,null,te))==0||w==7)&&T[0]&&(w=4),(T=w)==0){if(t(ie!=null),Y.data=te.data,Y.w=te.w+te.offset,Y.ha=te.ha-te.offset,Y.put=Ye,Y.ac=rn,Y.bc=Ct,Y.ma=ie,te.xa){if((w=Xe())==null){ie=1;break e}if(function(Ue,Fe){var st=[0],Je=[0],Ee=[0];t:for(;;){if(Ue==null)return 0;if(Fe==null)return Ue.a=2,0;if(Ue.l=Fe,Ue.a=0,M(Ue.m,Fe.data,Fe.w,Fe.ha),!mt(Ue.m,st,Je,Ee)){Ue.a=3;break t}if(Ue.xb=HE,Fe.width=st[0],Fe.height=Je[0],!Me(st[0],Je[0],1,Ue,null))break t;return 1}return t(Ue.a!=0),0}(w,Y)){if(Y=(T=Mf(Y.width,Y.height,ie.Oa,ie.ba))==0){t:{Y=w;r:for(;;){if(Y==null){Y=0;break t}if(t(Y.s.yc!=null),t(Y.s.Ya!=null),t(0<Y.s.Wb),t((B=Y.l)!=null),t((te=B.ma)!=null),Y.xb!=0){if(Y.ca=te.ba,Y.tb=te.tb,t(Y.ca!=null),!Op(te.Oa,B,Wx)){Y.a=2;break r}if(!Ve(Y,B.width)||B.da)break r;if((B.da||Ht(Y.ca.S))&&Ie(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&Ie()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!$e(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break r}Y.xb=0}if(!ye(Y,Y.V,Y.Ba,Y.c,Y.i,B.o,ve))break r;te.Dc=Y.Ma,Y=1;break t}t(Y.a!=0),Y=0}Y=!Y}Y&&(T=w.a)}else T=w.a}else{if((w=new ss)==null){ie=1;break e}if(w.Fa=te.na,w.P=te.P,w.qc=te.Sa,wx(w,Y)){if((T=Mf(Y.width,Y.height,ie.Oa,ie.ba))==0){if(w.Aa=0,B=ie.Oa,t((te=w)!=null),B!=null){if(0<(ue=0>(ue=B.Md)?0:100<ue?255:255*ue/100)){for(me=Ce=0;4>me;++me)12>(Be=te.pb[me]).lc&&(Be.ia=ue*RK[0>Be.lc?0:Be.lc]>>3),Ce|=Be.ia;Ce&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=B.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}N_(w,Y)||(T=w.a)}}else T=w.a}T==0&&ie.Oa!=null&&ie.Oa.fd&&(T=Fp(ie.ba))}ie=T}ae=ie!=0?null:11>ae?oe.f.RGBA.eb:oe.f.kb.y}else ae=null;return ae};var QE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(A,P){for(var W="",C=0;C<4;C++)W+=String.fromCharCode(A[P++]);return W}function d(A,P){return(A[P+0]<<0|A[P+1]<<8|A[P+2]<<16)>>>0}function f(A,P){return(A[P+0]<<0|A[P+1]<<8|A[P+2]<<16|A[P+3]<<24)>>>0}new c;var h=[0],p=[0],v=[],m=new c,x=e,g=function(A,P){var W={},C=0,k=!1,z=0,I=0;if(W.frames=[],!function(H,G,q,K){for(var ee=0;ee<K;ee++)if(H[G+ee]!=q.charCodeAt(ee))return!0;return!1}(A,P,"RIFF",4)){var R,V;for(f(A,P+=4),P+=8;P<A.length;){var L=u(A,P),M=f(A,P+=4);P+=4;var F=M+(1&M);switch(L){case"VP8 ":case"VP8L":W.frames[C]===void 0&&(W.frames[C]={}),(E=W.frames[C]).src_off=k?I:P-8,E.src_size=z+M+8,C++,k&&(k=!1,z=0,I=0);break;case"VP8X":(E=W.header={}).feature_flags=A[P];var U=P+4;E.canvas_width=1+d(A,U),U+=3,E.canvas_height=1+d(A,U),U+=3;break;case"ALPH":k=!0,z=F+8,I=P-8;break;case"ANIM":(E=W.header).bgcolor=f(A,P),U=P+4,E.loop_count=(R=A)[(V=U)+0]<<0|R[V+1]<<8,U+=2;break;case"ANMF":var X,E;(E=W.frames[C]={}).offset_x=2*d(A,P),P+=3,E.offset_y=2*d(A,P),P+=3,E.width=1+d(A,P),P+=3,E.height=1+d(A,P),P+=3,E.duration=d(A,P),P+=3,X=A[P++],E.dispose=1&X,E.blend=X>>1&1}L!="ANMF"&&(P+=F)}return W}}(x,0);g.response=x,g.rgbaoutput=!0,g.dataurl=!1;var y=g.header?g.header:null,b=g.frames?g.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var j=0;j<b.length&&b[j].blend!=0;j++);}var _=b[0],N=m.WebPDecodeRGBA(x,_.src_off,_.src_size,p,h);_.rgba=N,_.imgwidth=p[0],_.imgheight=h[0];for(var S=0;S<p[0]*h[0]*4;S++)v[S]=N[S];return this.width=p,this.height=h,this.data=v,this}(function(e){var t=function(){return typeof RA=="function"},r=function(h,p,v,m){var x=4,g=o;switch(m){case e.image_compression.FAST:x=1,g=i;break;case e.image_compression.MEDIUM:x=6,g=l;break;case e.image_compression.SLOW:x=9,g=c}h=n(h,p,v,g);var y=RA(h,{level:x});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,p,v,m){for(var x,g,y,b=h.length/p,j=new Uint8Array(h.length+b),_=d(),N=0;N<b;N+=1){if(y=N*p,x=h.subarray(y,y+p),m)j.set(m(x,v,g),y+N);else{for(var S,A=_.length,P=[];S<A;S+=1)P[S]=_[S](x,v,g);var W=f(P.concat());j.set(P[W],y+N)}g=x}return j},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var v,m=[],x=h.length;m[0]=1;for(var g=0;g<x;g+=1)v=h[g-p]||0,m[g+1]=h[g]-v+256&255;return m},o=function(h,p,v){var m,x=[],g=h.length;x[0]=2;for(var y=0;y<g;y+=1)m=v&&v[y]||0,x[y+1]=h[y]-m+256&255;return x},l=function(h,p,v){var m,x,g=[],y=h.length;g[0]=3;for(var b=0;b<y;b+=1)m=h[b-p]||0,x=v&&v[b]||0,g[b+1]=h[b]+256-(m+x>>>1)&255;return g},c=function(h,p,v){var m,x,g,y,b=[],j=h.length;b[0]=4;for(var _=0;_<j;_+=1)m=h[_-p]||0,x=v&&v[_]||0,g=v&&v[_-p]||0,y=u(m,x,g),b[_+1]=h[_]-y+256&255;return b},u=function(h,p,v){if(h===p&&p===v)return h;var m=Math.abs(p-v),x=Math.abs(h-v),g=Math.abs(h+p-v-v);return m<=x&&m<=g?h:x<=g?p:v},d=function(){return[a,i,o,l,c]},f=function(h){var p=h.map(function(v){return v.reduce(function(m,x){return m+Math.abs(x)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,v,m){var x,g,y,b,j,_,N,S,A,P,W,C,k,z,I,R=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new Z$e(h)).imgData,g=y.bits,x=y.colorSpace,j=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){A=(S=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,W=new Uint8Array(A*y.colors),P=new Uint8Array(A);var L,M=y.pixelBitlength-y.bits;for(z=0,I=0;z<A;z++){for(k=S[z],L=0;L<M;)W[I++]=k>>>L&255,L+=y.bits;P[z]=k>>>L&255}}if(y.bits===16){A=(S=new Uint32Array(y.decodePixels().buffer)).length,W=new Uint8Array(A*(32/y.pixelBitlength)*y.colors),P=new Uint8Array(A*(32/y.pixelBitlength)),C=y.colors>1,z=0,I=0;for(var F=0;z<A;)k=S[z++],W[I++]=k>>>0&255,C&&(W[I++]=k>>>16&255,k=S[z++],W[I++]=k>>>0&255),P[F++]=k>>>16&255;g=8}m!==e.image_compression.NONE&&t()?(h=r(W,y.width*y.colors,y.colors,m),N=r(P,y.width,1,m)):(h=W,N=P,R=void 0)}if(y.colorType===3&&(x=this.color_spaces.INDEXED,_=y.palette,y.transparency.indexed)){var U=y.transparency.indexed,X=0;for(z=0,A=U.length;z<A;++z)X+=U[z];if((X/=255)===A-1&&U.indexOf(0)!==-1)b=[U.indexOf(0)];else if(X!==A){for(S=y.decodePixels(),P=new Uint8Array(S.length),z=0,A=S.length;z<A;z++)P[z]=U[S[z]];N=r(P,y.width,1)}}var E=function(H){var G;switch(H){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(m);return R===this.decode.FLATE_DECODE&&(V="/Predictor "+E+" "),V+="/Colors "+j+" /BitsPerComponent "+g+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:v,data:h,index:p,filter:R,decodeParameters:V,transparency:b,palette:_,sMask:N,predictor:E,width:y.width,height:y.height,bitsPerComponent:g,colorSpace:x}}}})(Vt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new eBe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new oS(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Vt.API),So.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},So.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){cn.log("bit decode error:"+r)}},So.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},So.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},So.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},So.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},So.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},So.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},So.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},So.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new So(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new oS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Vt.API),xM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new xM(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new oS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Vt.API),Vt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[l++]=d,i[l++]=f,i[l++]=h,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Vt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},uh=Vt.API,my=uh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,v=0,m=l[0]||c,x=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&Zr(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,x.push((l[n]||m)/c+h)),v=n;return x},pM=uh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return uh.processArabic&&(e=uh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:my.apply(this,arguments).reduce(function(i,o){return i+o},0)},mM=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},gM=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],h=r.textIndent||0,p=0,v=0,m=e.split(" "),x=my.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),y=[];m.map(function(j){(j=j.split(/\s*\n/)).length>1?y=y.concat(j.map(function(_,N){return(N&&_.length?`
`:"")+_})):y.push(j[0])}),m=y,c=pM.apply(this,[g,r])}for(i=0,o=m.length;i<o;i++){var b=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(v=(a=my.apply(this,[n,r])).reduce(function(j,_){return j+_},0))>t||b){if(v>t){for(l=mM.apply(this,[n,a,t-(h+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,_){return j+_},0)}else d=[n];f.push(d),h=v+c,p=x}else d.push(n),h+=p+v,p=x}return u=c?function(j,_){return(_?g:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},uh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(gM.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,p,v,m,x=["{"];for(var g in f){if(h=f[g],isNaN(parseInt(g,10))?p="'"+g+"'":(g=parseInt(g,10),p=(p=i(g).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(v=i(h).slice(3),m="-"):(v=i(h).slice(2),m=""),v=m+v.slice(0,-1)+n[v.slice(-1)];else{if(Zr(h)!=="object")throw new Error("Don't know what to do with value type "+Zr(h)+".");v=o(h)}x.push(p+v)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,v,m,x={},g=1,y=x,b=[],j="",_="",N=f.length-1,S=1;S<N;S+=1)(m=f[S])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(b.push([y,v]),y={},v=void 0):m=="}"?((p=b.pop())[0][p[1]]=y,v=void 0,y=p[0]):m=="-"?g=-1:v===void 0?r.hasOwnProperty(m)?(j+=r[m],v=parseInt(j,16)*g,g=1,j=""):j+=m:r.hasOwnProperty(m)?(_+=r[m],y[v]=parseInt(_,16)*g,g=1,v=void 0,_=""):_+=m;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(Vt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(pg(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Vt),function(e){function t(){return(Xt.canvg?Promise.resolve(Xt.canvg):xc(()=>import("./index.es-9806f361.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Vt.API.addSvgAsImage=function(r,n,a,i,o,l,c,u){if(isNaN(n)||isNaN(a))throw cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(v){return v.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),Vt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Vt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(v,m){var x,g=!1;for(x=0;x<v.length;x+=1)v[x]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(Zr(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Vt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(i).sort(function(p,v){return p-v})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<h.length;v++)p+=String.fromCharCode(h[v]);var m=u();d({data:p,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+hh(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+hh(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+hh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var v=u();d({data:h,addLength1:!0,objectId:v}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+hh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+hh(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,v=f.fonts,m=p,x="",g=0,y="",b=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(y=l,m=p,Array.isArray(l)&&(y=l[0]),g=0;g<y.length;g+=1)v[m].metadata.hasOwnProperty("cmap")&&(o=v[m].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),o||y[g].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?x+=y[g]:x+="";var j="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?j=h(x,m).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(j=r(x,v[m])),f.isHex=!0,{text:j,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Vt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Vt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var j=function(C){var k=C.charCodeAt(),z=k>>8,I=m[z];return I!==void 0?f[256*I+(255&k)]:z===252||z===253?"AL":g.test(z)?"L":z===8?"R":"N"},_=function(C){for(var k,z=0;z<C.length;z++){if((k=j(C.charAt(z)))==="L")return!1;if(k==="R")return!0}return!1},N=function(C,k,z,I){var R,V,L,M,F=k[I];switch(F){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(F="AN");break;case"AL":y=!0,F="R";break;case"WS":F="N";break;case"CS":I<1||I+1>=k.length||(R=z[I-1])!=="EN"&&R!=="AN"||(V=k[I+1])!=="EN"&&V!=="AN"?F="N":y&&(V="AN"),F=V===R?V:"N";break;case"ES":F=(R=I>0?z[I-1]:"B")==="EN"&&I+1<k.length&&k[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&z[I-1]==="EN"){F="EN";break}if(y){F="N";break}for(L=I+1,M=k.length;L<M&&k[L]==="ET";)L++;F=L<M&&k[L]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(M=k.length,L=I+1;L<M&&k[L]==="NSM";)L++;if(L<M){var U=C[I],X=U>=1425&&U<=2303||U===64286;if(R=k[L],X&&(R==="R"||R==="AL")){F="R";break}}}F=I<1||(R=k[I-1])==="B"?"N":z[I-1];break;case"B":y=!1,a=!0,F=b;break;case"S":i=!0,F="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":F="N"}return F},S=function(C,k,z){var I=C.split("");return z&&A(I,z,{hiLevel:b}),I.reverse(),k&&k.reverse(),I.join("")},A=function(C,k,z){var I,R,V,L,M,F=-1,U=C.length,X=0,E=[],H=b?p:h,G=[];for(y=!1,a=!1,i=!1,R=0;R<U;R++)G[R]=j(C[R]);for(V=0;V<U;V++){if(M=X,E[V]=N(C,G,E,V),I=240&(X=H[M][v[E[V]]]),X&=15,k[V]=L=H[X][5],I>0)if(I===16){for(R=F;R<V;R++)k[R]=1;F=-1}else F=-1;if(H[X][6])F===-1&&(F=V);else if(F>-1){for(R=F;R<V;R++)k[R]=L;F=-1}G[V]==="B"&&(k[V]=0),z.hiLevel|=L}i&&function(q,K,ee){for(var se=0;se<ee;se++)if(q[se]==="S"){K[se]=b;for(var J=se-1;J>=0&&q[J]==="WS";J--)K[J]=b}}(G,k,U)},P=function(C,k,z,I,R){if(!(R.hiLevel<C)){if(C===1&&b===1&&!a)return k.reverse(),void(z&&z.reverse());for(var V,L,M,F,U=k.length,X=0;X<U;){if(I[X]>=C){for(M=X+1;M<U&&I[M]>=C;)M++;for(F=X,L=M-1;F<L;F++,L--)V=k[F],k[F]=k[L],k[L]=V,z&&(V=z[F],z[F]=z[L],z[L]=V);X=M}X++}}},W=function(C,k,z){var I=C.split(""),R={hiLevel:b};return z||(z=[]),A(I,z,R),function(V,L,M){if(M.hiLevel!==0&&d)for(var F,U=0;U<V.length;U++)L[U]===1&&(F=x.indexOf(V[U]))>=0&&(V[U]=x[F+1])}(I,z,R),P(2,I,k,z,R),P(1,I,k,z,R),I.join("")};return this.__bidiEngine__.doBidiReorder=function(C,k,z){if(function(R,V){if(V)for(var L=0;L<R.length;L++)V[L]=L;l===void 0&&(l=_(R)),u===void 0&&(u=_(R))}(C,k),o||!c||u)if(o&&c&&l^u)b=l?1:0,C=S(C,k,z);else if(!o&&c&&u)b=l?1:0,C=W(C,k,z),C=S(C,k);else if(!o||l||c||u){if(o&&!c&&l^u)C=S(C,k),l?(b=0,C=W(C,k,z)):(b=1,C=W(C,k,z),C=S(C,k));else if(o&&l&&!c&&u)b=1,C=W(C,k,z),C=S(C,k);else if(!o&&!c&&l^u){var I=d;l?(b=1,C=W(C,k,z),b=0,d=!1,C=W(C,k,z),d=I):(b=0,C=W(C,k,z),C=S(C,k),b=1,d=!1,C=W(C,k,z),d=I,C=S(C,k))}}else b=0,C=W(C,k,z);else b=l?1:0,C=W(C,k,z);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Uu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new mBe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new tBe(this.contents),this.head=new nBe(this),this.name=new lBe(this),this.cmap=new uK(this),this.toUnicode={},this.hhea=new aBe(this),this.maxp=new cBe(this),this.hmtx=new uBe(this),this.post=new sBe(this),this.os2=new iBe(this),this.loca=new pBe(this),this.glyf=new dBe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Zo,Uu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),tBe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,h,p,v,m;for(m in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),o=Math.floor(f/c),d=16*p-f,(a=new Uu).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*p,u=a.pos+i,l=null,v=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),v=v.concat(h),m==="head"&&(l=u),u+=h.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=dK.call(r);r.length%4;)r.push(0);for(i=new Uu(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),rBe={}.hasOwnProperty,Ol=function(e,t){for(var r in t)rBe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Zo=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var nBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Uu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),yM=function(){function e(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,m,x,g,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),t.pos+=2,m=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),u=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),d=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),a=(this.length-t.pos+this.offset)/2,l=function(){var j,_;for(_=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)_.push(t.readUInt16());return _}(),c=g=0,b=i.length;g<b;c=++g)for(x=i[c],n=y=v=m[c];v<=x?y<=x:y>=x;n=v<=x?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-v)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,m,x,g,y,b,j,_,N,S,A,P,W,C,k,z,I,R,V,L,M,F,U,X,E,H,G,q,K,ee,se,J,ce,pe,Q;switch(I=new Uu,o=Object.keys(t).sort(function(Oe,$e){return Oe-$e}),r){case"macroman":for(m=0,x=function(){var Oe=[];for(v=0;v<256;++v)Oe.push(0);return Oe}(),y={0:0},i={},R=0,F=o.length;R<F;R++)y[J=t[a=o[R]]]==null&&(y[J]=++m),i[a]={old:t[a],new:y[t[a]]},x[a]=y[t[a]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(x),{charMap:i,subtable:I.data,maxGlyphID:m+1};case"unicode":for(k=[],f=[],b=0,y={},n={},g=u=null,V=0,U=o.length;V<U;V++)y[_=t[a=o[V]]]==null&&(y[_]=++b),n[a]={old:_,new:y[_]},l=y[_]-a,g!=null&&l===u||(g&&f.push(g),k.push(a),u=l),g=a;for(g&&f.push(g),f.push(65535),k.push(65535),W=2*(P=k.length),A=2*Math.pow(Math.log(P)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,S=2*P-A,c=[],N=[],p=[],v=L=0,X=k.length;L<X;v=++L){if(C=k[v],d=f[v],C===65535){c.push(0),N.push(0);break}if(C-(z=n[C].new)>=32768)for(c.push(0),N.push(2*(p.length+P-v)),a=M=C;C<=d?M<=d:M>=d;a=C<=d?++M:--M)p.push(n[a].new);else c.push(z-C),N.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*P+2*p.length),I.writeUInt16(0),I.writeUInt16(W),I.writeUInt16(A),I.writeUInt16(h),I.writeUInt16(S),ee=0,E=f.length;ee<E;ee++)a=f[ee],I.writeUInt16(a);for(I.writeUInt16(0),se=0,H=k.length;se<H;se++)a=k[se],I.writeUInt16(a);for(ce=0,G=c.length;ce<G;ce++)l=c[ce],I.writeUInt16(l);for(pe=0,q=N.length;pe<q;pe++)j=N[pe],I.writeUInt16(j);for(Q=0,K=p.length;Q<K;Q++)m=p[Q],I.writeUInt16(m);return{charMap:n,subtable:I.data,maxGlyphID:b+1}}},e}(),uK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new yM(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=yM.encode(r,n),(i=new Uu).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),aBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),iBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),sBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),oBe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},lBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,l,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),l=new oBe(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),cBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),uBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),dK=[].slice,dBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Uu(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new hBe(c,d,h,u,f):new fBe(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),fBe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),hBe=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Uu(dK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),pBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,Zo),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),mBe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,m,x,g;for(a in n=uK.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},g=n.charMap)p[(c=g[a]).old]=c.new;for(v in h=n.maxGlyphID,o)v in p||(p[v]=h++);return d=function(y){var b,j;for(b in j={},y)j[y[b]]=b;return j}(p),f=Object.keys(d).sort(function(y,b){return y-b}),m=function(){var y,b,j;for(j=[],y=0,b=f.length;y<b;y++)l=f[y],j.push(d[l]);return j}(),i=this.font.glyf.encode(o,m,p),u=this.font.loca.encode(i.offsets,m),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Vt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const gBe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:G$e,AcroFormAppearance:Rt,AcroFormButton:xa,AcroFormCheckBox:vg,AcroFormChoiceField:Hd,AcroFormComboBox:qd,AcroFormEditBox:mg,AcroFormListBox:Wd,AcroFormPasswordField:xg,AcroFormPushButton:gg,AcroFormRadioButton:Gd,AcroFormTextField:ku,GState:Rv,ShadingPattern:du,TilingPattern:Ld,default:Vt,jsPDF:Vt},Symbol.toStringTag,{value:"Module"}));var vBe={exports:{}};const xBe=kM(gBe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return xBe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Ln<"u"?Ln:typeof window<"u"?window:typeof self<"u"?self:Ln,function(r){return function(){var n={172:function(l,c){var u=this&&this.__extends||function(){var h=function(p,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,x){m.__proto__=x}||function(m,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(m[g]=x[g])},h(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(p,v);function m(){this.constructor=p}p.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(p,v,m){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=m,this.doc=p.getDocument()}return h}();c.HookData=d;var f=function(h){u(p,h);function p(v,m,x,g,y,b){var j=h.call(this,v,m,b)||this;return j.cell=x,j.row=g,j.column=y,j.section=g.section,j}return p}(d);c.CellHookData=f},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),p=u(776),v=u(664),m=u(972);function x(g){g.API.autoTable=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var j;y.length===1?j=y[0]:(console.error("Use of deprecated autoTable initiation"),j=y[2]||{},j.columns=y[0],j.body=y[1]);var _=(0,p.parseInput)(this,j),N=(0,m.createTable)(this,_);return(0,v.drawTable)(this,N),this},g.API.lastAutoTable=!1,g.API.previousAutoTable=!1,g.API.autoTable.previous=!1,g.API.autoTableText=function(y,b,j,_){(0,f.default)(y,b,j,_,this)},g.API.autoTableSetDefaults=function(y){return h.DocHandler.setDefaults(y,this),this},g.autoTableSetDefaults=function(y,b){h.DocHandler.setDefaults(y,b)},g.API.autoTableHtmlToJson=function(y,b){var j;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var _=new h.DocHandler(this),N=(0,d.parseHtml)(_,y,window,b,!1),S=N.head,A=N.body,P=((j=S[0])===null||j===void 0?void 0:j.map(function(W){return W.content}))||[];return{columns:P,rows:A,data:A}},g.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},g.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),g.API.autoTable.globalDefaults||(g.API.autoTable.globalDefaults={}),g.API.autoTable.globalDefaults.addPageContent=y,this},g.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=x},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,f,h,p,v){p=p||{};var m=1.15,x=v.internal.scaleFactor,g=v.internal.getFontSize()/x,y=v.getLineHeightFactor?v.getLineHeightFactor():m,b=g*y,j=/\r\n|\r|\n/g,_="",N=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(_=typeof d=="string"?d.split(j):d,N=_.length||1),h+=g*(2-m),p.valign==="middle"?h-=N/2*b:p.valign==="bottom"&&(h-=N*b),p.halign==="center"||p.halign==="right"){var S=g;if(p.halign==="center"&&(S*=.5),_&&N>=1){for(var A=0;A<_.length;A++)v.text(_[A],f-v.getStringUnitWidth(_[A])*S,h),h+=b;return v}f-=v.getStringUnitWidth(d)*S}return p.halign==="justify"?v.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):v.text(d,f,h),v}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(v,m,x){x.applyStyles(m,!0);var g=Array.isArray(v)?v:[v],y=g.map(function(b){return x.getTextWidth(b)}).reduce(function(b,j){return Math.max(b,j)},0);return y}c.getStringWidth=u;function d(v,m,x,g){var y=m.settings.tableLineWidth,b=m.settings.tableLineColor;v.applyStyles({lineWidth:y,lineColor:b});var j=f(y,!1);j&&v.rect(x.x,x.y,m.getWidth(v.pageSize().width),g.y-x.y,j)}c.addTableBorder=d;function f(v,m){var x=v>0,g=m||m===0;return x&&g?"DF":x?"S":g?"F":null}c.getFillStyle=f;function h(v,m){var x,g,y,b;if(v=v||m,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=m}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(x=v.left)!==null&&x!==void 0?x:m,top:(g=v.top)!==null&&g!==void 0?g:m,right:(y=v.right)!==null&&y!==void 0?y:m,bottom:(b=v.bottom)!==null&&b!==void 0?b:m}):(typeof v!="number"&&(v=m),{top:v,right:v,bottom:v,left:v})}c.parseSpacing=h;function p(v,m){var x=h(m.settings.margin,0);return v.pageSize().width-(x.left+x.right)}c.getPageAvailableWidth=p},796:function(l,c){var u=this&&this.__extends||function(){var p=function(v,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,g){x.__proto__=g}||function(x,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(x[y]=g[y])},p(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(v,m);function x(){this.constructor=v}v.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(p){u(v,p);function v(m){var x=p.call(this)||this;return x._element=m,x}return v}(Array);c.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function h(p){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[p]}c.getTheme=h},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function f(x,g,y,b,j){var _={},N=1.3333333333333333,S=p(g,function(F){return j.getComputedStyle(F).backgroundColor});S!=null&&(_.fillColor=S);var A=p(g,function(F){return j.getComputedStyle(F).color});A!=null&&(_.textColor=A);var P=m(b,y);P&&(_.cellPadding=P);var W="borderTopColor",C=N*y,k=b.borderTopWidth;if(b.borderBottomWidth===k&&b.borderRightWidth===k&&b.borderLeftWidth===k){var z=(parseFloat(k)||0)/C;z&&(_.lineWidth=z)}else _.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/C,right:(parseFloat(b.borderRightWidth)||0)/C,bottom:(parseFloat(b.borderBottomWidth)||0)/C,left:(parseFloat(b.borderLeftWidth)||0)/C},_.lineWidth.top||(_.lineWidth.right?W="borderRightColor":_.lineWidth.bottom?W="borderBottomColor":_.lineWidth.left&&(W="borderLeftColor"));var I=p(g,function(F){return j.getComputedStyle(F)[W]});I!=null&&(_.lineColor=I);var R=["left","right","center","justify"];R.indexOf(b.textAlign)!==-1&&(_.halign=b.textAlign),R=["middle","bottom","top"],R.indexOf(b.verticalAlign)!==-1&&(_.valign=b.verticalAlign);var V=parseInt(b.fontSize||"");isNaN(V)||(_.fontSize=V/N);var L=h(b);L&&(_.fontStyle=L);var M=(b.fontFamily||"").toLowerCase();return x.indexOf(M)!==-1&&(_.font=M),_}c.parseCss=f;function h(x){var g="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(g="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(g+="italic"),g}function p(x,g){var y=v(x,g);if(!y)return null;var b=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var j=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],_=parseInt(b[4]);return _===0||isNaN(j[0])||isNaN(j[1])||isNaN(j[2])?null:j}function v(x,g){var y=g(x);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?x.parentElement==null?null:v(x.parentElement,g):y}function m(x,g){var y=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],b=96/(72/g),j=(parseInt(x.lineHeight)-parseInt(x.fontSize))/g/2,_=y.map(function(S){return parseInt(S||"0")/b}),N=(0,d.parseSpacing)(_,0);return j>N.top&&(N.top=j),j>N.bottom&&(N.bottom=j),N}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var v,m,x;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var g=this.jsPDFDocument.internal.getFont(),y=g.fontStyle,b=g.fontName;if(h.font&&(b=h.font),h.fontStyle){y=h.fontStyle;var j=this.getFontList()[b];j&&j.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j[0]),y=j[0])}if(this.jsPDFDocument.setFont(b,y),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var _=f.unifyColor(h.fillColor);_&&(v=this.jsPDFDocument).setFillColor.apply(v,_),_=f.unifyColor(h.textColor),_&&(m=this.jsPDFDocument).setTextColor.apply(m,_),_=f.unifyColor(h.lineColor),_&&(x=this.jsPDFDocument).setDrawColor.apply(x,_),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,v){return this.jsPDFDocument.splitTextToSize(h,p,v)},f.prototype.rect=function(h,p,v,m,x){return this.jsPDFDocument.rect(h,p,v,m,x)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=d},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),f=u(796);function h(m,x,g,y,b){var j,_;y===void 0&&(y=!1),b===void 0&&(b=!1);var N;typeof x=="string"?N=g.document.querySelector(x):N=x;var S=Object.keys(m.getFontList()),A=m.scaleFactor(),P=[],W=[],C=[];if(!N)return console.error("Html table could not be found with input: ",x),{head:P,body:W,foot:C};for(var k=0;k<N.rows.length;k++){var z=N.rows[k],I=(_=(j=z==null?void 0:z.parentElement)===null||j===void 0?void 0:j.tagName)===null||_===void 0?void 0:_.toLowerCase(),R=p(S,A,g,z,y,b);R&&(I==="thead"?P.push(R):I==="tfoot"?C.push(R):W.push(R))}return{head:P,body:W,foot:C}}c.parseHtml=h;function p(m,x,g,y,b,j){for(var _=new f.HtmlRowInput(y),N=0;N<y.cells.length;N++){var S=y.cells[N],A=g.getComputedStyle(S);if(b||A.display!=="none"){var P=void 0;j&&(P=(0,d.parseCss)(m,S,x,A,g)),_.push({rowSpan:S.rowSpan,colSpan:S.colSpan,styles:P,_element:S,content:v(S)})}}var W=g.getComputedStyle(y);if(_.length>0&&(b||W.display!=="none"))return _}function v(m){var x=m.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(g){return g.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),f=u(356),h=u(420),p=u(744),v=u(792);function m(N,S){var A=new p.DocHandler(N),P=A.getDocumentOptions(),W=A.getGlobalOptions();(0,v.default)(A,W,P,S);var C=(0,f.assign)({},W,P,S),k;typeof window<"u"&&(k=window);var z=x(W,P,S),I=g(W,P,S),R=y(A,C),V=j(A,C,k);return{id:S.tableId,content:V,hooks:I,styles:z,settings:R}}c.parseInput=m;function x(N,S,A){for(var P={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},W=function(I){if(I==="columnStyles"){var R=N[I],V=S[I],L=A[I];P.columnStyles=(0,f.assign)({},R,V,L)}else{var M=[N,S,A],F=M.map(function(U){return U[I]||{}});P[I]=(0,f.assign)({},F[0],F[1],F[2])}},C=0,k=Object.keys(P);C<k.length;C++){var z=k[C];W(z)}return P}function g(N,S,A){for(var P=[N,S,A],W={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},C=0,k=P;C<k.length;C++){var z=k[C];z.didParseCell&&W.didParseCell.push(z.didParseCell),z.willDrawCell&&W.willDrawCell.push(z.willDrawCell),z.didDrawCell&&W.didDrawCell.push(z.didDrawCell),z.willDrawPage&&W.willDrawPage.push(z.willDrawPage),z.didDrawPage&&W.didDrawPage.push(z.didDrawPage)}return W}function y(N,S){var A,P,W,C,k,z,I,R,V,L,M,F,U=(0,h.parseSpacing)(S.margin,40/N.scaleFactor()),X=(A=b(N,S.startY))!==null&&A!==void 0?A:U.top,E;S.showFoot===!0?E="everyPage":S.showFoot===!1?E="never":E=(P=S.showFoot)!==null&&P!==void 0?P:"everyPage";var H;S.showHead===!0?H="everyPage":S.showHead===!1?H="never":H=(W=S.showHead)!==null&&W!==void 0?W:"everyPage";var G=(C=S.useCss)!==null&&C!==void 0?C:!1,q=S.theme||(G?"plain":"striped"),K=!!S.horizontalPageBreak,ee=(k=S.horizontalPageBreakRepeat)!==null&&k!==void 0?k:null;return{includeHiddenHtml:(z=S.includeHiddenHtml)!==null&&z!==void 0?z:!1,useCss:G,theme:q,startY:X,margin:U,pageBreak:(I=S.pageBreak)!==null&&I!==void 0?I:"auto",rowPageBreak:(R=S.rowPageBreak)!==null&&R!==void 0?R:"auto",tableWidth:(V=S.tableWidth)!==null&&V!==void 0?V:"auto",showHead:H,showFoot:E,tableLineWidth:(L=S.tableLineWidth)!==null&&L!==void 0?L:0,tableLineColor:(M=S.tableLineColor)!==null&&M!==void 0?M:200,horizontalPageBreak:K,horizontalPageBreakRepeat:ee,horizontalPageBreakBehaviour:(F=S.horizontalPageBreakBehaviour)!==null&&F!==void 0?F:"afterAllRows"}}function b(N,S){var A=N.getLastAutoTable(),P=N.scaleFactor(),W=N.pageNumber(),C=!1;if(A&&A.startPageNumber){var k=A.startPageNumber+A.pageNumber-1;C=k===W}return typeof S=="number"?S:(S==null||S===!1)&&C&&(A==null?void 0:A.finalY)!=null?A.finalY+20/P:null}function j(N,S,A){var P=S.head||[],W=S.body||[],C=S.foot||[];if(S.html){var k=S.includeHiddenHtml;if(A){var z=(0,d.parseHtml)(N,S.html,A,k,S.useCss)||{};P=z.head||P,W=z.body||P,C=z.foot||P}else console.error("Cannot parse html in non browser environment")}var I=S.columns||_(P,W,C);return{columns:I,head:P,body:W,foot:C}}function _(N,S,A){var P=N[0]||S[0]||A[0]||[],W=[];return Object.keys(P).filter(function(C){return C!=="_element"}).forEach(function(C){var k=1,z;Array.isArray(P)?z=P[parseInt(C)]:z=P[C],typeof z=="object"&&!Array.isArray(z)&&(k=(z==null?void 0:z.colSpan)||1);for(var I=0;I<k;I++){var R=void 0;Array.isArray(P)?R=W.length:R=C+(I>0?"_".concat(I):"");var V={dataKey:R};W.push(V)}}),W}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,h,p,v){for(var m=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(C){f.applyStyles(f.userStyles),b.beforePageContent&&b.beforePageContent(C),f.applyStyles(f.userStyles),b.afterPageContent&&b.afterPageContent(C),f.applyStyles(f.userStyles),b.afterPageAdd&&C.pageNumber>1&&C.afterPageAdd(C),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(C){b[C]&&console.error('The "'.concat(C,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(C){var k=C[0],z=C[1];b[z]&&(console.error("Use of deprecated option ".concat(z,". Use ").concat(k," instead")),b[k]=b[z])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var k=typeof C=="string"?C:C[0],z=typeof C=="string"?C:C[1];typeof b[k]<"u"&&(typeof b.styles[z]>"u"&&(b.styles[z]=b[k]),console.error("Use of deprecated option: "+k+", use the style "+z+" instead."))});for(var j=0,_=["styles","bodyStyles","headStyles","footStyles"];j<_.length;j++){var N=_[j];d(b[N]||{})}for(var S=b.columnStyles||{},A=0,P=Object.keys(S);A<P.length;A++){var W=P[A];d(S[W]||{})}},x=0,g=[h,p,v];x<g.length;x++){var y=g[x];m(y)}}c.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),f=u(172),h=u(420),p=function(){function g(y,b){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return g.prototype.getHeadHeight=function(y){return this.head.reduce(function(b,j){return b+j.getMaxCellHeight(y)},0)},g.prototype.getFootHeight=function(y){return this.foot.reduce(function(b,j){return b+j.getMaxCellHeight(y)},0)},g.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},g.prototype.callCellHooks=function(y,b,j,_,N,S){for(var A=0,P=b;A<P.length;A++){var W=P[A],C=new f.CellHookData(y,this,j,_,N,S),k=W(C)===!1;if(j.text=Array.isArray(j.text)?j.text:[j.text],k)return!1}return!0},g.prototype.callEndPageHooks=function(y,b){y.applyStyles(y.userStyles);for(var j=0,_=this.hooks.didDrawPage;j<_.length;j++){var N=_[j];N(new f.HookData(y,this,b))}},g.prototype.callWillDrawPageHooks=function(y,b){for(var j=0,_=this.hooks.willDrawPage;j<_.length;j++){var N=_[j];N(new f.HookData(y,this,b))}},g.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(_,N){return _+N.wrappedWidth},0);return b}else{var j=this.settings.margin;return y-j.left-j.right}},g}();c.Table=p;var v=function(){function g(y,b,j,_,N){N===void 0&&(N=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=b,this.section=j,this.cells=_,this.spansMultiplePages=N}return g.prototype.getMaxCellHeight=function(y){var b=this;return y.reduce(function(j,_){var N;return Math.max(j,((N=b.cells[_.index])===null||N===void 0?void 0:N.height)||0)},0)},g.prototype.hasRowSpan=function(y){var b=this;return y.filter(function(j){var _=b.cells[j.index];return _?_.rowSpan>1:!1}).length>0},g.prototype.canEntireRowFit=function(y,b){return this.getMaxCellHeight(b)<=y},g.prototype.getMinimumRowHeight=function(y,b){var j=this;return y.reduce(function(_,N){var S=j.cells[N.index];if(!S)return 0;var A=b.getLineHeight(S.styles.fontSize),P=S.padding("vertical"),W=P+A;return W>_?W:_},0)},g}();c.Row=v;var m=function(){function g(y,b,j){var _,N;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=j,this.raw=y;var S=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,S=(N=(_=y.content)!==null&&_!==void 0?_:y.title)!==null&&N!==void 0?N:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var A=S!=null?""+S:"",P=/\r\n|\r|\n/g;this.text=A.split(P)}return g.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");y=this.y+b/2+this.padding("top")}var j;if(this.styles.halign==="right")j=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var _=this.width-this.padding("horizontal");j=this.x+_/2+this.padding("left")}else j=this.x+this.padding("left");return{x:j,y}},g.prototype.getContentHeight=function(y,b){b===void 0&&(b=1.15);var j=Array.isArray(this.text)?this.text.length:1,_=this.styles.fontSize/y*b,N=j*_+this.padding("vertical");return Math.max(N,this.styles.minCellHeight)},g.prototype.padding=function(y){var b=(0,h.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?b.top+b.bottom:y==="horizontal"?b.left+b.right:b[y]},g}();c.Cell=m;var x=function(){function g(y,b,j){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=b,this.index=j}return g.prototype.getMaxCustomCellWidth=function(y){for(var b=0,j=0,_=y.allRows();j<_.length;j++){var N=_[j],S=N.cells[this.index];S&&typeof S.styles.cellWidth=="number"&&(b=Math.max(b,S.styles.cellWidth))}return b},g}();c.Column=x},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,f,h,p,v){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(d),x=1;x<arguments.length;x++){var g=arguments[x];if(g!=null)for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])}return m}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),f=u(260),h=u(324),p=u(796),v=u(356);function m(N,S){var A=new d.DocHandler(N),P=x(S,A.scaleFactor()),W=new f.Table(S,P);return(0,h.calculateWidths)(A,W),A.applyStyles(A.userStyles),W}c.createTable=m;function x(N,S){var A=N.content,P=j(A.columns);if(A.head.length===0){var W=y(P,"head");W&&A.head.push(W)}if(A.foot.length===0){var W=y(P,"foot");W&&A.foot.push(W)}var C=N.settings.theme,k=N.styles;return{columns:P,head:g("head",A.head,P,k,C,S),body:g("body",A.body,P,k,C,S),foot:g("foot",A.foot,P,k,C,S)}}function g(N,S,A,P,W,C){var k={},z=S.map(function(I,R){for(var V=0,L={},M=0,F=0,U=0,X=A;U<X.length;U++){var E=X[U];if(k[E.index]==null||k[E.index].left===0)if(F===0){var H=void 0;Array.isArray(I)?H=I[E.index-M-V]:H=I[E.dataKey];var G={};typeof H=="object"&&!Array.isArray(H)&&(G=(H==null?void 0:H.styles)||{});var q=_(N,E,R,W,P,C,G),K=new f.Cell(H,q,N);L[E.dataKey]=K,L[E.index]=K,F=K.colSpan-1,k[E.index]={left:K.rowSpan-1,times:F}}else F--,M++;else k[E.index].left--,F=k[E.index].times,V++}return new f.Row(I,R,N,L)});return z}function y(N,S){var A={};return N.forEach(function(P){if(P.raw!=null){var W=b(S,P.raw);W!=null&&(A[P.dataKey]=W)}}),Object.keys(A).length>0?A:null}function b(N,S){if(N==="head"){if(typeof S=="object")return S.header||S.title||null;if(typeof S=="string"||typeof S=="number")return S}else if(N==="foot"&&typeof S=="object")return S.footer;return null}function j(N){return N.map(function(S,A){var P,W,C;return typeof S=="object"?C=(W=(P=S.dataKey)!==null&&P!==void 0?P:S.key)!==null&&W!==void 0?W:A:C=A,new f.Column(C,S,A)})}function _(N,S,A,P,W,C,k){var z=(0,p.getTheme)(P),I;N==="head"?I=W.headStyles:N==="body"?I=W.bodyStyles:N==="foot"&&(I=W.footStyles);var R=(0,v.assign)({},z.table,z[N],W.styles,I),V=W.columnStyles[S.dataKey]||W.columnStyles[S.index]||{},L=N==="body"?V:{},M=N==="body"&&A%2===0?(0,v.assign)({},z.alternateRow,W.alternateRowStyles):{},F=(0,p.defaultStyles)(C),U=(0,v.assign)({},F,R,M,L);return(0,v.assign)(U,k)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),f=u(260),h=u(744),p=u(356),v=u(136),m=u(224);function x(V,L){var M=L.settings,F=M.startY,U=M.margin,X={x:U.left,y:F},E=L.getHeadHeight(L.columns)+L.getFootHeight(L.columns),H=F+U.bottom+E;if(M.pageBreak==="avoid"){var G=L.body,q=G.reduce(function(se,J){return se+J.height},0);H+=q}var K=new h.DocHandler(V);(M.pageBreak==="always"||M.startY!=null&&H>K.pageSize().height)&&(R(K),X.y=U.top),L.callWillDrawPageHooks(K,X);var ee=(0,p.assign)({},X);L.startPageNumber=K.pageNumber(),M.horizontalPageBreak?g(K,L,ee,X):(K.applyStyles(K.userStyles),(M.showHead==="firstPage"||M.showHead==="everyPage")&&L.head.forEach(function(se){return W(K,L,se,X,L.columns)}),K.applyStyles(K.userStyles),L.body.forEach(function(se,J){var ce=J===L.body.length-1;P(K,L,se,ce,ee,X,L.columns)}),K.applyStyles(K.userStyles),(M.showFoot==="lastPage"||M.showFoot==="everyPage")&&L.foot.forEach(function(se){return W(K,L,se,X,L.columns)})),(0,d.addTableBorder)(K,L,ee,X),L.callEndPageHooks(K,X),L.finalY=X.y,V.lastAutoTable=L,V.previousAutoTable=L,V.autoTable&&(V.autoTable.previous=L),K.applyStyles(K.userStyles)}c.drawTable=x;function g(V,L,M,F){var U=(0,m.calculateAllColumnsCanFitInPage)(V,L),X=L.settings;if(X.horizontalPageBreakBehaviour==="afterAllRows")U.forEach(function(q,K){V.applyStyles(V.userStyles),K>0?I(V,L,M,F,q.columns,!0):y(V,L,F,q.columns),b(V,L,M,F,q.columns),_(V,L,F,q.columns)});else for(var E=-1,H=U[0],G=function(){var q=E;if(H){V.applyStyles(V.userStyles);var K=H.columns;E>=0?I(V,L,M,F,K,!0):y(V,L,F,K),q=j(V,L,E+1,F,K),_(V,L,F,K)}var ee=q-E;U.slice(1).forEach(function(se){V.applyStyles(V.userStyles),I(V,L,M,F,se.columns,!0),j(V,L,E+1,F,se.columns,ee),_(V,L,F,se.columns)}),E=q};E<L.body.length-1;)G()}function y(V,L,M,F){var U=L.settings;V.applyStyles(V.userStyles),(U.showHead==="firstPage"||U.showHead==="everyPage")&&L.head.forEach(function(X){return W(V,L,X,M,F)})}function b(V,L,M,F,U){V.applyStyles(V.userStyles),L.body.forEach(function(X,E){var H=E===L.body.length-1;P(V,L,X,H,M,F,U)})}function j(V,L,M,F,U,X){V.applyStyles(V.userStyles),X=X??L.body.length;var E=Math.min(M+X,L.body.length),H=-1;return L.body.slice(M,E).forEach(function(G,q){var K=M+q===L.body.length-1,ee=z(V,L,K,F);G.canEntireRowFit(ee,U)&&(W(V,L,G,F,U),H=M+q)}),H}function _(V,L,M,F){var U=L.settings;V.applyStyles(V.userStyles),(U.showFoot==="lastPage"||U.showFoot==="everyPage")&&L.foot.forEach(function(X){return W(V,L,X,M,F)})}function N(V,L,M){var F=M.getLineHeight(V.styles.fontSize),U=V.padding("vertical"),X=Math.floor((L-U)/F);return Math.max(0,X)}function S(V,L,M,F){var U={};V.spansMultiplePages=!0,V.height=0;for(var X=0,E=0,H=M.columns;E<H.length;E++){var G=H[E],q=V.cells[G.index];if(q){Array.isArray(q.text)||(q.text=[q.text]);var K=new f.Cell(q.raw,q.styles,q.section);K=(0,p.assign)(K,q),K.text=[];var ee=N(q,L,F);q.text.length>ee&&(K.text=q.text.splice(ee,q.text.length));var se=F.scaleFactor(),J=F.getLineHeightFactor();q.contentHeight=q.getContentHeight(se,J),q.contentHeight>=L&&(q.contentHeight=L,K.styles.minCellHeight-=L),q.contentHeight>V.height&&(V.height=q.contentHeight),K.contentHeight=K.getContentHeight(se,J),K.contentHeight>X&&(X=K.contentHeight),U[G.index]=K}}var ce=new f.Row(V.raw,-1,V.section,U,!0);ce.height=X;for(var pe=0,Q=M.columns;pe<Q.length;pe++){var G=Q[pe],K=ce.cells[G.index];K&&(K.height=ce.height);var q=V.cells[G.index];q&&(q.height=V.height)}return ce}function A(V,L,M,F){var U=V.pageSize().height,X=F.settings.margin,E=X.top+X.bottom,H=U-E;L.section==="body"&&(H-=F.getHeadHeight(F.columns)+F.getFootHeight(F.columns));var G=L.getMinimumRowHeight(F.columns,V),q=G<M;if(G>H)return console.error("Will not be able to print row ".concat(L.index," correctly since it's minimum height is larger than page height")),!0;if(!q)return!1;var K=L.hasRowSpan(F.columns),ee=L.getMaxCellHeight(F.columns)>H;return ee?(K&&console.error("The content of row ".concat(L.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(K||F.settings.rowPageBreak==="avoid")}function P(V,L,M,F,U,X,E){var H=z(V,L,F,X);if(M.canEntireRowFit(H,E))W(V,L,M,X,E);else if(A(V,M,H,L)){var G=S(M,H,L,V);W(V,L,M,X,E),I(V,L,U,X,E),P(V,L,G,F,U,X,E)}else I(V,L,U,X,E),P(V,L,M,F,U,X,E)}function W(V,L,M,F,U){F.x=L.settings.margin.left;for(var X=0,E=U;X<E.length;X++){var H=E[X],G=M.cells[H.index];if(!G){F.x+=H.width;continue}V.applyStyles(G.styles),G.x=F.x,G.y=F.y;var q=L.callCellHooks(V,L.hooks.willDrawCell,G,M,H,F);if(q===!1){F.x+=H.width;continue}C(V,G,F);var K=G.getTextPos();(0,v.default)(G.text,K.x,K.y,{halign:G.styles.halign,valign:G.styles.valign,maxWidth:Math.ceil(G.width-G.padding("left")-G.padding("right"))},V.getDocument()),L.callCellHooks(V,L.hooks.didDrawCell,G,M,H,F),F.x+=H.width}F.y+=M.height}function C(V,L,M){var F=L.styles;if(V.getDocument().setFillColor(V.getDocument().getFillColor()),typeof F.lineWidth=="number"){var U=(0,d.getFillStyle)(F.lineWidth,F.fillColor);U&&V.rect(L.x,M.y,L.width,L.height,U)}else typeof F.lineWidth=="object"&&(F.fillColor&&V.rect(L.x,M.y,L.width,L.height,"F"),k(V,L,M,F.lineWidth))}function k(V,L,M,F){var U,X,E,H;F.top&&(U=M.x,X=M.y,E=M.x+L.width,H=M.y,F.right&&(E+=.5*F.right),F.left&&(U-=.5*F.left),G(F.top,U,X,E,H)),F.bottom&&(U=M.x,X=M.y+L.height,E=M.x+L.width,H=M.y+L.height,F.right&&(E+=.5*F.right),F.left&&(U-=.5*F.left),G(F.bottom,U,X,E,H)),F.left&&(U=M.x,X=M.y,E=M.x,H=M.y+L.height,F.top&&(X-=.5*F.top),F.bottom&&(H+=.5*F.bottom),G(F.left,U,X,E,H)),F.right&&(U=M.x+L.width,X=M.y,E=M.x+L.width,H=M.y+L.height,F.top&&(X-=.5*F.top),F.bottom&&(H+=.5*F.bottom),G(F.right,U,X,E,H));function G(q,K,ee,se,J){V.getDocument().setLineWidth(q),V.getDocument().line(K,ee,se,J,"S")}}function z(V,L,M,F){var U=L.settings.margin.bottom,X=L.settings.showFoot;return(X==="everyPage"||X==="lastPage"&&M)&&(U+=L.getFootHeight(L.columns)),V.pageSize().height-F.y-U}function I(V,L,M,F,U,X){U===void 0&&(U=[]),X===void 0&&(X=!1),V.applyStyles(V.userStyles),L.settings.showFoot==="everyPage"&&!X&&L.foot.forEach(function(H){return W(V,L,H,F,U)}),L.callEndPageHooks(V,F);var E=L.settings.margin;(0,d.addTableBorder)(V,L,M,F),R(V),L.pageNumber++,L.pageCount++,F.x=E.left,F.y=E.top,M.y=E.top,L.callWillDrawPageHooks(V,F),L.settings.showHead==="everyPage"&&(L.head.forEach(function(H){return W(V,L,H,F,U)}),V.applyStyles(V.userStyles))}c.addPage=I;function R(V){var L=V.pageNumber();V.setPage(L+1);var M=V.pageNumber();return M===L?(V.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(p,v,m){var x;m===void 0&&(m={});var g=(0,d.getPageAvailableWidth)(p,v),y=new Map,b=[],j=[],_=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?_=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(_=[v.settings.horizontalPageBreakRepeat]),_.forEach(function(P){var W=v.columns.find(function(C){return C.dataKey===P||C.index===P});W&&!y.has(W.index)&&(y.set(W.index,!0),b.push(W.index),j.push(v.columns[W.index]),g-=W.wrappedWidth)});for(var N=!0,S=(x=m==null?void 0:m.start)!==null&&x!==void 0?x:0;S<v.columns.length;){if(y.has(S)){S++;continue}var A=v.columns[S].wrappedWidth;if(N||g>=A)N=!1,b.push(S),j.push(v.columns[S]),g-=A;else break;S++}return{colIndexes:b,columns:j,lastIndex:S-1}}function h(p,v){for(var m=[],x=0;x<v.columns.length;x++){var g=f(p,v,{start:x});g.columns.length&&(m.push(g),x=g.lastIndex)}return m}c.calculateAllColumnsCanFitInPage=h},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function f(b,j){h(b,j);var _=[],N=0;j.columns.forEach(function(A){var P=A.getMaxCustomCellWidth(j);P?A.width=P:(A.width=A.wrappedWidth,_.push(A)),N+=A.width});var S=j.getWidth(b.pageSize().width)-N;S&&(S=p(_,S,function(A){return Math.max(A.minReadableWidth,A.minWidth)})),S&&(S=p(_,S,function(A){return A.minWidth})),S=Math.abs(S),!j.settings.horizontalPageBreak&&S>.1/b.scaleFactor()&&(S=S<1?S:Math.round(S),console.warn("Of the table content, ".concat(S," units width could not fit page"))),m(j),x(j,b),v(j)}c.calculateWidths=f;function h(b,j){var _=b.scaleFactor(),N=j.settings.horizontalPageBreak,S=(0,d.getPageAvailableWidth)(b,j);j.allRows().forEach(function(A){for(var P=0,W=j.columns;P<W.length;P++){var C=W[P],k=A.cells[C.index];if(k){var z=j.hooks.didParseCell;j.callCellHooks(b,z,k,A,C,null);var I=k.padding("horizontal");k.contentWidth=(0,d.getStringWidth)(k.text,k.styles,b)+I;var R=(0,d.getStringWidth)(k.text.join(" ").split(/[^\S\u00A0]+/),k.styles,b);if(k.minReadableWidth=R+k.padding("horizontal"),typeof k.styles.cellWidth=="number")k.minWidth=k.styles.cellWidth,k.wrappedWidth=k.styles.cellWidth;else if(k.styles.cellWidth==="wrap"||N===!0)k.contentWidth>S?(k.minWidth=S,k.wrappedWidth=S):(k.minWidth=k.contentWidth,k.wrappedWidth=k.contentWidth);else{var V=10/_;k.minWidth=k.styles.minCellWidth||V,k.wrappedWidth=k.contentWidth,k.minWidth>k.wrappedWidth&&(k.wrappedWidth=k.minWidth)}}}}),j.allRows().forEach(function(A){for(var P=0,W=j.columns;P<W.length;P++){var C=W[P],k=A.cells[C.index];if(k&&k.colSpan===1)C.wrappedWidth=Math.max(C.wrappedWidth,k.wrappedWidth),C.minWidth=Math.max(C.minWidth,k.minWidth),C.minReadableWidth=Math.max(C.minReadableWidth,k.minReadableWidth);else{var z=j.styles.columnStyles[C.dataKey]||j.styles.columnStyles[C.index]||{},I=z.cellWidth||z.minCellWidth;I&&typeof I=="number"&&(C.minWidth=I,C.wrappedWidth=I)}k&&(k.colSpan>1&&!C.minWidth&&(C.minWidth=k.minWidth),k.colSpan>1&&!C.wrappedWidth&&(C.wrappedWidth=k.minWidth))}})}function p(b,j,_){for(var N=j,S=b.reduce(function(V,L){return V+L.wrappedWidth},0),A=0;A<b.length;A++){var P=b[A],W=P.wrappedWidth/S,C=N*W,k=P.width+C,z=_(P),I=k<z?z:k;j-=I-P.width,P.width=I}if(j=Math.round(j*1e10)/1e10,j){var R=b.filter(function(V){return j<0?V.width>_(V):!0});R.length&&(j=p(R,j,_))}return j}c.resizeColumns=p;function v(b){for(var j={},_=1,N=b.allRows(),S=0;S<N.length;S++)for(var A=N[S],P=0,W=b.columns;P<W.length;P++){var C=W[P],k=j[C.index];if(_>1)_--,delete A.cells[C.index];else if(k)k.cell.height+=A.height,_=k.cell.colSpan,delete A.cells[C.index],k.left--,k.left<=1&&delete j[C.index];else{var z=A.cells[C.index];if(!z)continue;if(z.height=A.height,z.rowSpan>1){var I=N.length-S,R=z.rowSpan>I?I:z.rowSpan;j[C.index]={cell:z,left:R,row:A}}}}}function m(b){for(var j=b.allRows(),_=0;_<j.length;_++)for(var N=j[_],S=null,A=0,P=0,W=0;W<b.columns.length;W++){var C=b.columns[W];if(P-=1,P>1&&b.columns[W+1])A+=C.width,delete N.cells[C.index];else if(S){var k=S;delete N.cells[C.index],S=null,k.width=C.width+A}else{var k=N.cells[C.index];if(!k)continue;if(P=k.colSpan,A=0,k.colSpan>1){S=k,A+=C.width;continue}k.width=C.width+A}}}function x(b,j){for(var _={count:0,height:0},N=0,S=b.allRows();N<S.length;N++){for(var A=S[N],P=0,W=b.columns;P<W.length;P++){var C=W[P],k=A.cells[C.index];if(k){j.applyStyles(k.styles,!0);var z=k.width-k.padding("horizontal");if(k.styles.overflow==="linebreak")k.text=j.splitTextToSize(k.text,z+1/j.scaleFactor(),{fontSize:k.styles.fontSize});else if(k.styles.overflow==="ellipsize")k.text=g(k.text,z,k.styles,j,"...");else if(k.styles.overflow==="hidden")k.text=g(k.text,z,k.styles,j,"");else if(typeof k.styles.overflow=="function"){var I=k.styles.overflow(k.text,z);typeof I=="string"?k.text=[I]:k.text=I}k.contentHeight=k.getContentHeight(j.scaleFactor(),j.getLineHeightFactor());var R=k.contentHeight/k.rowSpan;k.rowSpan>1&&_.count*_.height<R*k.rowSpan?_={height:R,count:k.rowSpan}:_&&_.count>0&&_.height>R&&(R=_.height),R>A.height&&(A.height=R)}}_.count--}}function g(b,j,_,N,S){return b.map(function(A){return y(A,j,_,N,S)})}c.ellipsize=g;function y(b,j,_,N,S){var A=1e4*N.scaleFactor();if(j=Math.ceil(j*A)/A,j>=(0,d.getStringWidth)(b,_,N))return b;for(;j<(0,d.getStringWidth)(b+S,_,N)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+S}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var u=a[l]={exports:{}};return n[l].call(u.exports,u,u.exports,i),u.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),u=i(776),d=i(664),f=i(972),h=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return h.Table}});var p=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var v=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return v.Row}});function m(j){(0,c.default)(j)}l.applyPlugin=m;function x(j,_){var N=(0,u.parseInput)(j,_),S=(0,f.createTable)(j,N);(0,d.drawTable)(j,S)}function g(j,_){var N=(0,u.parseInput)(j,_);return(0,f.createTable)(j,N)}l.__createTable=g;function y(j,_){(0,d.drawTable)(j,_)}l.__drawTable=y;try{var b=i(964);b.jsPDF&&(b=b.jsPDF),m(b)}catch{}l.default=x}(),o}()})})(vBe);const gy=async(e,t,r=null,n=null)=>{try{await je.from("activity_logs").insert([{action:e,details:t,entity_type:r,entity_id:n}])}catch(a){console.error("Failed to log activity:",a)}},yBe=()=>{const{toast:e}=Tr(),[t,r]=O.useState(!1);O.useState("pdf");const n=async()=>{r(!0);try{const{data:l}=await je.from("students").select("*"),c=new Vt;c.text("Student Report",14,15);const u=l.map(d=>[d.name,d.class,d.teacher,d.father_phone||"N/A"]);c.autoTable({head:[["Name","Class","Teacher","Contact"]],body:u,startY:20}),c.save(`students_report_${new Date().toISOString().split("T")[0]}.pdf`),await gy("Generated Student Report","PDF export of all students"),e({title:"Success",description:"Report generated successfully"})}catch(l){console.error(l),e({variant:"destructive",title:"Error",description:"Failed to generate report"})}finally{r(!1)}},a=async()=>{r(!0);try{const{data:l}=await je.from("issues").select("*, students(name)"),c=new Vt;c.text("Issues Report",14,15);const u=l.map(d=>{var f;return[d.title,(f=d.students)==null?void 0:f.name,d.priority,d.status,new Date(d.created_at).toLocaleDateString()]});c.autoTable({head:[["Title","Student","Priority","Status","Date"]],body:u,startY:20,styles:{fontSize:8}}),c.save(`issues_report_${new Date().toISOString().split("T")[0]}.pdf`),await gy("Generated Issues Report","PDF export of all issues"),e({title:"Success",description:"Report generated successfully"})}catch{e({variant:"destructive",title:"Error",description:"Failed to generate report"})}finally{r(!1)}},i=async l=>{r(!0);try{const{data:c}=await je.from(l).select("*");if(!c||c.length===0){e({title:"No Data",description:"No records to export"});return}const u=Object.keys(c[0]).join(","),d=c.map(m=>Object.values(m).map(x=>`"${x}"`).join(",")),f=[u,...d].join(`
`),h=new Blob([f],{type:"text/csv"}),p=window.URL.createObjectURL(h),v=document.createElement("a");v.href=p,v.download=`${l}_export_${new Date().toISOString().split("T")[0]}.csv`,v.click(),await gy(`Exported ${l}`,"CSV export"),e({title:"Success",description:"CSV exported successfully"})}catch{e({variant:"destructive",title:"Error",description:"Export failed"})}finally{r(!1)}},o=async()=>{r(!0);try{const l=["students","issues","grades","meetings","call_logs","teacher_remarks","attendance"],c={};for(const h of l){const{data:p}=await je.from(h).select("*");c[h]=p}const u=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),d=window.URL.createObjectURL(u),f=document.createElement("a");f.href=d,f.download=`full_backup_${new Date().toISOString()}.json`,f.click(),await gy("System Backup","Full system JSON export"),e({title:"Backup Complete",description:"System data downloaded"})}catch{e({variant:"destructive",title:"Error",description:"Backup failed"})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Reports & Exports"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Generate insights and manage data exports"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(Ss,{size:20})," PDF Reports"]}),s.jsx(wa,{children:"Formatted documents for printing"})]}),s.jsxs(Ze,{className:"space-y-3",children:[s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:n,disabled:t,children:["All Students List ",s.jsx(Sd,{size:16})]}),s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:a,disabled:t,children:["Issues Report ",s.jsx(Sd,{size:16})]})]})]}),s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(J$,{size:20})," Data Exports (CSV)"]}),s.jsx(wa,{children:"Raw data for analysis in Excel"})]}),s.jsxs(Ze,{className:"space-y-3",children:[s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:()=>i("students"),disabled:t,children:["Students Data ",s.jsx(Sd,{size:16})]}),s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:()=>i("grades"),disabled:t,children:["Grades Data ",s.jsx(Sd,{size:16})]}),s.jsxs(Se,{variant:"outline",className:"w-full justify-between",onClick:()=>i("attendance"),disabled:t,children:["Attendance Data ",s.jsx(Sd,{size:16})]})]})]}),s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(n3,{size:20})," System"]}),s.jsx(wa,{children:"Backup and maintenance"})]}),s.jsx(Ze,{className:"space-y-3",children:s.jsx(Se,{className:"w-full bg-slate-800 hover:bg-slate-700",onClick:o,disabled:t,children:"Full System Backup (JSON)"})})]})]})]})},bBe=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{const{data:i}=await je.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(50);t(i||[]),n(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Activity Log"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Recent system actions and audits"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b bg-slate-50 flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[s.jsx(ure,{size:18})," Recent Actions"]}),s.jsx("span",{className:"text-xs text-slate-500",children:"Last 50 records"})]}),s.jsx("div",{className:"divide-y divide-slate-100",children:e.length===0?s.jsx("div",{className:"p-8 text-center text-slate-500",children:"No activity recorded yet."}):e.map(i=>s.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-800",children:i.action}),s.jsx("p",{className:"text-sm text-slate-600",children:i.details})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"text-xs text-slate-400",children:new Date(i.created_at).toLocaleString()})})]})},i.id))})]})]})},wBe=[{value:"text",label:"Short Text",icon:wre},{value:"textarea",label:"Long Text",icon:Yte},{value:"number",label:"Number",icon:cre},{value:"date",label:"Date",icon:Cs},{value:"select",label:"Dropdown",icon:r3},{value:"checkbox",label:"Checkbox",icon:jN}],_Be=()=>{const{toast:e}=Tr(),[t,r]=O.useState([]),[n,a]=O.useState(!1),[i,o]=O.useState(null),[l,c]=O.useState({name:"",description:"",schema:[]});O.useEffect(()=>{u()},[]);const u=async()=>{const{data:x,error:g}=await je.from("assessment_templates").select("*").order("created_at",{ascending:!1});g||r(x||[])},d=()=>{c(x=>({...x,schema:[...x.schema,{id:crypto.randomUUID(),type:"text",label:"New Question",required:!1,options:[]}]}))},f=x=>{const g=[...l.schema];g.splice(x,1),c(y=>({...y,schema:g}))},h=(x,g,y)=>{const b=[...l.schema];b[x]={...b[x],[g]:y},c(j=>({...j,schema:b}))},p=async()=>{if(!l.name){e({variant:"destructive",title:"Error",description:"Template name is required"});return}const{error:x}=await je.from("assessment_templates").upsert([l]);x?e({variant:"destructive",title:"Error",description:"Failed to save template"}):(e({title:"Success",description:"Template saved successfully"}),a(!1),c({name:"",description:"",schema:[]}),u())},v=x=>{c(x),a(!0)},m=async x=>{const{error:g}=await je.from("assessment_templates").delete().eq("id",x);g||(e({title:"Deleted",description:"Template removed"}),o(null),u())};return n?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l.id?"Edit Template":"New Template"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(Se,{onClick:p,children:[s.jsx(hw,{className:"mr-2 h-4 w-4"})," Save Template"]})]})]}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Template Name"}),s.jsx(We,{value:l.name,onChange:x=>c(g=>({...g,name:x.target.value})),placeholder:"e.g., Weekly Gemara Assessment"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Description"}),s.jsx(We,{value:l.description,onChange:x=>c(g=>({...g,description:x.target.value})),placeholder:"Brief description of this template"})]})]})}),s.jsx("div",{className:"space-y-4",children:l.schema.map((x,g)=>{var y;return s.jsxs(Qe,{className:"relative group",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-slate-300 rounded-l-lg group-hover:bg-blue-500 transition-colors"}),s.jsxs(Ze,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"flex items-center gap-2 text-slate-400",children:s.jsxs("span",{className:"text-xs font-mono",children:["#",g+1]})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-600",onClick:()=>f(g),children:s.jsx(Qa,{size:16})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[s.jsxs("div",{className:"md:col-span-6",children:[s.jsx(be,{children:"Field Label / Question"}),s.jsx(We,{value:x.label,onChange:b=>h(g,"label",b.target.value),placeholder:"Enter question here..."})]}),s.jsxs("div",{className:"md:col-span-4",children:[s.jsx(be,{children:"Field Type"}),s.jsxs(_t,{value:x.type,onValueChange:b=>h(g,"type",b),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:wBe.map(b=>s.jsx(De,{value:b.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b.icon,{size:14})," ",b.label]})},b.value))})]})]}),s.jsx("div",{className:"md:col-span-2 flex items-center pt-6",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[s.jsx("input",{type:"checkbox",checked:x.required,onChange:b=>h(g,"required",b.target.checked),className:"rounded border-slate-300"}),"Required"]})}),x.type==="select"&&s.jsxs("div",{className:"md:col-span-12 bg-slate-50 p-3 rounded-md",children:[s.jsx(be,{className:"text-xs text-slate-500",children:"Options (comma separated)"}),s.jsx(We,{value:((y=x.options)==null?void 0:y.join(", "))||"",onChange:b=>h(g,"options",b.target.value.split(",").map(j=>j.trim())),placeholder:"Option 1, Option 2, Option 3"})]})]})]})]},x.id)})}),s.jsxs(Se,{variant:"outline",className:"w-full py-8 border-dashed",onClick:d,children:[s.jsx(on,{className:"mr-2 h-4 w-4"})," Add Field"]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Assessment Templates"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Create and manage custom evaluation forms"})]}),s.jsxs(Se,{onClick:()=>a(!0),children:[s.jsx(on,{className:"mr-2 h-4 w-4"})," Create New Template"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(x=>{var g;return s.jsxs(Qe,{className:"hover:shadow-lg transition-all",children:[s.jsxs(er,{children:[s.jsx(tr,{children:x.name}),s.jsx("p",{className:"text-sm text-slate-500",children:x.description||"No description"})]}),s.jsx(Ze,{children:s.jsxs("p",{className:"text-xs text-slate-400",children:[((g=x.schema)==null?void 0:g.length)||0," fields configured"]})}),s.jsxs(ev,{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"outline",size:"sm",onClick:()=>v(x),children:"Edit"}),i===x.id?s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{size:"sm",variant:"destructive",onClick:()=>m(x.id),children:"Confirm"}),s.jsx(Se,{size:"sm",variant:"outline",onClick:()=>o(null),children:"Cancel"})]}):s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>o(x.id),children:"Delete"})]})]},x.id)}),t.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-slate-400 bg-slate-50 rounded-lg border-2 border-dashed",children:"No templates found. Create one to get started."})]})]})},jBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(!0),[p,v]=O.useState(!1),[m,x]=O.useState(null),[g,y]=O.useState({name:"",grade_id:"",hebrew_teacher_id:"",english_teacher_id:"",academic_year:"2024-2025",is_active:!0}),[b,j]=O.useState(!1),[_,N]=O.useState(null),[S,A]=O.useState(""),[P,W]=O.useState(!1);O.useEffect(()=>{C()},[]);const C=async()=>{h(!0);try{const{data:X,error:E}=await je.from("classes").select(`
          *,
          grade:grades(id, name, grade_number),
          hebrew_teacher:app_users!hebrew_teacher_id(id, first_name, last_name),
          english_teacher:app_users!english_teacher_id(id, first_name, last_name),
          students:students!class_id(id)
        `).order("name");if(E)throw E;const H=(X||[]).map(ce=>{var pe;return{...ce,student_count:((pe=ce.students)==null?void 0:pe.length)||0}});a(H);const{data:G,error:q}=await je.from("grades").select("*").order("grade_number");if(q)throw q;o(G||[]);const{data:K,error:ee}=await je.from("app_users").select("id, first_name, last_name, role").in("role",["teacher_hebrew","teacher_english","teacher","admin","principal","principal_hebrew","principal_english"]).eq("is_active",!0).order("last_name");if(ee)throw ee;c(K||[]);const{data:se,error:J}=await je.from("staff_members").select("*").eq("is_active",!0).order("last_name");J||(d(se||[]),console.log("Staff loaded:",se==null?void 0:se.length,"members"))}catch(X){console.error("Error loading data:",X),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{h(!1)}},k=(X=null)=>{X?(x(X),y({name:X.name||"",grade_id:X.grade_id||"",hebrew_teacher_id:X.hebrew_teacher_id||"",english_teacher_id:X.english_teacher_id||"",academic_year:X.academic_year||"2024-2025",is_active:X.is_active!==!1})):(x(null),y({name:"",grade_id:"",hebrew_teacher_id:"",english_teacher_id:"",academic_year:"2024-2025",is_active:!0})),v(!0)},z=async()=>{if(!g.name||!g.grade_id){r({variant:"destructive",title:"Error",description:"Please fill in class name and grade"});return}try{const X={name:g.name,grade_id:g.grade_id,hebrew_teacher_id:g.hebrew_teacher_id||null,english_teacher_id:g.english_teacher_id||null,academic_year:g.academic_year,is_active:g.is_active};if(m){const{error:E}=await je.from("classes").update(X).eq("id",m.id);if(E)throw E;r({title:"Success",description:"Class updated"})}else{const{error:E}=await je.from("classes").insert([X]);if(E)throw E;r({title:"Success",description:"Class created"})}v(!1),C()}catch(X){console.error("Error saving class:",X),r({variant:"destructive",title:"Error",description:"Failed to save class"})}},I=async X=>{if(confirm("Are you sure you want to delete this class? Students will be unassigned."))try{const{error:E}=await je.from("classes").delete().eq("id",X);if(E)throw E;r({title:"Success",description:"Class deleted"}),C()}catch(E){console.error("Error deleting class:",E),r({variant:"destructive",title:"Error",description:"Failed to delete class"})}},R=X=>{N(X),A(""),j(!0)},V=X=>{if(!(X!=null&&X.grade))return[];const E=X.grade.grade_number,H=i.find(G=>G.grade_number===E+1);return H?n.filter(G=>G.grade_id===H.id):[]},L=async()=>{if(!_||!S){r({variant:"destructive",title:"Error",description:"Please select a target class"});return}W(!0);try{const{data:X,error:E}=await je.from("students").select("id").eq("class_id",_.id);if(E)throw E;if(!X||X.length===0){r({variant:"destructive",title:"No Students",description:"No students to promote in this class"}),W(!1);return}const{error:H}=await je.from("students").update({class_id:S,previous_class_id:_.id,promoted_at:new Date().toISOString(),promoted_by:t==null?void 0:t.id}).eq("class_id",_.id);if(H)throw H;r({title:"Success",description:`${X.length} students promoted to new class`}),j(!1),C()}catch(X){console.error("Error promoting students:",X),r({variant:"destructive",title:"Error",description:"Failed to promote students"})}finally{W(!1)}},M=u.filter(X=>["Melamed","Melamed / Driver","Menahal","Sgan Menahal","Principal","Chinuch Mychud"].includes(X.position)),F=u.filter(X=>["English Teacher","Principal","Menahal","Sgan Menahal","Curriculum Implementer"].includes(X.position)),U=i.map(X=>({...X,classes:n.filter(E=>E.grade_id===X.id)}));return f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Classes Management"}),s.jsx("p",{className:"text-slate-500",children:"Manage classes and assign teachers"})]}),s.jsxs(Se,{onClick:()=>k(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Class"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(f0,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Classes"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((X,E)=>X+E.student_count,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Students"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(t3,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Grade Levels"})]})]})})]}),s.jsx("div",{className:"space-y-6",children:U.map(X=>s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:X.name}),s.jsxs(Ft,{variant:"outline",children:[X.classes.length," classes"]})]})}),s.jsx(Ze,{children:X.classes.length===0?s.jsx("p",{className:"text-slate-400 text-sm italic py-4",children:"No classes in this grade yet"}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Class Name"}),s.jsx(lt,{children:"Hebrew Teacher"}),s.jsx(lt,{children:"English Teacher"}),s.jsx(lt,{className:"text-center",children:"Students"}),s.jsx(lt,{className:"text-center",children:"Year"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsx($a,{children:X.classes.map(E=>{var H,G,q,K;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-semibold",children:E.name}),s.jsx(it,{children:E.hebrew_teacher?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"h-7 w-7 rounded-full bg-blue-100 flex items-center justify-center text-xs text-blue-700 font-medium",children:[(H=E.hebrew_teacher.first_name)==null?void 0:H.charAt(0),(G=E.hebrew_teacher.last_name)==null?void 0:G.charAt(0)]}),s.jsxs("span",{className:"text-sm",children:[E.hebrew_teacher.first_name," ",E.hebrew_teacher.last_name]})]}):s.jsx("span",{className:"text-slate-400 text-sm",children:"Not assigned"})}),s.jsx(it,{children:E.english_teacher?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"h-7 w-7 rounded-full bg-green-100 flex items-center justify-center text-xs text-green-700 font-medium",children:[(q=E.english_teacher.first_name)==null?void 0:q.charAt(0),(K=E.english_teacher.last_name)==null?void 0:K.charAt(0)]}),s.jsxs("span",{className:"text-sm",children:[E.english_teacher.first_name," ",E.english_teacher.last_name]})]}):s.jsx("span",{className:"text-slate-400 text-sm",children:"Not assigned"})}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:"secondary",children:E.student_count})}),s.jsx(it,{className:"text-center text-sm text-slate-500",children:E.academic_year}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"ghost",size:"sm",className:"text-purple-600",onClick:()=>R(E),title:"Promote students to next grade",children:s.jsx(z5,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>k(E),children:s.jsx(ja,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>I(E.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},E.id)})})]})})]},X.id))}),i.length===0&&s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-12 text-center text-slate-500",children:[s.jsx(f0,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No grades defined yet"}),s.jsx("p",{className:"text-sm",children:"Please create grade levels first in the Grades section"})]})}),s.jsx(pr,{open:p,onOpenChange:v,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:m?"Edit Class":"Add New Class"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Class Name *"}),s.jsx(We,{value:g.name,onChange:X=>y({...g,name:X.target.value}),placeholder:"e.g., 1A, 2B"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Grade *"}),s.jsxs(_t,{value:g.grade_id,onValueChange:X=>y({...g,grade_id:X}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select grade"})}),s.jsx(yt,{children:i.map(X=>s.jsx(De,{value:X.id,children:X.name},X.id))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["Hebrew Teacher (",M.length," available)"]}),s.jsxs(_t,{value:g.hebrew_teacher_id||"none",onValueChange:X=>y({...g,hebrew_teacher_id:X==="none"?"":X}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select Hebrew teacher"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"none",children:"Not assigned"}),M.length===0?s.jsx(De,{value:"no-teachers",disabled:!0,children:"No Hebrew teachers in staff"}):M.map(X=>s.jsxs(De,{value:X.id,children:[X.first_name," ",X.last_name," (",X.position,")"]},X.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(be,{children:["English Teacher (",F.length," available)"]}),s.jsxs(_t,{value:g.english_teacher_id||"none",onValueChange:X=>y({...g,english_teacher_id:X==="none"?"":X}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select English teacher"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"none",children:"Not assigned"}),F.length===0?s.jsx(De,{value:"no-teachers",disabled:!0,children:"No English teachers in staff"}):F.map(X=>s.jsxs(De,{value:X.id,children:[X.first_name," ",X.last_name," (",X.position,")"]},X.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Academic Year"}),s.jsxs(_t,{value:g.academic_year,onValueChange:X=>y({...g,academic_year:X}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"2024-2025",children:"2024-2025"}),s.jsx(De,{value:"2025-2026",children:"2025-2026"})]})]})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(Se,{onClick:z,className:"bg-blue-600 hover:bg-blue-700",children:m?"Update":"Create Class"})]})]})}),s.jsx(pr,{open:b,onOpenChange:j,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsxs(mr,{children:[s.jsxs(gr,{className:"flex items-center gap-2",children:[s.jsx(z5,{className:"h-5 w-5 text-purple-600"}),"Promote Students"]}),s.jsxs(J0,{children:["Move all students from ",_==null?void 0:_.name," to the next grade level"]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsxs("p",{className:"text-sm text-purple-800",children:[s.jsx("strong",{children:"Current Class:"})," ",_==null?void 0:_.name]}),s.jsxs("p",{className:"text-sm text-purple-800",children:[s.jsx("strong",{children:"Students to promote:"})," ",(_==null?void 0:_.student_count)||0]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Select Target Class (Next Grade)"}),s.jsxs(_t,{value:S,onValueChange:A,children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Choose next year's class"})}),s.jsx(yt,{children:V(_).map(X=>{var E;return s.jsxs(De,{value:X.id,children:[X.name," (",(E=X.grade)==null?void 0:E.name,") - ",X.student_count," students"]},X.id)})})]}),_&&V(_).length===0&&s.jsx("p",{className:"text-sm text-amber-600",children:"No classes found in the next grade. This may be the highest grade."})]}),s.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-amber-800",children:[s.jsx("strong",{children:" Warning:"})," This will move ALL students from ",_==null?void 0:_.name," to the selected class. This action is typically done at the end of the school year."]})})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Se,{onClick:L,className:"bg-purple-600 hover:bg-purple-700",disabled:!S||P,children:P?s.jsxs(s.Fragment,{children:[s.jsx(n3,{className:"h-4 w-4 mr-2 animate-spin"}),"Promoting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(z5,{className:"h-4 w-4 mr-2"}),"Promote Students"]})})]})]})})]})};var SBe="Separator",bM="horizontal",NBe=["horizontal","vertical"],fK=O.forwardRef((e,t)=>{const{decorative:r,orientation:n=bM,...a}=e,i=ABe(n)?n:bM,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(_r.div,{"data-orientation":i,...l,...a,ref:t})});fK.displayName=SBe;function ABe(e){return NBe.includes(e)}var hK=fK;const TBe=O.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(hK,{ref:a,decorative:r,orientation:t,className:yr("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));TBe.displayName=hK.displayName;const CBe=()=>{const[e,t]=O.useState(!0),[r,n]=O.useState(!1),[a,i]=O.useState({name:"",address:"",phone:"",email:"",website:""}),[o,l]=O.useState({current:"",terms:[]}),{toast:c}=Tr();O.useEffect(()=>{u()},[]);const u=async()=>{var f,h;try{t(!0);const{data:p,error:v}=await je.from("system_settings").select("*");if(v)throw v;if(p){const m=((f=p.find(g=>g.key==="school_info"))==null?void 0:f.value)||{},x=((h=p.find(g=>g.key==="academic_year"))==null?void 0:h.value)||{};i({name:m.name||"",address:m.address||"",phone:m.phone||"",email:m.email||"",website:m.website||""}),l({current:x.current||"2024-2025",terms:x.terms||["Fall","Spring"]})}}catch(p){console.error("Error fetching settings:",p),c({variant:"destructive",title:"Error",description:"Failed to load system settings."})}finally{t(!1)}},d=async()=>{n(!0);try{const{error:f}=await je.from("system_settings").upsert({key:"school_info",value:a,description:"General school information"});if(f)throw f;c({title:"Settings Saved",description:"School information has been updated successfully."})}catch(f){c({variant:"destructive",title:"Save Failed",description:f.message})}finally{n(!1)}};return e?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(na,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto pb-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"System Settings"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage global configuration for the school system"})]}),s.jsxs(kl,{defaultValue:"general",className:"w-full",children:[s.jsxs(Xo,{className:"mb-4",children:[s.jsxs(wr,{value:"general",className:"flex items-center gap-2",children:[s.jsx(f0,{className:"w-4 h-4"})," General Info"]}),s.jsxs(wr,{value:"academic",className:"flex items-center gap-2",children:[s.jsx(Cs,{className:"w-4 h-4"})," Academic Year"]}),s.jsxs(wr,{value:"appearance",className:"flex items-center gap-2",children:[s.jsx(ZP,{className:"w-4 h-4"})," Appearance"]})]}),s.jsx(Qr,{value:"general",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"School Information"}),s.jsx(wa,{children:"These details will appear on reports, headers, and official communications."})]}),s.jsxs(Ze,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"schoolName",children:"School Name"}),s.jsx(We,{id:"schoolName",value:a.name,onChange:f=>i({...a,name:f.target.value}),placeholder:"e.g. Beis Yaakov Academy"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"address",children:"Address"}),s.jsx(We,{id:"address",value:a.address,onChange:f=>i({...a,address:f.target.value}),placeholder:"123 Education Lane"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"phone",children:"Phone Number"}),s.jsx(We,{id:"phone",value:a.phone,onChange:f=>i({...a,phone:f.target.value}),placeholder:"(555) 123-4567"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"email",children:"Contact Email"}),s.jsx(We,{id:"email",type:"email",value:a.email,onChange:f=>i({...a,email:f.target.value}),placeholder:"office@school.edu"})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"website",children:"Website"}),s.jsxs("div",{className:"relative",children:[s.jsx(ore,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),s.jsx(We,{id:"website",className:"pl-9",value:a.website,onChange:f=>i({...a,website:f.target.value}),placeholder:"www.school.edu"})]})]})]}),s.jsx(ev,{className:"flex justify-end border-t p-6 bg-slate-50 rounded-b-lg",children:s.jsxs(Se,{onClick:d,disabled:r,children:[r?s.jsx(na,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(hw,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})}),s.jsx(Qr,{value:"academic",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Academic Configuration"}),s.jsx(wa,{children:"Configure the current school year and terms."})]}),s.jsxs(Ze,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"year",children:"Current Academic Year"}),s.jsx(We,{id:"year",value:o.current,onChange:f=>l({...o,current:f.target.value}),placeholder:"2024-2025"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{children:"Active Terms"}),s.jsx("div",{className:"text-sm text-slate-500 italic",children:"Term management functionality coming soon in the next update."})]})]}),s.jsx(ev,{className:"flex justify-end border-t p-6 bg-slate-50 rounded-b-lg",children:s.jsx(Se,{disabled:!0,variant:"outline",children:"Save Configuration (Coming Soon)"})})]})}),s.jsx(Qr,{value:"appearance",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"System Appearance"}),s.jsx(wa,{children:"Customize the look and feel of the application."})]}),s.jsx(Ze,{children:s.jsxs("div",{className:"p-8 text-center text-slate-500 bg-slate-50 rounded-lg border border-dashed border-slate-200",children:[s.jsx(ZP,{className:"mx-auto h-12 w-12 text-slate-300 mb-2"}),s.jsx("p",{children:"Theme customization features are currently under development."})]})})]})})]})]})},EBe=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(!0),[a,i]=O.useState(!1),[o,l]=O.useState({email:"",password:"",name:"",role:"teacher",assigned_class:""}),[c,u]=O.useState(!1),[d,f]=O.useState(null),{toast:h}=Tr(),{user:p}=ow();O.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const{data:b,error:j}=await je.from("app_users").select("*").order("email",{ascending:!0});if(j)throw j;t(b||[])}catch(b){console.error("Error fetching users:",b),h({variant:"destructive",title:"Error",description:"Failed to load users list."})}finally{n(!1)}},m=async b=>{b.preventDefault(),u(!0);try{const{data:j,error:_}=await je.functions.invoke("create-user",{body:{email:o.email,password:o.password,name:o.name,role:o.role}});if(_)throw console.warn("Edge function failed, trying fallback...",_),new Error("User creation via admin function failed. Please ensure the backend is configured.");if(j&&j.error)throw new Error(j.error);h({title:"User Created",description:`Account for ${o.email} has been created successfully.`}),i(!1),l({email:"",password:"",name:"",role:"teacher",assigned_class:""}),v()}catch(j){h({variant:"destructive",title:"Creation Failed",description:j.message})}finally{u(!1)}},x=async b=>{if(window.confirm("Are you sure? This will remove the user's access."))try{const{error:j}=await je.from("app_users").delete().eq("id",b);if(j)throw j;h({title:"User Removed",description:"The user has been deleted from the system."}),v()}catch{h({variant:"destructive",title:"Error",description:"Could not delete user."})}},g=async b=>{if(window.confirm(`Send password reset email to ${b.email}?`)){f(b.id);try{const{error:j}=await je.auth.resetPasswordForEmail(b.email,{redirectTo:window.location.origin+"/reset-password"});if(j)throw j;h({title:"Email Sent",description:`Password reset instructions sent to ${b.email}`})}catch(j){h({variant:"destructive",title:"Error",description:j.message})}finally{f(null)}}},y=b=>{const j={admin:"bg-red-100 text-red-800 hover:bg-red-200 border-red-200",principal:"bg-purple-100 text-purple-800 hover:bg-purple-200 border-purple-200",teacher:"bg-blue-100 text-blue-800 hover:bg-blue-200 border-blue-200",tutor:"bg-green-100 text-green-800 hover:bg-green-200 border-green-200"};return s.jsx(Ft,{className:j[b]||"bg-gray-100 text-gray-800",children:b?b.toUpperCase():"UNKNOWN"})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"User Management"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage principals, teachers, and tutors"})]}),s.jsxs(Se,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(eB,{className:"mr-2 h-4 w-4"})," Add New User"]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-2",children:s.jsx(tr,{className:"text-sm font-medium text-slate-500",children:"Total Users"})}),s.jsx(Ze,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-2",children:s.jsx(tr,{className:"text-sm font-medium text-slate-500",children:"Principals & Admins"})}),s.jsx(Ze,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(b=>["admin","principal"].includes(b.role)).length})})]}),s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-2",children:s.jsx(tr,{className:"text-sm font-medium text-slate-500",children:"Teachers & Tutors"})}),s.jsx(Ze,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(b=>["teacher","tutor"].includes(b.role)).length})})]})]}),s.jsxs(Qe,{className:"shadow-sm",children:[s.jsxs(er,{children:[s.jsx(tr,{children:"All System Users"}),s.jsx(wa,{children:"View and manage all registered accounts."})]}),s.jsx(Ze,{children:r?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(na,{className:"animate-spin h-8 w-8 text-blue-500"})}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"User"}),s.jsx(lt,{children:"Role"}),s.jsx(lt,{children:"Assignments"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsxs($a,{children:[e.map(b=>s.jsxs(xr,{children:[s.jsx(it,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-slate-800",children:b.name||"Unknown Name"}),s.jsx("span",{className:"text-xs text-slate-500",children:b.email})]})}),s.jsx(it,{children:y(b.role)}),s.jsx(it,{children:b.assigned_class?s.jsx(Ft,{variant:"outline",className:"text-xs",children:b.assigned_class}):s.jsx("span",{className:"text-slate-400 text-xs",children:"-"})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>g(b),disabled:d===b.id,title:"Send Password Reset Email",children:d===b.id?s.jsx(na,{className:"h-4 w-4 animate-spin"}):s.jsx(fre,{className:"h-4 w-4 text-slate-500"})}),(p==null?void 0:p.id)!==b.id&&s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>x(b.id),className:"text-slate-400 hover:text-red-600",children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},b.id)),e.length===0&&s.jsx(xr,{children:s.jsx(it,{colSpan:4,className:"text-center py-8 text-slate-500",children:"No users found."})})]})]})})]}),s.jsx(pr,{open:a,onOpenChange:i,children:s.jsxs(dr,{className:"sm:max-w-[425px]",children:[s.jsxs(mr,{children:[s.jsx(gr,{children:"Create New User"}),s.jsx(J0,{children:"Add a new user to the system."})]}),s.jsxs("form",{onSubmit:m,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"name",children:"Full Name"}),s.jsx(We,{id:"name",value:o.name,onChange:b=>l({...o,name:b.target.value}),placeholder:"e.g. Rabbi Cohen",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"email",children:"Email"}),s.jsx(We,{id:"email",type:"email",value:o.email,onChange:b=>l({...o,email:b.target.value}),placeholder:"email@school.edu",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"password",children:"Password"}),s.jsx(We,{id:"password",type:"password",value:o.password,onChange:b=>l({...o,password:b.target.value}),placeholder:"",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"role",children:"Role"}),s.jsxs(_t,{value:o.role,onValueChange:b=>l({...o,role:b}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select role"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"principal",children:"Principal"}),s.jsx(De,{value:"admin",children:"Admin"}),s.jsx(De,{value:"teacher",children:"Teacher"}),s.jsx(De,{value:"tutor",children:"Tutor"})]})]})]}),["teacher","tutor"].includes(o.role)&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"class",children:"Assigned Class (Optional)"}),s.jsx(We,{id:"class",value:o.assigned_class,onChange:b=>l({...o,assigned_class:b.target.value}),placeholder:"e.g. Grade 5"})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(Se,{type:"submit",disabled:c,children:c?s.jsx(na,{className:"mr-2 h-4 w-4 animate-spin"}):"Create User"})]})]})]})})]})},wM=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!1),[f,h]=O.useState(null),[p,v]=O.useState("list"),[m,x]=O.useState(!0),[g,y]=O.useState({title:"",description:"",student_id:"",meeting_type:"parent_teacher",scheduled_date:"",scheduled_time:"",duration_minutes:30,location:"",participant_ids:[],notes:""});O.useEffect(()=>{_(),b(),j()},[]);const b=async()=>{const{data:L}=await je.from("students").select("id, first_name, last_name, class:classes!class_id(name)").eq("is_active",!0).order("last_name");o(L||[])},j=async()=>{const{data:L}=await je.from("app_users").select("id, first_name, last_name, role").eq("is_active",!0).in("role",["teacher_hebrew","teacher_english","principal_hebrew","principal_english","principal_curriculum","tutor","admin"]).order("last_name");c(L||[])},_=async()=>{x(!0);try{const{data:L,error:M}=await je.from("meetings").select(`
          *,
          student:students(id, first_name, last_name, class:classes!class_id(name)),
          organizer:app_users!organizer_id(id, first_name, last_name),
          meeting_participants(
            id,
            participant:app_users(id, first_name, last_name, role)
          )
        `).order("scheduled_date",{ascending:!0});if(M)throw M;a(L||[])}catch(L){console.error("Error loading meetings:",L),r({variant:"destructive",title:"Error",description:"Failed to load meetings"})}finally{x(!1)}},N=(L=null)=>{var M;if(L){h(L);const F=L.scheduled_date?new Date(L.scheduled_date):new Date;y({title:L.title||"",description:L.description||"",student_id:L.student_id||"",meeting_type:L.meeting_type||"parent_teacher",scheduled_date:F.toISOString().split("T")[0],scheduled_time:F.toTimeString().slice(0,5),duration_minutes:L.duration_minutes||30,location:L.location||"",participant_ids:((M=L.meeting_participants)==null?void 0:M.map(U=>{var X;return(X=U.participant)==null?void 0:X.id}).filter(Boolean))||[],notes:L.notes||""})}else h(null),y({title:"",description:"",student_id:"",meeting_type:"parent_teacher",scheduled_date:new Date().toISOString().split("T")[0],scheduled_time:"09:00",duration_minutes:30,location:"",participant_ids:[],notes:""});d(!0)},S=async()=>{if(!g.title||!g.scheduled_date){r({variant:"destructive",title:"Error",description:"Title and date are required"});return}try{const L=new Date(`${g.scheduled_date}T${g.scheduled_time||"00:00"}`),M={title:g.title,description:g.description||null,student_id:g.student_id||null,organizer_id:t==null?void 0:t.id,meeting_type:g.meeting_type,scheduled_date:L.toISOString(),duration_minutes:g.duration_minutes,location:g.location||null,notes:g.notes||null,status:"scheduled"};let F;if(f){const{error:U}=await je.from("meetings").update(M).eq("id",f.id);if(U)throw U;F=f.id,await je.from("meeting_participants").delete().eq("meeting_id",F)}else{const{data:U,error:X}=await je.from("meetings").insert([M]).select().single();if(X)throw X;F=U.id}if(g.participant_ids.length>0){const U=g.participant_ids.map(X=>({meeting_id:F,participant_id:X}));await je.from("meeting_participants").insert(U)}r({title:"Success",description:f?"Meeting updated":"Meeting scheduled"}),d(!1),_()}catch(L){console.error("Error saving meeting:",L),r({variant:"destructive",title:"Error",description:"Failed to save meeting"})}},A=async L=>{if(window.confirm("Are you sure you want to delete this meeting?"))try{await je.from("meeting_participants").delete().eq("meeting_id",L);const{error:M}=await je.from("meetings").delete().eq("id",L);if(M)throw M;r({title:"Success",description:"Meeting deleted"}),_()}catch{r({variant:"destructive",title:"Error",description:"Failed to delete meeting"})}},P=async(L,M)=>{try{const{error:F}=await je.from("meetings").update({status:M}).eq("id",L.id);if(F)throw F;r({title:"Status Updated",description:`Meeting marked as ${M}.`}),_()}catch{r({variant:"destructive",title:"Error",description:"Failed to update status"})}},W=L=>{y(M=>({...M,participant_ids:M.participant_ids.includes(L)?M.participant_ids.filter(F=>F!==L):[...M.participant_ids,L]}))},C=L=>new Date(L)<new Date,k=L=>{switch(L){case"completed":return s.jsx(Ft,{className:"bg-green-100 text-green-800 border-green-200",children:"Completed"});case"cancelled":return s.jsx(Ft,{className:"bg-red-100 text-red-800 border-red-200",children:"Cancelled"});default:return s.jsx(Ft,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Scheduled"})}},z=L=>{const M={parent_teacher:{label:"Parent-Teacher",color:"bg-purple-100 text-purple-700"},iep:{label:"IEP",color:"bg-orange-100 text-orange-700"},disciplinary:{label:"Disciplinary",color:"bg-red-100 text-red-700"},progress:{label:"Progress",color:"bg-blue-100 text-blue-700"},other:{label:"Other",color:"bg-slate-100 text-slate-700"}},F=M[L]||M.other;return s.jsx(Ft,{className:F.color,children:F.label})},I=n.filter(L=>L.status==="scheduled"&&!C(L.scheduled_date)).length,R=n.filter(L=>L.status==="scheduled"&&C(L.scheduled_date)).length,V=n.filter(L=>L.status==="completed").length;return m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Meetings & Calendar"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Schedule and manage meetings"})]}),s.jsxs(Se,{onClick:()=>N(),className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700",children:[s.jsx(on,{size:20,className:"mr-2"}),"Schedule Meeting"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Cs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:I}),s.jsx("p",{className:"text-sm text-slate-500",children:"Upcoming"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(Qs,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:R}),s.jsx("p",{className:"text-sm text-slate-500",children:"Overdue"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Di,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:V}),s.jsx("p",{className:"text-sm text-slate-500",children:"Completed"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Meetings"})]})]})})]}),s.jsxs(kl,{value:p,onValueChange:v,className:"w-full",children:[s.jsxs(Xo,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(wr,{value:"list",className:"flex items-center gap-2",children:[s.jsx(r3,{size:16}),"List View"]}),s.jsxs(wr,{value:"calendar",className:"flex items-center gap-2",children:[s.jsx(Cs,{size:16}),"Calendar View"]})]}),s.jsx(Qr,{value:"calendar",className:"mt-6",children:s.jsx(m$e,{})}),s.jsx(Qr,{value:"list",className:"mt-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Date & Time"}),s.jsx(lt,{children:"Title"}),s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Type"}),s.jsx(lt,{children:"Participants"}),s.jsx(lt,{children:"Status"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsxs($a,{children:[n.map(L=>{var U,X,E;const M=C(L.scheduled_date),F=new Date(L.scheduled_date);return s.jsxs(xr,{className:M&&L.status==="scheduled"?"bg-red-50/50":"",children:[s.jsx(it,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-slate-800",children:F.toLocaleDateString()}),s.jsxs("span",{className:"text-xs text-slate-500",children:[F.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," (",L.duration_minutes,"m)"]})]})}),s.jsxs(it,{children:[s.jsx("div",{className:"font-medium",children:L.title}),L.location&&s.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[s.jsx(Q$,{size:10})," ",L.location]})]}),s.jsx(it,{children:L.student?s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[L.student.first_name," ",L.student.last_name]}),s.jsx("div",{className:"text-xs text-slate-500",children:(U=L.student.class)==null?void 0:U.name})]}):"-"}),s.jsx(it,{children:z(L.meeting_type)}),s.jsx(it,{children:s.jsxs("div",{className:"flex -space-x-2",children:[(X=L.meeting_participants)==null?void 0:X.slice(0,3).map((H,G)=>{var q,K,ee,se,J,ce;return s.jsxs("div",{className:"h-7 w-7 rounded-full bg-indigo-100 flex items-center justify-center text-xs text-indigo-700 font-medium border-2 border-white",title:`${(q=H.participant)==null?void 0:q.first_name} ${(K=H.participant)==null?void 0:K.last_name}`,children:[(se=(ee=H.participant)==null?void 0:ee.first_name)==null?void 0:se.charAt(0),(ce=(J=H.participant)==null?void 0:J.last_name)==null?void 0:ce.charAt(0)]},G)}),((E=L.meeting_participants)==null?void 0:E.length)>3&&s.jsxs("div",{className:"h-7 w-7 rounded-full bg-slate-200 flex items-center justify-center text-xs text-slate-600 font-medium border-2 border-white",children:["+",L.meeting_participants.length-3]})]})}),s.jsx(it,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[k(L.status),M&&L.status==="scheduled"&&s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Overdue"})]})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[L.status==="scheduled"&&s.jsx(Se,{variant:"ghost",size:"icon",className:"text-green-600 hover:text-green-700 hover:bg-green-50",title:"Mark Completed",onClick:()=>P(L,"completed"),children:s.jsx(Di,{size:16})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>N(L),children:s.jsx(ja,{size:16})}),s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>A(L.id),className:"hover:text-red-600",children:s.jsx(Qa,{size:16})})]})})]},L.id)}),n.length===0&&s.jsx(xr,{children:s.jsx(it,{colSpan:7,className:"text-center py-12 text-slate-500",children:"No meetings scheduled."})})]})]})})})]}),s.jsx(pr,{open:u,onOpenChange:d,children:s.jsxs(dr,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx(mr,{children:s.jsx(gr,{children:f?"Edit Meeting":"Schedule New Meeting"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Title *"}),s.jsx(We,{value:g.title,onChange:L=>y({...g,title:L.target.value}),placeholder:"Meeting title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Date *"}),s.jsx(We,{type:"date",value:g.scheduled_date,onChange:L=>y({...g,scheduled_date:L.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Time"}),s.jsx(We,{type:"time",value:g.scheduled_time,onChange:L=>y({...g,scheduled_time:L.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Duration (minutes)"}),s.jsxs(_t,{value:String(g.duration_minutes),onValueChange:L=>y({...g,duration_minutes:parseInt(L)}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"15",children:"15 min"}),s.jsx(De,{value:"30",children:"30 min"}),s.jsx(De,{value:"45",children:"45 min"}),s.jsx(De,{value:"60",children:"60 min"}),s.jsx(De,{value:"90",children:"90 min"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Meeting Type"}),s.jsxs(_t,{value:g.meeting_type,onValueChange:L=>y({...g,meeting_type:L}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"parent_teacher",children:"Parent-Teacher"}),s.jsx(De,{value:"iep",children:"IEP Meeting"}),s.jsx(De,{value:"disciplinary",children:"Disciplinary"}),s.jsx(De,{value:"progress",children:"Progress Review"}),s.jsx(De,{value:"other",children:"Other"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Student (optional)"}),s.jsxs(_t,{value:g.student_id||"none",onValueChange:L=>y({...g,student_id:L==="none"?null:L}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select student"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"none",children:"No specific student"}),i.map(L=>{var M;return s.jsxs(De,{value:L.id,children:[L.first_name," ",L.last_name," ",(M=L.class)!=null&&M.name?`(${L.class.name})`:""]},L.id)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Location"}),s.jsx(We,{value:g.location,onChange:L=>y({...g,location:L.target.value}),placeholder:"e.g., Principal's Office, Room 101"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Participants"}),s.jsx("div",{className:"border rounded-md p-3 max-h-32 overflow-y-auto bg-slate-50 grid grid-cols-2 gap-2",children:l.map(L=>s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer hover:bg-slate-100 p-1.5 rounded",children:[s.jsx("input",{type:"checkbox",checked:g.participant_ids.includes(L.id),onChange:()=>W(L.id),className:"rounded border-slate-300"}),L.first_name," ",L.last_name]},L.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Description"}),s.jsx(Er,{value:g.description,onChange:L=>y({...g,description:L.target.value}),rows:2,placeholder:"Meeting agenda or description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Notes"}),s.jsx(Er,{value:g.notes,onChange:L=>y({...g,notes:L.target.value}),rows:2,placeholder:"Additional notes"})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(Se,{onClick:S,className:"bg-indigo-600 hover:bg-indigo-700",children:f?"Update Meeting":"Schedule Meeting"})]})]})})]})},kBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,d]=O.useState(null),[f,h]=O.useState({name:"",grade_number:"",description:""});O.useEffect(()=>{p()},[]);const p=async()=>{o(!0);try{const{data:g,error:y}=await je.from("grades").select(`
          *,
          classes:classes(id),
          grade_book_requirements:grade_book_requirements(id)
        `).order("grade_number",{ascending:!0});if(y)throw y;const b=(g||[]).map(j=>{var _,N;return{...j,class_count:((_=j.classes)==null?void 0:_.length)||0,book_count:((N=j.grade_book_requirements)==null?void 0:N.length)||0}});a(b)}catch(g){console.error("Error loading grades:",g),r({variant:"destructive",title:"Error",description:"Failed to load grades"})}finally{o(!1)}},v=(g=null)=>{var y;g?(d(g),h({name:g.name||"",grade_number:((y=g.grade_number)==null?void 0:y.toString())||"",description:g.description||""})):(d(null),h({name:"",grade_number:"",description:""})),c(!0)},m=async()=>{if(!f.name||!f.grade_number){r({variant:"destructive",title:"Error",description:"Please fill in required fields"});return}try{const g={name:f.name,grade_number:parseInt(f.grade_number),description:f.description||null};if(u){const{error:y}=await je.from("grades").update(g).eq("id",u.id);if(y)throw y;r({title:"Success",description:"Grade updated successfully"})}else{const{error:y}=await je.from("grades").insert([g]);if(y)throw y;r({title:"Success",description:"Grade created successfully"})}c(!1),p()}catch(g){console.error("Error saving grade:",g),r({variant:"destructive",title:"Error",description:"Failed to save grade"})}},x=async g=>{if(confirm("Are you sure you want to delete this grade? This will also affect all associated classes."))try{const{error:y}=await je.from("grades").delete().eq("id",g);if(y)throw y;r({title:"Success",description:"Grade deleted successfully"}),p()}catch(y){console.error("Error deleting grade:",y),r({variant:"destructive",title:"Error",description:"Failed to delete grade. Make sure no classes are assigned."})}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Grade Levels"}),s.jsx("p",{className:"text-slate-500",children:"Manage grade levels for your school"})]}),s.jsxs(Se,{onClick:()=>v(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Grade"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(_N,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Grades"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((g,y)=>g+y.class_count,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Classes"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(u0,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((g,y)=>g+y.book_count,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"Book Requirements"})]})]})})]}),s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"All Grades"}),s.jsx(wa,{children:"Click on a grade to edit or view details"})]}),s.jsx(Ze,{children:n.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(_N,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No grades yet"}),s.jsx("p",{className:"text-sm",children:'Click "Add Grade" to create your first grade level'})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Grade #"}),s.jsx(lt,{children:"Name"}),s.jsx(lt,{children:"Description"}),s.jsx(lt,{className:"text-center",children:"Classes"}),s.jsx(lt,{className:"text-center",children:"Books"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsx($a,{children:n.map(g=>s.jsxs(xr,{className:"cursor-pointer hover:bg-slate-50",children:[s.jsx(it,{className:"font-medium",children:g.grade_number}),s.jsx(it,{className:"font-semibold",children:g.name}),s.jsx(it,{className:"text-slate-500",children:g.description||"-"}),s.jsx(it,{className:"text-center",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[g.class_count," classes"]})}),s.jsx(it,{className:"text-center",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[g.book_count," books"]})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>v(g),children:s.jsx(ja,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>x(g.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},g.id))})]})})]}),s.jsx(pr,{open:l,onOpenChange:c,children:s.jsxs(dr,{children:[s.jsx(mr,{children:s.jsx(gr,{children:u?"Edit Grade":"Add New Grade"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"grade_number",children:"Grade Number *"}),s.jsx(We,{id:"grade_number",type:"number",min:"1",placeholder:"1",value:f.grade_number,onChange:g=>h({...f,grade_number:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"name",children:"Name *"}),s.jsx(We,{id:"name",placeholder:"e.g., 1st Grade",value:f.name,onChange:g=>h({...f,name:g.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"description",children:"Description"}),s.jsx(Er,{id:"description",placeholder:"Optional description for this grade level",value:f.description,onChange:g=>h({...f,description:g.target.value})})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Se,{onClick:m,className:"bg-blue-600 hover:bg-blue-700",children:u?"Update":"Create"})]})]})})]})},PBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState(!0),[m,x]=O.useState(""),[g,y]=O.useState("all"),[b,j]=O.useState(!1),[_,N]=O.useState(null),[S,A]=O.useState({title:"",subtitle:"",author:"",isbn:"",publisher:"",category:"textbook",subject:"",price:"",quantity_in_stock:"0",reorder_threshold:"10"}),[P,W]=O.useState(!1),[C,k]=O.useState(null),[z,I]=O.useState([]),[R,V]=O.useState("2024-2025"),[L,M]=O.useState(!1),[F,U]=O.useState(null),[X,E]=O.useState([]),H=[{value:"textbook",label:"Textbook"},{value:"workbook",label:"Workbook"},{value:"hebrew",label:"Hebrew"},{value:"english",label:"English"},{value:"math",label:"Math"},{value:"science",label:"Science"},{value:"other",label:"Other"}],G=[{value:"hebrew",label:"Hebrew"},{value:"english",label:"English"},{value:"math",label:"Math"},{value:"science",label:"Science"},{value:"history",label:"History"},{value:"chumash",label:"Chumash"},{value:"gemara",label:"Gemara"},{value:"mishnayos",label:"Mishnayos"},{value:"other",label:"Other"}];O.useEffect(()=>{q()},[]);const q=async()=>{v(!0);try{const{data:ge,error:de}=await je.from("books").select("*").order("title");de||a(ge||[]);const{data:ze,error:Ke}=await je.from("grades").select("*").order("grade_number");Ke||o(ze||[]);try{const{data:St,error:Et}=await je.from("grade_book_requirements").select(`
            *,
            grade:grades(id, name),
            book:books(id, title, price)
          `);Et||d(St||[])}catch{console.log("grade_book_requirements table may not exist yet")}const{data:ft,error:bt}=await je.from("classes").select("*, grade:grades(id, name)").order("name");bt||c(ft||[]);try{const{data:St,error:Et}=await je.from("class_book_requirements").select(`
            *,
            class:classes!class_id(id, name),
            book:books(id, title, price)
          `);Et||h(St||[])}catch{console.log("class_book_requirements table may not exist yet")}}catch(ge){console.error("Error loading data:",ge)}finally{v(!1)}},K=n.filter(ge=>{const de=ge.title.toLowerCase().includes(m.toLowerCase())||ge.author&&ge.author.toLowerCase().includes(m.toLowerCase()),ze=g==="all"||ge.category===g;return de&&ze}),ee=n.filter(ge=>ge.quantity_in_stock<=ge.reorder_threshold),se=(ge=null)=>{var de,ze,Ke;ge?(N(ge),A({title:ge.title||"",subtitle:ge.subtitle||"",author:ge.author||"",isbn:ge.isbn||"",publisher:ge.publisher||"",category:ge.category||"textbook",subject:ge.subject||"",price:((de=ge.price)==null?void 0:de.toString())||"",quantity_in_stock:((ze=ge.quantity_in_stock)==null?void 0:ze.toString())||"0",reorder_threshold:((Ke=ge.reorder_threshold)==null?void 0:Ke.toString())||"10"})):(N(null),A({title:"",subtitle:"",author:"",isbn:"",publisher:"",category:"textbook",subject:"",price:"",quantity_in_stock:"0",reorder_threshold:"10"})),j(!0)},J=async()=>{if(!S.title||!S.price){r({variant:"destructive",title:"Error",description:"Please fill in title and price"});return}try{const ge={title:S.title,subtitle:S.subtitle||null,author:S.author||null,isbn:S.isbn||null,publisher:S.publisher||null,category:S.category,subject:S.subject||null,price:parseFloat(S.price),quantity_in_stock:parseInt(S.quantity_in_stock)||0,reorder_threshold:parseInt(S.reorder_threshold)||10};if(_){const{error:de}=await je.from("books").update(ge).eq("id",_.id);if(de)throw de;r({title:"Success",description:"Book updated successfully"})}else{const{error:de}=await je.from("books").insert([ge]);if(de)throw de;r({title:"Success",description:"Book added successfully"})}j(!1),q()}catch(ge){console.error("Error saving book:",ge),r({variant:"destructive",title:"Error",description:"Failed to save book"})}},ce=async ge=>{if(confirm("Are you sure you want to delete this book?"))try{const{error:de}=await je.from("books").delete().eq("id",ge);if(de)throw de;r({title:"Success",description:"Book deleted"}),q()}catch(de){console.error("Error deleting book:",de),r({variant:"destructive",title:"Error",description:"Failed to delete book"})}},pe=ge=>{k(ge);const de=u.filter(ze=>ze.grade_id===ge.id&&ze.academic_year===R).map(ze=>ze.book_id);I(de),W(!0)},Q=ge=>{I(de=>de.includes(ge)?de.filter(ze=>ze!==ge):[...de,ge])},Oe=async()=>{if(C)try{const{error:ge}=await je.from("grade_book_requirements").delete().eq("grade_id",C.id).eq("academic_year",R);if(ge)throw ge;if(z.length>0){const de=z.map(Ke=>({grade_id:C.id,book_id:Ke,academic_year:R,is_required:!0})),{error:ze}=await je.from("grade_book_requirements").insert(de);if(ze)throw ze}r({title:"Success",description:"Book requirements updated"}),W(!1),q()}catch(ge){console.error("Error saving requirements:",ge),r({variant:"destructive",title:"Error",description:"Failed to save requirements"})}},$e=ge=>u.filter(de=>de.grade_id===ge&&de.academic_year===R).map(de=>de.book),Ae=ge=>u.filter(de=>de.grade_id===ge&&de.academic_year===R).reduce((de,ze)=>{var Ke;return de+(((Ke=ze.book)==null?void 0:Ke.price)||0)},0),Z=ge=>{U(ge);const de=f.filter(ze=>ze.class_id===ge.id&&ze.academic_year===R).map(ze=>ze.book_id);E(de),M(!0)},ke=ge=>{E(de=>de.includes(ge)?de.filter(ze=>ze!==ge):[...de,ge])},Ge=async()=>{if(F)try{const{error:ge}=await je.from("class_book_requirements").delete().eq("class_id",F.id).eq("academic_year",R);if(ge)throw ge;if(X.length>0){const de=X.map(Ke=>({class_id:F.id,book_id:Ke,academic_year:R,is_required:!0})),{error:ze}=await je.from("class_book_requirements").insert(de);if(ze)throw ze}r({title:"Success",description:"Class book requirements updated"}),M(!1),q()}catch(ge){console.error("Error saving class requirements:",ge),r({variant:"destructive",title:"Error",description:"Failed to save class requirements"})}},Le=ge=>f.filter(de=>de.class_id===ge&&de.academic_year===R).map(de=>de.book),qe=ge=>f.filter(de=>de.class_id===ge&&de.academic_year===R).reduce((de,ze)=>{var Ke;return de+(((Ke=ze.book)==null?void 0:Ke.price)||0)},0);return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Books Management"}),s.jsx("p",{className:"text-slate-500",children:"Manage book inventory and grade requirements"})]}),s.jsxs(Se,{onClick:()=>se(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Add Book"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Y$,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Books"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(QP,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((ge,de)=>ge+de.quantity_in_stock,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"In Stock"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Wh,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:ee.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Low Stock"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",n.reduce((ge,de)=>ge+de.price*de.quantity_in_stock,0).toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Inventory Value"})]})]})})]}),s.jsxs(kl,{defaultValue:"catalog",className:"space-y-4",children:[s.jsxs(Xo,{children:[s.jsx(wr,{value:"catalog",children:"Book Catalog"}),s.jsx(wr,{value:"class-requirements",children:"Class Requirements"}),s.jsx(wr,{value:"requirements",children:"Grade Requirements"}),s.jsxs(wr,{value:"lowstock",children:["Low Stock (",ee.length,")"]})]}),s.jsx(Qr,{value:"catalog",children:s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Book Catalog"}),s.jsx(wa,{children:"All books in your inventory"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search books...",value:m,onChange:ge=>x(ge.target.value),className:"pl-10 w-64"})]}),s.jsxs(_t,{value:g,onValueChange:y,children:[s.jsx(xt,{className:"w-40",children:s.jsx(jt,{placeholder:"Category"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Categories"}),H.map(ge=>s.jsx(De,{value:ge.value,children:ge.label},ge.value))]})]})]})]})}),s.jsx(Ze,{children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Title"}),s.jsx(lt,{children:"Category"}),s.jsx(lt,{children:"Subject"}),s.jsx(lt,{className:"text-right",children:"Price"}),s.jsx(lt,{className:"text-center",children:"Stock"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsx($a,{children:K.map(ge=>s.jsxs(xr,{children:[s.jsx(it,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:ge.title}),ge.author&&s.jsx("p",{className:"text-sm text-slate-500",children:ge.author})]})}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",children:ge.category})}),s.jsx(it,{children:ge.subject||"-"}),s.jsxs(it,{className:"text-right font-medium",children:["$",ge.price.toFixed(2)]}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:ge.quantity_in_stock<=ge.reorder_threshold?"destructive":"secondary",children:ge.quantity_in_stock})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>se(ge),children:s.jsx(ja,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>ce(ge.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},ge.id))})]})})]})}),s.jsx(Qr,{value:"class-requirements",children:s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Class Book Requirements"}),s.jsx(wa,{children:"Set specific books for each class"})]}),s.jsxs(_t,{value:R,onValueChange:V,children:[s.jsx(xt,{className:"w-40",children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"2024-2025",children:"2024-2025"}),s.jsx(De,{value:"2025-2026",children:"2025-2026"})]})]})]})}),s.jsx(Ze,{children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(f0,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No classes found. Please add classes first."})]}):s.jsx("div",{className:"grid gap-4",children:l.map(ge=>{var Ke;const de=Le(ge.id),ze=qe(ge.id);return s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(f0,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:ge.name}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(Ke=ge.grade)==null?void 0:Ke.name,"  ",de.length," books  Total: $",ze.toFixed(2)]})]})]}),s.jsxs(Se,{variant:"outline",onClick:()=>Z(ge),children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"Edit Books"]})]}),de.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(ft=>{var bt;return ft&&s.jsxs(Ft,{variant:"secondary",className:"text-sm",children:[ft.title," - $",(bt=ft.price)==null?void 0:bt.toFixed(2)]},ft.id)})}):s.jsx("p",{className:"text-sm text-slate-400 italic",children:"No books assigned yet - will use grade defaults"})]},ge.id)})})})]})}),s.jsx(Qr,{value:"requirements",children:s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Grade Book Requirements"}),s.jsx(wa,{children:"Set which books each grade needs"})]}),s.jsxs(_t,{value:R,onValueChange:V,children:[s.jsx(xt,{className:"w-40",children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"2024-2025",children:"2024-2025"}),s.jsx(De,{value:"2025-2026",children:"2025-2026"})]})]})]})}),s.jsx(Ze,{children:s.jsx("div",{className:"grid gap-4",children:i.map(ge=>{const de=$e(ge.id),ze=Ae(ge.id);return s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:ge.name}),s.jsxs("p",{className:"text-sm text-slate-500",children:[de.length," books  Total: $",ze.toFixed(2)]})]}),s.jsxs(Se,{variant:"outline",onClick:()=>pe(ge),children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"Edit Books"]})]}),de.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(Ke=>{var ft;return Ke&&s.jsxs(Ft,{variant:"secondary",className:"text-sm",children:[Ke.title," - $",(ft=Ke.price)==null?void 0:ft.toFixed(2)]},Ke.id)})}):s.jsx("p",{className:"text-sm text-slate-400 italic",children:"No books assigned yet"})]},ge.id)})})})]})}),s.jsx(Qr,{value:"lowstock",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{className:"text-yellow-700",children:"Low Stock Alert"}),s.jsx(wa,{children:"Books that need to be reordered"})]}),s.jsx(Ze,{children:ee.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(QP,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"All books are well stocked!"})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Book"}),s.jsx(lt,{className:"text-center",children:"Current Stock"}),s.jsx(lt,{className:"text-center",children:"Reorder At"}),s.jsx(lt,{className:"text-right",children:"Price"})]})}),s.jsx($a,{children:ee.map(ge=>s.jsxs(xr,{className:"bg-yellow-50",children:[s.jsx(it,{className:"font-semibold",children:ge.title}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:"destructive",children:ge.quantity_in_stock})}),s.jsx(it,{className:"text-center",children:ge.reorder_threshold}),s.jsxs(it,{className:"text-right",children:["$",ge.price.toFixed(2)]})]},ge.id))})]})})]})})]}),s.jsx(pr,{open:b,onOpenChange:j,children:s.jsxs(dr,{className:"max-w-2xl",children:[s.jsx(mr,{children:s.jsx(gr,{children:_?"Edit Book":"Add New Book"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(be,{children:"Title *"}),s.jsx(We,{value:S.title,onChange:ge=>A({...S,title:ge.target.value}),placeholder:"Book title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Author"}),s.jsx(We,{value:S.author,onChange:ge=>A({...S,author:ge.target.value}),placeholder:"Author name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Publisher"}),s.jsx(We,{value:S.publisher,onChange:ge=>A({...S,publisher:ge.target.value}),placeholder:"Publisher"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Category"}),s.jsxs(_t,{value:S.category,onValueChange:ge=>A({...S,category:ge}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:H.map(ge=>s.jsx(De,{value:ge.value,children:ge.label},ge.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Subject"}),s.jsxs(_t,{value:S.subject,onValueChange:ge=>A({...S,subject:ge}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select subject"})}),s.jsx(yt,{children:G.map(ge=>s.jsx(De,{value:ge.value,children:ge.label},ge.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Price *"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:S.price,onChange:ge=>A({...S,price:ge.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"ISBN"}),s.jsx(We,{value:S.isbn,onChange:ge=>A({...S,isbn:ge.target.value}),placeholder:"ISBN number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Quantity in Stock"}),s.jsx(We,{type:"number",min:"0",value:S.quantity_in_stock,onChange:ge=>A({...S,quantity_in_stock:ge.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Reorder Threshold"}),s.jsx(We,{type:"number",min:"0",value:S.reorder_threshold,onChange:ge=>A({...S,reorder_threshold:ge.target.value})})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Se,{onClick:J,className:"bg-blue-600 hover:bg-blue-700",children:_?"Update":"Add Book"})]})]})}),s.jsx(pr,{open:P,onOpenChange:W,children:s.jsxs(dr,{className:"max-w-2xl max-h-[80vh]",children:[s.jsx(mr,{children:s.jsxs(gr,{children:[C==null?void 0:C.name," - Book Requirements"]})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Select the books required for ",C==null?void 0:C.name," (",R,")"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:n.map(ge=>s.jsx("div",{onClick:()=>Q(ge.id),className:`p-3 border rounded-lg cursor-pointer transition-colors ${z.includes(ge.id)?"bg-blue-50 border-blue-300":"hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ge.title}),s.jsxs("p",{className:"text-sm text-slate-500",children:[ge.category,"  ",ge.subject]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",ge.price.toFixed(2)]}),z.includes(ge.id)&&s.jsx(Ft,{className:"bg-blue-600",children:"Selected"})]})]})},ge.id))}),s.jsx("div",{className:"mt-4 p-3 bg-slate-100 rounded-lg",children:s.jsxs("p",{className:"font-medium",children:["Total: ",z.length," books  $",n.filter(ge=>z.includes(ge.id)).reduce((ge,de)=>ge+de.price,0).toFixed(2)]})})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>W(!1),children:"Cancel"}),s.jsx(Se,{onClick:Oe,className:"bg-blue-600 hover:bg-blue-700",children:"Save Requirements"})]})]})}),s.jsx(pr,{open:L,onOpenChange:M,children:s.jsxs(dr,{className:"max-w-2xl max-h-[80vh]",children:[s.jsx(mr,{children:s.jsxs(gr,{children:[F==null?void 0:F.name," - Book Requirements"]})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Select the books required for class ",F==null?void 0:F.name," (",R,")"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:n.map(ge=>s.jsx("div",{onClick:()=>ke(ge.id),className:`p-3 border rounded-lg cursor-pointer transition-colors ${X.includes(ge.id)?"bg-blue-50 border-blue-300":"hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ge.title}),s.jsxs("p",{className:"text-sm text-slate-500",children:[ge.category,"  ",ge.subject]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",ge.price.toFixed(2)]}),X.includes(ge.id)&&s.jsx(Ft,{className:"bg-blue-600",children:"Selected"})]})]})},ge.id))}),s.jsx("div",{className:"mt-4 p-3 bg-slate-100 rounded-lg",children:s.jsxs("p",{className:"font-medium",children:["Total: ",X.length," books  $",n.filter(ge=>X.includes(ge.id)).reduce((ge,de)=>ge+de.price,0).toFixed(2)]})})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),s.jsx(Se,{onClick:Ge,className:"bg-blue-600 hover:bg-blue-700",children:"Save Class Requirements"})]})]})})]})},OBe=({role:e,currentUser:t})=>{var K,ee,se;const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(!0),[p,v]=O.useState(!1),[m,x]=O.useState(null),[g,y]=O.useState({name:"",description:"",fee_type_id:"",amount:"",scope:"school_wide",grade_id:"",class_id:"",due_date:"",academic_year:"2024-2025"}),[b,j]=O.useState(!1),[_,N]=O.useState({name:"",description:"",category:"other",default_amount:""}),[S,A]=O.useState(!1),[P,W]=O.useState(null),[C,k]=O.useState(!1),z=[{value:"trip",label:"Trip",icon:Hh},{value:"event",label:"Event",icon:vre},{value:"supplies",label:"Supplies",icon:u0},{value:"books",label:"Books",icon:u0},{value:"other",label:"Other",icon:gs}],I=[{value:"school_wide",label:"School Wide (All Students)"},{value:"grade_specific",label:"Grade Specific"},{value:"class_specific",label:"Class Specific"}];O.useEffect(()=>{R()},[]);const R=async()=>{h(!0);try{const{data:J,error:ce}=await je.from("fees").select(`
          *,
          fee_type:fee_types(id, name, category),
          grade:grades(id, name),
          class:classes!class_id(id, name),
          student_fees:student_fees(id, status, amount, amount_paid)
        `).order("created_at",{ascending:!1});if(ce)throw ce;const pe=(J||[]).map(Ge=>{const Le=Ge.student_fees||[];return{...Ge,total_students:Le.length,paid_count:Le.filter(qe=>qe.status==="paid").length,partial_count:Le.filter(qe=>qe.status==="partial").length,pending_count:Le.filter(qe=>qe.status==="pending").length,total_expected:Le.reduce((qe,ge)=>qe+ge.amount,0),total_collected:Le.reduce((qe,ge)=>qe+ge.amount_paid,0)}});a(pe);const{data:Q,error:Oe}=await je.from("fee_types").select("*").order("name");if(Oe)throw Oe;o(Q||[]);const{data:$e,error:Ae}=await je.from("grades").select("*").order("grade_number");if(Ae)throw Ae;c($e||[]);const{data:Z,error:ke}=await je.from("classes").select("*, grade:grades(name)").order("name");if(ke)throw ke;d(Z||[])}catch(J){console.error("Error loading data:",J),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{h(!1)}},V=(J=null)=>{var ce;J?(x(J),y({name:J.name||"",description:J.description||"",fee_type_id:J.fee_type_id||"",amount:((ce=J.amount)==null?void 0:ce.toString())||"",scope:J.scope||"school_wide",grade_id:J.grade_id||"",class_id:J.class_id||"",due_date:J.due_date||"",academic_year:J.academic_year||"2024-2025"})):(x(null),y({name:"",description:"",fee_type_id:"",amount:"",scope:"school_wide",grade_id:"",class_id:"",due_date:"",academic_year:"2024-2025"})),v(!0)},L=async()=>{if(!g.name||!g.amount){r({variant:"destructive",title:"Error",description:"Please fill in name and amount"});return}try{const J={name:g.name,description:g.description||null,fee_type_id:g.fee_type_id||null,amount:parseFloat(g.amount),scope:g.scope,grade_id:g.scope==="grade_specific"?g.grade_id:null,class_id:g.scope==="class_specific"?g.class_id:null,due_date:g.due_date||null,academic_year:g.academic_year};if(m){const{error:ce}=await je.from("fees").update(J).eq("id",m.id);if(ce)throw ce;r({title:"Success",description:"Fee updated successfully"})}else{const{error:ce}=await je.from("fees").insert([J]);if(ce)throw ce;r({title:"Success",description:"Fee created successfully"})}v(!1),R()}catch(J){console.error("Error saving fee:",J),r({variant:"destructive",title:"Error",description:"Failed to save fee"})}},M=async J=>{if(confirm("Are you sure you want to delete this fee? This will also remove all student assignments."))try{const{error:ce}=await je.from("fees").delete().eq("id",J);if(ce)throw ce;r({title:"Success",description:"Fee deleted"}),R()}catch(ce){console.error("Error deleting fee:",ce),r({variant:"destructive",title:"Error",description:"Failed to delete fee"})}},F=async()=>{if(!_.name){r({variant:"destructive",title:"Error",description:"Please enter a name"});return}try{const{error:J}=await je.from("fee_types").insert([{name:_.name,description:_.description||null,category:_.category,default_amount:_.default_amount?parseFloat(_.default_amount):null}]);if(J)throw J;r({title:"Success",description:"Fee type created"}),j(!1),N({name:"",description:"",category:"other",default_amount:""}),R()}catch(J){console.error("Error saving fee type:",J),r({variant:"destructive",title:"Error",description:"Failed to save fee type"})}},U=J=>{W(J),A(!0)},X=async()=>{if(P){k(!0);try{let J=je.from("students").select("id, class_id").eq("status","active");if(P.scope==="grade_specific"&&P.grade_id){const{data:$e}=await je.from("classes").select("id").eq("grade_id",P.grade_id),Ae=($e==null?void 0:$e.map(Z=>Z.id))||[];Ae.length>0&&(J=J.in("class_id",Ae))}else P.scope==="class_specific"&&P.class_id&&(J=J.eq("class_id",P.class_id));const{data:ce,error:pe}=await J;if(pe)throw pe;if(!ce||ce.length===0){r({variant:"destructive",title:"Error",description:"No students found for this scope"});return}const Q=ce.map($e=>({student_id:$e.id,fee_id:P.id,amount:P.amount,status:"pending"})),{error:Oe}=await je.from("student_fees").upsert(Q,{onConflict:"student_id,fee_id",ignoreDuplicates:!0});if(Oe)throw Oe;r({title:"Success",description:`Fee assigned to ${ce.length} students`}),A(!1),R()}catch(J){console.error("Error assigning fee:",J),r({variant:"destructive",title:"Error",description:"Failed to assign fee"})}finally{k(!1)}}},E=J=>{const ce=z.find(pe=>pe.value===J);return(ce==null?void 0:ce.icon)||gs};if(f)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const H=n.reduce((J,ce)=>J+ce.total_expected,0),G=n.reduce((J,ce)=>J+ce.total_collected,0),q=n.filter(J=>J.status==="active");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Fees & Trips"}),s.jsx("p",{className:"text-slate-500",children:"Manage school fees, trips, and events"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:()=>j(!0),children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Fee Type"]}),s.jsxs(Se,{onClick:()=>V(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Create Fee"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:q.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Active Fees"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",G.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Collected"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",(H-G).toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Outstanding"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(G/(H||1)*100),"%"]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Collection Rate"})]})]})})]}),s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"All Fees"}),s.jsx(wa,{children:"Manage and track fee collection"})]}),s.jsx(Ze,{children:n.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(gs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No fees created yet"}),s.jsx("p",{className:"text-sm",children:'Click "Create Fee" to add a new fee or trip'})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Fee Name"}),s.jsx(lt,{children:"Scope"}),s.jsx(lt,{className:"text-right",children:"Amount"}),s.jsx(lt,{className:"text-center",children:"Students"}),s.jsx(lt,{className:"text-center",children:"Collection"}),s.jsx(lt,{children:"Due Date"}),s.jsx(lt,{className:"text-right",children:"Actions"})]})}),s.jsx($a,{children:n.map(J=>{var Q,Oe,$e;const ce=E((Q=J.fee_type)==null?void 0:Q.category),pe=J.total_expected>0?Math.round(J.total_collected/J.total_expected*100):0;return s.jsxs(xr,{children:[s.jsx(it,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:s.jsx(ce,{className:"h-4 w-4 text-slate-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:J.name}),J.description&&s.jsx("p",{className:"text-sm text-slate-500 truncate max-w-xs",children:J.description})]})]})}),s.jsx(it,{children:s.jsxs(Ft,{variant:"outline",children:[J.scope==="school_wide"&&"All Students",J.scope==="grade_specific"&&((Oe=J.grade)==null?void 0:Oe.name),J.scope==="class_specific"&&(($e=J.class)==null?void 0:$e.name)]})}),s.jsxs(it,{className:"text-right font-medium",children:["$",J.amount.toFixed(2)]}),s.jsx(it,{className:"text-center",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-green-600 font-medium",children:J.paid_count}),s.jsx("span",{className:"text-slate-400",children:" / "}),s.jsx("span",{children:J.total_students})]})}),s.jsx(it,{className:"text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("div",{className:"w-20 h-2 bg-slate-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${pe}%`}})}),s.jsxs("span",{className:"text-sm font-medium",children:[pe,"%"]})]})}),s.jsx(it,{children:J.due_date?new Date(J.due_date).toLocaleDateString():"-"}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>U(J),title:"Assign to students",children:s.jsx(yre,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>V(J),children:s.jsx(ja,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>M(J.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},J.id)})})]})})]}),s.jsx(pr,{open:p,onOpenChange:v,children:s.jsxs(dr,{className:"max-w-2xl",children:[s.jsx(mr,{children:s.jsx(gr,{children:m?"Edit Fee":"Create New Fee"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(be,{children:"Name *"}),s.jsx(We,{value:g.name,onChange:J=>y({...g,name:J.target.value}),placeholder:"e.g., End of Year Trip"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(be,{children:"Description"}),s.jsx(Er,{value:g.description,onChange:J=>y({...g,description:J.target.value}),placeholder:"Details about this fee"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Fee Type"}),s.jsxs(_t,{value:g.fee_type_id,onValueChange:J=>y({...g,fee_type_id:J}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select type"})}),s.jsx(yt,{children:i.map(J=>s.jsx(De,{value:J.id,children:J.name},J.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Amount *"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:g.amount,onChange:J=>y({...g,amount:J.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Scope *"}),s.jsxs(_t,{value:g.scope,onValueChange:J=>y({...g,scope:J,grade_id:"",class_id:""}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:I.map(J=>s.jsx(De,{value:J.value,children:J.label},J.value))})]})]}),g.scope==="grade_specific"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Grade"}),s.jsxs(_t,{value:g.grade_id,onValueChange:J=>y({...g,grade_id:J}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select grade"})}),s.jsx(yt,{children:l.map(J=>s.jsx(De,{value:J.id,children:J.name},J.id))})]})]}),g.scope==="class_specific"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Class"}),s.jsxs(_t,{value:g.class_id,onValueChange:J=>y({...g,class_id:J}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select class"})}),s.jsx(yt,{children:u.map(J=>{var ce;return s.jsxs(De,{value:J.id,children:[J.name," (",(ce=J.grade)==null?void 0:ce.name,")"]},J.id)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Due Date"}),s.jsx(We,{type:"date",value:g.due_date,onChange:J=>y({...g,due_date:J.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Academic Year"}),s.jsxs(_t,{value:g.academic_year,onValueChange:J=>y({...g,academic_year:J}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"2024-2025",children:"2024-2025"}),s.jsx(De,{value:"2025-2026",children:"2025-2026"})]})]})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(Se,{onClick:L,className:"bg-blue-600 hover:bg-blue-700",children:m?"Update":"Create Fee"})]})]})}),s.jsx(pr,{open:b,onOpenChange:j,children:s.jsxs(dr,{children:[s.jsx(mr,{children:s.jsx(gr,{children:"Create Fee Type"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Name *"}),s.jsx(We,{value:_.name,onChange:J=>N({..._,name:J.target.value}),placeholder:"e.g., Annual Trip"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Category"}),s.jsxs(_t,{value:_.category,onValueChange:J=>N({..._,category:J}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:z.map(J=>s.jsx(De,{value:J.value,children:J.label},J.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Default Amount"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:_.default_amount,onChange:J=>N({..._,default_amount:J.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Description"}),s.jsx(Er,{value:_.description,onChange:J=>N({..._,description:J.target.value}),placeholder:"Description of this fee type"})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Se,{onClick:F,className:"bg-blue-600 hover:bg-blue-700",children:"Create Type"})]})]})}),s.jsx(pr,{open:S,onOpenChange:A,children:s.jsxs(dr,{children:[s.jsx(mr,{children:s.jsx(gr,{children:"Assign Fee to Students"})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["This will assign ",s.jsx("strong",{children:P==null?void 0:P.name})," ($",(K=P==null?void 0:P.amount)==null?void 0:K.toFixed(2),") to all applicable students."]}),s.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg",children:[s.jsxs("p",{className:"font-medium",children:["Scope: ",(P==null?void 0:P.scope)==="school_wide"&&"All Students"]}),(P==null?void 0:P.scope)==="grade_specific"&&s.jsxs("p",{className:"font-medium",children:["Grade: ",(ee=P==null?void 0:P.grade)==null?void 0:ee.name]}),(P==null?void 0:P.scope)==="class_specific"&&s.jsxs("p",{className:"font-medium",children:["Class: ",(se=P==null?void 0:P.class)==null?void 0:se.name]})]}),s.jsx("p",{className:"text-sm text-slate-500 mt-4",children:"Students who already have this fee assigned will be skipped."})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),s.jsx(Se,{onClick:X,disabled:C,className:"bg-blue-600 hover:bg-blue-700",children:C?"Assigning...":"Assign Fee"})]})]})})]})},_M=[{value:"all",label:"All Positions",color:"bg-slate-100 text-slate-700"},{value:"Vaad G",label:"Vaad Gabbai",color:"bg-purple-100 text-purple-700",category:"administration"},{value:"Vaad R",label:"Vaad Ruchani",color:"bg-indigo-100 text-indigo-700",category:"administration"},{value:"Menahal",label:"Menahal",color:"bg-blue-100 text-blue-700",category:"administration"},{value:"Sgan Menahal",label:"Sgan Menahal",color:"bg-blue-100 text-blue-700",category:"administration"},{value:"Principal",label:"Principal",color:"bg-blue-100 text-blue-700",category:"administration"},{value:"Manager",label:"Manager",color:"bg-cyan-100 text-cyan-700",category:"administration"},{value:"Bus Manager",label:"Bus Manager",color:"bg-cyan-100 text-cyan-700",category:"administration"},{value:"Sec",label:"Secretary",color:"bg-pink-100 text-pink-700",category:"administration"},{value:"Chinuch Mychud",label:"Chinuch Meyuchad",color:"bg-orange-100 text-orange-700",category:"teaching"},{value:"Melamed",label:"Melamed",color:"bg-green-100 text-green-700",category:"teaching"},{value:"Melamed / Driver",label:"Melamed/Driver",color:"bg-green-100 text-green-700",category:"teaching"},{value:"Helper",label:"Helper",color:"bg-teal-100 text-teal-700",category:"teaching"},{value:"English Teacher",label:"English Teacher",color:"bg-emerald-100 text-emerald-700",category:"teaching"},{value:"Curriculum Implementer",label:"Curriculum",color:"bg-amber-100 text-amber-700",category:"teaching"},{value:"Driver",label:"Driver",color:"bg-slate-100 text-slate-700",category:"support"}],FBe=[{value:"Rabbi",label:"Rabbi"},{value:"Mrs",label:"Mrs"},{value:"Miss",label:"Miss"},{value:"Mr",label:"Mr"}],DBe=({role:e,currentUser:t})=>{const[r,n]=O.useState([]),[a,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[d,f]=O.useState(null),[h,p]=O.useState("all"),[v,m]=O.useState(""),[x,g]=O.useState({position:"Melamed",title:"Rabbi",full_name:"",hebrew_name:"",first_name:"",last_name:"",address:"",city:"",state:"NY",zip_code:"",home_phone:"",cell_phone:"",class_assignment:""}),[y,b]=O.useState(!1),{toast:j}=Tr();O.useEffect(()=>{_()},[]);const _=async()=>{try{i(!0);const{data:M,error:F}=await je.from("staff_members").select("*").eq("is_active",!0).order("last_name",{ascending:!0});if(F)throw F;n(M||[])}catch(M){console.error("Error fetching staff:",M),j({variant:"destructive",title:"Error",description:"Failed to load staff directory."})}finally{i(!1)}},N=async M=>{M.preventDefault(),b(!0);try{if(c&&d){const{error:F}=await je.from("staff_members").update(x).eq("id",d.id);if(F)throw F;j({title:"Updated",description:"Staff member details updated successfully."})}else{const{error:F}=await je.from("staff_members").insert([x]);if(F)throw F;j({title:"Staff Added",description:`${x.full_name} has been added to the directory.`})}l(!1),W(),_()}catch(F){j({variant:"destructive",title:"Error",description:F.message})}finally{b(!1)}},S=async M=>{if(window.confirm(`Are you sure you want to remove ${M.full_name} from the directory?`))try{const{error:F}=await je.from("staff_members").update({is_active:!1}).eq("id",M.id);if(F)throw F;j({title:"Staff Removed",description:`${M.full_name} has been removed from the directory.`}),_()}catch{j({variant:"destructive",title:"Error",description:"Could not remove staff member."})}},A=M=>{f(M),g({position:M.position||"Melamed",title:M.title||"Rabbi",full_name:M.full_name||"",hebrew_name:M.hebrew_name||"",first_name:M.first_name||"",last_name:M.last_name||"",address:M.address||"",city:M.city||"",state:M.state||"NY",zip_code:M.zip_code||"",home_phone:M.home_phone||"",cell_phone:M.cell_phone||"",class_assignment:M.class_assignment||""}),u(!0),l(!0)},P=()=>{W(),u(!1),l(!0)},W=()=>{g({position:"Melamed",title:"Rabbi",full_name:"",hebrew_name:"",first_name:"",last_name:"",address:"",city:"",state:"NY",zip_code:"",home_phone:"",cell_phone:"",class_assignment:""}),f(null),u(!1)},C=M=>{const F=_M.find(U=>U.value===M);return F?s.jsx(Ft,{className:F.color,children:F.label}):s.jsx(Ft,{variant:"outline",children:M})},k=r.filter(M=>{var X,E,H,G;const F=h==="all"||h==="administration"&&["Vaad G","Vaad R","Menahal","Sgan Menahal","Principal","Manager","Bus Manager","Sec"].includes(M.position)||h==="teaching"&&["Melamed","Melamed / Driver","Helper","English Teacher","Chinuch Mychud","Curriculum Implementer"].includes(M.position)||h==="support"&&["Driver"].includes(M.position)||M.position===h,U=!v||((X=M.full_name)==null?void 0:X.toLowerCase().includes(v.toLowerCase()))||((E=M.hebrew_name)==null?void 0:E.includes(v))||((H=M.cell_phone)==null?void 0:H.includes(v))||((G=M.class_assignment)==null?void 0:G.includes(v));return F&&U}),z=r.filter(M=>["Vaad G","Vaad R","Menahal","Sgan Menahal","Principal","Manager","Bus Manager","Sec"].includes(M.position)).length,I=r.filter(M=>["Melamed","Melamed / Driver","Helper","Chinuch Mychud"].includes(M.position)).length,R=r.filter(M=>M.position==="English Teacher").length,V=r.filter(M=>["Driver","Melamed / Driver"].includes(M.position)).length,L=()=>{const M=["Position","Title","Name","Hebrew Name","Address","City","State","Zip","Home Phone","Cell Phone","Class"],F=k.map(G=>[G.position,G.title,G.full_name,G.hebrew_name,G.address,G.city,G.state,G.zip_code,G.home_phone,G.cell_phone,G.class_assignment]),U=[M,...F].map(G=>G.map(q=>`"${q||""}"`).join(",")).join(`
`),X=new Blob([U],{type:"text/csv"}),E=URL.createObjectURL(X),H=document.createElement("a");H.href=E,H.download="staff_directory.csv",H.click()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Staff Directory"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Complete staff directory with contact information"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:L,children:[s.jsx(Sd,{className:"mr-2 h-4 w-4"})," Export CSV"]}),s.jsxs(Se,{onClick:P,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(eB,{className:"mr-2 h-4 w-4"})," Add Staff"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:r.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Staff"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Jte,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:z}),s.jsx("p",{className:"text-sm text-slate-500",children:"Administration"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(t3,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:I}),s.jsx("p",{className:"text-sm text-slate-500",children:"Hebrew Teachers"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:s.jsx(u0,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:R}),s.jsx("p",{className:"text-sm text-slate-500",children:"English Teachers"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-slate-100 rounded-lg",children:s.jsx(Hh,{className:"h-6 w-6 text-slate-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:V}),s.jsx("p",{className:"text-sm text-slate-500",children:"Drivers"})]})]})})]}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search by name, phone, or class...",value:v,onChange:M=>m(M.target.value),className:"pl-10"})]}),s.jsx(kl,{value:h,onValueChange:p,className:"w-full md:w-auto",children:s.jsxs(Xo,{children:[s.jsx(wr,{value:"all",children:"All"}),s.jsx(wr,{value:"administration",children:"Administration"}),s.jsx(wr,{value:"teaching",children:"Teaching"}),s.jsx(wr,{value:"support",children:"Support"})]})})]})})}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-0",children:a?s.jsxs("div",{className:"flex justify-center items-center py-20",children:[s.jsx(na,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-slate-500",children:"Loading staff directory..."})]}):k.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx(La,{className:"h-12 w-12 mx-auto text-slate-300 mb-4"}),s.jsx("p",{className:"text-slate-500",children:"No staff members found"})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{className:"bg-slate-50",children:[s.jsx(lt,{className:"font-semibold",children:"Position"}),s.jsx(lt,{className:"font-semibold",children:"Name"}),s.jsx(lt,{className:"font-semibold text-right",dir:"rtl",children:"Hebrew Name"}),s.jsx(lt,{className:"font-semibold",children:"Class"}),s.jsx(lt,{className:"font-semibold",children:"Cell Phone"}),s.jsx(lt,{className:"font-semibold",children:"Home Phone"}),s.jsx(lt,{className:"font-semibold",children:"Address"}),s.jsx(lt,{className:"font-semibold text-right",children:"Actions"})]})}),s.jsx($a,{children:k.map(M=>s.jsxs(xr,{className:"hover:bg-slate-50",children:[s.jsx(it,{children:C(M.position)}),s.jsxs(it,{className:"font-medium",children:[M.title," ",M.full_name]}),s.jsx(it,{className:"text-right font-medium",dir:"rtl",children:M.hebrew_name}),s.jsx(it,{children:M.class_assignment&&s.jsx(Ft,{variant:"outline",className:"font-mono",children:M.class_assignment})}),s.jsx(it,{children:M.cell_phone&&s.jsxs("a",{href:`tel:${M.cell_phone}`,className:"flex items-center gap-1 text-blue-600 hover:text-blue-800",children:[s.jsx(ef,{className:"h-3 w-3"}),M.cell_phone]})}),s.jsx(it,{children:M.home_phone&&s.jsxs("a",{href:`tel:${M.home_phone}`,className:"flex items-center gap-1 text-slate-600 hover:text-slate-800",children:[s.jsx(dre,{className:"h-3 w-3"}),M.home_phone]})}),s.jsx(it,{className:"max-w-[200px] truncate",children:M.address&&s.jsxs("span",{className:"flex items-center gap-1 text-slate-600 text-sm",children:[s.jsx(Q$,{className:"h-3 w-3 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:[M.address,", ",M.city]})]})}),s.jsx(it,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>A(M),children:s.jsx(ja,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>S(M),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},M.id))})]})})}),s.jsx(pr,{open:o,onOpenChange:l,children:s.jsxs(dr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(mr,{children:[s.jsx(gr,{children:c?"Edit Staff Member":"Add Staff Member"}),s.jsx(J0,{children:c?"Update staff member information":"Add a new staff member to the directory"})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Position *"}),s.jsxs(_t,{value:x.position,onValueChange:M=>g({...x,position:M}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:_M.filter(M=>M.value!=="all").map(M=>s.jsx(De,{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Title"}),s.jsxs(_t,{value:x.title,onValueChange:M=>g({...x,title:M}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:FBe.map(M=>s.jsx(De,{value:M.value,children:M.label},M.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Full Name *"}),s.jsx(We,{value:x.full_name,onChange:M=>g({...x,full_name:M.target.value}),required:!0,placeholder:"Last, First"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Hebrew Name"}),s.jsx(We,{value:x.hebrew_name,onChange:M=>g({...x,hebrew_name:M.target.value}),dir:"rtl",placeholder:"Full name"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"First Name"}),s.jsx(We,{value:x.first_name,onChange:M=>g({...x,first_name:M.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Last Name"}),s.jsx(We,{value:x.last_name,onChange:M=>g({...x,last_name:M.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Address"}),s.jsx(We,{value:x.address,onChange:M=>g({...x,address:M.target.value}),placeholder:"Street address"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"City"}),s.jsx(We,{value:x.city,onChange:M=>g({...x,city:M.target.value}),placeholder:"City"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"State"}),s.jsx(We,{value:x.state,onChange:M=>g({...x,state:M.target.value}),placeholder:"NY"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Zip Code"}),s.jsx(We,{value:x.zip_code,onChange:M=>g({...x,zip_code:M.target.value}),placeholder:"10952"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Cell Phone"}),s.jsx(We,{value:x.cell_phone,onChange:M=>g({...x,cell_phone:M.target.value}),placeholder:"845-000-0000"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Home Phone"}),s.jsx(We,{value:x.home_phone,onChange:M=>g({...x,home_phone:M.target.value}),placeholder:"845-000-0000"})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Class Assignment"}),s.jsx(We,{value:x.class_assignment,onChange:M=>g({...x,class_assignment:M.target.value}),placeholder:"e.g., A, B, C/1st"})]}),s.jsxs(Dr,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(Se,{type:"submit",disabled:y,className:"bg-blue-600 hover:bg-blue-700",children:[y&&s.jsx(na,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Save Changes":"Add Staff Member"]})]})]})]})})]})},LBe=({role:e,currentUser:t})=>{var M,F;const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]);O.useState([]);const[l,c]=O.useState(!0),[u,d]=O.useState(""),[f,h]=O.useState("all"),[p,v]=O.useState(!1),[m,x]=O.useState(null),[g,y]=O.useState([]),[b,j]=O.useState({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),[_,N]=O.useState(!1),[S,A]=O.useState(""),P=[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"credit_card",label:"Credit Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"other",label:"Other"}];O.useEffect(()=>{W()},[]);const W=async()=>{c(!0);try{const{data:U,error:X}=await je.from("payments").select(`
          *,
          student:students(id, first_name, last_name),
          student_fee:student_fees(id, fee:fees(name))
        `).order("payment_date",{ascending:!1}).limit(100);if(X)throw X;a(U||[]);const{data:E,error:H}=await je.from("students").select("id, first_name, last_name, class_id").eq("status","active").order("last_name");if(H)throw H;o(E||[])}catch(U){console.error("Error loading data:",U),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{c(!1)}},C=n.filter(U=>{var q,K;const E=`${((q=U.student)==null?void 0:q.first_name)||""} ${((K=U.student)==null?void 0:K.last_name)||""}`.toLowerCase().includes(u.toLowerCase())||U.reference_number&&U.reference_number.toLowerCase().includes(u.toLowerCase());if(f==="all")return E;const H=new Date(U.payment_date),G=new Date;if(f==="today")return E&&H.toDateString()===G.toDateString();if(f==="week"){const ee=new Date(G.setDate(G.getDate()-7));return E&&H>=ee}else if(f==="month")return E&&H.getMonth()===G.getMonth()&&H.getFullYear()===G.getFullYear();return E}),k=n.filter(U=>new Date(U.payment_date).toDateString()===new Date().toDateString()).reduce((U,X)=>U+X.amount,0),z=n.filter(U=>{const X=new Date(U.payment_date),E=new Date;return X.getMonth()===E.getMonth()&&X.getFullYear()===E.getFullYear()}).reduce((U,X)=>U+X.amount,0),I=async U=>{x(U),N(!1);try{const{data:X,error:E}=await je.from("student_fees").select(`
          *,
          fee:fees(id, name, amount)
        `).eq("student_id",U.id).in("status",["pending","partial"]);if(E)throw E;y(X||[]),(X||[]).length>0&&j(H=>({...H,student_fee_id:X[0].id,amount:(X[0].amount-X[0].amount_paid).toFixed(2)})),v(!0)}catch(X){console.error("Error loading student fees:",X),r({variant:"destructive",title:"Error",description:"Failed to load student fees"})}},R=U=>{const X=g.find(E=>E.id===U);X&&j(E=>({...E,student_fee_id:U,amount:(X.amount-X.amount_paid).toFixed(2)}))},V=async()=>{if(!m||!b.amount){r({variant:"destructive",title:"Error",description:"Please enter an amount"});return}try{const{error:U}=await je.from("payments").insert([{student_id:m.id,student_fee_id:b.student_fee_id||null,amount:parseFloat(b.amount),payment_method:b.payment_method,reference_number:b.reference_number||null,notes:b.notes||null,payment_date:new Date().toISOString().split("T")[0],received_by:t==null?void 0:t.id}]);if(U)throw U;r({title:"Success",description:"Payment recorded successfully"}),v(!1),x(null),y([]),j({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),W()}catch(U){console.error("Error saving payment:",U),r({variant:"destructive",title:"Error",description:"Failed to save payment"})}},L=i.filter(U=>`${U.first_name} ${U.last_name}`.toLowerCase().includes(S.toLowerCase()));return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Payments"}),s.jsx("p",{className:"text-slate-500",children:"Record and track student payments"})]}),s.jsxs(Se,{onClick:()=>N(!0),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",k.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Today's Total"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",z.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"This Month"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Rg,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.filter(U=>new Date(U.payment_date).toDateString()===new Date().toDateString()).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Today's Payments"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Ym,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.filter(U=>U.payment_method==="check").length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Checks Received"})]})]})})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Payment History"}),s.jsx(wa,{children:"Recent payments received"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search by student or reference...",value:u,onChange:U=>d(U.target.value),className:"pl-10 w-64"})]}),s.jsxs(_t,{value:f,onValueChange:h,children:[s.jsx(xt,{className:"w-32",children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Time"}),s.jsx(De,{value:"today",children:"Today"}),s.jsx(De,{value:"week",children:"This Week"}),s.jsx(De,{value:"month",children:"This Month"})]})]})]})]})}),s.jsx(Ze,{children:C.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Rg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No payments found"}),s.jsx("p",{className:"text-sm",children:'Click "Record Payment" to add a new payment'})]}):s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"For"}),s.jsx(lt,{className:"text-right",children:"Amount"}),s.jsx(lt,{children:"Method"}),s.jsx(lt,{children:"Reference"})]})}),s.jsx($a,{children:C.map(U=>{var X,E,H,G;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-medium",children:new Date(U.payment_date).toLocaleDateString()}),s.jsx(it,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 flex items-center justify-center",children:s.jsx(Wo,{className:"h-4 w-4 text-slate-500"})}),s.jsxs("span",{children:[(X=U.student)==null?void 0:X.first_name," ",(E=U.student)==null?void 0:E.last_name]})]})}),s.jsx(it,{children:((G=(H=U.student_fee)==null?void 0:H.fee)==null?void 0:G.name)||U.description||"General Payment"}),s.jsxs(it,{className:"text-right font-bold text-green-600",children:["$",U.amount.toFixed(2)]}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",className:"capitalize",children:U.payment_method.replace("_"," ")})}),s.jsx(it,{className:"text-slate-500",children:U.reference_number||"-"})]},U.id)})})]})})]}),s.jsx(pr,{open:_,onOpenChange:N,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:"Select Student"})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search students...",value:S,onChange:U=>A(U.target.value),className:"pl-10",autoFocus:!0})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto space-y-1",children:L.map(U=>{var X,E;return s.jsxs("button",{onClick:()=>I(U),className:"w-full p-3 text-left hover:bg-slate-100 rounded-lg transition-colors flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"font-semibold text-blue-600",children:[(X=U.first_name)==null?void 0:X.charAt(0),(E=U.last_name)==null?void 0:E.charAt(0)]})}),s.jsx("div",{children:s.jsxs("p",{className:"font-medium",children:[U.first_name," ",U.last_name]})})]},U.id)})})]})]})}),s.jsx(pr,{open:p,onOpenChange:v,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:"Record Payment"})}),s.jsxs("div",{className:"py-4 space-y-4",children:[m&&s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"font-semibold text-blue-600",children:[(M=m.first_name)==null?void 0:M.charAt(0),(F=m.last_name)==null?void 0:F.charAt(0)]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[m.first_name," ",m.last_name]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Recording payment"})]})]}),g.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Apply to Fee"}),s.jsxs(_t,{value:b.student_fee_id,onValueChange:R,children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select fee"})}),s.jsx(yt,{children:g.map(U=>{var X;return s.jsxs(De,{value:U.id,children:[(X=U.fee)==null?void 0:X.name," - Owed: $",(U.amount-U.amount_paid).toFixed(2)]},U.id)})})]})]}):s.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg text-sm text-yellow-800",children:"No outstanding fees found for this student. Payment will be recorded as a general payment."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Amount *"}),s.jsx(We,{type:"number",step:"0.01",min:"0",value:b.amount,onChange:U=>j({...b,amount:U.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Payment Method"}),s.jsxs(_t,{value:b.payment_method,onValueChange:U=>j({...b,payment_method:U}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:P.map(U=>s.jsx(De,{value:U.value,children:U.label},U.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Reference # (Check #, Transaction ID)"}),s.jsx(We,{value:b.reference_number,onChange:U=>j({...b,reference_number:U.target.value}),placeholder:"e.g., Check #1234"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{children:"Notes"}),s.jsx(Er,{value:b.notes,onChange:U=>j({...b,notes:U.target.value}),placeholder:"Optional notes about this payment"})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>{v(!1),x(null),y([])},children:"Cancel"}),s.jsxs(Se,{onClick:V,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Di,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})]})},IBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState("all"),[f,h]=O.useState(""),[p,v]=O.useState("all"),[m,x]=O.useState([]),[g,y]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{a(!0);try{const{data:z,error:I}=await je.from("fees").select("*").order("created_at",{ascending:!1});if(I)throw I;o(z||[]);const{data:R,error:V}=await je.from("student_fees").select(`
          *,
          student:students(id, first_name, last_name, class_id, class:classes!class_id(id, name, grade_id, grade:grades(id, name))),
          fee:fees(id, name, amount, due_date)
        `);if(V)throw V;c(R||[]);const{data:L,error:M}=await je.from("grades").select("*").order("grade_number");if(M)throw M;x(L||[])}catch(z){console.error("Error loading data:",z),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{a(!1)}},j=l.filter(z=>{var F,U,X,E;const R=`${((F=z.student)==null?void 0:F.first_name)||""} ${((U=z.student)==null?void 0:U.last_name)||""}`.toLowerCase().includes(f.toLowerCase()),V=u==="all"||z.fee_id===u,L=p==="all"||z.status===p,M=g==="all"||((E=(X=z.student)==null?void 0:X.class)==null?void 0:E.grade_id)===g;return R&&V&&L&&M}),_=j.reduce((z,I)=>z+I.amount,0),N=j.reduce((z,I)=>z+I.amount_paid,0),S=_-N,A=j.filter(z=>z.status==="paid").length,P=j.filter(z=>z.status==="pending").length,W=j.filter(z=>z.status==="partial").length,C=()=>{const z={};return l.forEach(I=>{var V;const R=((V=I.fee)==null?void 0:V.name)||"Unknown";z[R]||(z[R]={name:R,total:0,collected:0,students:0,paid:0}),z[R].total+=I.amount,z[R].collected+=I.amount_paid,z[R].students+=1,I.status==="paid"&&(z[R].paid+=1)}),Object.values(z)},k=()=>{const z=["Student Name","Class","Grade","Fee","Amount","Paid","Outstanding","Status"],I=j.map(F=>{var U,X,E,H,G,q,K,ee;return[`${((U=F.student)==null?void 0:U.first_name)||""} ${((X=F.student)==null?void 0:X.last_name)||""}`,((H=(E=F.student)==null?void 0:E.class)==null?void 0:H.name)||"",((K=(q=(G=F.student)==null?void 0:G.class)==null?void 0:q.grade)==null?void 0:K.name)||"",((ee=F.fee)==null?void 0:ee.name)||"",F.amount.toFixed(2),F.amount_paid.toFixed(2),(F.amount-F.amount_paid).toFixed(2),F.status]}),R=[z.join(","),...I.map(F=>F.map(U=>`"${U}"`).join(","))].join(`
`),V=new Blob([R],{type:"text/csv"}),L=window.URL.createObjectURL(V),M=document.createElement("a");M.href=L,M.download=`financial_report_${new Date().toISOString().split("T")[0]}.csv`,M.click(),window.URL.revokeObjectURL(L),r({title:"Success",description:"Report exported successfully"})};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Financial Reports"}),s.jsx("p",{className:"text-slate-500",children:"Track fee collection and outstanding balances"})]}),s.jsxs(Se,{onClick:k,variant:"outline",children:[s.jsx(Sd,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(gs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",_.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Expected"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Di,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",N.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Collected"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(rs,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",S.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Outstanding"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:A}),s.jsx("p",{className:"text-sm text-slate-500",children:"Fully Paid"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:P+W}),s.jsx("p",{className:"text-sm text-slate-500",children:"Unpaid/Partial"})]})]})})]}),s.jsxs(kl,{defaultValue:"details",className:"space-y-4",children:[s.jsxs(Xo,{children:[s.jsx(wr,{value:"details",children:"Student Details"}),s.jsx(wr,{value:"summary",children:"Fee Summary"}),s.jsx(wr,{value:"unpaid",children:"Unpaid List"})]}),s.jsx(Qr,{value:"details",children:s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(tr,{children:"Student Fee Details"}),s.jsx(wa,{children:"Complete breakdown by student"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search student...",value:f,onChange:z=>h(z.target.value),className:"pl-10 w-48"})]}),s.jsxs(_t,{value:u,onValueChange:d,children:[s.jsx(xt,{className:"w-40",children:s.jsx(jt,{placeholder:"Select fee"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Fees"}),i.map(z=>s.jsx(De,{value:z.id,children:z.name},z.id))]})]}),s.jsxs(_t,{value:g,onValueChange:y,children:[s.jsx(xt,{className:"w-36",children:s.jsx(jt,{placeholder:"Grade"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Grades"}),m.map(z=>s.jsx(De,{value:z.id,children:z.name},z.id))]})]}),s.jsxs(_t,{value:p,onValueChange:v,children:[s.jsx(xt,{className:"w-32",children:s.jsx(jt,{placeholder:"Status"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Status"}),s.jsx(De,{value:"paid",children:"Paid"}),s.jsx(De,{value:"partial",children:"Partial"}),s.jsx(De,{value:"pending",children:"Pending"})]})]})]})]})}),s.jsxs(Ze,{children:[s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"Fee"}),s.jsx(lt,{className:"text-right",children:"Amount"}),s.jsx(lt,{className:"text-right",children:"Paid"}),s.jsx(lt,{className:"text-right",children:"Outstanding"}),s.jsx(lt,{className:"text-center",children:"Status"})]})}),s.jsx($a,{children:j.map(z=>{var I,R,V,L,M;return s.jsxs(xr,{children:[s.jsxs(it,{className:"font-medium",children:[(I=z.student)==null?void 0:I.first_name," ",(R=z.student)==null?void 0:R.last_name]}),s.jsx(it,{children:s.jsx("span",{className:"text-slate-500",children:(L=(V=z.student)==null?void 0:V.class)==null?void 0:L.name})}),s.jsx(it,{children:(M=z.fee)==null?void 0:M.name}),s.jsxs(it,{className:"text-right",children:["$",z.amount.toFixed(2)]}),s.jsxs(it,{className:"text-right text-green-600",children:["$",z.amount_paid.toFixed(2)]}),s.jsxs(it,{className:"text-right font-medium text-red-600",children:["$",(z.amount-z.amount_paid).toFixed(2)]}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:z.status==="paid"?"default":z.status==="partial"?"secondary":"destructive",className:z.status==="paid"?"bg-green-500":"",children:z.status})})]},z.id)})})]}),j.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Ss,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No records found matching your filters"})]})]})]})}),s.jsx(Qr,{value:"summary",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Fee Collection Summary"}),s.jsx(wa,{children:"Overview of each fee's collection status"})]}),s.jsx(Ze,{children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Fee Name"}),s.jsx(lt,{className:"text-center",children:"Students"}),s.jsx(lt,{className:"text-right",children:"Total Expected"}),s.jsx(lt,{className:"text-right",children:"Collected"}),s.jsx(lt,{className:"text-right",children:"Outstanding"}),s.jsx(lt,{className:"text-center",children:"Collection %"}),s.jsx(lt,{className:"text-center",children:"Paid / Total"})]})}),s.jsx($a,{children:C().map((z,I)=>{const R=z.total>0?Math.round(z.collected/z.total*100):0;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-semibold",children:z.name}),s.jsx(it,{className:"text-center",children:z.students}),s.jsxs(it,{className:"text-right",children:["$",z.total.toFixed(2)]}),s.jsxs(it,{className:"text-right text-green-600",children:["$",z.collected.toFixed(2)]}),s.jsxs(it,{className:"text-right text-red-600",children:["$",(z.total-z.collected).toFixed(2)]}),s.jsx(it,{className:"text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("div",{className:"w-16 h-2 bg-slate-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${R>=80?"bg-green-500":R>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${R}%`}})}),s.jsxs("span",{className:"text-sm font-medium",children:[R,"%"]})]})}),s.jsx(it,{className:"text-center",children:s.jsxs(Ft,{variant:"outline",children:[z.paid," / ",z.students]})})]},I)})})]})})]})}),s.jsx(Qr,{value:"unpaid",children:s.jsxs(Qe,{children:[s.jsxs(er,{children:[s.jsx(tr,{className:"text-red-600",children:"Outstanding Balances"}),s.jsx(wa,{children:"Students with unpaid or partial fees"})]}),s.jsxs(Ze,{children:[s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"Grade"}),s.jsx(lt,{children:"Fee"}),s.jsx(lt,{className:"text-right",children:"Owed"}),s.jsx(lt,{children:"Due Date"}),s.jsx(lt,{className:"text-center",children:"Status"})]})}),s.jsx($a,{children:l.filter(z=>z.status!=="paid"&&z.status!=="waived").sort((z,I)=>I.amount-I.amount_paid-(z.amount-z.amount_paid)).map(z=>{var I,R,V,L,M,F,U,X,E;return s.jsxs(xr,{className:"bg-red-50/50",children:[s.jsxs(it,{className:"font-medium",children:[(I=z.student)==null?void 0:I.first_name," ",(R=z.student)==null?void 0:R.last_name]}),s.jsx(it,{children:(L=(V=z.student)==null?void 0:V.class)==null?void 0:L.name}),s.jsx(it,{children:(U=(F=(M=z.student)==null?void 0:M.class)==null?void 0:F.grade)==null?void 0:U.name}),s.jsx(it,{children:(X=z.fee)==null?void 0:X.name}),s.jsxs(it,{className:"text-right font-bold text-red-600",children:["$",(z.amount-z.amount_paid).toFixed(2)]}),s.jsx(it,{children:(E=z.fee)!=null&&E.due_date?new Date(z.fee.due_date).toLocaleDateString():"-"}),s.jsx(it,{className:"text-center",children:s.jsx(Ft,{variant:z.status==="partial"?"secondary":"destructive",children:z.status})})]},z.id)})})]}),l.filter(z=>z.status!=="paid"&&z.status!=="waived").length===0&&s.jsxs("div",{className:"text-center py-12 text-green-600",children:[s.jsx(Di,{className:"h-12 w-12 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"All caught up!"}),s.jsx("p",{className:"text-sm text-slate-500",children:"No outstanding balances"})]})]})]})})]})]})},$E=({students:e=[],value:t,onChange:r,onStudentSelect:n,placeholder:a="Search student...",disabled:i=!1,label:o})=>{var N;const[l,c]=O.useState(!1),[u,d]=O.useState(""),[f,h]=O.useState(!1),p=O.useRef(null),v=O.useRef(null),m=e.find(S=>S.id===t);O.useEffect(()=>{const S=A=>{p.current&&!p.current.contains(A.target)&&(c(!1),h(!1))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const g=[...e.filter(S=>{var P,W,C,k,z,I;if(!u&&!f)return!1;if(f&&!u)return!0;const A=u.toLowerCase();return((P=S.first_name)==null?void 0:P.toLowerCase().includes(A))||((W=S.last_name)==null?void 0:W.toLowerCase().includes(A))||((C=S.hebrew_name)==null?void 0:C.includes(u))||((k=S.father_name)==null?void 0:k.toLowerCase().includes(A))||((I=(z=S.class)==null?void 0:z.name)==null?void 0:I.toLowerCase().includes(A))})].sort((S,A)=>{var C,k;const P=((C=S.class)==null?void 0:C.name)||"",W=((k=A.class)==null?void 0:k.name)||"";return P!==W?P.localeCompare(W):(S.last_name||"").localeCompare(A.last_name||"")}),y={};f&&g.forEach(S=>{var P;const A=((P=S.class)==null?void 0:P.name)||"No class";y[A]||(y[A]=[]),y[A].push(S)});const b=S=>{r(S.id),n&&n(S),c(!1),h(!1),d("")},j=()=>{r(""),n&&n(null),d("")},_=S=>S?S.hebrew_name||`${S.first_name} ${S.last_name}`:"";return s.jsxs("div",{ref:p,className:"relative w-full",children:[m&&!l?s.jsxs("div",{className:"flex items-center justify-between border rounded-md px-3 py-2 bg-blue-50 border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-7 w-7 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 text-xs font-bold",children:_(m).charAt(0)}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-sm",children:_(m)}),((N=m.class)==null?void 0:N.name)&&s.jsx(Ft,{variant:"outline",className:"mr-2 text-[10px] py-0",children:m.class.name})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{c(!0),setTimeout(()=>{var S;return(S=v.current)==null?void 0:S.focus()},50)},children:s.jsx(Li,{className:"h-3 w-3 text-slate-400"})}),!i&&s.jsx(Se,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:j,children:s.jsx(Y0,{className:"h-3 w-3 text-red-400"})})]})]}):s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400 pointer-events-none"}),s.jsx(We,{ref:v,value:u,onChange:S=>{d(S.target.value),c(!0),S.target.value&&h(!1)},onFocus:()=>c(!0),placeholder:a,disabled:i,className:"pr-10"})]}),l&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white border border-slate-200 rounded-lg shadow-xl max-h-80 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-slate-50",children:[s.jsx("span",{className:"text-xs text-slate-500",children:f?`${g.length} students`:u?`${g.length} results`:"Type a name or browse"}),s.jsx(Se,{variant:"ghost",size:"sm",className:"h-7 text-xs px-2",onClick:()=>{h(!f),d("")},children:f?s.jsxs(s.Fragment,{children:["Search ",s.jsx(Li,{className:"h-3 w-3 mr-1"})]}):s.jsxs(s.Fragment,{children:["All Students ",s.jsx(e3,{className:"h-3 w-3 mr-1"})]})})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[f&&!u?Object.entries(y).map(([S,A])=>s.jsxs("div",{children:[s.jsxs("div",{className:"sticky top-0 bg-slate-100 px-3 py-1.5 text-xs font-bold text-slate-600 border-b",children:[S," (",A.length,")"]}),A.map(P=>s.jsx(jM,{student:P,onSelect:b,getDisplayName:_,isSelected:P.id===t},P.id))]},S)):g.map(S=>s.jsx(jM,{student:S,onSelect:b,getDisplayName:_,isSelected:S.id===t,showClass:!0},S.id)),u&&g.length===0&&s.jsxs("div",{className:"p-4 text-center text-sm text-slate-400",children:[s.jsx(Wo,{className:"h-8 w-8 mx-auto mb-2 opacity-40"}),'No students found for "',u,'"']}),!u&&!f&&s.jsx("div",{className:"p-4 text-center text-sm text-slate-400",children:'Type a name to search, or click "All Students" to browse'})]})]})]})},jM=({student:e,onSelect:t,getDisplayName:r,isSelected:n,showClass:a=!1})=>{var i,o;return s.jsxs("button",{type:"button",className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-blue-50 transition-colors text-right ${n?"bg-blue-50 border-r-2 border-blue-500":""}`,onClick:()=>t(e),children:[s.jsx("div",{className:"h-7 w-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 text-xs font-bold flex-shrink-0",children:r(e).charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[s.jsx("span",{className:"font-medium truncate",children:r(e)}),e.hebrew_name&&e.first_name&&s.jsxs("span",{className:"text-xs text-slate-400 truncate",children:["(",e.first_name," ",e.last_name,")"]})]}),a&&((i=e.class)==null?void 0:i.name)&&s.jsx("span",{className:"text-xs text-slate-400",children:e.class.name})]}),!a&&((o=e.class)==null?void 0:o.name)&&s.jsx(Ft,{variant:"outline",className:"text-[10px] py-0 flex-shrink-0",children:e.class.name})]})},jm=[{value:"monitoring",label:"Monitoring",color:"bg-yellow-100 text-yellow-800"},{value:"referral_pending",label:"Referral Pending",color:"bg-orange-100 text-orange-800"},{value:"being_evaluated",label:"Being Evaluated",color:"bg-blue-100 text-blue-800"},{value:"has_plan",label:"Has Plan",color:"bg-purple-100 text-purple-800"},{value:"receiving_services",label:"Receiving Services",color:"bg-green-100 text-green-800"},{value:"discharged",label:"Discharged",color:"bg-gray-100 text-gray-800"}],lS=[{value:"speech",label:"Speech Therapy"},{value:"OT",label:"OT - Occupational Therapy"},{value:"PT",label:"PT - Physical Therapy"},{value:"behavioral",label:"Behavioral"},{value:"academic",label:"Academic Support"},{value:"social_skills",label:"Social Skills"},{value:"reading",label:"Reading"},{value:"other",label:"Other"}],SM=[{value:"principal",label:"Principal"},{value:"teacher",label:"Teacher"},{value:"parent",label:"Parent"},{value:"private_tutor",label:"Private Tutor"},{value:"therapist",label:"Therapist"},{value:"other",label:"Other"}],NM=[{value:"psychoeducational",label:"Psychoeducational"},{value:"speech",label:"Speech"},{value:"OT",label:"OT"},{value:"behavioral",label:"Behavioral"},{value:"academic",label:"Academic"},{value:"other",label:"Other"}],cS=[{value:"coordinator",label:"Coordinator"},{value:"psychologist",label:"Psychologist"},{value:"speech_therapist",label:"Speech Therapist"},{value:"OT",label:"OT Therapist"},{value:"PT",label:"PT Therapist"},{value:"resource_teacher",label:"Resource Teacher"},{value:"aide",label:"Aide"},{value:"other",label:"Other"}],AM=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Shabbos"],MBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState("students"),[i,o]=O.useState(!0),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState([]),[m,x]=O.useState(""),[g,y]=O.useState("all"),[b,j]=O.useState(!1),[_,N]=O.useState(!1),[S,A]=O.useState(!1),[P,W]=O.useState(!1),[C,k]=O.useState(!1),[z,I]=O.useState(!1);O.useState(!1);const[R,V]=O.useState(!1),[L,M]=O.useState(!1),[F,U]=O.useState({}),[X,E]=O.useState(null),[H,G]=O.useState(null),[q,K]=O.useState(null),[ee,se]=O.useState({student_id:"",status:"monitoring",referral_reason:"",help_type:"",help_description:"",current_plan:"",referral_date:new Date().toISOString().split("T")[0]}),[J,ce]=O.useState({source_type:"teacher",source_name:"",content:"",date_gathered:new Date().toISOString().split("T")[0]}),[pe,Q]=O.useState({evaluation_type:"psychoeducational",evaluator_name:"",evaluation_date:new Date().toISOString().split("T")[0],results:"",recommendations:"",plan:"",actual_actions:""}),[Oe,$e]=O.useState({tutor_name:"",tutor_phone:"",tutor_type:"private_teacher",subject:"",schedule_days:"",schedule_time:"",location:"",frequency:"weekly",session_duration_minutes:45,notes:"",start_date:new Date().toISOString().split("T")[0]}),[Ae,Z]=O.useState({name:"",hebrew_name:"",role:"resource_teacher",phone:"",email:"",specialization:"",certification:"",notes:""}),[ke,Ge]=O.useState({day_of_week:1,start_time:"08:00",end_time:"15:00",location:"",status:"in_school",notes:""}),[Le,qe]=O.useState({special_ed_staff_id:"",tutor_name:"",session_date:new Date().toISOString().split("T")[0],session_time:"",duration_minutes:30,subject:"",content:"",progress_notes:"",goals_worked_on:""}),[ge,de]=O.useState({infoSources:[],evaluations:[],tutoring:[],sessionLogs:[]});O.useEffect(()=>{ze()},[]);const ze=async()=>{o(!0);try{const{data:le}=await je.from("special_ed_students").select(`
          *,
          student:students(id, first_name, last_name, hebrew_name, class_id,
            class:classes!class_id(name, grade:grades(name))
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});c(le||[]);const{data:$t}=await je.from("students").select("id, first_name, last_name, hebrew_name, class_id, class:classes!class_id(name)").eq("status","active").order("last_name");d($t||[]);const{data:Cr}=await je.from("special_ed_staff").select("*").eq("is_active",!0).order("name");h(Cr||[]);const{data:nr}=await je.from("classes").select("id, name, grade:grades(name)").order("name");v(nr||[])}catch(le){console.error("Error loading data:",le),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{o(!1)}},Ke=async le=>{try{const[$t,Cr,nr,Bt]=await Promise.all([je.from("special_ed_info_sources").select("*").eq("special_ed_student_id",le).order("date_gathered",{ascending:!1}),je.from("special_ed_evaluations").select("*").eq("special_ed_student_id",le).order("evaluation_date",{ascending:!1}),je.from("special_ed_tutoring").select("*").eq("special_ed_student_id",le).eq("is_active",!0).order("created_at",{ascending:!1}),je.from("special_ed_session_logs").select("*, staff:special_ed_staff(name)").eq("special_ed_student_id",le).order("session_date",{ascending:!1}).limit(20)]);de({infoSources:$t.data||[],evaluations:Cr.data||[],tutoring:nr.data||[],sessionLogs:Bt.data||[]})}catch($t){console.error("Error loading detail:",$t)}},[ft,bt]=O.useState([]),St=async le=>{const{data:$t}=await je.from("special_ed_staff_schedule").select("*").eq("special_ed_staff_id",le).eq("is_active",!0).order("day_of_week");bt($t||[])},Et=async le=>{q===le?K(null):(K(le),await Ke(le))},_e=async()=>{if(!ee.student_id){r({variant:"destructive",title:"Error",description:"Please select a student"});return}try{const le={student_id:ee.student_id,status:ee.status,referral_reason:ee.referral_reason||null,referral_date:ee.referral_date||null,help_type:ee.help_type||null,help_description:ee.help_description||null,current_plan:ee.current_plan||null,created_by:t==null?void 0:t.id};if(X){const{error:$t}=await je.from("special_ed_students").update(le).eq("id",X.id);if($t)throw $t;r({title:"Updated",description:"Student record updated"})}else{const{error:$t}=await je.from("special_ed_students").insert([le]);if($t)throw $t;r({title:"Added",description:"Student added to special education"})}j(!1),ze()}catch(le){console.error("Error saving:",le),r({variant:"destructive",title:"Error",description:le.message})}},ot=async()=>{if(!J.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{const{error:le}=await je.from("special_ed_info_sources").insert([{special_ed_student_id:X.id,source_type:J.source_type,source_name:J.source_name||null,content:J.content,date_gathered:J.date_gathered,gathered_by:t==null?void 0:t.id,gathered_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)}]);if(le)throw le;r({title:"Added",description:"Information recorded"}),N(!1),Ke(X.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},rt=async()=>{try{const{error:le}=await je.from("special_ed_evaluations").insert([{special_ed_student_id:X.id,evaluation_type:pe.evaluation_type,evaluator_name:pe.evaluator_name||null,evaluation_date:pe.evaluation_date,results:pe.results||null,recommendations:pe.recommendations||null,plan:pe.plan||null,actual_actions:pe.actual_actions||null,created_by:t==null?void 0:t.id}]);if(le)throw le;r({title:"Added",description:"Evaluation recorded"}),A(!1),Ke(X.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},qt=async()=>{if(!Oe.tutor_name){r({variant:"destructive",title:"Error",description:"Please enter tutor name"});return}try{const{error:le}=await je.from("special_ed_tutoring").insert([{special_ed_student_id:X.id,...Oe}]);if(le)throw le;r({title:"Added",description:"Tutoring assignment saved"}),W(!1),Ke(X.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},gt=async()=>{if(!Ae.name){r({variant:"destructive",title:"Error",description:"Please enter staff name"});return}try{if(H){const{error:le}=await je.from("special_ed_staff").update(Ae).eq("id",H.id);if(le)throw le;r({title:"Updated",description:"Staff record updated"})}else{const{error:le}=await je.from("special_ed_staff").insert([Ae]);if(le)throw le;r({title:"Added",description:"Staff member added"})}k(!1),ze()}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},jr=async()=>{try{const{error:le}=await je.from("special_ed_staff_schedule").insert([{special_ed_staff_id:H.id,...ke}]);if(le)throw le;r({title:"Added",description:"Schedule saved"}),I(!1),St(H.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},Gt=async()=>{if(!Le.content){r({variant:"destructive",title:"Error",description:"Please enter session content"});return}try{const{error:le}=await je.from("special_ed_session_logs").insert([{special_ed_student_id:X.id,special_ed_staff_id:Le.special_ed_staff_id||null,tutor_name:Le.tutor_name||null,session_date:Le.session_date,session_time:Le.session_time||null,duration_minutes:Le.duration_minutes||null,subject:Le.subject||null,content:Le.content,progress_notes:Le.progress_notes||null,goals_worked_on:Le.goals_worked_on||null}]);if(le)throw le;r({title:"Added",description:"Session log saved"}),V(!1),Ke(X.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},rr=le=>{const $t=jm.find(Cr=>Cr.value===le);return $t?s.jsx(Ft,{className:$t.color,children:$t.label}):s.jsx(Ft,{children:le})},Hr=(le,$t)=>{U({subject:le,body:$t}),M(!0)},Ht=l.filter(le=>{var nr,Bt,Qt,Aa,rn,Ye,Ct;const $t=!m||((Bt=(nr=le.student)==null?void 0:nr.first_name)==null?void 0:Bt.toLowerCase().includes(m.toLowerCase()))||((Aa=(Qt=le.student)==null?void 0:Qt.last_name)==null?void 0:Aa.toLowerCase().includes(m.toLowerCase()))||((Ye=(rn=le.student)==null?void 0:rn.hebrew_name)==null?void 0:Ye.includes(m))||((Ct=le.referral_reason)==null?void 0:Ct.includes(m)),Cr=g==="all"||le.status===g;return $t&&Cr}),Kr={total:l.length,monitoring:l.filter(le=>le.status==="monitoring").length,pendingEval:l.filter(le=>le.status==="referral_pending"||le.status==="being_evaluated").length,active:l.filter(le=>le.status==="receiving_services"||le.status==="has_plan").length};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(na,{className:"h-8 w-8 animate-spin text-orange-600"})}):s.jsxs("div",{className:"space-y-6",dir:"ltr",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Special Education"}),s.jsx("p",{className:"text-slate-500",children:"Special Education Management - Students, Staff, Evaluations, and Plans"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:ze,children:[s.jsx(n3,{className:"h-4 w-4 mr-2"})," Refresh"]}),s.jsxs(Se,{onClick:()=>{E(null),se({student_id:"",status:"monitoring",referral_reason:"",help_type:"",help_description:"",current_plan:"",referral_date:new Date().toISOString().split("T")[0]}),j(!0)},className:"bg-orange-600 hover:bg-orange-700",children:[s.jsx(on,{className:"h-4 w-4 mr-2"})," Add Student"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Kr.total}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Students"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(rs,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Kr.monitoring}),s.jsx("p",{className:"text-sm text-slate-500",children:"Monitoring"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(XP,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Kr.pendingEval}),s.jsx("p",{className:"text-sm text-slate-500",children:"Pending / Being Evaluated"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(tO,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Kr.active}),s.jsx("p",{className:"text-sm text-slate-500",children:"Receiving Services"})]})]})})]}),s.jsxs(kl,{value:n,onValueChange:a,children:[s.jsxs(Xo,{className:"grid w-full grid-cols-3",children:[s.jsxs(wr,{value:"students",children:["Students (",l.length,")"]}),s.jsxs(wr,{value:"staff",children:["Staff (",f.length,")"]}),s.jsx(wr,{value:"overview",children:"Overview"})]}),s.jsxs(Qr,{value:"students",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{placeholder:"Search student...",value:m,onChange:le=>x(le.target.value),className:"pl-10"})]}),s.jsxs(_t,{value:g,onValueChange:y,children:[s.jsx(xt,{className:"w-[200px]",children:s.jsx(jt,{placeholder:"Status"})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Statuses"}),jm.map(le=>s.jsx(De,{value:le.value,children:le.label},le.value))]})]})]}),s.jsxs("div",{className:"space-y-3",children:[Ht.map(le=>{var $t,Cr,nr,Bt,Qt,Aa,rn,Ye,Ct,mt;return s.jsx(Qe,{className:"overflow-hidden",children:s.jsxs(Ze,{className:"p-0",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>Et(le.id),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-700 font-bold",children:((Cr=($t=le.student)==null?void 0:$t.hebrew_name)==null?void 0:Cr.charAt(0))||((Bt=(nr=le.student)==null?void 0:nr.first_name)==null?void 0:Bt.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:((Qt=le.student)==null?void 0:Qt.hebrew_name)||`${(Aa=le.student)==null?void 0:Aa.first_name} ${(rn=le.student)==null?void 0:rn.last_name}`}),s.jsxs("p",{className:"text-sm text-slate-500",children:[((Ct=(Ye=le.student)==null?void 0:Ye.class)==null?void 0:Ct.name)||"No Class"," | ",le.help_type?(mt=lS.find(wt=>wt.value===le.help_type))==null?void 0:mt.label:"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[rr(le.status),le.referral_date&&s.jsx("span",{className:"text-xs text-slate-400",children:new Date(le.referral_date).toLocaleDateString("he-IL")}),q===le.id?s.jsx(rre,{className:"h-5 w-5 text-slate-400"}):s.jsx(e3,{className:"h-5 w-5 text-slate-400"})]})]}),le.referral_reason&&s.jsx("div",{className:"px-4 pb-2",children:s.jsxs("p",{className:"text-sm text-orange-700 bg-orange-50 p-2 rounded",children:[s.jsx("strong",{children:"Reason/Concern:"})," ",le.referral_reason]})}),q===le.id&&s.jsxs("div",{className:"border-t p-4 space-y-4 bg-slate-50",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Se,{size:"sm",variant:"outline",onClick:wt=>{wt.stopPropagation(),E(le),se({student_id:le.student_id,status:le.status,referral_reason:le.referral_reason||"",help_type:le.help_type||"",help_description:le.help_description||"",current_plan:le.current_plan||"",referral_date:le.referral_date||""}),j(!0)},children:[s.jsx(ja,{className:"h-4 w-4 mr-1"})," Edit Status"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:wt=>{wt.stopPropagation(),E(le),ce({source_type:"teacher",source_name:"",content:"",date_gathered:new Date().toISOString().split("T")[0]}),N(!0)},children:[s.jsx(Ss,{className:"h-4 w-4 mr-1"})," Add Information"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:wt=>{wt.stopPropagation(),E(le),Q({evaluation_type:"psychoeducational",evaluator_name:"",evaluation_date:new Date().toISOString().split("T")[0],results:"",recommendations:"",plan:"",actual_actions:""}),A(!0)},children:[s.jsx(XP,{className:"h-4 w-4 mr-1"})," Add Evaluation"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:wt=>{wt.stopPropagation(),E(le),$e({tutor_name:"",tutor_phone:"",tutor_type:"private_teacher",subject:"",schedule_days:"",schedule_time:"",location:"",frequency:"weekly",session_duration_minutes:45,notes:"",start_date:new Date().toISOString().split("T")[0]}),W(!0)},children:[s.jsx(u0,{className:"h-4 w-4 mr-1"})," Add Private Tutor"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:wt=>{wt.stopPropagation(),E(le),qe({special_ed_staff_id:"",tutor_name:"",session_date:new Date().toISOString().split("T")[0],session_time:"",duration_minutes:30,subject:"",content:"",progress_notes:"",goals_worked_on:""}),V(!0)},children:[s.jsx(Cs,{className:"h-4 w-4 mr-1"})," Log Session"]}),s.jsxs(Se,{size:"sm",variant:"outline",onClick:wt=>{var Ur,Pn,Nn,vn,ne,ve;wt.stopPropagation(),Hr(`Special Education Update - ${((Ur=le.student)==null?void 0:Ur.hebrew_name)||((Pn=le.student)==null?void 0:Pn.first_name)}`,`There is a new update regarding ${((Nn=le.student)==null?void 0:Nn.hebrew_name)||((vn=le.student)==null?void 0:vn.first_name)} ${(ne=le.student)==null?void 0:ne.last_name}

Status: ${(ve=jm.find(fe=>fe.value===le.status))==null?void 0:ve.label}
${le.referral_reason?`Reason: ${le.referral_reason}`:""}`)},children:[s.jsx(to,{className:"h-4 w-4 mr-1"})," Send Email"]})]}),le.current_plan&&s.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsx("h4",{className:"font-semibold text-purple-800 mb-1",children:"Plan:"}),s.jsx("p",{className:"text-sm text-purple-700",children:le.current_plan})]}),le.help_description&&s.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Help Description:"}),s.jsx("p",{className:"text-sm text-green-700",children:le.help_description})]}),ge.infoSources.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Information Gathered (",ge.infoSources.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:ge.infoSources.map(wt=>{var Ur;return s.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx(Ft,{variant:"outline",children:((Ur=SM.find(Pn=>Pn.value===wt.source_type))==null?void 0:Ur.label)||wt.source_type}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(wt.date_gathered).toLocaleDateString("he-IL")})]}),wt.source_name&&s.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["From: ",wt.source_name]}),s.jsx("p",{className:"text-slate-700",children:wt.content})]},wt.id)})})]}),ge.evaluations.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Evaluations (",ge.evaluations.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:ge.evaluations.map(wt=>{var Ur;return s.jsxs("div",{className:"p-3 bg-white rounded border text-sm space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ft,{variant:"outline",children:((Ur=NM.find(Pn=>Pn.value===wt.evaluation_type))==null?void 0:Ur.label)||wt.evaluation_type}),s.jsx("span",{className:"text-xs text-slate-400",children:wt.evaluation_date&&new Date(wt.evaluation_date).toLocaleDateString("he-IL")})]}),wt.evaluator_name&&s.jsxs("p",{className:"text-xs text-slate-500",children:["Evaluator: ",wt.evaluator_name]}),wt.results&&s.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[s.jsx("strong",{children:"Results:"})," ",wt.results]}),wt.recommendations&&s.jsxs("div",{className:"bg-yellow-50 p-2 rounded",children:[s.jsx("strong",{children:"Recommendation:"})," ",wt.recommendations]}),wt.plan&&s.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[s.jsx("strong",{children:"Plan:"})," ",wt.plan]}),wt.actual_actions&&s.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[s.jsx("strong",{children:"Actual Actions:"})," ",wt.actual_actions]})]},wt.id)})})]}),ge.tutoring.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Private Tutors (",ge.tutoring.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:ge.tutoring.map(wt=>s.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[s.jsx("p",{className:"font-bold",children:wt.tutor_name}),wt.tutor_phone&&s.jsx("p",{className:"text-slate-500",children:wt.tutor_phone}),s.jsxs("p",{className:"text-orange-600",children:[wt.subject||"N/A"," | ",wt.schedule_days," ",wt.schedule_time]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[wt.frequency," | ",wt.session_duration_minutes," min"]})]},wt.id))})]}),ge.sessionLogs.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Session Logs (",ge.sessionLogs.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:ge.sessionLogs.map(wt=>{var Ur;return s.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"font-medium",children:[((Ur=wt.staff)==null?void 0:Ur.name)||wt.tutor_name||"N/A"," - ",wt.subject||""]}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(wt.session_date).toLocaleDateString("he-IL")})]}),s.jsx("p",{className:"text-slate-600 mt-1",children:wt.content}),wt.progress_notes&&s.jsxs("p",{className:"text-green-600 text-xs mt-1",children:["Progress: ",wt.progress_notes]})]},wt.id)})})]})]})]})},le.id)}),Ht.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(La,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No students found"})]})]})]}),s.jsxs(Qr,{value:"staff",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Special Education Staff"}),s.jsxs(Se,{onClick:()=>{G(null),Z({name:"",hebrew_name:"",role:"resource_teacher",phone:"",email:"",specialization:"",certification:"",notes:""}),k(!0)},children:[s.jsx(on,{className:"h-4 w-4 mr-2"})," Add Staff"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(le=>{var $t;return s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:le.hebrew_name||le.name}),s.jsx(Ft,{variant:"outline",children:(($t=cS.find(Cr=>Cr.value===le.role))==null?void 0:$t.label)||le.role})]}),s.jsx("div",{className:"flex gap-1",children:s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{G(le),Z({name:le.name||"",hebrew_name:le.hebrew_name||"",role:le.role||"other",phone:le.phone||"",email:le.email||"",specialization:le.specialization||"",certification:le.certification||"",notes:le.notes||""}),k(!0)},children:s.jsx(ja,{className:"h-4 w-4"})})})]}),le.phone&&s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:le.phone}),le.email&&s.jsx("p",{className:"text-sm text-slate-500",children:le.email}),le.specialization&&s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:le.specialization}),s.jsx("div",{className:"mt-3 flex gap-2",children:s.jsxs(Se,{size:"sm",variant:"outline",onClick:async()=>{G(le),await St(le.id),I(!0)},children:[s.jsx(Qs,{className:"h-3 w-3 mr-1"})," Schedule"]})})]})},le.id)})}),f.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(tO,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No staff added yet"})]})]}),s.jsx(Qr,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Students by Status"})}),s.jsx(Ze,{children:jm.map(le=>{const $t=l.filter(Cr=>Cr.status===le.value).length;return $t>0?s.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[s.jsx(Ft,{className:le.color,children:le.label}),s.jsx("span",{className:"font-bold",children:$t})]},le.value):null})})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Students by Help Type"})}),s.jsx(Ze,{children:lS.map(le=>{const $t=l.filter(Cr=>Cr.help_type===le.value).length;return $t>0?s.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[s.jsx("span",{children:le.label}),s.jsx(Ft,{variant:"secondary",children:$t})]},le.value):null})})]}),s.jsxs(Qe,{className:"md:col-span-2",children:[s.jsx(er,{children:s.jsx(tr,{children:"Staff Overview"})}),s.jsx(Ze,{children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Name"}),s.jsx(lt,{children:"Role"}),s.jsx(lt,{children:"Phone"}),s.jsx(lt,{children:"Specialization"})]})}),s.jsx($a,{children:f.map(le=>{var $t;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-medium",children:le.hebrew_name||le.name}),s.jsx(it,{children:(($t=cS.find(Cr=>Cr.value===le.role))==null?void 0:$t.label)||le.role}),s.jsx(it,{children:le.phone}),s.jsx(it,{children:le.specialization})]},le.id)})})]})})]})]})})]}),s.jsx(pr,{open:b,onOpenChange:j,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:X?"Edit Student":"Add Student to Special Education"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Student *"}),s.jsx($E,{students:u,value:ee.student_id,onChange:le=>se({...ee,student_id:le}),placeholder:"Search student...",disabled:!!X})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Status"}),s.jsxs(_t,{value:ee.status,onValueChange:le=>se({...ee,status:le}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:jm.map(le=>s.jsx(De,{value:le.value,children:le.label},le.value))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Reason / Concern (what needs to be evaluated)"}),s.jsx(Er,{value:ee.referral_reason,onChange:le=>se({...ee,referral_reason:le.target.value}),placeholder:"Why does this child need to be evaluated?",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Help Type"}),s.jsxs(_t,{value:ee.help_type||"none",onValueChange:le=>se({...ee,help_type:le==="none"?"":le}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Choose..."})}),s.jsxs(yt,{children:[s.jsx(De,{value:"none",children:"None"}),lS.map(le=>s.jsx(De,{value:le.value,children:le.label},le.value))]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Date"}),s.jsx(We,{type:"date",value:ee.referral_date,onChange:le=>se({...ee,referral_date:le.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Help Description"}),s.jsx(Er,{value:ee.help_description,onChange:le=>se({...ee,help_description:le.target.value}),rows:2})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Plan"}),s.jsx(Er,{value:ee.current_plan,onChange:le=>se({...ee,current_plan:le.target.value}),rows:2})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Se,{onClick:_e,className:"bg-orange-600 hover:bg-orange-700",children:X?"Update":"Add"})]})]})}),s.jsx(pr,{open:_,onOpenChange:N,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:"Add Information"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Source"}),s.jsxs(_t,{value:J.source_type,onValueChange:le=>ce({...J,source_type:le}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:SM.map(le=>s.jsx(De,{value:le.value,children:le.label},le.value))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Name (optional)"}),s.jsx(We,{value:J.source_name,onChange:le=>ce({...J,source_name:le.target.value}),placeholder:"Source name"})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Date"}),s.jsx(We,{type:"date",value:J.date_gathered,onChange:le=>ce({...J,date_gathered:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Information *"}),s.jsx(Er,{value:J.content,onChange:le=>ce({...J,content:le.target.value}),rows:4,placeholder:"What was said / found..."})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsx(Se,{onClick:ot,children:"Save"})]})]})}),s.jsx(pr,{open:S,onOpenChange:A,children:s.jsxs(dr,{className:"max-w-2xl",children:[s.jsx(mr,{children:s.jsx(gr,{children:"Add Evaluation Results"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Evaluation Type"}),s.jsxs(_t,{value:pe.evaluation_type,onValueChange:le=>Q({...pe,evaluation_type:le}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:NM.map(le=>s.jsx(De,{value:le.value,children:le.label},le.value))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Evaluator Name"}),s.jsx(We,{value:pe.evaluator_name,onChange:le=>Q({...pe,evaluator_name:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Date"}),s.jsx(We,{type:"date",value:pe.evaluation_date,onChange:le=>Q({...pe,evaluation_date:le.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Results"}),s.jsx(Er,{value:pe.results,onChange:le=>Q({...pe,results:le.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Recommendations"}),s.jsx(Er,{value:pe.recommendations,onChange:le=>Q({...pe,recommendations:le.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Plan"}),s.jsx(Er,{value:pe.plan,onChange:le=>Q({...pe,plan:le.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Actual Actions Planned"}),s.jsx(Er,{value:pe.actual_actions,onChange:le=>Q({...pe,actual_actions:le.target.value}),rows:3})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),s.jsx(Se,{onClick:rt,className:"bg-blue-600 hover:bg-blue-700",children:"Save Evaluation"})]})]})}),s.jsx(pr,{open:P,onOpenChange:W,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:"Add Private Tutor / Therapist"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Name *"}),s.jsx(We,{value:Oe.tutor_name,onChange:le=>$e({...Oe,tutor_name:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Phone"}),s.jsx(We,{value:Oe.tutor_phone,onChange:le=>$e({...Oe,tutor_phone:le.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Type"}),s.jsxs(_t,{value:Oe.tutor_type,onValueChange:le=>$e({...Oe,tutor_type:le}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"private_teacher",children:"Private Teacher"}),s.jsx(De,{value:"speech",children:"Speech"}),s.jsx(De,{value:"OT",children:"OT"}),s.jsx(De,{value:"reading_specialist",children:"Reading Specialist"}),s.jsx(De,{value:"the",children:"THE"}),s.jsx(De,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Subject"}),s.jsx(We,{value:Oe.subject,onChange:le=>$e({...Oe,subject:le.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Days"}),s.jsx(We,{value:Oe.schedule_days,onChange:le=>$e({...Oe,schedule_days:le.target.value}),placeholder:"Monday, Wednesday"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Time"}),s.jsx(We,{value:Oe.schedule_time,onChange:le=>$e({...Oe,schedule_time:le.target.value}),placeholder:"2:00-3:00"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Location"}),s.jsx(We,{value:Oe.location,onChange:le=>$e({...Oe,location:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Frequency"}),s.jsxs(_t,{value:Oe.frequency,onValueChange:le=>$e({...Oe,frequency:le}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"daily",children:"Daily"}),s.jsx(De,{value:"weekly",children:"Weekly"}),s.jsx(De,{value:"bi-weekly",children:"Bi-Weekly"}),s.jsx(De,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Minutes"}),s.jsx(We,{type:"number",value:Oe.session_duration_minutes,onChange:le=>$e({...Oe,session_duration_minutes:parseInt(le.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Notes"}),s.jsx(Er,{value:Oe.notes,onChange:le=>$e({...Oe,notes:le.target.value}),rows:2})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>W(!1),children:"Cancel"}),s.jsx(Se,{onClick:qt,children:"Save"})]})]})}),s.jsx(pr,{open:C,onOpenChange:k,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:H?"Edit Staff":"Add Staff Member"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Name *"}),s.jsx(We,{value:Ae.name,onChange:le=>Z({...Ae,name:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Hebrew Name"}),s.jsx(We,{value:Ae.hebrew_name,onChange:le=>Z({...Ae,hebrew_name:le.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Role"}),s.jsxs(_t,{value:Ae.role,onValueChange:le=>Z({...Ae,role:le}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:cS.map(le=>s.jsx(De,{value:le.value,children:le.label},le.value))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Specialization"}),s.jsx(We,{value:Ae.specialization,onChange:le=>Z({...Ae,specialization:le.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Phone"}),s.jsx(We,{value:Ae.phone,onChange:le=>Z({...Ae,phone:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Email"}),s.jsx(We,{type:"email",value:Ae.email,onChange:le=>Z({...Ae,email:le.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Certification"}),s.jsx(We,{value:Ae.certification,onChange:le=>Z({...Ae,certification:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Notes"}),s.jsx(Er,{value:Ae.notes,onChange:le=>Z({...Ae,notes:le.target.value}),rows:2})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),s.jsx(Se,{onClick:gt,className:"bg-orange-600 hover:bg-orange-700",children:H?"Update":"Add"})]})]})}),s.jsx(pr,{open:z,onOpenChange:I,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsxs(gr,{children:["Schedule for ",(H==null?void 0:H.hebrew_name)||(H==null?void 0:H.name)]})}),s.jsxs("div",{className:"space-y-4",children:[ft.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Current Schedule:"}),ft.map(le=>s.jsxs("div",{className:"p-2 bg-slate-50 rounded border text-sm flex justify-between items-center",children:[s.jsxs("span",{children:[AM[le.day_of_week],": ",le.start_time," - ",le.end_time]}),s.jsx(Ft,{variant:le.status==="available"||le.status==="in_school"?"default":"destructive",children:le.status==="available"?"Available":le.status==="busy"?"Busy":le.status==="in_school"?"In School":"Unavailable"})]},le.id))]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Add New Time Slot:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Day"}),s.jsxs(_t,{value:String(ke.day_of_week),onValueChange:le=>Ge({...ke,day_of_week:parseInt(le)}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:AM.map((le,$t)=>s.jsx(De,{value:String($t),children:le},$t))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Status"}),s.jsxs(_t,{value:ke.status,onValueChange:le=>Ge({...ke,status:le}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"in_school",children:"In School"}),s.jsx(De,{value:"available",children:"Available"}),s.jsx(De,{value:"busy",children:"Busy"}),s.jsx(De,{value:"unavailable",children:"Unavailable"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(be,{children:"From"}),s.jsx(We,{type:"time",value:ke.start_time,onChange:le=>Ge({...ke,start_time:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"To"}),s.jsx(We,{type:"time",value:ke.end_time,onChange:le=>Ge({...ke,end_time:le.target.value})})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx(be,{children:"Location"}),s.jsx(We,{value:ke.location,onChange:le=>Ge({...ke,location:le.target.value}),placeholder:"Room number"})]})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>I(!1),children:"Close"}),s.jsx(Se,{onClick:jr,children:"Add Time Slot"})]})]})}),s.jsx(pr,{open:R,onOpenChange:V,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:"Log Session"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Staff Member"}),s.jsxs(_t,{value:Le.special_ed_staff_id||"none",onValueChange:le=>qe({...Le,special_ed_staff_id:le==="none"?"":le}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Choose..."})}),s.jsxs(yt,{children:[s.jsx(De,{value:"none",children:"Other / External"}),f.map(le=>s.jsx(De,{value:le.id,children:le.hebrew_name||le.name},le.id))]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Or: External Name"}),s.jsx(We,{value:Le.tutor_name,onChange:le=>qe({...Le,tutor_name:le.target.value}),placeholder:"Name"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Date"}),s.jsx(We,{type:"date",value:Le.session_date,onChange:le=>qe({...Le,session_date:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Time"}),s.jsx(We,{type:"time",value:Le.session_time,onChange:le=>qe({...Le,session_time:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Minutes"}),s.jsx(We,{type:"number",value:Le.duration_minutes,onChange:le=>qe({...Le,duration_minutes:parseInt(le.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Subject"}),s.jsx(We,{value:Le.subject,onChange:le=>qe({...Le,subject:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Content *"}),s.jsx(Er,{value:Le.content,onChange:le=>qe({...Le,content:le.target.value}),rows:3,placeholder:"What was done..."})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Progress Notes"}),s.jsx(Er,{value:Le.progress_notes,onChange:le=>qe({...Le,progress_notes:le.target.value}),rows:2})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Goals Worked On"}),s.jsx(We,{value:Le.goals_worked_on,onChange:le=>qe({...Le,goals_worked_on:le.target.value})})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),s.jsx(Se,{onClick:Gt,children:"Save"})]})]})}),s.jsx(xx,{isOpen:L,onClose:()=>M(!1),defaultSubject:F.subject,defaultBody:F.body,currentUser:t})]})},TM=[{value:"general",label:"General"},{value:"teacher_meeting",label:"Met with Teacher"},{value:"discipline",label:"Discipline"},{value:"academic",label:"Academic"},{value:"behavioral",label:"Behavior"},{value:"parent_feedback",label:"Parent Feedback"},{value:"other",label:"Other"}],RBe=({role:e,currentUser:t})=>{var G;const{toast:r}=Tr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState(null),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState({}),[m,x]=O.useState(null),[g,y]=O.useState(!1),[b,j]=O.useState(!1),[_,N]=O.useState(!1),[S,A]=O.useState({}),[P,W]=O.useState(null),[C,k]=O.useState({title:"",content:"",note_type:"general",edit_mode:"update"}),[z,I]=O.useState({title:"",content:"",edit_mode:"update"}),[R,V]=O.useState(null),[L,M]=O.useState("");O.useEffect(()=>{F()},[]),O.useEffect(()=>{l&&U(l.id)},[l]);const F=async()=>{a(!0);try{const{data:q}=await je.from("classes").select(`
          *,
          grade:grades(id, name, grade_number),
          hebrew_staff:app_users!hebrew_teacher_id(id, first_name, last_name),
          english_staff:app_users!english_teacher_id(id, first_name, last_name),
          students:students!class_id(id)
        `).eq("is_active",!0).order("name");o((q||[]).map(K=>{var ee;return{...K,student_count:((ee=K.students)==null?void 0:ee.length)||0}}))}catch(q){console.error("Error loading classes:",q)}finally{a(!1)}},U=async q=>{try{const{data:K}=await je.from("students").select(`
          *,
          class:classes!class_id(name, grade:grades(name))
        `).eq("class_id",q).eq("status","active").order("last_name");d(K||[]);const{data:ee}=await je.from("class_notes").select("*").eq("class_id",q).eq("is_active",!0).order("created_at",{ascending:!1});h(ee||[]);const se=(K||[]).map(J=>J.id);if(se.length>0){const{data:J}=await je.from("student_notes").select("*").in("student_id",se).eq("is_active",!0).order("created_at",{ascending:!1}).limit(100),ce={};(J||[]).forEach(pe=>{ce[pe.student_id]||(ce[pe.student_id]=[]),ce[pe.student_id].push(pe)}),v(ce)}}catch(K){console.error("Error loading class data:",K)}},X=async()=>{if(!z.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{if(R&&z.edit_mode==="edit"){const{error:q}=await je.from("class_notes").update({title:z.title,content:z.content,previous_content:R.content,edit_mode:"edit",updated_at:new Date().toISOString()}).eq("id",R.id);if(q)throw q;r({title:"Edited",description:"Note has been updated"})}else{const{error:q}=await je.from("class_notes").insert([{class_id:l.id,title:z.title||null,content:z.content,edit_mode:"update",created_by:t==null?void 0:t.id,created_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)}]);if(q)throw q;r({title:"Added",description:"Note has been added"})}y(!1),V(null),U(l.id)}catch(q){r({variant:"destructive",title:"Error",description:q.message})}},E=async()=>{if(!C.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{if(R&&C.edit_mode==="edit"){const{error:q}=await je.from("student_notes").update({title:C.title,content:C.content,note_type:C.note_type,previous_content:R.content,edit_mode:"edit",updated_at:new Date().toISOString()}).eq("id",R.id);if(q)throw q;r({title:"Edited",description:"Note has been updated (previous version kept as record)"})}else{const{error:q}=await je.from("student_notes").insert([{student_id:P.id,title:C.title||null,content:C.content,note_type:C.note_type,edit_mode:"update",created_by:t==null?void 0:t.id,created_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)}]);if(q)throw q;r({title:"Added",description:"Note has been added for this student"})}j(!1),V(null),U(l.id)}catch(q){r({variant:"destructive",title:"Error",description:q.message})}},H=u.filter(q=>{var ee,se,J,ce;if(!L)return!0;const K=L.toLowerCase();return((ee=q.first_name)==null?void 0:ee.toLowerCase().includes(K))||((se=q.last_name)==null?void 0:se.toLowerCase().includes(K))||((J=q.hebrew_name)==null?void 0:J.includes(L))||((ce=q.father_name)==null?void 0:ce.toLowerCase().includes(K))});return m?s.jsx(MG,{studentId:m,onBack:()=>x(null)}):n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(na,{className:"h-8 w-8 animate-spin text-blue-600"})}):l?s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Se,{variant:"ghost",onClick:()=>c(null),children:s.jsx(K$,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Class ",l.name]}),s.jsxs("p",{className:"text-slate-500",children:[(G=l.grade)==null?void 0:G.name," | ",u.length," Students",l.hebrew_staff&&` | Teacher: ${l.hebrew_staff.first_name} ${l.hebrew_staff.last_name}`]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:()=>{V(null),I({title:"",content:"",edit_mode:"update"}),y(!0)},children:[s.jsx(Ss,{className:"h-4 w-4 ml-2"})," Note for Class"]}),s.jsxs(Se,{variant:"outline",onClick:()=>{A({subject:`Class ${l.name} - Update`,body:`Update about Class ${l.name}

`}),N(!0)},children:[s.jsx(to,{className:"h-4 w-4 ml-2"})," Send Email"]})]})]}),f.length>0&&s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs(tr,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ss,{className:"h-5 w-5 text-blue-600"}),"Class Notes (",f.length,")"]})}),s.jsx(Ze,{children:s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:f.map(q=>s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[q.title&&s.jsx("span",{className:"font-bold",children:q.title}),q.edit_mode==="edit"&&s.jsx(Ft,{className:"bg-orange-100 text-orange-800 text-xs",children:"Edited"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-400",children:new Date(q.created_at).toLocaleDateString("he-IL")}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{V(q),I({title:q.title||"",content:q.content,edit_mode:"edit"}),y(!0)},children:s.jsx(ja,{className:"h-3 w-3"})})]})]}),s.jsx("p",{className:"text-slate-700",children:q.content}),q.previous_content&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-orange-600 cursor-pointer",children:"Previous version"}),s.jsx("p",{className:"text-xs text-slate-400 mt-1 p-2 bg-white rounded",children:q.previous_content})]}),q.created_by_name&&s.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["By: ",q.created_by_name]})]},q.id))})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{value:L,onChange:q=>M(q.target.value),placeholder:"Search student in class...",className:"pr-10"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H.map(q=>s.jsx(Qe,{className:"hover:shadow-md transition-all",children:s.jsxs(Ze,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"cursor-pointer",onClick:()=>x(q.id),children:[s.jsx("h3",{className:"font-bold text-lg text-slate-800 hover:text-blue-600 transition-colors",children:q.hebrew_name||`${q.first_name} ${q.last_name}`}),q.hebrew_name&&s.jsxs("p",{className:"text-sm text-slate-500",children:[q.first_name," ",q.last_name]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{W(q),V(null),k({title:"",content:"",note_type:"general",edit_mode:"update"}),j(!0)},title:"Add Note",children:s.jsx(d0,{className:"h-4 w-4 text-blue-600"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{A({subject:`About ${q.hebrew_name||q.first_name} ${q.last_name}`,body:`Information about ${q.hebrew_name||q.first_name} ${q.last_name}
Class: ${l.name}

`}),N(!0)},title:"Send Email",children:s.jsx(to,{className:"h-4 w-4 text-green-600"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm text-slate-600 mb-3",children:[q.father_name&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Father:"})," ",q.father_name]}),q.father_phone&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.jsx("a",{href:`tel:${q.father_phone}`,className:"text-blue-600",children:q.father_phone})]}),q.mother_name&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Mother:"})," ",q.mother_name]}),q.mother_phone&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.jsx("a",{href:`tel:${q.mother_phone}`,className:"text-blue-600",children:q.mother_phone})]}),q.address&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",q.address]}),q.date_of_birth&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Birthday:"})," ",new Date(q.date_of_birth).toLocaleDateString("he-IL")]}),q.emergency_contact&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Emergency:"})," ",q.emergency_contact," ",q.emergency_phone]})]}),q.notes&&s.jsx("div",{className:"p-2 bg-yellow-50 rounded text-sm text-yellow-800 mb-2",children:q.notes}),p[q.id]&&p[q.id].length>0&&s.jsxs("div",{className:"border-t pt-2 mt-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:["Notes (",p[q.id].length,"):"]}),s.jsxs("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[p[q.id].slice(0,3).map(K=>{var ee;return s.jsxs("div",{className:"p-2 bg-slate-50 rounded text-xs border",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ft,{variant:"outline",className:"text-[10px] py-0",children:((ee=TM.find(se=>se.value===K.note_type))==null?void 0:ee.label)||K.note_type}),K.title&&s.jsx("span",{className:"font-medium",children:K.title})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-slate-400",children:new Date(K.created_at).toLocaleDateString("he-IL")}),s.jsx(Se,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{W(q),V(K),k({title:K.title||"",content:K.content,note_type:K.note_type,edit_mode:"edit"}),j(!0)},children:s.jsx(ja,{className:"h-3 w-3"})})]})]}),s.jsx("p",{className:"text-slate-600 mt-1",children:K.content})]},K.id)}),p[q.id].length>3&&s.jsxs("p",{className:"text-xs text-blue-600 cursor-pointer",onClick:()=>x(q.id),children:["+ ",p[q.id].length-3," more notes..."]})]})]})]})},q.id))}),H.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(La,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No students found in this class"})]}),s.jsx(pr,{open:g,onOpenChange:y,children:s.jsxs(dr,{className:"max-w-lg",dir:"rtl",children:[s.jsx(mr,{children:s.jsx(gr,{children:R?"Edit Class Note":"New Note for Class "+(l==null?void 0:l.name)})}),s.jsxs("div",{className:"space-y-4 py-2",children:[R&&s.jsxs("div",{children:[s.jsx(be,{children:"Mode"}),s.jsxs(_t,{value:z.edit_mode,onValueChange:q=>I({...z,edit_mode:q}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"update",children:"UPDATE - Keep old, add new"}),s.jsx(De,{value:"edit",children:"EDIT - Replace text (keep record)"})]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Title (optional)"}),s.jsx(We,{value:z.title,onChange:q=>I({...z,title:q.target.value}),placeholder:"Short description"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Content *"}),s.jsx(Er,{value:z.content,onChange:q=>I({...z,content:q.target.value}),rows:5,placeholder:"Write here..."})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Se,{onClick:X,children:R&&z.edit_mode==="edit"?"EDIT - Replace":"UPDATE - Add"})]})]})}),s.jsx(pr,{open:b,onOpenChange:j,children:s.jsxs(dr,{className:"max-w-lg",dir:"rtl",children:[s.jsx(mr,{children:s.jsxs(gr,{children:[R?"Edit Note":"New Note"," - ",(P==null?void 0:P.hebrew_name)||(P==null?void 0:P.first_name)]})}),s.jsxs("div",{className:"space-y-4 py-2",children:[R&&s.jsxs("div",{children:[s.jsx(be,{children:"Mode"}),s.jsxs(_t,{value:C.edit_mode,onValueChange:q=>k({...C,edit_mode:q}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"update",children:"UPDATE - Keep old, add new"}),s.jsx(De,{value:"edit",children:"EDIT - Replace text (keep record)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Type"}),s.jsxs(_t,{value:C.note_type,onValueChange:q=>k({...C,note_type:q}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:TM.map(q=>s.jsx(De,{value:q.value,children:q.label},q.value))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Title"}),s.jsx(We,{value:C.title,onChange:q=>k({...C,title:q.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Content * (Every communication about/with this child)"}),s.jsx(Er,{value:C.content,onChange:q=>k({...C,content:q.target.value}),rows:5,placeholder:"What was discussed..."})]})]}),s.jsxs(Dr,{className:"flex justify-between",children:[s.jsxs(Se,{variant:"outline",onClick:()=>{A({subject:`Note - ${(P==null?void 0:P.hebrew_name)||(P==null?void 0:P.first_name)}`,body:`${C.title?C.title+`

`:""}${C.content}`}),N(!0)},children:[s.jsx(to,{className:"h-4 w-4 ml-1"})," Send Email"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Se,{onClick:E,children:R&&C.edit_mode==="edit"?"EDIT - Replace":"UPDATE - Add"})]})]})]})}),s.jsx(xx,{isOpen:_,onClose:()=>N(!1),defaultSubject:S.subject,defaultBody:S.body,currentUser:t})]}):s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Classes - Detail View"}),s.jsx("p",{className:"text-slate-500",children:"Open a class to see all students with all information"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(q=>{var K;return s.jsx(Qe,{className:"cursor-pointer hover:shadow-lg transition-all hover:border-blue-200",onClick:()=>c(q),children:s.jsxs(Ze,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800",children:q.name}),s.jsx(X$,{className:"h-5 w-5 text-slate-400"})]}),s.jsx(Ft,{variant:"outline",className:"mb-3",children:(K=q.grade)==null?void 0:K.name}),s.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Students:"}),s.jsx(Ft,{variant:"secondary",children:q.student_count})]}),q.hebrew_staff&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Teacher:"}),s.jsxs("span",{children:[q.hebrew_staff.first_name," ",q.hebrew_staff.last_name]})]}),q.english_staff&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"English:"}),s.jsxs("span",{children:[q.english_staff.first_name," ",q.english_staff.last_name]})]})]})]})},q.id)})})]})},$Be=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(new Date().toISOString().split("T")[0]),[p,v]=O.useState("all"),[m,x]=O.useState(""),[g,y]=O.useState(!1),[b,j]=O.useState(!1),[_,N]=O.useState({}),[S,A]=O.useState({student_id:"",arrival_time:new Date().toTimeString().slice(0,5),minutes_late:"",reason:"",notes:""});O.useEffect(()=>{P()},[f]);const P=async()=>{a(!0);try{const{data:L}=await je.from("late_arrivals").select(`
          *,
          student:students(id, first_name, last_name, hebrew_name, class_id,
            class:classes!class_id(name, grade:grades(name)),
            father_name, father_phone
          )
        `).eq("date",f).order("arrival_time",{ascending:!1});o(L||[]);const{data:M}=await je.from("students").select("id, first_name, last_name, hebrew_name, class_id, class:classes!class_id(name)").eq("status","active").order("last_name");c(M||[]);const{data:F}=await je.from("classes").select("id, name, grade:grades(name)").order("name");d(F||[])}catch(L){console.error("Error loading data:",L)}finally{a(!1)}},W=async()=>{if(!S.student_id){r({variant:"destructive",title:"Error",description:"Please select a student"});return}try{const{data:L,error:M}=await je.from("late_arrivals").insert([{student_id:S.student_id,date:f,arrival_time:S.arrival_time||null,minutes_late:S.minutes_late?parseInt(S.minutes_late):null,reason:S.reason||null,notes:S.notes||null,recorded_by:t==null?void 0:t.id}]).select("*, student:students(*, class:classes!class_id(*))");if(M)throw M;r({title:"Recorded",description:"Late arrival has been recorded"}),y(!1),A({student_id:"",arrival_time:new Date().toTimeString().slice(0,5),minutes_late:"",reason:"",notes:""}),P(),L&&L[0]&&z(L[0])}catch(L){r({variant:"destructive",title:"Error",description:L.message})}},C=async L=>{await je.from("late_arrivals").update({slip_printed:!0}).eq("id",L),P()},k=async L=>{await je.from("late_arrivals").update({slip_given_to_teacher:!0}).eq("id",L),P()},z=L=>{var U,X,E,H,G;const M=`
      <html dir="rtl">
      <head><style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
        .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 15px; }
        .field { margin: 8px 0; font-size: 14px; }
        .label { font-weight: bold; }
        .footer { border-top: 1px solid #ccc; margin-top: 20px; padding-top: 10px; text-align: center; font-size: 12px; color: #666; }
      </style></head>
      <body>
        <div class="header">
          <h2>Slip - Late Arrival</h2>
          <p>${new Date(f).toLocaleDateString("en-US")}</p>
        </div>
        <div class="field"><span class="label">Student:</span> ${((U=L.student)==null?void 0:U.hebrew_name)||`${(X=L.student)==null?void 0:X.first_name} ${(E=L.student)==null?void 0:E.last_name}`}</div>
        <div class="field"><span class="label">Class:</span> ${((G=(H=L.student)==null?void 0:H.class)==null?void 0:G.name)||"N/A"}</div>
        <div class="field"><span class="label">Arrival Time:</span> ${L.arrival_time||"N/A"}</div>
        <div class="field"><span class="label">Minutes Late:</span> ${L.minutes_late||"N/A"}</div>
        ${L.reason?`<div class="field"><span class="label">Reason:</span> ${L.reason}</div>`:""}
        <div class="footer">Recorded by Assistant Principal</div>
      </body></html>
    `,F=window.open("","_blank");F.document.write(M),F.document.close(),F.print(),C(L.id)},I=()=>{const L=R.filter(U=>!U.slip_printed);if(L.length===0){r({title:"Info",description:"All slips have already been printed"});return}const M=L.map(U=>{var X,E,H,G,q;return`
      <div style="page-break-after: always; padding: 20px; max-width: 400px; margin: 0 auto; border: 1px solid #ccc; margin-bottom: 20px;">
        <div style="text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 15px;">
          <h3>Slip - Late Arrival</h3>
          <p>${new Date(f).toLocaleDateString("en-US")}</p>
        </div>
        <p><strong>Student:</strong> ${((X=U.student)==null?void 0:X.hebrew_name)||`${(E=U.student)==null?void 0:E.first_name} ${(H=U.student)==null?void 0:H.last_name}`}</p>
        <p><strong>Class:</strong> ${((q=(G=U.student)==null?void 0:G.class)==null?void 0:q.name)||"N/A"}</p>
        <p><strong>Time:</strong> ${U.arrival_time||"N/A"} (${U.minutes_late||"?"} minutes late)</p>
        ${U.reason?`<p><strong>Reason:</strong> ${U.reason}</p>`:""}
      </div>
    `}).join(""),F=window.open("","_blank");F.document.write(`<html dir="rtl"><head><style>body { font-family: Arial, sans-serif; }</style></head><body>${M}</body></html>`),F.document.close(),F.print(),L.forEach(U=>C(U.id))},R=i.filter(L=>{var U,X,E,H,G,q,K;const M=p==="all"||((U=L.student)==null?void 0:U.class_id)===p,F=!m||((E=(X=L.student)==null?void 0:X.first_name)==null?void 0:E.toLowerCase().includes(m.toLowerCase()))||((G=(H=L.student)==null?void 0:H.last_name)==null?void 0:G.toLowerCase().includes(m.toLowerCase()))||((K=(q=L.student)==null?void 0:q.hebrew_name)==null?void 0:K.includes(m));return M&&F}),V={};return R.forEach(L=>{var F,U;const M=((U=(F=L.student)==null?void 0:F.class)==null?void 0:U.name)||"No Class";V[M]||(V[M]=[]),V[M].push(L)}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(na,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Late Arrivals"}),s.jsx("p",{className:"text-slate-500",children:"Track students who arrive late, print slips for teachers"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:I,children:[s.jsx(Fy,{className:"h-4 w-4 ml-2"})," Print All Slips"]}),s.jsxs(Se,{onClick:()=>{A({student_id:"",arrival_time:new Date().toTimeString().slice(0,5),minutes_late:"",reason:"",notes:""}),y(!0)},className:"bg-amber-600 hover:bg-amber-700",children:[s.jsx(on,{className:"h-4 w-4 ml-2"})," Add Late Arrival"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(rs,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Late Today"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Fy,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(L=>!L.slip_printed).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Not Printed"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ss,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(L=>L.slip_given_to_teacher).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Given to Teacher"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(La,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Object.keys(V).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Classes Affected"})]})]})})]}),s.jsx(Qe,{children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Date"}),s.jsx(We,{type:"date",value:f,onChange:L=>h(L.target.value),className:"w-[200px]"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(be,{children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Li,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{value:m,onChange:L=>x(L.target.value),placeholder:"Search student...",className:"pr-10"})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Class"}),s.jsxs(_t,{value:p,onValueChange:v,children:[s.jsx(xt,{className:"w-[160px]",children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All Classes"}),u.map(L=>s.jsx(De,{value:L.id,children:L.name},L.id))]})]})]})]})})}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs(tr,{children:["Late Arrivals - ",new Date(f).toLocaleDateString("en-US")]})}),s.jsx(Ze,{className:"p-0",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"Time"}),s.jsx(lt,{children:"Minutes Late"}),s.jsx(lt,{children:"Reason"}),s.jsx(lt,{children:"Slip"}),s.jsx(lt,{children:"Actions"})]})}),s.jsxs($a,{children:[R.map(L=>{var M,F,U,X,E;return s.jsxs(xr,{children:[s.jsx(it,{className:"font-medium",children:((M=L.student)==null?void 0:M.hebrew_name)||`${(F=L.student)==null?void 0:F.first_name} ${(U=L.student)==null?void 0:U.last_name}`}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",children:((E=(X=L.student)==null?void 0:X.class)==null?void 0:E.name)||"N/A"})}),s.jsx(it,{children:L.arrival_time||"-"}),s.jsx(it,{children:L.minutes_late&&s.jsxs(Ft,{className:L.minutes_late>15?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:[L.minutes_late," min"]})}),s.jsx(it,{className:"max-w-[200px] truncate",children:L.reason||"-"}),s.jsx(it,{children:s.jsxs("div",{className:"flex gap-1",children:[L.slip_printed?s.jsx(Ft,{className:"bg-green-100 text-green-800",children:"Printed"}):s.jsx(Ft,{className:"bg-gray-100 text-gray-600",children:"No"}),L.slip_given_to_teacher&&s.jsx(Ft,{className:"bg-blue-100 text-blue-800",children:"Given"})]})}),s.jsx(it,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>z(L),title:"Print Slip",children:s.jsx(Fy,{className:"h-4 w-4"})}),!L.slip_given_to_teacher&&L.slip_printed&&s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>k(L.id),title:"Mark as Given",children:s.jsx(Ss,{className:"h-4 w-4 text-green-600"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{var H,G,q,K,ee;N({subject:`Late Arrival - ${((H=L.student)==null?void 0:H.hebrew_name)||((G=L.student)==null?void 0:G.first_name)}`,body:`${((q=L.student)==null?void 0:q.hebrew_name)||((K=L.student)==null?void 0:K.first_name)} ${(ee=L.student)==null?void 0:ee.last_name} arrived late on ${new Date(f).toLocaleDateString("en-US")}

Time: ${L.arrival_time||"N/A"}
Minutes Late: ${L.minutes_late||"N/A"}
Reason: ${L.reason||"N/A"}`}),j(!0)},children:s.jsx(to,{className:"h-4 w-4 text-blue-600"})})]})})]},L.id)}),R.length===0&&s.jsx(xr,{children:s.jsxs(it,{colSpan:7,className:"text-center py-12 text-slate-500",children:[s.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsxs("p",{children:["No one arrived late on ",new Date(f).toLocaleDateString("en-US")]})]})})]})]})})]}),Object.keys(V).length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(V).map(([L,M])=>s.jsxs(Qe,{children:[s.jsx(er,{className:"pb-2",children:s.jsxs(tr,{className:"text-sm flex items-center justify-between",children:[s.jsxs("span",{children:["Class ",L]}),s.jsxs(Ft,{children:[M.length," late"]})]})}),s.jsx(Ze,{children:s.jsx("div",{className:"space-y-1",children:M.map(F=>{var U,X;return s.jsxs("div",{className:"text-sm flex justify-between items-center py-1 border-b last:border-0",children:[s.jsx("span",{children:((U=F.student)==null?void 0:U.hebrew_name)||((X=F.student)==null?void 0:X.first_name)}),s.jsx("span",{className:"text-slate-400",children:F.arrival_time})]},F.id)})})})]},L))}),s.jsx(pr,{open:g,onOpenChange:y,children:s.jsxs(dr,{className:"max-w-lg",dir:"rtl",children:[s.jsx(mr,{children:s.jsx(gr,{children:"Record Late Arrival"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Student *"}),s.jsx($E,{students:l,value:S.student_id,onChange:L=>A({...S,student_id:L}),placeholder:"Search student..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Arrival Time"}),s.jsx(We,{type:"time",value:S.arrival_time,onChange:L=>A({...S,arrival_time:L.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Minutes Late"}),s.jsx(We,{type:"number",value:S.minutes_late,onChange:L=>A({...S,minutes_late:L.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Reason"}),s.jsx(We,{value:S.reason,onChange:L=>A({...S,reason:L.target.value}),placeholder:"Why late?"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Notes"}),s.jsx(Er,{value:S.notes,onChange:L=>A({...S,notes:L.target.value}),rows:2})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Se,{onClick:W,className:"bg-amber-600 hover:bg-amber-700",children:"Record"})]})]})}),s.jsx(xx,{isOpen:b,onClose:()=>j(!1),defaultSubject:_.subject,defaultBody:_.body,currentUser:t})]})},BBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState(!0);O.useState("changes");const[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(new Date().toISOString().split("T")[0]),[p,v]=O.useState("all"),[m,x]=O.useState(!1),[g,y]=O.useState(!1),[b,j]=O.useState(!1),[_,N]=O.useState({}),[S,A]=O.useState(null),[P,W]=O.useState({route_name:"",route_number:"",driver_name:"",driver_phone:""}),[C,k]=O.useState({student_id:"",change_date:new Date().toISOString().split("T")[0],original_bus_id:"",new_bus_id:"",change_type:"one_time",reason:"",pickup_address:"",effective_from:"",effective_until:"",notes:""});O.useEffect(()=>{z()},[f]);const z=async()=>{a(!0);try{const[U,X,E]=await Promise.all([je.from("bus_routes").select("*").eq("is_active",!0).order("route_name"),je.from("bus_changes").select(`
          *,
          student:students(id, first_name, last_name, hebrew_name, class_id,
            class:classes!class_id(name)),
          original_bus:bus_routes!original_bus_id(route_name, route_number),
          new_bus:bus_routes!new_bus_id(route_name, route_number)
        `).gte("change_date",f).order("change_date",{ascending:!0}),je.from("students").select("id, first_name, last_name, hebrew_name, class_id, class:classes!class_id(name)").eq("status","active").order("last_name")]);o(U.data||[]),c(X.data||[]),d(E.data||[])}catch(U){console.error("Error loading:",U)}finally{a(!1)}},I=async()=>{if(!P.route_name){r({variant:"destructive",title:"Error",description:"Please enter a route name"});return}try{if(S){const{error:U}=await je.from("bus_routes").update(P).eq("id",S.id);if(U)throw U}else{const{error:U}=await je.from("bus_routes").insert([P]);if(U)throw U}r({title:"Saved",description:"Bus route saved successfully"}),x(!1),z()}catch(U){r({variant:"destructive",title:"Error",description:U.message})}},R=async U=>{if(k(X=>({...X,student_id:U,original_bus_id:""})),!!U)try{const{data:X}=await je.from("student_bus_assignments").select("bus_route_id").eq("student_id",U).eq("is_active",!0).single();X!=null&&X.bus_route_id&&k(E=>({...E,original_bus_id:X.bus_route_id}))}catch{}},V=async()=>{if(!C.student_id){r({variant:"destructive",title:"Error",description:"Please select a student"});return}try{const{error:U}=await je.from("bus_changes").insert([{...C,original_bus_id:C.original_bus_id||null,new_bus_id:C.new_bus_id||null,effective_from:C.effective_from||C.change_date,effective_until:C.effective_until||null,created_by:t==null?void 0:t.id}]);if(U)throw U;r({title:"New Change",description:"Bus change recorded"}),y(!1),z()}catch(U){r({variant:"destructive",title:"Error",description:U.message})}},L=()=>{const U=l.filter(H=>H.change_date===f);if(U.length===0){r({title:"Info",description:"No changes for today"});return}const X=`
      <html dir="rtl">
      <head><style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h1 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: right; }
        th { background: #f0f0f0; }
        .footer { text-align: center; margin-top: 30px; font-size: 12px; color: #666; }
      </style></head>
      <body>
        <h1>Bus Changes - ${new Date(f).toLocaleDateString("en-US")}</h1>
        <table>
          <thead>
            <tr>
              <th>Student</th>
              <th>Class</th>
              <th>From Bus</th>
              <th>To Bus</th>
              <th>Type</th>
              <th>Reason</th>
            </tr>
          </thead>
          <tbody>
            ${U.map(H=>{var G,q,K,ee,se,J,ce;return`
              <tr>
                <td>${((G=H.student)==null?void 0:G.hebrew_name)||`${(q=H.student)==null?void 0:q.first_name} ${(K=H.student)==null?void 0:K.last_name}`}</td>
                <td>${((se=(ee=H.student)==null?void 0:ee.class)==null?void 0:se.name)||"N/A"}</td>
                <td>${((J=H.original_bus)==null?void 0:J.route_name)||"-"}</td>
                <td>${((ce=H.new_bus)==null?void 0:ce.route_name)||"-"}</td>
                <td>${H.change_type==="one_time"?"One Time":H.change_type==="temporary"?"Temporary":"Permanent"}</td>
                <td>${H.reason||"-"}</td>
              </tr>
            `}).join("")}
          </tbody>
        </table>
        <div class="footer">Printed from system</div>
      </body></html>
    `,E=window.open("","_blank");E.document.write(X),E.document.close(),E.print()},M=async U=>{confirm("Are you sure?")&&(await je.from("bus_routes").update({is_active:!1}).eq("id",U),z())},F=l.filter(U=>p==="all"||U.change_type===p);return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(na,{className:"h-8 w-8 animate-spin text-cyan-600"})}):s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Bus Changes"}),s.jsx("p",{className:"text-slate-500",children:"Create and print bus changes"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Se,{variant:"outline",onClick:L,children:[s.jsx(Fy,{className:"h-4 w-4 ml-2"})," Print"]}),s.jsxs(Se,{variant:"outline",onClick:()=>{A(null),W({route_name:"",route_number:"",driver_name:"",driver_phone:""}),x(!0)},children:[s.jsx(xre,{className:"h-4 w-4 ml-2"})," New Route"]}),s.jsxs(Se,{onClick:()=>{k({student_id:"",change_date:f,original_bus_id:"",new_bus_id:"",change_type:"one_time",reason:"",pickup_address:"",effective_from:"",effective_until:"",notes:""}),y(!0)},className:"bg-cyan-600 hover:bg-cyan-700",children:[s.jsx(on,{className:"h-4 w-4 ml-2"})," New Change"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-cyan-100 rounded-lg",children:s.jsx(Hh,{className:"h-6 w-6 text-cyan-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Bus Routes"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(rs,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:l.filter(U=>U.change_date===f).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Changes Today"})]})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Cs,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:l.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Upcoming"})]})]})})]}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"From Date"}),s.jsx(We,{type:"date",value:f,onChange:U=>h(U.target.value),className:"w-[200px]"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Change Type"}),s.jsxs(_t,{value:p,onValueChange:v,children:[s.jsx(xt,{className:"w-[180px]",children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"all",children:"All"}),s.jsx(De,{value:"one_time",children:"One Time"}),s.jsx(De,{value:"temporary",children:"Temporary"}),s.jsx(De,{value:"permanent",children:"Permanent"})]})]})]})]})}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(Hh,{className:"h-5 w-5"})," Bus Routes (",i.length,")"]})}),s.jsx(Ze,{className:"p-0",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Route Name"}),s.jsx(lt,{children:"Number"}),s.jsx(lt,{children:"Driver"}),s.jsx(lt,{children:"Phone"}),s.jsx(lt,{children:"Actions"})]})}),s.jsxs($a,{children:[i.map(U=>s.jsxs(xr,{children:[s.jsx(it,{className:"font-medium",children:U.route_name}),s.jsx(it,{children:U.route_number||"-"}),s.jsx(it,{children:U.driver_name||"-"}),s.jsx(it,{children:U.driver_phone||"-"}),s.jsx(it,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{A(U),W({route_name:U.route_name||"",route_number:U.route_number||"",driver_name:U.driver_name||"",driver_phone:U.driver_phone||""}),x(!0)},children:s.jsx(ja,{className:"h-4 w-4"})}),s.jsx(Se,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>M(U.id),children:s.jsx(Qa,{className:"h-4 w-4"})})]})})]},U.id)),i.length===0&&s.jsx(xr,{children:s.jsx(it,{colSpan:5,className:"text-center py-8 text-slate-500",children:"No routes found"})})]})]})})]}),s.jsxs(Qe,{children:[s.jsx(er,{children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-5 w-5 text-amber-600"})," Changes (",F.length,")"]})}),s.jsx(Ze,{className:"p-0",children:s.jsxs(Ma,{children:[s.jsx(Ra,{children:s.jsxs(xr,{children:[s.jsx(lt,{children:"Date"}),s.jsx(lt,{children:"Student"}),s.jsx(lt,{children:"Class"}),s.jsx(lt,{children:"From Bus"}),s.jsx(lt,{children:"To Bus"}),s.jsx(lt,{children:"Type"}),s.jsx(lt,{children:"Reason"}),s.jsx(lt,{children:"Actions"})]})}),s.jsxs($a,{children:[F.map(U=>{var X,E,H,G,q,K,ee;return s.jsxs(xr,{children:[s.jsx(it,{children:new Date(U.change_date).toLocaleDateString("en-US")}),s.jsx(it,{className:"font-medium",children:((X=U.student)==null?void 0:X.hebrew_name)||`${(E=U.student)==null?void 0:E.first_name} ${(H=U.student)==null?void 0:H.last_name}`}),s.jsx(it,{children:s.jsx(Ft,{variant:"outline",children:((q=(G=U.student)==null?void 0:G.class)==null?void 0:q.name)||"N/A"})}),s.jsx(it,{children:((K=U.original_bus)==null?void 0:K.route_name)||"-"}),s.jsx(it,{children:((ee=U.new_bus)==null?void 0:ee.route_name)||"-"}),s.jsx(it,{children:s.jsx(Ft,{className:U.change_type==="permanent"?"bg-red-100 text-red-800":U.change_type==="temporary"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:U.change_type==="one_time"?"One Time":U.change_type==="temporary"?"Temporary":"Permanent"})}),s.jsx(it,{className:"max-w-[150px] truncate",children:U.reason||"-"}),s.jsx(it,{children:s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>{var se,J,ce,pe,Q,Oe;N({subject:`Bus Change - ${((se=U.student)==null?void 0:se.hebrew_name)||((J=U.student)==null?void 0:J.first_name)}`,body:`Bus change for ${((ce=U.student)==null?void 0:ce.hebrew_name)||((pe=U.student)==null?void 0:pe.first_name)}

Date: ${new Date(U.change_date).toLocaleDateString("en-US")}
From: ${((Q=U.original_bus)==null?void 0:Q.route_name)||"N/A"}
To: ${((Oe=U.new_bus)==null?void 0:Oe.route_name)||"N/A"}
Reason: ${U.reason||"N/A"}`}),j(!0)},children:s.jsx(to,{className:"h-4 w-4 text-blue-600"})})})]},U.id)}),F.length===0&&s.jsx(xr,{children:s.jsxs(it,{colSpan:8,className:"text-center py-8 text-slate-500",children:[s.jsx(Hh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No changes found"})]})})]})]})})]}),s.jsx(pr,{open:m,onOpenChange:x,children:s.jsxs(dr,{className:"max-w-lg",dir:"rtl",children:[s.jsx(mr,{children:s.jsx(gr,{children:S?"Edit Route":"New Bus Route"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Route Name *"}),s.jsx(We,{value:P.route_name,onChange:U=>W({...P,route_name:U.target.value}),placeholder:"Bus 1"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Route Number"}),s.jsx(We,{value:P.route_number,onChange:U=>W({...P,route_number:U.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Driver Name"}),s.jsx(We,{value:P.driver_name,onChange:U=>W({...P,driver_name:U.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Driver Phone"}),s.jsx(We,{value:P.driver_phone,onChange:U=>W({...P,driver_phone:U.target.value})})]})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),s.jsx(Se,{onClick:I,className:"bg-cyan-600 hover:bg-cyan-700",children:S?"Update":"Add"})]})]})}),s.jsx(pr,{open:g,onOpenChange:y,children:s.jsxs(dr,{className:"max-w-lg",dir:"rtl",children:[s.jsx(mr,{children:s.jsx(gr,{children:"New Bus Change"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Student *"}),s.jsx($E,{students:u,value:C.student_id,onChange:R,placeholder:"Search student..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"From Bus"}),s.jsxs(_t,{value:C.original_bus_id||"none",onValueChange:U=>k({...C,original_bus_id:U==="none"?"":U}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select..."})}),s.jsxs(yt,{children:[s.jsx(De,{value:"none",children:"None"}),i.map(U=>s.jsxs(De,{value:U.id,children:[U.route_name," (",U.route_number,")"]},U.id))]})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"To Bus"}),s.jsxs(_t,{value:C.new_bus_id||"none",onValueChange:U=>k({...C,new_bus_id:U==="none"?"":U}),children:[s.jsx(xt,{children:s.jsx(jt,{placeholder:"Select..."})}),s.jsxs(yt,{children:[s.jsx(De,{value:"none",children:"None"}),i.map(U=>s.jsxs(De,{value:U.id,children:[U.route_name," (",U.route_number,")"]},U.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Date"}),s.jsx(We,{type:"date",value:C.change_date,onChange:U=>k({...C,change_date:U.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Type"}),s.jsxs(_t,{value:C.change_type,onValueChange:U=>k({...C,change_type:U}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"one_time",children:"One Time"}),s.jsx(De,{value:"temporary",children:"Temporary"}),s.jsx(De,{value:"permanent",children:"Permanent"})]})]})]})]}),C.change_type==="temporary"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"From Date"}),s.jsx(We,{type:"date",value:C.effective_from,onChange:U=>k({...C,effective_from:U.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Until Date"}),s.jsx(We,{type:"date",value:C.effective_until,onChange:U=>k({...C,effective_until:U.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Alternate Address (if applicable)"}),s.jsx(We,{value:C.pickup_address,onChange:U=>k({...C,pickup_address:U.target.value}),placeholder:"New pickup address"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Reason"}),s.jsx(We,{value:C.reason,onChange:U=>k({...C,reason:U.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Notes"}),s.jsx(Er,{value:C.notes,onChange:U=>k({...C,notes:U.target.value}),rows:2})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Se,{onClick:V,className:"bg-cyan-600 hover:bg-cyan-700",children:"Record"})]})]})}),s.jsx(xx,{isOpen:b,onClose:()=>j(!1),defaultSubject:_.subject,defaultBody:_.body,currentUser:t})]})},CM=[{value:"general",label:"General"},{value:"meeting",label:"Meeting"},{value:"call",label:"Call"},{value:"deadline",label:"Deadline"},{value:"follow_up",label:"Follow-up"},{value:"evaluation",label:"Evaluation"},{value:"payment",label:"Payment"},{value:"other",label:"Other"}],UBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState(!1),[u,d]=O.useState(null),[f,h]=O.useState("active"),[p,v]=O.useState(""),[m,x]=O.useState({title:"",description:"",reminder_type:"general",reminder_date:"",reminder_time:"09:00",send_email:!1,email_recipients:"",priority:"normal",related_student_id:null,related_student_name:""}),[g,y]=O.useState([]),[b,j]=O.useState("");O.useEffect(()=>{_(),N()},[f]);const _=async()=>{a(!0);try{let F=je.from("reminders").select("*").eq("is_active",!0).order("reminder_date",{ascending:!0});const U=new Date().toISOString().split("T")[0];f==="active"?F=F.eq("is_completed",!1):f==="completed"?F=F.eq("is_completed",!0):f==="overdue"&&(F=F.eq("is_completed",!1).lt("reminder_date",U));const{data:X,error:E}=await F;if(E)throw E;o(X||[])}catch(F){console.error("Error loading reminders:",F)}finally{a(!1)}},N=async()=>{const{data:F}=await je.from("students").select("id, first_name, last_name, hebrew_name").eq("status","active").order("last_name");y(F||[])},S=async()=>{if(!m.title||!m.reminder_date){r({variant:"destructive",title:"Error",description:"Please fill in title and date"});return}try{const F={title:m.title,description:m.description||null,reminder_type:m.reminder_type,reminder_date:`${m.reminder_date}T${m.reminder_time||"09:00"}:00`,send_email:m.send_email,email_recipients:m.send_email?m.email_recipients:null,priority:m.priority,related_student_id:m.related_student_id||null,related_student_name:m.related_student_name||null,created_by:t==null?void 0:t.id,created_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)};if(u){const{error:U}=await je.from("reminders").update(F).eq("id",u.id);if(U)throw U;r({title:"Updated",description:"Reminder has been updated"})}else{const{error:U}=await je.from("reminders").insert([F]);if(U)throw U;r({title:"Added",description:"Reminder has been added"})}if(m.send_email&&m.email_recipients)try{const U=m.email_recipients.split(",").map(X=>X.trim());await IG({to:U,subject:`Reminder: ${m.title}`,body:`${m.description||m.title}

Date: ${m.reminder_date} ${m.reminder_time}`,relatedType:"reminder",sentBy:t==null?void 0:t.id}),r({title:"Email Sent",description:`Reminder email sent to ${U.length} recipient(s)`})}catch(U){console.error("Failed to send reminder email:",U),r({variant:"destructive",title:"Email Failed",description:U.message||"Could not send reminder email"})}c(!1),d(null),_()}catch(F){r({variant:"destructive",title:"Error",description:F.message})}},A=async F=>{try{const{error:U}=await je.from("reminders").update({is_completed:!0,completed_at:new Date().toISOString()}).eq("id",F);if(U)throw U;r({title:"Done",description:"Reminder has been completed"}),_()}catch(U){r({variant:"destructive",title:"Error",description:U.message})}},P=async F=>{try{const{error:U}=await je.from("reminders").update({is_active:!1}).eq("id",F);if(U)throw U;r({title:"Deleted",description:"Reminder has been deleted"}),_()}catch(U){r({variant:"destructive",title:"Error",description:U.message})}},W=()=>{d(null),x({title:"",description:"",reminder_type:"general",reminder_date:"",reminder_time:"09:00",send_email:!1,email_recipients:"",priority:"normal",related_student_id:null,related_student_name:""}),c(!0)},C=F=>{d(F);const U=F.reminder_date?new Date(F.reminder_date):null;x({title:F.title,description:F.description||"",reminder_type:F.reminder_type||"general",reminder_date:U?U.toISOString().split("T")[0]:"",reminder_time:U?U.toTimeString().slice(0,5):"09:00",send_email:F.send_email||!1,email_recipients:F.email_recipients||"",priority:F.priority||"normal",related_student_id:F.related_student_id,related_student_name:F.related_student_name||""}),c(!0)},k=F=>F?new Date(F)<new Date&&new Date(F).toDateString()!==new Date().toDateString():!1,z=F=>F?new Date(F).toDateString()===new Date().toDateString():!1,I=i.filter(F=>{var X,E,H,G;if(!p)return!0;const U=p.toLowerCase();return((X=F.title)==null?void 0:X.toLowerCase().includes(U))||((E=F.description)==null?void 0:E.toLowerCase().includes(U))||((H=F.related_student_name)==null?void 0:H.toLowerCase().includes(U))||((G=F.title)==null?void 0:G.includes(p))});new Date().toISOString().split("T")[0];const R=i.filter(F=>!F.is_completed&&k(F.reminder_date)).length,V=i.filter(F=>!F.is_completed&&z(F.reminder_date)).length,L=g.filter(F=>{var X,E,H;if(!b)return!1;const U=b.toLowerCase();return((X=F.first_name)==null?void 0:X.toLowerCase().includes(U))||((E=F.last_name)==null?void 0:E.toLowerCase().includes(U))||((H=F.hebrew_name)==null?void 0:H.includes(b))}).slice(0,5),M=F=>F==="high"?s.jsx(Ft,{className:"bg-red-100 text-red-800",children:"High"}):F==="low"?s.jsx(Ft,{className:"bg-slate-100 text-slate-600",children:"Low"}):s.jsx(Ft,{className:"bg-blue-100 text-blue-800",children:"Normal"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Py,{className:"h-6 w-6 text-amber-600"})," Reminders"]}),s.jsx("p",{className:"text-slate-500",children:"All reminders - with email option"})]}),s.jsxs(Se,{onClick:W,children:[s.jsx(on,{className:"h-4 w-4 mr-2"})," New Reminder"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Qe,{className:`cursor-pointer ${f==="active"?"ring-2 ring-blue-400":""}`,onClick:()=>h("active"),children:s.jsxs(Ze,{className:"p-4 text-center",children:[s.jsx(Py,{className:"h-6 w-6 mx-auto mb-1 text-blue-600"}),s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-slate-500",children:"Active"})]})}),s.jsx(Qe,{className:`cursor-pointer ${f==="overdue"?"ring-2 ring-red-400":""}`,onClick:()=>h("overdue"),children:s.jsxs(Ze,{className:"p-4 text-center",children:[s.jsx(rs,{className:"h-6 w-6 mx-auto mb-1 text-red-600"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:R}),s.jsx("p",{className:"text-xs text-slate-500",children:"Overdue"})]})}),s.jsx(Qe,{children:s.jsxs(Ze,{className:"p-4 text-center",children:[s.jsx(Cs,{className:"h-6 w-6 mx-auto mb-1 text-amber-600"}),s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:V}),s.jsx("p",{className:"text-xs text-slate-500",children:"Today"})]})}),s.jsx(Qe,{className:`cursor-pointer ${f==="completed"?"ring-2 ring-green-400":""}`,onClick:()=>h("completed"),children:s.jsxs(Ze,{className:"p-4 text-center",children:[s.jsx(Di,{className:"h-6 w-6 mx-auto mb-1 text-green-600"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:""}),s.jsx("p",{className:"text-xs text-slate-500",children:"Completed"})]})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(We,{value:p,onChange:F=>v(F.target.value),placeholder:"Search reminders...",className:"pl-10"})]}),s.jsxs(_t,{value:f,onValueChange:h,children:[s.jsx(xt,{className:"w-40",children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"active",children:"Active"}),s.jsx(De,{value:"overdue",children:"Overdue"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"all",children:"All"})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(na,{className:"h-6 w-6 animate-spin text-blue-600"})}):I.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Py,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No reminders found"})]}):s.jsx("div",{className:"space-y-3",children:I.map(F=>{var E;const U=!F.is_completed&&k(F.reminder_date),X=z(F.reminder_date);return s.jsx(Qe,{className:`${U?"border-red-300 bg-red-50/50":X?"border-amber-300 bg-amber-50/50":""} ${F.is_completed?"opacity-60":""}`,children:s.jsx(Ze,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:`font-bold text-lg ${F.is_completed?"line-through text-slate-400":"text-slate-800"}`,children:F.title}),s.jsx(Ft,{variant:"outline",className:"text-xs",children:((E=CM.find(H=>H.value===F.reminder_type))==null?void 0:E.label)||F.reminder_type}),M(F.priority),U&&s.jsx(Ft,{className:"bg-red-500 text-white",children:"Overdue!"}),X&&!F.is_completed&&s.jsx(Ft,{className:"bg-amber-500 text-white",children:"Today"}),F.send_email&&s.jsxs(Ft,{className:"bg-purple-100 text-purple-800",children:[s.jsx(to,{className:"h-3 w-3 mr-1"})," Email"]})]}),F.description&&s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:F.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cs,{className:"h-3 w-3"}),F.reminder_date&&new Date(F.reminder_date).toLocaleDateString("he-IL")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qs,{className:"h-3 w-3"}),F.reminder_date&&new Date(F.reminder_date).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})]}),F.related_student_name&&s.jsxs("span",{children:["Student: ",F.related_student_name]}),F.created_by_name&&s.jsxs("span",{children:["By: ",F.created_by_name]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[!F.is_completed&&s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>A(F.id),title:"Complete",children:s.jsx(Di,{className:"h-4 w-4 text-green-600"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>C(F),title:"Edit",children:s.jsx(ja,{className:"h-4 w-4 text-blue-600"})}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>P(F.id),title:"Delete",children:s.jsx(Qa,{className:"h-4 w-4 text-red-500"})})]})]})})},F.id)})}),s.jsx(pr,{open:l,onOpenChange:c,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsx(mr,{children:s.jsx(gr,{children:u?"Edit Reminder":"New Reminder"})}),s.jsxs("div",{className:"space-y-4 py-2 max-h-[60vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Title *"}),s.jsx(We,{value:m.title,onChange:F=>x({...m,title:F.target.value}),placeholder:"What about?"})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Description"}),s.jsx(Er,{value:m.description,onChange:F=>x({...m,description:F.target.value}),rows:3,placeholder:"More details..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Type"}),s.jsxs(_t,{value:m.reminder_type,onValueChange:F=>x({...m,reminder_type:F}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsx(yt,{children:CM.map(F=>s.jsx(De,{value:F.value,children:F.label},F.value))})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Priority"}),s.jsxs(_t,{value:m.priority,onValueChange:F=>x({...m,priority:F}),children:[s.jsx(xt,{children:s.jsx(jt,{})}),s.jsxs(yt,{children:[s.jsx(De,{value:"high",children:"High"}),s.jsx(De,{value:"normal",children:"Normal"}),s.jsx(De,{value:"low",children:"Low"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(be,{children:"Date *"}),s.jsx(We,{type:"date",value:m.reminder_date,onChange:F=>x({...m,reminder_date:F.target.value})})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Time"}),s.jsx(We,{type:"time",value:m.reminder_time,onChange:F=>x({...m,reminder_time:F.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(be,{children:"Link to a student (optional)"}),m.related_student_name?s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded",children:[s.jsx("span",{children:m.related_student_name}),s.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>x({...m,related_student_id:null,related_student_name:""}),children:s.jsx(Qa,{className:"h-3 w-3"})})]}):s.jsxs("div",{children:[s.jsx(We,{value:b,onChange:F=>j(F.target.value),placeholder:"Search student..."}),L.length>0&&s.jsx("div",{className:"mt-1 border rounded-md shadow-sm max-h-32 overflow-y-auto",children:L.map(F=>s.jsx("div",{className:"p-2 hover:bg-slate-100 cursor-pointer text-sm",onClick:()=>{x({...m,related_student_id:F.id,related_student_name:F.hebrew_name||`${F.first_name} ${F.last_name}`}),j("")},children:F.hebrew_name||`${F.first_name} ${F.last_name}`},F.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"send_email",checked:m.send_email,onChange:F=>x({...m,send_email:F.target.checked}),className:"rounded"}),s.jsx(be,{htmlFor:"send_email",className:"cursor-pointer",children:"Send email notification"})]}),m.send_email&&s.jsxs("div",{children:[s.jsx(be,{children:"Email addresses (comma-separated)"}),s.jsx(We,{type:"email",value:m.email_recipients,onChange:F=>x({...m,email_recipients:F.target.value}),placeholder:"email1@example.com, email2@example.com"})]})]})]}),s.jsxs(Dr,{children:[s.jsx(Se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Se,{onClick:S,children:u?"Update":"Add"})]})]})})]})},zBe=()=>{var y,b,j,_;qT();const{user:e,profile:t,signOut:r,loading:n}=ow(),[a,i]=O.useState("overview"),[o,l]=O.useState(!0),c=(t==null?void 0:t.role)||"teacher",[u,d]=O.useState(null),[f,h]=O.useState(!1);O.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:N}=await je.from("app_settings").select("value").eq("key","menu_visibility").maybeSingle();N!=null&&N.value&&d(JSON.parse(N.value))}catch{}},v=async N=>{try{await je.from("app_settings").upsert({key:"menu_visibility",value:JSON.stringify(N),updated_at:new Date().toISOString()},{onConflict:"key"}),d(N)}catch{console.log("Could not save menu settings")}},m=[{id:"overview",label:"Dashboard",icon:gre,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin","special_ed"],description:"Quick overview"},{id:"students",label:"Students",icon:La,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin"],description:"Student directory"},{id:"grades",label:"Grades",icon:_N,roles:["principal","principal_hebrew","principal_english","admin"],description:"Grade levels"},{id:"classes",label:"Classes",icon:f0,roles:["principal","principal_hebrew","principal_english","admin"],description:"Manage classes"},{id:"class-detail",label:"Class Detail",icon:u0,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","admin"],description:"Class info with notes"},{id:"issues",label:"Issues",icon:Wh,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin"],description:"Track issues"},{id:"calls",label:"Phone Calls",icon:ef,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","admin"],description:"Call logs"},{id:"meetings",label:"Meetings",icon:Cs,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin"],description:"Schedule meetings"},{id:"staff",label:"Staff Directory",icon:nre,roles:["principal","principal_hebrew","principal_english","admin"],description:"All staff contacts"},{id:"special-ed",label:"Special Education",icon:Oy,roles:["principal","principal_hebrew","admin","special_ed"],description:"Special education management"},{id:"late-tracking",label:"Late Tracking",icon:Qs,roles:["principal","principal_hebrew","principal_english","admin"],description:"Track late arrivals / print slips"},{id:"bus-changes",label:"Bus Changes",icon:Hh,roles:["principal","principal_hebrew","principal_english","admin"],description:"Bus routes and changes"},{id:"reminders",label:"Reminders",icon:Py,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","admin"],description:"Reminders with email"},{id:"books",label:"Books",icon:Y$,roles:["principal","principal_hebrew","principal_english","admin"],description:"Book inventory & requirements"},{id:"fees",label:"Fees & Trips",icon:gs,roles:["principal","principal_hebrew","principal_english","admin"],description:"Manage fees"},{id:"payments",label:"Payments",icon:Rg,roles:["principal","principal_hebrew","principal_english","admin"],description:"Record payments"},{id:"financial-reports",label:"Financial Reports",icon:are,roles:["principal","principal_hebrew","principal_english","admin"],description:"Payment reports"},{id:"reports",label:"Reports",icon:ere,roles:["principal","principal_hebrew","principal_english","admin"],description:"General reports"},{id:"settings",label:"Settings",icon:eO,roles:["principal","principal_hebrew","principal_english","admin"],description:"System settings"}],x=()=>{const N={role:c,currentUser:t};switch(a){case"overview":return s.jsx(ZI,{...N});case"grades":return s.jsx(kBe,{...N});case"classes":return s.jsx(jBe,{...N});case"students":return s.jsx(RRe,{...N});case"issues":return s.jsx($Re,{...N});case"staff":return s.jsx(DBe,{...N});case"users":return s.jsx(EBe,{...N});case"calls":return s.jsx(BRe,{...N});case"meetings":return s.jsx(wM,{...N});case"calendar":return s.jsx(wM,{...N});case"books":return s.jsx(PBe,{...N});case"fees":return s.jsx(OBe,{...N});case"payments":return s.jsx(LBe,{...N});case"financial-reports":return s.jsx(IBe,{...N});case"templates":return s.jsx(_Be,{...N});case"timeslots":return s.jsx(g$e,{...N});case"bulkschedule":return s.jsx(v$e,{...N});case"reports":return s.jsx(yBe,{...N});case"activity":return s.jsx(bBe,{...N});case"settings":return s.jsx(CBe,{...N});case"special-ed":return s.jsx(MBe,{...N});case"class-detail":return s.jsx(RBe,{...N});case"late-tracking":return s.jsx($Be,{...N});case"bus-changes":return s.jsx(BBe,{...N});case"reminders":return s.jsx(UBe,{...N});default:return s.jsx(ZI,{...N})}};if(n||!t)return s.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50",children:s.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[s.jsx("div",{className:"h-12 w-12 bg-blue-200 rounded-full mb-4"}),s.jsx("div",{className:"h-4 w-32 bg-slate-200 rounded"}),s.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Loading profile..."})]})});const g=m.filter(N=>!(!N.roles.includes(c)||u&&u[c]&&u[c][N.id]===!1));return s.jsxs("div",{className:"flex h-screen overflow-hidden",dir:"ltr",children:[s.jsx(g6,{mode:"wait",children:o&&s.jsxs(BN.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{duration:.3,ease:"easeInOut"},className:"w-64 bg-white border-r border-slate-200 flex flex-col shadow-lg z-20",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("img",{src:"/logo.svg",alt:"Logo",className:"h-12 w-12 rounded-full shadow-md"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-sm font-bold text-slate-800 leading-tight",dir:"rtl",children:"    "}),s.jsx("p",{className:"text-xs text-slate-500",dir:"rtl",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm",children:((y=t==null?void 0:t.name)==null?void 0:y.charAt(0))||((b=e==null?void 0:e.email)==null?void 0:b.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(t==null?void 0:t.name)||"User"}),s.jsx("p",{className:"text-xs text-slate-500 capitalize",children:c})]})]})]}),s.jsx("nav",{className:"flex-1 p-3 space-y-0.5 overflow-y-auto",children:g.map(N=>{const S=N.icon,A=a===N.id;return s.jsxs("button",{onClick:()=>i(N.id),className:`w-full group relative flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${A?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-200":"text-slate-700 hover:bg-slate-100 hover:shadow-sm"}`,children:[s.jsx(S,{size:22,className:A?"":"text-slate-500 group-hover:text-slate-700"}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:`font-semibold text-sm ${A?"text-white":"text-slate-800"}`,children:N.label}),s.jsx("div",{className:`text-xs ${A?"text-blue-100":"text-slate-500"}`,children:N.description})]})]},N.id)})}),s.jsxs("div",{className:"p-3 border-t bg-slate-50 space-y-1",children:[(c==="admin"||c==="principal")&&s.jsxs(Se,{variant:"ghost",className:"w-full justify-start text-blue-600 hover:bg-blue-50 rounded-xl text-sm",onClick:()=>h(!0),children:[s.jsx(eO,{className:"ml-2 h-4 w-4"}),s.jsx("span",{children:"Menu Settings"})]}),s.jsxs(Se,{variant:"ghost",className:"w-full justify-start text-red-600 hover:bg-red-50 hover:text-red-700 rounded-xl",onClick:r,children:[s.jsx(pre,{className:"ml-2 h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Log Out"})]})]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between shadow-sm z-10",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>l(!o),className:"hover:bg-slate-100 rounded-xl",children:s.jsx(mre,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:((j=m.find(N=>N.id===a))==null?void 0:j.label)||"Dashboard"}),s.jsx("p",{className:"text-xs text-slate-500",children:(_=m.find(N=>N.id===a))==null?void 0:_.description})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"hidden md:block text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date().toLocaleDateString("en-US",{weekday:"long"})})]})})]}),s.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6 bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/30",children:s.jsx(g6,{mode:"wait",children:s.jsx(BN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-7xl mx-auto",children:x()},a)})})]}),s.jsx(pr,{open:f,onOpenChange:h,children:s.jsxs(dr,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsx(mr,{children:s.jsx(gr,{children:"Menu Settings - Configure which options each role can see"})}),s.jsx("div",{className:"space-y-6 py-4",children:["teacher","teacher_hebrew","teacher_english","tutor","principal_hebrew","principal_english","special_ed"].map(N=>{const S={teacher:"Teacher",teacher_hebrew:"Hebrew Teacher",teacher_english:"English Teacher",tutor:"Tutor",principal_hebrew:"Hebrew Principal",principal_english:"English Principal",special_ed:"Special Education"},A=m.filter(W=>W.roles.includes(N));if(A.length===0)return null;const P=(u==null?void 0:u[N])||{};return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:S[N]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:A.map(W=>{const C=P[W.id]!==!1;return s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer border ${C?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsx("input",{type:"checkbox",checked:C,onChange:k=>{const z={...u};z[N]||(z[N]={}),z[N][W.id]=k.target.checked,v(z)},className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:W.label})]},W.id)})})]},N)})})]})})]})},VBe=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(""),[a,i]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(""),[d,f]=O.useState(!1),{signIn:h}=ow(),{toast:p}=Tr(),v=async x=>{x.preventDefault(),i(!0);try{const{error:g}=await h(e,r);if(g)throw g}catch(g){p({variant:"destructive",title:"Authentication Failed",description:g.message||"Invalid credentials. Please try again."})}finally{i(!1)}},m=async x=>{x.preventDefault(),f(!0);try{const{error:g}=await je.auth.resetPasswordForEmail(c,{redirectTo:window.location.origin+"/reset-password"});if(g)throw g;p({title:"Reset Link Sent",description:"Check your email for the password reset link."}),l(!1),u("")}catch(g){p({variant:"destructive",title:"Error",description:g.message})}finally{f(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center p-4",children:[s.jsxs(BN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[s.jsxs(Qe,{className:"shadow-xl border-t-4 border-t-blue-600",children:[s.jsxs(er,{className:"space-y-1 text-center pb-6",children:[s.jsx("div",{className:"mx-auto bg-blue-100 p-3 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:s.jsx(JP,{className:"w-8 h-8 text-blue-600"})}),s.jsx(tr,{className:"text-2xl font-bold",children:"School Management"}),s.jsx(wa,{children:"Enter your credentials to access the system"})]}),s.jsxs("form",{onSubmit:v,children:[s.jsxs(Ze,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(be,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(to,{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400"}),s.jsx(We,{id:"email",type:"email",placeholder:"name@school.edu",className:"pl-10",value:e,onChange:x=>t(x.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(be,{htmlFor:"password",children:"Password"}),s.jsx(Se,{variant:"link",className:"p-0 h-auto text-xs text-blue-600",onClick:x=>{x.preventDefault(),l(!0)},type:"button",children:"Forgot password?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(JP,{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400"}),s.jsx(We,{id:"password",type:"password",placeholder:"",className:"pl-10",value:r,onChange:x=>n(x.target.value),required:!0})]})]})]}),s.jsx(ev,{className:"flex flex-col gap-4",children:s.jsx(Se,{className:"w-full bg-blue-600 hover:bg-blue-700",type:"submit",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(na,{className:"mr-2 h-4 w-4 animate-spin"})," Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsx(hre,{className:"mr-2 h-4 w-4"})," Sign In"]})})})]})]}),s.jsxs("p",{className:"text-center text-sm text-slate-500 mt-4",children:["Secure School Management System  ",new Date().getFullYear()]})]}),s.jsx(pr,{open:o,onOpenChange:l,children:s.jsxs(dr,{className:"sm:max-w-[425px]",children:[s.jsxs(mr,{children:[s.jsx(gr,{children:"Reset Password"}),s.jsx(J0,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsxs("form",{onSubmit:m,children:[s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(be,{htmlFor:"reset-email",children:"Email"}),s.jsx(We,{id:"reset-email",type:"email",value:c,onChange:x=>u(x.target.value),placeholder:"name@school.edu",required:!0})]})}),s.jsxs(Dr,{children:[s.jsx(Se,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(Se,{type:"submit",disabled:d,children:d?s.jsx(na,{className:"mr-2 h-4 w-4 animate-spin"}):"Send Reset Link"})]})]})]})})]})},HBe=()=>{const{user:e,loading:t}=ow();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(na,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-500",children:"Loading system..."})]})}):e?s.jsx(zBe,{}):s.jsx(VBe,{})};function WBe(){return s.jsx(Nee,{children:s.jsxs(Tee,{children:[s.jsxs(sN,{children:[s.jsx("title",{children:"School Management System"}),s.jsx("meta",{name:"description",content:"A comprehensive student management system."})]}),s.jsx("div",{className:"min-h-screen bg-slate-50 font-sans",dir:"ltr",children:s.jsx(HBe,{})}),s.jsx(Nre,{})]})})}uS.createRoot(document.getElementById("root")).render(s.jsx(WBe,{}));export{Zr as _,Ln as c,Vr as g};
