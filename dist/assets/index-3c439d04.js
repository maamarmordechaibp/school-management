function RM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var In=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $M(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var BM={exports:{}},Bb={},zM={exports:{}},Ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv=Symbol.for("react.element"),iY=Symbol.for("react.portal"),sY=Symbol.for("react.fragment"),oY=Symbol.for("react.strict_mode"),lY=Symbol.for("react.profiler"),cY=Symbol.for("react.provider"),uY=Symbol.for("react.context"),dY=Symbol.for("react.forward_ref"),fY=Symbol.for("react.suspense"),hY=Symbol.for("react.memo"),pY=Symbol.for("react.lazy"),yk=Symbol.iterator;function mY(e){return e===null||typeof e!="object"?null:(e=yk&&e[yk]||e["@@iterator"],typeof e=="function"?e:null)}var UM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VM=Object.assign,HM={};function W0(e,t,r){this.props=e,this.context=t,this.refs=HM,this.updater=r||UM}W0.prototype.isReactComponent={};W0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};W0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function WM(){}WM.prototype=W0.prototype;function YA(e,t,r){this.props=e,this.context=t,this.refs=HM,this.updater=r||UM}var XA=YA.prototype=new WM;XA.constructor=YA;VM(XA,W0.prototype);XA.isPureReactComponent=!0;var bk=Array.isArray,qM=Object.prototype.hasOwnProperty,JA={current:null},GM={key:!0,ref:!0,__self:!0,__source:!0};function KM(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)qM.call(t,n)&&!GM.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:zv,type:e,key:i,ref:o,props:a,_owner:JA.current}}function gY(e,t){return{$$typeof:zv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function QA(e){return typeof e=="object"&&e!==null&&e.$$typeof===zv}function vY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wk=/\/+/g;function cj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vY(""+e.key):t.toString(36)}function yy(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zv:case iY:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+cj(o,0):n,bk(a)?(r="",e!=null&&(r=e.replace(wk,"$&/")+"/"),yy(a,t,r,"",function(u){return u})):a!=null&&(QA(a)&&(a=gY(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(wk,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",bk(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+cj(i,l);o+=yy(i,t,r,c,a)}else if(c=mY(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+cj(i,l++),o+=yy(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function l1(e,t,r){if(e==null)return e;var n=[],a=0;return yy(e,n,"","",function(i){return t.call(r,i,a++)}),n}function xY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bi={current:null},by={transition:null},yY={ReactCurrentDispatcher:Bi,ReactCurrentBatchConfig:by,ReactCurrentOwner:JA};function YM(){throw Error("act(...) is not supported in production builds of React.")}Ar.Children={map:l1,forEach:function(e,t,r){l1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return l1(e,function(){t++}),t},toArray:function(e){return l1(e,function(t){return t})||[]},only:function(e){if(!QA(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ar.Component=W0;Ar.Fragment=sY;Ar.Profiler=lY;Ar.PureComponent=YA;Ar.StrictMode=oY;Ar.Suspense=fY;Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yY;Ar.act=YM;Ar.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=VM({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=JA.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)qM.call(t,c)&&!GM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:zv,type:e.type,key:a,ref:i,props:n,_owner:o}};Ar.createContext=function(e){return e={$$typeof:uY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cY,_context:e},e.Consumer=e};Ar.createElement=KM;Ar.createFactory=function(e){var t=KM.bind(null,e);return t.type=e,t};Ar.createRef=function(){return{current:null}};Ar.forwardRef=function(e){return{$$typeof:dY,render:e}};Ar.isValidElement=QA;Ar.lazy=function(e){return{$$typeof:pY,_payload:{_status:-1,_result:e},_init:xY}};Ar.memo=function(e,t){return{$$typeof:hY,type:e,compare:t===void 0?null:t}};Ar.startTransition=function(e){var t=by.transition;by.transition={};try{e()}finally{by.transition=t}};Ar.unstable_act=YM;Ar.useCallback=function(e,t){return Bi.current.useCallback(e,t)};Ar.useContext=function(e){return Bi.current.useContext(e)};Ar.useDebugValue=function(){};Ar.useDeferredValue=function(e){return Bi.current.useDeferredValue(e)};Ar.useEffect=function(e,t){return Bi.current.useEffect(e,t)};Ar.useId=function(){return Bi.current.useId()};Ar.useImperativeHandle=function(e,t,r){return Bi.current.useImperativeHandle(e,t,r)};Ar.useInsertionEffect=function(e,t){return Bi.current.useInsertionEffect(e,t)};Ar.useLayoutEffect=function(e,t){return Bi.current.useLayoutEffect(e,t)};Ar.useMemo=function(e,t){return Bi.current.useMemo(e,t)};Ar.useReducer=function(e,t,r){return Bi.current.useReducer(e,t,r)};Ar.useRef=function(e){return Bi.current.useRef(e)};Ar.useState=function(e){return Bi.current.useState(e)};Ar.useSyncExternalStore=function(e,t,r){return Bi.current.useSyncExternalStore(e,t,r)};Ar.useTransition=function(){return Bi.current.useTransition()};Ar.version="18.3.1";zM.exports=Ar;var O=zM.exports;const Ce=Hr(O),bY=RM({__proto__:null,default:Ce},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wY=O,_Y=Symbol.for("react.element"),jY=Symbol.for("react.fragment"),SY=Object.prototype.hasOwnProperty,NY=wY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AY={key:!0,ref:!0,__self:!0,__source:!0};function XM(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)SY.call(t,n)&&!AY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:_Y,type:e,key:i,ref:o,props:a,_owner:NY.current}}Bb.Fragment=jY;Bb.jsx=XM;Bb.jsxs=XM;BM.exports=Bb;var s=BM.exports,pS={},JM={exports:{}},Ls={},QM={exports:{}},ZM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,F){var H=G.length;G.push(F);e:for(;0<H;){var J=H-1>>>1,A=G[J];if(0<a(A,F))G[J]=F,G[H]=A,H=J;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var F=G[0],H=G.pop();if(H!==F){G[0]=H;e:for(var J=0,A=G.length,M=A>>>1;J<M;){var K=2*(J+1)-1,L=G[K],Y=K+1,Z=G[Y];if(0>a(L,H))Y<A&&0>a(Z,L)?(G[J]=Z,G[Y]=H,J=Y):(G[J]=L,G[K]=H,J=K);else if(Y<A&&0>a(Z,H))G[J]=Z,G[Y]=H,J=Y;else break e}}return F}function a(G,F){var H=G.sortIndex-F.sortIndex;return H!==0?H:G.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=G)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function j(G){if(m=!1,b(G),!v)if(r(c)!==null)v=!0,I(_);else{var F=r(u);F!==null&&R(j,F.startTime-G)}}function _(G,F){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var H=h;try{for(b(F),f=r(c);f!==null&&(!(f.expirationTime>F)||G&&!C());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var A=J(f.expirationTime<=F);F=e.unstable_now(),typeof A=="function"?f.callback=A:f===r(c)&&n(c),b(F)}else n(c);f=r(c)}if(f!==null)var M=!0;else{var K=r(u);K!==null&&R(j,K.startTime-F),M=!1}return M}finally{f=null,h=H,p=!1}}var N=!1,S=null,T=-1,k=5,V=-1;function C(){return!(e.unstable_now()-V<k)}function P(){if(S!==null){var G=e.unstable_now();V=G;var F=!0;try{F=S(!0,G)}finally{F?U():(N=!1,S=null)}}else N=!1}var U;if(typeof y=="function")U=function(){y(P)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,z=q.port2;q.port1.onmessage=P,U=function(){z.postMessage(null)}}else U=function(){x(P,0)};function I(G){S=G,N||(N=!0,U())}function R(G,F){T=x(function(){G(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,I(_))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var H=h;h=F;try{return G()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,F){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var H=h;h=G;try{return F()}finally{h=H}},e.unstable_scheduleCallback=function(G,F,H){var J=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?J+H:J):H=J,G){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=H+A,G={id:d++,callback:F,priorityLevel:G,startTime:H,expirationTime:A,sortIndex:-1},H>J?(G.sortIndex=H,t(u,G),r(c)===null&&G===r(u)&&(m?(g(T),T=-1):m=!0,R(j,H-J))):(G.sortIndex=A,t(c,G),v||p||(v=!0,I(_))),G},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(G){var F=h;return function(){var H=h;h=F;try{return G.apply(this,arguments)}finally{h=H}}}})(ZM);QM.exports=ZM;var TY=QM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CY=O,ks=TY;function gt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eR=new Set,wg={};function mf(e,t){a0(e,t),a0(e+"Capture",t)}function a0(e,t){for(wg[e]=t,e=0;e<t.length;e++)eR.add(t[e])}var mc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mS=Object.prototype.hasOwnProperty,EY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_k={},jk={};function kY(e){return mS.call(jk,e)?!0:mS.call(_k,e)?!1:EY.test(e)?jk[e]=!0:(_k[e]=!0,!1)}function PY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OY(e,t,r,n){if(t===null||typeof t>"u"||PY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zi(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ei[e]=new zi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ei[t]=new zi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ei[e]=new zi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ei[e]=new zi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ei[e]=new zi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ei[e]=new zi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ei[e]=new zi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ei[e]=new zi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ei[e]=new zi(e,5,!1,e.toLowerCase(),null,!1,!1)});var ZA=/[\-:]([a-z])/g;function eT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ZA,eT);ei[t]=new zi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ZA,eT);ei[t]=new zi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ZA,eT);ei[t]=new zi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ei[e]=new zi(e,1,!1,e.toLowerCase(),null,!1,!1)});ei.xlinkHref=new zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ei[e]=new zi(e,1,!1,e.toLowerCase(),null,!0,!0)});function tT(e,t,r,n){var a=ei.hasOwnProperty(t)?ei[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OY(t,r,a,n)&&(r=null),n||a===null?kY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tc=CY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c1=Symbol.for("react.element"),vh=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),rT=Symbol.for("react.strict_mode"),gS=Symbol.for("react.profiler"),tR=Symbol.for("react.provider"),rR=Symbol.for("react.context"),nT=Symbol.for("react.forward_ref"),vS=Symbol.for("react.suspense"),xS=Symbol.for("react.suspense_list"),aT=Symbol.for("react.memo"),au=Symbol.for("react.lazy"),nR=Symbol.for("react.offscreen"),Sk=Symbol.iterator;function Kp(e){return e===null||typeof e!="object"?null:(e=Sk&&e[Sk]||e["@@iterator"],typeof e=="function"?e:null)}var Rn=Object.assign,uj;function Am(e){if(uj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);uj=t&&t[1]||""}return`
`+uj+e}var dj=!1;function fj(e,t){if(!e||dj)return"";dj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{dj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Am(e):""}function FY(e){switch(e.tag){case 5:return Am(e.type);case 16:return Am("Lazy");case 13:return Am("Suspense");case 19:return Am("SuspenseList");case 0:case 2:case 15:return e=fj(e.type,!1),e;case 11:return e=fj(e.type.render,!1),e;case 1:return e=fj(e.type,!0),e;default:return""}}function yS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xh:return"Fragment";case vh:return"Portal";case gS:return"Profiler";case rT:return"StrictMode";case vS:return"Suspense";case xS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rR:return(e.displayName||"Context")+".Consumer";case tR:return(e._context.displayName||"Context")+".Provider";case nT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case aT:return t=e.displayName||null,t!==null?t:yS(e.type)||"Memo";case au:t=e._payload,e=e._init;try{return yS(e(t))}catch{}}return null}function DY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yS(t);case 8:return t===rT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LY(e){var t=aR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function u1(e){e._valueTracker||(e._valueTracker=LY(e))}function iR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bS(e,t){var r=t.checked;return Rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Nk(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sR(e,t){t=t.checked,t!=null&&tT(e,"checked",t,!1)}function wS(e,t){sR(e,t);var r=Fu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_S(e,t.type,r):t.hasOwnProperty("defaultValue")&&_S(e,t.type,Fu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ak(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _S(e,t,r){(t!=="number"||Vy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Tm=Array.isArray;function Rh(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function jS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(gt(91));return Rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(gt(92));if(Tm(r)){if(1<r.length)throw Error(gt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fu(r)}}function oR(e,t){var r=Fu(t.value),n=Fu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ck(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function SS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var d1,cR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(d1=d1||document.createElement("div"),d1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=d1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _g(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IY=["Webkit","ms","Moz","O"];Object.keys(zm).forEach(function(e){IY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zm[t]=zm[e]})});function uR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zm.hasOwnProperty(e)&&zm[e]?(""+t).trim():t+"px"}function dR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=uR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var MY=Rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NS(e,t){if(t){if(MY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(gt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(gt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(gt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(gt(62))}}function AS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TS=null;function iT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var CS=null,$h=null,Bh=null;function Ek(e){if(e=Hv(e)){if(typeof CS!="function")throw Error(gt(280));var t=e.stateNode;t&&(t=Wb(t),CS(e.stateNode,e.type,t))}}function fR(e){$h?Bh?Bh.push(e):Bh=[e]:$h=e}function hR(){if($h){var e=$h,t=Bh;if(Bh=$h=null,Ek(e),t)for(e=0;e<t.length;e++)Ek(t[e])}}function pR(e,t){return e(t)}function mR(){}var hj=!1;function gR(e,t,r){if(hj)return e(t,r);hj=!0;try{return pR(e,t,r)}finally{hj=!1,($h!==null||Bh!==null)&&(mR(),hR())}}function jg(e,t){var r=e.stateNode;if(r===null)return null;var n=Wb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(gt(231,t,typeof r));return r}var ES=!1;if(mc)try{var Yp={};Object.defineProperty(Yp,"passive",{get:function(){ES=!0}}),window.addEventListener("test",Yp,Yp),window.removeEventListener("test",Yp,Yp)}catch{ES=!1}function RY(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Um=!1,Hy=null,Wy=!1,kS=null,$Y={onError:function(e){Um=!0,Hy=e}};function BY(e,t,r,n,a,i,o,l,c){Um=!1,Hy=null,RY.apply($Y,arguments)}function zY(e,t,r,n,a,i,o,l,c){if(BY.apply(this,arguments),Um){if(Um){var u=Hy;Um=!1,Hy=null}else throw Error(gt(198));Wy||(Wy=!0,kS=u)}}function gf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kk(e){if(gf(e)!==e)throw Error(gt(188))}function UY(e){var t=e.alternate;if(!t){if(t=gf(e),t===null)throw Error(gt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return kk(a),e;if(i===n)return kk(a),t;i=i.sibling}throw Error(gt(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(gt(189))}}if(r.alternate!==n)throw Error(gt(190))}if(r.tag!==3)throw Error(gt(188));return r.stateNode.current===r?e:t}function xR(e){return e=UY(e),e!==null?yR(e):null}function yR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yR(e);if(t!==null)return t;e=e.sibling}return null}var bR=ks.unstable_scheduleCallback,Pk=ks.unstable_cancelCallback,VY=ks.unstable_shouldYield,HY=ks.unstable_requestPaint,Zn=ks.unstable_now,WY=ks.unstable_getCurrentPriorityLevel,sT=ks.unstable_ImmediatePriority,wR=ks.unstable_UserBlockingPriority,qy=ks.unstable_NormalPriority,qY=ks.unstable_LowPriority,_R=ks.unstable_IdlePriority,zb=null,vl=null;function GY(e){if(vl&&typeof vl.onCommitFiberRoot=="function")try{vl.onCommitFiberRoot(zb,e,void 0,(e.current.flags&128)===128)}catch{}}var Vo=Math.clz32?Math.clz32:XY,KY=Math.log,YY=Math.LN2;function XY(e){return e>>>=0,e===0?32:31-(KY(e)/YY|0)|0}var f1=64,h1=4194304;function Cm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Cm(l):(i&=o,i!==0&&(n=Cm(i)))}else o=r&~a,o!==0?n=Cm(o):i!==0&&(n=Cm(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Vo(t),a=1<<r,n|=e[r],t&=~a;return n}function JY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QY(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Vo(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=JY(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function PS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jR(){var e=f1;return f1<<=1,!(f1&4194240)&&(f1=64),e}function pj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Uv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vo(t),e[t]=r}function ZY(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Vo(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function oT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Vo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var tn=0;function SR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var NR,lT,AR,TR,CR,OS=!1,p1=[],bu=null,wu=null,_u=null,Sg=new Map,Ng=new Map,lu=[],eX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ok(e,t){switch(e){case"focusin":case"focusout":bu=null;break;case"dragenter":case"dragleave":wu=null;break;case"mouseover":case"mouseout":_u=null;break;case"pointerover":case"pointerout":Sg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ng.delete(t.pointerId)}}function Xp(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Hv(t),t!==null&&lT(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function tX(e,t,r,n,a){switch(t){case"focusin":return bu=Xp(bu,e,t,r,n,a),!0;case"dragenter":return wu=Xp(wu,e,t,r,n,a),!0;case"mouseover":return _u=Xp(_u,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Sg.set(i,Xp(Sg.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ng.set(i,Xp(Ng.get(i)||null,e,t,r,n,a)),!0}return!1}function ER(e){var t=Cd(e.target);if(t!==null){var r=gf(t);if(r!==null){if(t=r.tag,t===13){if(t=vR(r),t!==null){e.blockedOn=t,CR(e.priority,function(){AR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=FS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);TS=n,r.target.dispatchEvent(n),TS=null}else return t=Hv(r),t!==null&&lT(t),e.blockedOn=r,!1;t.shift()}return!0}function Fk(e,t,r){wy(e)&&r.delete(t)}function rX(){OS=!1,bu!==null&&wy(bu)&&(bu=null),wu!==null&&wy(wu)&&(wu=null),_u!==null&&wy(_u)&&(_u=null),Sg.forEach(Fk),Ng.forEach(Fk)}function Jp(e,t){e.blockedOn===t&&(e.blockedOn=null,OS||(OS=!0,ks.unstable_scheduleCallback(ks.unstable_NormalPriority,rX)))}function Ag(e){function t(a){return Jp(a,e)}if(0<p1.length){Jp(p1[0],e);for(var r=1;r<p1.length;r++){var n=p1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bu!==null&&Jp(bu,e),wu!==null&&Jp(wu,e),_u!==null&&Jp(_u,e),Sg.forEach(t),Ng.forEach(t),r=0;r<lu.length;r++)n=lu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<lu.length&&(r=lu[0],r.blockedOn===null);)ER(r),r.blockedOn===null&&lu.shift()}var zh=Tc.ReactCurrentBatchConfig,Ky=!0;function nX(e,t,r,n){var a=tn,i=zh.transition;zh.transition=null;try{tn=1,cT(e,t,r,n)}finally{tn=a,zh.transition=i}}function aX(e,t,r,n){var a=tn,i=zh.transition;zh.transition=null;try{tn=4,cT(e,t,r,n)}finally{tn=a,zh.transition=i}}function cT(e,t,r,n){if(Ky){var a=FS(e,t,r,n);if(a===null)Sj(e,t,n,Yy,r),Ok(e,n);else if(tX(a,e,t,r,n))n.stopPropagation();else if(Ok(e,n),t&4&&-1<eX.indexOf(e)){for(;a!==null;){var i=Hv(a);if(i!==null&&NR(i),i=FS(e,t,r,n),i===null&&Sj(e,t,n,Yy,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Sj(e,t,n,null,r)}}var Yy=null;function FS(e,t,r,n){if(Yy=null,e=iT(n),e=Cd(e),e!==null)if(t=gf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yy=e,null}function kR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WY()){case sT:return 1;case wR:return 4;case qy:case qY:return 16;case _R:return 536870912;default:return 16}default:return 16}}var pu=null,uT=null,_y=null;function PR(){if(_y)return _y;var e,t=uT,r=t.length,n,a="value"in pu?pu.value:pu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return _y=a.slice(e,1<n?1-n:void 0)}function jy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function m1(){return!0}function Dk(){return!1}function Is(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?m1:Dk,this.isPropagationStopped=Dk,this}return Rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=m1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=m1)},persist:function(){},isPersistent:m1}),t}var q0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dT=Is(q0),Vv=Rn({},q0,{view:0,detail:0}),iX=Is(Vv),mj,gj,Qp,Ub=Rn({},Vv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qp&&(Qp&&e.type==="mousemove"?(mj=e.screenX-Qp.screenX,gj=e.screenY-Qp.screenY):gj=mj=0,Qp=e),mj)},movementY:function(e){return"movementY"in e?e.movementY:gj}}),Lk=Is(Ub),sX=Rn({},Ub,{dataTransfer:0}),oX=Is(sX),lX=Rn({},Vv,{relatedTarget:0}),vj=Is(lX),cX=Rn({},q0,{animationName:0,elapsedTime:0,pseudoElement:0}),uX=Is(cX),dX=Rn({},q0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fX=Is(dX),hX=Rn({},q0,{data:0}),Ik=Is(hX),pX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gX[e])?!!t[e]:!1}function fT(){return vX}var xX=Rn({},Vv,{key:function(e){if(e.key){var t=pX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fT,charCode:function(e){return e.type==="keypress"?jy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yX=Is(xX),bX=Rn({},Ub,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mk=Is(bX),wX=Rn({},Vv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fT}),_X=Is(wX),jX=Rn({},q0,{propertyName:0,elapsedTime:0,pseudoElement:0}),SX=Is(jX),NX=Rn({},Ub,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AX=Is(NX),TX=[9,13,27,32],hT=mc&&"CompositionEvent"in window,Vm=null;mc&&"documentMode"in document&&(Vm=document.documentMode);var CX=mc&&"TextEvent"in window&&!Vm,OR=mc&&(!hT||Vm&&8<Vm&&11>=Vm),Rk=String.fromCharCode(32),$k=!1;function FR(e,t){switch(e){case"keyup":return TX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yh=!1;function EX(e,t){switch(e){case"compositionend":return DR(t);case"keypress":return t.which!==32?null:($k=!0,Rk);case"textInput":return e=t.data,e===Rk&&$k?null:e;default:return null}}function kX(e,t){if(yh)return e==="compositionend"||!hT&&FR(e,t)?(e=PR(),_y=uT=pu=null,yh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return OR&&t.locale!=="ko"?null:t.data;default:return null}}var PX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PX[e.type]:t==="textarea"}function LR(e,t,r,n){fR(n),t=Xy(t,"onChange"),0<t.length&&(r=new dT("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hm=null,Tg=null;function OX(e){qR(e,0)}function Vb(e){var t=_h(e);if(iR(t))return e}function FX(e,t){if(e==="change")return t}var IR=!1;if(mc){var xj;if(mc){var yj="oninput"in document;if(!yj){var zk=document.createElement("div");zk.setAttribute("oninput","return;"),yj=typeof zk.oninput=="function"}xj=yj}else xj=!1;IR=xj&&(!document.documentMode||9<document.documentMode)}function Uk(){Hm&&(Hm.detachEvent("onpropertychange",MR),Tg=Hm=null)}function MR(e){if(e.propertyName==="value"&&Vb(Tg)){var t=[];LR(t,Tg,e,iT(e)),gR(OX,t)}}function DX(e,t,r){e==="focusin"?(Uk(),Hm=t,Tg=r,Hm.attachEvent("onpropertychange",MR)):e==="focusout"&&Uk()}function LX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vb(Tg)}function IX(e,t){if(e==="click")return Vb(t)}function MX(e,t){if(e==="input"||e==="change")return Vb(t)}function RX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qo=typeof Object.is=="function"?Object.is:RX;function Cg(e,t){if(qo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!mS.call(t,a)||!qo(e[a],t[a]))return!1}return!0}function Vk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hk(e,t){var r=Vk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vk(r)}}function RR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?RR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $R(){for(var e=window,t=Vy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vy(e.document)}return t}function pT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $X(e){var t=$R(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&RR(r.ownerDocument.documentElement,r)){if(n!==null&&pT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Hk(r,i);var o=Hk(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BX=mc&&"documentMode"in document&&11>=document.documentMode,bh=null,DS=null,Wm=null,LS=!1;function Wk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;LS||bh==null||bh!==Vy(n)||(n=bh,"selectionStart"in n&&pT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wm&&Cg(Wm,n)||(Wm=n,n=Xy(DS,"onSelect"),0<n.length&&(t=new dT("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bh)))}function g1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wh={animationend:g1("Animation","AnimationEnd"),animationiteration:g1("Animation","AnimationIteration"),animationstart:g1("Animation","AnimationStart"),transitionend:g1("Transition","TransitionEnd")},bj={},BR={};mc&&(BR=document.createElement("div").style,"AnimationEvent"in window||(delete wh.animationend.animation,delete wh.animationiteration.animation,delete wh.animationstart.animation),"TransitionEvent"in window||delete wh.transitionend.transition);function Hb(e){if(bj[e])return bj[e];if(!wh[e])return e;var t=wh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in BR)return bj[e]=t[r];return e}var zR=Hb("animationend"),UR=Hb("animationiteration"),VR=Hb("animationstart"),HR=Hb("transitionend"),WR=new Map,qk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hu(e,t){WR.set(e,t),mf(t,[e])}for(var wj=0;wj<qk.length;wj++){var _j=qk[wj],zX=_j.toLowerCase(),UX=_j[0].toUpperCase()+_j.slice(1);Hu(zX,"on"+UX)}Hu(zR,"onAnimationEnd");Hu(UR,"onAnimationIteration");Hu(VR,"onAnimationStart");Hu("dblclick","onDoubleClick");Hu("focusin","onFocus");Hu("focusout","onBlur");Hu(HR,"onTransitionEnd");a0("onMouseEnter",["mouseout","mouseover"]);a0("onMouseLeave",["mouseout","mouseover"]);a0("onPointerEnter",["pointerout","pointerover"]);a0("onPointerLeave",["pointerout","pointerover"]);mf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mf("onBeforeInput",["compositionend","keypress","textInput","paste"]);mf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Em="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Em));function Gk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zY(n,t,void 0,e),e.currentTarget=null}function qR(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Gk(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Gk(a,l,u),i=c}}}if(Wy)throw e=kS,Wy=!1,kS=null,e}function yn(e,t){var r=t[BS];r===void 0&&(r=t[BS]=new Set);var n=e+"__bubble";r.has(n)||(GR(t,e,2,!1),r.add(n))}function jj(e,t,r){var n=0;t&&(n|=4),GR(r,e,n,t)}var v1="_reactListening"+Math.random().toString(36).slice(2);function Eg(e){if(!e[v1]){e[v1]=!0,eR.forEach(function(r){r!=="selectionchange"&&(VX.has(r)||jj(r,!1,e),jj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[v1]||(t[v1]=!0,jj("selectionchange",!1,t))}}function GR(e,t,r,n){switch(kR(t)){case 1:var a=nX;break;case 4:a=aX;break;default:a=cT}r=a.bind(null,t,r,e),a=void 0,!ES||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Sj(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Cd(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}gR(function(){var u=i,d=iT(r),f=[];e:{var h=WR.get(e);if(h!==void 0){var p=dT,v=e;switch(e){case"keypress":if(jy(r)===0)break e;case"keydown":case"keyup":p=yX;break;case"focusin":v="focus",p=vj;break;case"focusout":v="blur",p=vj;break;case"beforeblur":case"afterblur":p=vj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Lk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_X;break;case zR:case UR:case VR:p=uX;break;case HR:p=SX;break;case"scroll":p=iX;break;case"wheel":p=AX;break;case"copy":case"cut":case"paste":p=fX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Mk}var m=(t&4)!==0,x=!m&&e==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=jg(y,g),j!=null&&m.push(kg(y,j,b)))),x)break;y=y.return}0<m.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==TS&&(v=r.relatedTarget||r.fromElement)&&(Cd(v)||v[gc]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Cd(v):null,v!==null&&(x=gf(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=Lk,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Mk,j="onPointerLeave",g="onPointerEnter",y="pointer"),x=p==null?h:_h(p),b=v==null?h:_h(v),h=new m(j,y+"leave",p,r,d),h.target=x,h.relatedTarget=b,j=null,Cd(d)===u&&(m=new m(g,y+"enter",v,r,d),m.target=b,m.relatedTarget=x,j=m),x=j,p&&v)t:{for(m=p,g=v,y=0,b=m;b;b=Zf(b))y++;for(b=0,j=g;j;j=Zf(j))b++;for(;0<y-b;)m=Zf(m),y--;for(;0<b-y;)g=Zf(g),b--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Zf(m),g=Zf(g)}m=null}else m=null;p!==null&&Kk(f,h,p,m,!1),v!==null&&x!==null&&Kk(f,x,v,m,!0)}}e:{if(h=u?_h(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=FX;else if(Bk(h))if(IR)_=MX;else{_=LX;var N=DX}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=IX);if(_&&(_=_(e,u))){LR(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&_S(h,"number",h.value)}switch(N=u?_h(u):window,e){case"focusin":(Bk(N)||N.contentEditable==="true")&&(bh=N,DS=u,Wm=null);break;case"focusout":Wm=DS=bh=null;break;case"mousedown":LS=!0;break;case"contextmenu":case"mouseup":case"dragend":LS=!1,Wk(f,r,d);break;case"selectionchange":if(BX)break;case"keydown":case"keyup":Wk(f,r,d)}var S;if(hT)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yh?FR(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(OR&&r.locale!=="ko"&&(yh||T!=="onCompositionStart"?T==="onCompositionEnd"&&yh&&(S=PR()):(pu=d,uT="value"in pu?pu.value:pu.textContent,yh=!0)),N=Xy(u,T),0<N.length&&(T=new Ik(T,e,null,r,d),f.push({event:T,listeners:N}),S?T.data=S:(S=DR(r),S!==null&&(T.data=S)))),(S=CX?EX(e,r):kX(e,r))&&(u=Xy(u,"onBeforeInput"),0<u.length&&(d=new Ik("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}qR(f,t)})}function kg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xy(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=jg(e,r),i!=null&&n.unshift(kg(e,i,a)),i=jg(e,t),i!=null&&n.push(kg(e,i,a))),e=e.return}return n}function Zf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kk(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=jg(r,i),c!=null&&o.unshift(kg(r,c,l))):a||(c=jg(r,i),c!=null&&o.push(kg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var HX=/\r\n?/g,WX=/\u0000|\uFFFD/g;function Yk(e){return(typeof e=="string"?e:""+e).replace(HX,`
`).replace(WX,"")}function x1(e,t,r){if(t=Yk(t),Yk(e)!==t&&r)throw Error(gt(425))}function Jy(){}var IS=null,MS=null;function RS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $S=typeof setTimeout=="function"?setTimeout:void 0,qX=typeof clearTimeout=="function"?clearTimeout:void 0,Xk=typeof Promise=="function"?Promise:void 0,GX=typeof queueMicrotask=="function"?queueMicrotask:typeof Xk<"u"?function(e){return Xk.resolve(null).then(e).catch(KX)}:$S;function KX(e){setTimeout(function(){throw e})}function Nj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ag(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ag(t)}function ju(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var G0=Math.random().toString(36).slice(2),hl="__reactFiber$"+G0,Pg="__reactProps$"+G0,gc="__reactContainer$"+G0,BS="__reactEvents$"+G0,YX="__reactListeners$"+G0,XX="__reactHandles$"+G0;function Cd(e){var t=e[hl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gc]||r[hl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jk(e);e!==null;){if(r=e[hl])return r;e=Jk(e)}return t}e=r,r=e.parentNode}return null}function Hv(e){return e=e[hl]||e[gc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _h(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(gt(33))}function Wb(e){return e[Pg]||null}var zS=[],jh=-1;function Wu(e){return{current:e}}function jn(e){0>jh||(e.current=zS[jh],zS[jh]=null,jh--)}function mn(e,t){jh++,zS[jh]=e.current,e.current=t}var Du={},ji=Wu(Du),ts=Wu(!1),Jd=Du;function i0(e,t){var r=e.type.contextTypes;if(!r)return Du;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function rs(e){return e=e.childContextTypes,e!=null}function Qy(){jn(ts),jn(ji)}function Qk(e,t,r){if(ji.current!==Du)throw Error(gt(168));mn(ji,t),mn(ts,r)}function KR(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(gt(108,DY(e)||"Unknown",a));return Rn({},r,n)}function Zy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Du,Jd=ji.current,mn(ji,e),mn(ts,ts.current),!0}function Zk(e,t,r){var n=e.stateNode;if(!n)throw Error(gt(169));r?(e=KR(e,t,Jd),n.__reactInternalMemoizedMergedChildContext=e,jn(ts),jn(ji),mn(ji,e)):jn(ts),mn(ts,r)}var Ql=null,qb=!1,Aj=!1;function YR(e){Ql===null?Ql=[e]:Ql.push(e)}function JX(e){qb=!0,YR(e)}function qu(){if(!Aj&&Ql!==null){Aj=!0;var e=0,t=tn;try{var r=Ql;for(tn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ql=null,qb=!1}catch(a){throw Ql!==null&&(Ql=Ql.slice(e+1)),bR(sT,qu),a}finally{tn=t,Aj=!1}}return null}var Sh=[],Nh=0,e2=null,t2=0,Qs=[],Zs=0,Qd=null,Zl=1,ec="";function md(e,t){Sh[Nh++]=t2,Sh[Nh++]=e2,e2=e,t2=t}function XR(e,t,r){Qs[Zs++]=Zl,Qs[Zs++]=ec,Qs[Zs++]=Qd,Qd=e;var n=Zl;e=ec;var a=32-Vo(n)-1;n&=~(1<<a),r+=1;var i=32-Vo(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Zl=1<<32-Vo(t)+a|r<<a|n,ec=i+e}else Zl=1<<i|r<<a|n,ec=e}function mT(e){e.return!==null&&(md(e,1),XR(e,1,0))}function gT(e){for(;e===e2;)e2=Sh[--Nh],Sh[Nh]=null,t2=Sh[--Nh],Sh[Nh]=null;for(;e===Qd;)Qd=Qs[--Zs],Qs[Zs]=null,ec=Qs[--Zs],Qs[Zs]=null,Zl=Qs[--Zs],Qs[Zs]=null}var As=null,js=null,En=!1,Lo=null;function JR(e,t){var r=eo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,As=e,js=ju(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,As=e,js=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qd!==null?{id:Zl,overflow:ec}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=eo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,As=e,js=null,!0):!1;default:return!1}}function US(e){return(e.mode&1)!==0&&(e.flags&128)===0}function VS(e){if(En){var t=js;if(t){var r=t;if(!eP(e,t)){if(US(e))throw Error(gt(418));t=ju(r.nextSibling);var n=As;t&&eP(e,t)?JR(n,r):(e.flags=e.flags&-4097|2,En=!1,As=e)}}else{if(US(e))throw Error(gt(418));e.flags=e.flags&-4097|2,En=!1,As=e}}}function tP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;As=e}function y1(e){if(e!==As)return!1;if(!En)return tP(e),En=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!RS(e.type,e.memoizedProps)),t&&(t=js)){if(US(e))throw QR(),Error(gt(418));for(;t;)JR(e,t),t=ju(t.nextSibling)}if(tP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(gt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){js=ju(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}js=null}}else js=As?ju(e.stateNode.nextSibling):null;return!0}function QR(){for(var e=js;e;)e=ju(e.nextSibling)}function s0(){js=As=null,En=!1}function vT(e){Lo===null?Lo=[e]:Lo.push(e)}var QX=Tc.ReactCurrentBatchConfig;function Zp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(gt(309));var n=r.stateNode}if(!n)throw Error(gt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(gt(284));if(!r._owner)throw Error(gt(290,e))}return e}function b1(e,t){throw e=Object.prototype.toString.call(t),Error(gt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rP(e){var t=e._init;return t(e._payload)}function ZR(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(g,y){return g=Tu(g,y),g.index=0,g.sibling=null,g}function i(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,b,j){return y===null||y.tag!==6?(y=Fj(b,g.mode,j),y.return=g,y):(y=a(y,b),y.return=g,y)}function c(g,y,b,j){var _=b.type;return _===xh?d(g,y,b.props.children,j,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===au&&rP(_)===y.type)?(j=a(y,b.props),j.ref=Zp(g,y,b),j.return=g,j):(j=ky(b.type,b.key,b.props,null,g.mode,j),j.ref=Zp(g,y,b),j.return=g,j)}function u(g,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Dj(b,g.mode,j),y.return=g,y):(y=a(y,b.children||[]),y.return=g,y)}function d(g,y,b,j,_){return y===null||y.tag!==7?(y=$d(b,g.mode,j,_),y.return=g,y):(y=a(y,b),y.return=g,y)}function f(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Fj(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case c1:return b=ky(y.type,y.key,y.props,null,g.mode,b),b.ref=Zp(g,null,y),b.return=g,b;case vh:return y=Dj(y,g.mode,b),y.return=g,y;case au:var j=y._init;return f(g,j(y._payload),b)}if(Tm(y)||Kp(y))return y=$d(y,g.mode,b,null),y.return=g,y;b1(g,y)}return null}function h(g,y,b,j){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(g,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case c1:return b.key===_?c(g,y,b,j):null;case vh:return b.key===_?u(g,y,b,j):null;case au:return _=b._init,h(g,y,_(b._payload),j)}if(Tm(b)||Kp(b))return _!==null?null:d(g,y,b,j,null);b1(g,b)}return null}function p(g,y,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,l(y,g,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c1:return g=g.get(j.key===null?b:j.key)||null,c(y,g,j,_);case vh:return g=g.get(j.key===null?b:j.key)||null,u(y,g,j,_);case au:var N=j._init;return p(g,y,b,N(j._payload),_)}if(Tm(j)||Kp(j))return g=g.get(b)||null,d(y,g,j,_,null);b1(y,j)}return null}function v(g,y,b,j){for(var _=null,N=null,S=y,T=y=0,k=null;S!==null&&T<b.length;T++){S.index>T?(k=S,S=null):k=S.sibling;var V=h(g,S,b[T],j);if(V===null){S===null&&(S=k);break}e&&S&&V.alternate===null&&t(g,S),y=i(V,y,T),N===null?_=V:N.sibling=V,N=V,S=k}if(T===b.length)return r(g,S),En&&md(g,T),_;if(S===null){for(;T<b.length;T++)S=f(g,b[T],j),S!==null&&(y=i(S,y,T),N===null?_=S:N.sibling=S,N=S);return En&&md(g,T),_}for(S=n(g,S);T<b.length;T++)k=p(S,g,T,b[T],j),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?T:k.key),y=i(k,y,T),N===null?_=k:N.sibling=k,N=k);return e&&S.forEach(function(C){return t(g,C)}),En&&md(g,T),_}function m(g,y,b,j){var _=Kp(b);if(typeof _!="function")throw Error(gt(150));if(b=_.call(b),b==null)throw Error(gt(151));for(var N=_=null,S=y,T=y=0,k=null,V=b.next();S!==null&&!V.done;T++,V=b.next()){S.index>T?(k=S,S=null):k=S.sibling;var C=h(g,S,V.value,j);if(C===null){S===null&&(S=k);break}e&&S&&C.alternate===null&&t(g,S),y=i(C,y,T),N===null?_=C:N.sibling=C,N=C,S=k}if(V.done)return r(g,S),En&&md(g,T),_;if(S===null){for(;!V.done;T++,V=b.next())V=f(g,V.value,j),V!==null&&(y=i(V,y,T),N===null?_=V:N.sibling=V,N=V);return En&&md(g,T),_}for(S=n(g,S);!V.done;T++,V=b.next())V=p(S,g,T,V.value,j),V!==null&&(e&&V.alternate!==null&&S.delete(V.key===null?T:V.key),y=i(V,y,T),N===null?_=V:N.sibling=V,N=V);return e&&S.forEach(function(P){return t(g,P)}),En&&md(g,T),_}function x(g,y,b,j){if(typeof b=="object"&&b!==null&&b.type===xh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case c1:e:{for(var _=b.key,N=y;N!==null;){if(N.key===_){if(_=b.type,_===xh){if(N.tag===7){r(g,N.sibling),y=a(N,b.props.children),y.return=g,g=y;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===au&&rP(_)===N.type){r(g,N.sibling),y=a(N,b.props),y.ref=Zp(g,N,b),y.return=g,g=y;break e}r(g,N);break}else t(g,N);N=N.sibling}b.type===xh?(y=$d(b.props.children,g.mode,j,b.key),y.return=g,g=y):(j=ky(b.type,b.key,b.props,null,g.mode,j),j.ref=Zp(g,y,b),j.return=g,g=j)}return o(g);case vh:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(g,y.sibling),y=a(y,b.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=Dj(b,g.mode,j),y.return=g,g=y}return o(g);case au:return N=b._init,x(g,y,N(b._payload),j)}if(Tm(b))return v(g,y,b,j);if(Kp(b))return m(g,y,b,j);b1(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(g,y.sibling),y=a(y,b),y.return=g,g=y):(r(g,y),y=Fj(b,g.mode,j),y.return=g,g=y),o(g)):r(g,y)}return x}var o0=ZR(!0),e7=ZR(!1),r2=Wu(null),n2=null,Ah=null,xT=null;function yT(){xT=Ah=n2=null}function bT(e){var t=r2.current;jn(r2),e._currentValue=t}function HS(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Uh(e,t){n2=e,xT=Ah=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zi=!0),e.firstContext=null)}function io(e){var t=e._currentValue;if(xT!==e)if(e={context:e,memoizedValue:t,next:null},Ah===null){if(n2===null)throw Error(gt(308));Ah=e,n2.dependencies={lanes:0,firstContext:e}}else Ah=Ah.next=e;return t}var Ed=null;function wT(e){Ed===null?Ed=[e]:Ed.push(e)}function t7(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,wT(t)):(r.next=a.next,a.next=r),t.interleaved=r,vc(e,n)}function vc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var iu=!1;function _T(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Su(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$r&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vc(e,r)}return a=n.interleaved,a===null?(t.next=t,wT(n)):(t.next=a.next,a.next=t),n.interleaved=t,vc(e,r)}function Sy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,oT(e,r)}}function nP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function a2(e,t,r,n){var a=e.updateQueue;iu=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(h=t,p=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Rn({},f,h);break e;case 2:iu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(1);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ef|=o,e.lanes=o,e.memoizedState=f}}function aP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(gt(191,a));a.call(n)}}}var Wv={},xl=Wu(Wv),Og=Wu(Wv),Fg=Wu(Wv);function kd(e){if(e===Wv)throw Error(gt(174));return e}function jT(e,t){switch(mn(Fg,t),mn(Og,e),mn(xl,Wv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:SS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=SS(t,e)}jn(xl),mn(xl,t)}function l0(){jn(xl),jn(Og),jn(Fg)}function n7(e){kd(Fg.current);var t=kd(xl.current),r=SS(t,e.type);t!==r&&(mn(Og,e),mn(xl,r))}function ST(e){Og.current===e&&(jn(xl),jn(Og))}var Dn=Wu(0);function i2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tj=[];function NT(){for(var e=0;e<Tj.length;e++)Tj[e]._workInProgressVersionPrimary=null;Tj.length=0}var Ny=Tc.ReactCurrentDispatcher,Cj=Tc.ReactCurrentBatchConfig,Zd=0,Mn=null,ba=null,Da=null,s2=!1,qm=!1,Dg=0,ZX=0;function ni(){throw Error(gt(321))}function AT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qo(e[r],t[r]))return!1;return!0}function TT(e,t,r,n,a,i){if(Zd=i,Mn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ny.current=e===null||e.memoizedState===null?nJ:aJ,e=r(n,a),qm){i=0;do{if(qm=!1,Dg=0,25<=i)throw Error(gt(301));i+=1,Da=ba=null,t.updateQueue=null,Ny.current=iJ,e=r(n,a)}while(qm)}if(Ny.current=o2,t=ba!==null&&ba.next!==null,Zd=0,Da=ba=Mn=null,s2=!1,t)throw Error(gt(300));return e}function CT(){var e=Dg!==0;return Dg=0,e}function dl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Da===null?Mn.memoizedState=Da=e:Da=Da.next=e,Da}function so(){if(ba===null){var e=Mn.alternate;e=e!==null?e.memoizedState:null}else e=ba.next;var t=Da===null?Mn.memoizedState:Da.next;if(t!==null)Da=t,ba=e;else{if(e===null)throw Error(gt(310));ba=e,e={memoizedState:ba.memoizedState,baseState:ba.baseState,baseQueue:ba.baseQueue,queue:ba.queue,next:null},Da===null?Mn.memoizedState=Da=e:Da=Da.next=e}return Da}function Lg(e,t){return typeof t=="function"?t(e):t}function Ej(e){var t=so(),r=t.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=e;var n=ba,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Zd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Mn.lanes|=d,ef|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,qo(n,t.memoizedState)||(Zi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Mn.lanes|=i,ef|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function kj(e){var t=so(),r=t.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);qo(i,t.memoizedState)||(Zi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function a7(){}function i7(e,t){var r=Mn,n=so(),a=t(),i=!qo(n.memoizedState,a);if(i&&(n.memoizedState=a,Zi=!0),n=n.queue,ET(l7.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Da!==null&&Da.memoizedState.tag&1){if(r.flags|=2048,Ig(9,o7.bind(null,r,n,a,t),void 0,null),La===null)throw Error(gt(349));Zd&30||s7(r,t,a)}return a}function s7(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function o7(e,t,r,n){t.value=r,t.getSnapshot=n,c7(t)&&u7(e)}function l7(e,t,r){return r(function(){c7(t)&&u7(e)})}function c7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qo(e,r)}catch{return!0}}function u7(e){var t=vc(e,1);t!==null&&Ho(t,e,1,-1)}function iP(e){var t=dl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:e},t.queue=e,e=e.dispatch=rJ.bind(null,Mn,e),[t.memoizedState,e]}function Ig(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function d7(){return so().memoizedState}function Ay(e,t,r,n){var a=dl();Mn.flags|=e,a.memoizedState=Ig(1|t,r,void 0,n===void 0?null:n)}function Gb(e,t,r,n){var a=so();n=n===void 0?null:n;var i=void 0;if(ba!==null){var o=ba.memoizedState;if(i=o.destroy,n!==null&&AT(n,o.deps)){a.memoizedState=Ig(t,r,i,n);return}}Mn.flags|=e,a.memoizedState=Ig(1|t,r,i,n)}function sP(e,t){return Ay(8390656,8,e,t)}function ET(e,t){return Gb(2048,8,e,t)}function f7(e,t){return Gb(4,2,e,t)}function h7(e,t){return Gb(4,4,e,t)}function p7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m7(e,t,r){return r=r!=null?r.concat([e]):null,Gb(4,4,p7.bind(null,t,e),r)}function kT(){}function g7(e,t){var r=so();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&AT(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function v7(e,t){var r=so();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&AT(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function x7(e,t,r){return Zd&21?(qo(r,t)||(r=jR(),Mn.lanes|=r,ef|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zi=!0),e.memoizedState=r)}function eJ(e,t){var r=tn;tn=r!==0&&4>r?r:4,e(!0);var n=Cj.transition;Cj.transition={};try{e(!1),t()}finally{tn=r,Cj.transition=n}}function y7(){return so().memoizedState}function tJ(e,t,r){var n=Au(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},b7(e))w7(t,r);else if(r=t7(e,t,r,n),r!==null){var a=Mi();Ho(r,e,n,a),_7(r,t,n)}}function rJ(e,t,r){var n=Au(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(b7(e))w7(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,qo(l,o)){var c=t.interleaved;c===null?(a.next=a,wT(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=t7(e,t,a,n),r!==null&&(a=Mi(),Ho(r,e,n,a),_7(r,t,n))}}function b7(e){var t=e.alternate;return e===Mn||t!==null&&t===Mn}function w7(e,t){qm=s2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _7(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,oT(e,r)}}var o2={readContext:io,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},nJ={readContext:io,useCallback:function(e,t){return dl().memoizedState=[e,t===void 0?null:t],e},useContext:io,useEffect:sP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ay(4194308,4,p7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ay(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ay(4,2,e,t)},useMemo:function(e,t){var r=dl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tJ.bind(null,Mn,e),[n.memoizedState,e]},useRef:function(e){var t=dl();return e={current:e},t.memoizedState=e},useState:iP,useDebugValue:kT,useDeferredValue:function(e){return dl().memoizedState=e},useTransition:function(){var e=iP(!1),t=e[0];return e=eJ.bind(null,e[1]),dl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Mn,a=dl();if(En){if(r===void 0)throw Error(gt(407));r=r()}else{if(r=t(),La===null)throw Error(gt(349));Zd&30||s7(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,sP(l7.bind(null,n,i,e),[e]),n.flags|=2048,Ig(9,o7.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=dl(),t=La.identifierPrefix;if(En){var r=ec,n=Zl;r=(n&~(1<<32-Vo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ZX++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aJ={readContext:io,useCallback:g7,useContext:io,useEffect:ET,useImperativeHandle:m7,useInsertionEffect:f7,useLayoutEffect:h7,useMemo:v7,useReducer:Ej,useRef:d7,useState:function(){return Ej(Lg)},useDebugValue:kT,useDeferredValue:function(e){var t=so();return x7(t,ba.memoizedState,e)},useTransition:function(){var e=Ej(Lg)[0],t=so().memoizedState;return[e,t]},useMutableSource:a7,useSyncExternalStore:i7,useId:y7,unstable_isNewReconciler:!1},iJ={readContext:io,useCallback:g7,useContext:io,useEffect:ET,useImperativeHandle:m7,useInsertionEffect:f7,useLayoutEffect:h7,useMemo:v7,useReducer:kj,useRef:d7,useState:function(){return kj(Lg)},useDebugValue:kT,useDeferredValue:function(e){var t=so();return ba===null?t.memoizedState=e:x7(t,ba.memoizedState,e)},useTransition:function(){var e=kj(Lg)[0],t=so().memoizedState;return[e,t]},useMutableSource:a7,useSyncExternalStore:i7,useId:y7,unstable_isNewReconciler:!1};function Eo(e,t){if(e&&e.defaultProps){t=Rn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function WS(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Rn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kb={isMounted:function(e){return(e=e._reactInternals)?gf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mi(),a=Au(e),i=sc(n,a);i.payload=t,r!=null&&(i.callback=r),t=Su(e,i,a),t!==null&&(Ho(t,e,a,n),Sy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mi(),a=Au(e),i=sc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Su(e,i,a),t!==null&&(Ho(t,e,a,n),Sy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mi(),n=Au(e),a=sc(r,n);a.tag=2,t!=null&&(a.callback=t),t=Su(e,a,n),t!==null&&(Ho(t,e,n,r),Sy(t,e,n))}};function oP(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Cg(r,n)||!Cg(a,i):!0}function j7(e,t,r){var n=!1,a=Du,i=t.contextType;return typeof i=="object"&&i!==null?i=io(i):(a=rs(t)?Jd:ji.current,n=t.contextTypes,i=(n=n!=null)?i0(e,a):Du),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function lP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Kb.enqueueReplaceState(t,t.state,null)}function qS(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},_T(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=io(i):(i=rs(t)?Jd:ji.current,a.context=i0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(WS(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Kb.enqueueReplaceState(a,a.state,null),a2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function c0(e,t){try{var r="",n=t;do r+=FY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Pj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function GS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sJ=typeof WeakMap=="function"?WeakMap:Map;function S7(e,t,r){r=sc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){c2||(c2=!0,nN=n),GS(e,t)},r}function N7(e,t,r){r=sc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){GS(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){GS(e,t),typeof n!="function"&&(Nu===null?Nu=new Set([this]):Nu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function cP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sJ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=bJ.bind(null,e,t,r),t.then(e,e))}function uP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dP(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sc(-1,1),t.tag=2,Su(r,t,1))),r.lanes|=1),e)}var oJ=Tc.ReactCurrentOwner,Zi=!1;function Oi(e,t,r,n){t.child=e===null?e7(t,null,r,n):o0(t,e.child,r,n)}function fP(e,t,r,n,a){r=r.render;var i=t.ref;return Uh(t,a),n=TT(e,t,r,n,i,a),r=CT(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xc(e,t,a)):(En&&r&&mT(t),t.flags|=1,Oi(e,t,n,a),t.child)}function hP(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!RT(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,A7(e,t,i,n,a)):(e=ky(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Cg,r(o,n)&&e.ref===t.ref)return xc(e,t,a)}return t.flags|=1,e=Tu(i,n),e.ref=t.ref,e.return=t,t.child=e}function A7(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Cg(i,n)&&e.ref===t.ref)if(Zi=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Zi=!0);else return t.lanes=e.lanes,xc(e,t,a)}return KS(e,t,r,n,a)}function T7(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(Ch,gs),gs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mn(Ch,gs),gs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,mn(Ch,gs),gs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,mn(Ch,gs),gs|=n;return Oi(e,t,a,r),t.child}function C7(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function KS(e,t,r,n,a){var i=rs(r)?Jd:ji.current;return i=i0(t,i),Uh(t,a),r=TT(e,t,r,n,i,a),n=CT(),e!==null&&!Zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xc(e,t,a)):(En&&n&&mT(t),t.flags|=1,Oi(e,t,r,a),t.child)}function pP(e,t,r,n,a){if(rs(r)){var i=!0;Zy(t)}else i=!1;if(Uh(t,a),t.stateNode===null)Ty(e,t),j7(t,r,n),qS(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=io(u):(u=rs(r)?Jd:ji.current,u=i0(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&lP(t,o,n,u),iu=!1;var h=t.memoizedState;o.state=h,a2(t,n,o,a),c=t.memoizedState,l!==n||h!==c||ts.current||iu?(typeof d=="function"&&(WS(t,r,d,n),c=t.memoizedState),(l=iu||oP(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,r7(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Eo(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=io(c):(c=rs(r)?Jd:ji.current,c=i0(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&lP(t,o,n,c),iu=!1,h=t.memoizedState,o.state=h,a2(t,n,o,a);var v=t.memoizedState;l!==f||h!==v||ts.current||iu?(typeof p=="function"&&(WS(t,r,p,n),v=t.memoizedState),(u=iu||oP(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return YS(e,t,r,n,i,a)}function YS(e,t,r,n,a,i){C7(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Zk(t,r,!1),xc(e,t,i);n=t.stateNode,oJ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=o0(t,e.child,null,i),t.child=o0(t,null,l,i)):Oi(e,t,l,i),t.memoizedState=n.state,a&&Zk(t,r,!0),t.child}function E7(e){var t=e.stateNode;t.pendingContext?Qk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qk(e,t.context,!1),jT(e,t.containerInfo)}function mP(e,t,r,n,a){return s0(),vT(a),t.flags|=256,Oi(e,t,r,n),t.child}var XS={dehydrated:null,treeContext:null,retryLane:0};function JS(e){return{baseLanes:e,cachePool:null,transitions:null}}function k7(e,t,r){var n=t.pendingProps,a=Dn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),mn(Dn,a&1),e===null)return VS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jb(o,n,0,null),e=$d(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=JS(r),t.memoizedState=XS,e):PT(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return lJ(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Tu(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Tu(l,i):(i=$d(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?JS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=XS,n}return i=e.child,e=i.sibling,n=Tu(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function PT(e,t){return t=Jb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function w1(e,t,r,n){return n!==null&&vT(n),o0(t,e.child,null,r),e=PT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lJ(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Pj(Error(gt(422))),w1(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Jb({mode:"visible",children:n.children},a,0,null),i=$d(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&o0(t,e.child,null,o),t.child.memoizedState=JS(o),t.memoizedState=XS,i);if(!(t.mode&1))return w1(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(gt(419)),n=Pj(i,n,void 0),w1(e,t,o,n)}if(l=(o&e.childLanes)!==0,Zi||l){if(n=La,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,vc(e,a),Ho(n,e,a,-1))}return MT(),n=Pj(Error(gt(421))),w1(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=wJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,js=ju(a.nextSibling),As=t,En=!0,Lo=null,e!==null&&(Qs[Zs++]=Zl,Qs[Zs++]=ec,Qs[Zs++]=Qd,Zl=e.id,ec=e.overflow,Qd=t),t=PT(t,n.children),t.flags|=4096,t)}function gP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),HS(e.return,t,r)}function Oj(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function P7(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Oi(e,t,n.children,r),n=Dn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gP(e,r,t);else if(e.tag===19)gP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(mn(Dn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&i2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Oj(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&i2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Oj(t,!0,r,null,i);break;case"together":Oj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ty(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ef|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(gt(153));if(t.child!==null){for(e=t.child,r=Tu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cJ(e,t,r){switch(t.tag){case 3:E7(t),s0();break;case 5:n7(t);break;case 1:rs(t.type)&&Zy(t);break;case 4:jT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;mn(r2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(mn(Dn,Dn.current&1),t.flags|=128,null):r&t.child.childLanes?k7(e,t,r):(mn(Dn,Dn.current&1),e=xc(e,t,r),e!==null?e.sibling:null);mn(Dn,Dn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return P7(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),mn(Dn,Dn.current),n)break;return null;case 22:case 23:return t.lanes=0,T7(e,t,r)}return xc(e,t,r)}var O7,QS,F7,D7;O7=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};QS=function(){};F7=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,kd(xl.current);var i=null;switch(r){case"input":a=bS(e,a),n=bS(e,n),i=[];break;case"select":a=Rn({},a,{value:void 0}),n=Rn({},n,{value:void 0}),i=[];break;case"textarea":a=jS(e,a),n=jS(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jy)}NS(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wg.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&yn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};D7=function(e,t,r,n){r!==n&&(t.flags|=4)};function em(e,t){if(!En)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ai(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uJ(e,t,r){var n=t.pendingProps;switch(gT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(t),null;case 1:return rs(t.type)&&Qy(),ai(t),null;case 3:return n=t.stateNode,l0(),jn(ts),jn(ji),NT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(y1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lo!==null&&(sN(Lo),Lo=null))),QS(e,t),ai(t),null;case 5:ST(t);var a=kd(Fg.current);if(r=t.type,e!==null&&t.stateNode!=null)F7(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(gt(166));return ai(t),null}if(e=kd(xl.current),y1(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[hl]=t,n[Pg]=i,e=(t.mode&1)!==0,r){case"dialog":yn("cancel",n),yn("close",n);break;case"iframe":case"object":case"embed":yn("load",n);break;case"video":case"audio":for(a=0;a<Em.length;a++)yn(Em[a],n);break;case"source":yn("error",n);break;case"img":case"image":case"link":yn("error",n),yn("load",n);break;case"details":yn("toggle",n);break;case"input":Nk(n,i),yn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},yn("invalid",n);break;case"textarea":Tk(n,i),yn("invalid",n)}NS(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&x1(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&x1(n.textContent,l,e),a=["children",""+l]):wg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&yn("scroll",n)}switch(r){case"input":u1(n),Ak(n,i,!0);break;case"textarea":u1(n),Ck(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Jy)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[hl]=t,e[Pg]=n,O7(e,t,!1,!1),t.stateNode=e;e:{switch(o=AS(r,n),r){case"dialog":yn("cancel",e),yn("close",e),a=n;break;case"iframe":case"object":case"embed":yn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Em.length;a++)yn(Em[a],e);a=n;break;case"source":yn("error",e),a=n;break;case"img":case"image":case"link":yn("error",e),yn("load",e),a=n;break;case"details":yn("toggle",e),a=n;break;case"input":Nk(e,n),a=bS(e,n),yn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Rn({},n,{value:void 0}),yn("invalid",e);break;case"textarea":Tk(e,n),a=jS(e,n),yn("invalid",e);break;default:a=n}NS(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?dR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_g(e,c):typeof c=="number"&&_g(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yn("scroll",e):c!=null&&tT(e,i,c,o))}switch(r){case"input":u1(e),Ak(e,n,!1);break;case"textarea":u1(e),Ck(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fu(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Rh(e,!!n.multiple,i,!1):n.defaultValue!=null&&Rh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Jy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ai(t),null;case 6:if(e&&t.stateNode!=null)D7(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(gt(166));if(r=kd(Fg.current),kd(xl.current),y1(t)){if(n=t.stateNode,r=t.memoizedProps,n[hl]=t,(i=n.nodeValue!==r)&&(e=As,e!==null))switch(e.tag){case 3:x1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&x1(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hl]=t,t.stateNode=n}return ai(t),null;case 13:if(jn(Dn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(En&&js!==null&&t.mode&1&&!(t.flags&128))QR(),s0(),t.flags|=98560,i=!1;else if(i=y1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(gt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(gt(317));i[hl]=t}else s0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ai(t),i=!1}else Lo!==null&&(sN(Lo),Lo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Dn.current&1?_a===0&&(_a=3):MT())),t.updateQueue!==null&&(t.flags|=4),ai(t),null);case 4:return l0(),QS(e,t),e===null&&Eg(t.stateNode.containerInfo),ai(t),null;case 10:return bT(t.type._context),ai(t),null;case 17:return rs(t.type)&&Qy(),ai(t),null;case 19:if(jn(Dn),i=t.memoizedState,i===null)return ai(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)em(i,!1);else{if(_a!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=i2(e),o!==null){for(t.flags|=128,em(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return mn(Dn,Dn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Zn()>u0&&(t.flags|=128,n=!0,em(i,!1),t.lanes=4194304)}else{if(!n)if(e=i2(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),em(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!En)return ai(t),null}else 2*Zn()-i.renderingStartTime>u0&&r!==1073741824&&(t.flags|=128,n=!0,em(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Zn(),t.sibling=null,r=Dn.current,mn(Dn,n?r&1|2:r&1),t):(ai(t),null);case 22:case 23:return IT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gs&1073741824&&(ai(t),t.subtreeFlags&6&&(t.flags|=8192)):ai(t),null;case 24:return null;case 25:return null}throw Error(gt(156,t.tag))}function dJ(e,t){switch(gT(t),t.tag){case 1:return rs(t.type)&&Qy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return l0(),jn(ts),jn(ji),NT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ST(t),null;case 13:if(jn(Dn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(gt(340));s0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jn(Dn),null;case 4:return l0(),null;case 10:return bT(t.type._context),null;case 22:case 23:return IT(),null;case 24:return null;default:return null}}var _1=!1,hi=!1,fJ=typeof WeakSet=="function"?WeakSet:Set,It=null;function Th(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vn(e,t,n)}else r.current=null}function ZS(e,t,r){try{r()}catch(n){Vn(e,t,n)}}var vP=!1;function hJ(e,t){if(IS=Ky,e=$R(),pT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(MS={focusedElem:e,selectionRange:r},Ky=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){t=It;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Eo(t.type,m),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(j){Vn(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}return v=vP,vP=!1,v}function Gm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&ZS(t,r,i)}a=a.next}while(a!==n)}}function Yb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function eN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function L7(e){var t=e.alternate;t!==null&&(e.alternate=null,L7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hl],delete t[Pg],delete t[BS],delete t[YX],delete t[XX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I7(e){return e.tag===5||e.tag===3||e.tag===4}function xP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jy));else if(n!==4&&(e=e.child,e!==null))for(tN(e,t,r),e=e.sibling;e!==null;)tN(e,t,r),e=e.sibling}function rN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(rN(e,t,r),e=e.sibling;e!==null;)rN(e,t,r),e=e.sibling}var qa=null,Po=!1;function Gc(e,t,r){for(r=r.child;r!==null;)M7(e,t,r),r=r.sibling}function M7(e,t,r){if(vl&&typeof vl.onCommitFiberUnmount=="function")try{vl.onCommitFiberUnmount(zb,r)}catch{}switch(r.tag){case 5:hi||Th(r,t);case 6:var n=qa,a=Po;qa=null,Gc(e,t,r),qa=n,Po=a,qa!==null&&(Po?(e=qa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qa.removeChild(r.stateNode));break;case 18:qa!==null&&(Po?(e=qa,r=r.stateNode,e.nodeType===8?Nj(e.parentNode,r):e.nodeType===1&&Nj(e,r),Ag(e)):Nj(qa,r.stateNode));break;case 4:n=qa,a=Po,qa=r.stateNode.containerInfo,Po=!0,Gc(e,t,r),qa=n,Po=a;break;case 0:case 11:case 14:case 15:if(!hi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ZS(r,t,o),a=a.next}while(a!==n)}Gc(e,t,r);break;case 1:if(!hi&&(Th(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Vn(r,t,l)}Gc(e,t,r);break;case 21:Gc(e,t,r);break;case 22:r.mode&1?(hi=(n=hi)||r.memoizedState!==null,Gc(e,t,r),hi=n):Gc(e,t,r);break;default:Gc(e,t,r)}}function yP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fJ),t.forEach(function(n){var a=_J.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function wo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:qa=l.stateNode,Po=!1;break e;case 3:qa=l.stateNode.containerInfo,Po=!0;break e;case 4:qa=l.stateNode.containerInfo,Po=!0;break e}l=l.return}if(qa===null)throw Error(gt(160));M7(i,o,a),qa=null,Po=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Vn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R7(t,e),t=t.sibling}function R7(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wo(t,e),ol(e),n&4){try{Gm(3,e,e.return),Yb(3,e)}catch(m){Vn(e,e.return,m)}try{Gm(5,e,e.return)}catch(m){Vn(e,e.return,m)}}break;case 1:wo(t,e),ol(e),n&512&&r!==null&&Th(r,r.return);break;case 5:if(wo(t,e),ol(e),n&512&&r!==null&&Th(r,r.return),e.flags&32){var a=e.stateNode;try{_g(a,"")}catch(m){Vn(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&sR(a,i),AS(l,o);var u=AS(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?dR(a,f):d==="dangerouslySetInnerHTML"?cR(a,f):d==="children"?_g(a,f):tT(a,d,f,u)}switch(l){case"input":wS(a,i);break;case"textarea":oR(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Rh(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Rh(a,!!i.multiple,i.defaultValue,!0):Rh(a,!!i.multiple,i.multiple?[]:"",!1))}a[Pg]=i}catch(m){Vn(e,e.return,m)}}break;case 6:if(wo(t,e),ol(e),n&4){if(e.stateNode===null)throw Error(gt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Vn(e,e.return,m)}}break;case 3:if(wo(t,e),ol(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ag(t.containerInfo)}catch(m){Vn(e,e.return,m)}break;case 4:wo(t,e),ol(e);break;case 13:wo(t,e),ol(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(DT=Zn())),n&4&&yP(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(hi=(u=hi)||d,wo(t,e),hi=u):wo(t,e),ol(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(It=e,d=e.child;d!==null;){for(f=It=d;It!==null;){switch(h=It,p=h.child,h.tag){case 0:case 11:case 14:case 15:Gm(4,h,h.return);break;case 1:Th(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Vn(n,r,m)}}break;case 5:Th(h,h.return);break;case 22:if(h.memoizedState!==null){wP(f);continue}}p!==null?(p.return=h,It=p):wP(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uR("display",o))}catch(m){Vn(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Vn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wo(t,e),ol(e),n&4&&yP(e);break;case 21:break;default:wo(t,e),ol(e)}}function ol(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(I7(r)){var n=r;break e}r=r.return}throw Error(gt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_g(a,""),n.flags&=-33);var i=xP(e);rN(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=xP(e);tN(e,l,o);break;default:throw Error(gt(161))}}catch(c){Vn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pJ(e,t,r){It=e,$7(e)}function $7(e,t,r){for(var n=(e.mode&1)!==0;It!==null;){var a=It,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||_1;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||hi;l=_1;var u=hi;if(_1=o,(hi=c)&&!u)for(It=a;It!==null;)o=It,c=o.child,o.tag===22&&o.memoizedState!==null?_P(a):c!==null?(c.return=o,It=c):_P(a);for(;i!==null;)It=i,$7(i),i=i.sibling;It=a,_1=l,hi=u}bP(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,It=i):bP(e)}}function bP(e){for(;It!==null;){var t=It;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:hi||Yb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!hi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Eo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&aP(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}aP(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ag(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}hi||t.flags&512&&eN(t)}catch(h){Vn(t,t.return,h)}}if(t===e){It=null;break}if(r=t.sibling,r!==null){r.return=t.return,It=r;break}It=t.return}}function wP(e){for(;It!==null;){var t=It;if(t===e){It=null;break}var r=t.sibling;if(r!==null){r.return=t.return,It=r;break}It=t.return}}function _P(e){for(;It!==null;){var t=It;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yb(4,t)}catch(c){Vn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Vn(t,a,c)}}var i=t.return;try{eN(t)}catch(c){Vn(t,i,c)}break;case 5:var o=t.return;try{eN(t)}catch(c){Vn(t,o,c)}}}catch(c){Vn(t,t.return,c)}if(t===e){It=null;break}var l=t.sibling;if(l!==null){l.return=t.return,It=l;break}It=t.return}}var mJ=Math.ceil,l2=Tc.ReactCurrentDispatcher,OT=Tc.ReactCurrentOwner,ro=Tc.ReactCurrentBatchConfig,$r=0,La=null,ha=null,Xa=0,gs=0,Ch=Wu(0),_a=0,Mg=null,ef=0,Xb=0,FT=0,Km=null,Ji=null,DT=0,u0=1/0,Xl=null,c2=!1,nN=null,Nu=null,j1=!1,mu=null,u2=0,Ym=0,aN=null,Cy=-1,Ey=0;function Mi(){return $r&6?Zn():Cy!==-1?Cy:Cy=Zn()}function Au(e){return e.mode&1?$r&2&&Xa!==0?Xa&-Xa:QX.transition!==null?(Ey===0&&(Ey=jR()),Ey):(e=tn,e!==0||(e=window.event,e=e===void 0?16:kR(e.type)),e):1}function Ho(e,t,r,n){if(50<Ym)throw Ym=0,aN=null,Error(gt(185));Uv(e,r,n),(!($r&2)||e!==La)&&(e===La&&(!($r&2)&&(Xb|=r),_a===4&&cu(e,Xa)),ns(e,n),r===1&&$r===0&&!(t.mode&1)&&(u0=Zn()+500,qb&&qu()))}function ns(e,t){var r=e.callbackNode;QY(e,t);var n=Gy(e,e===La?Xa:0);if(n===0)r!==null&&Pk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pk(r),t===1)e.tag===0?JX(jP.bind(null,e)):YR(jP.bind(null,e)),GX(function(){!($r&6)&&qu()}),r=null;else{switch(SR(n)){case 1:r=sT;break;case 4:r=wR;break;case 16:r=qy;break;case 536870912:r=_R;break;default:r=qy}r=G7(r,B7.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function B7(e,t){if(Cy=-1,Ey=0,$r&6)throw Error(gt(327));var r=e.callbackNode;if(Vh()&&e.callbackNode!==r)return null;var n=Gy(e,e===La?Xa:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=d2(e,n);else{t=n;var a=$r;$r|=2;var i=U7();(La!==e||Xa!==t)&&(Xl=null,u0=Zn()+500,Rd(e,t));do try{xJ();break}catch(l){z7(e,l)}while(1);yT(),l2.current=i,$r=a,ha!==null?t=0:(La=null,Xa=0,t=_a)}if(t!==0){if(t===2&&(a=PS(e),a!==0&&(n=a,t=iN(e,a))),t===1)throw r=Mg,Rd(e,0),cu(e,n),ns(e,Zn()),r;if(t===6)cu(e,n);else{if(a=e.current.alternate,!(n&30)&&!gJ(a)&&(t=d2(e,n),t===2&&(i=PS(e),i!==0&&(n=i,t=iN(e,i))),t===1))throw r=Mg,Rd(e,0),cu(e,n),ns(e,Zn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(gt(345));case 2:gd(e,Ji,Xl);break;case 3:if(cu(e,n),(n&130023424)===n&&(t=DT+500-Zn(),10<t)){if(Gy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Mi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$S(gd.bind(null,e,Ji,Xl),t);break}gd(e,Ji,Xl);break;case 4:if(cu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Vo(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Zn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mJ(n/1960))-n,10<n){e.timeoutHandle=$S(gd.bind(null,e,Ji,Xl),n);break}gd(e,Ji,Xl);break;case 5:gd(e,Ji,Xl);break;default:throw Error(gt(329))}}}return ns(e,Zn()),e.callbackNode===r?B7.bind(null,e):null}function iN(e,t){var r=Km;return e.current.memoizedState.isDehydrated&&(Rd(e,t).flags|=256),e=d2(e,t),e!==2&&(t=Ji,Ji=r,t!==null&&sN(t)),e}function sN(e){Ji===null?Ji=e:Ji.push.apply(Ji,e)}function gJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!qo(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cu(e,t){for(t&=~FT,t&=~Xb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vo(t),n=1<<r;e[r]=-1,t&=~n}}function jP(e){if($r&6)throw Error(gt(327));Vh();var t=Gy(e,0);if(!(t&1))return ns(e,Zn()),null;var r=d2(e,t);if(e.tag!==0&&r===2){var n=PS(e);n!==0&&(t=n,r=iN(e,n))}if(r===1)throw r=Mg,Rd(e,0),cu(e,t),ns(e,Zn()),r;if(r===6)throw Error(gt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gd(e,Ji,Xl),ns(e,Zn()),null}function LT(e,t){var r=$r;$r|=1;try{return e(t)}finally{$r=r,$r===0&&(u0=Zn()+500,qb&&qu())}}function tf(e){mu!==null&&mu.tag===0&&!($r&6)&&Vh();var t=$r;$r|=1;var r=ro.transition,n=tn;try{if(ro.transition=null,tn=1,e)return e()}finally{tn=n,ro.transition=r,$r=t,!($r&6)&&qu()}}function IT(){gs=Ch.current,jn(Ch)}function Rd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qX(r)),ha!==null)for(r=ha.return;r!==null;){var n=r;switch(gT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qy();break;case 3:l0(),jn(ts),jn(ji),NT();break;case 5:ST(n);break;case 4:l0();break;case 13:jn(Dn);break;case 19:jn(Dn);break;case 10:bT(n.type._context);break;case 22:case 23:IT()}r=r.return}if(La=e,ha=e=Tu(e.current,null),Xa=gs=t,_a=0,Mg=null,FT=Xb=ef=0,Ji=Km=null,Ed!==null){for(t=0;t<Ed.length;t++)if(r=Ed[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Ed=null}return e}function z7(e,t){do{var r=ha;try{if(yT(),Ny.current=o2,s2){for(var n=Mn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}s2=!1}if(Zd=0,Da=ba=Mn=null,qm=!1,Dg=0,OT.current=null,r===null||r.return===null){_a=1,Mg=t,ha=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Xa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=uP(o);if(p!==null){p.flags&=-257,dP(p,o,l,i,t),p.mode&1&&cP(i,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){cP(i,u,t),MT();break e}c=Error(gt(426))}}else if(En&&l.mode&1){var x=uP(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dP(x,o,l,i,t),vT(c0(c,l));break e}}i=c=c0(c,l),_a!==4&&(_a=2),Km===null?Km=[i]:Km.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=S7(i,c,t);nP(i,g);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Nu===null||!Nu.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=N7(i,l,t);nP(i,j);break e}}i=i.return}while(i!==null)}H7(r)}catch(_){t=_,ha===r&&r!==null&&(ha=r=r.return);continue}break}while(1)}function U7(){var e=l2.current;return l2.current=o2,e===null?o2:e}function MT(){(_a===0||_a===3||_a===2)&&(_a=4),La===null||!(ef&268435455)&&!(Xb&268435455)||cu(La,Xa)}function d2(e,t){var r=$r;$r|=2;var n=U7();(La!==e||Xa!==t)&&(Xl=null,Rd(e,t));do try{vJ();break}catch(a){z7(e,a)}while(1);if(yT(),$r=r,l2.current=n,ha!==null)throw Error(gt(261));return La=null,Xa=0,_a}function vJ(){for(;ha!==null;)V7(ha)}function xJ(){for(;ha!==null&&!VY();)V7(ha)}function V7(e){var t=q7(e.alternate,e,gs);e.memoizedProps=e.pendingProps,t===null?H7(e):ha=t,OT.current=null}function H7(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dJ(r,t),r!==null){r.flags&=32767,ha=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_a=6,ha=null;return}}else if(r=uJ(r,t,gs),r!==null){ha=r;return}if(t=t.sibling,t!==null){ha=t;return}ha=t=e}while(t!==null);_a===0&&(_a=5)}function gd(e,t,r){var n=tn,a=ro.transition;try{ro.transition=null,tn=1,yJ(e,t,r,n)}finally{ro.transition=a,tn=n}return null}function yJ(e,t,r,n){do Vh();while(mu!==null);if($r&6)throw Error(gt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(gt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ZY(e,i),e===La&&(ha=La=null,Xa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||j1||(j1=!0,G7(qy,function(){return Vh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ro.transition,ro.transition=null;var o=tn;tn=1;var l=$r;$r|=4,OT.current=null,hJ(e,r),R7(r,e),$X(MS),Ky=!!IS,MS=IS=null,e.current=r,pJ(r),HY(),$r=l,tn=o,ro.transition=i}else e.current=r;if(j1&&(j1=!1,mu=e,u2=a),i=e.pendingLanes,i===0&&(Nu=null),GY(r.stateNode),ns(e,Zn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(c2)throw c2=!1,e=nN,nN=null,e;return u2&1&&e.tag!==0&&Vh(),i=e.pendingLanes,i&1?e===aN?Ym++:(Ym=0,aN=e):Ym=0,qu(),null}function Vh(){if(mu!==null){var e=SR(u2),t=ro.transition,r=tn;try{if(ro.transition=null,tn=16>e?16:e,mu===null)var n=!1;else{if(e=mu,mu=null,u2=0,$r&6)throw Error(gt(331));var a=$r;for($r|=4,It=e.current;It!==null;){var i=It,o=i.child;if(It.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(It=u;It!==null;){var d=It;switch(d.tag){case 0:case 11:case 15:Gm(8,d,i)}var f=d.child;if(f!==null)f.return=d,It=f;else for(;It!==null;){d=It;var h=d.sibling,p=d.return;if(L7(d),d===u){It=null;break}if(h!==null){h.return=p,It=h;break}It=p}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}It=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,It=o;else e:for(;It!==null;){if(i=It,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gm(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,It=g;break e}It=i.return}}var y=e.current;for(It=y;It!==null;){o=It;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,It=b;else e:for(o=y;It!==null;){if(l=It,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yb(9,l)}}catch(_){Vn(l,l.return,_)}if(l===o){It=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,It=j;break e}It=l.return}}if($r=a,qu(),vl&&typeof vl.onPostCommitFiberRoot=="function")try{vl.onPostCommitFiberRoot(zb,e)}catch{}n=!0}return n}finally{tn=r,ro.transition=t}}return!1}function SP(e,t,r){t=c0(r,t),t=S7(e,t,1),e=Su(e,t,1),t=Mi(),e!==null&&(Uv(e,1,t),ns(e,t))}function Vn(e,t,r){if(e.tag===3)SP(e,e,r);else for(;t!==null;){if(t.tag===3){SP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nu===null||!Nu.has(n))){e=c0(r,e),e=N7(t,e,1),t=Su(t,e,1),e=Mi(),t!==null&&(Uv(t,1,e),ns(t,e));break}}t=t.return}}function bJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mi(),e.pingedLanes|=e.suspendedLanes&r,La===e&&(Xa&r)===r&&(_a===4||_a===3&&(Xa&130023424)===Xa&&500>Zn()-DT?Rd(e,0):FT|=r),ns(e,t)}function W7(e,t){t===0&&(e.mode&1?(t=h1,h1<<=1,!(h1&130023424)&&(h1=4194304)):t=1);var r=Mi();e=vc(e,t),e!==null&&(Uv(e,t,r),ns(e,r))}function wJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),W7(e,r)}function _J(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(gt(314))}n!==null&&n.delete(t),W7(e,r)}var q7;q7=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ts.current)Zi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Zi=!1,cJ(e,t,r);Zi=!!(e.flags&131072)}else Zi=!1,En&&t.flags&1048576&&XR(t,t2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ty(e,t),e=t.pendingProps;var a=i0(t,ji.current);Uh(t,r),a=TT(null,t,n,e,a,r);var i=CT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rs(n)?(i=!0,Zy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,_T(t),a.updater=Kb,t.stateNode=a,a._reactInternals=t,qS(t,n,e,r),t=YS(null,t,n,!0,i,r)):(t.tag=0,En&&i&&mT(t),Oi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ty(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=SJ(n),e=Eo(n,e),a){case 0:t=KS(null,t,n,e,r);break e;case 1:t=pP(null,t,n,e,r);break e;case 11:t=fP(null,t,n,e,r);break e;case 14:t=hP(null,t,n,Eo(n.type,e),r);break e}throw Error(gt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Eo(n,a),KS(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Eo(n,a),pP(e,t,n,a,r);case 3:e:{if(E7(t),e===null)throw Error(gt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,r7(e,t),a2(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=c0(Error(gt(423)),t),t=mP(e,t,n,r,a);break e}else if(n!==a){a=c0(Error(gt(424)),t),t=mP(e,t,n,r,a);break e}else for(js=ju(t.stateNode.containerInfo.firstChild),As=t,En=!0,Lo=null,r=e7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(s0(),n===a){t=xc(e,t,r);break e}Oi(e,t,n,r)}t=t.child}return t;case 5:return n7(t),e===null&&VS(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,RS(n,a)?o=null:i!==null&&RS(n,i)&&(t.flags|=32),C7(e,t),Oi(e,t,o,r),t.child;case 6:return e===null&&VS(t),null;case 13:return k7(e,t,r);case 4:return jT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=o0(t,null,n,r):Oi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Eo(n,a),fP(e,t,n,a,r);case 7:return Oi(e,t,t.pendingProps,r),t.child;case 8:return Oi(e,t,t.pendingProps.children,r),t.child;case 12:return Oi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,mn(r2,n._currentValue),n._currentValue=o,i!==null)if(qo(i.value,o)){if(i.children===a.children&&!ts.current){t=xc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=sc(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),HS(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(gt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),HS(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Uh(t,r),a=io(a),n=n(a),t.flags|=1,Oi(e,t,n,r),t.child;case 14:return n=t.type,a=Eo(n,t.pendingProps),a=Eo(n.type,a),hP(e,t,n,a,r);case 15:return A7(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Eo(n,a),Ty(e,t),t.tag=1,rs(n)?(e=!0,Zy(t)):e=!1,Uh(t,r),j7(t,n,a),qS(t,n,a,r),YS(null,t,n,!0,e,r);case 19:return P7(e,t,r);case 22:return T7(e,t,r)}throw Error(gt(156,t.tag))};function G7(e,t){return bR(e,t)}function jJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(e,t,r,n){return new jJ(e,t,r,n)}function RT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SJ(e){if(typeof e=="function")return RT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nT)return 11;if(e===aT)return 14}return 2}function Tu(e,t){var r=e.alternate;return r===null?(r=eo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ky(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")RT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case xh:return $d(r.children,a,i,t);case rT:o=8,a|=8;break;case gS:return e=eo(12,r,t,a|2),e.elementType=gS,e.lanes=i,e;case vS:return e=eo(13,r,t,a),e.elementType=vS,e.lanes=i,e;case xS:return e=eo(19,r,t,a),e.elementType=xS,e.lanes=i,e;case nR:return Jb(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tR:o=10;break e;case rR:o=9;break e;case nT:o=11;break e;case aT:o=14;break e;case au:o=16,n=null;break e}throw Error(gt(130,e==null?e:typeof e,""))}return t=eo(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function $d(e,t,r,n){return e=eo(7,e,n,t),e.lanes=r,e}function Jb(e,t,r,n){return e=eo(22,e,n,t),e.elementType=nR,e.lanes=r,e.stateNode={isHidden:!1},e}function Fj(e,t,r){return e=eo(6,e,null,t),e.lanes=r,e}function Dj(e,t,r){return t=eo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pj(0),this.expirationTimes=pj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $T(e,t,r,n,a,i,o,l,c){return e=new NJ(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=eo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_T(i),e}function AJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function K7(e){if(!e)return Du;e=e._reactInternals;e:{if(gf(e)!==e||e.tag!==1)throw Error(gt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(gt(171))}if(e.tag===1){var r=e.type;if(rs(r))return KR(e,r,t)}return t}function Y7(e,t,r,n,a,i,o,l,c){return e=$T(r,n,!0,e,a,i,o,l,c),e.context=K7(null),r=e.current,n=Mi(),a=Au(r),i=sc(n,a),i.callback=t??null,Su(r,i,a),e.current.lanes=a,Uv(e,a,n),ns(e,n),e}function Qb(e,t,r,n){var a=t.current,i=Mi(),o=Au(a);return r=K7(r),t.context===null?t.context=r:t.pendingContext=r,t=sc(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Su(a,t,o),e!==null&&(Ho(e,a,o,i),Sy(e,a,o)),o}function f2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function NP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function BT(e,t){NP(e,t),(e=e.alternate)&&NP(e,t)}function TJ(){return null}var X7=typeof reportError=="function"?reportError:function(e){console.error(e)};function zT(e){this._internalRoot=e}Zb.prototype.render=zT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(gt(409));Qb(e,t,null,null)};Zb.prototype.unmount=zT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tf(function(){Qb(null,e,null,null)}),t[gc]=null}};function Zb(e){this._internalRoot=e}Zb.prototype.unstable_scheduleHydration=function(e){if(e){var t=TR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<lu.length&&t!==0&&t<lu[r].priority;r++);lu.splice(r,0,e),r===0&&ER(e)}};function UT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ew(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function AP(){}function CJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=f2(o);i.call(u)}}var o=Y7(t,n,e,0,null,!1,!1,"",AP);return e._reactRootContainer=o,e[gc]=o.current,Eg(e.nodeType===8?e.parentNode:e),tf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=f2(c);l.call(u)}}var c=$T(e,0,!1,null,null,!1,!1,"",AP);return e._reactRootContainer=c,e[gc]=c.current,Eg(e.nodeType===8?e.parentNode:e),tf(function(){Qb(t,c,r,n)}),c}function tw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=f2(o);l.call(c)}}Qb(t,o,e,a)}else o=CJ(r,t,e,a,n);return f2(o)}NR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Cm(t.pendingLanes);r!==0&&(oT(t,r|1),ns(t,Zn()),!($r&6)&&(u0=Zn()+500,qu()))}break;case 13:tf(function(){var n=vc(e,1);if(n!==null){var a=Mi();Ho(n,e,1,a)}}),BT(e,1)}};lT=function(e){if(e.tag===13){var t=vc(e,134217728);if(t!==null){var r=Mi();Ho(t,e,134217728,r)}BT(e,134217728)}};AR=function(e){if(e.tag===13){var t=Au(e),r=vc(e,t);if(r!==null){var n=Mi();Ho(r,e,t,n)}BT(e,t)}};TR=function(){return tn};CR=function(e,t){var r=tn;try{return tn=e,t()}finally{tn=r}};CS=function(e,t,r){switch(t){case"input":if(wS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Wb(n);if(!a)throw Error(gt(90));iR(n),wS(n,a)}}}break;case"textarea":oR(e,r);break;case"select":t=r.value,t!=null&&Rh(e,!!r.multiple,t,!1)}};pR=LT;mR=tf;var EJ={usingClientEntryPoint:!1,Events:[Hv,_h,Wb,fR,hR,LT]},tm={findFiberByHostInstance:Cd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kJ={bundleType:tm.bundleType,version:tm.version,rendererPackageName:tm.rendererPackageName,rendererConfig:tm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xR(e),e===null?null:e.stateNode},findFiberByHostInstance:tm.findFiberByHostInstance||TJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S1.isDisabled&&S1.supportsFiber)try{zb=S1.inject(kJ),vl=S1}catch{}}Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EJ;Ls.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UT(t))throw Error(gt(200));return AJ(e,t,null,r)};Ls.createRoot=function(e,t){if(!UT(e))throw Error(gt(299));var r=!1,n="",a=X7;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=$T(e,1,!1,null,null,r,!1,n,a),e[gc]=t.current,Eg(e.nodeType===8?e.parentNode:e),new zT(t)};Ls.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(gt(188)):(e=Object.keys(e).join(","),Error(gt(268,e)));return e=xR(t),e=e===null?null:e.stateNode,e};Ls.flushSync=function(e){return tf(e)};Ls.hydrate=function(e,t,r){if(!ew(t))throw Error(gt(200));return tw(null,e,t,!0,r)};Ls.hydrateRoot=function(e,t,r){if(!UT(e))throw Error(gt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=X7;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Y7(t,null,e,1,r??null,a,!1,i,o),e[gc]=t.current,Eg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Zb(t)};Ls.render=function(e,t,r){if(!ew(t))throw Error(gt(200));return tw(null,e,t,!1,r)};Ls.unmountComponentAtNode=function(e){if(!ew(e))throw Error(gt(40));return e._reactRootContainer?(tf(function(){tw(null,null,e,!1,function(){e._reactRootContainer=null,e[gc]=null})}),!0):!1};Ls.unstable_batchedUpdates=LT;Ls.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ew(r))throw Error(gt(200));if(e==null||e._reactInternals===void 0)throw Error(gt(38));return tw(e,t,r,!1,n)};Ls.version="18.3.1-next-f1338f8080-20240426";function J7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J7)}catch(e){console.error(e)}}J7(),JM.exports=Ls;var vf=JM.exports;const PJ=Hr(vf);var TP=vf;pS.createRoot=TP.createRoot,pS.hydrateRoot=TP.hydrateRoot;var Q7={exports:{}},OJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FJ=OJ,DJ=FJ;function Z7(){}function e$(){}e$.resetWarningCache=Z7;var LJ=function(){function e(n,a,i,o,l,c){if(c!==DJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:e$,resetWarningCache:Z7};return r.PropTypes=r,r};Q7.exports=LJ();var IJ=Q7.exports;const Ut=Hr(IJ);function MJ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var t$=O,RJ=MJ(t$);function CP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var BJ=!!(typeof window<"u"&&window.document&&window.document.createElement);function zJ(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(d){return d.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(d){$J(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var v=l;return l=void 0,o=[],v};var h=f.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),c()},h.componentDidUpdate=function(){c()},h.componentWillUnmount=function(){var v=o.indexOf(this);o.splice(v,1),c()},h.render=function(){return RJ.createElement(i,this.props)},f}(t$.PureComponent);return CP(u,"displayName","SideEffect("+n(i)+")"),CP(u,"canUseDOM",BJ),u}}var UJ=zJ;const VJ=Hr(UJ);var HJ=typeof Element<"u",WJ=typeof Map=="function",qJ=typeof Set=="function",GJ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Py(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Py(e[n],t[n]))return!1;return!0}var i;if(WJ&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!Py(n.value[1],t.get(n.value[0])))return!1;return!0}if(qJ&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(GJ&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(HJ&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!Py(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var KJ=function(t,r){try{return Py(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const YJ=Hr(KJ);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var EP=Object.getOwnPropertySymbols,XJ=Object.prototype.hasOwnProperty,JJ=Object.prototype.propertyIsEnumerable;function QJ(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ZJ(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var eQ=ZJ()?Object.assign:function(e,t){for(var r,n=QJ(e),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)XJ.call(r,o)&&(n[o]=r[o]);if(EP){a=EP(r);for(var l=0;l<a.length;l++)JJ.call(r,a[l])&&(n[a[l]]=r[a[l]])}}return n};const tQ=Hr(eQ);var Bd={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},pr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(pr).map(function(e){return pr[e]});var Tn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},h2={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Rg={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},rQ=Object.keys(h2).reduce(function(e,t){return e[h2[t]]=t,e},{}),nQ=[pr.NOSCRIPT,pr.SCRIPT,pr.STYLE],$o="data-react-helmet",aQ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iQ=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},sQ=function(){function e(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oQ=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},kP=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},lQ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},oN=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},cQ=function(t){var r=Hh(t,pr.TITLE),n=Hh(t,Rg.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=Hh(t,Rg.DEFAULT_TITLE);return r||a||void 0},uQ=function(t){return Hh(t,Rg.ON_CHANGE_CLIENT_STATE)||function(){}},Lj=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,a){return Yi({},n,a)},{})},dQ=function(t,r){return r.filter(function(n){return typeof n[pr.BASE]<"u"}).map(function(n){return n[pr.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},rm=function(t,r,n){var a={};return n.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&mQ("Helmet: "+t+' should be of type "Array". Instead found type "'+aQ(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(h){for(var p=void 0,v=Object.keys(h),m=0;m<v.length;m++){var x=v[m],g=x.toLowerCase();r.indexOf(g)!==-1&&!(p===Tn.REL&&h[p].toLowerCase()==="canonical")&&!(g===Tn.REL&&h[g].toLowerCase()==="stylesheet")&&(p=g),r.indexOf(x)!==-1&&(x===Tn.INNER_HTML||x===Tn.CSS_TEXT||x===Tn.ITEM_PROP)&&(p=x)}if(!p||!h[p])return!1;var y=h[p].toLowerCase();return a[p]||(a[p]={}),l[p]||(l[p]={}),a[p][y]?!1:(l[p][y]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=tQ({},a[d],l[d]);a[d]=f}return i},[]).reverse()},Hh=function(t,r){for(var n=t.length-1;n>=0;n--){var a=t[n];if(a.hasOwnProperty(r))return a[r]}return null},fQ=function(t){return{baseTag:dQ([Tn.HREF,Tn.TARGET],t),bodyAttributes:Lj(Bd.BODY,t),defer:Hh(t,Rg.DEFER),encode:Hh(t,Rg.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Lj(Bd.HTML,t),linkTags:rm(pr.LINK,[Tn.REL,Tn.HREF],t),metaTags:rm(pr.META,[Tn.NAME,Tn.CHARSET,Tn.HTTPEQUIV,Tn.PROPERTY,Tn.ITEM_PROP],t),noscriptTags:rm(pr.NOSCRIPT,[Tn.INNER_HTML],t),onChangeClientState:uQ(t),scriptTags:rm(pr.SCRIPT,[Tn.SRC,Tn.INNER_HTML],t),styleTags:rm(pr.STYLE,[Tn.CSS_TEXT],t),title:cQ(t),titleAttributes:Lj(Bd.TITLE,t)}},lN=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){lN(t)},0)}}(),PP=function(t){return clearTimeout(t)},hQ=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||lN:global.requestAnimationFrame||lN,pQ=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||PP:global.cancelAnimationFrame||PP,mQ=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},nm=null,gQ=function(t){nm&&pQ(nm),t.defer?nm=hQ(function(){OP(t,function(){nm=null})}):(OP(t),nm=null)},OP=function(t,r){var n=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,f=t.styleTags,h=t.title,p=t.titleAttributes;cN(pr.BODY,a),cN(pr.HTML,i),vQ(h,p);var v={baseTag:eh(pr.BASE,n),linkTags:eh(pr.LINK,o),metaTags:eh(pr.META,l),noscriptTags:eh(pr.NOSCRIPT,c),scriptTags:eh(pr.SCRIPT,d),styleTags:eh(pr.STYLE,f)},m={},x={};Object.keys(v).forEach(function(g){var y=v[g],b=y.newTags,j=y.oldTags;b.length&&(m[g]=b),j.length&&(x[g]=v[g].oldTags)}),r&&r(),u(t,m,x)},r$=function(t){return Array.isArray(t)?t.join(""):t},vQ=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=r$(t)),cN(pr.TITLE,r)},cN=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var a=n.getAttribute($o),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],d=r[u]||"";n.getAttribute(u)!==d&&n.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var f=o.indexOf(u);f!==-1&&o.splice(f,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute($o):n.getAttribute($o)!==l.join(",")&&n.setAttribute($o,l.join(","))}},eh=function(t,r){var n=document.head||document.querySelector(pr.HEAD),a=n.querySelectorAll(t+"["+$o+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===Tn.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Tn.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute($o,"true"),i.some(function(h,p){return l=p,u.isEqualNode(h)})?i.splice(l,1):o.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:o}},n$=function(t){return Object.keys(t).reduce(function(r,n){var a=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+a:a},"")},xQ=function(t,r,n,a){var i=n$(n),o=r$(r);return i?"<"+t+" "+$o+'="true" '+i+">"+oN(o,a)+"</"+t+">":"<"+t+" "+$o+'="true">'+oN(o,a)+"</"+t+">"},yQ=function(t,r,n){return r.reduce(function(a,i){var o=Object.keys(i).filter(function(u){return!(u===Tn.INNER_HTML||u===Tn.CSS_TEXT)}).reduce(function(u,d){var f=typeof i[d]>"u"?d:d+'="'+oN(i[d],n)+'"';return u?u+" "+f:f},""),l=i.innerHTML||i.cssText||"",c=nQ.indexOf(t)===-1;return a+"<"+t+" "+$o+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},a$=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[h2[a]||a]=t[a],n},r)},bQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,a){return n[rQ[a]||a]=t[a],n},r)},wQ=function(t,r,n){var a,i=(a={key:r},a[$o]=!0,a),o=a$(n,i);return[Ce.createElement(pr.TITLE,o,r)]},_Q=function(t,r){return r.map(function(n,a){var i,o=(i={key:a},i[$o]=!0,i);return Object.keys(n).forEach(function(l){var c=h2[l]||l;if(c===Tn.INNER_HTML||c===Tn.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),Ce.createElement(t,o)})},Hl=function(t,r,n){switch(t){case pr.TITLE:return{toComponent:function(){return wQ(t,r.title,r.titleAttributes)},toString:function(){return xQ(t,r.title,r.titleAttributes,n)}};case Bd.BODY:case Bd.HTML:return{toComponent:function(){return a$(r)},toString:function(){return n$(r)}};default:return{toComponent:function(){return _Q(t,r)},toString:function(){return yQ(t,r,n)}}}},i$=function(t){var r=t.baseTag,n=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,f=t.title,h=f===void 0?"":f,p=t.titleAttributes;return{base:Hl(pr.BASE,r,a),bodyAttributes:Hl(Bd.BODY,n,a),htmlAttributes:Hl(Bd.HTML,i,a),link:Hl(pr.LINK,o,a),meta:Hl(pr.META,l,a),noscript:Hl(pr.NOSCRIPT,c,a),script:Hl(pr.SCRIPT,u,a),style:Hl(pr.STYLE,d,a),title:Hl(pr.TITLE,{title:h,titleAttributes:p},a)}},jQ=function(t){var r,n;return n=r=function(a){oQ(i,a);function i(){return iQ(this,i),lQ(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!YJ(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case pr.SCRIPT:case pr.NOSCRIPT:return{innerHTML:c};case pr.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,h=l.nestedChildren;return Yi({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[Yi({},f,this.mapNestedChildrenToProps(u,h))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,h=l.newChildProps,p=l.nestedChildren;switch(d.type){case pr.TITLE:return Yi({},f,(c={},c[d.type]=p,c.titleAttributes=Yi({},h),c));case pr.BODY:return Yi({},f,{bodyAttributes:Yi({},h)});case pr.HTML:return Yi({},f,{htmlAttributes:Yi({},h)})}return Yi({},f,(u={},u[d.type]=Yi({},h),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Yi({},c);return Object.keys(l).forEach(function(d){var f;u=Yi({},u,(f={},f[d]=l[d],f))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Ce.Children.forEach(l,function(f){if(!(!f||!f.props)){var h=f.props,p=h.children,v=kP(h,["children"]),m=bQ(v);switch(u.warnOnInvalidChildren(f,p),f.type){case pr.LINK:case pr.META:case pr.NOSCRIPT:case pr.SCRIPT:case pr.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:m,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:m,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=kP(l,["children"]),d=Yi({},u);return c&&(d=this.mapChildrenToProps(c,d)),Ce.createElement(t,d)},sQ(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(Ce.Component),r.propTypes={base:Ut.object,bodyAttributes:Ut.object,children:Ut.oneOfType([Ut.arrayOf(Ut.node),Ut.node]),defaultTitle:Ut.string,defer:Ut.bool,encodeSpecialCharacters:Ut.bool,htmlAttributes:Ut.object,link:Ut.arrayOf(Ut.object),meta:Ut.arrayOf(Ut.object),noscript:Ut.arrayOf(Ut.object),onChangeClientState:Ut.func,script:Ut.arrayOf(Ut.object),style:Ut.arrayOf(Ut.object),title:Ut.string,titleAttributes:Ut.object,titleTemplate:Ut.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var a=t.rewind();return a||(a=i$({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},SQ=function(){return null},NQ=VJ(fQ,gQ,i$)(SQ),uN=jQ(NQ);uN.renderStatic=uN.rewind;const AQ="modulepreload",TQ=function(e){return"/"+e},FP={},yc=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=TQ(i),i in FP)return;FP[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let d=a.length-1;d>=0;d--){const f=a[d];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":AQ,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},CQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yc(()=>Promise.resolve().then(()=>Gv),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class VT extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class EQ extends VT{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kQ extends VT{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class PQ extends VT{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var dN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(dN||(dN={}));var OQ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class FQ{constructor(t,{headers:r={},customFetch:n,region:a=dN.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=CQ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return OQ(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new EQ(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new kQ(d);if(!d.ok)throw new PQ(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Qi={},HT={},rw={},qv={},nw={},aw={},DQ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},d0=DQ();const LQ=d0.fetch,IQ=d0.fetch.bind(d0),MQ=d0.Headers,RQ=d0.Request,$Q=d0.Response,Gv=Object.freeze(Object.defineProperty({__proto__:null,Headers:MQ,Request:RQ,Response:$Q,default:IQ,fetch:LQ},Symbol.toStringTag,{value:"Module"})),BQ=$M(Gv);var iw={};Object.defineProperty(iw,"__esModule",{value:!0});let zQ=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};iw.default=zQ;var s$=In&&In.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aw,"__esModule",{value:!0});const UQ=s$(BQ),VQ=s$(iw);let HQ=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=UQ.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new VQ.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}};aw.default=HQ;var WQ=In&&In.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nw,"__esModule",{value:!0});const qQ=WQ(aw);let GQ=class extends qQ.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nw.default=GQ;var KQ=In&&In.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qv,"__esModule",{value:!0});const YQ=KQ(nw);let XQ=class extends YQ.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};qv.default=XQ;var JQ=In&&In.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rw,"__esModule",{value:!0});const am=JQ(qv);let QQ=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new am.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new am.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new am.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new am.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new am.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};rw.default=QQ;var sw={},ow={};Object.defineProperty(ow,"__esModule",{value:!0});ow.version=void 0;ow.version="0.0.0-automated";Object.defineProperty(sw,"__esModule",{value:!0});sw.DEFAULT_HEADERS=void 0;const ZQ=ow;sw.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ZQ.version}`};var o$=In&&In.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(HT,"__esModule",{value:!0});const eZ=o$(rw),tZ=o$(qv),rZ=sw;let nZ=class l${constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},rZ.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new eZ.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new l$(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new tZ.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};HT.default=nZ;var K0=In&&In.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.PostgrestError=Qi.PostgrestBuilder=Qi.PostgrestTransformBuilder=Qi.PostgrestFilterBuilder=Qi.PostgrestQueryBuilder=Qi.PostgrestClient=void 0;const c$=K0(HT);Qi.PostgrestClient=c$.default;const u$=K0(rw);Qi.PostgrestQueryBuilder=u$.default;const d$=K0(qv);Qi.PostgrestFilterBuilder=d$.default;const f$=K0(nw);Qi.PostgrestTransformBuilder=f$.default;const h$=K0(aw);Qi.PostgrestBuilder=h$.default;const p$=K0(iw);Qi.PostgrestError=p$.default;var aZ=Qi.default={PostgrestClient:c$.default,PostgrestQueryBuilder:u$.default,PostgrestFilterBuilder:d$.default,PostgrestTransformBuilder:f$.default,PostgrestBuilder:h$.default,PostgrestError:p$.default};const{PostgrestClient:iZ,PostgrestQueryBuilder:u9e,PostgrestFilterBuilder:d9e,PostgrestTransformBuilder:f9e,PostgrestBuilder:h9e,PostgrestError:p9e}=aZ,sZ="2.11.3",oZ={"X-Client-Info":`realtime-js/${sZ}`},lZ="1.0.0",m$=1e4,cZ=1e3;var Wh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wh||(Wh={}));var ps;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ps||(ps={}));var Oo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Oo||(Oo={}));var fN;(function(e){e.websocket="websocket"})(fN||(fN={}));var Sd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sd||(Sd={}));class uZ{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class g${constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(hn||(hn={}));const DP=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=dZ(o,e,t,a),i),{})},dZ=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?v$(i,o):hN(o)},v$=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return mZ(t,r)}switch(e){case hn.bool:return fZ(t);case hn.float4:case hn.float8:case hn.int2:case hn.int4:case hn.int8:case hn.numeric:case hn.oid:return hZ(t);case hn.json:case hn.jsonb:return pZ(t);case hn.timestamp:return gZ(t);case hn.abstime:case hn.date:case hn.daterange:case hn.int4range:case hn.int8range:case hn.money:case hn.reltime:case hn.text:case hn.time:case hn.timestamptz:case hn.timetz:case hn.tsrange:case hn.tstzrange:return hN(t);default:return hN(t)}},hN=e=>e,fZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>v$(t,l))}return e},gZ=e=>typeof e=="string"?e.replace(" ","T"):e,x$=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ij{constructor(t,r,n={},a=m$){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var LP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(LP||(LP={}));class Xm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xm.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Xm.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Xm.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),v=d.filter(x=>p.indexOf(x.presence_ref)<0),m=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IP||(IP={}));var MP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(MP||(MP={}));var Jl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jl||(Jl={}));class WT{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ps.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ij(this,Oo.join,this.params,this.timeout),this.rejoinTimer=new g$(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ps.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ps.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ps.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ps.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Oo.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Xm(this),this.broadcastEndpointURL=x$(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Jl.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Jl.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Jl.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let m=0;m<p;m++){const x=h[m],{filter:{event:g,schema:y,table:b,filter:j}}=x,_=d&&d[m];if(_&&_.event===g&&_.schema===y&&_.table===b&&_.filter===j)v.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),t==null||t(Jl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Jl.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Jl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ps.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Oo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new Ij(this,Oo.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ij(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Oo;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var v,m,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(m=p.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,m,x,g,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:x,commit_timestamp:g,type:y,errors:b}=v;h=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===ps.closed}_isJoined(){return this.state===ps.joined}_isJoining(){return this.state===ps.joining}_isLeaving(){return this.state===ps.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&WT.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Oo.close,{},t)}_onError(t){this._on(Oo.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ps.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=DP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=DP(t.columns,t.old_record)),r}}const vZ=()=>{},xZ=typeof WebSocket<"u",yZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bZ{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=oZ,this.params={},this.timeout=m$,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=vZ,this.conn=null,this.sendBuffer=[],this.serializer=new uZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>yc(()=>Promise.resolve().then(()=>Gv),void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${fN.websocket}`,this.httpEndpoint=x$(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new g$(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}if(xZ){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new wZ(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),yc(()=>import("./browser-4a21e573.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lZ}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wh.connecting:return Sd.Connecting;case Wh.open:return Sd.Open;case Wh.closing:return Sd.Closing;default:return Sd.Closed}}isConnected(){return this.connectionState()===Sd.Open}channel(t,r={config:{}}){const n=new WT(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Oo.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(cZ,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Oo.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([yZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class wZ{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wh.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class qT extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _Z extends qT{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pN extends qT{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var jZ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const y$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>yc(()=>Promise.resolve().then(()=>Gv),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},SZ=()=>jZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yc(()=>Promise.resolve().then(()=>Gv),void 0)).Response:Response}),mN=e=>{if(Array.isArray(e))return e.map(r=>mN(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=mN(n)}),t};var xf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Mj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NZ=(e,t,r)=>xf(void 0,void 0,void 0,function*(){const n=yield SZ();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new _Z(Mj(a),e.status||500))}).catch(a=>{t(new pN(Mj(a),a))}):t(new pN(Mj(e),e))}),AZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Kv(e,t,r,n,a,i){return xf(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,AZ(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>NZ(c,l,n))})})}function p2(e,t,r,n){return xf(this,void 0,void 0,function*(){return Kv(e,"GET",t,r,n)})}function su(e,t,r,n,a){return xf(this,void 0,void 0,function*(){return Kv(e,"POST",t,n,a,r)})}function TZ(e,t,r,n,a){return xf(this,void 0,void 0,function*(){return Kv(e,"PUT",t,n,a,r)})}function CZ(e,t,r,n){return xf(this,void 0,void 0,function*(){return Kv(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function b$(e,t,r,n,a){return xf(this,void 0,void 0,function*(){return Kv(e,"DELETE",t,n,a,r)})}var Gi=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const EZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},RP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kZ{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=y$(a)}uploadOrUpdate(t,r,n,a){return Gi(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},RP),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Pa(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Gi(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:RP.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Pa(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Gi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield su(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new qT("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Pa(n))return{data:null,error:n};throw n}})}update(t,r,n){return Gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Gi(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Pa(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Gi(this,void 0,void 0,function*(){try{return{data:{path:(yield su(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Pa(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Gi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield su(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Pa(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Gi(this,void 0,void 0,function*(){try{const a=yield su(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Pa(a))return{data:null,error:a};throw a}})}download(t,r){return Gi(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield p2(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pa(l))return{data:null,error:l};throw l}})}info(t){return Gi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield p2(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mN(n),error:null}}catch(n){if(Pa(n))return{data:null,error:n};throw n}})}exists(t){return Gi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield CZ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pa(n)&&n instanceof pN){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Gi(this,void 0,void 0,function*(){try{return{data:yield b$(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Pa(r))return{data:null,error:r};throw r}})}list(t,r,n){return Gi(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},EZ),r),{prefix:t||""});return{data:yield su(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Pa(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const PZ="2.7.1",OZ={"X-Client-Info":`storage-js/${PZ}`};var th=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class FZ{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},OZ),r),this.fetch=y$(n)}listBuckets(){return th(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pa(t))return{data:null,error:t};throw t}})}getBucket(t){return th(this,void 0,void 0,function*(){try{return{data:yield p2(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Pa(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return th(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pa(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return th(this,void 0,void 0,function*(){try{return{data:yield TZ(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pa(n))return{data:null,error:n};throw n}})}emptyBucket(t){return th(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pa(r))return{data:null,error:r};throw r}})}deleteBucket(t){return th(this,void 0,void 0,function*(){try{return{data:yield b$(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Pa(r))return{data:null,error:r};throw r}})}}class DZ extends FZ{constructor(t,r={},n){super(t,r,n)}from(t){return new kZ(this.url,this.headers,t,this.fetch)}}const LZ="2.30.0",IZ={"X-Client-Info":`supabase-js/${LZ}`};var gN={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof In<"u"&&In,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof In<"u"&&In||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(z){return z&&DataView.prototype.isPrototypeOf(z)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(z){return z&&d.indexOf(Object.prototype.toString.call(z))>-1};function h(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(z)||z==="")throw new TypeError('Invalid character in header field name: "'+z+'"');return z.toLowerCase()}function p(z){return typeof z!="string"&&(z=String(z)),z}function v(z){var I={next:function(){var R=z.shift();return{done:R===void 0,value:R}}};return c.iterable&&(I[Symbol.iterator]=function(){return I}),I}function m(z){this.map={},z instanceof m?z.forEach(function(I,R){this.append(R,I)},this):Array.isArray(z)?z.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(I){this.append(I,z[I])},this)}m.prototype.append=function(z,I){z=h(z),I=p(I);var R=this.map[z];this.map[z]=R?R+", "+I:I},m.prototype.delete=function(z){delete this.map[h(z)]},m.prototype.get=function(z){return z=h(z),this.has(z)?this.map[z]:null},m.prototype.has=function(z){return this.map.hasOwnProperty(h(z))},m.prototype.set=function(z,I){this.map[h(z)]=p(I)},m.prototype.forEach=function(z,I){for(var R in this.map)this.map.hasOwnProperty(R)&&z.call(I,this.map[R],R,this)},m.prototype.keys=function(){var z=[];return this.forEach(function(I,R){z.push(R)}),v(z)},m.prototype.values=function(){var z=[];return this.forEach(function(I){z.push(I)}),v(z)},m.prototype.entries=function(){var z=[];return this.forEach(function(I,R){z.push([R,I])}),v(z)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function x(z){if(!z._noBody){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}}function g(z){return new Promise(function(I,R){z.onload=function(){I(z.result)},z.onerror=function(){R(z.error)}})}function y(z){var I=new FileReader,R=g(I);return I.readAsArrayBuffer(z),R}function b(z){var I=new FileReader,R=g(I),G=/charset=([A-Za-z0-9_-]+)/.exec(z.type),F=G?G[1]:"utf-8";return I.readAsText(z,F),R}function j(z){for(var I=new Uint8Array(z),R=new Array(I.length),G=0;G<I.length;G++)R[G]=String.fromCharCode(I[G]);return R.join("")}function _(z){if(z.slice)return z.slice(0);var I=new Uint8Array(z.byteLength);return I.set(new Uint8Array(z)),I.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(z){this.bodyUsed=this.bodyUsed,this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:c.blob&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:c.formData&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():c.arrayBuffer&&c.blob&&u(z)?(this._bodyArrayBuffer=_(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(z)||f(z))?this._bodyArrayBuffer=_(z):this._bodyText=z=Object.prototype.toString.call(z):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var z=x(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var z=x(this);return z||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var z=x(this);if(z)return z;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function T(z){var I=z.toUpperCase();return S.indexOf(I)>-1?I:z}function k(z,I){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var R=I.body;if(z instanceof k){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,I.headers||(this.headers=new m(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,!R&&z._bodyInit!=null&&(R=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new m(I.headers)),this.method=T(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in l){var H=new AbortController;return H.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var G=/([?&])_=[^&]*/;if(G.test(this.url))this.url=this.url.replace(G,"$1_="+new Date().getTime());else{var F=/\?/;this.url+=(F.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function V(z){var I=new FormData;return z.trim().split("&").forEach(function(R){if(R){var G=R.split("="),F=G.shift().replace(/\+/g," "),H=G.join("=").replace(/\+/g," ");I.append(decodeURIComponent(F),decodeURIComponent(H))}}),I}function C(z){var I=new m,R=z.replace(/\r?\n[\t ]+/g," ");return R.split("\r").map(function(G){return G.indexOf(`
`)===0?G.substr(1,G.length):G}).forEach(function(G){var F=G.split(":"),H=F.shift().trim();if(H){var J=F.join(":").trim();try{I.append(H,J)}catch(A){console.warn("Response "+A.message)}}}),I}N.call(k.prototype);function P(z,I){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new m(I.headers),this.url=I.url||"",this._initBody(z)}N.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},P.error=function(){var z=new P(null,{status:200,statusText:""});return z.ok=!1,z.status=0,z.type="error",z};var U=[301,302,303,307,308];P.redirect=function(z,I){if(U.indexOf(I)===-1)throw new RangeError("Invalid status code");return new P(null,{status:I,headers:{location:z}})},o.DOMException=l.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,R){this.message=I,this.name=R;var G=Error(I);this.stack=G.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function q(z,I){return new Promise(function(R,G){var F=new k(z,I);if(F.signal&&F.signal.aborted)return G(new o.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function J(){H.abort()}H.onload=function(){var K={statusText:H.statusText,headers:C(H.getAllResponseHeaders()||"")};F.url.indexOf("file://")===0&&(H.status<200||H.status>599)?K.status=200:K.status=H.status,K.url="responseURL"in H?H.responseURL:K.headers.get("X-Request-URL");var L="response"in H?H.response:H.responseText;setTimeout(function(){R(new P(L,K))},0)},H.onerror=function(){setTimeout(function(){G(new TypeError("Network request failed"))},0)},H.ontimeout=function(){setTimeout(function(){G(new TypeError("Network request timed out"))},0)},H.onabort=function(){setTimeout(function(){G(new o.DOMException("Aborted","AbortError"))},0)};function A(K){try{return K===""&&l.location.href?l.location.href:K}catch{return K}}if(H.open(F.method,A(F.url),!0),F.credentials==="include"?H.withCredentials=!0:F.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&(c.blob?H.responseType="blob":c.arrayBuffer&&(H.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof m||l.Headers&&I.headers instanceof l.Headers)){var M=[];Object.getOwnPropertyNames(I.headers).forEach(function(K){M.push(h(K)),H.setRequestHeader(K,p(I.headers[K]))}),F.headers.forEach(function(K,L){M.indexOf(L)===-1&&H.setRequestHeader(L,K)})}else F.headers.forEach(function(K,L){H.setRequestHeader(L,K)});F.signal&&(F.signal.addEventListener("abort",J),H.onreadystatechange=function(){H.readyState===4&&F.signal.removeEventListener("abort",J)}),H.send(typeof F._bodyInit>"u"?null:F._bodyInit)})}return q.polyfill=!0,l.fetch||(l.fetch=q,l.Headers=m,l.Request=k,l.Response=P),o.Headers=m,o.Request=k,o.Response=P,o.fetch=q,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t})(gN,gN.exports);var GT=gN.exports;const w$=Hr(GT),MZ=RM({__proto__:null,default:w$},[GT]);var RZ=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const $Z=e=>{let t;return e?t=e:typeof fetch>"u"?t=w$:t=fetch,(...r)=>t(...r)},BZ=()=>typeof Headers>"u"?GT.Headers:Headers,zZ=(e,t,r)=>{const n=$Z(r),a=BZ();return(i,o)=>RZ(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};function UZ(e){return e.replace(/\/$/,"")}function VZ(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i)}}function HZ(e){return Math.round(Date.now()/1e3)+e}function WZ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yl=()=>typeof document<"u",fd={tested:!1,writable:!1},Oy=()=>{if(!Yl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fd.tested)return fd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fd.tested=!0,fd.writable=!0}catch{fd.tested=!0,fd.writable=!1}return fd.writable};function Ki(e,t){var r;t||(t=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),a=n.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const _$=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...r)=>await(await yc(()=>Promise.resolve().then(()=>MZ),void 0)).fetch(...r):t=fetch,(...r)=>t(...r)},qZ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",im=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},N1=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rj=async(e,t)=>{await e.removeItem(t)};function GZ(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,o,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=o<<2|l>>4,a=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&a!=0&&(r=r+String.fromCharCode(a)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class lw{constructor(){this.promise=new lw.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}lw.promiseConstructor=Promise;function $P(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(GZ(n))}function KZ(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function YZ(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function XZ(e){return("0"+e.toString(16)).substr(-2)}function A1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,XZ).join("")}async function JZ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function QZ(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function T1(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await JZ(e);return QZ(t)}const ZZ="__stack_guard__",eee="__",tee=/__stack_guard__([a-zA-Z0-9_-]+)__/;let BP=!1,KT;function vN(e){var t,r;KT();let n;try{throw new Error}catch(i){n=i}const a=(r=(t=n.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&r!==void 0?r:[];for(let i=0;i<a.length;i+=1){const l=a[i].match(tee);if(l&&l[1]===e)return!0}return!1}async function xN(e,t){await KT();const r=`${ZZ}${e}${eee}`;return await{[r]:async()=>await t()}[r]()}KT=async()=>{BP||(BP=!0,await xN("ENV_CHECK",async()=>{const e=vN("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class YT extends Error{constructor(t,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r}}function Rr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ree extends YT{constructor(t,r){super(t,r),this.name="AuthApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function nee(e){return Rr(e)&&e.name==="AuthApiError"}class j$ extends YT{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Y0 extends YT{constructor(t,r,n){super(t),this.name=r,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rh extends Y0{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class $j extends Y0{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class C1 extends Y0{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Wl extends Y0{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bj extends Y0{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yN extends Y0{constructor(t,r){super(t,"AuthRetryableFetchError",r)}}function zP(e){return Rr(e)&&e.name==="AuthRetryableFetchError"}var aee=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const km=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iee=[502,503,504];async function UP(e){if(!qZ(e))throw new yN(km(e),0);if(iee.includes(e.status))throw new yN(km(e),e.status);let t;try{t=await e.json()}catch(r){throw new j$(km(r),r)}throw new ree(km(t),e.status||500)}const see=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Gr(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await oee(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function oee(e,t,r,n,a,i){const o=see(t,n,a,i);let l;try{l=await e(r,o)}catch(c){throw console.error(c),new yN(km(c),0)}if(l.ok||await UP(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await UP(c)}}function Kc(e){var t;let r=null;dee(e)&&(r=Object.assign({},e),r.expires_at=HZ(e.expires_in));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Nd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lee(e){return{data:e,error:null}}function cee(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=aee(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function uee(e){return e}function dee(e){return e.access_token&&e.refresh_token&&e.expires_in}var fee=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class hee{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=_$(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Gr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Gr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nd})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fee(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Gr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:cee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Rr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Gr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nd})}catch(r){if(Rr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Gr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:uee});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Rr(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Gr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nd})}catch(r){if(Rr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Gr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Nd})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Gr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nd})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Gr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Gr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Rr(r))return{data:null,error:r};throw r}}}const pee="2.43.1",mee="http://localhost:9999",gee="supabase.auth.token",vee={"X-Client-Info":`gotrue-js/${pee}`},VP=10,HP={getItem:e=>Oy()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Oy()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Oy()&&globalThis.localStorage.removeItem(e)}};function xee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}xee();const yee={url:mee,storageKey:gee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vee,flowType:"implicit",debug:!1},E1=30*1e3,WP=3;class $g{constructor(t){var r;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=$g.nextInstanceID,$g.nextInstanceID+=1,this.instanceID>0&&Yl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},yee),t);if(this.logDebugMessages=n.debug,this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||HP,this.admin=new hee({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=_$(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===HP&&!Oy()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),Yl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=xN("_initialize",async()=>{try{const t=Yl()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromUrl(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Rr(t)?{error:t}:{error:new j$("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var r,n,a;try{await this._removeSession();let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;if(this.flowType==="pkce"){const m=A1();await im(this.storage,`${this.storageKey}-code-verifier`,m),p=await T1(m),v=m===p?"plain":"s256"}i=await Gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:Kc})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kc})}else throw new C1("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Rr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{await this._removeSession();let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kc})}else throw new C1("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $j}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:a})}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){const r=await N1(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:a}=await Gr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kc});return await Rj(this.storage,`${this.storageKey}-code-verifier`),a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new $j}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:a})}async signInWithIdToken(t){await this._removeSession();try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Gr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Kc}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new $j}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:c}=t;let u=null,d=null;if(this.flowType==="pkce"){const h=A1();await im(this.storage,`${this.storageKey}-code-verifier`,h),u=await T1(h),d=h===u?"plain":"s256"}const{error:f}=await Gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new C1("You must provide either an email or phone number.")}catch(l){if(Rr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:a,error:i}=await Gr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(r=t.options)===null||r===void 0?void 0:r.captchaToken}}),redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,xform:Kc});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(Rr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{return await this._removeSession(),await Gr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:lee})}catch(i){if(Rr(i))return{data:null,error:i};throw i}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new rh;const{error:a}=await Gr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Rr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Gr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Gr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new C1("You must provide either an email or phone number and a type")}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await xN("_useSession",async()=>{const r=await this.__loadSession();return await t(r)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!vN("_useSession"))throw new Error("Please use #_useSession()");vN("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const i=await N1(this.storage,this.storageKey);this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:n,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async r=>{var n,a;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0}return await Gr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nd})})}catch(r){if(Rr(r))return{data:{user:null},error:r};throw r}}async updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new rh;const o=a.session,{data:l,error:c}=await Gr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:t,jwt:o.access_token,xform:Nd});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Rr(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return $P(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rh;const r=Date.now()/1e3;let n=r,a=!0,i=null;const o=$P(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this.getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Rr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new rh;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Rr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromUrl(t){try{if(!Yl())throw new Wl("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Wl("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Bj("Not a valid PKCE flow url.");if(t){const x=Ki("code");if(!x)throw new Bj("No code detected.");const{data:g,error:y}=await this.exchangeCodeForSession(x);if(y)throw y;if(!g.session)throw new Bj("No session detected.");let b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const r=Ki("error_description");if(r){const x=Ki("error_code");if(!x)throw new Wl("No error_code detected.");const g=Ki("error");throw g?new Wl(r,{error:g,code:x}):new Wl("No error detected.")}const n=Ki("provider_token"),a=Ki("provider_refresh_token"),i=Ki("access_token");if(!i)throw new Wl("No access_token detected.");const o=Ki("expires_in");if(!o)throw new Wl("No expires_in detected.");const l=Ki("refresh_token");if(!l)throw new Wl("No refresh_token detected.");const c=Ki("token_type");if(!c)throw new Wl("No token_type detected.");const d=Math.round(Date.now()/1e3)+parseInt(o),{data:f,error:h}=await this.getUser(i);if(h)throw h;const p=f.user,v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:parseInt(o),expires_at:d,refresh_token:l,token_type:c,user:p},m=Ki("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:v,redirectType:m},error:null}}catch(r){if(Rr(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){return Yl()&&(!!Ki("access_token")||!!Ki("error_description"))}async _isPKCEFlow(){const t=await N1(this.storage,`${this.storageKey}-code-verifier`);return!!Ki("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(nee(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Rj(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const r=WZ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),this._emitInitialSession(r),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;if(this.flowType==="pkce"){const i=A1();await im(this.storage,`${this.storageKey}-code-verifier`,i),n=await T1(i),a=i===n?"plain":"s256"}try{return await Gr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Rr(i))return{data:null,error:i};throw i}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await YZ(async a=>(await KZ(a*200),this._debug(r,"refreshing attempt",a),await Gr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kc})),(a,i,o)=>o&&o.error&&zP(o.error)&&Date.now()+(a+1)*200-n<E1)}catch(n){if(this._debug(r,"error",n),Rr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Yl()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await N1(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<a+VP;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${VP}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),zP(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new rh;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new lw;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new rh;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Rr(i)){const o={session:null,error:i};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),im(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Rj(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yl()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),E1);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/E1);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${E1}ms, refresh threshold is ${WP} ticks`),a<=WP&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yl()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r){const n=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const a=A1();await im(this.storage,`${this.storageKey}-code-verifier`,a);const i=await T1(a),o=a===i?"plain":"s256";this._debug("PKCE","code verifier",`${a.substring(0,5)}...`,"code challenge",i,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);n.push(a.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Gr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:l,error:c}=await Gr(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _verify(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Gr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _challenge(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Gr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rr(r))return{data:null,error:r};throw r}}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:a},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}})}}$g.nextInstanceID=0;class bee extends $g{constructor(t){super(t)}}var wee=globalThis&&globalThis.__awaiter||function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _ee={headers:IZ},jee={schema:"public"},See={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nee={};class Aee{constructor(t,r,n){var a,i,o,l,c,u,d,f;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=UZ(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:jee,realtime:Nee,auth:Object.assign(Object.assign({},See),{storageKey:p}),global:_ee},m=VZ(n??{},v);this.storageKey=(i=(a=m.auth)===null||a===void 0?void 0:a.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=(o=m.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,(u=m.global)===null||u===void 0?void 0:u.fetch),this.fetch=zZ(r,this._getAccessToken.bind(this),(d=m.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new iZ(`${h}/rest/v1`,{headers:this.headers,schema:(f=m.db)===null||f===void 0?void 0:f.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new FQ(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new DZ(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,r={},n){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return wee(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bee({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,debug:l,fetch:u})}_initRealtimeClient(t){return new bZ(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tee=(e,t,r)=>new Aee(e,t,r),Cee="https://rfvgjyfrjawqpdpwicev.supabase.co",Eee="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmdmdqeWZyamF3cXBkcHdpY2V2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMTM5OTUsImV4cCI6MjA4MDg4OTk5NX0.ORKsqnNyfOtU9T9u6YWmo4j1pldMAC_ZakMCRMCiVmo",Te=Tee(Cee,Eee),kee=1;let zj=0;function Pee(){return zj=(zj+1)%Number.MAX_VALUE,zj.toString()}const Pi={state:{toasts:[]},listeners:[],getState:()=>Pi.state,setState:e=>{typeof e=="function"?Pi.state=e(Pi.state):Pi.state={...Pi.state,...e},Pi.listeners.forEach(t=>t(Pi.state))},subscribe:e=>(Pi.listeners.push(e),()=>{Pi.listeners=Pi.listeners.filter(t=>t!==e)})},Oee=({...e})=>{const t=Pee(),r=a=>Pi.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===t?{...o,...a}:o)})),n=()=>Pi.setState(a=>({...a,toasts:a.toasts.filter(i=>i.id!==t)}));return Pi.setState(a=>({...a,toasts:[{...e,id:t,dismiss:n},...a.toasts].slice(0,kee)})),{id:t,dismiss:n,update:r}};function Tr(){const[e,t]=O.useState(Pi.getState());return O.useEffect(()=>Pi.subscribe(n=>{t(n)}),[]),O.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const a=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(a)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:Oee,toasts:e.toasts}}const S$=O.createContext(void 0),Fee=({children:e})=>{const{toast:t}=Tr(),[r,n]=O.useState(null),[a,i]=O.useState(null),[o,l]=O.useState(null),[c,u]=O.useState(!0),d=async x=>{try{const{data:g,error:y}=await Te.from("app_users").select("*").eq("id",x).maybeSingle();if(y)throw y;return g}catch(g){return console.error("Error fetching user profile:",g),null}},f=O.useCallback(async x=>{var y;l(x);const g=(x==null?void 0:x.user)??null;if(n(g),g){let b=await d(g.id);!b&&g.email==="3762437@gmail.com"?b={id:g.id,role:"principal",name:"System Admin"}:b||(b={id:g.id,role:"teacher",name:((y=g.user_metadata)==null?void 0:y.name)||"User"}),i(b)}else i(null);u(!1)},[]);O.useEffect(()=>{(async()=>{const{data:{session:y}}=await Te.auth.getSession();await f(y)})();const{data:{subscription:g}}=Te.auth.onAuthStateChange(async(y,b)=>{y==="SIGNED_OUT"?(i(null),n(null),l(null),u(!1)):(y==="SIGNED_IN"||y==="TOKEN_REFRESHED")&&await f(b)});return()=>g.unsubscribe()},[f]);const h=O.useCallback(async(x,g,y)=>{const{error:b}=await Te.auth.signUp({email:x,password:g,options:y});return b&&t({variant:"destructive",title:"Sign up Failed",description:b.message}),{error:b}},[t]),p=O.useCallback(async(x,g)=>{const{error:y}=await Te.auth.signInWithPassword({email:x,password:g});return y&&t({variant:"destructive",title:"Sign in Failed",description:y.message}),{error:y}},[t]),v=O.useCallback(async()=>{const{error:x}=await Te.auth.signOut();return x&&t({variant:"destructive",title:"Sign out Failed",description:x.message}),{error:x}},[t]),m=O.useMemo(()=>({user:r,profile:a,session:o,loading:c,signUp:h,signIn:p,signOut:v}),[r,a,o,c,h,p,v]);return s.jsx(S$.Provider,{value:m,children:e})},cw=()=>{const e=O.useContext(S$);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Dee={nav:{overview:"Overview",students:"Students",issues:"Issues",calls:"Call Logs",meetings:"Meetings",calendar:"Calendar",reports:"Reports",templates:"Templates",timeslots:"Time Slots",bulkschedule:"Bulk Schedule",activity:"Activity Log",logout:"Logout",role:"Role",welcome:"Welcome"},overview:{title:"Control Center",subtitle:"School overview at a glance",totalStudents:"Total Students",openIssues:"Open Issues",pendingCalls:"Calls Pending",upcomingMeetings:"Upcoming Meetings",emergency:"Urgent! Past due meetings"},students:{title:"Student List",search:"Search students...",add:"Add Student",import:"Import from Excel",class:"Class",teacher:"Teacher",father:"Father",mother:"Mother",phone:"Phone",viewProfile:"View Full Profile",markAttendance:"Mark Attendance",sms:"Send SMS",selectAll:"Select All",status:{present:"Present",absent:"Absent",late:"Late",excused:"Excused"}},calls:{title:"Call Logs",add:"Log a Call",contact:"Contact Person",outcome:"Outcome",notes:"Notes",followUp:"Follow-up Date",status:"Status",completed:"Completed",pending:"Pending",search:"Search logs...",deleteConfirm:"Are you sure you want to delete this?"},issues:{title:"Issues / Problems",add:"Add Issue",description:"Description",priority:"Priority",status:"Status",priorities:{low:"Low",medium:"Medium",high:"High / Urgent"},statuses:{open:"Open",resolved:"Resolved"}},meetings:{title:"Meetings",add:"Schedule Meeting",calendarView:"Calendar View",listView:"List View",date:"Date",time:"Time",location:"Location",duration:"Duration (min)",with:"With"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",confirm:"Confirm",next:"Next",back:"Back",download:"Download",print:"Print"},forms:{selectStudent:"Select Student",enterDetails:"Enter Details",required:"Required Field",name:"Name",contactPerson:"Contact Person",relation:"Relation (Father/Mother/Other)"},profile:{tabs:{overview:"Overview",academic:"Academic",communication:"Communication",intervention:"Plans & Assessments"},father:"Father",contactInfo:"Contact Information",recentIssues:"Recent Issues",performance:"Performance",gradeHistory:"Grade History",newAssessment:"New Assessment"}},N$=O.createContext(),Lee=({children:e})=>{const t=n=>{const a=n.split(".");let i=Dee;for(const o of a)i=i==null?void 0:i[o];return i||n};return s.jsx(N$.Provider,{value:{t,isRTL:!1},children:s.jsx("div",{dir:"ltr",className:"font-sans",children:e})})},XT=()=>O.useContext(N$);function A$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=A$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ir(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=A$(e))&&(n&&(n+=" "),n+=t);return n}const JT="-",Iee=e=>{const t=Ree(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(JT);return l[0]===""&&l.length!==1&&l.shift(),T$(l,t)||Mee(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},T$=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?T$(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(JT);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},qP=/^\[(.+)\]$/,Mee=e=>{if(qP.test(e)){const t=qP.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Ree=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Bee(Object.entries(e.classGroups),r).forEach(([i,o])=>{bN(o,n,i,t)}),n},bN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:GP(t,a);i.classGroupId=r;return}if(typeof a=="function"){if($ee(a)){bN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{bN(o,GP(t,i),r,n)})})},GP=(e,t)=>{let r=e;return t.split(JT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},$ee=e=>e.isThemeGetter,Bee=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,zee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},C$="!",Uee=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===a&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(g==="/"){f=x;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(C$),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},Vee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Hee=e=>({cache:zee(e.cacheSize),parseClassName:Uee(e),...Iee(e)}),Wee=/\s+/,qee=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Wee);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=Vee(d).join(":"),g=f?x+C$:x,y=g+m;if(i.includes(y))continue;i.push(y);const b=a(m,v);for(let j=0;j<b.length;++j){const _=b[j];i.push(g+_)}l=u+(l.length>0?" "+l:l)}return l};function Gee(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=E$(t))&&(n&&(n+=" "),n+=r);return n}const E$=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=E$(e[n]))&&(r&&(r+=" "),r+=t);return r};function Kee(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Hee(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=qee(c,r);return a(c,d),d}return function(){return i(Gee.apply(null,arguments))}}const xn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},k$=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yee=/^\d+\/\d+$/,Xee=new Set(["px","full","screen"]),Jee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ete=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ql=e=>qh(e)||Xee.has(e)||Yee.test(e),Yc=e=>X0(e,"length",cte),qh=e=>!!e&&!Number.isNaN(Number(e)),Uj=e=>X0(e,"number",qh),sm=e=>!!e&&Number.isInteger(Number(e)),rte=e=>e.endsWith("%")&&qh(e.slice(0,-1)),xr=e=>k$.test(e),Xc=e=>Jee.test(e),nte=new Set(["length","size","percentage"]),ate=e=>X0(e,nte,P$),ite=e=>X0(e,"position",P$),ste=new Set(["image","url"]),ote=e=>X0(e,ste,dte),lte=e=>X0(e,"",ute),om=()=>!0,X0=(e,t,r)=>{const n=k$.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},cte=e=>Qee.test(e)&&!Zee.test(e),P$=()=>!1,ute=e=>ete.test(e),dte=e=>tte.test(e),fte=()=>{const e=xn("colors"),t=xn("spacing"),r=xn("blur"),n=xn("brightness"),a=xn("borderColor"),i=xn("borderRadius"),o=xn("borderSpacing"),l=xn("borderWidth"),c=xn("contrast"),u=xn("grayscale"),d=xn("hueRotate"),f=xn("invert"),h=xn("gap"),p=xn("gradientColorStops"),v=xn("gradientColorStopPositions"),m=xn("inset"),x=xn("margin"),g=xn("opacity"),y=xn("padding"),b=xn("saturate"),j=xn("scale"),_=xn("sepia"),N=xn("skew"),S=xn("space"),T=xn("translate"),k=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",xr,t],P=()=>[xr,t],U=()=>["",ql,Yc],q=()=>["auto",qh,xr],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",xr],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[qh,xr];return{cacheSize:500,separator:":",theme:{colors:[om],spacing:[ql,Yc],blur:["none","",Xc,xr],brightness:J(),borderColor:[e],borderRadius:["none","","full",Xc,xr],borderSpacing:P(),borderWidth:U(),contrast:J(),grayscale:F(),hueRotate:J(),invert:F(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[rte,Yc],inset:C(),margin:C(),opacity:J(),padding:P(),saturate:J(),scale:J(),sepia:F(),skew:J(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",xr]}],container:["container"],columns:[{columns:[Xc]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),xr]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sm,xr]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xr]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",sm,xr]}],"grid-cols":[{"grid-cols":[om]}],"col-start-end":[{col:["auto",{span:["full",sm,xr]},xr]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[om]}],"row-start-end":[{row:["auto",{span:[sm,xr]},xr]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xr]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xr,t]}],"min-w":[{"min-w":[xr,t,"min","max","fit"]}],"max-w":[{"max-w":[xr,t,"none","full","min","max","fit","prose",{screen:[Xc]},Xc]}],h:[{h:[xr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xc,Yc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uj]}],"font-family":[{font:[om]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xr]}],"line-clamp":[{"line-clamp":["none",qh,Uj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ql,xr]}],"list-image":[{"list-image":["none",xr]}],"list-style-type":[{list:["none","disc","decimal",xr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ql,Yc]}],"underline-offset":[{"underline-offset":["auto",ql,xr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),ite]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ate]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ote]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[ql,xr]}],"outline-w":[{outline:[ql,Yc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ql,Yc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xc,lte]}],"shadow-color":[{shadow:[om]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xc,xr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xr]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",xr]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",xr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[sm,xr]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ql,Yc,Uj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hte=Kee(fte);function wr(...e){return hte(Ir(e))}function fr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function KP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function O$(...e){return t=>{let r=!1;const n=e.map(a=>{const i=KP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():KP(e[a],null)}}}}function Pn(...e){return O.useCallback(O$(...e),e)}function pte(e,t){const r=O.createContext(t),n=i=>{const{children:o,...l}=i,c=O.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=O.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function yf(e,t=[]){let r=[];function n(i,o){const l=O.createContext(o),c=r.length;r=[...r,o];const u=f=>{var g;const{scope:h,children:p,...v}=f,m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=O.useMemo(()=>v,Object.values(v));return s.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,v=O.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>O.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return O.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,mte(a,...t)]}function mte(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var rf=O.forwardRef((e,t)=>{const{children:r,...n}=e,a=O.Children.toArray(r),i=a.find(vte);if(i){const o=i.props.children,l=a.map(c=>c===i?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:c);return s.jsx(wN,{...n,ref:t,children:O.isValidElement(o)?O.cloneElement(o,void 0,l):null})}return s.jsx(wN,{...n,ref:t,children:r})});rf.displayName="Slot";var wN=O.forwardRef((e,t)=>{const{children:r,...n}=e;if(O.isValidElement(r)){const a=yte(r);return O.cloneElement(r,{...xte(n,r.props),ref:t?O$(t,a):a})}return O.Children.count(r)>1?O.Children.only(null):null});wN.displayName="SlotClone";var gte=({children:e})=>s.jsx(s.Fragment,{children:e});function vte(e){return O.isValidElement(e)&&e.type===gte}function xte(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function yte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function QT(e){const t=e+"CollectionProvider",[r,n]=yf(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:m}=p,x=Ce.useRef(null),g=Ce.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:g,collectionRef:x,children:m})};o.displayName=t;const l=e+"CollectionSlot",c=Ce.forwardRef((p,v)=>{const{scope:m,children:x}=p,g=i(l,m),y=Pn(v,g.collectionRef);return s.jsx(rf,{ref:y,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=Ce.forwardRef((p,v)=>{const{scope:m,children:x,...g}=p,y=Ce.useRef(null),b=Pn(v,y),j=i(u,m);return Ce.useEffect(()=>(j.itemMap.set(y,{ref:y,...g}),()=>void j.itemMap.delete(y))),s.jsx(rf,{[d]:"",ref:b,children:x})});f.displayName=u;function h(p){const v=i(e+"CollectionConsumer",p);return Ce.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const g=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((j,_)=>g.indexOf(j.ref.current)-g.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}var bte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jr=bte.reduce((e,t)=>{const r=O.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?rf:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function F$(e,t){e&&vf.flushSync(()=>e.dispatchEvent(t))}function is(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function wte(e,t=globalThis==null?void 0:globalThis.document){const r=is(e);O.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var _te="DismissableLayer",_N="dismissableLayer.update",jte="dismissableLayer.pointerDownOutside",Ste="dismissableLayer.focusOutside",YP,D$=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uw=O.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=O.useContext(D$),[d,f]=O.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=O.useState({}),v=Pn(t,S=>f(S)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(x),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=g,_=Ate(S=>{const T=S.target,k=[...u.branches].some(V=>V.contains(T));!j||k||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=Tte(S=>{const T=S.target;[...u.branches].some(V=>V.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return wte(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),O.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(YP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),XP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=YP)}},[d,h,r,u]),O.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),XP())},[d,u]),O.useEffect(()=>{const S=()=>p({});return document.addEventListener(_N,S),()=>document.removeEventListener(_N,S)},[]),s.jsx(jr.div,{...c,ref:v,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:fr(e.onFocusCapture,N.onFocusCapture),onBlurCapture:fr(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:fr(e.onPointerDownCapture,_.onPointerDownCapture)})});uw.displayName=_te;var Nte="DismissableLayerBranch",L$=O.forwardRef((e,t)=>{const r=O.useContext(D$),n=O.useRef(null),a=Pn(t,n);return O.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(jr.div,{...e,ref:a})});L$.displayName=Nte;function Ate(e,t=globalThis==null?void 0:globalThis.document){const r=is(e),n=O.useRef(!1),a=O.useRef(()=>{});return O.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){I$(jte,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Tte(e,t=globalThis==null?void 0:globalThis.document){const r=is(e),n=O.useRef(!1);return O.useEffect(()=>{const a=i=>{i.target&&!n.current&&I$(Ste,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function XP(){const e=new CustomEvent(_N);document.dispatchEvent(e)}function I$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?F$(a,i):a.dispatchEvent(i)}var Cte=uw,Ete=L$,Si=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},kte="Portal",dw=O.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=O.useState(!1);Si(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?PJ.createPortal(s.jsx(jr.div,{...n,ref:t}),o):null});dw.displayName=kte;function Pte(e,t){return O.useReducer((r,n)=>t[r][n]??r,e)}var J0=e=>{const{present:t,children:r}=e,n=Ote(t),a=typeof r=="function"?r({present:n.isPresent}):O.Children.only(r),i=Pn(n.ref,Fte(a));return typeof r=="function"||n.isPresent?O.cloneElement(a,{ref:i}):null};J0.displayName="Presence";function Ote(e){const[t,r]=O.useState(),n=O.useRef({}),a=O.useRef(e),i=O.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Pte(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const u=k1(n.current);i.current=l==="mounted"?u:"none"},[l]),Si(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=k1(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Si(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=k1(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=k1(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:O.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function k1(e){return(e==null?void 0:e.animationName)||"none"}function Fte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function f0({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Dte({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=is(r),c=O.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function Dte({defaultProp:e,onChange:t}){const r=O.useState(e),[n]=r,a=O.useRef(n),i=is(t);return O.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var Lte="VisuallyHidden",fw=O.forwardRef((e,t)=>s.jsx(jr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));fw.displayName=Lte;var ZT="ToastProvider",[eC,Ite,Mte]=QT("Toast"),[M$,m9e]=yf("Toast",[Mte]),[Rte,hw]=M$(ZT),R$=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=O.useState(null),[u,d]=O.useState(0),f=O.useRef(!1),h=O.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ZT}\`. Expected non-empty \`string\`.`),s.jsx(eC.Provider,{scope:t,children:s.jsx(Rte,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:O.useCallback(()=>d(p=>p+1),[]),onToastRemove:O.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};R$.displayName=ZT;var $$="ToastViewport",$te=["F8"],jN="toast.viewportPause",SN="toast.viewportResume",B$=O.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=$te,label:a="Notifications ({hotkey})",...i}=e,o=hw($$,r),l=Ite(r),c=O.useRef(null),u=O.useRef(null),d=O.useRef(null),f=O.useRef(null),h=Pn(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;O.useEffect(()=>{const x=g=>{var b;n.length!==0&&n.every(j=>g[j]||g.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),O.useEffect(()=>{const x=c.current,g=f.current;if(v&&x&&g){const y=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(jN);g.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(SN);g.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!x.contains(N.relatedTarget)&&b()},_=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",j),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[v,o.isClosePausedRef]);const m=O.useCallback(({tabbingDirection:x})=>{const y=l().map(b=>{const j=b.ref.current,_=[j,...Qte(j)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return O.useEffect(()=>{const x=f.current;if(x){const g=y=>{var _,N,S;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const T=document.activeElement,k=y.shiftKey;if(y.target===x&&k){(_=u.current)==null||_.focus();return}const P=m({tabbingDirection:k?"backwards":"forwards"}),U=P.findIndex(q=>q===T);Vj(P.slice(U+1))?y.preventDefault():k?(N=u.current)==null||N.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",g),()=>x.removeEventListener("keydown",g)}},[l,m]),s.jsxs(Ete,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(NN,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});Vj(x)}}),s.jsx(eC.Slot,{scope:r,children:s.jsx(jr.ol,{tabIndex:-1,...i,ref:h})}),v&&s.jsx(NN,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});Vj(x)}})]})});B$.displayName=$$;var z$="ToastFocusProxy",NN=O.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=hw(z$,r);return s.jsx(fw,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});NN.displayName=z$;var pw="Toast",Bte="toast.swipeStart",zte="toast.swipeMove",Ute="toast.swipeCancel",Vte="toast.swipeEnd",U$=O.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=f0({prop:n,defaultProp:a,onChange:i});return s.jsx(J0,{present:r||l,children:s.jsx(qte,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:is(e.onPause),onResume:is(e.onResume),onSwipeStart:fr(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fr(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:fr(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fr(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});U$.displayName=pw;var[Hte,Wte]=M$(pw,{onClose(){}}),qte=O.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=e,m=hw(pw,r),[x,g]=O.useState(null),y=Pn(t,q=>g(q)),b=O.useRef(null),j=O.useRef(null),_=a||m.duration,N=O.useRef(0),S=O.useRef(_),T=O.useRef(0),{onToastAdd:k,onToastRemove:V}=m,C=is(()=>{var z;(x==null?void 0:x.contains(document.activeElement))&&((z=m.viewport)==null||z.focus()),o()}),P=O.useCallback(q=>{!q||q===1/0||(window.clearTimeout(T.current),N.current=new Date().getTime(),T.current=window.setTimeout(C,q))},[C]);O.useEffect(()=>{const q=m.viewport;if(q){const z=()=>{P(S.current),u==null||u()},I=()=>{const R=new Date().getTime()-N.current;S.current=S.current-R,window.clearTimeout(T.current),c==null||c()};return q.addEventListener(jN,I),q.addEventListener(SN,z),()=>{q.removeEventListener(jN,I),q.removeEventListener(SN,z)}}},[m.viewport,_,c,u,P]),O.useEffect(()=>{i&&!m.isClosePausedRef.current&&P(_)},[i,_,m.isClosePausedRef,P]),O.useEffect(()=>(k(),()=>V()),[k,V]);const U=O.useMemo(()=>x?Y$(x):null,[x]);return m.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(Gte,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),s.jsx(Hte,{scope:r,onClose:C,children:vf.createPortal(s.jsx(eC.ItemSlot,{scope:r,children:s.jsx(Cte,{asChild:!0,onEscapeKeyDown:fr(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||C(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(jr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fr(e.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:fr(e.onPointerDown,q=>{q.button===0&&(b.current={x:q.clientX,y:q.clientY})}),onPointerMove:fr(e.onPointerMove,q=>{if(!b.current)return;const z=q.clientX-b.current.x,I=q.clientY-b.current.y,R=!!j.current,G=["left","right"].includes(m.swipeDirection),F=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,H=G?F(0,z):0,J=G?0:F(0,I),A=q.pointerType==="touch"?10:2,M={x:H,y:J},K={originalEvent:q,delta:M};R?(j.current=M,P1(zte,f,K,{discrete:!1})):JP(M,m.swipeDirection,A)?(j.current=M,P1(Bte,d,K,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(z)>A||Math.abs(I)>A)&&(b.current=null)}),onPointerUp:fr(e.onPointerUp,q=>{const z=j.current,I=q.target;if(I.hasPointerCapture(q.pointerId)&&I.releasePointerCapture(q.pointerId),j.current=null,b.current=null,z){const R=q.currentTarget,G={originalEvent:q,delta:z};JP(z,m.swipeDirection,m.swipeThreshold)?P1(Vte,p,G,{discrete:!0}):P1(Ute,h,G,{discrete:!0}),R.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Gte=e=>{const{__scopeToast:t,children:r,...n}=e,a=hw(pw,t),[i,o]=O.useState(!1),[l,c]=O.useState(!1);return Xte(()=>o(!0)),O.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(dw,{asChild:!0,children:s.jsx(fw,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Kte="ToastTitle",V$=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(jr.div,{...n,ref:t})});V$.displayName=Kte;var Yte="ToastDescription",H$=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(jr.div,{...n,ref:t})});H$.displayName=Yte;var W$="ToastAction",q$=O.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(K$,{altText:r,asChild:!0,children:s.jsx(tC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${W$}\`. Expected non-empty \`string\`.`),null)});q$.displayName=W$;var G$="ToastClose",tC=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Wte(G$,r);return s.jsx(K$,{asChild:!0,children:s.jsx(jr.button,{type:"button",...n,ref:t,onClick:fr(e.onClick,a.onClose)})})});tC.displayName=G$;var K$=O.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(jr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function Y$(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Jte(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Y$(n))}}),t}function P1(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?F$(a,i):a.dispatchEvent(i)}var JP=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Xte(e=()=>{}){const t=is(e);Si(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Jte(e){return e.nodeType===e.ELEMENT_NODE}function Qte(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vj(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Zte=R$,X$=B$,J$=U$,Q$=V$,Z$=H$,eB=q$,tB=tC;const QP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ZP=Ir,rC=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return ZP(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=QP(d)||QP(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,x]=v;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,f,h]:u},[]);return ZP(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>O.createElement("svg",{ref:c,...tre,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:rB("lucide",a),...l},[...o.map(([u,d])=>O.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=(e,t)=>{const r=O.forwardRef(({className:n,...a},i)=>O.createElement(rre,{ref:i,iconNode:t,className:rB(`lucide-${ere(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=St("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=St("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=St("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=St("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=St("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=St("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=St("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=St("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=St("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=St("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=St("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=St("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=St("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=St("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=St("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=St("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=St("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=St("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=St("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=St("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=St("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=St("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=St("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=St("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=St("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=St("Contact",[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=St("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=St("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=St("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=St("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=St("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=St("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=St("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=St("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=St("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=St("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=St("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=St("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=St("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=St("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=St("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=St("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=St("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=St("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=St("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=St("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=St("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=St("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=St("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=St("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=St("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=St("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=St("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=St("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=St("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=St("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=St("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=St("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=St("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=St("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=St("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=St("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=St("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=St("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=St("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=St("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=St("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=St("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=St("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=St("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=St("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=St("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=St("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=St("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=St("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=St("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=St("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fre=Zte,cB=Ce.forwardRef(({className:e,...t},r)=>s.jsx(X$,{ref:r,className:wr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));cB.displayName=X$.displayName;const Dre=rC("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uB=Ce.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(J$,{ref:n,className:wr(Dre({variant:t}),e),...r}));uB.displayName=J$.displayName;const Lre=Ce.forwardRef(({className:e,...t},r)=>s.jsx(eB,{ref:r,className:wr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Lre.displayName=eB.displayName;const dB=Ce.forwardRef(({className:e,...t},r)=>s.jsx(tB,{ref:r,className:wr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Q0,{className:"h-4 w-4"})}));dB.displayName=tB.displayName;const fB=Ce.forwardRef(({className:e,...t},r)=>s.jsx(Q$,{ref:r,className:wr("text-sm font-semibold",e),...t}));fB.displayName=Q$.displayName;const hB=Ce.forwardRef(({className:e,...t},r)=>s.jsx(Z$,{ref:r,className:wr("text-sm opacity-90",e),...t}));hB.displayName=Z$.displayName;function Ire(){const{toasts:e}=Tr();return s.jsxs(Fre,{children:[e.map(({id:t,title:r,description:n,action:a,...i})=>s.jsxs(uB,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(fB,{children:r}),n&&s.jsx(hB,{children:n})]}),a,s.jsx(dB,{})]},t)),s.jsx(cB,{})]})}function Mre(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function gw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const CN=e=>Array.isArray(e);function pB(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function zg(e){return typeof e=="string"||Array.isArray(e)}function dO(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function cC(e,t,r,n){if(typeof t=="function"){const[a,i]=dO(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=dO(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function vw(e,t,r){const n=e.getProps();return cC(n,t,r!==void 0?r:n.custom,e)}const uC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dC=["initial",...uC],Yv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bf=new Set(Yv),oc=e=>e*1e3,lc=e=>e/1e3,Rre={type:"spring",stiffness:500,damping:25,restSpeed:10},$re=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Bre={type:"keyframes",duration:.8},zre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ure=(e,{keyframes:t})=>t.length>2?Bre:bf.has(e)?e.startsWith("scale")?$re(t[1]):Rre:zre;function fC(e,t){return e?e[t]||e.default||e:void 0}const Vre={skipAnimations:!1,useManualTiming:!1},Hre=e=>e!==null;function xw(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Hre),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Cs=e=>e;let mB=Cs;function Wre(e){let t=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&n?t:r;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){a=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,a&&(a=!1,c.process(u))}};return c}const O1=["read","resolveKeyframes","update","preRender","render","postRender"],qre=40;function gB(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=O1.reduce((g,y)=>(g[y]=Wre(i),g),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const g=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(g-a.timestamp,qre),1),a.timestamp=g,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(p))},v=()=>{r=!0,n=!0,a.isProcessing||e(p)};return{schedule:O1.reduce((g,y)=>{const b=o[y];return g[y]=(j,_=!1,N=!1)=>(r||v(),b.schedule(j,_,N)),g},{}),cancel:g=>{for(let y=0;y<O1.length;y++)o[O1[y]].cancel(g)},state:a,steps:o}}const{schedule:Nn,cancel:Lu,state:Ga,steps:Wj}=gB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cs,!0),vB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Gre=1e-7,Kre=12;function Yre(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=vB(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>Gre&&++l<Kre);return o}function Xv(e,t,r,n){if(e===t&&r===n)return Cs;const a=i=>Yre(i,0,1,e,r);return i=>i===0||i===1?i:vB(a(i),t,n)}const xB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yB=e=>t=>1-e(1-t),bB=Xv(.33,1.53,.69,.99),hC=yB(bB),wB=xB(hC),_B=e=>(e*=2)<1?.5*hC(e):.5*(2-Math.pow(2,-10*(e-1))),pC=e=>1-Math.sin(Math.acos(e)),jB=yB(pC),SB=xB(pC),NB=e=>/^0[^.\s]+$/u.test(e);function Xre(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||NB(e):!0}const AB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),TB=e=>t=>typeof t=="string"&&t.startsWith(e),CB=TB("--"),Jre=TB("var(--"),mC=e=>Jre(e)?Qre.test(e.split("/*")[0].trim()):!1,Qre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zre=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ene(e){const t=Zre.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function EB(e,t,r=1){const[n,a]=ene(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return AB(o)?parseFloat(o):o}return mC(a)?EB(a,t,r+1):a}const bc=(e,t,r)=>r>t?t:r<e?e:r,Z0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ug={...Z0,transform:e=>bc(0,1,e)},F1={...Z0,default:1},Jv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ru=Jv("deg"),yl=Jv("%"),Yt=Jv("px"),tne=Jv("vh"),rne=Jv("vw"),fO={...yl,parse:e=>yl.parse(e)/100,transform:e=>yl.transform(e*100)},nne=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hO=e=>e===Z0||e===Yt,pO=(e,t)=>parseFloat(e.split(", ")[t]),mO=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return pO(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?pO(i[1],e):0}},ane=new Set(["x","y","z"]),ine=Yv.filter(e=>!ane.has(e));function sne(e){const t=[];return ine.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const g0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mO(4,13),y:mO(5,14)};g0.translateX=g0.x;g0.translateY=g0.y;const kB=e=>t=>t.test(e),one={test:e=>e==="auto",parse:e=>e},PB=[Z0,Yt,yl,ru,rne,tne,one],gO=e=>PB.find(kB(e)),Ud=new Set;let EN=!1,kN=!1;function OB(){if(kN){const e=Array.from(Ud).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=sne(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}kN=!1,EN=!1,Ud.forEach(e=>e.complete()),Ud.clear()}function FB(){Ud.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(kN=!0)})}function lne(){FB(),OB()}class gC{constructor(t,r,n,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ud.add(this),EN||(EN=!0,Nn.read(FB),Nn.resolveKeyframes(OB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ud.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ud.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Qm=e=>Math.round(e*1e5)/1e5,vC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cne(e){return e==null}const une=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xC=(e,t)=>r=>!!(typeof r=="string"&&une.test(r)&&r.startsWith(e)||t&&!cne(r)&&Object.prototype.hasOwnProperty.call(r,t)),DB=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(vC);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},dne=e=>bc(0,255,e),qj={...Z0,transform:e=>Math.round(dne(e))},Pd={test:xC("rgb","red"),parse:DB("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+qj.transform(e)+", "+qj.transform(t)+", "+qj.transform(r)+", "+Qm(Ug.transform(n))+")"};function fne(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const PN={test:xC("#"),parse:fne,transform:Pd.transform},Eh={test:xC("hsl","hue"),parse:DB("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+yl.transform(Qm(t))+", "+yl.transform(Qm(r))+", "+Qm(Ug.transform(n))+")"},ui={test:e=>Pd.test(e)||PN.test(e)||Eh.test(e),parse:e=>Pd.test(e)?Pd.parse(e):Eh.test(e)?Eh.parse(e):PN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pd.transform(e):Eh.transform(e)},hne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pne(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(vC))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(hne))===null||r===void 0?void 0:r.length)||0)>0}const LB="number",IB="color",mne="var",gne="var(",vO="${}",vne=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(vne,c=>(ui.test(c)?(n.color.push(i),a.push(IB),r.push(ui.parse(c))):c.startsWith(gne)?(n.var.push(i),a.push(mne),r.push(c)):(n.number.push(i),a.push(LB),r.push(parseFloat(c))),++i,vO)).split(vO);return{values:r,split:l,indexes:n,types:a}}function MB(e){return Vg(e).values}function RB(e){const{split:t,types:r}=Vg(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===LB?i+=Qm(a[o]):l===IB?i+=ui.transform(a[o]):i+=a[o]}return i}}const xne=e=>typeof e=="number"?0:e;function yne(e){const t=MB(e);return RB(e)(t.map(xne))}const Iu={test:pne,parse:MB,createTransformer:RB,getAnimatableNone:yne},bne=new Set(["brightness","contrast","saturate","opacity"]);function wne(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(vC)||[];if(!n)return e;const a=r.replace(n,"");let i=bne.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const _ne=/\b([a-z-]*)\(.*?\)/gu,ON={...Iu,getAnimatableNone:e=>{const t=e.match(_ne);return t?t.map(wne).join(" "):e}},jne={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,backgroundPositionX:Yt,backgroundPositionY:Yt},Sne={rotate:ru,rotateX:ru,rotateY:ru,rotateZ:ru,scale:F1,scaleX:F1,scaleY:F1,scaleZ:F1,skew:ru,skewX:ru,skewY:ru,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:Ug,originX:fO,originY:fO,originZ:Yt},xO={...Z0,transform:Math.round},yC={...jne,...Sne,zIndex:xO,size:Yt,fillOpacity:Ug,strokeOpacity:Ug,numOctaves:xO},Nne={...yC,color:ui,backgroundColor:ui,outlineColor:ui,fill:ui,stroke:ui,borderColor:ui,borderTopColor:ui,borderRightColor:ui,borderBottomColor:ui,borderLeftColor:ui,filter:ON,WebkitFilter:ON},bC=e=>Nne[e];function $B(e,t){let r=bC(e);return r!==ON&&(r=Iu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Ane=new Set(["auto","none","0"]);function Tne(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Ane.has(i)&&Vg(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=$B(r,a)}class BB extends gC{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),mC(u))){const d=EB(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!nne.has(n)||t.length!==2)return;const[a,i]=t,o=gO(a),l=gO(i);if(o!==l)if(hO(o)&&hO(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)Xre(t[a])&&n.push(a);n.length&&Tne(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=g0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=g0[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function wC(e){return typeof e=="function"}let My;function Cne(){My=void 0}const bl={now:()=>(My===void 0&&bl.set(Ga.isProcessing||Vre.useManualTiming?Ga.timestamp:performance.now()),My),set:e=>{My=e,queueMicrotask(Cne)}},yO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Iu.test(e)||e==="0")&&!e.startsWith("url("));function Ene(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function kne(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=yO(a,t),l=yO(i,t);return!o||!l?!1:Ene(e)||(r==="spring"||wC(r))&&n}const Pne=40;class zB{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=bl.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Pne?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lne(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=bl.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!kne(t,n,a,i))if(o)this.options.duration=0;else{c==null||c(xw(t,this.options,r)),l==null||l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const v0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},UB=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(v0(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function VB(e,t){return t?e*(1e3/t):0}const One=5;function HB(e,t,r){const n=Math.max(t-One,0);return VB(r-e(n),t-n)}const Un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gj=.001;function Fne({duration:e=Un.duration,bounce:t=Un.bounce,velocity:r=Un.velocity,mass:n=Un.mass}){let a,i,o=1-t;o=bc(Un.minDamping,Un.maxDamping,o),e=bc(Un.minDuration,Un.maxDuration,lc(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-r,p=FN(u,o),v=Math.exp(-f);return Gj-h/p*v},i=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-f),m=FN(Math.pow(u,2),o);return(-a(u)+Gj>0?-1:1)*((h-p)*v)/m}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Gj+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=Lne(a,i,l);if(e=oc(e),isNaN(c))return{stiffness:Un.stiffness,damping:Un.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const Dne=12;function Lne(e,t,r){let n=r;for(let a=1;a<Dne;a++)n=n-e(n)/t(n);return n}function FN(e,t){return e*Math.sqrt(1-t*t)}const DN=2e4;function WB(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<DN;)t+=r,n=e.next(t);return t>=DN?1/0:t}const Ine=["duration","bounce"],Mne=["stiffness","damping","mass"];function bO(e,t){return t.some(r=>e[r]!==void 0)}function Rne(e){let t={velocity:Un.velocity,stiffness:Un.stiffness,damping:Un.damping,mass:Un.mass,isResolvedFromDuration:!1,...e};if(!bO(e,Mne)&&bO(e,Ine))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*bc(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:Un.mass,stiffness:a,damping:i}}else{const r=Fne(e);t={...t,...r,mass:Un.mass},t.isResolvedFromDuration=!0}return t}function qB(e=Un.visualDuration,t=Un.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=Rne({...r,velocity:-lc(r.velocity||0)}),v=h||0,m=u/(2*Math.sqrt(c*d)),x=o-i,g=lc(Math.sqrt(c/d)),y=Math.abs(x)<5;n||(n=y?Un.restSpeed.granular:Un.restSpeed.default),a||(a=y?Un.restDelta.granular:Un.restDelta.default);let b;if(m<1){const _=FN(g,m);b=N=>{const S=Math.exp(-m*g*N);return o-S*((v+m*g*x)/_*Math.sin(_*N)+x*Math.cos(_*N))}}else if(m===1)b=_=>o-Math.exp(-g*_)*(x+(v+g*x)*_);else{const _=g*Math.sqrt(m*m-1);b=N=>{const S=Math.exp(-m*g*N),T=Math.min(_*N,300);return o-S*((v+m*g*x)*Math.sinh(T)+_*x*Math.cosh(T))/_}}const j={calculatedDuration:p&&f||null,next:_=>{const N=b(_);if(p)l.done=_>=f;else{let S=0;m<1&&(S=_===0?oc(v):HB(b,_,N));const T=Math.abs(S)<=n,k=Math.abs(o-N)<=a;l.done=T&&k}return l.value=l.done?o:N,l},toString:()=>{const _=Math.min(WB(j),DN),N=UB(S=>j.next(_*S).value,_,30);return _+"ms "+N}};return j}function wO({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=T=>l!==void 0&&T<l||c!==void 0&&T>c,v=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let m=r*t;const x=f+m,g=o===void 0?x:o(x);g!==x&&(m=g-f);const y=T=>-m*Math.exp(-T/n),b=T=>g+y(T),j=T=>{const k=y(T),V=b(T);h.done=Math.abs(k)<=u,h.value=h.done?g:V};let _,N;const S=T=>{p(h.value)&&(_=T,N=qB({keyframes:[h.value,v(h.value)],velocity:HB(b,T,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:T=>{let k=!1;return!N&&_===void 0&&(k=!0,j(T),S(T)),_!==void 0&&T>=_?N.next(T-_):(!k&&j(T),h)}}}const $ne=Xv(.42,0,1,1),Bne=Xv(0,0,.58,1),GB=Xv(.42,0,.58,1),zne=e=>Array.isArray(e)&&typeof e[0]!="number",_C=e=>Array.isArray(e)&&typeof e[0]=="number",Une={linear:Cs,easeIn:$ne,easeInOut:GB,easeOut:Bne,circIn:pC,circInOut:SB,circOut:jB,backIn:hC,backInOut:wB,backOut:bB,anticipate:_B},_O=e=>{if(_C(e)){mB(e.length===4);const[t,r,n,a]=e;return Xv(t,r,n,a)}else if(typeof e=="string")return Une[e];return e},Vne=(e,t)=>r=>t(e(r)),Qv=(...e)=>e.reduce(Vne),Ln=(e,t,r)=>e+(t-e)*r;function Kj(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Hne({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=Kj(c,l,e+1/3),i=Kj(c,l,e),o=Kj(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function m2(e,t){return r=>r>0?t:e}const Yj=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Wne=[PN,Pd,Eh],qne=e=>Wne.find(t=>t.test(e));function jO(e){const t=qne(e);if(!t)return!1;let r=t.parse(e);return t===Eh&&(r=Hne(r)),r}const SO=(e,t)=>{const r=jO(e),n=jO(t);if(!r||!n)return m2(e,t);const a={...r};return i=>(a.red=Yj(r.red,n.red,i),a.green=Yj(r.green,n.green,i),a.blue=Yj(r.blue,n.blue,i),a.alpha=Ln(r.alpha,n.alpha,i),Pd.transform(a))},LN=new Set(["none","hidden"]);function Gne(e,t){return LN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Kne(e,t){return r=>Ln(e,t,r)}function jC(e){return typeof e=="number"?Kne:typeof e=="string"?mC(e)?m2:ui.test(e)?SO:Jne:Array.isArray(e)?KB:typeof e=="object"?ui.test(e)?SO:Yne:m2}function KB(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>jC(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function Yne(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=jC(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Xne(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,a[o]++}return n}const Jne=(e,t)=>{const r=Iu.createTransformer(t),n=Vg(e),a=Vg(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?LN.has(e)&&!a.values.length||LN.has(t)&&!n.values.length?Gne(e,t):Qv(KB(Xne(n,a),a.values),r):m2(e,t)};function YB(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ln(e,t,r):jC(e)(e,t)}function Qne(e,t,r){const n=[],a=r||YB,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Cs:t;l=Qv(c,l)}n.push(l)}return n}function Zne(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(mB(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Qne(t,n,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=v0(e[d],e[d+1],u);return o[d](f)};return r?u=>c(bc(e[0],e[i-1],u)):c}function eae(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=v0(0,t,n);e.push(Ln(r,1,a))}}function tae(e){const t=[0];return eae(t,e.length-1),t}function rae(e,t){return e.map(r=>r*t)}function nae(e,t){return e.map(()=>t||GB).splice(0,e.length-1)}function g2({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=zne(n)?n.map(_O):_O(n),i={done:!1,value:t[0]},o=rae(r&&r.length===t.length?r:tae(t),e),l=Zne(o,t,{ease:Array.isArray(a)?a:nae(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const aae=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Nn.update(t,!0),stop:()=>Lu(t),now:()=>Ga.isProcessing?Ga.timestamp:bl.now()}},iae={decay:wO,inertia:wO,tween:g2,keyframes:g2,spring:qB},sae=e=>e/100;class SC extends zB{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||gC,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=wC(r)?r:iae[r]||g2;let c,u;l!==g2&&typeof t[0]!="number"&&(c=Qv(sae,YB(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=WB(d));const{calculatedDuration:f}=d,h=f+a,p=h*(n+1)-a;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:v,repeatDelay:m,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,j=i;if(p){const T=Math.min(this.currentTime,d)/f;let k=Math.floor(T),V=T%1;!V&&T>=1&&(V=1),V===1&&k--,k=Math.min(k,p+1),!!(k%2)&&(v==="reverse"?(V=1-V,m&&(V-=m/f)):v==="mirror"&&(j=o)),b=bc(0,1,V)*f}const _=y?{done:!1,value:c[0]}:j.next(b);l&&(_.value=l(_.value));let{done:N}=_;!y&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return S&&a!==void 0&&(_.value=xw(c,this.options,a)),x&&x(_.value),S&&this.finish(),_}get duration(){const{resolved:t}=this;return t?lc(t.calculatedDuration):0}get time(){return lc(this.currentTime)}set time(t){t=oc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=lc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=aae,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const oae=new Set(["opacity","clipPath","filter","transform"]);function NC(e){let t;return()=>(t===void 0&&(t=e()),t)}const lae={linearEasing:void 0};function cae(e,t){const r=NC(e);return()=>{var n;return(n=lae[t])!==null&&n!==void 0?n:r()}}const v2=cae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function XB(e){return!!(typeof e=="function"&&v2()||!e||typeof e=="string"&&(e in IN||v2())||_C(e)||Array.isArray(e)&&e.every(XB))}const Pm=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,IN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pm([0,.65,.55,1]),circOut:Pm([.55,0,1,.45]),backIn:Pm([.31,.01,.66,-.59]),backOut:Pm([.33,1.53,.69,.99])};function JB(e,t){if(e)return typeof e=="function"&&v2()?UB(e,t):_C(e)?Pm(e):Array.isArray(e)?e.map(r=>JB(r,t)||IN.easeOut):IN[e]}function uae(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=JB(l,a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function NO(e,t){e.timeline=t,e.onfinish=null}const dae=NC(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),x2=10,fae=2e4;function hae(e){return wC(e.type)||e.type==="spring"||!XB(e.ease)}function pae(e,t){const r=new SC({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<fae;)n=r.sample(i),a.push(n.value),i+=x2;return{times:void 0,keyframes:a,duration:i-x2,ease:"linear"}}const QB={anticipate:_B,backInOut:wB,circInOut:SB};function mae(e){return e in QB}class AO extends zB{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new BB(i,(o,l)=>this.onKeyframesResolved(o,l),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:a=300,times:i,ease:o,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&v2()&&mae(o)&&(o=QB[o]),hae(this.options)){const{onComplete:h,onUpdate:p,motionValue:v,element:m,...x}=this.options,g=pae(t,x);t=g.keyframes,t.length===1&&(t[1]=t[0]),a=g.duration,i=g.times,o=g.ease,l="keyframes"}const f=uae(c.owner.current,u,t,{...this.options,duration:a,times:i,ease:o});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(NO(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;c.set(xw(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:a,times:i,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return lc(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return lc(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=oc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Cs;const{animation:n}=r;NO(n,t)}return Cs}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,v=new SC({...p,keyframes:n,duration:a,type:i,ease:o,times:l,isGenerator:!0}),m=oc(this.time);u.setWithVelocity(v.sample(m-x2).value,v.sample(m).value,x2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:o,type:l}=t;return dae()&&n&&oae.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const gae=NC(()=>window.ScrollTimeline!==void 0);class vae{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,r){return Promise.all(this.animations).then(t).catch(r)}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>gae()&&a.attachTimeline?a.attachTimeline(t):r(a));return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function xae({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const AC=(e,t,r,n={},a,i)=>o=>{const l=fC(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-oc(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};xae(l)||(d={...d,...Ure(e,d)}),d.duration&&(d.duration=oc(d.duration)),d.repeatDelay&&(d.repeatDelay=oc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const h=xw(d.keyframes,l);if(h!==void 0)return Nn.update(()=>{d.onUpdate(h),d.onComplete()}),new vae([])}return!i&&AO.supports(d)?new AO(d):new SC(d)},yae=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),bae=e=>CN(e)?e[e.length-1]||0:e;function TC(e,t){e.indexOf(t)===-1&&e.push(t)}function CC(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class EC{constructor(){this.subscriptions=[]}add(t){return TC(this.subscriptions,t),()=>CC(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const TO=30,wae=e=>!isNaN(parseFloat(e));class _ae{constructor(t,r={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=bl.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=bl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wae(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new EC);const n=this.events[t].add(r);return t==="change"?()=>{n(),Nn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=bl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>TO)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,TO);return VB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hg(e,t){return new _ae(e,t)}function jae(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Hg(r))}function Sae(e,t){const r=vw(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=bae(i[o]);jae(e,o,l)}}const kC=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nae="framerAppearId",ZB="data-"+kC(Nae);function e9(e){return e.props[ZB]}const xi=e=>!!(e&&e.getVelocity);function Aae(e){return!!(xi(e)&&e.add)}function MN(e,t){const r=e.getValue("willChange");if(Aae(r))return r.add(t)}function Tae({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function t9(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const h=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),p=c[f];if(p===void 0||d&&Tae(d,f))continue;const v={delay:r,...fC(o||{},f)};let m=!1;if(window.MotionHandoffAnimation){const g=e9(e);if(g){const y=window.MotionHandoffAnimation(g,f,Nn);y!==null&&(v.startTime=y,m=!0)}}MN(e,f),h.start(AC(f,h,p,e.shouldReduceMotion&&bf.has(f)?{type:!1}:v,e,m));const x=h.animation;x&&u.push(x)}return l&&Promise.all(u).then(()=>{Nn.update(()=>{l&&Sae(e,l)})}),u}function RN(e,t,r={}){var n;const a=vw(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(t9(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return Cae(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function Cae(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Eae).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(RN(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Eae(e,t){return e.sortNodePosition(t)}function kae(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>RN(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=RN(e,t,r);else{const a=typeof t=="function"?vw(e,t,r.custom):t;n=Promise.all(t9(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Pae=dC.length;function r9(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?r9(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Pae;r++){const n=dC[r],a=e.props[n];(zg(a)||a===!1)&&(t[n]=a)}return t}const Oae=[...uC].reverse(),Fae=uC.length;function Dae(e){return t=>Promise.all(t.map(({animation:r,options:n})=>kae(e,r,n)))}function Lae(e){let t=Dae(e),r=CO(),n=!0;const a=c=>(u,d)=>{var f;const h=vw(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:v,...m}=h;u={...u,...m,...v}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=r9(e.parent)||{},f=[],h=new Set;let p={},v=1/0;for(let x=0;x<Fae;x++){const g=Oae[x],y=r[g],b=u[g]!==void 0?u[g]:d[g],j=zg(b),_=g===c?y.isActive:null;_===!1&&(v=x);let N=b===d[g]&&b!==u[g]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...p},!y.isActive&&_===null||!b&&!y.prevProp||gw(b)||typeof b=="boolean")continue;const S=Iae(y.prevProp,b);let T=S||g===c&&y.isActive&&!N&&j||x>v&&j,k=!1;const V=Array.isArray(b)?b:[b];let C=V.reduce(a(g),{});_===!1&&(C={});const{prevResolvedValues:P={}}=y,U={...P,...C},q=R=>{T=!0,h.has(R)&&(k=!0,h.delete(R)),y.needsAnimating[R]=!0;const G=e.getValue(R);G&&(G.liveStyle=!1)};for(const R in U){const G=C[R],F=P[R];if(p.hasOwnProperty(R))continue;let H=!1;CN(G)&&CN(F)?H=!pB(G,F):H=G!==F,H?G!=null?q(R):h.add(R):G!==void 0&&h.has(R)?q(R):y.protectedKeys[R]=!0}y.prevProp=b,y.prevResolvedValues=C,y.isActive&&(p={...p,...C}),n&&e.blockInitialAnimation&&(T=!1),T&&(!(N&&S)||k)&&f.push(...V.map(R=>({animation:R,options:{type:g}})))}if(h.size){const x={};h.forEach(g=>{const y=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),x[g]=y??null}),f.push({animation:x})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=CO(),n=!0}}}function Iae(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pB(t,e):!1}function hd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CO(){return{animate:hd(!0),whileInView:hd(),whileHover:hd(),whileTap:hd(),whileDrag:hd(),whileFocus:hd(),exit:hd()}}class Gu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Mae extends Gu{constructor(t){super(t),t.animationState||(t.animationState=Lae(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Rae=0;class $ae extends Gu{constructor(){super(...arguments),this.id=Rae++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Bae={animation:{Feature:Mae},exit:{Feature:$ae}},To={x:!1,y:!1};function n9(){return To.x||To.y}function zae(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;t&&(a=t.current);const i=(n=r==null?void 0:r[e])!==null&&n!==void 0?n:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function a9(e,t){const r=zae(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function EO(e){return t=>{t.pointerType==="touch"||n9()||e(t)}}function Uae(e,t,r={}){const[n,a,i]=a9(e,r),o=EO(l=>{const{target:c}=l,u=t(l);if(!u||!c)return;const d=EO(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,a)});return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const PC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Om=new WeakSet;function kO(e){return t=>{t.key==="Enter"&&e(t)}}function Xj(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Vae=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=kO(()=>{if(Om.has(r))return;Xj(r,"down");const a=kO(()=>{Xj(r,"up")}),i=()=>Xj(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)},Hae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Wae(e){return Hae.has(e.tagName)||e.tabIndex!==-1}const i9=(e,t)=>t?e===t?!0:i9(e,t.parentElement):!1;function PO(e){return PC(e)&&!n9()}function qae(e,t,r={}){const[n,a,i]=a9(e,r),o=l=>{const c=l.currentTarget;if(!PO(l)||Om.has(c))return;Om.add(c);const u=t(l),d=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!PO(p)||!Om.has(c))&&(Om.delete(c),u&&u(p,{success:v}))},f=p=>{d(p,r.useGlobalTarget||i9(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{Wae(l)||(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",u=>Vae(u,a),a)}),i}function Gae(e){return e==="x"||e==="y"?To[e]?null:(To[e]=!0,()=>{To[e]=!1}):To.x||To.y?null:(To.x=To.y=!0,()=>{To.x=To.y=!1})}function Zv(e){return{point:{x:e.pageX,y:e.pageY}}}const Kae=e=>t=>PC(t)&&e(t,Zv(t));function Wg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Zm(e,t,r,n){return Wg(e,t,Kae(r),n)}const OO=(e,t)=>Math.abs(e-t);function Yae(e,t){const r=OO(e.x,t.x),n=OO(e.y,t.y);return Math.sqrt(r**2+n**2)}class s9{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qj(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Yae(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=f,{timestamp:m}=Ga;this.history.push({...v,timestamp:m});const{onStart:x,onMove:g}=this.handlers;h||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Jj(h,this.transformPagePoint),Nn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Qj(f.type==="pointercancel"?this.lastMoveEventInfo:Jj(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),v&&v(f,x)},!PC(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Zv(t),l=Jj(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ga;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Qj(l,this.history)),this.removeListeners=Qv(Zm(this.contextWindow,"pointermove",this.handlePointerMove),Zm(this.contextWindow,"pointerup",this.handlePointerUp),Zm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lu(this.updatePoint)}}function Jj(e,t){return t?{point:t(e.point)}:e}function FO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qj({point:e},t){return{point:e,delta:FO(e,o9(t)),offset:FO(e,Xae(t)),velocity:Jae(t,.1)}}function Xae(e){return e[0]}function o9(e){return e[e.length-1]}function Jae(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=o9(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>oc(t)));)r--;if(!n)return{x:0,y:0};const i=lc(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const l9=1e-4,Qae=1-l9,Zae=1+l9,c9=.01,eie=0-c9,tie=0+c9;function Os(e){return e.max-e.min}function rie(e,t,r){return Math.abs(e-t)<=r}function DO(e,t,r,n=.5){e.origin=n,e.originPoint=Ln(t.min,t.max,e.origin),e.scale=Os(r)/Os(t),e.translate=Ln(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Qae&&e.scale<=Zae||isNaN(e.scale))&&(e.scale=1),(e.translate>=eie&&e.translate<=tie||isNaN(e.translate))&&(e.translate=0)}function eg(e,t,r,n){DO(e.x,t.x,r.x,n?n.originX:void 0),DO(e.y,t.y,r.y,n?n.originY:void 0)}function LO(e,t,r){e.min=r.min+t.min,e.max=e.min+Os(t)}function nie(e,t,r){LO(e.x,t.x,r.x),LO(e.y,t.y,r.y)}function IO(e,t,r){e.min=t.min-r.min,e.max=e.min+Os(t)}function tg(e,t,r){IO(e.x,t.x,r.x),IO(e.y,t.y,r.y)}function aie(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ln(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ln(r,e,n.max):Math.min(e,r)),e}function MO(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function iie(e,{top:t,left:r,bottom:n,right:a}){return{x:MO(e.x,r,a),y:MO(e.y,t,n)}}function RO(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function sie(e,t){return{x:RO(e.x,t.x),y:RO(e.y,t.y)}}function oie(e,t){let r=.5;const n=Os(e),a=Os(t);return a>n?r=v0(t.min,t.max-n,e.min):n>a&&(r=v0(e.min,e.max-a,t.min)),bc(0,1,r)}function lie(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const $N=.35;function cie(e=$N){return e===!1?e=0:e===!0&&(e=$N),{x:$O(e,"left","right"),y:$O(e,"top","bottom")}}function $O(e,t,r){return{min:BO(e,t),max:BO(e,r)}}function BO(e,t){return typeof e=="number"?e:e[t]||0}const zO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ph=()=>({x:zO(),y:zO()}),UO=()=>({min:0,max:0}),Qn=()=>({x:UO(),y:UO()});function Xs(e){return[e("x"),e("y")]}function u9({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function uie({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function die(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Zj(e){return e===void 0||e===1}function BN({scale:e,scaleX:t,scaleY:r}){return!Zj(e)||!Zj(t)||!Zj(r)}function vd(e){return BN(e)||d9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function d9(e){return VO(e.x)||VO(e.y)}function VO(e){return e&&e!=="0%"}function y2(e,t,r){const n=e-r,a=t*n;return r+a}function HO(e,t,r,n,a){return a!==void 0&&(e=y2(e,a,n)),y2(e,r,n)+t}function zN(e,t=0,r=1,n,a){e.min=HO(e.min,t,r,n,a),e.max=HO(e.max,t,r,n,a)}function f9(e,{x:t,y:r}){zN(e.x,t.translate,t.scale,t.originPoint),zN(e.y,r.translate,r.scale,r.originPoint)}const WO=.999999999999,qO=1.0000000000001;function fie(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Fh(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,f9(e,o)),n&&vd(i.latestValues)&&Fh(e,i.latestValues))}t.x<qO&&t.x>WO&&(t.x=1),t.y<qO&&t.y>WO&&(t.y=1)}function Oh(e,t){e.min=e.min+t,e.max=e.max+t}function GO(e,t,r,n,a=.5){const i=Ln(e.min,e.max,a);zN(e,t,r,i,n)}function Fh(e,t){GO(e.x,t.x,t.scaleX,t.scale,t.originX),GO(e.y,t.y,t.scaleY,t.scale,t.originY)}function h9(e,t){return u9(die(e.getBoundingClientRect(),t))}function hie(e,t,r){const n=h9(e,r),{scroll:a}=t;return a&&(Oh(n.x,a.offset.x),Oh(n.y,a.offset.y)),n}const p9=({current:e})=>e?e.ownerDocument.defaultView:null,pie=new WeakMap;class mie{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Zv(d).point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gae(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xs(x=>{let g=this.getAxisMotionValue(x).get()||0;if(yl.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[x];b&&(g=Os(b)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&Nn.postRender(()=>v(d,f)),MN(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=gie(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Xs(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new s9(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:p9(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Nn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!D1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=aie(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&kh(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=iie(a.layoutBox,r):this.constraints=!1,this.elastic=cie(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Xs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=lie(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!kh(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=hie(n,a.root,this.visualElement.getTransformPagePoint());let o=sie(a.layout.layoutBox,i);if(r){const l=r(uie(o));this.hasMutatedConstraints=!!l,l&&(o=u9(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Xs(d=>{if(!D1(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,v={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return MN(this.visualElement,t),n.start(AC(t,n,0,r,this.visualElement,!1))}stopAnimation(){Xs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xs(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Xs(r=>{const{drag:n}=this.getProps();if(!D1(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-Ln(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!kh(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Xs(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=oie({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xs(o=>{if(!D1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ln(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;pie.set(this.visualElement,this);const t=this.visualElement.current,r=Zm(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();kh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Nn.read(n);const o=Wg(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=$N,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function D1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function gie(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class vie extends Gu{constructor(t){super(t),this.removeGroupControls=Cs,this.removeListeners=Cs,this.controls=new mie(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const KO=e=>(t,r)=>{e&&Nn.postRender(()=>e(t,r))};class xie extends Gu{constructor(){super(...arguments),this.removePointerDownListener=Cs}onPointerDown(t){this.session=new s9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:p9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:KO(t),onStart:KO(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Nn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Zm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yw=O.createContext(null);function yie(){const e=O.useContext(yw);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,a=O.useId();O.useEffect(()=>n(a),[]);const i=O.useCallback(()=>r&&r(a),[a,r]);return!t&&r?[!1,i]:[!0]}const OC=O.createContext({}),m9=O.createContext({}),Ry={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Yt.test(e))e=parseFloat(e);else return e;const r=YO(e,t.target.x),n=YO(e,t.target.y);return`${r}% ${n}%`}},bie={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Iu.parse(e);if(a.length>5)return n;const i=Iu.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=Ln(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}},b2={};function wie(e){Object.assign(b2,e)}const{schedule:FC,cancel:g9e}=gB(queueMicrotask,!1);class _ie extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;wie(jie),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ry.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Nn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),FC.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function g9(e){const[t,r]=yie(),n=O.useContext(OC);return s.jsx(_ie,{...e,layoutGroup:n,switchLayoutGroup:O.useContext(m9),isPresent:t,safeToRemove:r})}const jie={borderRadius:{...lm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lm,borderTopRightRadius:lm,borderBottomLeftRadius:lm,borderBottomRightRadius:lm,boxShadow:bie},v9=["TopLeft","TopRight","BottomLeft","BottomRight"],Sie=v9.length,XO=e=>typeof e=="string"?parseFloat(e):e,JO=e=>typeof e=="number"||Yt.test(e);function Nie(e,t,r,n,a,i){a?(e.opacity=Ln(0,r.opacity!==void 0?r.opacity:1,Aie(n)),e.opacityExit=Ln(t.opacity!==void 0?t.opacity:1,0,Tie(n))):i&&(e.opacity=Ln(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Sie;o++){const l=`border${v9[o]}Radius`;let c=QO(t,l),u=QO(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||JO(c)===JO(u)?(e[l]=Math.max(Ln(XO(c),XO(u),n),0),(yl.test(u)||yl.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ln(t.rotate||0,r.rotate||0,n))}function QO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Aie=x9(0,.5,jB),Tie=x9(.5,.95,Cs);function x9(e,t,r){return n=>n<e?0:n>t?1:r(v0(e,t,n))}function ZO(e,t){e.min=t.min,e.max=t.max}function Hs(e,t){ZO(e.x,t.x),ZO(e.y,t.y)}function e6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function t6(e,t,r,n,a){return e-=t,e=y2(e,1/r,n),a!==void 0&&(e=y2(e,1/a,n)),e}function Cie(e,t=0,r=1,n=.5,a,i=e,o=e){if(yl.test(t)&&(t=parseFloat(t),t=Ln(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ln(i.min,i.max,n);e===i&&(l-=t),e.min=t6(e.min,t,r,l,a),e.max=t6(e.max,t,r,l,a)}function r6(e,t,[r,n,a],i,o){Cie(e,t[r],t[n],t[a],t.scale,i,o)}const Eie=["x","scaleX","originX"],kie=["y","scaleY","originY"];function n6(e,t,r,n){r6(e.x,t,Eie,r?r.x:void 0,n?n.x:void 0),r6(e.y,t,kie,r?r.y:void 0,n?n.y:void 0)}function a6(e){return e.translate===0&&e.scale===1}function y9(e){return a6(e.x)&&a6(e.y)}function i6(e,t){return e.min===t.min&&e.max===t.max}function Pie(e,t){return i6(e.x,t.x)&&i6(e.y,t.y)}function s6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function b9(e,t){return s6(e.x,t.x)&&s6(e.y,t.y)}function o6(e){return Os(e.x)/Os(e.y)}function l6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Oie{constructor(){this.members=[]}add(t){TC(this.members,t),t.scheduleRender()}remove(t){if(CC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fie(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Die=(e,t)=>e.depth-t.depth;class Lie{constructor(){this.children=[],this.isDirty=!1}add(t){TC(this.children,t),this.isDirty=!0}remove(t){CC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Die),this.isDirty=!1,this.children.forEach(t)}}function $y(e){const t=xi(e)?e.get():e;return yae(t)?t.toValue():t}function Iie(e,t){const r=bl.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Lu(n),e(i-t))};return Nn.read(n,!0),()=>Lu(n)}function Mie(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Rie(e,t,r){const n=xi(e)?e:Hg(e);return n.start(AC("",n,t,r)),n.animation}const xd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Fm=typeof window<"u"&&window.MotionDebug!==void 0,e5=["","X","Y","Z"],$ie={visibility:"hidden"},c6=1e3;let Bie=0;function t5(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function w9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=e9(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Nn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&w9(n)}function _9({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Bie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fm&&(xd.totalNodes=xd.resolvedTargetDeltas=xd.recalculatedProjection=0),this.nodes.forEach(Vie),this.nodes.forEach(Kie),this.nodes.forEach(Yie),this.nodes.forEach(Hie),Fm&&window.MotionDebug.record(xd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lie)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new EC),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Mie(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Iie(h,250),Ry.hasAnimatedSinceResize&&(Ry.hasAnimatedSinceResize=!1,this.nodes.forEach(d6))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||ese,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),y=!this.targetLayout||!b9(this.targetLayout,v)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...fC(m,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||d6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&w9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u6);return}this.isUpdating||this.nodes.forEach(qie),this.isUpdating=!1,this.nodes.forEach(Gie),this.nodes.forEach(zie),this.nodes.forEach(Uie),this.clearAllSnapshots();const l=bl.now();Ga.delta=bc(0,1e3/60,l-Ga.timestamp),Ga.timestamp=l,Ga.isProcessing=!0,Wj.update.process(Ga),Wj.preRender.process(Ga),Wj.render.process(Ga),Ga.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,FC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wie),this.sharedNodes.forEach(Jie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!y9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||vd(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),tse(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Qn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(rse))){const{scroll:d}=this.root;d&&(Oh(c.x,d.offset.x),Oh(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Qn();if(Hs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Hs(c,o),Oh(c.x,f.offset.x),Oh(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Qn();Hs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Fh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vd(d.latestValues)&&Fh(c,d.latestValues)}return vd(this.latestValues)&&Fh(c,this.latestValues),c}removeTransform(o){const l=Qn();Hs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!vd(u.latestValues))continue;BN(u.latestValues)&&u.updateSnapshot();const d=Qn(),f=u.measurePageBox();Hs(d,f),n6(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vd(this.latestValues)&&n6(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ga.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ga.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),tg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qn(),this.targetWithTransforms=Qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nie(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hs(this.target,this.layout.layoutBox),f9(this.target,this.targetDelta)):Hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),tg(this.relativeTargetOrigin,this.target,p.target),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fm&&xd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||BN(this.parent.latestValues)||d9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ga.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Hs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;fie(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Qn());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e6(this.prevProjectionDelta.x,this.projectionDelta.x),e6(this.prevProjectionDelta.y,this.projectionDelta.y)),eg(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!l6(this.projectionDelta.x,this.prevProjectionDelta.x)||!l6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Fm&&xd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ph(),this.projectionDelta=Ph(),this.projectionDeltaWithTransform=Ph()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ph();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Qn(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,m=p!==v,x=this.getStack(),g=!x||x.members.length<=1,y=!!(m&&!g&&this.options.crossfade===!0&&!this.path.some(Zie));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const _=j/1e3;f6(f.x,o.x,_),f6(f.y,o.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qie(this.relativeTarget,this.relativeTargetOrigin,h,_),b&&Pie(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Qn()),Hs(b,this.relativeTarget)),m&&(this.animationValues=d,Nie(d,u,this.latestValues,_,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nn.update(()=>{Ry.hasAnimatedSinceResize=!0,this.currentAnimation=Rie(0,c6,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&j9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Qn();const f=Os(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Os(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Hs(l,c),Fh(l,d),eg(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Oie),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&t5("z",o,u,this.animationValues);for(let d=0;d<e5.length;d++)t5(`rotate${e5[d]}`,o,u,this.animationValues),t5(`skew${e5[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $ie;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$y(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=$y(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vd(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Fie(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in b2){if(h[m]===void 0)continue;const{correct:x,applyTo:g}=b2[m],y=u.transform==="none"?h[m]:x(h[m],f);if(g){const b=g.length;for(let j=0;j<b;j++)u[g[j]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?$y(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(u6),this.root.sharedNodes.clear()}}}function zie(e){e.updateLayout()}function Uie(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Xs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Os(h);h.min=n[f].min,h.max=h.min+p}):j9(i,r.layoutBox,n)&&Xs(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Os(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=Ph();eg(l,n,r.layoutBox);const c=Ph();o?eg(c,e.applyTransform(a,!0),r.measuredBox):eg(c,n,r.layoutBox);const u=!y9(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=Qn();tg(v,r.layoutBox,h.layoutBox);const m=Qn();tg(m,n,p.layoutBox),b9(v,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Vie(e){Fm&&xd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Hie(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Wie(e){e.clearSnapshot()}function u6(e){e.clearMeasurements()}function qie(e){e.isLayoutDirty=!1}function Gie(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function d6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Kie(e){e.resolveTargetDelta()}function Yie(e){e.calcProjection()}function Xie(e){e.resetSkewAndRotation()}function Jie(e){e.removeLeadSnapshot()}function f6(e,t,r){e.translate=Ln(t.translate,0,r),e.scale=Ln(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function h6(e,t,r,n){e.min=Ln(t.min,r.min,n),e.max=Ln(t.max,r.max,n)}function Qie(e,t,r,n){h6(e.x,t.x,r.x,n),h6(e.y,t.y,r.y,n)}function Zie(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ese={duration:.45,ease:[.4,0,.1,1]},p6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),m6=p6("applewebkit/")&&!p6("chrome/")?Math.round:Cs;function g6(e){e.min=m6(e.min),e.max=m6(e.max)}function tse(e){g6(e.x),g6(e.y)}function j9(e,t,r){return e==="position"||e==="preserve-aspect"&&!rie(o6(t),o6(r),.2)}function rse(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const nse=_9({attachResizeListener:(e,t)=>Wg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),r5={current:void 0},S9=_9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!r5.current){const e=new nse({});e.mount(window),e.setOptions({layoutScroll:!0}),r5.current=e}return r5.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ase={pan:{Feature:xie},drag:{Feature:vie,ProjectionNode:S9,MeasureLayout:g9}};function v6(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Nn.postRender(()=>i(t,Zv(t)))}class ise extends Gu{mount(){const{current:t}=this.node;t&&(this.unmount=Uae(t,r=>(v6(this.node,r,"Start"),n=>v6(this.node,n,"End"))))}unmount(){}}class sse extends Gu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qv(Wg(this.node.current,"focus",()=>this.onFocus()),Wg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x6(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Nn.postRender(()=>i(t,Zv(t)))}class ose extends Gu{mount(){const{current:t}=this.node;t&&(this.unmount=qae(t,r=>(x6(this.node,r,"Start"),(n,{success:a})=>x6(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const UN=new WeakMap,n5=new WeakMap,lse=e=>{const t=UN.get(e.target);t&&t(e)},cse=e=>{e.forEach(lse)};function use({root:e,...t}){const r=e||document;n5.has(r)||n5.set(r,{});const n=n5.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(cse,{root:e,...t})),n[a]}function dse(e,t,r){const n=use(t);return UN.set(e,r),n.observe(e),()=>{UN.delete(e),n.unobserve(e)}}const fse={some:0,all:1};class hse extends Gu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:fse[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return dse(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(pse(t,r))&&this.startObserver()}unmount(){}}function pse({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const mse={inView:{Feature:hse},tap:{Feature:ose},focus:{Feature:sse},hover:{Feature:ise}},gse={layout:{ProjectionNode:S9,MeasureLayout:g9}},DC=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),bw=O.createContext({}),LC=typeof window<"u",N9=LC?O.useLayoutEffect:O.useEffect,A9=O.createContext({strict:!1});function vse(e,t,r,n,a){var i,o;const{visualElement:l}=O.useContext(bw),c=O.useContext(A9),u=O.useContext(yw),d=O.useContext(DC).reducedMotion,f=O.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=O.useContext(m9);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&xse(f.current,r,a,p);const v=O.useRef(!1);O.useInsertionEffect(()=>{h&&v.current&&h.update(r,u)});const m=r[ZB],x=O.useRef(!!m&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return N9(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),FC.render(h.render),x.current&&h.animationState&&h.animationState.animateChanges())}),O.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,m)}),x.current=!1))}),h}function xse(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:T9(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&kh(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function T9(e){if(e)return e.options.allowProjection!==!1?e.projection:T9(e.parent)}function yse(e,t,r){return O.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):kh(r)&&(r.current=n))},[t])}function ww(e){return gw(e.animate)||dC.some(t=>zg(e[t]))}function C9(e){return!!(ww(e)||e.variants)}function bse(e,t){if(ww(e)){const{initial:r,animate:n}=e;return{initial:r===!1||zg(r)?r:void 0,animate:zg(n)?n:void 0}}return e.inherit!==!1?t:{}}function wse(e){const{initial:t,animate:r}=bse(e,O.useContext(bw));return O.useMemo(()=>({initial:t,animate:r}),[y6(t),y6(r)])}function y6(e){return Array.isArray(e)?e.join(" "):e}const b6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},x0={};for(const e in b6)x0[e]={isEnabled:t=>b6[e].some(r=>!!t[r])};function _se(e){for(const t in e)x0[t]={...x0[t],...e[t]}}const jse=Symbol.for("motionComponentSymbol");function Sse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&_se(e);function i(l,c){let u;const d={...O.useContext(DC),...l,layoutId:Nse(l)},{isStatic:f}=d,h=wse(l),p=n(l,f);if(!f&&LC){Ase();const v=Tse(d);u=v.MeasureLayout,h.visualElement=vse(a,p,d,t,v.ProjectionNode)}return s.jsxs(bw.Provider,{value:h,children:[u&&h.visualElement?s.jsx(u,{visualElement:h.visualElement,...d}):null,r(a,l,yse(p,h.visualElement,c),p,f,h.visualElement)]})}const o=O.forwardRef(i);return o[jse]=a,o}function Nse({layoutId:e}){const t=O.useContext(OC).id;return t&&e!==void 0?t+"-"+e:e}function Ase(e,t){O.useContext(A9).strict}function Tse(e){const{drag:t,layout:r}=x0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Cse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IC(e){return typeof e!="string"||e.includes("-")?!1:!!(Cse.indexOf(e)>-1||/[A-Z]/u.test(e))}function E9(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const k9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P9(e,t,r,n){E9(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(k9.has(a)?a:kC(a),t.attrs[a])}function O9(e,{layout:t,layoutId:r}){return bf.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!b2[e]||e==="opacity")}function MC(e,t,r){var n;const{style:a}=e,i={};for(const o in a)(xi(a[o])||t.style&&xi(t.style[o])||O9(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function F9(e,t,r){const n=MC(e,t,r);for(const a in e)if(xi(e[a])||xi(t[a])){const i=Yv.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function RC(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}function Ese({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,a,i){const o={latestValues:kse(n,a,i,e),renderState:t()};return r&&(o.mount=l=>r(n,l,o)),o}const D9=e=>(t,r)=>{const n=O.useContext(bw),a=O.useContext(yw),i=()=>Ese(e,t,n,a);return r?i():RC(i)};function kse(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=$y(i[h]);let{initial:o,animate:l}=e;const c=ww(e),u=C9(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!gw(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const v=cC(e,h[p]);if(v){const{transitionEnd:m,transition:x,...g}=v;for(const y in g){let b=g[y];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(a[y]=b)}for(const y in m)a[y]=m[y]}}}return a}const $C=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),L9=()=>({...$C(),attrs:{}}),I9=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Pse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ose=Yv.length;function Fse(e,t,r){let n="",a=!0;for(let i=0;i<Ose;i++){const o=Yv[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=I9(l,yC[o]);if(!c){a=!1;const d=Pse[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function BC(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(bf.has(c)){o=!0;continue}else if(CB(c)){a[c]=u;continue}else{const d=I9(u,yC[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=Fse(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}function w6(e,t,r){return typeof e=="string"?e:Yt.transform(t+r*e)}function Dse(e,t,r){const n=w6(t,e.x,e.width),a=w6(r,e.y,e.height);return`${n} ${a}`}const Lse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ise={offset:"strokeDashoffset",array:"strokeDasharray"};function Mse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Lse:Ise;e[i.offset]=Yt.transform(-n);const o=Yt.transform(t),l=Yt.transform(r);e[i.array]=`${o} ${l}`}function zC(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(BC(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:v}=e;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Dse(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&Mse(h,o,l,c,!1)}const UC=e=>typeof e=="string"&&e.toLowerCase()==="svg",Rse={useVisualState:D9({scrapeMotionValuesFromProps:F9,createRenderState:L9,onMount:(e,t,{renderState:r,latestValues:n})=>{Nn.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Nn.render(()=>{zC(r,n,UC(t.tagName),e.transformTemplate),P9(t,r)})}})},$se={useVisualState:D9({scrapeMotionValuesFromProps:MC,createRenderState:$C})};function M9(e,t,r){for(const n in t)!xi(t[n])&&!O9(n,r)&&(e[n]=t[n])}function Bse({transformTemplate:e},t){return O.useMemo(()=>{const r=$C();return BC(r,t,e),Object.assign({},r.vars,r.style)},[t])}function zse(e,t){const r=e.style||{},n={};return M9(n,r,e),Object.assign(n,Bse(e,t)),n}function Use(e,t){const r={},n=zse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Vse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function w2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Vse.has(e)}let R9=e=>!w2(e);function Hse(e){e&&(R9=t=>t.startsWith("on")?!w2(t):e(t))}try{Hse(require("@emotion/is-prop-valid").default)}catch{}function Wse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(R9(a)||r===!0&&w2(a)||!t&&!w2(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function qse(e,t,r,n){const a=O.useMemo(()=>{const i=L9();return zC(i,t,UC(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};M9(i,e.style,e),a.style={...i,...a.style}}return a}function Gse(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(IC(r)?qse:Use)(n,i,o,r),u=Wse(n,typeof r=="string",e),d=r!==O.Fragment?{...u,...c,ref:a}:{},{children:f}=n,h=O.useMemo(()=>xi(f)?f.get():f,[f]);return O.createElement(r,{...d,children:h})}}function Kse(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...IC(n)?Rse:$se,preloadedFeatures:e,useRender:Gse(a),createVisualElement:t,Component:n};return Sse(o)}}const VN={current:null},$9={current:!1};function Yse(){if($9.current=!0,!!LC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>VN.current=e.matches;e.addListener(t),t()}else VN.current=!1}function Xse(e,t,r){for(const n in t){const a=t[n],i=r[n];if(xi(a))e.addValue(n,a);else if(xi(i))e.addValue(n,Hg(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Hg(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const _6=new WeakMap,Jse=[...PB,ui,Iu],Qse=e=>Jse.find(kB(e)),j6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zse{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=bl.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Nn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=ww(r),this.isVariantNode=C9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];c[h]!==void 0&&xi(p)&&p.set(c[h],!1)}}mount(t){this.current=t,_6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),$9.current||Yse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:VN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_6.delete(this.current),this.projection&&this.projection.unmount(),Lu(this.notifyUpdate),Lu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=bf.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Nn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in x0){const r=x0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<j6.length;n++){const a=j6[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Xse(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Hg(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(AB(a)||NB(a))?a=parseFloat(a):!Qse(a)&&Iu.test(r)&&(a=$B(t,r)),this.setBaseTarget(t,xi(a)?a.get():a)),xi(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=cC(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!xi(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new EC),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class B9 extends Zse{constructor(){super(...arguments),this.KeyframeResolver=BB}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function eoe(e){return window.getComputedStyle(e)}class toe extends B9{constructor(){super(...arguments),this.type="html",this.renderInstance=E9}readValueFromInstance(t,r){if(bf.has(r)){const n=bC(r);return n&&n.default||0}else{const n=eoe(t),a=(CB(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return h9(t,r)}build(t,r,n){BC(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return MC(t,r,n)}}class roe extends B9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(bf.has(r)){const n=bC(r);return n&&n.default||0}return r=k9.has(r)?r:kC(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return F9(t,r,n)}build(t,r,n){zC(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){P9(t,r,n,a)}mount(t){this.isSVGTag=UC(t.tagName),super.mount(t)}}const noe=(e,t)=>IC(e)?new roe(t):new toe(t,{allowProjection:e!==O.Fragment}),aoe=Kse({...Bae,...mse,...ase,...gse},noe),HN=Mre(aoe);class ioe extends O.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function soe({children:e,isPresent:t}){const r=O.useId(),n=O.useRef(null),a=O.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=O.useContext(DC);return O.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=a.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),s.jsx(ioe,{isPresent:t,childRef:n,sizeRef:a,children:O.cloneElement(e,{ref:n})})}const ooe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=RC(loe),c=O.useId(),u=O.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),d=O.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),u]:[r,u]);return O.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),O.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(soe,{isPresent:r,children:e})),s.jsx(yw.Provider,{value:d,children:e})};function loe(){return new Map}const L1=e=>e.key||"";function S6(e){const t=[];return O.Children.forEach(e,r=>{O.isValidElement(r)&&t.push(r)}),t}const N6=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=O.useMemo(()=>S6(e),[e]),c=l.map(L1),u=O.useRef(!0),d=O.useRef(l),f=RC(()=>new Map),[h,p]=O.useState(l),[v,m]=O.useState(l);N9(()=>{u.current=!1,d.current=l;for(let y=0;y<v.length;y++){const b=L1(v[y]);c.includes(b)?f.delete(b):f.get(b)!==!0&&f.set(b,!1)}},[v,c.length,c.join("-")]);const x=[];if(l!==h){let y=[...l];for(let b=0;b<v.length;b++){const j=v[b],_=L1(j);c.includes(_)||(y.splice(b,0,j),x.push(j))}o==="wait"&&x.length&&(y=x),m(S6(y)),p(l);return}const{forceRender:g}=O.useContext(OC);return s.jsx(s.Fragment,{children:v.map(y=>{const b=L1(y),j=l===v||c.includes(b),_=()=>{if(f.has(b))f.set(b,!0);else return;let N=!0;f.forEach(S=>{S||(N=!1)}),N&&(g==null||g(),m(d.current),a&&a())};return s.jsx(ooe,{isPresent:j,initial:!u.current||n?void 0:!1,custom:j?void 0:r,presenceAffectsLayout:i,mode:o,onExitComplete:j?void 0:_,children:y},b)})})},coe=rC("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ne=Ce.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?rf:"button";return s.jsx(o,{className:wr(coe({variant:t,size:r,className:e})),ref:i,...a})});Ne.displayName="Button";var uoe=bY["useId".toString()]||(()=>{}),doe=0;function Cu(e){const[t,r]=O.useState(uoe());return Si(()=>{e||r(n=>n??String(doe++))},[e]),e||(t?`radix-${t}`:"")}var a5="focusScope.autoFocusOnMount",i5="focusScope.autoFocusOnUnmount",A6={bubbles:!1,cancelable:!0},foe="FocusScope",VC=O.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=O.useState(null),u=is(a),d=is(i),f=O.useRef(null),h=Pn(t,m=>c(m)),p=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:nu(f.current,{select:!0})},x=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||nu(f.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&nu(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(g);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,p.paused]),O.useEffect(()=>{if(l){C6.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(a5,A6);l.addEventListener(a5,u),l.dispatchEvent(g),g.defaultPrevented||(hoe(xoe(z9(l)),{select:!0}),document.activeElement===m&&nu(l))}return()=>{l.removeEventListener(a5,u),setTimeout(()=>{const g=new CustomEvent(i5,A6);l.addEventListener(i5,d),l.dispatchEvent(g),g.defaultPrevented||nu(m??document.body,{select:!0}),l.removeEventListener(i5,d),C6.remove(p)},0)}}},[l,u,d,p]);const v=O.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(x&&g){const y=m.currentTarget,[b,j]=poe(y);b&&j?!m.shiftKey&&g===j?(m.preventDefault(),r&&nu(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),r&&nu(j,{select:!0})):g===y&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(jr.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});VC.displayName=foe;function hoe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(nu(n,{select:t}),document.activeElement!==r)return}function poe(e){const t=z9(e),r=T6(t,e),n=T6(t.reverse(),e);return[r,n]}function z9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function T6(e,t){for(const r of e)if(!moe(r,{upTo:t}))return r}function moe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function goe(e){return e instanceof HTMLInputElement&&"select"in e}function nu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&goe(e)&&t&&e.select()}}var C6=voe();function voe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=E6(e,t),e.unshift(t)},remove(t){var r;e=E6(e,t),(r=e[0])==null||r.resume()}}}function E6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function xoe(e){return e.filter(t=>t.tagName!=="A")}var s5=0;function U9(){O.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??k6()),document.body.insertAdjacentElement("beforeend",e[1]??k6()),s5++,()=>{s5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),s5--}},[])}function k6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var pl=function(){return pl=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},pl.apply(this,arguments)};function V9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function yoe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var By="right-scroll-bar-position",zy="width-before-scroll-bar",boe="with-scroll-bars-hidden",woe="--removed-body-scroll-bar-size";function o5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _oe(e,t){var r=O.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var joe=typeof window<"u"?O.useLayoutEffect:O.useEffect,P6=new WeakMap;function Soe(e,t){var r=_oe(t||null,function(n){return e.forEach(function(a){return o5(a,n)})});return joe(function(){var n=P6.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||o5(l,null)}),i.forEach(function(l){a.has(l)||o5(l,o)})}P6.set(r,e)},[e]),r}function Noe(e){return e}function Aoe(e,t){t===void 0&&(t=Noe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Toe(e){e===void 0&&(e={});var t=Aoe(null);return t.options=pl({async:!0,ssr:!1},e),t}var H9=function(e){var t=e.sideCar,r=V9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return O.createElement(n,pl({},r))};H9.isSideCarExport=!0;function Coe(e,t){return e.useMedium(t),H9}var W9=Toe(),l5=function(){},_w=O.forwardRef(function(e,t){var r=O.useRef(null),n=O.useState({onScrollCapture:l5,onWheelCapture:l5,onTouchMoveCapture:l5}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,m=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,y=e.gapMode,b=V9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=Soe([r,t]),N=pl(pl({},b),a);return O.createElement(O.Fragment,null,d&&O.createElement(j,{sideCar:W9,removeScrollBar:u,shards:f,noIsolation:p,inert:v,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?O.cloneElement(O.Children.only(l),pl(pl({},N),{ref:_})):O.createElement(g,pl({},N,{className:c,ref:_}),l))});_w.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_w.classNames={fullWidth:zy,zeroRight:By};var O6,Eoe=function(){if(O6)return O6;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function koe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Eoe();return t&&e.setAttribute("nonce",t),e}function Poe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ooe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Foe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=koe())&&(Poe(t,r),Ooe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Doe=function(){var e=Foe();return function(t,r){O.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},q9=function(){var e=Doe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Loe={left:0,top:0,right:0,gap:0},c5=function(e){return parseInt(e||"",10)||0},Ioe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[c5(r),c5(n),c5(a)]},Moe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Loe;var t=Ioe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Roe=q9(),Yh="data-scroll-locked",$oe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(boe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Yh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(By,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(zy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(By," .").concat(By,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(zy," .").concat(zy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Yh,`] {
    `).concat(woe,": ").concat(l,`px;
  }
`)},F6=function(){var e=parseInt(document.body.getAttribute(Yh)||"0",10);return isFinite(e)?e:0},Boe=function(){O.useEffect(function(){return document.body.setAttribute(Yh,(F6()+1).toString()),function(){var e=F6()-1;e<=0?document.body.removeAttribute(Yh):document.body.setAttribute(Yh,e.toString())}},[])},zoe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Boe();var i=O.useMemo(function(){return Moe(a)},[a]);return O.createElement(Roe,{styles:$oe(i,!t,a,r?"":"!important")})},WN=!1;if(typeof window<"u")try{var I1=Object.defineProperty({},"passive",{get:function(){return WN=!0,!0}});window.addEventListener("test",I1,I1),window.removeEventListener("test",I1,I1)}catch{WN=!1}var nh=WN?{passive:!1}:!1,Uoe=function(e){return e.tagName==="TEXTAREA"},G9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Uoe(e)&&r[t]==="visible")},Voe=function(e){return G9(e,"overflowY")},Hoe=function(e){return G9(e,"overflowX")},D6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=K9(e,n);if(a){var i=Y9(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Woe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},qoe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},K9=function(e,t){return e==="v"?Voe(t):Hoe(t)},Y9=function(e,t){return e==="v"?Woe(t):qoe(t)},Goe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Koe=function(e,t,r,n,a){var i=Goe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=Y9(e,l),v=p[0],m=p[1],x=p[2],g=m-x-i*v;(v||g)&&K9(e,l)&&(f+=g,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(a&&Math.abs(f)<1||!a&&o>f)||!d&&(a&&Math.abs(h)<1||!a&&-o>h))&&(u=!0),u},M1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},L6=function(e){return[e.deltaX,e.deltaY]},I6=function(e){return e&&"current"in e?e.current:e},Yoe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Xoe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Joe=0,ah=[];function Qoe(e){var t=O.useRef([]),r=O.useRef([0,0]),n=O.useRef(),a=O.useState(Joe++)[0],i=O.useState(q9)[0],o=O.useRef(e);O.useEffect(function(){o.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=yoe([e.lockRef.current],(e.shards||[]).map(I6),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=O.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=M1(m),y=r.current,b="deltaX"in m?m.deltaX:y[0]-g[0],j="deltaY"in m?m.deltaY:y[1]-g[1],_,N=m.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in m&&S==="h"&&N.type==="range")return!1;var T=D6(S,N);if(!T)return!0;if(T?_=S:(_=S==="v"?"h":"v",T=D6(S,N)),!T)return!1;if(!n.current&&"changedTouches"in m&&(b||j)&&(n.current=_),!_)return!0;var k=n.current||_;return Koe(k,x,m,k==="h"?b:j,!0)},[]),c=O.useCallback(function(m){var x=m;if(!(!ah.length||ah[ah.length-1]!==i)){var g="deltaY"in x?L6(x):M1(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&Yoe(_.delta,g)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(I6).filter(Boolean).filter(function(_){return _.contains(x.target)}),j=b.length>0?l(x,b[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=O.useCallback(function(m,x,g,y){var b={name:m,delta:x,target:g,should:y,shadowParent:Zoe(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=O.useCallback(function(m){r.current=M1(m),n.current=void 0},[]),f=O.useCallback(function(m){u(m.type,L6(m),m.target,l(m,e.lockRef.current))},[]),h=O.useCallback(function(m){u(m.type,M1(m),m.target,l(m,e.lockRef.current))},[]);O.useEffect(function(){return ah.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,nh),document.addEventListener("touchmove",c,nh),document.addEventListener("touchstart",d,nh),function(){ah=ah.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,nh),document.removeEventListener("touchmove",c,nh),document.removeEventListener("touchstart",d,nh)}},[]);var p=e.removeScrollBar,v=e.inert;return O.createElement(O.Fragment,null,v?O.createElement(i,{styles:Xoe(a)}):null,p?O.createElement(zoe,{gapMode:e.gapMode}):null)}function Zoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ele=Coe(W9,Qoe);var X9=O.forwardRef(function(e,t){return O.createElement(_w,pl({},e,{ref:t,sideCar:ele}))});X9.classNames=_w.classNames;const J9=X9;var tle=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ih=new WeakMap,R1=new WeakMap,$1={},u5=0,Q9=function(e){return e&&(e.host||Q9(e.parentNode))},rle=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Q9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},nle=function(e,t,r,n){var a=rle(t,Array.isArray(e)?e:[e]);$1[r]||($1[r]=new WeakMap);var i=$1[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(ih.get(h)||0)+1,x=(i.get(h)||0)+1;ih.set(h,m),i.set(h,x),o.push(h),m===1&&v&&R1.set(h,!0),x===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(t),l.clear(),u5++,function(){o.forEach(function(f){var h=ih.get(f)-1,p=i.get(f)-1;ih.set(f,h),i.set(f,p),h||(R1.has(f)||f.removeAttribute(n),R1.delete(f)),p||f.removeAttribute(r)}),u5--,u5||(ih=new WeakMap,ih=new WeakMap,R1=new WeakMap,$1={})}},Z9=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||tle(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),nle(n,a,r,"aria-hidden")):function(){return null}},HC="Dialog",[ez,x9e]=yf(HC),[ale,Xo]=ez(HC),tz=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=O.useRef(null),c=O.useRef(null),[u=!1,d]=f0({prop:n,defaultProp:a,onChange:i});return s.jsx(ale,{scope:t,triggerRef:l,contentRef:c,contentId:Cu(),titleId:Cu(),descriptionId:Cu(),open:u,onOpenChange:d,onOpenToggle:O.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};tz.displayName=HC;var rz="DialogTrigger",ile=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xo(rz,r),i=Pn(t,a.triggerRef);return s.jsx(jr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":GC(a.open),...n,ref:i,onClick:fr(e.onClick,a.onOpenToggle)})});ile.displayName=rz;var WC="DialogPortal",[sle,nz]=ez(WC,{forceMount:void 0}),az=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Xo(WC,t);return s.jsx(sle,{scope:t,forceMount:r,children:O.Children.map(n,o=>s.jsx(J0,{present:r||i.open,children:s.jsx(dw,{asChild:!0,container:a,children:o})}))})};az.displayName=WC;var _2="DialogOverlay",iz=O.forwardRef((e,t)=>{const r=nz(_2,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Xo(_2,e.__scopeDialog);return i.modal?s.jsx(J0,{present:n||i.open,children:s.jsx(ole,{...a,ref:t})}):null});iz.displayName=_2;var ole=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xo(_2,r);return s.jsx(J9,{as:rf,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(jr.div,{"data-state":GC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),af="DialogContent",sz=O.forwardRef((e,t)=>{const r=nz(af,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Xo(af,e.__scopeDialog);return s.jsx(J0,{present:n||i.open,children:i.modal?s.jsx(lle,{...a,ref:t}):s.jsx(cle,{...a,ref:t})})});sz.displayName=af;var lle=O.forwardRef((e,t)=>{const r=Xo(af,e.__scopeDialog),n=O.useRef(null),a=Pn(t,r.contentRef,n);return O.useEffect(()=>{const i=n.current;if(i)return Z9(i)},[]),s.jsx(oz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fr(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:fr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:fr(e.onFocusOutside,i=>i.preventDefault())})}),cle=O.forwardRef((e,t)=>{const r=Xo(af,e.__scopeDialog),n=O.useRef(!1),a=O.useRef(!1);return s.jsx(oz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),oz=O.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Xo(af,r),c=O.useRef(null),u=Pn(t,c);return U9(),s.jsxs(s.Fragment,{children:[s.jsx(VC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(uw,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":GC(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ule,{titleId:l.titleId}),s.jsx(fle,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qC="DialogTitle",lz=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xo(qC,r);return s.jsx(jr.h2,{id:a.titleId,...n,ref:t})});lz.displayName=qC;var cz="DialogDescription",uz=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xo(cz,r);return s.jsx(jr.p,{id:a.descriptionId,...n,ref:t})});uz.displayName=cz;var dz="DialogClose",fz=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xo(dz,r);return s.jsx(jr.button,{type:"button",...n,ref:t,onClick:fr(e.onClick,()=>a.onOpenChange(!1))})});fz.displayName=dz;function GC(e){return e?"open":"closed"}var hz="DialogTitleWarning",[y9e,pz]=pte(hz,{contentName:af,titleName:qC,docsSlug:"dialog"}),ule=({titleId:e})=>{const t=pz(hz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return O.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},dle="DialogDescriptionWarning",fle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pz(dle).contentName}}.`;return O.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},hle=tz,ple=az,mz=iz,gz=sz,vz=lz,xz=uz,mle=fz;const Zt=hle,gle=ple,yz=Ce.forwardRef(({className:e,...t},r)=>s.jsx(mz,{ref:r,className:wr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yz.displayName=mz.displayName;const Xt=Ce.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(gle,{children:[s.jsx(yz,{}),s.jsxs(gz,{ref:n,"aria-describedby":void 0,className:wr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(mle,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500",children:[s.jsx(Q0,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xt.displayName=gz.displayName;const er=({className:e,...t})=>s.jsx("div",{className:wr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});er.displayName="DialogHeader";const yr=({className:e,...t})=>s.jsx("div",{className:wr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});yr.displayName="DialogFooter";const tr=Ce.forwardRef(({className:e,...t},r)=>s.jsx(vz,{ref:r,className:wr("text-lg font-semibold leading-none tracking-tight",e),...t}));tr.displayName=vz.displayName;const Nl=Ce.forwardRef(({className:e,...t},r)=>s.jsx(xz,{ref:r,className:wr("text-sm text-slate-500",e),...t}));Nl.displayName=xz.displayName;var vle="Label",bz=O.forwardRef((e,t)=>s.jsx(jr.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bz.displayName=vle;var wz=bz;const ve=Ce.forwardRef(({className:e,...t},r)=>s.jsx(wz,{ref:r,className:wr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));ve.displayName=wz.displayName;function M6(e,[t,r]){return Math.min(r,Math.max(t,e))}var xle=O.createContext(void 0);function KC(e){const t=O.useContext(xle);return e||t||"ltr"}const yle=["top","right","bottom","left"],Mu=Math.min,ys=Math.max,j2=Math.round,B1=Math.floor,wl=e=>({x:e,y:e}),ble={left:"right",right:"left",bottom:"top",top:"bottom"},wle={start:"end",end:"start"};function qN(e,t,r){return ys(e,Mu(t,r))}function wc(e,t){return typeof e=="function"?e(t):e}function _c(e){return e.split("-")[0]}function ep(e){return e.split("-")[1]}function YC(e){return e==="x"?"y":"x"}function XC(e){return e==="y"?"height":"width"}function Ru(e){return["top","bottom"].includes(_c(e))?"y":"x"}function JC(e){return YC(Ru(e))}function _le(e,t,r){r===void 0&&(r=!1);const n=ep(e),a=JC(e),i=XC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=S2(o)),[o,S2(o)]}function jle(e){const t=S2(e);return[GN(e),t,GN(t)]}function GN(e){return e.replace(/start|end/g,t=>wle[t])}function Sle(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function Nle(e,t,r,n){const a=ep(e);let i=Sle(_c(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(GN)))),i}function S2(e){return e.replace(/left|right|bottom|top/g,t=>ble[t])}function Ale(e){return{top:0,right:0,bottom:0,left:0,...e}}function _z(e){return typeof e!="number"?Ale(e):{top:e,right:e,bottom:e,left:e}}function N2(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function R6(e,t,r){let{reference:n,floating:a}=e;const i=Ru(t),o=JC(t),l=XC(o),c=_c(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ep(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const Tle=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=R6(u,n,c),h=n,p={},v=0;for(let m=0;m<l.length;m++){const{name:x,fn:g}=l[m],{x:y,y:b,data:j,reset:_}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=b??f,p={...p,[x]:{...p[x],...j}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=R6(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function qg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=wc(t,e),v=_z(p),x=l[h?f==="floating"?"reference":"floating":f],g=N2(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=N2(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(g.top-_.top+v.top)/j.y,bottom:(_.bottom-g.bottom+v.bottom)/j.y,left:(g.left-_.left+v.left)/j.x,right:(_.right-g.right+v.right)/j.x}}const Cle=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=wc(e,t)||{};if(u==null)return{};const f=_z(d),h={x:r,y:n},p=JC(a),v=XC(p),m=await o.getDimensions(u),x=p==="y",g=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",j=i.reference[v]+i.reference[p]-h[p]-i.floating[v],_=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[b]||i.floating[v]);const T=j/2-_/2,k=S/2-m[v]/2-1,V=Mu(f[g],k),C=Mu(f[y],k),P=V,U=S-m[v]-C,q=S/2-m[v]/2+T,z=qN(P,q,U),I=!c.arrow&&ep(a)!=null&&q!==z&&i.reference[v]/2-(q<P?V:C)-m[v]/2<0,R=I?q<P?q-P:q-U:0;return{[p]:h[p]+R,data:{[p]:z,centerOffset:q-z-R,...I&&{alignmentOffset:R}},reset:I}}}),Ele=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...x}=wc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=_c(a),y=Ru(l),b=_c(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!m?[S2(l)]:jle(l)),N=v!=="none";!h&&N&&_.push(...Nle(l,m,v,j));const S=[l,..._],T=await qg(t,x),k=[];let V=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&k.push(T[g]),f){const q=_le(a,o,j);k.push(T[q[0]],T[q[1]])}if(V=[...V,{placement:a,overflows:k}],!k.every(q=>q<=0)){var C,P;const q=(((C=i.flip)==null?void 0:C.index)||0)+1,z=S[q];if(z)return{data:{index:q,overflows:V},reset:{placement:z}};let I=(P=V.filter(R=>R.overflows[0]<=0).sort((R,G)=>R.overflows[1]-G.overflows[1])[0])==null?void 0:P.placement;if(!I)switch(p){case"bestFit":{var U;const R=(U=V.filter(G=>{if(N){const F=Ru(G.placement);return F===y||F==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(F=>F>0).reduce((F,H)=>F+H,0)]).sort((G,F)=>G[1]-F[1])[0])==null?void 0:U[0];R&&(I=R);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function $6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function B6(e){return yle.some(t=>e[t]>=0)}const kle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=wc(e,t);switch(n){case"referenceHidden":{const i=await qg(t,{...a,elementContext:"reference"}),o=$6(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:B6(o)}}}case"escaped":{const i=await qg(t,{...a,altBoundary:!0}),o=$6(i,r.floating);return{data:{escapedOffsets:o,escaped:B6(o)}}}default:return{}}}}};async function Ple(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=_c(r),l=ep(r),c=Ru(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=wc(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Ole=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Ple(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Fle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:g,y}=x;return{x:g,y}}},...c}=wc(e,t),u={x:r,y:n},d=await qg(t,c),f=Ru(_c(a)),h=YC(f);let p=u[h],v=u[f];if(i){const x=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=p+d[x],b=p-d[g];p=qN(y,p,b)}if(o){const x=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=v+d[x],b=v-d[g];v=qN(y,v,b)}const m=l.fn({...t,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},Dle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=wc(e,t),d={x:r,y:n},f=Ru(a),h=YC(f);let p=d[h],v=d[f];const m=wc(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+x.mainAxis,_=i.reference[h]+i.reference[b]-x.mainAxis;p<j?p=j:p>_&&(p=_)}if(u){var g,y;const b=h==="y"?"width":"height",j=["top","left"].includes(_c(a)),_=i.reference[f]-i.floating[b]+(j&&((g=o.offset)==null?void 0:g[f])||0)+(j?0:x.crossAxis),N=i.reference[f]+i.reference[b]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?x.crossAxis:0);v<_?v=_:v>N&&(v=N)}return{[h]:p,[f]:v}}}},Lle=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=wc(e,t),d=await qg(t,u),f=_c(a),h=ep(a),p=Ru(a)==="y",{width:v,height:m}=i.floating;let x,g;f==="top"||f==="bottom"?(x=f,g=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,x=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=v-d.left-d.right,j=Mu(m-d[x],y),_=Mu(v-d[g],b),N=!t.middlewareData.shift;let S=j,T=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),N&&!h){const V=ys(d.left,0),C=ys(d.right,0),P=ys(d.top,0),U=ys(d.bottom,0);p?T=v-2*(V!==0||C!==0?V+C:ys(d.left,d.right)):S=m-2*(P!==0||U!==0?P+U:ys(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:S});const k=await o.getDimensions(l.floating);return v!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function jw(){return typeof window<"u"}function tp(e){return jz(e)?(e.nodeName||"").toLowerCase():"#document"}function Es(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function El(e){var t;return(t=(jz(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jz(e){return jw()?e instanceof Node||e instanceof Es(e).Node:!1}function Go(e){return jw()?e instanceof Element||e instanceof Es(e).Element:!1}function Al(e){return jw()?e instanceof HTMLElement||e instanceof Es(e).HTMLElement:!1}function z6(e){return!jw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Es(e).ShadowRoot}function ex(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ko(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function Ile(e){return["table","td","th"].includes(tp(e))}function Sw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function QC(e){const t=ZC(),r=Go(e)?Ko(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Mle(e){let t=$u(e);for(;Al(t)&&!y0(t);){if(QC(t))return t;if(Sw(t))return null;t=$u(t)}return null}function ZC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function y0(e){return["html","body","#document"].includes(tp(e))}function Ko(e){return Es(e).getComputedStyle(e)}function Nw(e){return Go(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $u(e){if(tp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||z6(e)&&e.host||El(e);return z6(t)?t.host:t}function Sz(e){const t=$u(e);return y0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Al(t)&&ex(t)?t:Sz(t)}function Gg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Sz(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Es(a);if(i){const l=KN(o);return t.concat(o,o.visualViewport||[],ex(a)?a:[],l&&r?Gg(l):[])}return t.concat(a,Gg(a,[],r))}function KN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Nz(e){const t=Ko(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Al(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=j2(r)!==i||j2(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function eE(e){return Go(e)?e:e.contextElement}function Xh(e){const t=eE(e);if(!Al(t))return wl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=Nz(t);let o=(i?j2(r.width):r.width)/n,l=(i?j2(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Rle=wl(0);function Az(e){const t=Es(e);return!ZC()||!t.visualViewport?Rle:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $le(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Es(e)?!1:t}function sf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=eE(e);let o=wl(1);t&&(n?Go(n)&&(o=Xh(n)):o=Xh(e));const l=$le(i,r,n)?Az(i):wl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Es(i),p=n&&Go(n)?Es(n):n;let v=h,m=KN(v);for(;m&&n&&p!==v;){const x=Xh(m),g=m.getBoundingClientRect(),y=Ko(m),b=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,j=g.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=j,v=Es(m),m=KN(v)}}return N2({width:d,height:f,x:c,y:u})}function tE(e,t){const r=Nw(e).scrollLeft;return t?t.left+r:sf(El(e)).left+r}function Tz(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:tE(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function Ble(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=El(n),l=t?Sw(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=wl(1);const d=wl(0),f=Al(n);if((f||!f&&!i)&&((tp(n)!=="body"||ex(o))&&(c=Nw(n)),Al(n))){const p=sf(n);u=Xh(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?Tz(o,c,!0):wl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function zle(e){return Array.from(e.getClientRects())}function Ule(e){const t=El(e),r=Nw(e),n=e.ownerDocument.body,a=ys(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ys(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+tE(e);const l=-r.scrollTop;return Ko(n).direction==="rtl"&&(o+=ys(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Vle(e,t){const r=Es(e),n=El(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=ZC();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Hle(e,t){const r=sf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Al(e)?Xh(e):wl(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function U6(e,t,r){let n;if(t==="viewport")n=Vle(e,r);else if(t==="document")n=Ule(El(e));else if(Go(t))n=Hle(t,r);else{const a=Az(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return N2(n)}function Cz(e,t){const r=$u(e);return r===t||!Go(r)||y0(r)?!1:Ko(r).position==="fixed"||Cz(r,t)}function Wle(e,t){const r=t.get(e);if(r)return r;let n=Gg(e,[],!1).filter(l=>Go(l)&&tp(l)!=="body"),a=null;const i=Ko(e).position==="fixed";let o=i?$u(e):e;for(;Go(o)&&!y0(o);){const l=Ko(o),c=QC(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||ex(o)&&!c&&Cz(e,o))?n=n.filter(d=>d!==o):a=l,o=$u(o)}return t.set(e,n),n}function qle(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Sw(t)?[]:Wle(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=U6(t,d,a);return u.top=ys(f.top,u.top),u.right=Mu(f.right,u.right),u.bottom=Mu(f.bottom,u.bottom),u.left=ys(f.left,u.left),u},U6(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Gle(e){const{width:t,height:r}=Nz(e);return{width:t,height:r}}function Kle(e,t,r){const n=Al(t),a=El(t),i=r==="fixed",o=sf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=wl(0);if(n||!n&&!i)if((tp(t)!=="body"||ex(a))&&(l=Nw(t)),n){const h=sf(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=tE(a));const u=a&&!n&&!i?Tz(a,l):wl(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function d5(e){return Ko(e).position==="static"}function V6(e,t){if(!Al(e)||Ko(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return El(e)===r&&(r=r.ownerDocument.body),r}function Ez(e,t){const r=Es(e);if(Sw(e))return r;if(!Al(e)){let a=$u(e);for(;a&&!y0(a);){if(Go(a)&&!d5(a))return a;a=$u(a)}return r}let n=V6(e,t);for(;n&&Ile(n)&&d5(n);)n=V6(n,t);return n&&y0(n)&&d5(n)&&!QC(n)?r:n||Mle(e)||r}const Yle=async function(e){const t=this.getOffsetParent||Ez,r=this.getDimensions,n=await r(e.floating);return{reference:Kle(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xle(e){return Ko(e).direction==="rtl"}const Jle={convertOffsetParentRelativeRectToViewportRelativeRect:Ble,getDocumentElement:El,getClippingRect:qle,getOffsetParent:Ez,getElementRects:Yle,getClientRects:zle,getDimensions:Gle,getScale:Xh,isElement:Go,isRTL:Xle};function Qle(e,t){let r=null,n;const a=El(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const p=B1(d),v=B1(a.clientWidth-(u+f)),m=B1(a.clientHeight-(d+h)),x=B1(u),y={rootMargin:-p+"px "+-v+"px "+-m+"px "+-x+"px",threshold:ys(0,Mu(1,c))||1};let b=!0;function j(_){const N=_[0].intersectionRatio;if(N!==c){if(!b)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,y)}r.observe(e)}return o(!0),i}function Zle(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=eE(e),d=a||i?[...u?Gg(u):[],...Gg(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=u&&l?Qle(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let v,m=c?sf(e):null;c&&x();function x(){const g=sf(e);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&r(),m=g,v=requestAnimationFrame(x)}return r(),()=>{var g;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const ece=Ole,tce=Fle,rce=Ele,nce=Lle,ace=kle,H6=Cle,ice=Dle,sce=(e,t,r)=>{const n=new Map,a={platform:Jle,...r},i={...a.platform,_c:n};return Tle(e,t,{...a,platform:i})};var Uy=typeof document<"u"?O.useLayoutEffect:O.useEffect;function A2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!A2(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!A2(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function kz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function W6(e,t){const r=kz(e);return Math.round(t*r)/r}function f5(e){const t=O.useRef(e);return Uy(()=>{t.current=e}),t}function oce(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=O.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=O.useState(n);A2(h,n)||p(n);const[v,m]=O.useState(null),[x,g]=O.useState(null),y=O.useCallback(G=>{G!==N.current&&(N.current=G,m(G))},[]),b=O.useCallback(G=>{G!==S.current&&(S.current=G,g(G))},[]),j=i||v,_=o||x,N=O.useRef(null),S=O.useRef(null),T=O.useRef(d),k=c!=null,V=f5(c),C=f5(a),P=f5(u),U=O.useCallback(()=>{if(!N.current||!S.current)return;const G={placement:t,strategy:r,middleware:h};C.current&&(G.platform=C.current),sce(N.current,S.current,G).then(F=>{const H={...F,isPositioned:P.current!==!1};q.current&&!A2(T.current,H)&&(T.current=H,vf.flushSync(()=>{f(H)}))})},[h,t,r,C,P]);Uy(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[u]);const q=O.useRef(!1);Uy(()=>(q.current=!0,()=>{q.current=!1}),[]),Uy(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(V.current)return V.current(j,_,U);U()}},[j,_,U,V,k]);const z=O.useMemo(()=>({reference:N,floating:S,setReference:y,setFloating:b}),[y,b]),I=O.useMemo(()=>({reference:j,floating:_}),[j,_]),R=O.useMemo(()=>{const G={position:r,left:0,top:0};if(!I.floating)return G;const F=W6(I.floating,d.x),H=W6(I.floating,d.y);return l?{...G,transform:"translate("+F+"px, "+H+"px)",...kz(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:H}},[r,l,I.floating,d.x,d.y]);return O.useMemo(()=>({...d,update:U,refs:z,elements:I,floatingStyles:R}),[d,U,z,I,R])}const lce=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?H6({element:n.current,padding:a}).fn(r):{}:n?H6({element:n,padding:a}).fn(r):{}}}},cce=(e,t)=>({...ece(e),options:[e,t]}),uce=(e,t)=>({...tce(e),options:[e,t]}),dce=(e,t)=>({...ice(e),options:[e,t]}),fce=(e,t)=>({...rce(e),options:[e,t]}),hce=(e,t)=>({...nce(e),options:[e,t]}),pce=(e,t)=>({...ace(e),options:[e,t]}),mce=(e,t)=>({...lce(e),options:[e,t]});var gce="Arrow",Pz=O.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(jr.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Pz.displayName=gce;var vce=Pz;function xce(e){const[t,r]=O.useState(void 0);return Si(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var rE="Popper",[Oz,Fz]=yf(rE),[yce,Dz]=Oz(rE),Lz=e=>{const{__scopePopper:t,children:r}=e,[n,a]=O.useState(null);return s.jsx(yce,{scope:t,anchor:n,onAnchorChange:a,children:r})};Lz.displayName=rE;var Iz="PopperAnchor",Mz=O.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=Dz(Iz,r),o=O.useRef(null),l=Pn(t,o);return O.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(jr.div,{...a,ref:l})});Mz.displayName=Iz;var nE="PopperContent",[bce,wce]=Oz(nE),Rz=O.forwardRef((e,t)=>{var Z,se,W,ae,fe,Q;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=e,x=Dz(nE,r),[g,y]=O.useState(null),b=Pn(t,ke=>y(ke)),[j,_]=O.useState(null),N=xce(j),S=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,k=n+(i!=="center"?"-"+i:""),V=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],P=C.length>0,U={padding:V,boundary:C.filter(jce),altBoundary:P},{refs:q,floatingStyles:z,placement:I,isPositioned:R,middlewareData:G}=oce({strategy:"fixed",placement:k,whileElementsMounted:(...ke)=>Zle(...ke,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[cce({mainAxis:a+T,alignmentAxis:o}),c&&uce({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dce():void 0,...U}),c&&fce({...U}),hce({...U,apply:({elements:ke,rects:Ie,availableWidth:Ae,availableHeight:ce})=>{const{width:Re,height:at}=Ie.reference,$e=ke.floating.style;$e.setProperty("--radix-popper-available-width",`${Ae}px`),$e.setProperty("--radix-popper-available-height",`${ce}px`),$e.setProperty("--radix-popper-anchor-width",`${Re}px`),$e.setProperty("--radix-popper-anchor-height",`${at}px`)}}),j&&mce({element:j,padding:l}),Sce({arrowWidth:S,arrowHeight:T}),h&&pce({strategy:"referenceHidden",...U})]}),[F,H]=zz(I),J=is(v);Si(()=>{R&&(J==null||J())},[R,J]);const A=(Z=G.arrow)==null?void 0:Z.x,M=(se=G.arrow)==null?void 0:se.y,K=((W=G.arrow)==null?void 0:W.centerOffset)!==0,[L,Y]=O.useState();return Si(()=>{g&&Y(window.getComputedStyle(g).zIndex)},[g]),s.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:R?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:L,"--radix-popper-transform-origin":[(ae=G.transformOrigin)==null?void 0:ae.x,(fe=G.transformOrigin)==null?void 0:fe.y].join(" "),...((Q=G.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(bce,{scope:r,placedSide:F,onArrowChange:_,arrowX:A,arrowY:M,shouldHideArrow:K,children:s.jsx(jr.div,{"data-side":F,"data-align":H,...m,ref:b,style:{...m.style,animation:R?void 0:"none"}})})})});Rz.displayName=nE;var $z="PopperArrow",_ce={top:"bottom",right:"left",bottom:"top",left:"right"},Bz=O.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=wce($z,n),o=_ce[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(vce,{...a,ref:r,style:{...a.style,display:"block"}})})});Bz.displayName=$z;function jce(e){return e!==null}var Sce=e=>({name:"transformOrigin",options:e,fn(t){var x,g,y;const{placement:r,rects:n,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=zz(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",m="";return u==="bottom"?(v=o?f:`${h}px`,m=`${-c}px`):u==="top"?(v=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:v,y:m}}}});function zz(e){const[t,r="center"]=e.split("-");return[t,r]}var Nce=Lz,Ace=Mz,Tce=Rz,Cce=Bz;function Ece(e){const t=O.useRef({value:e,previous:e});return O.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var kce=[" ","Enter","ArrowUp","ArrowDown"],Pce=[" ","Enter"],tx="Select",[Aw,Tw,Oce]=QT(tx),[rp,b9e]=yf(tx,[Oce,Fz]),Cw=Fz(),[Fce,Ku]=rp(tx),[Dce,Lce]=rp(tx),Uz=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,m=Cw(t),[x,g]=O.useState(null),[y,b]=O.useState(null),[j,_]=O.useState(!1),N=KC(u),[S=!1,T]=f0({prop:n,defaultProp:a,onChange:i}),[k,V]=f0({prop:o,defaultProp:l,onChange:c}),C=O.useRef(null),P=x?v||!!x.closest("form"):!0,[U,q]=O.useState(new Set),z=Array.from(U).map(I=>I.props.value).join(";");return s.jsx(Nce,{...m,children:s.jsxs(Fce,{required:p,scope:t,trigger:x,onTriggerChange:g,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:Cu(),value:k,onValueChange:V,open:S,onOpenChange:T,dir:N,triggerPointerDownPosRef:C,disabled:h,children:[s.jsx(Aw.Provider,{scope:t,children:s.jsx(Dce,{scope:e.__scopeSelect,onNativeOptionAdd:O.useCallback(I=>{q(R=>new Set(R).add(I))},[]),onNativeOptionRemove:O.useCallback(I=>{q(R=>{const G=new Set(R);return G.delete(I),G})},[]),children:r})}),P?s.jsxs(dU,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:I=>V(I.target.value),disabled:h,form:v,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},z):null]})})};Uz.displayName=tx;var Vz="SelectTrigger",Hz=O.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Cw(r),o=Ku(Vz,r),l=o.disabled||n,c=Pn(t,o.onTriggerChange),u=Tw(r),d=O.useRef("touch"),[f,h,p]=fU(m=>{const x=u().filter(b=>!b.disabled),g=x.find(b=>b.value===o.value),y=hU(x,m,g);y!==void 0&&o.onValueChange(y.value)}),v=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(Ace,{asChild:!0,...i,children:s.jsx(jr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":uU(o.value)?"":void 0,...a,ref:c,onClick:fr(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:fr(a.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:fr(a.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&kce.includes(m.key)&&(v(),m.preventDefault())})})})});Hz.displayName=Vz;var Wz="SelectValue",qz=O.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Ku(Wz,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Pn(t,c.onValueNodeChange);return Si(()=>{u(d)},[u,d]),s.jsx(jr.span,{...l,ref:f,style:{pointerEvents:"none"},children:uU(c.value)?s.jsx(s.Fragment,{children:o}):i})});qz.displayName=Wz;var Ice="SelectIcon",Gz=O.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(jr.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Gz.displayName=Ice;var Mce="SelectPortal",Kz=e=>s.jsx(dw,{asChild:!0,...e});Kz.displayName=Mce;var of="SelectContent",Yz=O.forwardRef((e,t)=>{const r=Ku(of,e.__scopeSelect),[n,a]=O.useState();if(Si(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?vf.createPortal(s.jsx(Xz,{scope:e.__scopeSelect,children:s.jsx(Aw.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(Jz,{...e,ref:t})});Yz.displayName=of;var Co=10,[Xz,Yu]=rp(of),Rce="SelectContentImpl",Jz=O.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:x,...g}=e,y=Ku(of,r),[b,j]=O.useState(null),[_,N]=O.useState(null),S=Pn(t,Z=>j(Z)),[T,k]=O.useState(null),[V,C]=O.useState(null),P=Tw(r),[U,q]=O.useState(!1),z=O.useRef(!1);O.useEffect(()=>{if(b)return Z9(b)},[b]),U9();const I=O.useCallback(Z=>{const[se,...W]=P().map(Q=>Q.ref.current),[ae]=W.slice(-1),fe=document.activeElement;for(const Q of Z)if(Q===fe||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===se&&_&&(_.scrollTop=0),Q===ae&&_&&(_.scrollTop=_.scrollHeight),Q==null||Q.focus(),document.activeElement!==fe))return},[P,_]),R=O.useCallback(()=>I([T,b]),[I,T,b]);O.useEffect(()=>{U&&R()},[U,R]);const{onOpenChange:G,triggerPointerDownPosRef:F}=y;O.useEffect(()=>{if(b){let Z={x:0,y:0};const se=ae=>{var fe,Q;Z={x:Math.abs(Math.round(ae.pageX)-(((fe=F.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((Q=F.current)==null?void 0:Q.y)??0))}},W=ae=>{Z.x<=10&&Z.y<=10?ae.preventDefault():b.contains(ae.target)||G(!1),document.removeEventListener("pointermove",se),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",W,{capture:!0})}}},[b,G,F]),O.useEffect(()=>{const Z=()=>G(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[G]);const[H,J]=fU(Z=>{const se=P().filter(fe=>!fe.disabled),W=se.find(fe=>fe.ref.current===document.activeElement),ae=hU(se,Z,W);ae&&setTimeout(()=>ae.ref.current.focus())}),A=O.useCallback((Z,se,W)=>{const ae=!z.current&&!W;(y.value!==void 0&&y.value===se||ae)&&(k(Z),ae&&(z.current=!0))},[y.value]),M=O.useCallback(()=>b==null?void 0:b.focus(),[b]),K=O.useCallback((Z,se,W)=>{const ae=!z.current&&!W;(y.value!==void 0&&y.value===se||ae)&&C(Z)},[y.value]),L=n==="popper"?YN:Qz,Y=L===YN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:x}:{};return s.jsx(Xz,{scope:r,content:b,viewport:_,onViewportChange:N,itemRefCallback:A,selectedItem:T,onItemLeave:M,itemTextRefCallback:K,focusSelectedItem:R,selectedItemText:V,position:n,isPositioned:U,searchRef:H,children:s.jsx(J9,{as:rf,allowPinchZoom:!0,children:s.jsx(VC,{asChild:!0,trapped:y.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:fr(a,Z=>{var se;(se=y.trigger)==null||se.focus({preventScroll:!0}),Z.preventDefault()}),children:s.jsx(uw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(L,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Z=>Z.preventDefault(),...g,...Y,onPlaced:()=>q(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:fr(g.onKeyDown,Z=>{const se=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!se&&Z.key.length===1&&J(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let ae=P().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const fe=Z.target,Q=ae.indexOf(fe);ae=ae.slice(Q+1)}setTimeout(()=>I(ae)),Z.preventDefault()}})})})})})})});Jz.displayName=Rce;var $ce="SelectItemAlignedPosition",Qz=O.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ku(of,r),o=Yu(of,r),[l,c]=O.useState(null),[u,d]=O.useState(null),f=Pn(t,S=>d(S)),h=Tw(r),p=O.useRef(!1),v=O.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:g,focusSelectedItem:y}=o,b=O.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&x&&g){const S=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),V=g.getBoundingClientRect();if(i.dir!=="rtl"){const fe=V.left-T.left,Q=k.left-fe,ke=S.left-Q,Ie=S.width+ke,Ae=Math.max(Ie,T.width),ce=window.innerWidth-Co,Re=M6(Q,[Co,Math.max(Co,ce-Ae)]);l.style.minWidth=Ie+"px",l.style.left=Re+"px"}else{const fe=T.right-V.right,Q=window.innerWidth-k.right-fe,ke=window.innerWidth-S.right-Q,Ie=S.width+ke,Ae=Math.max(Ie,T.width),ce=window.innerWidth-Co,Re=M6(Q,[Co,Math.max(Co,ce-Ae)]);l.style.minWidth=Ie+"px",l.style.right=Re+"px"}const C=h(),P=window.innerHeight-Co*2,U=m.scrollHeight,q=window.getComputedStyle(u),z=parseInt(q.borderTopWidth,10),I=parseInt(q.paddingTop,10),R=parseInt(q.borderBottomWidth,10),G=parseInt(q.paddingBottom,10),F=z+I+U+G+R,H=Math.min(x.offsetHeight*5,F),J=window.getComputedStyle(m),A=parseInt(J.paddingTop,10),M=parseInt(J.paddingBottom,10),K=S.top+S.height/2-Co,L=P-K,Y=x.offsetHeight/2,Z=x.offsetTop+Y,se=z+I+Z,W=F-se;if(se<=K){const fe=C.length>0&&x===C[C.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-m.offsetTop-m.offsetHeight,ke=Math.max(L,Y+(fe?M:0)+Q+R),Ie=se+ke;l.style.height=Ie+"px"}else{const fe=C.length>0&&x===C[0].ref.current;l.style.top="0px";const ke=Math.max(K,z+m.offsetTop+(fe?A:0)+Y)+W;l.style.height=ke+"px",m.scrollTop=se-K+m.offsetTop}l.style.margin=`${Co}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,x,g,i.dir,n]);Si(()=>b(),[b]);const[j,_]=O.useState();Si(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=O.useCallback(S=>{S&&v.current===!0&&(b(),y==null||y(),v.current=!1)},[b,y]);return s.jsx(zce,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(jr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Qz.displayName=$ce;var Bce="SelectPopperPosition",YN=O.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Co,...i}=e,o=Cw(r);return s.jsx(Tce,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});YN.displayName=Bce;var[zce,aE]=rp(of,{}),XN="SelectViewport",Zz=O.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Yu(XN,r),o=aE(XN,r),l=Pn(t,i.onViewportChange),c=O.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Aw.Slot,{scope:r,children:s.jsx(jr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:fr(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-Co*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),g=Math.max(m,x);if(g<v){const y=g+p,b=Math.min(v,y),j=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Zz.displayName=XN;var eU="SelectGroup",[Uce,Vce]=rp(eU),Hce=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Cu();return s.jsx(Uce,{scope:r,id:a,children:s.jsx(jr.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Hce.displayName=eU;var tU="SelectLabel",rU=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Vce(tU,r);return s.jsx(jr.div,{id:a.id,...n,ref:t})});rU.displayName=tU;var T2="SelectItem",[Wce,nU]=rp(T2),aU=O.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Ku(T2,r),c=Yu(T2,r),u=l.value===n,[d,f]=O.useState(i??""),[h,p]=O.useState(!1),v=Pn(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,a)}),m=Cu(),x=O.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Wce,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:O.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Aw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(jr.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:fr(o.onFocus,()=>p(!0)),onBlur:fr(o.onBlur,()=>p(!1)),onClick:fr(o.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:fr(o.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:fr(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:fr(o.onPointerMove,y=>{var b;x.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fr(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:fr(o.onKeyDown,y=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&y.key===" "||(Pce.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});aU.displayName=T2;var Dm="SelectItemText",iU=O.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Ku(Dm,r),l=Yu(Dm,r),c=nU(Dm,r),u=Lce(Dm,r),[d,f]=O.useState(null),h=Pn(t,g=>f(g),c.onItemTextChange,g=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,g,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=O.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return Si(()=>(m(v),()=>x(v)),[m,x,v]),s.jsxs(s.Fragment,{children:[s.jsx(jr.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vf.createPortal(i.children,o.valueNode):null]})});iU.displayName=Dm;var sU="SelectItemIndicator",oU=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return nU(sU,r).isSelected?s.jsx(jr.span,{"aria-hidden":!0,...n,ref:t}):null});oU.displayName=sU;var JN="SelectScrollUpButton",qce=O.forwardRef((e,t)=>{const r=Yu(JN,e.__scopeSelect),n=aE(JN,e.__scopeSelect),[a,i]=O.useState(!1),o=Pn(t,n.onScrollButtonChange);return Si(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(lU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});qce.displayName=JN;var QN="SelectScrollDownButton",Gce=O.forwardRef((e,t)=>{const r=Yu(QN,e.__scopeSelect),n=aE(QN,e.__scopeSelect),[a,i]=O.useState(!1),o=Pn(t,n.onScrollButtonChange);return Si(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(lU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Gce.displayName=QN;var lU=O.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Yu("SelectScrollButton",r),o=O.useRef(null),l=Tw(r),c=O.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return O.useEffect(()=>()=>c(),[c]),Si(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(jr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:fr(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:fr(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:fr(a.onPointerLeave,()=>{c()})})}),Kce="SelectSeparator",cU=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(jr.div,{"aria-hidden":!0,...n,ref:t})});cU.displayName=Kce;var ZN="SelectArrow",Yce=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Cw(r),i=Ku(ZN,r),o=Yu(ZN,r);return i.open&&o.position==="popper"?s.jsx(Cce,{...a,...n,ref:t}):null});Yce.displayName=ZN;function uU(e){return e===""||e===void 0}var dU=O.forwardRef((e,t)=>{const{value:r,...n}=e,a=O.useRef(null),i=Pn(t,a),o=Ece(r);return O.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(fw,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});dU.displayName="BubbleSelect";function fU(e){const t=is(e),r=O.useRef(""),n=O.useRef(0),a=O.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=O.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function hU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Xce(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Xce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Jce=Uz,pU=Hz,Qce=qz,Zce=Gz,eue=Kz,mU=Yz,tue=Zz,gU=rU,vU=aU,rue=iU,nue=oU,xU=cU;const wt=Jce,_t=Qce,yt=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(pU,{ref:n,className:wr("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",e),...r,children:[t,s.jsx(Zce,{asChild:!0,children:s.jsx(iC,{className:"h-4 w-4 opacity-50"})})]}));yt.displayName=pU.displayName;const bt=O.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(eue,{children:s.jsx(mU,{ref:a,className:wr("relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:s.jsx(tue,{className:wr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));bt.displayName=mU.displayName;const aue=O.forwardRef(({className:e,...t},r)=>s.jsx(gU,{ref:r,className:wr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));aue.displayName=gU.displayName;const Le=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(vU,{ref:n,className:wr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(nue,{children:s.jsx(aC,{className:"h-4 w-4"})})}),s.jsx(rue,{children:t})]}));Le.displayName=vU.displayName;const iue=O.forwardRef(({className:e,...t},r)=>s.jsx(xU,{ref:r,className:wr("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",e),...t}));iue.displayName=xU.displayName;const Ge=O.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:wr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Ge.displayName="Input";const Nr=O.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:wr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Nr.displayName="Textarea";const sue=({isOpen:e,onClose:t,student:r,onSuccess:n})=>{const{toast:a}=Tr(),[i,o]=O.useState(!1),[l,c]=O.useState({first_name:"",last_name:"",hebrew_name:"",class_id:"",date_of_birth:"",address:"",father_name:"",father_phone:"",father_email:"",mother_name:"",mother_phone:"",mother_email:"",emergency_contact:"",emergency_phone:"",notes:"",is_active:!0}),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState([]);O.useEffect(()=>{e&&(g(),r?(c({first_name:r.first_name||"",last_name:r.last_name||"",hebrew_name:r.hebrew_name||"",class_id:r.class_id||"",date_of_birth:r.date_of_birth||"",address:r.address||"",father_name:r.father_name||"",father_phone:r.father_phone||"",father_email:r.father_email||"",mother_name:r.mother_name||"",mother_phone:r.mother_phone||"",mother_email:r.mother_email||"",emergency_contact:r.emergency_contact||"",emergency_phone:r.emergency_phone||"",notes:r.notes||"",is_active:r.is_active!==!1}),m(r.id)):(x(),d([])))},[r,e]);const m=async j=>{const{data:_}=await Te.from("tutor_assignments").select("tutor_id").eq("student_id",j).eq("is_active",!0);_&&d(_.map(N=>N.tutor_id))},x=()=>{c({first_name:"",last_name:"",hebrew_name:"",class_id:"",date_of_birth:"",address:"",father_name:"",father_phone:"",father_email:"",mother_name:"",mother_phone:"",mother_email:"",emergency_contact:"",emergency_phone:"",notes:"",is_active:!0})},g=async()=>{try{const{data:j}=await Te.from("classes").select("id, name, grade:grades(name)").eq("is_active",!0).order("name");h(j||[]);const{data:_}=await Te.from("app_users").select("id, first_name, last_name").eq("role","tutor").eq("is_active",!0).order("last_name");v(_||[])}catch(j){console.error("Error fetching options:",j)}},y=j=>{d(_=>_.includes(j)?_.filter(N=>N!==j):[..._,j])},b=async j=>{if(j.preventDefault(),o(!0),!l.first_name||!l.last_name){a({variant:"destructive",title:"Error",description:"First name and last name are required"}),o(!1);return}try{let _=r==null?void 0:r.id;const N={first_name:l.first_name,last_name:l.last_name,hebrew_name:l.hebrew_name||null,class_id:l.class_id||null,date_of_birth:l.date_of_birth||null,address:l.address||null,father_name:l.father_name||null,father_phone:l.father_phone||null,father_email:l.father_email||null,mother_name:l.mother_name||null,mother_phone:l.mother_phone||null,mother_email:l.mother_email||null,emergency_contact:l.emergency_contact||null,emergency_phone:l.emergency_phone||null,notes:l.notes||null,is_active:l.is_active};if(r){const{error:S}=await Te.from("students").update(N).eq("id",_);if(S)throw S}else{const{data:S,error:T}=await Te.from("students").insert([N]).select().single();if(T)throw T;_=S.id}if(await Te.from("tutor_assignments").update({is_active:!1}).eq("student_id",_),u.length>0){const S=u.map(T=>({student_id:_,tutor_id:T,is_active:!0}));for(const T of S)await Te.from("tutor_assignments").upsert(T,{onConflict:"student_id,tutor_id"})}a({title:"Success",description:"Student saved successfully"}),n(),t()}catch(_){console.error("Error saving student:",_),a({variant:"destructive",title:"Error",description:_.message})}finally{o(!1)}};return s.jsx(Zt,{open:e,onOpenChange:t,children:s.jsxs(Xt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(er,{children:s.jsx(tr,{children:r?"Edit Student":"Add New Student"})}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Student Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"first_name",children:"First Name *"}),s.jsx(Ge,{id:"first_name",value:l.first_name,onChange:j=>c({...l,first_name:j.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"last_name",children:"Last Name *"}),s.jsx(Ge,{id:"last_name",value:l.last_name,onChange:j=>c({...l,last_name:j.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"hebrew_name",children:"Hebrew Name"}),s.jsx(Ge,{id:"hebrew_name",value:l.hebrew_name,onChange:j=>c({...l,hebrew_name:j.target.value}),dir:"rtl",placeholder:"Hebrew Name"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"class_id",children:"Class"}),s.jsxs(wt,{value:l.class_id||"none",onValueChange:j=>c({...l,class_id:j==="none"?null:j}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select Class"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"none",children:"No Class"}),f.map(j=>{var _;return s.jsxs(Le,{value:j.id,children:[j.name," ",(_=j.grade)!=null&&_.name?`(${j.grade.name})`:""]},j.id)})]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"date_of_birth",children:"Date of Birth"}),s.jsx(Ge,{id:"date_of_birth",type:"date",value:l.date_of_birth,onChange:j=>c({...l,date_of_birth:j.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"address",children:"Address"}),s.jsx(Ge,{id:"address",value:l.address,onChange:j=>c({...l,address:j.target.value}),placeholder:"Street, City, Zip"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Father's Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Name"}),s.jsx(Ge,{value:l.father_name,onChange:j=>c({...l,father_name:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Phone"}),s.jsx(Ge,{value:l.father_phone,onChange:j=>c({...l,father_phone:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Email"}),s.jsx(Ge,{type:"email",value:l.father_email,onChange:j=>c({...l,father_email:j.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Mother's Information"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Name"}),s.jsx(Ge,{value:l.mother_name,onChange:j=>c({...l,mother_name:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Phone"}),s.jsx(Ge,{value:l.mother_phone,onChange:j=>c({...l,mother_phone:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Email"}),s.jsx(Ge,{type:"email",value:l.mother_email,onChange:j=>c({...l,mother_email:j.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Emergency Contact"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Contact Name"}),s.jsx(Ge,{value:l.emergency_contact,onChange:j=>c({...l,emergency_contact:j.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Contact Phone"}),s.jsx(Ge,{value:l.emergency_phone,onChange:j=>c({...l,emergency_phone:j.target.value})})]})]})]}),p.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Assigned Tutors"}),s.jsx("div",{className:"border rounded-md p-3 max-h-32 overflow-y-auto bg-slate-50 grid grid-cols-2 gap-2",children:p.map(j=>s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer hover:bg-slate-100 p-1.5 rounded",children:[s.jsx("input",{type:"checkbox",checked:u.includes(j.id),onChange:()=>y(j.id),className:"rounded border-slate-300"}),j.first_name," ",j.last_name]},j.id))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-slate-700 border-b pb-2",children:"Additional Notes"}),s.jsx(Nr,{value:l.notes,onChange:j=>c({...l,notes:j.target.value}),placeholder:"Any additional notes about this student...",rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(Ne,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(Ne,{type:"submit",disabled:i,className:"bg-blue-600 hover:bg-blue-700",children:[i?s.jsx(Sn,{className:"mr-2 h-4 w-4 animate-spin"}):null,r?"Update Student":"Create Student"]})]})]})]})})},oue=({isOpen:e,onClose:t,student:r})=>{const{toast:n}=Tr(),[a,i]=O.useState([]),[o,l]=O.useState({subject:"",grade:"",date:new Date().toISOString().split("T")[0]});O.useEffect(()=>{r&&e&&c()},[r,e]);const c=async()=>{const{data:f,error:h}=await Te.from("grades").select("*").eq("student_id",r.id).order("date",{ascending:!1});h?n({variant:"destructive",title:"Error",description:"Failed to load grades"}):i(f||[])},u=async f=>{if(f.preventDefault(),!o.subject||!o.grade){n({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}const{error:h}=await Te.from("grades").insert([{student_id:r.id,...o}]);h?n({variant:"destructive",title:"Error",description:"Failed to add grade"}):(n({title:"Success",description:"Grade added successfully"}),l({subject:"",grade:"",date:new Date().toISOString().split("T")[0]}),c())},d=async f=>{const{error:h}=await Te.from("grades").delete().eq("id",f);h?n({variant:"destructive",title:"Error",description:"Failed to delete grade"}):(n({title:"Success",description:"Grade deleted successfully"}),c())};return r?s.jsx(Zt,{open:e,onOpenChange:t,children:s.jsxs(Xt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(er,{children:s.jsxs(tr,{children:["Grades for ",r.name]})}),s.jsxs("form",{onSubmit:u,className:"space-y-4 border-b pb-4",children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:"Add New Grade"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"subject",children:"Subject"}),s.jsx("input",{id:"subject",type:"text",value:o.subject,onChange:f=>l({...o,subject:f.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"grade",children:"Grade"}),s.jsx("input",{id:"grade",type:"text",value:o.grade,onChange:f=>l({...o,grade:f.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"date",children:"Date"}),s.jsx("input",{id:"date",type:"date",value:o.date,onChange:f=>l({...o,date:f.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs(Ne,{type:"submit",className:"bg-gradient-to-r from-blue-500 to-blue-600",children:[s.jsx(Zr,{size:16,className:"mr-2"}),"Add Grade"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-slate-800",children:"Grade History"}),a.length===0?s.jsx("p",{className:"text-slate-600 text-sm",children:"No grades recorded yet"}):s.jsx("div",{className:"space-y-2",children:a.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-slate-800",children:f.subject}),s.jsxs("p",{className:"text-sm text-slate-600",children:["Grade: ",f.grade," - ",new Date(f.date).toLocaleDateString()]})]}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>d(f.id),className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(za,{size:16})})]},f.id))})]})]})}):null};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var yU=1252,lue=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],iE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},sE=function(e){lue.indexOf(e)!=-1&&(yU=iE[0]=e)};function cue(){sE(1252)}var Bo=function(e){sE(e)};function bU(){Bo(1200),cue()}function q6(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function uue(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function wU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Lm=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?uue(e.slice(2)):t==254&&r==255?wU(e.slice(2)):t==65279?e.slice(1):e},z1=function(t){return String.fromCharCode(t)},G6=function(t){return String.fromCharCode(t)},uu,gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function K6(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=gu.charAt(i)+gu.charAt(o)+gu.charAt(l)+gu.charAt(c);return t}function Fs(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=gu.indexOf(e.charAt(u++)),o=gu.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=gu.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=gu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Pr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),wf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Bu(e){return Pr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Y6(e){return Pr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Mo=function(t){return Pr?wf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function _f(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function oE(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return oE(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var du=Pr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:wf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function due(e){for(var t=[],r=0,n=e.length+250,a=Bu(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Bu(65535),n=65530)}return t.push(a.slice(0,r)),du(t)}var Ri=/\u0000/g,Im=/[\u0001-\u0006]/g;function Jh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function zo(e,t){var r=""+e;return r.length>=t?r:Hn("0",t-r.length)+r}function lE(e,t){var r=""+e;return r.length>=t?r:Hn(" ",t-r.length)+r}function C2(e,t){var r=""+e;return r.length>=t?r:r+Hn(" ",t-r.length)}function fue(e,t){var r=""+Math.round(e);return r.length>=t?r:Hn("0",t-r.length)+r}function hue(e,t){var r=""+e;return r.length>=t?r:Hn("0",t-r.length)+r}var X6=Math.pow(2,32);function sh(e,t){if(e>X6||e<-X6)return fue(e,t);var r=Math.round(e);return hue(r,t)}function E2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var J6=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],h5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pue(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Q6={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mue={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function k2(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Od(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=wue(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var _U=new Date(1899,11,31,0,0,0),gue=_U.getTime(),vue=new Date(1900,2,1,0,0,0);function jU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=vue&&(r+=24*60*60*1e3),(r-(gue+(e.getTimezoneOffset()-_U.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function cE(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function xue(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yue(e){var t=e<0?12:11,r=cE(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function bue(e){var t=cE(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Kg(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=yue(e):t===10?r=e.toFixed(10).substr(0,12):r=bue(e),cE(xue(r.toUpperCase()))}function lf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Kg(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return oo(14,jU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function wue(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function _ue(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return h5[r.m-1][1];case 5:return h5[r.m-1][0];default:return h5[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return J6[r.q][0];default:return J6[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?zo(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=zo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?zo(c,u):"";return d}function vu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var SU=/%/g;function jue(e,t,r){var n=t.replace(SU,""),a=t.length-n.length;return cc(e,n,r*Math.pow(10,2*a))+Hn("%",a)}function Sue(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return cc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function NU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+NU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var AU=/# (\?+)( ?)\/( ?)(\d+)/;function Nue(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Hn(" ",e[1].length+1+e[4].length):lE(o,e[1].length)+e[2]+"/"+e[3]+zo(l,e[4].length))}function Aue(e,t,r){return r+(t===0?"":""+t)+Hn(" ",e[1].length+2+e[4].length)}var TU=/^#*0*\.([0#]+)/,CU=/\).*[0#]/,EU=/\(###\) ###\\?-####/;function Fi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Z6(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function e8(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Tue(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Cue(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ys(e,t,r){if(e.charCodeAt(0)===40&&!t.match(CU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ys("n",n,r):"("+Ys("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Sue(e,t,r);if(t.indexOf("%")!==-1)return jue(e,t,r);if(t.indexOf("E")!==-1)return NU(t,r);if(t.charCodeAt(0)===36)return"$"+Ys(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+sh(c,t.length);if(t.match(/^[#?]+$/))return a=sh(r,0),a==="0"&&(a=""),a.length>t.length?a:Fi(t.substr(0,t.length-a.length))+a;if(i=t.match(AU))return Nue(i,c,u);if(t.match(/^#+0+$/))return u+sh(c,t.length-t.indexOf("0"));if(i=t.match(TU))return a=Z6(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Fi(i[1])).replace(/\.$/,"."+Fi(i[1])).replace(/\.(\d*)$/,function(v,m){return"."+m+Hn("0",Fi(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+Z6(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+vu(sh(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ys(e,t,-r):vu(""+(Math.floor(r)+Tue(r,i[1].length)))+"."+zo(e8(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ys(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Jh(Ys(e,t.replace(/[\\-]/g,""),r)),o=0,Jh(Jh(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(EU))return a=Ys(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=k2(c,Math.pow(10,o)-1,!1),a=""+u,d=cc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=C2(l[2],o),d.length<i[4].length&&(d=Fi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=k2(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?lE(l[1],o)+i[2]+"/"+i[3]+C2(l[2],o):Hn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=sh(r,0),t.length<=a.length?a:Fi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Fi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=e8(r,i[1].length),r<0?"-"+Ys(e,t,-r):vu(Cue(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?zo(0,3-v.length):"")+v})+"."+zo(o,i[1].length);switch(t){case"###,##0.00":return Ys(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=vu(sh(c,0));return p!=="0"?u+p:"";case"###,###.00":return Ys(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ys(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Eue(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return cc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function kue(e,t,r){var n=t.replace(SU,""),a=t.length-n.length;return cc(e,n,r*Math.pow(10,2*a))+Hn("%",a)}function kU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+kU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function cl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(CU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?cl("n",n,r):"("+cl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Eue(e,t,r);if(t.indexOf("%")!==-1)return kue(e,t,r);if(t.indexOf("E")!==-1)return kU(t,r);if(t.charCodeAt(0)===36)return"$"+cl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+zo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Fi(t.substr(0,t.length-a.length))+a;if(i=t.match(AU))return Aue(i,c,u);if(t.match(/^#+0+$/))return u+zo(c,t.length-t.indexOf("0"));if(i=t.match(TU))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Fi(i[1])).replace(/\.$/,"."+Fi(i[1])),a=a.replace(/\.(\d*)$/,function(v,m){return"."+m+Hn("0",Fi(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+vu(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+cl(e,t,-r):vu(""+r)+"."+Hn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return cl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Jh(cl(e,t.replace(/[\\-]/g,""),r)),o=0,Jh(Jh(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(EU))return a=cl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=k2(c,Math.pow(10,o)-1,!1),a=""+u,d=cc("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=C2(l[2],o),d.length<i[4].length&&(d=Fi(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=k2(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?lE(l[1],o)+i[2]+"/"+i[3]+C2(l[2],o):Hn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Fi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Fi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+cl(e,t,-r):vu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?zo(0,3-v.length):"")+v})+"."+zo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=vu(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return cl(e,t.slice(0,t.lastIndexOf(".")),r)+Fi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function cc(e,t,r){return(r|0)===r?cl(e,t,r):Ys(e,t,r)}function Pue(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var PU=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function np(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":E2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(PU))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Oue(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!E2(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),v=p==="("||p===")"?p:"t";a[a.length]={t:v,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Od(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Od(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(u==null&&(u=Od(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",o+=5,h="h"):(m.t="t",++o),u==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(PU)){if(u==null&&(u=Od(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",np(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var x=0,g=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(g=Math.max(g,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[o].v.match(/[Hh]/)&&(x=1),x<2&&a[o].v.match(/[Mm]/)&&(x=2),x<3&&a[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",j;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=_ue(a[o].t.charCodeAt(0),a[o].v,u,g),a[o].t="t";break;case"n":case"?":for(j=o+1;a[j]!=null&&((l=a[j].t)==="?"||l==="D"||(l===" "||l==="t")&&a[j+1]!=null&&(a[j+1].t==="?"||a[j+1].t==="t"&&a[j+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[j].v==="/"||a[j].v===" "&&a[j+1]!=null&&a[j+1].t=="?"));)a[o].v+=a[j].v,a[j]={v:"",t:";"},++j;b+=a[o].v,o=j-1;break;case"G":a[o].t="t",a[o].v=lf(t,r);break}var _="",N,S;if(b.length>0){b.charCodeAt(0)==40?(N=t<0&&b.charCodeAt(0)===45?-t:t,S=cc("n",b,N)):(N=t<0&&n>1?-t:t,S=cc("n",b,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),j=S.length-1;var T=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){T=o;break}var k=a.length;if(T===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(j>=a[o].v.length-1?(j-=a[o].v.length,a[o].v=S.substr(j+1,a[o].v.length)):j<0?a[o].v="":(a[o].v=S.substr(0,j+1),j=-1),a[o].t="t",k=o);j>=0&&k<a.length&&(a[k].v=S.substr(0,j+1)+a[k].v)}else if(T!==a.length&&S.indexOf("E")===-1){for(j=S.indexOf(".")-1,o=T;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")-1:a[o].v.length-1,_=a[o].v.substr(d+1);d>=0;--d)j>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(_=S.charAt(j--)+_);a[o].v=_,a[o].t="t",k=o}for(j>=0&&k<a.length&&(a[k].v=S.substr(0,j+1)+a[k].v),j=S.indexOf(".")+1,o=T;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==T)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")+1:0,_=a[o].v.substr(0,d);d<a[o].v.length;++d)j<S.length&&(_+=S.charAt(j++));a[o].v=_,a[o].t="t",k=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=cc(a[o].t,a[o].v,N),a[o].t="t");var V="";for(o=0;o!==a.length;++o)a[o]!=null&&(V+=a[o].v);return V}var t8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function r8(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Fue(e,t){var r=Pue(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(t8),l=r[1].match(t8);return r8(t,o)?[n,r[0]]:r8(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function oo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:gr)[e],n==null&&(n=r.table&&r.table[Q6[e]]||gr[Q6[e]]),n==null&&(n=mue[e]||"General");break}if(E2(n,0))return lf(t,r);t instanceof Date&&(t=jU(t,r.date1904));var a=Fue(n,t);if(E2(a[1]))return lf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Oue(a[1],t,r,a[0])}function Vd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(gr[r]==null){t<0&&(t=r);continue}if(gr[r]==e){t=r;break}}t<0&&(t=391)}return gr[t]=e,t}function OU(){gr=pue()}var Due={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},FU=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Lue(e){var t=typeof e=="number"?gr[e]:e;return t=t.replace(FU,"(\\d+)"),new RegExp("^"+t+"$")}function Iue(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(FU)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var Mue=function(){var e={};e.version="1.2.0";function t(){for(var S=0,T=new Array(256),k=0;k!=256;++k)S=k,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,T[k]=S;return typeof Int32Array<"u"?new Int32Array(T):T}var r=t();function n(S){var T=0,k=0,V=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(V=0;V!=256;++V)C[V]=S[V];for(V=0;V!=256;++V)for(k=S[V],T=256+V;T<4096;T+=256)k=C[T]=k>>>8^S[k&255];var P=[];for(V=1;V!=16;++V)P[V-1]=typeof Int32Array<"u"?C.subarray(V*256,V*256+256):C.slice(V*256,V*256+256);return P}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],v=a[9],m=a[10],x=a[11],g=a[12],y=a[13],b=a[14];function j(S,T){for(var k=T^-1,V=0,C=S.length;V<C;)k=k>>>8^r[(k^S.charCodeAt(V++))&255];return~k}function _(S,T){for(var k=T^-1,V=S.length-15,C=0;C<V;)k=b[S[C++]^k&255]^y[S[C++]^k>>8&255]^g[S[C++]^k>>16&255]^x[S[C++]^k>>>24]^m[S[C++]]^v[S[C++]]^p[S[C++]]^h[S[C++]]^f[S[C++]]^d[S[C++]]^u[S[C++]]^c[S[C++]]^l[S[C++]]^o[S[C++]]^i[S[C++]]^r[S[C++]];for(V+=15;C<V;)k=k>>>8^r[(k^S[C++])&255];return~k}function N(S,T){for(var k=T^-1,V=0,C=S.length,P=0,U=0;V<C;)P=S.charCodeAt(V++),P<128?k=k>>>8^r[(k^P)&255]:P<2048?(k=k>>>8^r[(k^(192|P>>6&31))&255],k=k>>>8^r[(k^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,U=S.charCodeAt(V++)&1023,k=k>>>8^r[(k^(240|P>>8&7))&255],k=k>>>8^r[(k^(128|P>>2&63))&255],k=k>>>8^r[(k^(128|U>>6&15|(P&3)<<4))&255],k=k>>>8^r[(k^(128|U&63))&255]):(k=k>>>8^r[(k^(224|P>>12&15))&255],k=k>>>8^r[(k^(128|P>>6&63))&255],k=k>>>8^r[(k^(128|P&63))&255]);return~k}return e.table=r,e.bstr=j,e.buf=_,e.str=N,e}(),Dr=function(){var t={};t.version="1.2.1";function r(re,ye){for(var he=re.split("/"),pe=ye.split("/"),be=0,_e=0,Ve=Math.min(he.length,pe.length);be<Ve;++be){if(_e=he[be].length-pe[be].length)return _e;if(he[be]!=pe[be])return he[be]<pe[be]?-1:1}return he.length-pe.length}function n(re){if(re.charAt(re.length-1)=="/")return re.slice(0,-1).indexOf("/")===-1?re:n(re.slice(0,-1));var ye=re.lastIndexOf("/");return ye===-1?re:re.slice(0,ye+1)}function a(re){if(re.charAt(re.length-1)=="/")return a(re.slice(0,-1));var ye=re.lastIndexOf("/");return ye===-1?re:re.slice(ye+1)}function i(re,ye){typeof ye=="string"&&(ye=new Date(ye));var he=ye.getHours();he=he<<6|ye.getMinutes(),he=he<<5|ye.getSeconds()>>>1,re.write_shift(2,he);var pe=ye.getFullYear()-1980;pe=pe<<4|ye.getMonth()+1,pe=pe<<5|ye.getDate(),re.write_shift(2,pe)}function o(re){var ye=re.read_shift(2)&65535,he=re.read_shift(2)&65535,pe=new Date,be=he&31;he>>>=5;var _e=he&15;he>>>=4,pe.setMilliseconds(0),pe.setFullYear(he+1980),pe.setMonth(_e-1),pe.setDate(be);var Ve=ye&31;ye>>>=5;var Qe=ye&63;return ye>>>=6,pe.setHours(ye),pe.setMinutes(Qe),pe.setSeconds(Ve<<1),pe}function l(re){Ka(re,0);for(var ye={},he=0;re.l<=re.length-4;){var pe=re.read_shift(2),be=re.read_shift(2),_e=re.l+be,Ve={};switch(pe){case 21589:he=re.read_shift(1),he&1&&(Ve.mtime=re.read_shift(4)),be>5&&(he&2&&(Ve.atime=re.read_shift(4)),he&4&&(Ve.ctime=re.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}re.l=_e,ye[pe]=Ve}return ye}var c;function u(){return c||(c={})}function d(re,ye){if(re[0]==80&&re[1]==75)return le(re,ye);if((re[0]|32)==109&&(re[1]|32)==105)return kt(re,ye);if(re.length<512)throw new Error("CFB file size "+re.length+" < 512");var he=3,pe=512,be=0,_e=0,Ve=0,Qe=0,Ue=0,qe=[],Ke=re.slice(0,512);Ka(Ke,0);var mt=f(Ke);switch(he=mt[0],he){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(mt[1]==0)return le(re,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}pe!==512&&(Ke=re.slice(0,pe),Ka(Ke,28));var Nt=re.slice(0,pe);h(Ke,he);var Ft=Ke.read_shift(4,"i");if(he===3&&Ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ft);Ke.l+=4,Ve=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),Qe=Ke.read_shift(4,"i"),be=Ke.read_shift(4,"i"),Ue=Ke.read_shift(4,"i"),_e=Ke.read_shift(4,"i");for(var vt=-1,Ot=0;Ot<109&&(vt=Ke.read_shift(4,"i"),!(vt<0));++Ot)qe[Ot]=vt;var nr=p(re,pe);x(Ue,_e,nr,pe,qe);var Kr=y(nr,Ve,qe,pe);Kr[Ve].name="!Directory",be>0&&Qe!==U&&(Kr[Qe].name="!MiniFAT"),Kr[qe[0]].name="!FAT",Kr.fat_addrs=qe,Kr.ssz=pe;var an={},ia=[],po=[],Dl=[];b(Ve,Kr,nr,ia,be,an,po,Qe),v(po,Dl,ia),ia.shift();var tl={FileIndex:po,FullPaths:Dl};return ye&&ye.raw&&(tl.raw={header:Nt,sectors:nr}),tl}function f(re){if(re[re.l]==80&&re[re.l+1]==75)return[0,0];re.chk(q,"Header Signature: "),re.l+=16;var ye=re.read_shift(2,"u");return[re.read_shift(2,"u"),ye]}function h(re,ye){var he=9;switch(re.l+=2,he=re.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}re.chk("0600","Mini Sector Shift: "),re.chk("000000000000","Reserved: ")}function p(re,ye){for(var he=Math.ceil(re.length/ye)-1,pe=[],be=1;be<he;++be)pe[be-1]=re.slice(be*ye,(be+1)*ye);return pe[he-1]=re.slice(he*ye),pe}function v(re,ye,he){for(var pe=0,be=0,_e=0,Ve=0,Qe=0,Ue=he.length,qe=[],Ke=[];pe<Ue;++pe)qe[pe]=Ke[pe]=pe,ye[pe]=he[pe];for(;Qe<Ke.length;++Qe)pe=Ke[Qe],be=re[pe].L,_e=re[pe].R,Ve=re[pe].C,qe[pe]===pe&&(be!==-1&&qe[be]!==be&&(qe[pe]=qe[be]),_e!==-1&&qe[_e]!==_e&&(qe[pe]=qe[_e])),Ve!==-1&&(qe[Ve]=pe),be!==-1&&pe!=qe[pe]&&(qe[be]=qe[pe],Ke.lastIndexOf(be)<Qe&&Ke.push(be)),_e!==-1&&pe!=qe[pe]&&(qe[_e]=qe[pe],Ke.lastIndexOf(_e)<Qe&&Ke.push(_e));for(pe=1;pe<Ue;++pe)qe[pe]===pe&&(_e!==-1&&qe[_e]!==_e?qe[pe]=qe[_e]:be!==-1&&qe[be]!==be&&(qe[pe]=qe[be]));for(pe=1;pe<Ue;++pe)if(re[pe].type!==0){if(Qe=pe,Qe!=qe[Qe])do Qe=qe[Qe],ye[pe]=ye[Qe]+"/"+ye[pe];while(Qe!==0&&qe[Qe]!==-1&&Qe!=qe[Qe]);qe[pe]=-1}for(ye[0]+="/",pe=1;pe<Ue;++pe)re[pe].type!==2&&(ye[pe]+="/")}function m(re,ye,he){for(var pe=re.start,be=re.size,_e=[],Ve=pe;he&&be>0&&Ve>=0;)_e.push(ye.slice(Ve*P,Ve*P+P)),be-=P,Ve=Td(he,Ve*4);return _e.length===0?ya(0):du(_e).slice(0,re.size)}function x(re,ye,he,pe,be){var _e=U;if(re===U){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(re!==-1){var Ve=he[re],Qe=(pe>>>2)-1;if(!Ve)return;for(var Ue=0;Ue<Qe&&(_e=Td(Ve,Ue*4))!==U;++Ue)be.push(_e);x(Td(Ve,pe-4),ye-1,he,pe,be)}}function g(re,ye,he,pe,be){var _e=[],Ve=[];be||(be=[]);var Qe=pe-1,Ue=0,qe=0;for(Ue=ye;Ue>=0;){be[Ue]=!0,_e[_e.length]=Ue,Ve.push(re[Ue]);var Ke=he[Math.floor(Ue*4/pe)];if(qe=Ue*4&Qe,pe<4+qe)throw new Error("FAT boundary crossed: "+Ue+" 4 "+pe);if(!re[Ke])break;Ue=Td(re[Ke],qe)}return{nodes:_e,data:f8([Ve])}}function y(re,ye,he,pe){var be=re.length,_e=[],Ve=[],Qe=[],Ue=[],qe=pe-1,Ke=0,mt=0,Nt=0,Ft=0;for(Ke=0;Ke<be;++Ke)if(Qe=[],Nt=Ke+ye,Nt>=be&&(Nt-=be),!Ve[Nt]){Ue=[];var vt=[];for(mt=Nt;mt>=0;){vt[mt]=!0,Ve[mt]=!0,Qe[Qe.length]=mt,Ue.push(re[mt]);var Ot=he[Math.floor(mt*4/pe)];if(Ft=mt*4&qe,pe<4+Ft)throw new Error("FAT boundary crossed: "+mt+" 4 "+pe);if(!re[Ot]||(mt=Td(re[Ot],Ft),vt[mt]))break}_e[Nt]={nodes:Qe,data:f8([Ue])}}return _e}function b(re,ye,he,pe,be,_e,Ve,Qe){for(var Ue=0,qe=pe.length?2:0,Ke=ye[re].data,mt=0,Nt=0,Ft;mt<Ke.length;mt+=128){var vt=Ke.slice(mt,mt+128);Ka(vt,64),Nt=vt.read_shift(2),Ft=pE(vt,0,Nt-qe),pe.push(Ft);var Ot={name:Ft,type:vt.read_shift(1),color:vt.read_shift(1),L:vt.read_shift(4,"i"),R:vt.read_shift(4,"i"),C:vt.read_shift(4,"i"),clsid:vt.read_shift(16),state:vt.read_shift(4,"i"),start:0,size:0},nr=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);nr!==0&&(Ot.ct=j(vt,vt.l-8));var Kr=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);Kr!==0&&(Ot.mt=j(vt,vt.l-8)),Ot.start=vt.read_shift(4,"i"),Ot.size=vt.read_shift(4,"i"),Ot.size<0&&Ot.start<0&&(Ot.size=Ot.type=0,Ot.start=U,Ot.name=""),Ot.type===5?(Ue=Ot.start,be>0&&Ue!==U&&(ye[Ue].name="!StreamData")):Ot.size>=4096?(Ot.storage="fat",ye[Ot.start]===void 0&&(ye[Ot.start]=g(he,Ot.start,ye.fat_addrs,ye.ssz)),ye[Ot.start].name=Ot.name,Ot.content=ye[Ot.start].data.slice(0,Ot.size)):(Ot.storage="minifat",Ot.size<0?Ot.size=0:Ue!==U&&Ot.start!==U&&ye[Ue]&&(Ot.content=m(Ot,ye[Ue].data,(ye[Qe]||{}).data))),Ot.content&&Ka(Ot.content,0),_e[Ft]=Ot,Ve.push(Ot)}}function j(re,ye){return new Date((bs(re,ye+4)/1e7*Math.pow(2,32)+bs(re,ye)/1e7-11644473600)*1e3)}function _(re,ye){return u(),d(c.readFileSync(re),ye)}function N(re,ye){var he=ye&&ye.type;switch(he||Pr&&Buffer.isBuffer(re)&&(he="buffer"),he||"base64"){case"file":return _(re,ye);case"base64":return d(Mo(Fs(re)),ye);case"binary":return d(Mo(re),ye)}return d(re,ye)}function S(re,ye){var he=ye||{},pe=he.root||"Root Entry";if(re.FullPaths||(re.FullPaths=[]),re.FileIndex||(re.FileIndex=[]),re.FullPaths.length!==re.FileIndex.length)throw new Error("inconsistent CFB structure");re.FullPaths.length===0&&(re.FullPaths[0]=pe+"/",re.FileIndex[0]={name:pe,type:5}),he.CLSID&&(re.FileIndex[0].clsid=he.CLSID),T(re)}function T(re){var ye="Sh33tJ5";if(!Dr.find(re,"/"+ye)){var he=ya(4);he[0]=55,he[1]=he[3]=50,he[2]=54,re.FileIndex.push({name:ye,type:2,content:he,size:4,L:69,R:69,C:69}),re.FullPaths.push(re.FullPaths[0]+ye),k(re)}}function k(re,ye){S(re);for(var he=!1,pe=!1,be=re.FullPaths.length-1;be>=0;--be){var _e=re.FileIndex[be];switch(_e.type){case 0:pe?he=!0:(re.FileIndex.pop(),re.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(_e.R*_e.L*_e.C)&&(he=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!ye)){var Ve=new Date(1987,1,19),Qe=0,Ue=Object.create?Object.create(null):{},qe=[];for(be=0;be<re.FullPaths.length;++be)Ue[re.FullPaths[be]]=!0,re.FileIndex[be].type!==0&&qe.push([re.FullPaths[be],re.FileIndex[be]]);for(be=0;be<qe.length;++be){var Ke=n(qe[be][0]);pe=Ue[Ke],pe||(qe.push([Ke,{name:a(Ke).replace("/",""),type:1,clsid:I,ct:Ve,mt:Ve,content:null}]),Ue[Ke]=!0)}for(qe.sort(function(Ft,vt){return r(Ft[0],vt[0])}),re.FullPaths=[],re.FileIndex=[],be=0;be<qe.length;++be)re.FullPaths[be]=qe[be][0],re.FileIndex[be]=qe[be][1];for(be=0;be<qe.length;++be){var mt=re.FileIndex[be],Nt=re.FullPaths[be];if(mt.name=a(Nt).replace("/",""),mt.L=mt.R=mt.C=-(mt.color=1),mt.size=mt.content?mt.content.length:0,mt.start=0,mt.clsid=mt.clsid||I,be===0)mt.C=qe.length>1?1:-1,mt.size=0,mt.type=5;else if(Nt.slice(-1)=="/"){for(Qe=be+1;Qe<qe.length&&n(re.FullPaths[Qe])!=Nt;++Qe);for(mt.C=Qe>=qe.length?-1:Qe,Qe=be+1;Qe<qe.length&&n(re.FullPaths[Qe])!=n(Nt);++Qe);mt.R=Qe>=qe.length?-1:Qe,mt.type=1}else n(re.FullPaths[be+1]||"")==n(Nt)&&(mt.R=be+1),mt.type=2}}}function V(re,ye){var he=ye||{};if(he.fileType=="mad")return xt(re,he);switch(k(re),he.fileType){case"zip":return kr(re,he)}var pe=function(Ft){for(var vt=0,Ot=0,nr=0;nr<Ft.FileIndex.length;++nr){var Kr=Ft.FileIndex[nr];if(Kr.content){var an=Kr.content.length;an>0&&(an<4096?vt+=an+63>>6:Ot+=an+511>>9)}}for(var ia=Ft.FullPaths.length+3>>2,po=vt+7>>3,Dl=vt+127>>7,tl=po+Ot+ia+Dl,mo=tl+127>>7,rl=mo<=109?0:Math.ceil((mo-109)/127);tl+mo+rl+127>>7>mo;)rl=++mo<=109?0:Math.ceil((mo-109)/127);var ls=[1,rl,mo,Dl,ia,Ot,vt,0];return Ft.FileIndex[0].size=vt<<6,ls[7]=(Ft.FileIndex[0].start=ls[0]+ls[1]+ls[2]+ls[3]+ls[4]+ls[5])+(ls[6]+7>>3),ls}(re),be=ya(pe[7]<<9),_e=0,Ve=0;{for(_e=0;_e<8;++_e)be.write_shift(1,z[_e]);for(_e=0;_e<8;++_e)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),_e=0;_e<3;++_e)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,pe[2]),be.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:U),be.write_shift(4,pe[3]),be.write_shift(-4,pe[1]?pe[0]-1:U),be.write_shift(4,pe[1]),_e=0;_e<109;++_e)be.write_shift(-4,_e<pe[2]?pe[1]+_e:-1)}if(pe[1])for(Ve=0;Ve<pe[1];++Ve){for(;_e<236+Ve*127;++_e)be.write_shift(-4,_e<pe[2]?pe[1]+_e:-1);be.write_shift(-4,Ve===pe[1]-1?U:Ve+1)}var Qe=function(Ft){for(Ve+=Ft;_e<Ve-1;++_e)be.write_shift(-4,_e+1);Ft&&(++_e,be.write_shift(-4,U))};for(Ve=_e=0,Ve+=pe[1];_e<Ve;++_e)be.write_shift(-4,R.DIFSECT);for(Ve+=pe[2];_e<Ve;++_e)be.write_shift(-4,R.FATSECT);Qe(pe[3]),Qe(pe[4]);for(var Ue=0,qe=0,Ke=re.FileIndex[0];Ue<re.FileIndex.length;++Ue)Ke=re.FileIndex[Ue],Ke.content&&(qe=Ke.content.length,!(qe<4096)&&(Ke.start=Ve,Qe(qe+511>>9)));for(Qe(pe[6]+7>>3);be.l&511;)be.write_shift(-4,R.ENDOFCHAIN);for(Ve=_e=0,Ue=0;Ue<re.FileIndex.length;++Ue)Ke=re.FileIndex[Ue],Ke.content&&(qe=Ke.content.length,!(!qe||qe>=4096)&&(Ke.start=Ve,Qe(qe+63>>6)));for(;be.l&511;)be.write_shift(-4,R.ENDOFCHAIN);for(_e=0;_e<pe[4]<<2;++_e){var mt=re.FullPaths[_e];if(!mt||mt.length===0){for(Ue=0;Ue<17;++Ue)be.write_shift(4,0);for(Ue=0;Ue<3;++Ue)be.write_shift(4,-1);for(Ue=0;Ue<12;++Ue)be.write_shift(4,0);continue}Ke=re.FileIndex[_e],_e===0&&(Ke.start=Ke.size?Ke.start-1:U);var Nt=_e===0&&he.root||Ke.name;if(qe=2*(Nt.length+1),be.write_shift(64,Nt,"utf16le"),be.write_shift(2,qe),be.write_shift(1,Ke.type),be.write_shift(1,Ke.color),be.write_shift(-4,Ke.L),be.write_shift(-4,Ke.R),be.write_shift(-4,Ke.C),Ke.clsid)be.write_shift(16,Ke.clsid,"hex");else for(Ue=0;Ue<4;++Ue)be.write_shift(4,0);be.write_shift(4,Ke.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,Ke.start),be.write_shift(4,Ke.size),be.write_shift(4,0)}for(_e=1;_e<re.FileIndex.length;++_e)if(Ke=re.FileIndex[_e],Ke.size>=4096)if(be.l=Ke.start+1<<9,Pr&&Buffer.isBuffer(Ke.content))Ke.content.copy(be,be.l,0,Ke.size),be.l+=Ke.size+511&-512;else{for(Ue=0;Ue<Ke.size;++Ue)be.write_shift(1,Ke.content[Ue]);for(;Ue&511;++Ue)be.write_shift(1,0)}for(_e=1;_e<re.FileIndex.length;++_e)if(Ke=re.FileIndex[_e],Ke.size>0&&Ke.size<4096)if(Pr&&Buffer.isBuffer(Ke.content))Ke.content.copy(be,be.l,0,Ke.size),be.l+=Ke.size+63&-64;else{for(Ue=0;Ue<Ke.size;++Ue)be.write_shift(1,Ke.content[Ue]);for(;Ue&63;++Ue)be.write_shift(1,0)}if(Pr)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function C(re,ye){var he=re.FullPaths.map(function(Ue){return Ue.toUpperCase()}),pe=he.map(function(Ue){var qe=Ue.split("/");return qe[qe.length-(Ue.slice(-1)=="/"?2:1)]}),be=!1;ye.charCodeAt(0)===47?(be=!0,ye=he[0].slice(0,-1)+ye):be=ye.indexOf("/")!==-1;var _e=ye.toUpperCase(),Ve=be===!0?he.indexOf(_e):pe.indexOf(_e);if(Ve!==-1)return re.FileIndex[Ve];var Qe=!_e.match(Im);for(_e=_e.replace(Ri,""),Qe&&(_e=_e.replace(Im,"!")),Ve=0;Ve<he.length;++Ve)if((Qe?he[Ve].replace(Im,"!"):he[Ve]).replace(Ri,"")==_e||(Qe?pe[Ve].replace(Im,"!"):pe[Ve]).replace(Ri,"")==_e)return re.FileIndex[Ve];return null}var P=64,U=-2,q="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",R={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(re,ye,he){u();var pe=V(re,he);c.writeFileSync(ye,pe)}function F(re){for(var ye=new Array(re.length),he=0;he<re.length;++he)ye[he]=String.fromCharCode(re[he]);return ye.join("")}function H(re,ye){var he=V(re,ye);switch(ye&&ye.type||"buffer"){case"file":return u(),c.writeFileSync(ye.filename,he),he;case"binary":return typeof he=="string"?he:F(he);case"base64":return K6(typeof he=="string"?he:F(he));case"buffer":if(Pr)return Buffer.isBuffer(he)?he:wf(he);case"array":return typeof he=="string"?Mo(he):he}return he}var J;function A(re){try{var ye=re.InflateRaw,he=new ye;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)J=re;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function M(re,ye){if(!J)return Ht(re,ye);var he=J.InflateRaw,pe=new he,be=pe._processChunk(re.slice(re.l),pe._finishFlushFlag);return re.l+=pe.bytesRead,be}function K(re){return J?J.deflateRawSync(re):st(re)}var L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function se(re){var ye=(re<<1|re<<11)&139536|(re<<5|re<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var W=typeof Uint8Array<"u",ae=W?new Uint8Array(256):[],fe=0;fe<256;++fe)ae[fe]=se(fe);function Q(re,ye){var he=ae[re&255];return ye<=8?he>>>8-ye:(he=he<<8|ae[re>>8&255],ye<=16?he>>>16-ye:(he=he<<8|ae[re>>16&255],he>>>24-ye))}function ke(re,ye){var he=ye&7,pe=ye>>>3;return(re[pe]|(he<=6?0:re[pe+1]<<8))>>>he&3}function Ie(re,ye){var he=ye&7,pe=ye>>>3;return(re[pe]|(he<=5?0:re[pe+1]<<8))>>>he&7}function Ae(re,ye){var he=ye&7,pe=ye>>>3;return(re[pe]|(he<=4?0:re[pe+1]<<8))>>>he&15}function ce(re,ye){var he=ye&7,pe=ye>>>3;return(re[pe]|(he<=3?0:re[pe+1]<<8))>>>he&31}function Re(re,ye){var he=ye&7,pe=ye>>>3;return(re[pe]|(he<=1?0:re[pe+1]<<8))>>>he&127}function at(re,ye,he){var pe=ye&7,be=ye>>>3,_e=(1<<he)-1,Ve=re[be]>>>pe;return he<8-pe||(Ve|=re[be+1]<<8-pe,he<16-pe)||(Ve|=re[be+2]<<16-pe,he<24-pe)||(Ve|=re[be+3]<<24-pe),Ve&_e}function $e(re,ye,he){var pe=ye&7,be=ye>>>3;return pe<=5?re[be]|=(he&7)<<pe:(re[be]|=he<<pe&255,re[be+1]=(he&7)>>8-pe),ye+3}function et(re,ye,he){var pe=ye&7,be=ye>>>3;return he=(he&1)<<pe,re[be]|=he,ye+1}function xe(re,ye,he){var pe=ye&7,be=ye>>>3;return he<<=pe,re[be]|=he&255,he>>>=8,re[be+1]=he,ye+8}function de(re,ye,he){var pe=ye&7,be=ye>>>3;return he<<=pe,re[be]|=he&255,he>>>=8,re[be+1]=he&255,re[be+2]=he>>>8,ye+16}function Be(re,ye){var he=re.length,pe=2*he>ye?2*he:ye+5,be=0;if(he>=ye)return re;if(Pr){var _e=Y6(pe);if(re.copy)re.copy(_e);else for(;be<re.length;++be)_e[be]=re[be];return _e}else if(W){var Ve=new Uint8Array(pe);if(Ve.set)Ve.set(re);else for(;be<he;++be)Ve[be]=re[be];return Ve}return re.length=pe,re}function we(re){for(var ye=new Array(re),he=0;he<re;++he)ye[he]=0;return ye}function ge(re,ye,he){var pe=1,be=0,_e=0,Ve=0,Qe=0,Ue=re.length,qe=W?new Uint16Array(32):we(32);for(_e=0;_e<32;++_e)qe[_e]=0;for(_e=Ue;_e<he;++_e)re[_e]=0;Ue=re.length;var Ke=W?new Uint16Array(Ue):we(Ue);for(_e=0;_e<Ue;++_e)qe[be=re[_e]]++,pe<be&&(pe=be),Ke[_e]=0;for(qe[0]=0,_e=1;_e<=pe;++_e)qe[_e+16]=Qe=Qe+qe[_e-1]<<1;for(_e=0;_e<Ue;++_e)Qe=re[_e],Qe!=0&&(Ke[_e]=qe[Qe+16]++);var mt=0;for(_e=0;_e<Ue;++_e)if(mt=re[_e],mt!=0)for(Qe=Q(Ke[_e],pe)>>pe-mt,Ve=(1<<pe+4-mt)-1;Ve>=0;--Ve)ye[Qe|Ve<<mt]=mt&15|_e<<4;return pe}var ze=W?new Uint16Array(512):we(512),tt=W?new Uint16Array(32):we(32);if(!W){for(var ht=0;ht<512;++ht)ze[ht]=0;for(ht=0;ht<32;++ht)tt[ht]=0}(function(){for(var re=[],ye=0;ye<32;ye++)re.push(5);ge(re,tt,32);var he=[];for(ye=0;ye<=143;ye++)he.push(8);for(;ye<=255;ye++)he.push(9);for(;ye<=279;ye++)he.push(7);for(;ye<=287;ye++)he.push(8);ge(he,ze,288)})();var Se=function(){for(var ye=W?new Uint8Array(32768):[],he=0,pe=0;he<Z.length-1;++he)for(;pe<Z[he+1];++pe)ye[pe]=he;for(;pe<32768;++pe)ye[pe]=29;var be=W?new Uint8Array(259):[];for(he=0,pe=0;he<Y.length-1;++he)for(;pe<Y[he+1];++pe)be[pe]=he;function _e(Qe,Ue){for(var qe=0;qe<Qe.length;){var Ke=Math.min(65535,Qe.length-qe),mt=qe+Ke==Qe.length;for(Ue.write_shift(1,+mt),Ue.write_shift(2,Ke),Ue.write_shift(2,~Ke&65535);Ke-- >0;)Ue[Ue.l++]=Qe[qe++]}return Ue.l}function Ve(Qe,Ue){for(var qe=0,Ke=0,mt=W?new Uint16Array(32768):[];Ke<Qe.length;){var Nt=Math.min(65535,Qe.length-Ke);if(Nt<10){for(qe=$e(Ue,qe,+(Ke+Nt==Qe.length)),qe&7&&(qe+=8-(qe&7)),Ue.l=qe/8|0,Ue.write_shift(2,Nt),Ue.write_shift(2,~Nt&65535);Nt-- >0;)Ue[Ue.l++]=Qe[Ke++];qe=Ue.l*8;continue}qe=$e(Ue,qe,+(Ke+Nt==Qe.length)+2);for(var Ft=0;Nt-- >0;){var vt=Qe[Ke];Ft=(Ft<<5^vt)&32767;var Ot=-1,nr=0;if((Ot=mt[Ft])&&(Ot|=Ke&-32768,Ot>Ke&&(Ot-=32768),Ot<Ke))for(;Qe[Ot+nr]==Qe[Ke+nr]&&nr<250;)++nr;if(nr>2){vt=be[nr],vt<=22?qe=xe(Ue,qe,ae[vt+1]>>1)-1:(xe(Ue,qe,3),qe+=5,xe(Ue,qe,ae[vt-23]>>5),qe+=3);var Kr=vt<8?0:vt-4>>2;Kr>0&&(de(Ue,qe,nr-Y[vt]),qe+=Kr),vt=ye[Ke-Ot],qe=xe(Ue,qe,ae[vt]>>3),qe-=3;var an=vt<4?0:vt-2>>1;an>0&&(de(Ue,qe,Ke-Ot-Z[vt]),qe+=an);for(var ia=0;ia<nr;++ia)mt[Ft]=Ke&32767,Ft=(Ft<<5^Qe[Ke])&32767,++Ke;Nt-=nr-1}else vt<=143?vt=vt+48:qe=et(Ue,qe,1),qe=xe(Ue,qe,ae[vt]),mt[Ft]=Ke&32767,++Ke}qe=xe(Ue,qe,0)-1}return Ue.l=(qe+7)/8|0,Ue.l}return function(Ue,qe){return Ue.length<8?_e(Ue,qe):Ve(Ue,qe)}}();function st(re){var ye=ya(50+Math.floor(re.length*1.1)),he=Se(re,ye);return ye.slice(0,he)}var it=W?new Uint16Array(32768):we(32768),qt=W?new Uint16Array(32768):we(32768),jt=W?new Uint16Array(128):we(128),Sr=1,Gt=1;function or(re,ye){var he=ce(re,ye)+257;ye+=5;var pe=ce(re,ye)+1;ye+=5;var be=Ae(re,ye)+4;ye+=4;for(var _e=0,Ve=W?new Uint8Array(19):we(19),Qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ue=1,qe=W?new Uint8Array(8):we(8),Ke=W?new Uint8Array(8):we(8),mt=Ve.length,Nt=0;Nt<be;++Nt)Ve[L[Nt]]=_e=Ie(re,ye),Ue<_e&&(Ue=_e),qe[_e]++,ye+=3;var Ft=0;for(qe[0]=0,Nt=1;Nt<=Ue;++Nt)Ke[Nt]=Ft=Ft+qe[Nt-1]<<1;for(Nt=0;Nt<mt;++Nt)(Ft=Ve[Nt])!=0&&(Qe[Nt]=Ke[Ft]++);var vt=0;for(Nt=0;Nt<mt;++Nt)if(vt=Ve[Nt],vt!=0){Ft=ae[Qe[Nt]]>>8-vt;for(var Ot=(1<<7-vt)-1;Ot>=0;--Ot)jt[Ft|Ot<<vt]=vt&7|Nt<<3}var nr=[];for(Ue=1;nr.length<he+pe;)switch(Ft=jt[Re(re,ye)],ye+=Ft&7,Ft>>>=3){case 16:for(_e=3+ke(re,ye),ye+=2,Ft=nr[nr.length-1];_e-- >0;)nr.push(Ft);break;case 17:for(_e=3+Ie(re,ye),ye+=3;_e-- >0;)nr.push(0);break;case 18:for(_e=11+Re(re,ye),ye+=7;_e-- >0;)nr.push(0);break;default:nr.push(Ft),Ue<Ft&&(Ue=Ft);break}var Kr=nr.slice(0,he),an=nr.slice(he);for(Nt=he;Nt<286;++Nt)Kr[Nt]=0;for(Nt=pe;Nt<30;++Nt)an[Nt]=0;return Sr=ge(Kr,it,286),Gt=ge(an,qt,30),ye}function Wr(re,ye){if(re[0]==3&&!(re[1]&3))return[Bu(ye),2];for(var he=0,pe=0,be=Y6(ye||1<<18),_e=0,Ve=be.length>>>0,Qe=0,Ue=0;!(pe&1);){if(pe=Ie(re,he),he+=3,pe>>>1)pe>>1==1?(Qe=9,Ue=5):(he=or(re,he),Qe=Sr,Ue=Gt);else{he&7&&(he+=8-(he&7));var qe=re[he>>>3]|re[(he>>>3)+1]<<8;if(he+=32,qe>0)for(!ye&&Ve<_e+qe&&(be=Be(be,_e+qe),Ve=be.length);qe-- >0;)be[_e++]=re[he>>>3],he+=8;continue}for(;;){!ye&&Ve<_e+32767&&(be=Be(be,_e+32767),Ve=be.length);var Ke=at(re,he,Qe),mt=pe>>>1==1?ze[Ke]:it[Ke];if(he+=mt&15,mt>>>=4,!(mt>>>8&255))be[_e++]=mt;else{if(mt==256)break;mt-=257;var Nt=mt<8?0:mt-4>>2;Nt>5&&(Nt=0);var Ft=_e+Y[mt];Nt>0&&(Ft+=at(re,he,Nt),he+=Nt),Ke=at(re,he,Ue),mt=pe>>>1==1?tt[Ke]:qt[Ke],he+=mt&15,mt>>>=4;var vt=mt<4?0:mt-2>>1,Ot=Z[mt];for(vt>0&&(Ot+=at(re,he,vt),he+=vt),!ye&&Ve<Ft&&(be=Be(be,Ft+100),Ve=be.length);_e<Ft;)be[_e]=be[_e-Ot],++_e}}}return ye?[be,he+7>>>3]:[be.slice(0,_e),he+7>>>3]}function Ht(re,ye){var he=re.slice(re.l||0),pe=Wr(he,ye);return re.l+=pe[1],pe[0]}function Yr(re,ye){if(re)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function le(re,ye){var he=re;Ka(he,0);var pe=[],be=[],_e={FileIndex:pe,FullPaths:be};S(_e,{root:ye.root});for(var Ve=he.length-4;(he[Ve]!=80||he[Ve+1]!=75||he[Ve+2]!=5||he[Ve+3]!=6)&&Ve>=0;)--Ve;he.l=Ve+4,he.l+=4;var Qe=he.read_shift(2);he.l+=6;var Ue=he.read_shift(4);for(he.l=Ue,Ve=0;Ve<Qe;++Ve){he.l+=20;var qe=he.read_shift(4),Ke=he.read_shift(4),mt=he.read_shift(2),Nt=he.read_shift(2),Ft=he.read_shift(2);he.l+=8;var vt=he.read_shift(4),Ot=l(he.slice(he.l+mt,he.l+mt+Nt));he.l+=mt+Nt+Ft;var nr=he.l;he.l=vt+4,Rt(he,qe,Ke,_e,Ot),he.l=nr}return _e}function Rt(re,ye,he,pe,be){re.l+=2;var _e=re.read_shift(2),Ve=re.read_shift(2),Qe=o(re);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var Ue=re.read_shift(4),qe=re.read_shift(4),Ke=re.read_shift(4),mt=re.read_shift(2),Nt=re.read_shift(2),Ft="",vt=0;vt<mt;++vt)Ft+=String.fromCharCode(re[re.l++]);if(Nt){var Ot=l(re.slice(re.l,re.l+Nt));(Ot[21589]||{}).mt&&(Qe=Ot[21589].mt),((be||{})[21589]||{}).mt&&(Qe=be[21589].mt)}re.l+=Nt;var nr=re.slice(re.l,re.l+qe);switch(Ve){case 8:nr=M(re,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var Kr=!1;_e&8&&(Ue=re.read_shift(4),Ue==134695760&&(Ue=re.read_shift(4),Kr=!0),qe=re.read_shift(4),Ke=re.read_shift(4)),qe!=ye&&Yr(Kr,"Bad compressed size: "+ye+" != "+qe),Ke!=he&&Yr(Kr,"Bad uncompressed size: "+he+" != "+Ke),zr(pe,Ft,nr,{unsafe:!0,mt:Qe})}function kr(re,ye){var he=ye||{},pe=[],be=[],_e=ya(1),Ve=he.compression?8:0,Qe=0,Ue=0,qe=0,Ke=0,mt=0,Nt=re.FullPaths[0],Ft=Nt,vt=re.FileIndex[0],Ot=[],nr=0;for(Ue=1;Ue<re.FullPaths.length;++Ue)if(Ft=re.FullPaths[Ue].slice(Nt.length),vt=re.FileIndex[Ue],!(!vt.size||!vt.content||Ft=="Sh33tJ5")){var Kr=Ke,an=ya(Ft.length);for(qe=0;qe<Ft.length;++qe)an.write_shift(1,Ft.charCodeAt(qe)&127);an=an.slice(0,an.l),Ot[mt]=Mue.buf(vt.content,0);var ia=vt.content;Ve==8&&(ia=K(ia)),_e=ya(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,Qe),_e.write_shift(2,Ve),vt.mt?i(_e,vt.mt):_e.write_shift(4,0),_e.write_shift(-4,Ot[mt]),_e.write_shift(4,ia.length),_e.write_shift(4,vt.content.length),_e.write_shift(2,an.length),_e.write_shift(2,0),Ke+=_e.length,pe.push(_e),Ke+=an.length,pe.push(an),Ke+=ia.length,pe.push(ia),_e=ya(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,Qe),_e.write_shift(2,Ve),_e.write_shift(4,0),_e.write_shift(-4,Ot[mt]),_e.write_shift(4,ia.length),_e.write_shift(4,vt.content.length),_e.write_shift(2,an.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,Kr),nr+=_e.l,be.push(_e),nr+=an.length,be.push(an),++mt}return _e=ya(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,mt),_e.write_shift(2,mt),_e.write_shift(4,nr),_e.write_shift(4,Ke),_e.write_shift(2,0),du([du(pe),du(be),_e])}var ar={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Bt(re,ye){if(re.ctype)return re.ctype;var he=re.name||"",pe=he.match(/\.([^\.]+)$/);return pe&&ar[pe[1]]||ye&&(pe=(he=ye).match(/[\.\\]([^\.\\])+$/),pe&&ar[pe[1]])?ar[pe[1]]:"application/octet-stream"}function Jt(re){for(var ye=K6(re),he=[],pe=0;pe<ye.length;pe+=76)he.push(ye.slice(pe,pe+76));return he.join(`\r
`)+`\r
`}function aa(re){var ye=re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var Ke=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],pe=ye.split(`\r
`),be=0;be<pe.length;++be){var _e=pe[be];if(_e.length==0){he.push("");continue}for(var Ve=0;Ve<_e.length;){var Qe=76,Ue=_e.slice(Ve,Ve+Qe);Ue.charAt(Qe-1)=="="?Qe--:Ue.charAt(Qe-2)=="="?Qe-=2:Ue.charAt(Qe-3)=="="&&(Qe-=3),Ue=_e.slice(Ve,Ve+Qe),Ve+=Qe,Ve<_e.length&&(Ue+="="),he.push(Ue)}}return he.join(`\r
`)}function nn(re){for(var ye=[],he=0;he<re.length;++he){for(var pe=re[he];he<=re.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+re[++he];ye.push(pe)}for(var be=0;be<ye.length;++be)ye[be]=ye[be].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return Mo(ye.join(`\r
`))}function Je(re,ye,he){for(var pe="",be="",_e="",Ve,Qe=0;Qe<10;++Qe){var Ue=ye[Qe];if(!Ue||Ue.match(/^\s*$/))break;var qe=Ue.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":pe=qe[2].trim();break;case"content-type":_e=qe[2].trim();break;case"content-transfer-encoding":be=qe[2].trim();break}}switch(++Qe,be.toLowerCase()){case"base64":Ve=Mo(Fs(ye.slice(Qe).join("")));break;case"quoted-printable":Ve=nn(ye.slice(Qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var Ke=zr(re,pe.slice(he.length),Ve,{unsafe:!0});_e&&(Ke.ctype=_e)}function kt(re,ye){if(F(re.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=ye&&ye.root||"",pe=(Pr&&Buffer.isBuffer(re)?re.toString("binary"):F(re)).split(`\r
`),be=0,_e="";for(be=0;be<pe.length;++be)if(_e=pe[be],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),he||(he=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),_e.slice(0,he.length)!=he););var Ve=(pe[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var Qe="--"+(Ve[1]||""),Ue=[],qe=[],Ke={FileIndex:Ue,FullPaths:qe};S(Ke);var mt,Nt=0;for(be=0;be<pe.length;++be){var Ft=pe[be];Ft!==Qe&&Ft!==Qe+"--"||(Nt++&&Je(Ke,pe.slice(mt,be),he),mt=be)}return Ke}function xt(re,ye){var he=ye||{},pe=he.boundary||"SheetJS";pe="------="+pe;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],_e=re.FullPaths[0],Ve=_e,Qe=re.FileIndex[0],Ue=1;Ue<re.FullPaths.length;++Ue)if(Ve=re.FullPaths[Ue].slice(_e.length),Qe=re.FileIndex[Ue],!(!Qe.size||!Qe.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(nr){return"_x"+nr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(nr){return"_u"+nr.charCodeAt(0).toString(16)+"_"});for(var qe=Qe.content,Ke=Pr&&Buffer.isBuffer(qe)?qe.toString("binary"):F(qe),mt=0,Nt=Math.min(1024,Ke.length),Ft=0,vt=0;vt<=Nt;++vt)(Ft=Ke.charCodeAt(vt))>=32&&Ft<128&&++mt;var Ot=mt>=Nt*4/5;be.push(pe),be.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Ve),be.push("Content-Transfer-Encoding: "+(Ot?"quoted-printable":"base64")),be.push("Content-Type: "+Bt(Qe,Ve)),be.push(""),be.push(Ot?aa(Ke):Jt(Ke))}return be.push(pe+`--\r
`),be.join(`\r
`)}function At(re){var ye={};return S(ye,re),ye}function zr(re,ye,he,pe){var be=pe&&pe.unsafe;be||S(re);var _e=!be&&Dr.find(re,ye);if(!_e){var Ve=re.FullPaths[0];ye.slice(0,Ve.length)==Ve?Ve=ye:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+ye).replace("//","/")),_e={name:a(ye),type:2},re.FileIndex.push(_e),re.FullPaths.push(Ve),be||Dr.utils.cfb_gc(re)}return _e.content=he,_e.size=he?he.length:0,pe&&(pe.CLSID&&(_e.clsid=pe.CLSID),pe.mt&&(_e.mt=pe.mt),pe.ct&&(_e.ct=pe.ct)),_e}function On(re,ye){S(re);var he=Dr.find(re,ye);if(he){for(var pe=0;pe<re.FileIndex.length;++pe)if(re.FileIndex[pe]==he)return re.FileIndex.splice(pe,1),re.FullPaths.splice(pe,1),!0}return!1}function An(re,ye,he){S(re);var pe=Dr.find(re,ye);if(pe){for(var be=0;be<re.FileIndex.length;++be)if(re.FileIndex[be]==pe)return re.FileIndex[be].name=a(he),re.FullPaths[be]=he,!0}return!1}function vn(re){k(re,!0)}return t.find=C,t.read=N,t.parse=d,t.write=H,t.writeFile=G,t.utils={cfb_new:At,cfb_add:zr,cfb_del:On,cfb_mov:An,cfb_gc:vn,ReadShift:rg,CheckField:rV,prep_blob:Ka,bconcat:du,use_zlib:A,_deflateRaw:st,_inflateRaw:Ht,consts:R},t}();function Rue(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Tl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function uE(e){for(var t=[],r=Tl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var P2=new Date(1899,11,30,0,0,0);function $i(e,t){var r=e.getTime();t&&(r-=1462*24*60*60*1e3);var n=P2.getTime()+(e.getTimezoneOffset()-P2.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var DU=new Date,$ue=P2.getTime()+(DU.getTimezoneOffset()-P2.getTimezoneOffset())*6e4,n8=DU.getTimezoneOffset();function Ew(e){var t=new Date;return t.setTime(e*24*60*60*1e3+$ue),t.getTimezoneOffset()!==n8&&t.setTime(t.getTime()+(t.getTimezoneOffset()-n8)*6e4),t}function Bue(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var a8=new Date("2017-02-19T19:06:09.000Z"),LU=isNaN(a8.getFullYear())?new Date("2/19/17"):a8,zue=LU.getFullYear()==2017;function Ma(e,t){var r=new Date(e);if(zue)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(LU.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function cf(e,t){if(Pr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Rm(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Rm(wU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Rm(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Rm(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Qa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Qa(e[r]));return t}function Hn(e,t){for(var r="";r.length<t;)r+=e;return r}function Wo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Uue=["january","february","march","april","may","june","july","august","september","october","november","december"];function b0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&Uue.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Vue=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),o=[i[0]],l=1;l<i.length;++l)o.push(a),o.push(i[l]);return o}}();function IU(e){return e?e.content&&e.type?cf(e.content,!0):e.data?Lm(e.data):e.asNodeBuffer&&Pr?Lm(e.asNodeBuffer().toString("binary")):e.asBinary?Lm(e.asBinary()):e._data&&e._data.getContent?Lm(cf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function MU(e){if(!e)return null;if(e.data)return q6(e.data);if(e.asNodeBuffer&&Pr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?q6(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Hue(e){return e&&e.name.slice(-4)===".bin"?MU(e):IU(e)}function Js(e,t){for(var r=e.FullPaths||Tl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var o=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function dE(e,t){var r=Js(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ua(e,t,r){if(!r)return Hue(dE(e,t));if(!t)return null;try{return ua(e,t)}catch{return null}}function ws(e,t,r){if(!r)return IU(dE(e,t));if(!t)return null;try{return ws(e,t)}catch{return null}}function RU(e,t,r){if(!r)return MU(dE(e,t));if(!t)return null;try{return RU(e,t)}catch{return null}}function i8(e){for(var t=e.FullPaths||Tl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Wue(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Pr?n=wf(r):n=due(r),Dr.utils.cfb_add(e,t,n)}Dr.utils.cfb_add(e,t,r)}else e.file(t,r)}function $U(e,t){switch(t.type){case"base64":return Dr.read(e,{type:"base64"});case"binary":return Dr.read(e,{type:"binary"});case"buffer":case"array":return Dr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Mm(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var BU=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,que=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,s8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Gue=/<[^>]*>/g,Ai=BU.match(s8)?s8:Gue,Kue=/<\w*:/,Yue=/<(\/?)\w+:/;function rr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(que),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(d=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,c=f.slice(i+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,r||(n[d.toLowerCase()]=c);else{var p=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[p]&&d.slice(l-3,l)=="ext")continue;n[p]=c,r||(n[p.toLowerCase()]=c)}}return n}function kl(e){return e.replace(Yue,"<$1")}var zU={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Xue=uE(zU),Br=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(l,c){return zU[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,o)+r(a.slice(o+3))}}(),Jue=/[&<>'"]/g,Que=/[\u0000-\u001f]/g;function fE(e){var t=e+"";return t.replace(Jue,function(r){return Xue[r]}).replace(/\n/g,"<br/>").replace(Que,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var o8=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Cn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function p5(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function l8(e){var t=Bu(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function c8(e){return wf(e,"binary").toString("utf8")}var U1="foo bar baz",gn=Pr&&(c8(U1)==p5(U1)&&c8||l8(U1)==p5(U1)&&l8)||p5,Rm=Pr?function(e){return wf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Yg=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),UU=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Zue=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),ede=/<\/?(?:vt:)?variant>/g,tde=/<(?:vt:)([^>]*)>([\s\S]*)</;function u8(e,t){var r=rr(e),n=e.match(Zue(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var o=i.replace(ede,"").match(tde);o&&a.push({v:gn(o[2]),t:o[1]})}),a}var rde=/(^\s|\s$|\n)/;function nde(e){return Tl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ade(e,t,r){return"<"+e+(r!=null?nde(r):"")+(t!=null?(t.match(rde)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function hE(e){if(Pr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return gn(_f(oE(e)));throw new Error("Bad input format: expected Buffer or string")}var Xg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ide={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},sde=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function ode(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function lde(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var d8=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},f8=Pr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:wf(t)})):d8(e)}:d8,h8=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(tc(e,a)));return n.join("").replace(Ri,"")},pE=Pr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ri,""):h8(e,t,r)}:h8,p8=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},VU=Pr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):p8(e,t,r)}:p8,m8=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(ph(e,a)));return n.join("")},rx=Pr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):m8(t,r,n)}:m8,HU=function(e,t){var r=bs(e,t);return r>0?rx(e,t+4,t+4+r-1):""},WU=HU,qU=function(e,t){var r=bs(e,t);return r>0?rx(e,t+4,t+4+r-1):""},GU=qU,KU=function(e,t){var r=2*bs(e,t);return r>0?rx(e,t+4,t+4+r-1):""},YU=KU,XU=function(t,r){var n=bs(t,r);return n>0?pE(t,r+4,r+4+n):""},JU=XU,QU=function(e,t){var r=bs(e,t);return r>0?rx(e,t+4,t+4+r):""},ZU=QU,eV=function(e,t){return ode(e,t)},O2=eV,tV=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Pr&&(WU=function(t,r){if(!Buffer.isBuffer(t))return HU(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},GU=function(t,r){if(!Buffer.isBuffer(t))return qU(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},YU=function(t,r){if(!Buffer.isBuffer(t))return KU(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},JU=function(t,r){if(!Buffer.isBuffer(t))return XU(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},ZU=function(t,r){if(!Buffer.isBuffer(t))return QU(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},O2=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):eV(t,r)},tV=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ph=function(e,t){return e[t]},tc=function(e,t){return e[t+1]*256+e[t]},cde=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},bs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Td=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ude=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function rg(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Pr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(tc(this,u)),u+=2;e*=2;break;case"utf8":r=rx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=pE(this,this.l,this.l+e);break;case"wstr":return rg.call(this,e,"dbcs");case"lpstr-ansi":r=WU(this,this.l),e=4+bs(this,this.l);break;case"lpstr-cp":r=GU(this,this.l),e=4+bs(this,this.l);break;case"lpwstr":r=YU(this,this.l),e=4+2*bs(this,this.l);break;case"lpp4":e=4+bs(this,this.l),r=JU(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+bs(this,this.l),r=ZU(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=ph(this,this.l+e++))!==0;)i.push(z1(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=tc(this,this.l+e))!==0;)i.push(z1(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ph(this,u),this.l=u+1,l=rg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(z1(tc(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ph(this,u),this.l=u+1,l=rg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(z1(ph(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=ph(this,this.l),this.l++,n;case 2:return n=(t==="i"?cde:tc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Td:ude)(this,this.l),this.l+=4,n):(a=bs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=O2(this,this.l):a=O2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=VU(this,this.l,e);break}}return this.l+=e,r}var dde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},fde=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},hde=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function pde(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)hde(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,dde(this,t,this.l);break;case 8:if(n=8,r==="f"){lde(this,t,this.l);break}case 16:break;case-4:n=4,fde(this,t,this.l);break}return this.l+=n,this}function rV(e,t){var r=VU(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ka(e,t){e.l=t,e.read_shift=rg,e.chk=rV,e.write_shift=pde}function Ni(e,t){e.l+=t}function ya(e){var t=Bu(e);return Ka(t,0),t}function Cc(e,t,r){if(e){var n,a,i;Ka(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=R2[l]||R2[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;c=e.l+i;var d=u.f&&u.f(e,i,r);if(e.l=c,t(d,u,l))return}}}function e4(){var e=[],t=Pr?256:2048,r=function(u){var d=ya(u);return Ka(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),du(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function ng(e,t,r){var n=Qa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function g8(e,t,r){var n=Qa(e);return n.s=ng(n.s,t.s,r),n.e=ng(n.e,t.s,r),n}function ag(e,t){if(e.cRel&&e.c<0)for(e=Qa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Qa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=dr(e);return!e.cRel&&e.cRel!=null&&(r=vde(r)),!e.rRel&&e.rRel!=null&&(r=mde(r)),r}function m5(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ja(e.s.c)+":"+(e.e.cRel?"":"$")+ja(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Za(e.s.r)+":"+(e.e.rRel?"":"$")+Za(e.e.r):ag(e.s,t.biff)+":"+ag(e.e,t.biff)}function mE(e){return parseInt(gde(e),10)-1}function Za(e){return""+(e+1)}function mde(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function gde(e){return e.replace(/\$(\d+)$/,"$1")}function gE(e){for(var t=xde(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ja(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function vde(e){return e.replace(/^([A-Z])/,"$$$1")}function xde(e){return e.replace(/^\$([A-Z])/,"$1")}function yde(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Li(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function dr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ap(e){var t=e.indexOf(":");return t==-1?{s:Li(e),e:Li(e)}:{s:Li(e.slice(0,t)),e:Li(e.slice(t+1))}}function Lr(e,t){return typeof t>"u"||typeof t=="number"?Lr(e.s,e.e):(typeof e!="string"&&(e=dr(e)),typeof t!="string"&&(t=dr(t)),e==t?e:e+":"+t)}function Gn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function v8(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=oo(e.z,r?$i(t):t)}catch{}try{return e.w=oo((e.XF||{}).numFmtId||(r?14:0),r?$i(t):t)}catch{return""+t}}function jc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Nf[e.v]||e.v:t==null?v8(e,e.v):v8(e,t))}function Xu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function nV(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Li(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Gn(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},v=o+f,m=l+h;if(u.s.r>v&&(u.s.r=v),u.s.c>m&&(u.s.c=m),u.e.r<v&&(u.e.r=v),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||gr[14],n.cellDates?(p.t="d",p.w=oo(p.z,$i(p.v))):(p.t="n",p.v=$i(p.v),p.w=oo(p.z,p.v))):p.t="s";if(a)i[v]||(i[v]=[]),i[v][m]&&i[v][m].z&&(p.z=i[v][m].z),i[v][m]=p;else{var x=dr({c:m,r:v});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return u.s.c<1e7&&(i["!ref"]=Lr(u)),i}function ip(e,t){return nV(null,e,t)}function bde(e){return e.read_shift(4,"i")}function _i(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function wde(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function vE(e,t){var r=e.l,n=e.read_shift(1),a=_i(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(wde(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var _de=vE;function co(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function jf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var jde=_i;function xE(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Sde=_i,t4=xE;function yE(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?O2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Td(t,0)>>2;return r?a/100:a}function aV(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Sf=aV;function gi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Nde(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Hd[a];u&&(t.rgb=Qg(u));break;case 2:t.rgb=Qg([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Ade(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function iV(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Tde(e){return iV(e,1)}function Cde(e){return iV(e,2)}var bE=2,Xi=3,V1=11,x8=12,F2=19,H1=64,Ede=65,kde=71,Pde=4108,Ode=4126,Oa=80,sV=81,Fde=[Oa,sV],Dde={1:{n:"CodePage",t:bE},2:{n:"Category",t:Oa},3:{n:"PresentationFormat",t:Oa},4:{n:"ByteCount",t:Xi},5:{n:"LineCount",t:Xi},6:{n:"ParagraphCount",t:Xi},7:{n:"SlideCount",t:Xi},8:{n:"NoteCount",t:Xi},9:{n:"HiddenCount",t:Xi},10:{n:"MultimediaClipCount",t:Xi},11:{n:"ScaleCrop",t:V1},12:{n:"HeadingPairs",t:Pde},13:{n:"TitlesOfParts",t:Ode},14:{n:"Manager",t:Oa},15:{n:"Company",t:Oa},16:{n:"LinksUpToDate",t:V1},17:{n:"CharacterCount",t:Xi},19:{n:"SharedDoc",t:V1},22:{n:"HyperlinksChanged",t:V1},23:{n:"AppVersion",t:Xi,p:"version"},24:{n:"DigSig",t:Ede},26:{n:"ContentType",t:Oa},27:{n:"ContentStatus",t:Oa},28:{n:"Language",t:Oa},29:{n:"Version",t:Oa},255:{},2147483648:{n:"Locale",t:F2},2147483651:{n:"Behavior",t:F2},1919054434:{}},Lde={1:{n:"CodePage",t:bE},2:{n:"Title",t:Oa},3:{n:"Subject",t:Oa},4:{n:"Author",t:Oa},5:{n:"Keywords",t:Oa},6:{n:"Comments",t:Oa},7:{n:"Template",t:Oa},8:{n:"LastAuthor",t:Oa},9:{n:"RevNumber",t:Oa},10:{n:"EditTime",t:H1},11:{n:"LastPrinted",t:H1},12:{n:"CreatedDate",t:H1},13:{n:"ModifiedDate",t:H1},14:{n:"PageCount",t:Xi},15:{n:"WordCount",t:Xi},16:{n:"CharCount",t:Xi},17:{n:"Thumbnail",t:kde},18:{n:"Application",t:Oa},19:{n:"DocSecurity",t:Xi},255:{},2147483648:{n:"Locale",t:F2},2147483651:{n:"Behavior",t:F2},1919054434:{}},y8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Ide=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Mde(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Rde=Mde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Hd=Qa(Rde),Nf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},oV={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},b8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function $de(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Bde(e){var t=$de();if(!e||!e.match)return t;var r={};if((e.match(Ai)||[]).forEach(function(n){var a=rr(n);switch(a[0].replace(Kue,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[b8[a.ContentType]]!==void 0&&t[b8[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ide.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Dh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function r4(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ig(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ai)||[]).forEach(function(a){var i=rr(a);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:Mm(i.Target,t);r[l]=o,n[i.Id]=o}}),r["!id"]=n,r}var zde="application/vnd.oasis.opendocument.spreadsheet";function Ude(e,t){for(var r=hE(e),n,a;n=Xg.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=rr(n[0],!1),a.path=="/"&&a.type!==zde)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var sg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Vde=function(){for(var e=new Array(sg.length),t=0;t<sg.length;++t){var r=sg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function lV(e){var t={};e=gn(e);for(var r=0;r<sg.length;++r){var n=sg[r],a=e.match(Vde[r]);a!=null&&a.length>0&&(t[n[1]]=Br(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ma(t[n[1]]))}return t}var Hde=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function cV(e,t,r,n){var a=[];if(typeof e=="string")a=u8(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(d){return{v:d}}));var o=typeof t=="string"?u8(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function Wde(e,t,r){var n={};return t||(t={}),e=gn(e),Hde.forEach(function(a){var i=(e.match(Yg(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Br(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&cV(n.HeadingPairs,n.TitlesOfParts,t,r),t}var qde=/<[^>]+>[^<]*/g;function Gde(e,t){var r={},n="",a=e.match(qde);if(a)for(var i=0;i!=a.length;++i){var o=a[i],l=rr(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Br(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Br(d);break;case"bool":r[n]=Cn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Ma(d);break;case"cy":case"error":r[n]=Br(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var Kde={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},g5;function Yde(e,t,r){g5||(g5=uE(Kde)),t=g5[t]||t,e[t]=r}function wE(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function uV(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function dV(e,t,r){var n=e.read_shift(0,"lpwstr");return r&&(e.l+=4-(n.length+1&3)&3),n}function fV(e,t,r){return t===31?dV(e):uV(e,t,r)}function n4(e,t,r){return fV(e,t,r===!1?0:4)}function Xde(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return fV(e,t,0)}function Jde(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ri,""),e.l-a&2&&(e.l+=2)}return r}function Qde(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ri,"");return r}function Zde(e){var t=e.l,r=D2(e,sV);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=D2(e,Xi);return[r,n]}function efe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Zde(e));return r}function w8(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),o=e.read_shift(4);n[i]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ri,"").replace(Im,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>2+1<<2),n}function hV(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function tfe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function D2(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==x8&&n!==t&&Fde.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===x8?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return uV(e,n,4).replace(Ri,"");case 31:return dV(e);case 64:return wE(e);case 65:return hV(e);case 71:return tfe(e);case 80:return n4(e,n,!i.raw).replace(Ri,"");case 81:return Xde(e,n).replace(Ri,"");case 4108:return efe(e);case 4126:case 4127:return n==4127?Jde(e):Qde(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function _8(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);i[o]=[d,f+r]}i.sort(function(y,b){return y[1]-b[1]});var h={};for(o=0;o!=a;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&t)switch(t[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!t||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(t){var v=t[i[o][0]];if(h[v.n]=D2(e,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Bo(l=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(i[o][0]===1){if(l=h.CodePage=D2(e,bE),Bo(l),c!==-1){var m=e.l;e.l=i[c][1],u=w8(e,l),e.l=m}}else if(i[o][0]===0){if(l===0){c=o,e.l=i[o+1][1];continue}u=w8(e,l)}else{var x=u[i[o][0]],g;switch(e[e.l]){case 65:e.l+=4,g=hV(e);break;case 30:e.l+=4,g=n4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,g=n4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=Jn(e,4);break;case 64:e.l+=4,g=Ma(wE(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[x]=g}}return e.l=r+n,h}function j8(e,t,r){var n=e.content;if(!n)return{};Ka(n,0);var a,i,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Dr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=_8(n,t),h={SystemIdentifier:u};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var v;try{v=_8(n,null)}catch{}for(p in v)h[p]=v[p];return h.FMTID=[i,o],h}function Jc(e,t){return e.read_shift(t),null}function rfe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Jn(e,t){return e.read_shift(t)===1}function da(e){return e.read_shift(2,"u")}function pV(e,t){return rfe(e,t,da)}function nfe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function nx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function afe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function uf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ax(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):uf(e,n,r)}function Af(e,t,r){if(r.biff>5)return ax(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function ife(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function sfe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ri,"");return n&&(e.l+=24),a}function ofe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(Ri,"");return r+o}function lfe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return sfe(e);case"0303000000000000c000000000000046":return ofe(e);default:throw new Error("Unsupported Moniker "+r)}}function W1(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ri,""):"";return r}function cfe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,o,l,c,u="",d,f;a&16&&(i=W1(e,r-e.l)),a&128&&(o=W1(e,r-e.l)),(a&257)===257&&(l=W1(e,r-e.l)),(a&257)===1&&(c=lfe(e,r-e.l)),a&8&&(u=W1(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=wE(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),i&&(p.Tooltip=i),p}function mV(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function gV(e,t){var r=mV(e);return r[3]=0,r}function Pl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function ufe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function dfe(e,t,r){return t===0?"":Af(e,t,r)}function ffe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function vV(e){var t=e.read_shift(2),r=yE(e);return[t,r]}function hfe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=nx(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function kw(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function xV(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var pfe=xV;function yV(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function mfe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function gfe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ii(e){e.l+=2,e.l+=e.read_shift(2)}var vfe={0:ii,4:ii,5:ii,6:ii,7:gfe,8:ii,9:ii,10:ii,11:ii,12:ii,13:mfe,14:ii,15:ii,16:ii,17:ii,18:ii,19:ii,20:ii,21:yV};function xfe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(vfe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function q1(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function yfe(e,t){return t===0||e.read_shift(2),1200}function bfe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Af(e,0,r);return e.read_shift(t+n-e.l),a}function wfe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function _fe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=nx(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:i,name:o}}function jfe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],o=0;o!=a&&e.l<r;++o)i.push(afe(e));return i.Count=n,i.Unique=a,i}function Sfe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Nfe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Afe(e){var t=ufe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Tfe(e){return e.read_shift(2),e.read_shift(4)}function S8(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Cfe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function Efe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function kfe(){}function Pfe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=nx(e,0,r),n}function Ofe(e){var t=Pl(e);return t.isst=e.read_shift(4),t}function Ffe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Pl(e);r.biff==2&&e.l++;var i=ax(e,n-e.l,r);return a.val=i,a}function Dfe(e,t,r){var n=e.read_shift(2),a=Af(e,0,r);return[n,a]}var Lfe=Af;function N8(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:i,c:l},e:{r:o,c}}}function Ife(e){var t=e.read_shift(2),r=e.read_shift(2),n=vV(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Mfe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(vV(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:i}}function Rfe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:i}}function $fe(e,t,r,n){var a={},i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=Ide[l>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function Bfe(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=$fe(e,t,n.fStyle,r),n}function zfe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function A8(e,t,r){var n=Pl(e);(r.biff==2||t==9)&&++e.l;var a=nfe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Ufe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Pl(e),a=gi(e);return n.val=a,n}var T8=dfe;function Vfe(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=uf(e,i),l=[];n>e.l;)l.push(ax(e));return[i,a,o,l]}function C8(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=hfe(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Hfe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function E8(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=uf(e,o,r);a&32&&(u=Hfe[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:Nme(e,d,r,l);return{chKey:i,Name:u,itab:c,rgce:f}}function bV(e,t,r){if(r.biff<8)return Wfe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(ffe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Wfe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=nx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function qfe(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=uf(e,n,r),o=uf(e,a,r);return[i,o]}function Gfe(e,t,r){var n=xV(e);e.l++;var a=e.read_shift(1);return t-=8,[Ame(e,t,r),a,n]}function k8(e,t,r){var n=pfe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,jme(e,t,r)]}function Kfe(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Yfe(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=Af(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,i]}}function Xfe(e,t,r){return Yfe(e,t,r)}function Jfe(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(kw(e));return r}function Qfe(e,t,r){if(r&&r.biff<8)return ehe(e,t,r);var n=yV(e),a=xfe(e,t-22,n[1]);return{cmo:n,ft:a}}var Zfe={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function ehe(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((Zfe[n]||Ni)(e,t,r)),{cmo:[a,n,i],ft:o}}function the(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=ife(e,6,r);var l=e.read_shift(2);e.read_shift(2),da(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=uf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function rhe(e,t){var r=kw(e);e.l+=16;var n=cfe(e,t-24);return[r,n]}function nhe(e,t){e.read_shift(2);var r=kw(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ri,""),[r,n]}function ahe(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=y8[r]||r,r=e.read_shift(2),t[1]=y8[r]||r,t}function ihe(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(gV(e));return r}function she(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(gV(e));return r}function ohe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function wV(e,t,r){if(!r.cellStyles)return Ni(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function lhe(e,t){var r={};return t<32||(e.l+=16,r.header=gi(e),r.footer=gi(e),e.l+=2),r}function che(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var uhe=Pl,dhe=pV,fhe=ax;function hhe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function phe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Pl(e);++e.l;var a=Af(e,t-7,r);return n.t="str",n.val=a,n}function mhe(e){var t=Pl(e);++e.l;var r=gi(e);return t.t="n",t.val=r,t}function ghe(e){var t=Pl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function vhe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function xhe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function yhe(e,t,r){var n=e.l+t,a=Pl(e),i=e.read_shift(2),o=uf(e,i,r);return e.l=n,a.t="str",a.val=o,a}var bhe=[2,3,48,49,131,139,140,245],P8=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=uE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Bu(1);switch(c.type){case"base64":d=Mo(Fs(l));break;case"binary":d=Mo(l);break;case"buffer":case"array":d=l;break}Ka(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,x=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(x=d.read_shift(2));var g=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var b=[],j={},_=Math.min(d.length,f==2?521:x-10-(p?264:0)),N=v?32:11;d.l<_&&d[d.l]!=13;)switch(j={},j.name=uu.utils.decode(y,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,j.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(j.offset=d.read_shift(4)),j.len=d.read_shift(1),f==2&&(j.offset=d.read_shift(2)),j.dec=d.read_shift(1),j.name.length&&b.push(j),f!=2&&(d.l+=v?13:14),j.type){case"B":(!p||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var S=0,T=0;for(u[0]=[],T=0;T!=b.length;++T)u[0][T]=b[T].name;for(;m-- >0;){if(d[d.l]===42){d.l+=g;continue}for(++d.l,u[++S]=[],T=0,T=0;T!=b.length;++T){var k=d.slice(d.l,d.l+b[T].len);d.l+=b[T].len,Ka(k,0);var V=uu.utils.decode(y,k);switch(b[T].type){case"C":V.trim().length&&(u[S][T]=V.replace(/\s+$/,""));break;case"D":V.length===8?u[S][T]=new Date(+V.slice(0,4),+V.slice(4,6)-1,+V.slice(6,8)):u[S][T]=V;break;case"F":u[S][T]=parseFloat(V.trim());break;case"+":case"I":u[S][T]=v?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(V.trim().toUpperCase()){case"Y":case"T":u[S][T]=!0;break;case"N":case"F":u[S][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+V+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][T]="##MEMO##"+(v?parseInt(V.trim(),10):k.read_shift(4));break;case"N":V=V.replace(/\u0000/g,"").trim(),V&&V!="."&&(u[S][T]=+V||0);break;case"@":u[S][T]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":u[S][T]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":u[S][T]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][T]=-k.read_shift(-8,"f");break;case"B":if(p&&b[T].len==8){u[S][T]=k.read_shift(8,"f");break}case"G":case"P":k.l+=b[T].len;break;case"0":if(b[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[T].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=ip(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Xu(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&Bo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=e4(),f=u4(l,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),v=l["!cols"]||[],m=0,x=0,g=0,y=1;for(m=0;m<h.length;++m){if(((v[m]||{}).DBF||{}).name){h[m]=v[m].DBF.name,++g;continue}if(h[m]!=null){if(++g,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(x=0;x<1024;++x)if(h.indexOf(h[m]+"_"+x)==-1){h[m]+="_"+x;break}}}}var b=Gn(l["!ref"]),j=[],_=[],N=[];for(m=0;m<=b.e.c-b.s.c;++m){var S="",T="",k=0,V=[];for(x=0;x<p.length;++x)p[x][m]!=null&&V.push(p[x][m]);if(V.length==0||h[m]==null){j[m]="?";continue}for(x=0;x<V.length;++x){switch(typeof V[x]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=V[x]instanceof Date?"D":"C";break;default:T="C"}k=Math.max(k,String(V[x]).length),S=S&&S!=T?"C":T}k>250&&(k=250),T=((v[m]||{}).DBF||{}).type,T=="C"&&v[m].DBF.len>k&&(k=v[m].DBF.len),S=="B"&&T=="N"&&(S="N",N[m]=v[m].DBF.dec,k=v[m].DBF.len),_[m]=S=="C"||T=="N"?k:i[S]||0,y+=_[m],j[m]=S}var C=d.next(32);for(C.write_shift(4,318902576),C.write_shift(4,p.length),C.write_shift(2,296+32*g),C.write_shift(2,y),m=0;m<4;++m)C.write_shift(4,0);for(C.write_shift(4,0|(+t[yU]||3)<<8),m=0,x=0;m<h.length;++m)if(h[m]!=null){var P=d.next(32),U=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,U,"sbcs"),P.write_shift(1,j[m]=="?"?"C":j[m],"sbcs"),P.write_shift(4,x),P.write_shift(1,_[m]||i[j[m]]||0),P.write_shift(1,N[m]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),x+=_[m]||i[j[m]]||0}var q=d.next(264);for(q.write_shift(4,13),m=0;m<65;++m)q.write_shift(4,0);for(m=0;m<p.length;++m){var z=d.next(y);for(z.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(j[x]){case"L":z.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":z.write_shift(8,p[m][x]||0,"f");break;case"N":var I="0";for(typeof p[m][x]=="number"&&(I=p[m][x].toFixed(N[x]||0)),g=0;g<_[x]-I.length;++g)z.write_shift(1,32);z.write_shift(1,I,"sbcs");break;case"D":p[m][x]?(z.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var R=String(p[m][x]!=null?p[m][x]:"").slice(0,_[x]);for(z.write_shift(1,R,"sbcs"),g=0;g<_[x]-R.length;++g)z.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),whe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Tl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var v=e[p];return typeof v=="number"?G6(v):v},n=function(h,p,v){var m=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return m==59?h:G6(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(Fs(h),p);case"binary":return i(h,p);case"buffer":return i(Pr&&Buffer.isBuffer(h)?h.toString("binary"):_f(h),p);case"array":return i(cf(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var v=h.split(/[\n\r]+/),m=-1,x=-1,g=0,y=0,b=[],j=[],_=null,N={},S=[],T=[],k=[],V=0,C;for(+p.codepage>=0&&Bo(+p.codepage);g!==v.length;++g){V=0;var P=v[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=P.replace(/;;/g,"\0").split(";").map(function(L){return L.replace(/\u0000/g,";")}),q=U[0],z;if(P.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&j.push(P.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,R=!1,G=!1,F=!1,H=-1,J=-1;for(y=1;y<U.length;++y)switch(U[y].charAt(0)){case"A":break;case"X":x=parseInt(U[y].slice(1))-1,R=!0;break;case"Y":for(m=parseInt(U[y].slice(1))-1,R||(x=0),C=b.length;C<=m;++C)b[C]=[];break;case"K":z=U[y].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(Wo(z))?isNaN(b0(z).getDate())||(z=Ma(z)):(z=Wo(z),_!==null&&np(_)&&(z=Ew(z))),I=!0;break;case"E":F=!0;var A=Qh(U[y].slice(1),{r:m,c:x});b[m][x]=[b[m][x],A];break;case"S":G=!0,b[m][x]=[b[m][x],"S5S"];break;case"G":break;case"R":H=parseInt(U[y].slice(1))-1;break;case"C":J=parseInt(U[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}if(I&&(b[m][x]&&b[m][x].length==2?b[m][x][0]=z:b[m][x]=z,_=null),G){if(F)throw new Error("SYLK shared formula cannot have own formula");var M=H>-1&&b[H][J];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");b[m][x][1]=PV(M[1],{r:m-H,c:x-J})}break;case"F":var K=0;for(y=1;y<U.length;++y)switch(U[y].charAt(0)){case"X":x=parseInt(U[y].slice(1))-1,++K;break;case"Y":for(m=parseInt(U[y].slice(1))-1,C=b.length;C<=m;++C)b[C]=[];break;case"M":V=parseInt(U[y].slice(1))/20;break;case"F":break;case"G":break;case"P":_=j[parseInt(U[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=U[y].slice(1).split(" "),C=parseInt(k[0],10);C<=parseInt(k[1],10);++C)V=parseInt(k[2],10),T[C-1]=V===0?{hidden:!0}:{wch:V},w0(T[C-1]);break;case"C":x=parseInt(U[y].slice(1))-1,T[x]||(T[x]={});break;case"R":m=parseInt(U[y].slice(1))-1,S[m]||(S[m]={}),V>0?(S[m].hpt=V,S[m].hpx=Zg(V)):V===0&&(S[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}K<1&&(_=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+P)}}return S.length>0&&(N["!rows"]=S),T.length>0&&(N["!cols"]=T),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,N]}function o(h,p){var v=a(h,p),m=v[0],x=v[1],g=ip(m,p);return Tl(x).forEach(function(y){g[y]=x[y]}),g}function l(h,p){return Xu(o(h,p),p)}function c(h,p,v,m){var x="C;Y"+(v+1)+";X"+(m+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+ope(h.f,{r:v,c:m}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(v,m){var x="F;W"+(m+1)+" "+(m+1)+" ";v.hidden?x+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=I2(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=M2(v.wpx)),typeof v.wch=="number"&&(x+=Math.round(v.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(v,m){var x="F;";v.hidden?x+="M0;":v.hpt?x+="M"+20*v.hpt+";":v.hpx&&(x+="M"+20*CV(v.hpx)+";"),x.length>2&&h.push(x+"R"+(m+1))})}function f(h,p){var v=["ID;PWXL;N;E"],m=[],x=Gn(h["!ref"]),g,y=Array.isArray(h),b=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&u(v,h["!cols"]),h["!rows"]&&d(v,h["!rows"]),v.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var j=x.s.r;j<=x.e.r;++j)for(var _=x.s.c;_<=x.e.c;++_){var N=dr({r:j,c:_});g=y?(h[j]||[])[_]:h[N],!(!g||g.v==null&&(!g.f||g.F))&&m.push(c(g,h,j,_))}return v.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),_he=function(){function e(i,o){switch(o.type){case"base64":return t(Fs(i),o);case"binary":return t(i,o);case"buffer":return t(Pr&&Buffer.isBuffer(i)?i.toString("binary"):_f(i),o);case"array":return t(cf(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),p=h[0],v=h[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(Wo(v))?isNaN(b0(v).getDate())?f[c][u]=v:f[c][u]=Ma(v):f[c][u]=Wo(v),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return ip(e(i,o),o)}function n(i,o){return Xu(r(i,o),o)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Gn(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var m=dr({r:p,c:v});if(f=h?(c[p]||[])[v]:c[m],!f){o(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,x,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=oo(f.z||gr[14],$i(Ma(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var g=`\r
`,y=u.join(g);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),jhe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),v=-1,m=-1,x=0,g=[];x!==p.length;++x){var y=p[x].trim().split(":");if(y[0]==="cell"){var b=Li(y[1]);if(g.length<=b.r)for(v=g.length;v<=b.r;++v)g[v]||(g[v]=[]);switch(v=b.r,m=b.c,y[2]){case"t":g[v][m]=e(y[3]);break;case"v":g[v][m]=+y[3];break;case"vtf":var j=y[y.length-1];case"vtc":switch(y[3]){case"nl":g[v][m]=!!+y[4];break;default:g[v][m]=+y[4];break}y[2]=="vtf"&&(g[v][m]=[g[v][m],j])}}}return h&&h.sheetRows&&(g=g.slice(0,h.sheetRows)),g}function n(f,h){return ip(r(f,h),h)}function a(f,h){return Xu(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],v,m="",x=ap(f["!ref"]),g=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var b=x.s.c;b<=x.e.c;++b)if(m=dr({r:y,c:b}),v=g?(f[y]||[])[b]:f[m],!(!v||v.v==null||v.t==="z")){switch(p=["cell",m,"t"],v.t){case"s":case"str":p.push(t(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=t(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var j=$i(Ma(v.v));p[2]="vtc",p[3]="nd",p[4]=""+j,p[5]=v.w||oo(v.z||gr[14],j);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Jg=function(){function e(d,f,h,p,v){v.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Wo(d))?isNaN(b0(d).getDate())?f[h][p]=d:f[h][p]=Ma(d):f[h][p]=Wo(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var v=d.split(/[\r\n]/),m=v.length-1;m>=0&&v[m].length===0;)--m;for(var x=10,g=0,y=0;y<=m;++y)g=v[y].indexOf(" "),g==-1?g=v[y].length:g++,x=Math.max(x,g);for(y=0;y<=m;++y){p[y]=[];var b=0;for(e(v[y].slice(0,x).trim(),p,y,b,h),b=1;b<=(v[y].length-x)/10+1;++b)e(v[y].slice(x+(b-1)*10,x+b*10).trim(),p,y,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,v=0;p<d.length;++p)(v=d.charCodeAt(p))==34?h=!h:!h&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p]);if(!v.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&v.push([f[p],p])}return v.sort(function(m,x){return m[0]-x[0]||n[m[1]]-n[x[1]]}),r[v.pop()[1]]||44}function i(d,f){var h=f||{},p="",v=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,g=0,y=0,b=0,j=0,_=p.charCodeAt(0),N=!1,S=0,T=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=h.dateNF!=null?Lue(h.dateNF):null;function V(){var C=d.slice(b,j),P={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)P.t="z";else if(h.raw)P.t="s",P.v=C;else if(C.trim().length===0)P.t="s",P.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(P.t="s",P.v=C.slice(2,-1).replace(/""/g,'"')):cpe(C)?(P.t="n",P.f=C.slice(1)):(P.t="s",P.v=C);else if(C=="TRUE")P.t="b",P.v=!0;else if(C=="FALSE")P.t="b",P.v=!1;else if(!isNaN(y=Wo(C)))P.t="n",h.cellText!==!1&&(P.w=C),P.v=y;else if(!isNaN(b0(C).getDate())||k&&C.match(k)){P.z=h.dateNF||gr[14];var U=0;k&&C.match(k)&&(C=Iue(C,h.dateNF,C.match(k)||[]),U=1),h.cellDates?(P.t="d",P.v=Ma(C,U)):(P.t="n",P.v=$i(Ma(C,U))),h.cellText!==!1&&(P.w=oo(P.z,P.v instanceof Date?$i(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=C;if(P.t=="z"||(h.dense?(v[x]||(v[x]=[]),v[x][g]=P):v[dr({c:g,r:x})]=P),b=j+1,T=d.charCodeAt(b),m.e.c<g&&(m.e.c=g),m.e.r<x&&(m.e.r=x),S==_)++g;else if(g=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;j<d.length;++j)switch(S=d.charCodeAt(j)){case 34:T===34&&(N=!N);break;case _:case 10:case 13:if(!N&&V())break e;break}return j-b>0&&V(),v["!ref"]=Lr(m),v}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):ip(t(d,f),f)}function l(d,f){var h="",p=f.type=="string"?[0,0,0,0]:EE(d,f);switch(f.type){case"base64":h=Fs(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof uu<"u"?h=uu.utils.decode(f.codepage,d):h=Pr&&Buffer.isBuffer(d)?d.toString("binary"):_f(d);break;case"array":h=cf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=gn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=gn(h):f.type=="binary"&&typeof uu<"u"&&f.codepage&&(h=uu.utils.decode(f.codepage,uu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?jhe.to_sheet(f.type=="string"?h:gn(h),f):o(h,f)}function c(d,f){return Xu(l(d,f),f)}function u(d){for(var f=[],h=Gn(d["!ref"]),p,v=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var x=[],g=h.s.c;g<=h.e.c;++g){var y=dr({r:m,c:g});if(p=v?(d[m]||[])[g]:d[y],!p||p.v==null){x.push("          ");continue}for(var b=(p.w||(jc(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(g===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function She(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=whe.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Jg.to_workbook(e,t)}}var og=function(){function e(A,M,K){if(A){Ka(A,A.l||0);for(var L=K.Enum||H;A.l<A.length;){var Y=A.read_shift(2),Z=L[Y]||L[65535],se=A.read_shift(2),W=A.l+se,ae=Z.f&&Z.f(A,se,K);if(A.l=W,M(ae,Z,Y))return}}}function t(A,M){switch(M.type){case"base64":return r(Mo(Fs(A)),M);case"binary":return r(Mo(A),M);case"buffer":case"array":return r(A,M)}throw"Unsupported type "+M.type}function r(A,M){if(!A)return A;var K=M||{},L=K.dense?[]:{},Y="Sheet1",Z="",se=0,W={},ae=[],fe=[],Q={s:{r:0,c:0},e:{r:0,c:0}},ke=K.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)K.Enum=H,e(A,function(Re,at,$e){switch($e){case 0:K.vers=Re,Re>=4096&&(K.qpro=!0);break;case 6:Q=Re;break;case 204:Re&&(Z=Re);break;case 222:Z=Re;break;case 15:case 51:K.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:$e==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=K.dateNF||gr[14],K.cellDates&&(Re[1].t="d",Re[1].v=Ew(Re[1].v))),K.qpro&&Re[3]>se&&(L["!ref"]=Lr(Q),W[Y]=L,ae.push(Y),L=K.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},se=Re[3],Y=Z||"Sheet"+(se+1),Z="");var et=K.dense?(L[Re[0].r]||[])[Re[0].c]:L[dr(Re[0])];if(et){et.t=Re[1].t,et.v=Re[1].v,Re[1].z!=null&&(et.z=Re[1].z),Re[1].f!=null&&(et.f=Re[1].f);break}K.dense?(L[Re[0].r]||(L[Re[0].r]=[]),L[Re[0].r][Re[0].c]=Re[1]):L[dr(Re[0])]=Re[1];break}},K);else if(A[2]==26||A[2]==14)K.Enum=J,A[2]==14&&(K.qpro=!0,A.l=0),e(A,function(Re,at,$e){switch($e){case 204:Y=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>se&&(L["!ref"]=Lr(Q),W[Y]=L,ae.push(Y),L=K.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},se=Re[3],Y="Sheet"+(se+1)),ke>0&&Re[0].r>=ke)break;K.dense?(L[Re[0].r]||(L[Re[0].r]=[]),L[Re[0].r][Re[0].c]=Re[1]):L[dr(Re[0])]=Re[1],Q.e.c<Re[0].c&&(Q.e.c=Re[0].c),Q.e.r<Re[0].r&&(Q.e.r=Re[0].r);break;case 27:Re[14e3]&&(fe[Re[14e3][0]]=Re[14e3][1]);break;case 1537:fe[Re[0]]=Re[1],Re[0]==se&&(Y=Re[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(L["!ref"]=Lr(Q),W[Z||Y]=L,ae.push(Z||Y),!fe.length)return{SheetNames:ae,Sheets:W};for(var Ie={},Ae=[],ce=0;ce<fe.length;++ce)W[ae[ce]]?(Ae.push(fe[ce]||ae[ce]),Ie[fe[ce]]=W[fe[ce]]||W[ae[ce]]):(Ae.push(fe[ce]),Ie[fe[ce]]={"!ref":"A1"});return{SheetNames:Ae,Sheets:Ie}}function n(A,M){var K=M||{};if(+K.codepage>=0&&Bo(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var L=e4(),Y=Gn(A["!ref"]),Z=Array.isArray(A),se=[];jo(L,0,i(1030)),jo(L,6,c(Y));for(var W=Math.min(Y.e.r,8191),ae=Y.s.r;ae<=W;++ae)for(var fe=Za(ae),Q=Y.s.c;Q<=Y.e.c;++Q){ae===Y.s.r&&(se[Q]=ja(Q));var ke=se[Q]+fe,Ie=Z?(A[ae]||[])[Q]:A[ke];if(!(!Ie||Ie.t=="z"))if(Ie.t=="n")(Ie.v|0)==Ie.v&&Ie.v>=-32768&&Ie.v<=32767?jo(L,13,p(ae,Q,Ie.v)):jo(L,14,m(ae,Q,Ie.v));else{var Ae=jc(Ie);jo(L,15,f(ae,Q,Ae.slice(0,239)))}}return jo(L,1),L.end()}function a(A,M){var K=M||{};if(+K.codepage>=0&&Bo(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var L=e4();jo(L,0,o(A));for(var Y=0,Z=0;Y<A.SheetNames.length;++Y)(A.Sheets[A.SheetNames[Y]]||{})["!ref"]&&jo(L,27,F(A.SheetNames[Y],Z++));var se=0;for(Y=0;Y<A.SheetNames.length;++Y){var W=A.Sheets[A.SheetNames[Y]];if(!(!W||!W["!ref"])){for(var ae=Gn(W["!ref"]),fe=Array.isArray(W),Q=[],ke=Math.min(ae.e.r,8191),Ie=ae.s.r;Ie<=ke;++Ie)for(var Ae=Za(Ie),ce=ae.s.c;ce<=ae.e.c;++ce){Ie===ae.s.r&&(Q[ce]=ja(ce));var Re=Q[ce]+Ae,at=fe?(W[Ie]||[])[ce]:W[Re];if(!(!at||at.t=="z"))if(at.t=="n")jo(L,23,V(Ie,ce,se,at.v));else{var $e=jc(at);jo(L,22,S(Ie,ce,se,$e.slice(0,239)))}}++se}}return jo(L,1),L.end()}function i(A){var M=ya(2);return M.write_shift(2,A),M}function o(A){var M=ya(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var K=0,L=0,Y=0,Z=0;Z<A.SheetNames.length;++Z){var se=A.SheetNames[Z],W=A.Sheets[se];if(!(!W||!W["!ref"])){++Y;var ae=ap(W["!ref"]);K<ae.e.r&&(K=ae.e.r),L<ae.e.c&&(L=ae.e.c)}}return K>8191&&(K=8191),M.write_shift(2,K),M.write_shift(1,Y),M.write_shift(1,L),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function l(A,M,K){var L={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&K.qpro?(L.s.c=A.read_shift(1),A.l++,L.s.r=A.read_shift(2),L.e.c=A.read_shift(1),A.l++,L.e.r=A.read_shift(2),L):(L.s.c=A.read_shift(2),L.s.r=A.read_shift(2),M==12&&K.qpro&&(A.l+=2),L.e.c=A.read_shift(2),L.e.r=A.read_shift(2),M==12&&K.qpro&&(A.l+=2),L.s.c==65535&&(L.s.c=L.e.c=L.s.r=L.e.r=0),L)}function c(A){var M=ya(8);return M.write_shift(2,A.s.c),M.write_shift(2,A.s.r),M.write_shift(2,A.e.c),M.write_shift(2,A.e.r),M}function u(A,M,K){var L=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(L[0].c=A.read_shift(1),L[3]=A.read_shift(1),L[0].r=A.read_shift(2),A.l+=2):(L[2]=A.read_shift(1),L[0].c=A.read_shift(2),L[0].r=A.read_shift(2)),L}function d(A,M,K){var L=A.l+M,Y=u(A,M,K);if(Y[1].t="s",K.vers==20768){A.l++;var Z=A.read_shift(1);return Y[1].v=A.read_shift(Z,"utf8"),Y}return K.qpro&&A.l++,Y[1].v=A.read_shift(L-A.l,"cstr"),Y}function f(A,M,K){var L=ya(7+K.length);L.write_shift(1,255),L.write_shift(2,M),L.write_shift(2,A),L.write_shift(1,39);for(var Y=0;Y<L.length;++Y){var Z=K.charCodeAt(Y);L.write_shift(1,Z>=128?95:Z)}return L.write_shift(1,0),L}function h(A,M,K){var L=u(A,M,K);return L[1].v=A.read_shift(2,"i"),L}function p(A,M,K){var L=ya(7);return L.write_shift(1,255),L.write_shift(2,M),L.write_shift(2,A),L.write_shift(2,K,"i"),L}function v(A,M,K){var L=u(A,M,K);return L[1].v=A.read_shift(8,"f"),L}function m(A,M,K){var L=ya(13);return L.write_shift(1,255),L.write_shift(2,M),L.write_shift(2,A),L.write_shift(8,K,"f"),L}function x(A,M,K){var L=A.l+M,Y=u(A,M,K);if(Y[1].v=A.read_shift(8,"f"),K.qpro)A.l=L;else{var Z=A.read_shift(2);j(A.slice(A.l,A.l+Z),Y),A.l+=Z}return Y}function g(A,M,K){var L=M&32768;return M&=-32769,M=(L?A:0)+(M>=8192?M-16384:M),(L?"":"$")+(K?ja(M):Za(M))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(A,M){Ka(A,0);for(var K=[],L=0,Y="",Z="",se="",W="";A.l<A.length;){var ae=A[A.l++];switch(ae){case 0:K.push(A.read_shift(8,"f"));break;case 1:Z=g(M[0].c,A.read_shift(2),!0),Y=g(M[0].r,A.read_shift(2),!1),K.push(Z+Y);break;case 2:{var fe=g(M[0].c,A.read_shift(2),!0),Q=g(M[0].r,A.read_shift(2),!1);Z=g(M[0].c,A.read_shift(2),!0),Y=g(M[0].r,A.read_shift(2),!1),K.push(fe+Q+":"+Z+Y)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(A.read_shift(2));break;case 6:{for(var ke="";ae=A[A.l++];)ke+=String.fromCharCode(ae);K.push('"'+ke.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:W=K.pop(),se=K.pop(),K.push(["AND","OR"][ae-20]+"("+se+","+W+")");break;default:if(ae<32&&b[ae])W=K.pop(),se=K.pop(),K.push(se+b[ae]+W);else if(y[ae]){if(L=y[ae][1],L==69&&(L=A[A.l++]),L>K.length){console.error("WK1 bad formula parse 0x"+ae.toString(16)+":|"+K.join("|")+"|");return}var Ie=K.slice(-L);K.length-=L,K.push(y[ae][0]+"("+Ie.join(",")+")")}else return ae<=7?console.error("WK1 invalid opcode "+ae.toString(16)):ae<=24?console.error("WK1 unsupported op "+ae.toString(16)):ae<=30?console.error("WK1 invalid opcode "+ae.toString(16)):ae<=115?console.error("WK1 unsupported function opcode "+ae.toString(16)):console.error("WK1 unrecognized opcode "+ae.toString(16))}}K.length==1?M[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function _(A){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=A.read_shift(2),M[3]=A[A.l++],M[0].c=A[A.l++],M}function N(A,M){var K=_(A);return K[1].t="s",K[1].v=A.read_shift(M-4,"cstr"),K}function S(A,M,K,L){var Y=ya(6+L.length);Y.write_shift(2,A),Y.write_shift(1,K),Y.write_shift(1,M),Y.write_shift(1,39);for(var Z=0;Z<L.length;++Z){var se=L.charCodeAt(Z);Y.write_shift(1,se>=128?95:se)}return Y.write_shift(1,0),Y}function T(A,M){var K=_(A);K[1].v=A.read_shift(2);var L=K[1].v>>1;if(K[1].v&1)switch(L&7){case 0:L=(L>>3)*5e3;break;case 1:L=(L>>3)*500;break;case 2:L=(L>>3)/20;break;case 3:L=(L>>3)/200;break;case 4:L=(L>>3)/2e3;break;case 5:L=(L>>3)/2e4;break;case 6:L=(L>>3)/16;break;case 7:L=(L>>3)/64;break}return K[1].v=L,K}function k(A,M){var K=_(A),L=A.read_shift(4),Y=A.read_shift(4),Z=A.read_shift(2);if(Z==65535)return L===0&&Y===3221225472?(K[1].t="e",K[1].v=15):L===0&&Y===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var se=Z&32768;return Z=(Z&32767)-16446,K[1].v=(1-se*2)*(Y*Math.pow(2,Z+32)+L*Math.pow(2,Z)),K}function V(A,M,K,L){var Y=ya(14);if(Y.write_shift(2,A),Y.write_shift(1,K),Y.write_shift(1,M),L==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var Z=0,se=0,W=0,ae=0;return L<0&&(Z=1,L=-L),se=Math.log2(L)|0,L/=Math.pow(2,se-31),ae=L>>>0,ae&2147483648||(L/=2,++se,ae=L>>>0),L-=ae,ae|=2147483648,ae>>>=0,L*=Math.pow(2,32),W=L>>>0,Y.write_shift(4,W),Y.write_shift(4,ae),se+=16383+(Z?32768:0),Y.write_shift(2,se),Y}function C(A,M){var K=k(A);return A.l+=M-14,K}function P(A,M){var K=_(A),L=A.read_shift(4);return K[1].v=L>>6,K}function U(A,M){var K=_(A),L=A.read_shift(8,"f");return K[1].v=L,K}function q(A,M){var K=U(A);return A.l+=M-10,K}function z(A,M){return A[A.l+M-1]==0?A.read_shift(M,"cstr"):""}function I(A,M){var K=A[A.l++];K>M-1&&(K=M-1);for(var L="";L.length<K;)L+=String.fromCharCode(A[A.l++]);return L}function R(A,M,K){if(!(!K.qpro||M<21)){var L=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var Y=A.read_shift(M-21,"cstr");return[L,Y]}}function G(A,M){for(var K={},L=A.l+M;A.l<L;){var Y=A.read_shift(2);if(Y==14e3){for(K[Y]=[0,""],K[Y][0]=A.read_shift(2);A[A.l];)K[Y][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return K}function F(A,M){var K=ya(5+A.length);K.write_shift(2,14e3),K.write_shift(2,M);for(var L=0;L<A.length;++L){var Y=A.charCodeAt(L);K[K.l++]=Y>127?95:Y}return K[K.l++]=0,K}var H={0:{n:"BOF",f:da},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:R},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Nhe(e){var t={},r=e.match(Ai),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=rr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=iE[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var Ahe=function(){var e=Yg("t"),t=Yg("rPr");function r(i){var o=i.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:Br(o[1])},c=i.match(t);return c&&(l.s=Nhe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),The=function(){var t=/(\r\n|\n)/g;function r(a,i,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),a.b&&(i.push("<b>"),o.push("</b>")),a.i&&(i.push("<i>"),o.push("</i>")),a.strike&&(i.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),Che=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Ehe=/<(?:\w+:)?r>/,khe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function _E(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Br(gn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=gn(e),r&&(n.h=fE(n.t))):e.match(Ehe)&&(n.r=gn(e),n.t=Br(gn((e.replace(khe,"").match(Che)||[]).join("").replace(Ai,""))),r&&(n.h=The(Ahe(n.r)))),n):{t:""}}var Phe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Ohe=/<(?:\w+:)?(?:si|sstItem)>/g,Fhe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Dhe(e,t){var r=[],n="";if(!e)return r;var a=e.match(Phe);if(a){n=a[2].replace(Ohe,"").split(Fhe);for(var i=0;i!=n.length;++i){var o=_E(n[i].trim(),t);o!=null&&(r[r.length]=o)}a=rr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Lhe(e){return[e.read_shift(4),e.read_shift(4)]}function Ihe(e,t){var r=[],n=!1;return Cc(e,function(i,o,l){switch(l){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function _V(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function uc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Mhe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=uc(e,4),t.U=uc(e,4),t.W=uc(e,4),t}function Rhe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function $he(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Rhe(e));return t}function Bhe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function zhe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=uc(e,4),t.U=uc(e,4),t.W=uc(e,4),t}function Uhe(e){var t=zhe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function jV(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function SV(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Vhe(e){var t=uc(e);switch(t.Minor){case 2:return[t.Minor,Hhe(e)];case 3:return[t.Minor,Whe()];case 4:return[t.Minor,qhe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Hhe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=jV(e,r),a=SV(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Whe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function qhe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ai,function(i){var o=rr(i);switch(kl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function Ghe(e,t){var r={},n=r.EncryptionVersionInfo=uc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=jV(e,a),t-=a,r.EncryptionVerifier=SV(e,t),r}function Khe(e){var t={},r=t.EncryptionVersionInfo=uc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Yhe(e){var t=0,r,n=_V(e),a=n.length+1,i,o,l,c,u;for(r=Bu(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var NV=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},i=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=_V(o),c=i(l),u=l.length,d=Bu(16),f=0;f!=16;++f)d[f]=0;var h,p,v;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,p=l[l.length-1],d[u]=a(p,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,v=15-l.length;v>0;)h=c>>8,d[u]=a(e[v],h),--u,--v,h=c&255,d[u]=a(l[u],h),--u,--v;return d}}(),Xhe=function(e,t,r,n,a){a||(a=t),n||(n=NV(e));var i,o;for(i=0;i!=t.length;++i)o=t[i],o^=n[r],o=(o>>5|o<<3)&255,a[i]=o,++r;return[a,r,n]},Jhe=function(e){var t=0,r=NV(e);return function(n){var a=Xhe("",n,t,r);return t=a[1],a[0]}};function Qhe(e,t,r,n){var a={key:da(e),verificationBytes:da(e)};return r.password&&(a.verifier=Yhe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Jhe(r.password)),a}function Zhe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Khe(e):n.Data=Ghe(e,t),n}function e0e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Zhe(e,t-2,n):Qhe(e,r.biff>=8?t:t-2,r,n),n}var t0e=function(){function e(a,i){switch(i.type){case"base64":return t(Fs(a),i);case"binary":return t(a,i);case"buffer":return t(Pr&&Buffer.isBuffer(a)?a.toString("binary"):_f(a),i);case"array":return t(cf(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,p=0,v,m=-1;v=h.exec(d);){switch(v[0]){case"\\cell":var x=d.slice(p,h.lastIndex-v[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var g={v:x,t:"s"};Array.isArray(l)?l[f][m]=g:l[dr({r:f,c:m})]=g}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=Lr(u),l}function r(a,i){return Xu(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Gn(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=dr({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(jc(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function r0e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Qg(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function n0e(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),o=a-i;if(o===0)return[0,0,t];var l=0,c=0,u=a+i;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function a0e(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,o=[i,i,i],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function L2(e,t){if(t===0)return e;var r=n0e(r0e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Qg(a0e(r))}var AV=6,i0e=15,s0e=1,Di=AV;function I2(e){return Math.floor((e+Math.round(128/Di)/256)*Di)}function M2(e){return Math.floor((e-5)/Di*100+.5)/100}function a4(e){return Math.round((e*Di+5)/Di*256)/256}function v5(e){return a4(M2(I2(e)))}function jE(e){var t=Math.abs(e-v5(e)),r=Di;if(t>.005)for(Di=s0e;Di<i0e;++Di)Math.abs(e-v5(e))<=t&&(t=Math.abs(e-v5(e)),r=Di);Di=r}function w0(e){e.width?(e.wpx=I2(e.width),e.wch=M2(e.wpx),e.MDW=Di):e.wpx?(e.wch=M2(e.wpx),e.width=a4(e.wch),e.MDW=Di):typeof e.wch=="number"&&(e.width=a4(e.wch),e.wpx=I2(e.width),e.MDW=Di),e.customWidth&&delete e.customWidth}var o0e=96,TV=o0e;function CV(e){return e*96/TV}function Zg(e){return e*TV/96}var l0e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function c0e(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ai)||[]).forEach(function(o){var l=rr(o);switch(kl(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Cn(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Cn(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function u0e(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ai)||[]).forEach(function(o){var l=rr(o);switch(kl(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function d0e(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ai)||[]).forEach(function(o){var l=rr(o);switch(kl(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=gn(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Cn(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Cn(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Cn(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Cn(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Cn(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Cn(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Cn(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=iE[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Cn(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Hd[a.color.index];a.color.index==81&&(c=Hd[1]),c||(c=Hd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=L2(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function f0e(e,t,r){t.NumberFmt=[];for(var n=Tl(gr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=gr[n[a]];var i=e[0].match(Ai);if(i)for(a=0;a<i.length;++a){var o=rr(i[a]);switch(kl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Br(gn(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Vd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var G1=["numFmtId","fillId","fontId","borderId","xfId"],K1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function h0e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ai)||[]).forEach(function(i){var o=rr(i),l=0;switch(kl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<G1.length;++l)n[G1[l]]&&(n[G1[l]]=parseInt(n[G1[l]],10));for(l=0;l<K1.length;++l)n[K1[l]]&&(n[K1[l]]=Cn(n[K1[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Cn(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var p0e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&f0e(f,d,u),(f=l.match(a))&&d0e(f,d,c,u),(f=l.match(n))&&u0e(f,d,c,u),(f=l.match(i))&&c0e(f,d,c,u),(f=l.match(r))&&h0e(f,d,u),d}}();function m0e(e,t){var r=e.read_shift(2),n=_i(e);return[r,n]}function g0e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Ade(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Nde(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=_i(e),n}var v0e=Ni;function x0e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var y0e=Ni;function b0e(e,t,r){var n={};n.NumberFmt=[];for(var a in gr)n.NumberFmt[a]=gr[a];n.CellXf=[],n.Fonts=[];var i=[],o=!1;return Cc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Vd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=L2(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(d),o=!0;break;case 38:i.pop(),o=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!o||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var w0e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function _0e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ai)||[]).forEach(function(a){var i=rr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[w0e.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function j0e(){}function S0e(){}var N0e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,A0e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,T0e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function C0e(e,t,r){t.themeElements={};var n;[["clrScheme",N0e,_0e],["fontScheme",A0e,j0e],["fmtScheme",T0e,S0e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var E0e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function EV(e,t){(!e||e.length===0)&&(e=k0e());var r,n={};if(!(r=e.match(E0e)))throw new Error("themeElements not found in theme");return C0e(r[0],n,t),n.raw=e,n}function k0e(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[BU];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function P0e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var o;try{o=$U(i,{type:"array"})}catch{return}var l=ws(o,"theme/theme/theme1.xml",!0);if(l)return EV(l,r)}}function O0e(e){return e.read_shift(4)}function F0e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=D0e(e,4);break;case 2:t.xclrValue=mV(e);break;case 3:t.xclrValue=O0e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function D0e(e,t){return Ni(e,t)}function L0e(e,t){return Ni(e,t)}function I0e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=F0e(e);break;case 6:n[1]=L0e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function M0e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(I0e(e,r-e.l));return{ixfe:n,ext:i}}function R0e(e,t){t.forEach(function(r){switch(r[0]){}})}function $0e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:_i(e)}}function B0e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function z0e(e){return e.l+=4,e.read_shift(4)!=0}function U0e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],o=!1,l=2;return Cc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(d),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function V0e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,o;return e.replace(Ai,function(l){var c=rr(l);switch(kl(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function H0e(e){var t=[];if(!e)return t;var r=1;return(e.match(Ai)||[]).forEach(function(n){var a=rr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function W0e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=dr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function q0e(e,t,r){var n=[];return Cc(e,function(i,o,l){switch(l){case 63:n.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function G0e(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Cc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function K0e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function O8(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(o){var l=Li(o.ref);if(a?(e[l.r]||(e[l.r]=[]),i=e[l.r][l.c]):i=e[o.ref],!i){i={t:"z"},a?e[l.r][l.c]=i:e[o.ref]=i;var c=Gn(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Lr(c);u!==e["!ref"]&&(e["!ref"]=u)}i.c||(i.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}i.c.push(d)})}function Y0e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=rr(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Li(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&_E(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function X0e(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ai,function(l,c){var u=rr(l);switch(kl(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":a.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function J0e(e,t){var r=[],n=!1;return e.replace(Ai,function(i){var o=rr(i);switch(kl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),r}function Q0e(e){var t={};t.iauthor=e.read_shift(4);var r=Sf(e);return t.rfx=r.s,t.ref=dr(r.s),e.l+=16,t}var Z0e=_i;function epe(e,t){var r=[],n=[],a={},i=!1;return Cc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var tpe="application/vnd.ms-office.vbaProject";function rpe(e){var t=Dr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Dr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Dr.write(t)}function npe(){return{"!type":"dialog"}}function ape(){return{"!type":"dialog"}}function ipe(){return{"!type":"macro"}}function spe(){return{"!type":"macro"}}var Qh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+ja(d)+(c?"":"$")+Za(u)}return function(a,i){return t=i,a.replace(e,r)}}(),kV=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ope=function(){return function(t,r){return t.replace(kV,function(n,a,i,o,l,c){var u=gE(o)-(i?0:r.c),d=mE(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function PV(e,t){return e.replace(kV,function(r,n,a,i,o,l){return n+(a=="$"?a+i:ja(gE(i)+t.c))+(o=="$"?o+l:Za(mE(l)+t.r))})}function lpe(e,t,r){var n=ap(t),a=n.s,i=Li(r),o={r:i.r-a.r,c:i.c-a.c};return PV(e,o)}function cpe(e){return e.length!=1}function F8(e){return e.replace(/_xlfn\./g,"")}function ca(e){e.l+=1}function zu(e,t){var r=e.read_shift(t==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function OV(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return FV(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=zu(e,2),l=zu(e,2);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function FV(e){var t=zu(e,2),r=zu(e,2),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function upe(e,t,r){if(r.biff<8)return FV(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=zu(e,2),o=zu(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function DV(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return dpe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=zu(e,2);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function dpe(e){var t=zu(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function fpe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function hpe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ppe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function ppe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function mpe(e,t,r){var n=(e[e.l++]&96)>>5,a=OV(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function gpe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=OV(e,i,r);return[n,a,o]}function vpe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function xpe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function ype(e,t,r){var n=(e[e.l++]&96)>>5,a=upe(e,t-1,r);return[n,a]}function bpe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function D8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function wpe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function _pe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function jpe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Spe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Npe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function LV(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Ape(e){return e.read_shift(2),LV(e)}function Tpe(e){return e.read_shift(2),LV(e)}function Cpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=DV(e,0,r);return[n,a]}function Epe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=hpe(e,0,r);return[n,a]}function kpe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=DV(e,0,r);return[n,a,i]}function Ppe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Ome[a],RV[a],n]}function Ope(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Fpe(e);return[a,(i[0]===0?RV:Pme)[i[1]]]}function Fpe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Dpe(e,t,r){e.l+=r&&r.biff==2?3:4}function Lpe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Ipe(e){return e.l++,Nf[e.read_shift(1)]}function Mpe(e){return e.l++,e.read_shift(2)}function Rpe(e){return e.l++,e.read_shift(1)!==0}function $pe(e){return e.l++,gi(e)}function Bpe(e,t,r){return e.l++,nx(e,t-1,r)}function zpe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Jn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Nf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=gi(e);break;case 2:r[1]=Af(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Upe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Sf:kw)(e));return a}function Vpe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=zpe(e,r.biff);return o}function Hpe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Wpe(e,t,r){if(r.biff==5)return qpe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function qpe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Gpe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Kpe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Ype(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Xpe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Jpe=Ni,Qpe=Ni,Zpe=Ni;function ix(e,t,r){return e.l+=2,[fpe(e)]}function SE(e){return e.l+=6,[]}var eme=ix,tme=SE,rme=SE,nme=ix;function IV(e){return e.l+=2,[da(e),e.read_shift(2)&1]}var ame=ix,ime=IV,sme=SE,ome=ix,lme=ix,cme=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ume(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=cme[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function dme(e){return e.l+=2,[e.read_shift(4)]}function fme(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function hme(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function pme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function mme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function gme(e){return e.l+=4,[0,0]}var L8={1:{n:"PtgExp",f:Lpe},2:{n:"PtgTbl",f:Zpe},3:{n:"PtgAdd",f:ca},4:{n:"PtgSub",f:ca},5:{n:"PtgMul",f:ca},6:{n:"PtgDiv",f:ca},7:{n:"PtgPower",f:ca},8:{n:"PtgConcat",f:ca},9:{n:"PtgLt",f:ca},10:{n:"PtgLe",f:ca},11:{n:"PtgEq",f:ca},12:{n:"PtgGe",f:ca},13:{n:"PtgGt",f:ca},14:{n:"PtgNe",f:ca},15:{n:"PtgIsect",f:ca},16:{n:"PtgUnion",f:ca},17:{n:"PtgRange",f:ca},18:{n:"PtgUplus",f:ca},19:{n:"PtgUminus",f:ca},20:{n:"PtgPercent",f:ca},21:{n:"PtgParen",f:ca},22:{n:"PtgMissArg",f:ca},23:{n:"PtgStr",f:Bpe},26:{n:"PtgSheet",f:fme},27:{n:"PtgEndSheet",f:hme},28:{n:"PtgErr",f:Ipe},29:{n:"PtgBool",f:Rpe},30:{n:"PtgInt",f:Mpe},31:{n:"PtgNum",f:$pe},32:{n:"PtgArray",f:bpe},33:{n:"PtgFunc",f:Ppe},34:{n:"PtgFuncVar",f:Ope},35:{n:"PtgName",f:Hpe},36:{n:"PtgRef",f:Cpe},37:{n:"PtgArea",f:mpe},38:{n:"PtgMemArea",f:Gpe},39:{n:"PtgMemErr",f:Jpe},40:{n:"PtgMemNoMem",f:Qpe},41:{n:"PtgMemFunc",f:Kpe},42:{n:"PtgRefErr",f:Ype},43:{n:"PtgAreaErr",f:vpe},44:{n:"PtgRefN",f:Epe},45:{n:"PtgAreaN",f:ype},46:{n:"PtgMemAreaN",f:pme},47:{n:"PtgMemNoMemN",f:mme},57:{n:"PtgNameX",f:Wpe},58:{n:"PtgRef3d",f:kpe},59:{n:"PtgArea3d",f:gpe},60:{n:"PtgRefErr3d",f:Xpe},61:{n:"PtgAreaErr3d",f:xpe},255:{}},vme={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},xme={1:{n:"PtgElfLel",f:IV},2:{n:"PtgElfRw",f:ome},3:{n:"PtgElfCol",f:eme},6:{n:"PtgElfRwV",f:lme},7:{n:"PtgElfColV",f:nme},10:{n:"PtgElfRadical",f:ame},11:{n:"PtgElfRadicalS",f:sme},13:{n:"PtgElfColS",f:tme},15:{n:"PtgElfColSV",f:rme},16:{n:"PtgElfRadicalLel",f:ime},25:{n:"PtgList",f:ume},29:{n:"PtgSxName",f:dme},255:{}},yme={0:{n:"PtgAttrNoop",f:gme},1:{n:"PtgAttrSemi",f:Npe},2:{n:"PtgAttrIf",f:jpe},4:{n:"PtgAttrChoose",f:wpe},8:{n:"PtgAttrGoto",f:_pe},16:{n:"PtgAttrSum",f:Dpe},32:{n:"PtgAttrBaxcel",f:D8},33:{n:"PtgAttrBaxcel",f:D8},64:{n:"PtgAttrSpace",f:Ape},65:{n:"PtgAttrSpaceSemi",f:Tpe},128:{n:"PtgAttrIfError",f:Spe},255:{}};function sx(e,t,r,n){if(n.biff<8)return Ni(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Vpe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Upe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Ni(e,t)),i}function ox(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=L8[i]||L8[vme[i]],(i===24||i===25)&&(a=(i===24?xme:yme)[e[e.l+1]]),!a||!a.f?Ni(e,t):o.push([a.n,a.f(e,t,r)]);return o}function bme(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var wme={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function _me(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function MV(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function I8(e,t,r){var n=MV(e,t,r);return n=="#REF"?n:_me(n,r)}function fi(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,p,v="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",g=0,y=e[0].length;g<y;++g){var b=e[0][g];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=Hn(" ",e[0][m][1][1]);break;case 1:x=Hn("\r",e[0][m][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+x,m=-1}l.push(u+wme[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=ng(b[1][1],o,a),l.push(ag(d,i));break;case"PtgRefN":d=r?ng(b[1][1],r,a):b[1][1],l.push(ag(d,i));break;case"PtgRef3d":f=b[1][1],d=ng(b[1][2],o,a),v=I8(n,f,a),l.push(v+"!"+ag(d,i));break;case"PtgFunc":case"PtgFuncVar":var j=b[1][0],_=b[1][1];j||(j=0),j&=127;var N=j==0?[]:l.slice(-j);l.length-=j,_==="User"&&(_=N.shift()),l.push(_+"("+N.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":p=g8(b[1][1],r?{s:r}:o,a),l.push(m5(p,a));break;case"PtgArea":p=g8(b[1][1],o,a),l.push(m5(p,a));break;case"PtgArea3d":f=b[1][1],p=b[1][2],v=I8(n,f,a),l.push(v+"!"+m5(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],T=S?S.Name:"SH33TJSNAME"+String(h);T&&T.slice(0,6)=="_xlfn."&&!a.xlfn&&(T=T.slice(6)),l.push(T);break;case"PtgNameX":var k=b[1][1];h=b[1][2];var V;if(a.biff<=5)k<0&&(k=-k),n[k]&&(V=n[k][h]);else{var C="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][h]&&n[k][h].itab>0&&(C=n.SheetNames[n[k][h].itab-1]+"!"):C=n.SheetNames[h-1]+"!"),n[k]&&n[k][h])C+=n[k][h].Name;else if(n[0]&&n[0][h])C+=n[0][h].Name;else{var P=(MV(n,k,a)||"").split(";;");P[h-1]?C=P[h-1]:C+="SH33TJSERRX"}l.push(C);break}V||(V={Name:"SH33TJSERRY"}),l.push(V.Name);break;case"PtgParen":var U="(",q=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:U=Hn(" ",e[0][m][1][1])+U;break;case 3:U=Hn("\r",e[0][m][1][1])+U;break;case 4:q=Hn(" ",e[0][m][1][1])+q;break;case 5:q=Hn("\r",e[0][m][1][1])+q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(U+l.pop()+q);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var z={c:r.c,r:r.r};if(n.sharedf[dr(d)]){var I=n.sharedf[dr(d)];l.push(fi(I,o,z,n,a))}else{var R=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(fi(u[1],o,z,n,a)),R=!0;break}R||l.push(b[1])}break;case"PtgArray":l.push("{"+bme(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&G.indexOf(e[0][g][0])==-1){b=e[0][m];var F=!0;switch(b[1][0]){case 4:F=!1;case 0:x=Hn(" ",b[1][1]);break;case 5:F=!1;case 1:x=Hn("\r",b[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((F?x:"")+l.pop()+(F?"":x)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function jme(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Ni(e,t-2)];var l=ox(e,o,r);return t!==o+a&&(i=sx(e,t-o-a,l,r)),e.l=n,[l,i]}function Sme(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,o=e.read_shift(a);if(o==65535)return[[],Ni(e,t-2)];var l=ox(e,o,r);return t!==o+a&&(i=sx(e,t-o-a,l,r)),e.l=n,[l,i]}function Nme(e,t,r,n){var a=e.l+t,i=ox(e,n,r),o;return a!==e.l&&(o=sx(e,a-e.l,i,r)),[i,o]}function Ame(e,t,r){var n=e.l+t,a,i=e.read_shift(2),o=ox(e,i,r);return i==65535?[[],Ni(e,t-2)]:(t!==i+2&&(a=sx(e,n-i-2,o,r)),[o,a])}function Tme(e){var t;if(tc(e,e.l+6)!==65535)return[gi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function x5(e,t,r){var n=e.l+t,a=Pl(e);r.biff==2&&++e.l;var i=Tme(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=Sme(e,n-e.l,r);return{cell:a,val:i[0],formula:l,shared:o>>3&1,tt:i[1]}}function Pw(e,t,r){var n=e.read_shift(4),a=ox(e,n,r),i=e.read_shift(4),o=i>0?sx(e,i,a,r):null;return[a,o]}var Cme=Pw,Ow=Pw,Eme=Pw,kme=Pw,Pme={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},RV={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Ome={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function M8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function y5(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var lg={},Zh={};function cg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function $V(e,t,r,n,a,i){try{n.cellNF&&(e.z=gr[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ma(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(gr[t]==null&&Vd(Due[t]||"General",t),e.t==="e")e.w=e.w||Nf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Kg(e.v);else if(e.t==="d"){var o=$i(e.v);(o|0)===o?e.w=o.toString(10):e.w=Kg(o)}else{if(e.v===void 0)return"";e.w=lf(e.v,Zh)}else e.t==="d"?e.w=oo(t,$i(e.v),Zh):e.w=oo(t,e.v,Zh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=L2(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=L2(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function Fme(e,t){var r=Gn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Lr(r))}var Dme=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Lme=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Ime=/<(?:\w:)?hyperlink [^>]*>/mg,Mme=/"(\w*:\w*)"/,Rme=/<(?:\w:)?col\b[^>]*[\/]?>/g,$me=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Bme=/<(?:\w:)?pageMargins[^>]*\/>/g,BV=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,zme=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Ume=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Vme(e,t,r,n,a,i,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Lme);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(BV);h?NE(h[0],l,a,r):(h=u.match(zme))&&Hme(h[0],h[1]||"",l,a,r);var p=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=u.slice(p,p+50).match(Mme);v&&Fme(l,v[1])}var m=u.match(Ume);m&&m[1]&&Xme(m[1],a);var x=[];if(t.cellStyles){var g=u.match(Rme);g&&Gme(x,g)}f&&Jme(f[1],l,t,c,i,o);var y=d.match($me);y&&(l["!autofilter"]=Kme(y[0]));var b=[],j=d.match(Dme);if(j)for(p=0;p!=j.length;++p)b[p]=Gn(j[p].slice(j[p].indexOf('"')+1));var _=d.match(Ime);_&&Wme(l,_,n);var N=d.match(Bme);if(N&&(l["!margins"]=qme(rr(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Lr(c)),t.sheetRows>0&&l["!ref"]){var S=Gn(l["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Lr(S))}return x.length>0&&(l["!cols"]=x),b.length>0&&(l["!merges"]=b),l}function NE(e,t,r,n){var a=rr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Br(gn(a.codeName)))}function Hme(e,t,r,n,a){NE(e.slice(0,e.indexOf(">")),r,n,a)}function Wme(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=rr(gn(t[a]),!0);if(!i.ref)return;var o=((r||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Br(i.location))):(i.Target="#"+Br(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=Gn(i.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=dr({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=i):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=i)}}}function qme(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Gme(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=rr(t[n],!0);a.hidden&&(a.hidden=Cn(a.hidden));var i=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,jE(a.width)),w0(a);i<=o;)e[i++]=Qa(a)}}function Kme(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Yme=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Xme(e,t){t.Views||(t.Views=[{}]),(e.match(Yme)||[]).forEach(function(r,n){var a=rr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Cn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Jme=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Yg("v"),o=Yg("f");return function(c,u,d,f,h,p){for(var v=0,m="",x=[],g=[],y=0,b=0,j=0,_="",N,S,T=0,k=0,V,C,P=0,U=0,q=Array.isArray(p.CellXf),z,I=[],R=[],G=Array.isArray(u),F=[],H={},J=!1,A=!!d.sheetStubs,M=c.split(t),K=0,L=M.length;K!=L;++K){m=M[K].trim();var Y=m.length;if(Y!==0){var Z=0;e:for(v=0;v<Y;++v)switch(m[v]){case">":if(m[v-1]!="/"){++v;break e}if(d&&d.cellStyles){if(S=rr(m.slice(Z,v),!0),T=S.r!=null?parseInt(S.r,10):T+1,k=-1,d.sheetRows&&d.sheetRows<T)continue;H={},J=!1,S.ht&&(J=!0,H.hpt=parseFloat(S.ht),H.hpx=Zg(H.hpt)),S.hidden=="1"&&(J=!0,H.hidden=!0),S.outlineLevel!=null&&(J=!0,H.level=+S.outlineLevel),J&&(F[T-1]=H)}break;case"<":Z=v;break}if(Z>=v)break;if(S=rr(m.slice(Z,v),!0),T=S.r!=null?parseInt(S.r,10):T+1,k=-1,!(d.sheetRows&&d.sheetRows<T)){f.s.r>T-1&&(f.s.r=T-1),f.e.r<T-1&&(f.e.r=T-1),d&&d.cellStyles&&(H={},J=!1,S.ht&&(J=!0,H.hpt=parseFloat(S.ht),H.hpx=Zg(H.hpt)),S.hidden=="1"&&(J=!0,H.hidden=!0),S.outlineLevel!=null&&(J=!0,H.level=+S.outlineLevel),J&&(F[T-1]=H)),x=m.slice(v).split(e);for(var se=0;se!=x.length&&x[se].trim().charAt(0)=="<";++se);for(x=x.slice(se),v=0;v!=x.length;++v)if(m=x[v].trim(),m.length!==0){if(g=m.match(r),y=v,b=0,j=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,g!=null&&g.length===2){for(y=0,_=g[1],b=0;b!=_.length&&!((j=_.charCodeAt(b)-64)<1||j>26);++b)y=26*y+j;--y,k=y}else++k;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,S=rr(m.slice(0,b),!0),S.r||(S.r=dr({r:T-1,c:k})),_=m.slice(b),N={t:""},(g=_.match(i))!=null&&g[1]!==""&&(N.v=Br(g[1])),d.cellFormula){if((g=_.match(o))!=null&&g[1]!==""){if(N.f=Br(gn(g[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=F8(N.f)),g[0].indexOf('t="array"')>-1)N.F=(_.match(a)||[])[1],N.F.indexOf(":")>-1&&I.push([Gn(N.F),N.F]);else if(g[0].indexOf('t="shared"')>-1){C=rr(g[0]);var W=Br(gn(g[1]));d.xlfn||(W=F8(W)),R[parseInt(C.si,10)]=[C,W,S.r]}}else(g=_.match(/<f[^>]*\/>/))&&(C=rr(g[0]),R[C.si]&&(N.f=lpe(R[C.si][1],R[C.si][2],S.r)));var ae=Li(S.r);for(b=0;b<I.length;++b)ae.r>=I[b][0].s.r&&ae.r<=I[b][0].e.r&&ae.c>=I[b][0].s.c&&ae.c<=I[b][0].e.c&&(N.F=I[b][1])}if(S.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(A)N.t="z";else continue;else N.t=S.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),N.t){case"n":if(N.v==""||N.v==null){if(!A)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!A)continue;N.t="z"}else V=lg[parseInt(N.v,10)],N.v=V.t,N.r=V.r,d.cellHTML&&(N.h=V.h);break;case"str":N.t="s",N.v=N.v!=null?gn(N.v):"",d.cellHTML&&(N.h=fE(N.v));break;case"inlineStr":g=_.match(n),N.t="s",g!=null&&(V=_E(g[1]))?(N.v=V.t,d.cellHTML&&(N.h=V.h)):N.v="";break;case"b":N.v=Cn(N.v);break;case"d":d.cellDates?N.v=Ma(N.v,1):(N.v=$i(Ma(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=oV[N.v];break}if(P=U=0,z=null,q&&S.s!==void 0&&(z=p.CellXf[S.s],z!=null&&(z.numFmtId!=null&&(P=z.numFmtId),d.cellStyles&&z.fillId!=null&&(U=z.fillId))),$V(N,P,U,d,h,p),d.cellDates&&q&&N.t=="n"&&np(gr[P])&&(N.t="d",N.v=Ew(N.v)),S.cm&&d.xlmeta){var fe=(d.xlmeta.Cell||[])[+S.cm-1];fe&&fe.type=="XLDAPR"&&(N.D=!0)}if(G){var Q=Li(S.r);u[Q.r]||(u[Q.r]=[]),u[Q.r][Q.c]=N}else u[S.r]=N}}}}F.length>0&&(u["!rows"]=F)}}();function Qme(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Zme=Sf;function ege(){}function tge(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=jde(e),r}function rge(e){var t=co(e);return[t]}function nge(e){var t=jf(e);return[t]}function age(e){var t=co(e),r=e.read_shift(1);return[t,r,"b"]}function ige(e){var t=jf(e),r=e.read_shift(1);return[t,r,"b"]}function sge(e){var t=co(e),r=e.read_shift(1);return[t,r,"e"]}function oge(e){var t=jf(e),r=e.read_shift(1);return[t,r,"e"]}function lge(e){var t=co(e),r=e.read_shift(4);return[t,r,"s"]}function cge(e){var t=jf(e),r=e.read_shift(4);return[t,r,"s"]}function uge(e){var t=co(e),r=gi(e);return[t,r,"n"]}function zV(e){var t=jf(e),r=gi(e);return[t,r,"n"]}function dge(e){var t=co(e),r=yE(e);return[t,r,"n"]}function fge(e){var t=jf(e),r=yE(e);return[t,r,"n"]}function hge(e){var t=co(e),r=vE(e);return[t,r,"is"]}function pge(e){var t=co(e),r=_i(e);return[t,r,"str"]}function mge(e){var t=jf(e),r=_i(e);return[t,r,"str"]}function gge(e,t,r){var n=e.l+t,a=co(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=Ow(e,n-e.l,r);o[3]=fi(l,null,a,r.supbooks,r)}else e.l=n;return o}function vge(e,t,r){var n=e.l+t,a=co(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=Ow(e,n-e.l,r);o[3]=fi(l,null,a,r.supbooks,r)}else e.l=n;return o}function xge(e,t,r){var n=e.l+t,a=co(e);a.r=r["!row"];var i=gi(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=Ow(e,n-e.l,r);o[3]=fi(l,null,a,r.supbooks,r)}else e.l=n;return o}function yge(e,t,r){var n=e.l+t,a=co(e);a.r=r["!row"];var i=_i(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=Ow(e,n-e.l,r);o[3]=fi(l,null,a,r.supbooks,r)}else e.l=n;return o}var bge=Sf;function wge(e,t){var r=e.l+t,n=Sf(e),a=xE(e),i=_i(e),o=_i(e),l=_i(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function _ge(){}function jge(e,t,r){var n=e.l+t,a=aV(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=Cme(e,n-e.l,r);o[1]=l}else e.l=n;return o}function Sge(e,t,r){var n=e.l+t,a=Sf(e),i=[a];if(r.cellFormula){var o=kme(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}var Nge=["left","right","top","bottom","header","footer"];function Age(e){var t={};return Nge.forEach(function(r){t[r]=gi(e)}),t}function Tge(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Cge(){}function Ege(){}function kge(e,t,r,n,a,i,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,v,m,x,g,y,b,j,_,N=[];l.biff=12,l["!row"]=0;var S=0,T=!1,k=[],V={},C=l.supbooks||a.supbooks||[[]];if(C.sharedf=V,C.arrayf=k,C.SheetNames=a.SheetNames||a.Sheets.map(function(G){return G.name}),!l.supbooks&&(l.supbooks=C,a.Names))for(var P=0;P<a.Names.length;++P)C[0][P+1]=a.Names[P];var U=[],q=[],z=!1;R2[16]={n:"BrtShortReal",f:zV};var I;if(Cc(e,function(F,H,J){if(!h)switch(J){case 148:u=F;break;case 0:p=F,l.sheetRows&&l.sheetRows<=p.r&&(h=!0),j=Za(x=p.r),l["!row"]=p.r,(F.hidden||F.hpt||F.level!=null)&&(F.hpt&&(F.hpx=Zg(F.hpt)),q[F.r]=F);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:F[2]},F[2]){case"n":v.v=F[1];break;case"s":b=lg[F[1]],v.v=b.t,v.r=b.r;break;case"b":v.v=!!F[1];break;case"e":v.v=F[1],l.cellText!==!1&&(v.w=Nf[v.v]);break;case"str":v.t="s",v.v=F[1];break;case"is":v.t="s",v.v=F[1].t;break}if((m=o.CellXf[F[0].iStyleRef])&&$V(v,m.numFmtId,null,l,i,o),g=F[0].c==-1?g+1:F[0].c,l.dense?(c[x]||(c[x]=[]),c[x][g]=v):c[ja(g)+j]=v,l.cellFormula){for(T=!1,S=0;S<k.length;++S){var A=k[S];p.r>=A[0].s.r&&p.r<=A[0].e.r&&g>=A[0].s.c&&g<=A[0].e.c&&(v.F=Lr(A[0]),T=!0)}!T&&F.length>3&&(v.f=F[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>g&&(d.s.c=g),d.e.r<p.r&&(d.e.r=p.r),d.e.c<g&&(d.e.c=g),l.cellDates&&m&&v.t=="n"&&np(gr[m.numFmtId])){var M=Od(v.v);M&&(v.t="d",v.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}I&&(I.type=="XLDAPR"&&(v.D=!0),I=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;v={t:"z",v:void 0},g=F[0].c==-1?g+1:F[0].c,l.dense?(c[x]||(c[x]=[]),c[x][g]=v):c[ja(g)+j]=v,d.s.r>p.r&&(d.s.r=p.r),d.s.c>g&&(d.s.c=g),d.e.r<p.r&&(d.e.r=p.r),d.e.c<g&&(d.e.c=g),I&&(I.type=="XLDAPR"&&(v.D=!0),I=void 0);break;case 176:N.push(F);break;case 49:I=((l.xlmeta||{}).Cell||[])[F-1];break;case 494:var K=n["!id"][F.relId];for(K?(F.Target=K.Target,F.loc&&(F.Target+="#"+F.loc),F.Rel=K):F.relId==""&&(F.Target="#"+F.loc),x=F.rfx.s.r;x<=F.rfx.e.r;++x)for(g=F.rfx.s.c;g<=F.rfx.e.c;++g)l.dense?(c[x]||(c[x]=[]),c[x][g]||(c[x][g]={t:"z",v:void 0}),c[x][g].l=F):(y=dr({c:g,r:x}),c[y]||(c[y]={t:"z",v:void 0}),c[y].l=F);break;case 426:if(!l.cellFormula)break;k.push(F),_=l.dense?c[x][g]:c[ja(g)+j],_.f=fi(F[1],d,{r:p.r,c:g},C,l),_.F=Lr(F[0]);break;case 427:if(!l.cellFormula)break;V[dr(F[0].s)]=F[1],_=l.dense?c[x][g]:c[ja(g)+j],_.f=fi(F[1],d,{r:p.r,c:g},C,l);break;case 60:if(!l.cellStyles)break;for(;F.e>=F.s;)U[F.e--]={width:F.w/256,hidden:!!(F.flags&1),level:F.level},z||(z=!0,jE(F.w/256)),w0(U[F.e+1]);break;case 161:c["!autofilter"]={ref:Lr(F)};break;case 476:c["!margins"]=F;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),F.name&&(a.Sheets[r].CodeName=F.name),(F.above||F.left)&&(c["!outline"]={above:F.above,left:F.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),F.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!H.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Lr(u||d)),l.sheetRows&&c["!ref"]){var R=Gn(c["!ref"]);l.sheetRows<=+R.e.r&&(R.e.r=l.sheetRows-1,R.e.r>d.e.r&&(R.e.r=d.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>d.e.c&&(R.e.c=d.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Lr(R))}return N.length>0&&(c["!merges"]=N),U.length>0&&(c["!cols"]=U),q.length>0&&(c["!rows"]=q),c}function Pge(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=Br((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Oge(e,t,r,n,a,i){var o=i||{"!type":"chart"};if(!e)return i;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Pge(f);d.s.r=d.s.c=0,d.e.c=l,u=ja(l),h[0].forEach(function(p,v){o[u+Za(v)]={t:"n",v:p,z:h[1]},c=v}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Lr(d)),o}function Fge(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(BV);return l&&NE(l[0],i,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Dge(e,t){e.l+=10;var r=_i(e);return{name:r}}function Lge(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Cc(e,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var UV=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Ige=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Mge=[],Rge=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function R8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Cn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function $8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Cn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function VV(e){$8(e.WBProps,UV),$8(e.CalcPr,Rge),R8(e.WBView,Ige),R8(e.Sheets,Mge),Zh.date1904=Cn(e.WBProps.date1904)}var $ge="][*?/\\".split("");function Bge(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return $ge.forEach(function(n){if(e.indexOf(n)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}var zge=/<\w+:workbook/;function Uge(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},o=0;if(e.replace(Ai,function(c,u){var d=rr(c);switch(kl(d[0])){case"<?xml":break;case"<workbook":c.match(zge)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":UV.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Cn(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=gn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Br(gn(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=gn(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),Cn(d.hidden||"0")&&(i.Hidden=!0),o=u+c.length;break;case"</definedName>":i.Ref=Br(gn(e.slice(o,u))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),sde.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return VV(r),r}function Vge(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=t4(e),r.name=_i(e),r}function Hge(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?_i(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Wge(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function qge(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Sde(e),o=Eme(e,0,r),l=xE(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Gge(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],R2[16]={n:"BrtFRTArchID$",f:Wge},Cc(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=fi(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),VV(r),r.Names=i,r.supbooks=o,r}function Kge(e,t,r){return t.slice(-4)===".bin"?Gge(e,r):Uge(e,r)}function Yge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?kge(e,n,r,a,i,o,l):Vme(e,n,r,a,i,o,l)}function Xge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?Lge(e,n,r,a,i):Fge(e,n,r,a,i)}function Jge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?ipe():spe()}function Qge(e,t,r,n,a,i,o,l){return t.slice(-4)===".bin"?npe():ape()}function Zge(e,t,r,n){return t.slice(-4)===".bin"?b0e(e,r,n):p0e(e,r,n)}function eve(e,t,r){return EV(e,r)}function tve(e,t,r){return t.slice(-4)===".bin"?Ihe(e,r):Dhe(e,r)}function rve(e,t,r){return t.slice(-4)===".bin"?epe(e,r):Y0e(e,r)}function nve(e,t,r){return t.slice(-4)===".bin"?q0e(e):H0e(e)}function ave(e,t,r,n){return r.slice(-4)===".bin"?G0e(e,t,r,n):void 0}function ive(e,t,r){return t.slice(-4)===".bin"?U0e(e,t,r):V0e(e,t,r)}var HV=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,WV=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function _o(e,t){var r=e.split(/\s+/),n=[];if(t||(n[0]=r[0]),r.length===1)return n;var a=e.match(HV),i,o,l,c;if(a)for(c=0;c!=a.length;++c)i=a[c].match(WV),(o=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(o+1),n[l]=i[2].slice(1,i[2].length-1));return n}function sve(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(HV),a,i,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(WV),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),r[o]=a[2].slice(1,a[2].length-1));return r}var ug;function ove(e,t){var r=ug[e]||Br(e);return r==="General"?lf(t):oo(r,t)}function lve(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Cn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ma(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Br(t)]=a}function cve(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Nf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Kg(e.v):e.w=lf(e.v):e.w=ove(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=ug[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&np(n)){var a=Od(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function uve(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=l0e[n.Pattern]||n.Pattern)}e[t.ID]=t}function dve(e,t,r,n,a,i,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var p=[],v=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);i[f]!==void 0&&(i[f].nf&&(d=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Cn(e);break;case"String":n.t="s",n.r=o8(Br(e)),n.v=e.indexOf("<")>-1?Br(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ma(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Br(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=oV[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=o8(t||e));break}if(cve(n,d,u),u.cellFormula!==!1)if(n.Formula){var m=Br(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=Qh(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Qh("RC:RC",a):n.ArrayRange&&(n.F=Qh(n.ArrayRange,a),c.push([Gn(n.F),n.F]))}else for(v=0;v<c.length;++v)a.r>=c[v][0].s.r&&a.r<=c[v][0].e.r&&a.c>=c[v][0].s.c&&a.c<=c[v][0].e.c&&(n.F=c[v][1]);u.cellStyles&&(p.forEach(function(x){!h.patternType&&x.patternType&&(h.patternType=x.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function fve(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function b5(e,t){var r=t||{};OU();var n=Lm(hE(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=gn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=Qa(r);return o.type="string",Jg.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(at){a.indexOf("<"+at)>=0&&(i=!0)}),i)return wve(n,r);ug={"General Number":"General","General Date":gr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gr[15],"Short Date":gr[14],"Long Time":gr[19],"Medium Time":gr[18],"Short Time":gr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gr[2],Standard:gr[4],Percent:gr[10],Scientific:gr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},p="",v={},m={},x=_o('<Data ss:Type="String">'),g=0,y=0,b=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},_={},N={},S="",T=0,k=[],V={},C={},P=0,U=[],q=[],z={},I=[],R,G=!1,F=[],H=[],J={},A=0,M=0,K={Sheets:[],WBProps:{date1904:!1}},L={};Xg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Y="";l=Xg.exec(n);)switch(l[3]=(Y=l[3]).toLowerCase()){case"data":if(Y=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?dve(n.slice(g,l.index),S,x,c[c.length-1][0]=="comment"?z:v,{c:y,r:b},_,I[y],m,F,r):(S="",x=_o(l[0]),g=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(q.length>0&&(v.c=q),(!r.sheetRows||r.sheetRows>b)&&v.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][y]=v):h[ja(y)+Za(b)]=v),v.HRef&&(v.l={Target:Br(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(A=y+(parseInt(v.MergeAcross,10)|0),M=b+(parseInt(v.MergeDown,10)|0),k.push({s:{c:y,r:b},e:{c:A,r:M}})),!r.sheetStubs)v.MergeAcross?y=A+1:++y;else if(v.MergeAcross||v.MergeDown){for(var Z=y;Z<=A;++Z)for(var se=b;se<=M;++se)(Z>y||se>b)&&(r.dense?(h[se]||(h[se]=[]),h[se][Z]={t:"z"}):h[ja(Z)+Za(se)]={t:"z"});y=A+1}else++y;else v=sve(l[0]),v.Index&&(y=+v.Index-1),y<j.s.c&&(j.s.c=y),y>j.e.c&&(j.e.c=y),l[0].slice(-2)==="/>"&&++y,q=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(b<j.s.r&&(j.s.r=b),b>j.e.r&&(j.e.r=b),l[0].slice(-2)==="/>"&&(m=_o(l[0]),m.Index&&(b=+m.Index-1)),y=0,++b):(m=_o(l[0]),m.Index&&(b=+m.Index-1),J={},(m.AutoFitHeight=="0"||m.Height)&&(J.hpx=parseInt(m.Height,10),J.hpt=CV(J.hpx),H[b]=J),m.Hidden=="1"&&(J.hidden=!0,H[b]=J));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(p),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(h["!ref"]=Lr(j),r.sheetRows&&r.sheetRows<=j.e.r&&(h["!fullref"]=h["!ref"],j.e.r=r.sheetRows-1,h["!ref"]=Lr(j))),k.length&&(h["!merges"]=k),I.length>0&&(h["!cols"]=I),H.length>0&&(h["!rows"]=H),d[p]=h}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=y=0,c.push([l[3],!1]),u=_o(l[0]),p=Br(u.Name),h=r.dense?[]:{},k=[],F=[],H=[],L={name:p,Hidden:0},K.Sheets.push(L);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),I=[],G=!1}break;case"style":l[1]==="/"?uve(_,N,r):N=_o(l[0]);break;case"numberformat":N.nf=Br(_o(l[0]).Format||"General"),ug[N.nf]&&(N.nf=ug[N.nf]);for(var W=0;W!=392&&gr[W]!=N.nf;++W);if(W==392){for(W=57;W!=392;++W)if(gr[W]==null){Vd(N.nf,W);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(R=_o(l[0]),R.Hidden&&(R.hidden=!0,delete R.Hidden),R.Width&&(R.wpx=parseInt(R.Width,10)),!G&&R.wpx>10){G=!0,Di=AV;for(var ae=0;ae<I.length;++ae)I[ae]&&w0(I[ae])}G&&w0(R),I[R.Index-1||I.length]=R;for(var fe=0;fe<+R.Span;++fe)I[I.length]=Qa(R);break;case"namedrange":if(l[1]==="/")break;K.Names||(K.Names=[]);var Q=rr(l[0]),ke={Name:Q.Name,Ref:Qh(Q.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(ke.Sheet=K.Sheets.length-1),K.Names.push(ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=n.slice(T,l.index):T=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=_o(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?Yde(V,Y,n.slice(P,l.index)):P=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));fve(z),q.push(z)}else c.push([l[3],!1]),u=_o(l[0]),z={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Ie=_o(l[0]);h["!autofilter"]={ref:Qh(Ie.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return W8(n,r);var Ae=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ae=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ae=!1}break;case"excelworkbook":switch(l[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ae=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ae=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(P,l.index)){case"SheetHidden":L.Hidden=1;break;case"SheetVeryHidden":L.Hidden=2;break}else P=l.index+l[0].length;break;case"header":h["!margins"]||cg(h["!margins"]={},"xlml"),isNaN(+rr(l[0]).Margin)||(h["!margins"].header=+rr(l[0]).Margin);break;case"footer":h["!margins"]||cg(h["!margins"]={},"xlml"),isNaN(+rr(l[0]).Margin)||(h["!margins"].footer=+rr(l[0]).Margin);break;case"pagemargins":var ce=rr(l[0]);h["!margins"]||cg(h["!margins"]={},"xlml"),isNaN(+ce.Top)||(h["!margins"].top=+ce.Top),isNaN(+ce.Left)||(h["!margins"].left=+ce.Left),isNaN(+ce.Right)||(h["!margins"].right=+ce.Right),isNaN(+ce.Bottom)||(h["!margins"].bottom=+ce.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ae=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ae=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ae=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ae=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ae=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ae=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ae=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ae=!1}break;case"smarttags":break;default:Ae=!1;break}if(Ae||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?lve(C,Y,U,n.slice(P,l.index)):(U=l,P=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Re={};return!r.bookSheets&&!r.bookProps&&(Re.Sheets=d),Re.SheetNames=f,Re.Workbook=K,Re.SSF=Qa(gr),Re.Props=V,Re.Custprops=C,Re}function i4(e,t){switch(CE(t=t||{}),t.type||"base64"){case"base64":return b5(Fs(e),t);case"binary":case"buffer":case"file":return b5(e,t);case"array":return b5(_f(e),t)}}function hve(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Tde(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Cde(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var pve=[60,1084,2066,2165,2175];function mve(e,t,r,n,a){var i=n,o=[],l=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=i;for(var c=tc(r,r.l),u=s4[c],d=0;u!=null&&pve.indexOf(c)>-1;)i=tc(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+i),o.push(l),r.l+=4+i,u=s4[c=tc(r,r.l)];var f=du(o);Ka(f,0);var h=0;f.lens=[];for(var p=0;p<o.length;++p)f.lens.push(h),h+=o[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function ll(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=gr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Nf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Kg(e.v):e.w=lf(e.v):e.w=oo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&np(gr[n]||String(n))){var a=Od(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Y1(e,t,r){return{v:e,ixfe:t,t:r}}function gve(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},o={},l=null,c=[],u="",d={},f,h="",p,v,m,x,g={},y=[],b,j,_=[],N=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},T={},k=function(st){return st<8?Hd[st]:st<64&&N[st-8]||Hd[st]},V=function(st,it,qt){var jt=it.XF.data;if(!(!jt||!jt.patternType||!qt||!qt.cellStyles)){it.s={},it.s.patternType=jt.patternType;var Sr;(Sr=Qg(k(jt.icvFore)))&&(it.s.fgColor={rgb:Sr}),(Sr=Qg(k(jt.icvBack)))&&(it.s.bgColor={rgb:Sr})}},C=function(st,it,qt){if(!(J>1)&&!(qt.sheetRows&&st.r>=qt.sheetRows)){if(qt.cellStyles&&it.XF&&it.XF.data&&V(st,it,qt),delete it.ixfe,delete it.XF,f=st,h=dr(st),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),st.r<o.s.r&&(o.s.r=st.r),st.c<o.s.c&&(o.s.c=st.c),st.r+1>o.e.r&&(o.e.r=st.r+1),st.c+1>o.e.c&&(o.e.c=st.c+1),qt.cellFormula&&it.f){for(var jt=0;jt<y.length;++jt)if(!(y[jt][0].s.c>st.c||y[jt][0].s.r>st.r)&&!(y[jt][0].e.c<st.c||y[jt][0].e.r<st.r)){it.F=Lr(y[jt][0]),(y[jt][0].s.c!=st.c||y[jt][0].s.r!=st.r)&&delete it.f,it.f&&(it.f=""+fi(y[jt][1],o,st,F,P));break}}qt.dense?(a[st.r]||(a[st.r]=[]),a[st.r][st.c]=it):a[h]=it}},P={enc:!1,sbcch:0,snames:[],sharedf:g,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var U,q=[],z=[],I=[],R=[],G=!1,F=[];F.SheetNames=P.snames,F.sharedf=P.sharedf,F.arrayf=P.arrayf,F.names=[],F.XTI=[];var H=0,J=0,A=0,M=[],K=[],L;P.codepage=1200,Bo(1200);for(var Y=!1;e.l<e.length-1;){var Z=e.l,se=e.read_shift(2);if(se===0&&H===10)break;var W=e.l===e.length?0:e.read_shift(2),ae=s4[se];if(ae&&ae.f){if(t.bookSheets&&H===133&&se!==133)break;if(H=se,ae.r===2||ae.r==12){var fe=e.read_shift(2);if(W-=2,!P.enc&&fe!==se&&((fe&255)<<8|fe>>8)!==se)throw new Error("rt mismatch: "+fe+"!="+se);ae.r==12&&(e.l+=10,W-=10)}var Q={};if(se===10?Q=ae.f(e,W,P):Q=mve(se,ae,e,W,P),J==0&&[9,521,1033,2057].indexOf(H)===-1)continue;switch(se){case 34:r.opts.Date1904=S.WBProps.date1904=Q;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(P.enc||(e.l=0),P.enc=Q,!t.password)throw new Error("File is password-protected");if(Q.valid==null)throw new Error("Encryption scheme unsupported");if(!Q.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=Q;break;case 66:var ke=Number(Q);switch(ke){case 21010:ke=1200;break;case 32768:ke=1e4;break;case 32769:ke=1252;break}Bo(P.codepage=ke),Y=!0;break;case 317:P.rrtabid=Q;break;case 25:P.winlocked=Q;break;case 439:r.opts.RefreshAll=Q;break;case 12:r.opts.CalcCount=Q;break;case 16:r.opts.CalcDelta=Q;break;case 17:r.opts.CalcIter=Q;break;case 13:r.opts.CalcMode=Q;break;case 14:r.opts.CalcPrecision=Q;break;case 95:r.opts.CalcSaveRecalc=Q;break;case 15:P.CalcRefMode=Q;break;case 2211:r.opts.FullCalc=Q;break;case 129:Q.fDialog&&(a["!type"]="dialog"),Q.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),Q.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:_.push(Q);break;case 430:F.push([Q]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(Q);break;case 24:case 536:L={Name:Q.Name,Ref:fi(Q.rgce,o,null,F,P)},Q.itab>0&&(L.Sheet=Q.itab-1),F.names.push(L),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(Q),Q.Name=="_xlnm._FilterDatabase"&&Q.itab>0&&Q.rgce&&Q.rgce[0]&&Q.rgce[0][0]&&Q.rgce[0][0][0]=="PtgArea3d"&&(K[Q.itab-1]={ref:Lr(Q.rgce[0][0][1][2])});break;case 22:P.ExternCount=Q;break;case 23:F.length==0&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(Q),F.XTI=F.XTI.concat(Q);break;case 2196:if(P.biff<8)break;L!=null&&(L.Comment=Q[1]);break;case 18:a["!protect"]=Q;break;case 19:Q!==0&&P.WTF&&console.error("Password verifier: "+Q);break;case 133:i[Q.pos]=Q,P.snames.push(Q.name);break;case 10:{if(--J)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Lr(o),t.sheetRows&&t.sheetRows<=o.e.r){var Ie=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Lr(o),o.e.r=Ie}o.e.r++,o.e.c++}q.length>0&&(a["!merges"]=q),z.length>0&&(a["!objects"]=z),I.length>0&&(a["!cols"]=I),R.length>0&&(a["!rows"]=R),S.Sheets.push(T)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Q.BIFFVer]||8),P.biffguess=Q.BIFFVer==0,Q.BIFFVer==0&&Q.dt==4096&&(P.biff=5,Y=!0,Bo(P.codepage=28591)),P.biff==8&&Q.BIFFVer==0&&Q.dt==16&&(P.biff=2),J++)break;if(a=t.dense?[]:{},P.biff<8&&!Y&&(Y=!0,Bo(P.codepage=t.codepage||1252)),P.biff<5||Q.BIFFVer==0&&Q.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ae={pos:e.l-W,name:u};i[Ae.pos]=Ae,P.snames.push(u)}else u=(i[Z]||{name:""}).name;Q.dt==32&&(a["!type"]="chart"),Q.dt==64&&(a["!type"]="macro"),q=[],z=[],P.arrayf=y=[],I=[],R=[],G=!1,T={Hidden:(i[Z]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[Q.r]||[])[Q.c]:a[dr({c:Q.c,r:Q.r})])&&++Q.c,b={ixfe:Q.ixfe,XF:_[Q.ixfe]||{},v:Q.val,t:"n"},A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 5:case 517:b={ixfe:Q.ixfe,XF:_[Q.ixfe],v:Q.val,t:Q.t},A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 638:b={ixfe:Q.ixfe,XF:_[Q.ixfe],v:Q.rknum,t:"n"},A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 189:for(var ce=Q.c;ce<=Q.C;++ce){var Re=Q.rkrec[ce-Q.c][0];b={ixfe:Re,XF:_[Re],v:Q.rkrec[ce-Q.c][1],t:"n"},A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C({c:ce,r:Q.r},b,t)}break;case 6:case 518:case 1030:{if(Q.val=="String"){l=Q;break}if(b=Y1(Q.val,Q.cell.ixfe,Q.tt),b.XF=_[b.ixfe],t.cellFormula){var at=Q.formula;if(at&&at[0]&&at[0][0]&&at[0][0][0]=="PtgExp"){var $e=at[0][0][1][0],et=at[0][0][1][1],xe=dr({r:$e,c:et});g[xe]?b.f=""+fi(Q.formula,o,Q.cell,F,P):b.F=((t.dense?(a[$e]||[])[et]:a[xe])||{}).F}else b.f=""+fi(Q.formula,o,Q.cell,F,P)}A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C(Q.cell,b,t),l=Q}break;case 7:case 519:if(l)l.val=Q,b=Y1(Q,l.cell.ixfe,"s"),b.XF=_[b.ixfe],t.cellFormula&&(b.f=""+fi(l.formula,o,l.cell,F,P)),A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C(l.cell,b,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(Q);var de=dr(Q[0].s);if(p=t.dense?(a[Q[0].s.r]||[])[Q[0].s.c]:a[de],t.cellFormula&&p){if(!l||!de||!p)break;p.f=""+fi(Q[1],o,Q[0],F,P),p.F=Lr(Q[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;g[dr(l.cell)]=Q[0],p=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[dr(l.cell)],(p||{}).f=""+fi(Q[0],o,f,F,P)}}break;case 253:b=Y1(c[Q.isst].t,Q.ixfe,"s"),c[Q.isst].h&&(b.h=c[Q.isst].h),b.XF=_[b.ixfe],A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:Q.ixfe,XF:_[Q.ixfe],t:"z"},A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t));break;case 190:if(t.sheetStubs)for(var Be=Q.c;Be<=Q.C;++Be){var we=Q.ixfe[Be-Q.c];b={ixfe:we,XF:_[we],t:"z"},A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C({c:Be,r:Q.r},b,t)}break;case 214:case 516:case 4:b=Y1(Q.val,Q.ixfe,"s"),b.XF=_[b.ixfe],A>0&&(b.z=M[b.ixfe>>8&63]),ll(b,t,r.opts.Date1904),C({c:Q.c,r:Q.r},b,t);break;case 0:case 512:J===1&&(o=Q);break;case 252:c=Q;break;case 1054:if(P.biff==4){M[A++]=Q[1];for(var ge=0;ge<A+163&&gr[ge]!=Q[1];++ge);ge>=163&&Vd(Q[1],A+163)}else Vd(Q[1],Q[0]);break;case 30:{M[A++]=Q;for(var ze=0;ze<A+163&&gr[ze]!=Q;++ze);ze>=163&&Vd(Q,A+163)}break;case 229:q=q.concat(Q);break;case 93:z[Q.cmo[0]]=P.lastobj=Q;break;case 438:P.lastobj.TxO=Q;break;case 127:P.lastobj.ImData=Q;break;case 440:for(x=Q[0].s.r;x<=Q[0].e.r;++x)for(m=Q[0].s.c;m<=Q[0].e.c;++m)p=t.dense?(a[x]||[])[m]:a[dr({c:m,r:x})],p&&(p.l=Q[1]);break;case 2048:for(x=Q[0].s.r;x<=Q[0].e.r;++x)for(m=Q[0].s.c;m<=Q[0].e.c;++m)p=t.dense?(a[x]||[])[m]:a[dr({c:m,r:x})],p&&p.l&&(p.l.Tooltip=Q[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;p=t.dense?(a[Q[0].r]||[])[Q[0].c]:a[dr(Q[0])];var tt=z[Q[2]];p||(t.dense?(a[Q[0].r]||(a[Q[0].r]=[]),p=a[Q[0].r][Q[0].c]={t:"z"}):p=a[dr(Q[0])]={t:"z"},o.e.r=Math.max(o.e.r,Q[0].r),o.s.r=Math.min(o.s.r,Q[0].r),o.e.c=Math.max(o.e.c,Q[0].c),o.s.c=Math.min(o.s.c,Q[0].c)),p.c||(p.c=[]),v={a:Q[1],t:tt.TxO.t},p.c.push(v)}break;case 2173:R0e(_[Q.ixfe],Q.ext);break;case 125:{if(!P.cellStyles)break;for(;Q.e>=Q.s;)I[Q.e--]={width:Q.w/256,level:Q.level||0,hidden:!!(Q.flags&1)},G||(G=!0,jE(Q.w/256)),w0(I[Q.e+1])}break;case 520:{var ht={};Q.level!=null&&(R[Q.r]=ht,ht.level=Q.level),Q.hidden&&(R[Q.r]=ht,ht.hidden=!0),Q.hpt&&(R[Q.r]=ht,ht.hpt=Q.hpt,ht.hpx=Zg(Q.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||cg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[se]]=Q;break;case 161:a["!margins"]||cg(a["!margins"]={}),a["!margins"].header=Q.header,a["!margins"].footer=Q.footer;break;case 574:Q.RTL&&(S.Views[0].RTL=!0);break;case 146:N=Q;break;case 2198:U=Q;break;case 140:j=Q;break;case 442:u?T.CodeName=Q||T.name:S.WBProps.CodeName=Q||"ThisWorkbook";break}}else ae||console.error("Missing Info for XLS Record 0x"+se.toString(16)),e.l+=W}return r.SheetNames=Tl(i).sort(function(Se,st){return Number(Se)-Number(st)}).map(function(Se){return i[Se].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&K.forEach(function(Se,st){r.Sheets[r.SheetNames[st]]["!autofilter"]=Se}),r.Strings=c,r.SSF=Qa(gr),P.enc&&(r.Encryption=P.enc),U&&(r.Themes=U),r.Metadata={},j!==void 0&&(r.Metadata.Country=j),F.names.length>0&&(S.Names=F.names),r.Workbook=S,r}var B8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function vve(e,t,r){var n=Dr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=j8(n,Dde,B8.DSI);for(var i in a)t[i]=a[i]}catch(u){if(r.WTF)throw u}var o=Dr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=j8(o,Lde,B8.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(cV(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function qV(e,t){t||(t={}),CE(t),bU(),t.codepage&&sE(t.codepage);var r,n;if(e.FullPaths){if(Dr.find(e,"/encryption"))throw new Error("File is password-protected");r=Dr.find(e,"!CompObj"),n=Dr.find(e,"/Workbook")||Dr.find(e,"/Book")}else{switch(t.type){case"base64":e=Mo(Fs(e));break;case"binary":e=Mo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ka(e,0),n={content:e}}var a,i;if(r&&hve(r),t.bookProps&&!t.bookSheets)a={};else{var o=Pr?"buffer":"array";if(n&&n.content)a=gve(n.content,t);else if((i=Dr.find(e,"PerfectOffice_MAIN"))&&i.content)a=og.to_workbook(i.content,(t.type=o,t));else if((i=Dr.find(e,"NativeContent_MAIN"))&&i.content)a=og.to_workbook(i.content,(t.type=o,t));else throw(i=Dr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Dr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=rpe(e))}var l={};return e.FullPaths&&vve(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var R2={0:{f:Qme},1:{f:rge},2:{f:dge},3:{f:sge},4:{f:age},5:{f:uge},6:{f:pge},7:{f:lge},8:{f:yge},9:{f:xge},10:{f:gge},11:{f:vge},12:{f:nge},13:{f:fge},14:{f:oge},15:{f:ige},16:{f:zV},17:{f:mge},18:{f:cge},19:{f:vE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:qge},40:{},42:{},43:{f:g0e},44:{f:m0e},45:{f:v0e},46:{f:y0e},47:{f:x0e},48:{},49:{f:bde},50:{},51:{f:B0e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:wV},62:{f:hge},63:{f:W0e},64:{f:Cge},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ni,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Tge},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:tge},148:{f:Zme,p:16},151:{f:_ge},152:{},153:{f:Hge},154:{},155:{},156:{f:Vge},157:{},158:{},159:{T:1,f:Lhe},160:{T:-1},161:{T:1,f:Sf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:bge},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$0e},336:{T:-1},337:{f:z0e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:t4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:bV},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:jge},427:{f:Sge},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Age},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ege},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wge},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:t4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Z0e},633:{T:1},634:{T:-1},635:{T:1,f:Q0e},636:{T:-1},637:{f:_de},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Dge},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ege},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},s4={6:{f:x5},10:{f:Jc},12:{f:da},13:{f:da},14:{f:Jn},15:{f:Jn},16:{f:gi},17:{f:Jn},18:{f:Jn},19:{f:da},20:{f:T8},21:{f:T8},23:{f:bV},24:{f:E8},25:{f:Jn},26:{},27:{},28:{f:Xfe},29:{},34:{f:Jn},35:{f:C8},38:{f:gi},39:{f:gi},40:{f:gi},41:{f:gi},42:{f:Jn},43:{f:Jn},47:{f:e0e},49:{f:Pfe},51:{f:da},60:{},61:{f:Cfe},64:{f:Jn},65:{f:kfe},66:{f:da},77:{},80:{},81:{},82:{},85:{f:da},89:{},90:{},91:{},92:{f:bfe},93:{f:Qfe},94:{},95:{f:Jn},96:{},97:{},99:{f:Jn},125:{f:wV},128:{f:zfe},129:{f:wfe},130:{f:da},131:{f:Jn},132:{f:Jn},133:{f:_fe},134:{},140:{f:ahe},141:{f:da},144:{},146:{f:she},151:{},152:{},153:{},154:{},155:{},156:{f:da},157:{},158:{},160:{f:dhe},161:{f:lhe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Mfe},190:{f:Rfe},193:{f:Jc},197:{},198:{},199:{},200:{},201:{},202:{f:Jn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:da},220:{},221:{f:Jn},222:{},224:{f:Bfe},225:{f:yfe},226:{f:Jc},227:{},229:{f:Jfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:jfe},253:{f:Ofe},255:{f:Sfe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:pV},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Jn},353:{f:Jc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Vfe},431:{f:Jn},432:{},433:{},434:{},437:{},438:{f:the},439:{f:Jn},440:{f:rhe},441:{},442:{f:ax},443:{},444:{f:da},445:{},446:{},448:{f:Jc},449:{f:Tfe,r:2},450:{f:Jc},512:{f:N8},513:{f:uhe},515:{f:Ufe},516:{f:Ffe},517:{f:A8},519:{f:fhe},520:{f:Nfe},523:{},545:{f:k8},549:{f:S8},566:{},574:{f:Efe},638:{f:Ife},659:{},1048:{},1054:{f:Dfe},1084:{},1212:{f:Gfe},2048:{f:nhe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:q1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Jc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:ohe,r:12},2173:{f:M0e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Jn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:qfe,r:12},2197:{},2198:{f:P0e,r:12},2199:{},2200:{},2201:{},2202:{f:Kfe,r:12},2203:{f:Jc},2204:{},2205:{},2206:{},2207:{},2211:{f:Afe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:da},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:che},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:ihe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:N8},1:{},2:{f:ghe},3:{f:mhe},4:{f:phe},5:{f:A8},7:{f:vhe},8:{},9:{f:q1},11:{},22:{f:da},30:{f:Lfe},31:{},32:{},33:{f:k8},36:{},37:{f:S8},50:{f:xhe},62:{},52:{},67:{},68:{f:da},69:{},86:{},126:{},127:{f:hhe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:yhe},223:{},234:{},354:{},421:{},518:{f:x5},521:{f:q1},536:{f:E8},547:{f:C8},561:{},579:{},1030:{f:x5},1033:{f:q1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function jo(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&tV(r)&&e.push(r)}}function z8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=a.index,l=i&&i.index||e.length,c=Vue(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<c.length;++o){var m=c[o].trim(),x=m.slice(0,3).toLowerCase();if(x=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(x!="<td"&&x!="<th")){var g=m.split(/<\/t[dh]>/i);for(l=0;l<g.length;++l){var y=g[l].trim();if(y.match(/<t[dh]/i)){for(var b=y,j=0;b.charAt(0)=="<"&&(j=b.indexOf(">"))>-1;)b=b.slice(j+1);for(var _=0;_<v.length;++_){var N=v[_];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,_=-1)}var S=rr(y.slice(0,y.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&v.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var T=S.t||S["data-t"]||"";if(!b.length){d+=h;continue}if(b=UU(b),p.s.r>u&&(p.s.r=u),p.e.r<u&&(p.e.r=u),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!b.length){d+=h;continue}var k={t:"s",v:b};r.raw||!b.trim().length||T=="s"||(b==="TRUE"?k={t:"b",v:!0}:b==="FALSE"?k={t:"b",v:!1}:isNaN(Wo(b))?isNaN(b0(b).getDate())||(k={t:"d",v:Ma(b)},r.cellDates||(k={t:"n",v:$i(k.v)}),k.z=r.dateNF||gr[14]):k={t:"n",v:Wo(b)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=k):n[dr({r:u,c:d})]=k,d+=h}}}}return n["!ref"]=Lr(p),v.length&&(n["!merges"]=v),n}function xve(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=dr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||fE(f.w||(jc(f),f.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(ade("td",h,p))}}var v="<tr>";return v+i.join("")+"</tr>"}var yve='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bve="</body></html>";function wve(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Xu(z8(r[0],t),t);var n=kE();return r.forEach(function(a,i){PE(n,z8(a,t),"Sheet"+(i+1))}),n}function _ve(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function jve(e,t){var r=t||{},n=r.header!=null?r.header:yve,a=r.footer!=null?r.footer:bve,i=[n],o=ap(e["!ref"]);r.dense=Array.isArray(e),i.push(_ve(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(xve(e,o,l,r));return i.push("</table>"+a),i.join("")}function GV(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Li(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=ap(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),v=0,m=0,x=0,g=0,y=0,b=0;for(e["!cols"]||(e["!cols"]=[]);v<l.length&&m<c;++v){var j=l[v];if(U8(j)){if(n.display)continue;p[m]={hidden:!0}}var _=j.children;for(x=g=0;x<_.length;++x){var N=_[x];if(!(n.display&&U8(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):UU(N.innerHTML),T=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var k=f[h];k.s.c==g+i&&k.s.r<m+a&&m+a<=k.e.r&&(g=k.e.c+1-i,h=-1)}b=+N.getAttribute("colspan")||1,((y=+N.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:m+a,c:g+i},e:{r:m+a+(y||1)-1,c:g+i+(b||1)-1}});var V={t:"s",v:S},C=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?V.t=C||"z":n.raw||S.trim().length==0||C=="s"||(S==="TRUE"?V={t:"b",v:!0}:S==="FALSE"?V={t:"b",v:!1}:isNaN(Wo(S))?isNaN(b0(S).getDate())||(V={t:"d",v:Ma(S)},n.cellDates||(V={t:"n",v:$i(V.v)}),V.z=n.dateNF||gr[14]):V={t:"n",v:Wo(S)})),V.z===void 0&&T!=null&&(V.z=T);var P="",U=N.getElementsByTagName("A");if(U&&U.length)for(var q=0;q<U.length&&!(U[q].hasAttribute("href")&&(P=U[q].getAttribute("href"),P.charAt(0)!="#"));++q);P&&P.charAt(0)!="#"&&(V.l={Target:P}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][g+i]=V):e[dr({c:g+i,r:m+a})]=V,u.e.c<g+i&&(u.e.c=g+i),g+=b}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=Lr(u),m>=c&&(e["!fullref"]=Lr((u.e.r=l.length-v+m-1+a,u))),e}function KV(e,t){var r=t||{},n=r.dense?[]:{};return GV(n,e,t)}function Sve(e,t){return Xu(KV(e,t),t)}function U8(e){var t="",r=Nve(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Nve(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Ave(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Br(t.replace(/<[^>]*>/g,""));return[r]}var V8={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function YV(e,t){var r=t||{},n=hE(e),a=[],i,o,l={name:""},c="",u=0,d,f,h={},p=[],v=r.dense?[]:{},m,x,g={value:""},y="",b=0,j=[],_=-1,N=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},T=0,k={},V=[],C={},P=0,U=0,q=[],z=1,I=1,R=[],G={Names:[]},F={},H=["",""],J=[],A={},M="",K=0,L=!1,Y=!1,Z=0;for(Xg.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Xg.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?v["!ref"]=Lr(S):v["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(v["!fullref"]=v["!ref"],S.e.r=r.sheetRows-1,v["!ref"]=Lr(S)),V.length&&(v["!merges"]=V),q.length&&(v["!rows"]=q),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=v,Y=!1):m[0].charAt(m[0].length-2)!=="/"&&(d=rr(m[0],!1),_=N=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,v=r.dense?[]:{},V=[],q=[],Y=!0);break;case"table-row-group":m[1]==="/"?--T:++T;break;case"table-row":case"":if(m[1]==="/"){_+=z,z=1;break}if(f=rr(m[0],!1),f.?_=f.-1:_==-1&&(_=0),z=+f["number-rows-repeated"]||1,z<10)for(Z=0;Z<z;++Z)T>0&&(q[_+Z]={level:T});N=-1;break;case"covered-table-cell":m[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(v[_]||(v[_]=[]),v[_][N]={t:"z"}):v[dr({r:_,c:N})]={t:"z"}),y="",j=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++N,g=rr(m[0],!1),I=parseInt(g["number-columns-repeated"]||"1",10),x={t:"z",v:null},g.formula&&r.cellFormula!=!1&&(x.f=M8(Br(g.formula))),(g.||g["value-type"])=="string"&&(x.t="s",x.v=Br(g["string-value"]||""),r.dense?(v[_]||(v[_]=[]),v[_][N]=x):v[dr({r:_,c:N})]=x),N+=I-1;else if(m[1]!=="/"){++N,y="",b=0,j=[],I=1;var se=z?_+z-1:_;if(N>S.e.c&&(S.e.c=N),N<S.s.c&&(S.s.c=N),_<S.s.r&&(S.s.r=_),se>S.e.r&&(S.e.r=se),g=rr(m[0],!1),J=[],A={},x={t:g.||g["value-type"],v:null},r.cellFormula)if(g.formula&&(g.formula=Br(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(P=parseInt(g["number-matrix-rows-spanned"],10)||0,U=parseInt(g["number-matrix-columns-spanned"],10)||0,C={s:{r:_,c:N},e:{r:_+P-1,c:N+U-1}},x.F=Lr(C),R.push([C,x.F])),g.formula)x.f=M8(g.formula);else for(Z=0;Z<R.length;++Z)_>=R[Z][0].s.r&&_<=R[Z][0].e.r&&N>=R[Z][0].s.c&&N<=R[Z][0].e.c&&(x.F=R[Z][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(P=parseInt(g["number-rows-spanned"],10)||0,U=parseInt(g["number-columns-spanned"],10)||0,C={s:{r:_,c:N},e:{r:_+P-1,c:N+U-1}},V.push(C)),g["number-columns-repeated"]&&(I=parseInt(g["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Cn(g["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(g.value);break;case"percentage":x.t="n",x.v=parseFloat(g.value);break;case"currency":x.t="n",x.v=parseFloat(g.value);break;case"date":x.t="d",x.v=Ma(g["date-value"]),r.cellDates||(x.t="n",x.v=$i(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=Bue(g["time-value"])/86400,r.cellDates&&(x.t="d",x.v=Ew(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(g.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",g["string-value"]!=null&&(y=Br(g["string-value"]),j=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(L=!1,x.t==="s"&&(x.v=y||"",j.length&&(x.R=j),L=b==0),F.Target&&(x.l=F),J.length>0&&(x.c=J,J=[]),y&&r.cellText!==!1&&(x.w=y),L&&(x.t="z",delete x.v),(!L||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=_))for(var W=0;W<z;++W){if(I=parseInt(g["number-columns-repeated"]||"1",10),r.dense)for(v[_+W]||(v[_+W]=[]),v[_+W][N]=W==0?x:Qa(x);--I>0;)v[_+W][N+I]=Qa(x);else for(v[dr({r:_+W,c:N})]=x;--I>0;)v[dr({r:_+W,c:N+I})]=Qa(x);S.e.c<=N&&(S.e.c=N)}I=parseInt(g["number-columns-repeated"]||"1",10),N+=I-1,I=0,x={},y="",j=[]}F={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;A.t=y,j.length&&(A.R=j),A.a=M,J.push(A)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);M="",K=0,y="",b=0,j=[];break;case"creator":m[1]==="/"?M=n.slice(K,m.index):K=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);y="",b=0,j=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(k[l.name]=c,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(c="",l=rr(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=rr(m[0],!1),c+=V8[m[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=rr(m[0],!1),c+=V8[m[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,m.index);break}else u=m.index+m[0].length;break;case"named-range":o=rr(m[0],!1),H=y5(o["cell-range-address"]);var ae={Name:o.name,Ref:H[0]+"!"+H[1]};Y&&(ae.Sheet=p.length),G.Names.push(ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!g||!g["string-value"])){var fe=Ave(n.slice(b,m.index));y=(y.length>0?y+`
`:"")+fe[0]}else rr(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{H=y5(rr(m[0])["target-range-address"]),h[H[0]]["!autofilter"]={ref:H[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(F=rr(m[0],!1),!F.href)break;F.Target=Br(F.href),delete F.href,F.Target.charAt(0)=="#"&&F.Target.indexOf(".")>-1?(H=y5(F.Target.slice(1)),F.Target="#"+H[0]+"!"+H[1]):F.Target.match(/^\.\.[\\\/]/)&&(F.Target=F.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var Q={Sheets:h,SheetNames:p,Workbook:G};return r.bookSheets&&delete Q.Sheets,Q}function H8(e,t){t=t||{},Js(e,"META-INF/manifest.xml")&&Ude(ua(e,"META-INF/manifest.xml"),t);var r=ws(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=YV(gn(r),t);return Js(e,"meta.xml")&&(n.Props=lV(ua(e,"meta.xml"))),n}function W8(e,t){return YV(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function AE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function o4(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):gn(_f(e))}function l4(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function q8(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Tve(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function ev(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Aa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function yi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=ev(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=ev(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function TE(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Cve(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=ev(e,n),i=yi(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Aa(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=yi(l.data),u=Aa(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Aa(i[3][0].data)>>>0>0),r.push(o)}return r}function Eve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=ev(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[l4(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=l4(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function kve(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Eve(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return l4(t)}function Pve(e,t,r,n){var a=AE(e),i=a.getUint32(4,!0),o=(n>1?12:8)+q8(i&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(l=a.getUint32(o,!0),o+=4),o+=q8(i&(n>1?12288:4096))*4,i&16&&(c=a.getUint32(o,!0),o+=4),i&32&&(u=a.getFloat64(o,!0),o+=8),i&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Ove(e,t,r){var n=AE(e),a=n.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=Tve(e,i),i+=16),a&2&&(u=n.getFloat64(i,!0),i+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(l=n.getUint32(i,!0),i+=4),a&16&&(o=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Fve(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Pve(e,t,r,e[0]);case 5:return Ove(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Eu(e){var t=yi(e);return ev(t[1][0].data)}function G8(e,t){var r=yi(t.data),n=Aa(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(o){var l=yi(o.data),c=Aa(l[1][0].data)>>>0;switch(n){case 1:i[c]=o4(l[3][0].data);break;case 8:{var u=e[Eu(l[9][0].data)][0],d=yi(u.data),f=e[Eu(d[1][0].data)][0],h=Aa(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=yi(f.data);i[c]=p[3].map(function(v){return o4(v.data)}).join("")}break}}),i}function Dve(e,t){var r,n,a,i,o,l,c,u,d,f,h,p,v,m,x=yi(e),g=Aa(x[1][0].data)>>>0,y=Aa(x[2][0].data)>>>0,b=((n=(r=x[8])==null?void 0:r[0])==null?void 0:n.data)&&Aa(x[8][0].data)>0||!1,j,_;if((i=(a=x[7])==null?void 0:a[0])!=null&&i.data&&t!=0)j=(l=(o=x[7])==null?void 0:o[0])==null?void 0:l.data,_=(u=(c=x[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=x[4])==null?void 0:d[0])!=null&&f.data&&t!=1)j=(p=(h=x[4])==null?void 0:h[0])==null?void 0:p.data,_=(m=(v=x[3])==null?void 0:v[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=b?4:1,S=AE(j),T=[],k=0;k<j.length/2;++k){var V=S.getUint16(k*2,!0);V<65535&&T.push([k,V])}if(T.length!=y)throw"Expected ".concat(y," cells, found ").concat(T.length);var C=[];for(k=0;k<T.length-1;++k)C[T[k][0]]=_.subarray(T[k][1]*N,T[k+1][1]*N);return T.length>=1&&(C[T[T.length-1][0]]=_.subarray(T[T.length-1][1]*N)),{R:g,cells:C}}function Lve(e,t){var r,n=yi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Aa(n[7][0].data)>>>0>0?1:0:-1,i=TE(n[5],function(o){return Dve(o,a)});return{nrows:Aa(n[4][0].data)>>>0,data:i.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function Ive(e,t,r){var n,a=yi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Aa(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Aa(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Lr(i);var o=yi(a[4][0].data),l=G8(e,e[Eu(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?G8(e,e[Eu(o[17][0].data)][0]):[],u=yi(o[3][0].data),d=0;u[1].forEach(function(f){var h=yi(f.data),p=e[Eu(h[2][0].data)][0],v=Aa(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var m=Lve(e,p);m.data.forEach(function(x,g){x.forEach(function(y,b){var j=dr({r:d+g,c:b}),_=Fve(y,l,c);_&&(r[j]=_)})}),d+=m.nrows})}function Mve(e,t){var r=yi(t.data),n={"!ref":"A1"},a=e[Eu(r[2][0].data)],i=Aa(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Ive(e,a[0],n),n}function Rve(e,t){var r,n=yi(t.data),a={name:(r=n[1])!=null&&r[0]?o4(n[1][0].data):"",sheets:[]},i=TE(n[2],Eu);return i.forEach(function(o){e[o].forEach(function(l){var c=Aa(l.meta[1][0].data);c==6e3&&a.sheets.push(Mve(e,l))})}),a}function $ve(e,t){var r=kE(),n=yi(t.data),a=TE(n[1],Eu);if(a.forEach(function(i){e[i].forEach(function(o){var l=Aa(o.meta[1][0].data);if(l==2){var c=Rve(e,o);c.sheets.forEach(function(u,d){PE(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function w5(e){var t,r,n,a,i={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=kve(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Cve(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){i[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Aa(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||o.forEach(function(c){i[c].forEach(function(u){var d=Aa(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return $ve(i,l)}function Bve(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function CE(e){Bve([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function zve(e){return Dh.WS.indexOf(e)>-1?"sheet":e==Dh.CS?"chart":e==Dh.DS?"dialog":e==Dh.MS?"macro":e&&e.length?e:"sheet"}function Uve(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,zve(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Vve(e,t,r,n,a,i,o,l,c,u,d,f){try{i[n]=ig(ws(e,r,!0),t);var h=ua(e,t),p;switch(l){case"sheet":p=Yge(h,t,a,c,i[n],u,d,f);break;case"chart":if(p=Xge(h,t,a,c,i[n],u,d,f),!p||!p["!drawel"])break;var v=Mm(p["!drawel"].Target,t),m=r4(v),x=K0e(ws(e,v,!0),ig(ws(e,m,!0),v)),g=Mm(x,v),y=r4(g);p=Oge(ws(e,g,!0),g,c,ig(ws(e,y,!0),g),u,p);break;case"macro":p=Jge(h,t,a,c,i[n],u,d,f);break;case"dialog":p=Qge(h,t,a,c,i[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=p;var b=[];i&&i[n]&&Tl(i[n]).forEach(function(j){var _="";if(i[n][j].Type==Dh.CMNT){_=Mm(i[n][j].Target,t);var N=rve(ua(e,_,!0),_,c);if(!N||!N.length)return;O8(p,N,!1)}i[n][j].Type==Dh.TCMNT&&(_=Mm(i[n][j].Target,t),b=b.concat(X0e(ua(e,_,!0),c)))}),b&&b.length&&O8(p,b,!0,c.people||[])}catch(j){if(c.WTF)throw j}}function Ws(e){return e.charAt(0)=="/"?e.slice(1):e}function Hve(e,t){if(OU(),t=t||{},CE(t),Js(e,"META-INF/manifest.xml")||Js(e,"objectdata.xml"))return H8(e,t);if(Js(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof w5<"u"){if(e.FileIndex)return w5(e);var r=Dr.utils.cfb_new();return i8(e).forEach(function(q){Wue(r,q,RU(e,q))}),w5(r)}throw new Error("Unsupported NUMBERS file")}if(!Js(e,"[Content_Types].xml"))throw Js(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Js(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=i8(e),a=Bde(ws(e,"[Content_Types].xml")),i=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",ua(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!ua(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(lg=[],a.sst)try{lg=tve(ua(e,Ws(a.sst)),a.sst,t)}catch(q){if(t.WTF)throw q}t.cellStyles&&a.themes.length&&(c=eve(ws(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Zge(ua(e,Ws(a.style)),a.style,c,t))}a.links.map(function(q){try{var z=ig(ws(e,r4(Ws(q))),q);return ave(ua(e,Ws(q)),z,q,t)}catch{}});var d=Kge(ua(e,Ws(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ua(e,Ws(a.coreprops[0]),!0),h&&(f=lV(h)),a.extprops.length!==0&&(h=ua(e,Ws(a.extprops[0]),!0),h&&Wde(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ws(e,Ws(a.custprops[0]),!0),h&&(p=Gde(h,t)));var v={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(z){return z.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(v.Props=f,v.Custprops=p),t.bookSheets&&typeof o<"u"&&(v.SheetNames=o),t.bookSheets?v.SheetNames:t.bookProps))return v;o={};var m={};t.bookDeps&&a.calcchain&&(m=nve(ua(e,Ws(a.calcchain)),a.calcchain));var x=0,g={},y,b;{var j=d.Sheets;f.Worksheets=j.length,f.SheetNames=[];for(var _=0;_!=j.length;++_)f.SheetNames[_]=j[_].name}var N=i?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),T=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Js(e,T)||(T="xl/_rels/workbook."+N+".rels");var k=ig(ws(e,T,!0),T.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=ive(ua(e,Ws(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=J0e(ua(e,Ws(a.people[0])),t)),k&&(k=Uve(k,d.Sheets));var V=ua(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=f.Worksheets;++x){var C="sheet";if(k&&k[x]?(y="xl/"+k[x][1].replace(/[\/]?xl\//,""),Js(e,y)||(y=k[x][1]),Js(e,y)||(y=T.replace(/_rels\/.*$/,"")+k[x][1]),C=k[x][2]):(y="xl/worksheets/sheet"+(x+1-V)+"."+N,y=y.replace(/sheet0\./,"sheet.")),b=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(x!=t.sheets)continue e;break;case"string":if(f.SheetNames[x].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,U=0;U!=t.sheets.length;++U)typeof t.sheets[U]=="number"&&t.sheets[U]==x&&(P=1),typeof t.sheets[U]=="string"&&t.sheets[U].toLowerCase()==f.SheetNames[x].toLowerCase()&&(P=1);if(!P)continue e}}Vve(e,y,b,f.SheetNames[x],x,g,o,C,t,d,c,u)}return v={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:m,Sheets:o,SheetNames:f.SheetNames,Strings:lg,Styles:u,Themes:c,SSF:Qa(gr)},t&&t.bookFiles&&(e.files?(v.keys=n,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(q,z){q=q.replace(/^Root Entry[\/]/,""),v.keys.push(q),v.files[q]=e.FileIndex[z]}))),t&&t.bookVBA&&(a.vba.length>0?v.vbaraw=ua(e,Ws(a.vba[0]),!0):a.defaults&&a.defaults.bin===tpe&&(v.vbaraw=ua(e,"xl/vbaProject.bin",!0))),v}function Wve(e,t){var r=t||{},n="Workbook",a=Dr.find(e,n);try{if(n="/!DataSpaces/Version",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Mhe(a.content),n="/!DataSpaces/DataSpaceMap",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=$he(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Bhe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Uhe(a.content)}catch{}if(n="/EncryptionInfo",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=Vhe(a.content);if(n="/EncryptedPackage",a=Dr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function EE(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Fs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function qve(e,t){return Dr.find(e,"EncryptedPackage")?Wve(e,t):qV(e,t)}function Gve(e,t){var r,n=e,a=t||{};return a.type||(a.type=Pr&&Buffer.isBuffer(e)?"buffer":"base64"),r=$U(n,a),Hve(r,a)}function XV(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return i4(e.slice(r),t);default:break e}return Jg.to_workbook(e,t)}function Kve(e,t){var r="",n=EE(e,t);switch(t.type){case"base64":r=Fs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=cf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=gn(r)),t.type="binary",XV(r,t)}function Yve(e,t){var r=e;return t.type=="base64"&&(r=Fs(r)),r=uu.utils.decode(1200,r.slice(2),"str"),t.type="binary",XV(r,t)}function Xve(e){return e.match(/[^\x00-\x7F]/)?Rm(e):e}function _5(e,t,r,n){return n?(r.type="string",Jg.to_workbook(e,r)):Jg.to_workbook(t,r)}function c4(e,t){bU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return c4(new Uint8Array(e),(r=Qa(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Zh={},r.dateNF&&(Zh.dateNF=r.dateNF),r.type||(r.type=Pr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Pr?"buffer":"binary",n=Rue(e),typeof Uint8Array<"u"&&!Pr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Xve(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=Qa(r),r.type="array",c4(oE(n),r)}switch((a=EE(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return qve(Dr.read(n,r),r);break;case 9:if(a[1]<=8)return qV(n,r);break;case 60:return i4(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return She(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return _he.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Gve(n,r):_5(e,n,r,i);case 239:return a[3]===60?i4(n,r):_5(e,n,r,i);case 255:if(a[1]===254)return Yve(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return og.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return og.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return P8.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return t0e.to_workbook(n,r);break;case 10:case 13:case 32:return Kve(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return bhe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?P8.to_workbook(n,r):_5(e,n,r,i)}function Jve(e,t,r,n,a,i,o,l){var c=Za(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var v=o?e[r][p]:e[n[p]+c];if(v===void 0||v.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var m=v.v;switch(v.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[p]!=null){if(m==null)if(v.t=="e"&&m===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&m===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(v.t!=="n"||v.t==="n"&&l.rawNumbers!==!1)?m:jc(v,m,l);m!=null&&(f=!1)}}return{row:h,isempty:f}}function u4(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Gn(d);break;case"number":c=Gn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Za(c.s.r),h=[],p=[],v=0,m=0,x=Array.isArray(e),g=c.s.r,y=0,b={};x&&!e[g]&&(e[g]=[]);var j=u.skipHidden&&e["!cols"]||[],_=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(j[y]||{}).hidden)switch(h[y]=ja(y),r=x?e[g][y]:e[h[y]+f],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=jc(r,null,u),m=b[o]||0,!m)b[o]=1;else{do l=o+"_"+m++;while(b[l]);b[o]=m,b[l]=1}i[y]=l}for(g=c.s.r+a;g<=c.e.r;++g)if(!(_[g]||{}).hidden){var N=Jve(e,c,g,h,n,i,x,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[v++]=N.row)}return p.length=v,p}var K8=/"/g;function Qve(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Za(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=l.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:jc(p,null,l));for(var v=0,m=0;v!==d.length;++v)if((m=d.charCodeAt(v))===a||m===i||m===34||l.forceQuotes){d='"'+d.replace(K8,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(K8,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function JV(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Gn(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(h[v]||{}).hidden||(f[v]=ja(v));for(var m=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=Qve(e,a,x,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function Zve(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=JV(e,t);return r}function exe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Gn(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ja(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Za(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function QV(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Li(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Gn(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,x){Tl(m).forEach(function(g){(p=h.indexOf(g))==-1&&(h[p=h.length]=g);var y=m[g],b="z",j="",_=dr({c:l+p,r:o+x+a});u=tv(i,_),y&&typeof y=="object"&&!(y instanceof Date)?i[_]=y:(typeof y=="number"?b="n":typeof y=="boolean"?b="b":typeof y=="string"?b="s":y instanceof Date?(b="d",n.cellDates||(b="n",y=$i(y)),j=n.dateNF||gr[14]):y===null&&n.nullError&&(b="e",y=0),u?(u.t=b,u.v=y,delete u.w,delete u.R,j&&(u.z=j)):i[_]=u={t:b,v:y},j&&(u.z=j))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var v=Za(o);if(a)for(p=0;p<h.length;++p)i[ja(p+l)+v]={t:"s",v:h[p]};return i["!ref"]=Lr(d),i}function txe(e,t){return QV(null,e,t)}function tv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Li(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?tv(e,dr(t)):tv(e,dr({r:t,c:r||0}))}function rxe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function kE(){return{SheetNames:[],Sheets:{}}}function PE(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Bge(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function nxe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=rxe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function axe(e,t){return e.z=t,e}function ZV(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function ixe(e,t,r){return ZV(e,"#"+t,r)}function sxe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function oxe(e,t,r,n){for(var a=typeof t!="string"?t:Gn(t),i=typeof t=="string"?t:Lr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=tv(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var lxe={encode_col:ja,encode_row:Za,encode_cell:dr,encode_range:Lr,decode_col:gE,decode_row:mE,split_cell:yde,decode_cell:Li,decode_range:ap,format_cell:jc,sheet_add_aoa:nV,sheet_add_json:QV,sheet_add_dom:GV,aoa_to_sheet:ip,json_to_sheet:txe,table_to_sheet:KV,table_to_book:Sve,sheet_to_csv:JV,sheet_to_txt:Zve,sheet_to_json:u4,sheet_to_html:jve,sheet_to_formulae:exe,sheet_to_row_object_array:u4,sheet_get_cell:tv,book_new:kE,book_append_sheet:PE,book_set_sheet_visibility:nxe,cell_set_number_format:axe,cell_set_hyperlink:ZV,cell_set_internal_link:ixe,cell_add_comment:sxe,sheet_set_array_formula:oxe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const cxe=({isOpen:e,onClose:t,onSuccess:r})=>{const{toast:n}=Tr(),[a,i]=O.useState(null),[o,l]=O.useState([]),[c,u]=O.useState(!1),[d,f]=O.useState(!1),h=m=>{const x=m.target.files[0];x&&(i(x),p(x))},p=m=>{f(!0);const x=new FileReader;x.onload=g=>{const y=g.target.result,b=c4(y,{type:"binary"}),j=b.SheetNames[0],_=b.Sheets[j],S=lxe.sheet_to_json(_).map(T=>({name:T.Name||T["Student Name"]||T.name,class:T.Class||T.Grade||T.class,teacher:T.Teacher||T.Rebbe||T.teacher,father_name:T.Father||T["Father Name"]||"",father_phone:T["Father Phone"]||"",mother_name:T.Mother||T["Mother Name"]||"",mother_phone:T["Mother Phone"]||""})).filter(T=>T.name&&T.class);l(S),f(!1)},x.readAsBinaryString(m)},v=async()=>{if(o.length!==0){u(!0);try{const{error:m}=await Te.from("students").insert(o);if(m)throw m;n({title:"Import Successful",description:`Successfully imported ${o.length} students.`}),r(),t(),i(null),l([])}catch(m){console.error(m),n({variant:"destructive",title:"Import Failed",description:m.message})}finally{u(!1)}}};return s.jsx(Zt,{open:e,onOpenChange:t,children:s.jsxs(Xt,{className:"max-w-xl",children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Bulk Import Students"}),s.jsx(Nl,{children:"Upload an Excel (.xlsx) file with columns: Name, Class, Teacher, Father Name, etc."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-8 text-center hover:bg-slate-50 transition-colors",children:[s.jsx("input",{type:"file",accept:".xlsx, .xls, .csv",onChange:h,className:"hidden",id:"file-upload"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:[s.jsx(gre,{className:"h-12 w-12 text-slate-400 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:a?a.name:"Click to upload Excel file"}),s.jsx("span",{className:"text-xs text-slate-500 mt-1",children:"Supports .xlsx, .xls, .csv"})]})]}),d&&s.jsxs("div",{className:"text-center py-4 text-slate-500",children:[s.jsx(Sn,{className:"animate-spin h-6 w-6 mx-auto mb-2"}),"Processing file..."]}),o.length>0&&s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border max-h-60 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Preview (",o.length," students)"]}),s.jsxs("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(aC,{size:12})," Ready to import"]})]}),s.jsxs("table",{className:"w-full text-xs text-left",children:[s.jsx("thead",{className:"text-slate-500 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-1",children:"Name"}),s.jsx("th",{className:"py-1",children:"Class"}),s.jsx("th",{className:"py-1",children:"Teacher"})]})}),s.jsxs("tbody",{className:"divide-y",children:[o.slice(0,5).map((m,x)=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 font-medium",children:m.name}),s.jsx("td",{className:"py-1",children:m.class}),s.jsx("td",{className:"py-1",children:m.teacher})]},x)),o.length>5&&s.jsx("tr",{children:s.jsxs("td",{colSpan:"3",className:"py-2 text-center text-slate-400 italic",children:["...and ",o.length-5," more"]})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Ne,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(Ne,{onClick:v,disabled:o.length===0||c,className:"bg-green-600 hover:bg-green-700",children:[c?s.jsx(Sn,{className:"animate-spin mr-2 h-4 w-4"}):s.jsx(oB,{className:"mr-2 h-4 w-4"}),"Import Students"]})]})]})]})})},Ye=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:wr("rounded-lg border bg-card text-card-foreground shadow-sm bg-white",e),...t}));Ye.displayName="Card";const ir=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:wr("flex flex-col space-y-1.5 p-6",e),...t}));ir.displayName="CardHeader";const sr=O.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:wr("text-2xl font-semibold leading-none tracking-tight",e),...t}));sr.displayName="CardTitle";const Sa=O.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:wr("text-sm text-muted-foreground text-slate-500",e),...t}));Sa.displayName="CardDescription";const Xe=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:wr("p-6 pt-0",e),...t}));Xe.displayName="CardContent";const rv=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:wr("flex items-center p-6 pt-0",e),...t}));rv.displayName="CardFooter";var j5="rovingFocusGroup.onEntryFocus",uxe={bubbles:!1,cancelable:!0},Fw="RovingFocusGroup",[d4,eH,dxe]=QT(Fw),[fxe,tH]=yf(Fw,[dxe]),[hxe,pxe]=fxe(Fw),rH=O.forwardRef((e,t)=>s.jsx(d4.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(d4.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(mxe,{...e,ref:t})})}));rH.displayName=Fw;var mxe=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=O.useRef(null),p=Pn(t,h),v=KC(i),[m=null,x]=f0({prop:o,defaultProp:l,onChange:c}),[g,y]=O.useState(!1),b=is(u),j=eH(r),_=O.useRef(!1),[N,S]=O.useState(0);return O.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(j5,b),()=>T.removeEventListener(j5,b)},[b]),s.jsx(hxe,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:m,onItemFocus:O.useCallback(T=>x(T),[x]),onItemShiftTab:O.useCallback(()=>y(!0),[]),onFocusableItemAdd:O.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:O.useCallback(()=>S(T=>T-1),[]),children:s.jsx(jr.div,{tabIndex:g||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:fr(e.onMouseDown,()=>{_.current=!0}),onFocus:fr(e.onFocus,T=>{const k=!_.current;if(T.target===T.currentTarget&&k&&!g){const V=new CustomEvent(j5,uxe);if(T.currentTarget.dispatchEvent(V),!V.defaultPrevented){const C=j().filter(I=>I.focusable),P=C.find(I=>I.active),U=C.find(I=>I.id===m),z=[P,U,...C].filter(Boolean).map(I=>I.ref.current);iH(z,d)}}_.current=!1}),onBlur:fr(e.onBlur,()=>y(!1))})})}),nH="RovingFocusGroupItem",aH=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=Cu(),c=i||l,u=pxe(nH,r),d=u.currentTabStopId===c,f=eH(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return O.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),s.jsx(d4.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(jr.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:fr(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:fr(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:fr(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=xxe(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let g=f().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const y=g.indexOf(v.currentTarget);g=u.loop?yxe(g,y+1):g.slice(y+1)}setTimeout(()=>iH(g))}})})})});aH.displayName=nH;var gxe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vxe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xxe(e,t,r){const n=vxe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gxe[n]}function iH(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yxe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var bxe=rH,wxe=aH,OE="Tabs",[_xe,w9e]=yf(OE,[tH]),sH=tH(),[jxe,FE]=_xe(OE),oH=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=KC(l),[f,h]=f0({prop:n,onChange:a,defaultProp:i});return s.jsx(jxe,{scope:r,baseId:Cu(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(jr.div,{dir:d,"data-orientation":o,...u,ref:t})})});oH.displayName=OE;var lH="TabsList",cH=O.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=FE(lH,r),o=sH(r);return s.jsx(bxe,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(jr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});cH.displayName=lH;var uH="TabsTrigger",dH=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=FE(uH,r),l=sH(r),c=pH(o.baseId,n),u=mH(o.baseId,n),d=n===o.value;return s.jsx(wxe,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(jr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:fr(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:fr(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:fr(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});dH.displayName=uH;var fH="TabsContent",hH=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=FE(fH,r),c=pH(l.baseId,n),u=mH(l.baseId,n),d=n===l.value,f=O.useRef(d);return O.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(J0,{present:a||d,children:({present:h})=>s.jsx(jr.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});hH.displayName=fH;function pH(e,t){return`${e}-trigger-${t}`}function mH(e,t){return`${e}-content-${t}`}var Sxe=oH,gH=cH,vH=dH,xH=hH;const Jo=Sxe,uo=Ce.forwardRef(({className:e,...t},r)=>s.jsx(gH,{ref:r,className:wr("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500",e),...t}));uo.displayName=gH.displayName;const vr=Ce.forwardRef(({className:e,...t},r)=>s.jsx(vH,{ref:r,className:wr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm",e),...t}));vr.displayName=vH.displayName;const Ur=Ce.forwardRef(({className:e,...t},r)=>s.jsx(xH,{ref:r,className:wr("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2",e),...t}));Ur.displayName=xH.displayName;var Nxe=Array.isArray,ss=Nxe,Axe=typeof In=="object"&&In&&In.Object===Object&&In,yH=Axe,Txe=yH,Cxe=typeof self=="object"&&self&&self.Object===Object&&self,Exe=Txe||Cxe||Function("return this")(),Ol=Exe,kxe=Ol,Pxe=kxe.Symbol,lx=Pxe,Y8=lx,bH=Object.prototype,Oxe=bH.hasOwnProperty,Fxe=bH.toString,cm=Y8?Y8.toStringTag:void 0;function Dxe(e){var t=Oxe.call(e,cm),r=e[cm];try{e[cm]=void 0;var n=!0}catch{}var a=Fxe.call(e);return n&&(t?e[cm]=r:delete e[cm]),a}var Lxe=Dxe,Ixe=Object.prototype,Mxe=Ixe.toString;function Rxe(e){return Mxe.call(e)}var $xe=Rxe,X8=lx,Bxe=Lxe,zxe=$xe,Uxe="[object Null]",Vxe="[object Undefined]",J8=X8?X8.toStringTag:void 0;function Hxe(e){return e==null?e===void 0?Vxe:Uxe:J8&&J8 in Object(e)?Bxe(e):zxe(e)}var Ec=Hxe;function Wxe(e){return e!=null&&typeof e=="object"}var kc=Wxe,qxe=Ec,Gxe=kc,Kxe="[object Symbol]";function Yxe(e){return typeof e=="symbol"||Gxe(e)&&qxe(e)==Kxe}var sp=Yxe,Xxe=ss,Jxe=sp,Qxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zxe=/^\w*$/;function e1e(e,t){if(Xxe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Jxe(e)?!0:Zxe.test(e)||!Qxe.test(e)||t!=null&&e in Object(t)}var DE=e1e;function t1e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ju=t1e;const op=Hr(Ju);var r1e=Ec,n1e=Ju,a1e="[object AsyncFunction]",i1e="[object Function]",s1e="[object GeneratorFunction]",o1e="[object Proxy]";function l1e(e){if(!n1e(e))return!1;var t=r1e(e);return t==i1e||t==s1e||t==a1e||t==o1e}var LE=l1e;const _r=Hr(LE);var c1e=Ol,u1e=c1e["__core-js_shared__"],d1e=u1e,S5=d1e,Q8=function(){var e=/[^.]+$/.exec(S5&&S5.keys&&S5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function f1e(e){return!!Q8&&Q8 in e}var h1e=f1e,p1e=Function.prototype,m1e=p1e.toString;function g1e(e){if(e!=null){try{return m1e.call(e)}catch{}try{return e+""}catch{}}return""}var wH=g1e,v1e=LE,x1e=h1e,y1e=Ju,b1e=wH,w1e=/[\\^$.*+?()[\]{}|]/g,_1e=/^\[object .+?Constructor\]$/,j1e=Function.prototype,S1e=Object.prototype,N1e=j1e.toString,A1e=S1e.hasOwnProperty,T1e=RegExp("^"+N1e.call(A1e).replace(w1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C1e(e){if(!y1e(e)||x1e(e))return!1;var t=v1e(e)?T1e:_1e;return t.test(b1e(e))}var E1e=C1e;function k1e(e,t){return e==null?void 0:e[t]}var P1e=k1e,O1e=E1e,F1e=P1e;function D1e(e,t){var r=F1e(e,t);return O1e(r)?r:void 0}var Tf=D1e,L1e=Tf,I1e=L1e(Object,"create"),Dw=I1e,Z8=Dw;function M1e(){this.__data__=Z8?Z8(null):{},this.size=0}var R1e=M1e;function $1e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var B1e=$1e,z1e=Dw,U1e="__lodash_hash_undefined__",V1e=Object.prototype,H1e=V1e.hasOwnProperty;function W1e(e){var t=this.__data__;if(z1e){var r=t[e];return r===U1e?void 0:r}return H1e.call(t,e)?t[e]:void 0}var q1e=W1e,G1e=Dw,K1e=Object.prototype,Y1e=K1e.hasOwnProperty;function X1e(e){var t=this.__data__;return G1e?t[e]!==void 0:Y1e.call(t,e)}var J1e=X1e,Q1e=Dw,Z1e="__lodash_hash_undefined__";function eye(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Q1e&&t===void 0?Z1e:t,this}var tye=eye,rye=R1e,nye=B1e,aye=q1e,iye=J1e,sye=tye;function lp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lp.prototype.clear=rye;lp.prototype.delete=nye;lp.prototype.get=aye;lp.prototype.has=iye;lp.prototype.set=sye;var oye=lp;function lye(){this.__data__=[],this.size=0}var cye=lye;function uye(e,t){return e===t||e!==e&&t!==t}var IE=uye,dye=IE;function fye(e,t){for(var r=e.length;r--;)if(dye(e[r][0],t))return r;return-1}var Lw=fye,hye=Lw,pye=Array.prototype,mye=pye.splice;function gye(e){var t=this.__data__,r=hye(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():mye.call(t,r,1),--this.size,!0}var vye=gye,xye=Lw;function yye(e){var t=this.__data__,r=xye(t,e);return r<0?void 0:t[r][1]}var bye=yye,wye=Lw;function _ye(e){return wye(this.__data__,e)>-1}var jye=_ye,Sye=Lw;function Nye(e,t){var r=this.__data__,n=Sye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Aye=Nye,Tye=cye,Cye=vye,Eye=bye,kye=jye,Pye=Aye;function cp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cp.prototype.clear=Tye;cp.prototype.delete=Cye;cp.prototype.get=Eye;cp.prototype.has=kye;cp.prototype.set=Pye;var Iw=cp,Oye=Tf,Fye=Ol,Dye=Oye(Fye,"Map"),ME=Dye,eF=oye,Lye=Iw,Iye=ME;function Mye(){this.size=0,this.__data__={hash:new eF,map:new(Iye||Lye),string:new eF}}var Rye=Mye;function $ye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Bye=$ye,zye=Bye;function Uye(e,t){var r=e.__data__;return zye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Mw=Uye,Vye=Mw;function Hye(e){var t=Vye(this,e).delete(e);return this.size-=t?1:0,t}var Wye=Hye,qye=Mw;function Gye(e){return qye(this,e).get(e)}var Kye=Gye,Yye=Mw;function Xye(e){return Yye(this,e).has(e)}var Jye=Xye,Qye=Mw;function Zye(e,t){var r=Qye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var e2e=Zye,t2e=Rye,r2e=Wye,n2e=Kye,a2e=Jye,i2e=e2e;function up(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}up.prototype.clear=t2e;up.prototype.delete=r2e;up.prototype.get=n2e;up.prototype.has=a2e;up.prototype.set=i2e;var RE=up,_H=RE,s2e="Expected a function";function $E(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(s2e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new($E.Cache||_H),r}$E.Cache=_H;var jH=$E;const o2e=Hr(jH);var l2e=jH,c2e=500;function u2e(e){var t=l2e(e,function(n){return r.size===c2e&&r.clear(),n}),r=t.cache;return t}var d2e=u2e,f2e=d2e,h2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p2e=/\\(\\)?/g,m2e=f2e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(h2e,function(r,n,a,i){t.push(a?i.replace(p2e,"$1"):n||r)}),t}),g2e=m2e;function v2e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var BE=v2e,tF=lx,x2e=BE,y2e=ss,b2e=sp,w2e=1/0,rF=tF?tF.prototype:void 0,nF=rF?rF.toString:void 0;function SH(e){if(typeof e=="string")return e;if(y2e(e))return x2e(e,SH)+"";if(b2e(e))return nF?nF.call(e):"";var t=e+"";return t=="0"&&1/e==-w2e?"-0":t}var _2e=SH,j2e=_2e;function S2e(e){return e==null?"":j2e(e)}var NH=S2e,N2e=ss,A2e=DE,T2e=g2e,C2e=NH;function E2e(e,t){return N2e(e)?e:A2e(e,t)?[e]:T2e(C2e(e))}var AH=E2e,k2e=sp,P2e=1/0;function O2e(e){if(typeof e=="string"||k2e(e))return e;var t=e+"";return t=="0"&&1/e==-P2e?"-0":t}var Rw=O2e,F2e=AH,D2e=Rw;function L2e(e,t){t=F2e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[D2e(t[r++])];return r&&r==n?e:void 0}var zE=L2e,I2e=zE;function M2e(e,t,r){var n=e==null?void 0:I2e(e,t);return n===void 0?r:n}var TH=M2e;const no=Hr(TH);function R2e(e){return e==null}var $2e=R2e;const Er=Hr($2e);var B2e=Ec,z2e=ss,U2e=kc,V2e="[object String]";function H2e(e){return typeof e=="string"||!z2e(e)&&U2e(e)&&B2e(e)==V2e}var W2e=H2e;const cx=Hr(W2e);var CH={exports:{}},rn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE=Symbol.for("react.element"),VE=Symbol.for("react.portal"),$w=Symbol.for("react.fragment"),Bw=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),Uw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),q2e=Symbol.for("react.server_context"),Hw=Symbol.for("react.forward_ref"),Ww=Symbol.for("react.suspense"),qw=Symbol.for("react.suspense_list"),Gw=Symbol.for("react.memo"),Kw=Symbol.for("react.lazy"),G2e=Symbol.for("react.offscreen"),EH;EH=Symbol.for("react.module.reference");function fo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case UE:switch(e=e.type,e){case $w:case zw:case Bw:case Ww:case qw:return e;default:switch(e=e&&e.$$typeof,e){case q2e:case Vw:case Hw:case Kw:case Gw:case Uw:return e;default:return t}}case VE:return t}}}rn.ContextConsumer=Vw;rn.ContextProvider=Uw;rn.Element=UE;rn.ForwardRef=Hw;rn.Fragment=$w;rn.Lazy=Kw;rn.Memo=Gw;rn.Portal=VE;rn.Profiler=zw;rn.StrictMode=Bw;rn.Suspense=Ww;rn.SuspenseList=qw;rn.isAsyncMode=function(){return!1};rn.isConcurrentMode=function(){return!1};rn.isContextConsumer=function(e){return fo(e)===Vw};rn.isContextProvider=function(e){return fo(e)===Uw};rn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===UE};rn.isForwardRef=function(e){return fo(e)===Hw};rn.isFragment=function(e){return fo(e)===$w};rn.isLazy=function(e){return fo(e)===Kw};rn.isMemo=function(e){return fo(e)===Gw};rn.isPortal=function(e){return fo(e)===VE};rn.isProfiler=function(e){return fo(e)===zw};rn.isStrictMode=function(e){return fo(e)===Bw};rn.isSuspense=function(e){return fo(e)===Ww};rn.isSuspenseList=function(e){return fo(e)===qw};rn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$w||e===zw||e===Bw||e===Ww||e===qw||e===G2e||typeof e=="object"&&e!==null&&(e.$$typeof===Kw||e.$$typeof===Gw||e.$$typeof===Uw||e.$$typeof===Vw||e.$$typeof===Hw||e.$$typeof===EH||e.getModuleId!==void 0)};rn.typeOf=fo;CH.exports=rn;var K2e=CH.exports,Y2e=Ec,X2e=kc,J2e="[object Number]";function Q2e(e){return typeof e=="number"||X2e(e)&&Y2e(e)==J2e}var kH=Q2e;const Z2e=Hr(kH);var ebe=kH;function tbe(e){return ebe(e)&&e!=+e}var rbe=tbe;const ux=Hr(rbe);var Uo=function(t){return t===0?0:t>0?1:-1},Fd=function(t){return cx(t)&&t.indexOf("%")===t.length-1},Et=function(t){return Z2e(t)&&!ux(t)},Na=function(t){return Et(t)||cx(t)},nbe=0,dx=function(t){var r=++nbe;return"".concat(t||"").concat(r)},df=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Et(t)&&!cx(t))return n;var i;if(Fd(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ux(i)&&(i=n),a&&i>r&&(i=r),i},fu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},abe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Io=function(t,r){return Et(t)&&Et(r)?function(n){return t+n*(r-t)}:function(){return r}};function $2(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):no(n,t))===r})}function e0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function f4(e){"@babel/helpers - typeof";return f4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f4(e)}var ibe=["viewBox","children"],sbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aF=["points","pathLength"],N5={svg:ibe,polygon:aF,polyline:aF},HE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],B2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!op(n))return null;var a={};return Object.keys(n).forEach(function(i){HE.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},obe=function(t,r,n){return function(a){return t(r,n,a),null}},z2=function(t,r,n){if(!op(t)||f4(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];HE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=obe(o,r,n))}),a},lbe=["children"],cbe=["children"];function iF(e,t){if(e==null)return{};var r=ube(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ube(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h4(e){"@babel/helpers - typeof";return h4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h4(e)}var sF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},dc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},oF=null,A5=null,WE=function e(t){if(t===oF&&Array.isArray(A5))return A5;var r=[];return O.Children.forEach(t,function(n){Er(n)||(K2e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),A5=r,oF=t,r};function ao(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return dc(a)}):n=[dc(t)],WE(e).forEach(function(a){var i=no(a,"type.displayName")||no(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function vs(e,t){var r=ao(e,t);return r&&r[0]}var lF=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Et(n)||n<=0||!Et(a)||a<=0)},dbe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fbe=function(t){return t&&t.type&&cx(t.type)&&dbe.indexOf(t.type)>=0},hbe=function(t){return t&&h4(t)==="object"&&"clipDot"in t},pbe=function(t,r,n,a){var i,o=(i=N5==null?void 0:N5[a])!==null&&i!==void 0?i:[];return!_r(t)&&(a&&o.includes(r)||sbe.includes(r))||n&&HE.includes(r)},Or=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(O.isValidElement(t)&&(a=t.props),!op(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;pbe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},p4=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return cF(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!cF(i,o))return!1}return!0},cF=function(t,r){if(Er(t)&&Er(r))return!0;if(!Er(t)&&!Er(r)){var n=t.props||{},a=n.children,i=iF(n,lbe),o=r.props||{},l=o.children,c=iF(o,cbe);return a&&l?e0(i,c)&&p4(a,l):!a&&!l?e0(i,c):!1}return!1},uF=function(t,r){var n=[],a={};return WE(t).forEach(function(i,o){if(fbe(i))n.push(i);else if(i){var l=dc(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},mbe=function(t){var r=t&&t.type;return r&&sF[r]?sF[r]:null},gbe=function(t,r){return WE(r).indexOf(t)},vbe=["children","width","height","viewBox","className","style","title","desc"];function m4(){return m4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m4.apply(this,arguments)}function xbe(e,t){if(e==null)return{};var r=ybe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ybe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g4(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=xbe(e,vbe),d=a||{width:r,height:n,x:0,y:0},f=Ir("recharts-surface",i);return Ce.createElement("svg",m4({},Or(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Ce.createElement("title",null,l),Ce.createElement("desc",null,c),t)}var bbe=["children","className"];function v4(){return v4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v4.apply(this,arguments)}function wbe(e,t){if(e==null)return{};var r=_be(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _be(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var na=Ce.forwardRef(function(e,t){var r=e.children,n=e.className,a=wbe(e,bbe),i=Ir("recharts-layer",n);return Ce.createElement("g",v4({className:i},Or(a,!0),{ref:t}),r)}),fc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function jbe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Sbe=jbe,Nbe=Sbe;function Abe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Nbe(e,t,r)}var Tbe=Abe,Cbe="\\ud800-\\udfff",Ebe="\\u0300-\\u036f",kbe="\\ufe20-\\ufe2f",Pbe="\\u20d0-\\u20ff",Obe=Ebe+kbe+Pbe,Fbe="\\ufe0e\\ufe0f",Dbe="\\u200d",Lbe=RegExp("["+Dbe+Cbe+Obe+Fbe+"]");function Ibe(e){return Lbe.test(e)}var PH=Ibe;function Mbe(e){return e.split("")}var Rbe=Mbe,OH="\\ud800-\\udfff",$be="\\u0300-\\u036f",Bbe="\\ufe20-\\ufe2f",zbe="\\u20d0-\\u20ff",Ube=$be+Bbe+zbe,Vbe="\\ufe0e\\ufe0f",Hbe="["+OH+"]",x4="["+Ube+"]",y4="\\ud83c[\\udffb-\\udfff]",Wbe="(?:"+x4+"|"+y4+")",FH="[^"+OH+"]",DH="(?:\\ud83c[\\udde6-\\uddff]){2}",LH="[\\ud800-\\udbff][\\udc00-\\udfff]",qbe="\\u200d",IH=Wbe+"?",MH="["+Vbe+"]?",Gbe="(?:"+qbe+"(?:"+[FH,DH,LH].join("|")+")"+MH+IH+")*",Kbe=MH+IH+Gbe,Ybe="(?:"+[FH+x4+"?",x4,DH,LH,Hbe].join("|")+")",Xbe=RegExp(y4+"(?="+y4+")|"+Ybe+Kbe,"g");function Jbe(e){return e.match(Xbe)||[]}var Qbe=Jbe,Zbe=Rbe,ewe=PH,twe=Qbe;function rwe(e){return ewe(e)?twe(e):Zbe(e)}var nwe=rwe,awe=Tbe,iwe=PH,swe=nwe,owe=NH;function lwe(e){return function(t){t=owe(t);var r=iwe(t)?swe(t):void 0,n=r?r[0]:t.charAt(0),a=r?awe(r,1).join(""):t.slice(1);return n[e]()+a}}var cwe=lwe,uwe=cwe,dwe=uwe("toUpperCase"),fwe=dwe;const Yw=Hr(fwe);function pn(e){return function(){return e}}const RH=Math.cos,U2=Math.sin,Qo=Math.sqrt,V2=Math.PI,Xw=2*V2,b4=Math.PI,w4=2*b4,yd=1e-6,hwe=w4-yd;function $H(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function pwe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $H;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class mwe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$H:pwe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>yd)if(!(Math.abs(f*c-u*d)>yd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=a-l,m=c*c+u*u,x=p*p+v*v,g=Math.sqrt(m),y=Math.sqrt(h),b=i*Math.tan((b4-Math.acos((m+h-x)/(2*g*y)))/2),j=b/y,_=b/g;Math.abs(j-1)>yd&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>d*v)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>yd||Math.abs(this._y1-d)>yd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%w4+w4),h>hwe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>yd&&this._append`A${n},${n},0,${+(h>=b4)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new mwe(t)}function GE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BH(e){this._context=e}BH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jw(e){return new BH(e)}function zH(e){return e[0]}function UH(e){return e[1]}function VH(e,t){var r=pn(!0),n=null,a=Jw,i=null,o=qE(l);e=typeof e=="function"?e:e===void 0?zH:pn(e),t=typeof t=="function"?t:t===void 0?UH:pn(t);function l(c){var u,d=(c=GE(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:pn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:pn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:pn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function X1(e,t,r){var n=null,a=pn(!0),i=null,o=Jw,l=null,c=qE(u);e=typeof e=="function"?e:e===void 0?zH:pn(+e),t=typeof t=="function"?t:pn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UH:pn(+r);function u(f){var h,p,v,m=(f=GE(f)).length,x,g=!1,y,b=new Array(m),j=new Array(m);for(i==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&a(x=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(b[v],j[v]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(x,h,f),j[h]=+t(x,h,f),l.point(n?+n(x,h,f):b[h],r?+r(x,h,f):j[h]))}if(y)return l=null,y+""||null}function d(){return VH().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:pn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:pn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:pn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:pn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:pn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:pn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:pn(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class HH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function gwe(e){return new HH(e,!0)}function vwe(e){return new HH(e,!1)}const KE={draw(e,t){const r=Qo(t/V2);e.moveTo(r,0),e.arc(0,0,r,0,Xw)}},xwe={draw(e,t){const r=Qo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},WH=Qo(1/3),ywe=WH*2,bwe={draw(e,t){const r=Qo(t/ywe),n=r*WH;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},wwe={draw(e,t){const r=Qo(t),n=-r/2;e.rect(n,n,r,r)}},_we=.8908130915292852,qH=U2(V2/10)/U2(7*V2/10),jwe=U2(Xw/10)*qH,Swe=-RH(Xw/10)*qH,Nwe={draw(e,t){const r=Qo(t*_we),n=jwe*r,a=Swe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Xw*i/5,l=RH(o),c=U2(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},T5=Qo(3),Awe={draw(e,t){const r=-Qo(t/(T5*3));e.moveTo(0,r*2),e.lineTo(-T5*r,-r),e.lineTo(T5*r,-r),e.closePath()}},qs=-.5,Gs=Qo(3)/2,_4=1/Qo(12),Twe=(_4/2+1)*3,Cwe={draw(e,t){const r=Qo(t/Twe),n=r/2,a=r*_4,i=n,o=r*_4+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(qs*n-Gs*a,Gs*n+qs*a),e.lineTo(qs*i-Gs*o,Gs*i+qs*o),e.lineTo(qs*l-Gs*c,Gs*l+qs*c),e.lineTo(qs*n+Gs*a,qs*a-Gs*n),e.lineTo(qs*i+Gs*o,qs*o-Gs*i),e.lineTo(qs*l+Gs*c,qs*c-Gs*l),e.closePath()}};function Ewe(e,t){let r=null,n=qE(a);e=typeof e=="function"?e:pn(e||KE),t=typeof t=="function"?t:pn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:pn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:pn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function H2(){}function W2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function GH(e){this._context=e}GH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:W2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:W2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kwe(e){return new GH(e)}function KH(e){this._context=e}KH.prototype={areaStart:H2,areaEnd:H2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:W2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pwe(e){return new KH(e)}function YH(e){this._context=e}YH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:W2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Owe(e){return new YH(e)}function XH(e){this._context=e}XH.prototype={areaStart:H2,areaEnd:H2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Fwe(e){return new XH(e)}function dF(e){return e<0?-1:1}function fF(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(dF(i)+dF(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function hF(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function C5(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function q2(e){this._context=e}q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:C5(this,this._t0,hF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,C5(this,hF(this,r=fF(this,e,t)),r);break;default:C5(this,this._t0,r=fF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function JH(e){this._context=new QH(e)}(JH.prototype=Object.create(q2.prototype)).point=function(e,t){q2.prototype.point.call(this,t,e)};function QH(e){this._context=e}QH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Dwe(e){return new q2(e)}function Lwe(e){return new JH(e)}function ZH(e){this._context=e}ZH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=pF(e),a=pF(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pF(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Iwe(e){return new ZH(e)}function Qw(e,t){this._context=e,this._t=t}Qw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Mwe(e){return new Qw(e,.5)}function Rwe(e){return new Qw(e,0)}function $we(e){return new Qw(e,1)}function _0(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function j4(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Bwe(e,t){return e[t]}function zwe(e){const t=[];return t.key=e,t}function Uwe(){var e=pn([]),t=j4,r=_0,n=Bwe;function a(i){var o=Array.from(e.apply(this,arguments),zwe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=GE(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:pn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:pn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?j4:typeof i=="function"?i:pn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??_0,a):r},a}function Vwe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}_0(e,t)}}function Hwe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}_0(e,t)}}function Wwe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<l;++v){var m=e[t[v]],x=m[n][1]||0,g=m[n-1][1]||0;p+=x-g}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,_0(e,t)}}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}var qwe=["type","size","sizeType"];function S4(){return S4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S4.apply(this,arguments)}function mF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mF(Object(r),!0).forEach(function(n){Gwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gwe(e,t,r){return t=Kwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kwe(e){var t=Ywe(e,"string");return nv(t)=="symbol"?t:t+""}function Ywe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xwe(e,t){if(e==null)return{};var r=Jwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eW={symbolCircle:KE,symbolCross:xwe,symbolDiamond:bwe,symbolSquare:wwe,symbolStar:Nwe,symbolTriangle:Awe,symbolWye:Cwe},Qwe=Math.PI/180,Zwe=function(t){var r="symbol".concat(Yw(t));return eW[r]||KE},e_e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Qwe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},t_e=function(t,r){eW["symbol".concat(Yw(t))]=r},YE=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Xwe(t,qwe),u=gF(gF({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=Zwe(n),g=Ewe().type(x).size(e_e(i,l,n));return g()},f=u.className,h=u.cx,p=u.cy,v=Or(u,!0);return h===+h&&p===+p&&i===+i?Ce.createElement("path",S4({},v,{className:Ir("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};YE.registerSymbol=t_e;function j0(e){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j0(e)}function N4(){return N4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N4.apply(this,arguments)}function vF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vF(Object(r),!0).forEach(function(n){av(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rW(n.key),n)}}function a_e(e,t,r){return t&&xF(e.prototype,t),r&&xF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i_e(e,t,r){return t=G2(t),s_e(e,tW()?Reflect.construct(t,r||[],G2(e).constructor):t.apply(e,r))}function s_e(e,t){if(t&&(j0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o_e(e)}function o_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tW=function(){return!!e})()}function G2(e){return G2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G2(e)}function l_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A4(e,t)}function A4(e,t){return A4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A4(e,t)}function av(e,t,r){return t=rW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=c_e(e,"string");return j0(t)=="symbol"?t:t+""}function c_e(e,t){if(j0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(j0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ks=32,XE=function(e){function t(){return n_e(this,t),i_e(this,t,arguments)}return l_e(t,e),a_e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ks/2,o=Ks/6,l=Ks/3,c=n.inactive?a:n.color;if(n.type==="plainline")return Ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ks,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ks,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ks/8,"h").concat(Ks,"v").concat(Ks*3/4,"h").concat(-Ks,"z"),className:"recharts-legend-icon"});if(Ce.isValidElement(n.legendIcon)){var u=r_e({},n);return delete u.legendIcon,Ce.cloneElement(n.legendIcon,u)}return Ce.createElement(YE,{fill:c,cx:i,cy:i,size:Ks,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ks,height:Ks},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var m=p.formatter||c,x=Ir(av(av({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=_r(p.value)?null:p.value;fc(!_r(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return Ce.createElement("li",N4({className:x,style:f,key:"legend-item-".concat(v)},z2(n.props,p,v)),Ce.createElement(g4,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),Ce.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(g,p,v):g))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);av(XE,"displayName","Legend");av(XE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var u_e=Iw;function d_e(){this.__data__=new u_e,this.size=0}var f_e=d_e;function h_e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var p_e=h_e;function m_e(e){return this.__data__.get(e)}var g_e=m_e;function v_e(e){return this.__data__.has(e)}var x_e=v_e,y_e=Iw,b_e=ME,w_e=RE,__e=200;function j_e(e,t){var r=this.__data__;if(r instanceof y_e){var n=r.__data__;if(!b_e||n.length<__e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new w_e(n)}return r.set(e,t),this.size=r.size,this}var S_e=j_e,N_e=Iw,A_e=f_e,T_e=p_e,C_e=g_e,E_e=x_e,k_e=S_e;function dp(e){var t=this.__data__=new N_e(e);this.size=t.size}dp.prototype.clear=A_e;dp.prototype.delete=T_e;dp.prototype.get=C_e;dp.prototype.has=E_e;dp.prototype.set=k_e;var nW=dp,P_e="__lodash_hash_undefined__";function O_e(e){return this.__data__.set(e,P_e),this}var F_e=O_e;function D_e(e){return this.__data__.has(e)}var L_e=D_e,I_e=RE,M_e=F_e,R_e=L_e;function K2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new I_e;++t<r;)this.add(e[t])}K2.prototype.add=K2.prototype.push=M_e;K2.prototype.has=R_e;var aW=K2;function $_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var iW=$_e;function B_e(e,t){return e.has(t)}var sW=B_e,z_e=aW,U_e=iW,V_e=sW,H_e=1,W_e=2;function q_e(e,t,r,n,a,i){var o=r&H_e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&W_e?new z_e:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],m=t[f];if(n)var x=o?n(m,v,f,t,e,i):n(v,m,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!U_e(t,function(g,y){if(!V_e(p,y)&&(v===g||a(v,g,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(v===m||a(v,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var oW=q_e,G_e=Ol,K_e=G_e.Uint8Array,Y_e=K_e;function X_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var J_e=X_e;function Q_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var JE=Q_e,yF=lx,bF=Y_e,Z_e=IE,eje=oW,tje=J_e,rje=JE,nje=1,aje=2,ije="[object Boolean]",sje="[object Date]",oje="[object Error]",lje="[object Map]",cje="[object Number]",uje="[object RegExp]",dje="[object Set]",fje="[object String]",hje="[object Symbol]",pje="[object ArrayBuffer]",mje="[object DataView]",wF=yF?yF.prototype:void 0,E5=wF?wF.valueOf:void 0;function gje(e,t,r,n,a,i,o){switch(r){case mje:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pje:return!(e.byteLength!=t.byteLength||!i(new bF(e),new bF(t)));case ije:case sje:case cje:return Z_e(+e,+t);case oje:return e.name==t.name&&e.message==t.message;case uje:case fje:return e==t+"";case lje:var l=tje;case dje:var c=n&nje;if(l||(l=rje),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=aje,o.set(e,t);var d=eje(l(e),l(t),n,a,i,o);return o.delete(e),d;case hje:if(E5)return E5.call(e)==E5.call(t)}return!1}var vje=gje;function xje(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var lW=xje,yje=lW,bje=ss;function wje(e,t,r){var n=t(e);return bje(e)?n:yje(n,r(e))}var _je=wje;function jje(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Sje=jje;function Nje(){return[]}var Aje=Nje,Tje=Sje,Cje=Aje,Eje=Object.prototype,kje=Eje.propertyIsEnumerable,_F=Object.getOwnPropertySymbols,Pje=_F?function(e){return e==null?[]:(e=Object(e),Tje(_F(e),function(t){return kje.call(e,t)}))}:Cje,Oje=Pje;function Fje(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Dje=Fje,Lje=Ec,Ije=kc,Mje="[object Arguments]";function Rje(e){return Ije(e)&&Lje(e)==Mje}var $je=Rje,jF=$je,Bje=kc,cW=Object.prototype,zje=cW.hasOwnProperty,Uje=cW.propertyIsEnumerable,Vje=jF(function(){return arguments}())?jF:function(e){return Bje(e)&&zje.call(e,"callee")&&!Uje.call(e,"callee")},QE=Vje,Y2={exports:{}};function Hje(){return!1}var Wje=Hje;Y2.exports;(function(e,t){var r=Ol,n=Wje,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Y2,Y2.exports);var uW=Y2.exports,qje=9007199254740991,Gje=/^(?:0|[1-9]\d*)$/;function Kje(e,t){var r=typeof e;return t=t??qje,!!t&&(r=="number"||r!="symbol"&&Gje.test(e))&&e>-1&&e%1==0&&e<t}var ZE=Kje,Yje=9007199254740991;function Xje(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Yje}var e3=Xje,Jje=Ec,Qje=e3,Zje=kc,e5e="[object Arguments]",t5e="[object Array]",r5e="[object Boolean]",n5e="[object Date]",a5e="[object Error]",i5e="[object Function]",s5e="[object Map]",o5e="[object Number]",l5e="[object Object]",c5e="[object RegExp]",u5e="[object Set]",d5e="[object String]",f5e="[object WeakMap]",h5e="[object ArrayBuffer]",p5e="[object DataView]",m5e="[object Float32Array]",g5e="[object Float64Array]",v5e="[object Int8Array]",x5e="[object Int16Array]",y5e="[object Int32Array]",b5e="[object Uint8Array]",w5e="[object Uint8ClampedArray]",_5e="[object Uint16Array]",j5e="[object Uint32Array]",bn={};bn[m5e]=bn[g5e]=bn[v5e]=bn[x5e]=bn[y5e]=bn[b5e]=bn[w5e]=bn[_5e]=bn[j5e]=!0;bn[e5e]=bn[t5e]=bn[h5e]=bn[r5e]=bn[p5e]=bn[n5e]=bn[a5e]=bn[i5e]=bn[s5e]=bn[o5e]=bn[l5e]=bn[c5e]=bn[u5e]=bn[d5e]=bn[f5e]=!1;function S5e(e){return Zje(e)&&Qje(e.length)&&!!bn[Jje(e)]}var N5e=S5e;function A5e(e){return function(t){return e(t)}}var dW=A5e,X2={exports:{}};X2.exports;(function(e,t){var r=yH,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(X2,X2.exports);var T5e=X2.exports,C5e=N5e,E5e=dW,SF=T5e,NF=SF&&SF.isTypedArray,k5e=NF?E5e(NF):C5e,fW=k5e,P5e=Dje,O5e=QE,F5e=ss,D5e=uW,L5e=ZE,I5e=fW,M5e=Object.prototype,R5e=M5e.hasOwnProperty;function $5e(e,t){var r=F5e(e),n=!r&&O5e(e),a=!r&&!n&&D5e(e),i=!r&&!n&&!a&&I5e(e),o=r||n||a||i,l=o?P5e(e.length,String):[],c=l.length;for(var u in e)(t||R5e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||L5e(u,c)))&&l.push(u);return l}var B5e=$5e,z5e=Object.prototype;function U5e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||z5e;return e===r}var V5e=U5e;function H5e(e,t){return function(r){return e(t(r))}}var hW=H5e,W5e=hW,q5e=W5e(Object.keys,Object),G5e=q5e,K5e=V5e,Y5e=G5e,X5e=Object.prototype,J5e=X5e.hasOwnProperty;function Q5e(e){if(!K5e(e))return Y5e(e);var t=[];for(var r in Object(e))J5e.call(e,r)&&r!="constructor"&&t.push(r);return t}var Z5e=Q5e,eSe=LE,tSe=e3;function rSe(e){return e!=null&&tSe(e.length)&&!eSe(e)}var fx=rSe,nSe=B5e,aSe=Z5e,iSe=fx;function sSe(e){return iSe(e)?nSe(e):aSe(e)}var Zw=sSe,oSe=_je,lSe=Oje,cSe=Zw;function uSe(e){return oSe(e,cSe,lSe)}var dSe=uSe,AF=dSe,fSe=1,hSe=Object.prototype,pSe=hSe.hasOwnProperty;function mSe(e,t,r,n,a,i){var o=r&fSe,l=AF(e),c=l.length,u=AF(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:pSe.call(t,h)))return!1}var p=i.get(e),v=i.get(t);if(p&&v)return p==t&&v==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var g=e[h],y=t[h];if(n)var b=o?n(y,g,h,t,e,i):n(g,y,h,e,t,i);if(!(b===void 0?g===y||a(g,y,r,n,i):b)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return i.delete(e),i.delete(t),m}var gSe=mSe,vSe=Tf,xSe=Ol,ySe=vSe(xSe,"DataView"),bSe=ySe,wSe=Tf,_Se=Ol,jSe=wSe(_Se,"Promise"),SSe=jSe,NSe=Tf,ASe=Ol,TSe=NSe(ASe,"Set"),pW=TSe,CSe=Tf,ESe=Ol,kSe=CSe(ESe,"WeakMap"),PSe=kSe,T4=bSe,C4=ME,E4=SSe,k4=pW,P4=PSe,mW=Ec,fp=wH,TF="[object Map]",OSe="[object Object]",CF="[object Promise]",EF="[object Set]",kF="[object WeakMap]",PF="[object DataView]",FSe=fp(T4),DSe=fp(C4),LSe=fp(E4),ISe=fp(k4),MSe=fp(P4),bd=mW;(T4&&bd(new T4(new ArrayBuffer(1)))!=PF||C4&&bd(new C4)!=TF||E4&&bd(E4.resolve())!=CF||k4&&bd(new k4)!=EF||P4&&bd(new P4)!=kF)&&(bd=function(e){var t=mW(e),r=t==OSe?e.constructor:void 0,n=r?fp(r):"";if(n)switch(n){case FSe:return PF;case DSe:return TF;case LSe:return CF;case ISe:return EF;case MSe:return kF}return t});var RSe=bd,k5=nW,$Se=oW,BSe=vje,zSe=gSe,OF=RSe,FF=ss,DF=uW,USe=fW,VSe=1,LF="[object Arguments]",IF="[object Array]",J1="[object Object]",HSe=Object.prototype,MF=HSe.hasOwnProperty;function WSe(e,t,r,n,a,i){var o=FF(e),l=FF(t),c=o?IF:OF(e),u=l?IF:OF(t);c=c==LF?J1:c,u=u==LF?J1:u;var d=c==J1,f=u==J1,h=c==u;if(h&&DF(e)){if(!DF(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new k5),o||USe(e)?$Se(e,t,r,n,a,i):BSe(e,t,c,r,n,a,i);if(!(r&VSe)){var p=d&&MF.call(e,"__wrapped__"),v=f&&MF.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,x=v?t.value():t;return i||(i=new k5),a(m,x,r,n,i)}}return h?(i||(i=new k5),zSe(e,t,r,n,a,i)):!1}var qSe=WSe,GSe=qSe,RF=kc;function gW(e,t,r,n,a){return e===t?!0:e==null||t==null||!RF(e)&&!RF(t)?e!==e&&t!==t:GSe(e,t,r,n,gW,a)}var t3=gW,KSe=nW,YSe=t3,XSe=1,JSe=2;function QSe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new KSe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?YSe(d,u,XSe|JSe,n,f):h))return!1}}return!0}var ZSe=QSe,eNe=Ju;function tNe(e){return e===e&&!eNe(e)}var vW=tNe,rNe=vW,nNe=Zw;function aNe(e){for(var t=nNe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,rNe(a)]}return t}var iNe=aNe;function sNe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var xW=sNe,oNe=ZSe,lNe=iNe,cNe=xW;function uNe(e){var t=lNe(e);return t.length==1&&t[0][2]?cNe(t[0][0],t[0][1]):function(r){return r===e||oNe(r,e,t)}}var dNe=uNe;function fNe(e,t){return e!=null&&t in Object(e)}var hNe=fNe,pNe=AH,mNe=QE,gNe=ss,vNe=ZE,xNe=e3,yNe=Rw;function bNe(e,t,r){t=pNe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=yNe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&xNe(a)&&vNe(o,a)&&(gNe(e)||mNe(e)))}var wNe=bNe,_Ne=hNe,jNe=wNe;function SNe(e,t){return e!=null&&jNe(e,t,_Ne)}var NNe=SNe,ANe=t3,TNe=TH,CNe=NNe,ENe=DE,kNe=vW,PNe=xW,ONe=Rw,FNe=1,DNe=2;function LNe(e,t){return ENe(e)&&kNe(t)?PNe(ONe(e),t):function(r){var n=TNe(r,e);return n===void 0&&n===t?CNe(r,e):ANe(t,n,FNe|DNe)}}var INe=LNe;function MNe(e){return e}var hp=MNe;function RNe(e){return function(t){return t==null?void 0:t[e]}}var $Ne=RNe,BNe=zE;function zNe(e){return function(t){return BNe(t,e)}}var UNe=zNe,VNe=$Ne,HNe=UNe,WNe=DE,qNe=Rw;function GNe(e){return WNe(e)?VNe(qNe(e)):HNe(e)}var KNe=GNe,YNe=dNe,XNe=INe,JNe=hp,QNe=ss,ZNe=KNe;function e4e(e){return typeof e=="function"?e:e==null?JNe:typeof e=="object"?QNe(e)?XNe(e[0],e[1]):YNe(e):ZNe(e)}var Qu=e4e;function t4e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var yW=t4e;function r4e(e){return e!==e}var n4e=r4e;function a4e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var i4e=a4e,s4e=yW,o4e=n4e,l4e=i4e;function c4e(e,t,r){return t===t?l4e(e,t,r):s4e(e,o4e,r)}var u4e=c4e,d4e=u4e;function f4e(e,t){var r=e==null?0:e.length;return!!r&&d4e(e,t,0)>-1}var h4e=f4e;function p4e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var m4e=p4e;function g4e(){}var v4e=g4e,P5=pW,x4e=v4e,y4e=JE,b4e=1/0,w4e=P5&&1/y4e(new P5([,-0]))[1]==b4e?function(e){return new P5(e)}:x4e,_4e=w4e,j4e=aW,S4e=h4e,N4e=m4e,A4e=sW,T4e=_4e,C4e=JE,E4e=200;function k4e(e,t,r){var n=-1,a=S4e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=N4e;else if(i>=E4e){var u=t?null:T4e(e);if(u)return C4e(u);o=!1,a=A4e,c=new j4e}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var P4e=k4e,O4e=Qu,F4e=P4e;function D4e(e,t){return e&&e.length?F4e(e,O4e(t)):[]}var L4e=D4e;const $F=Hr(L4e);function bW(e,t,r){return t===!0?$F(e,r):_r(t)?$F(e,t):e}function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}var I4e=["ref"];function BF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BF(Object(r),!0).forEach(function(n){e_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_W(n.key),n)}}function R4e(e,t,r){return t&&zF(e.prototype,t),r&&zF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $4e(e,t,r){return t=J2(t),B4e(e,wW()?Reflect.construct(t,r||[],J2(e).constructor):t.apply(e,r))}function B4e(e,t){if(t&&(S0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z4e(e)}function z4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wW=function(){return!!e})()}function J2(e){return J2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J2(e)}function U4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O4(e,t)}function O4(e,t){return O4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O4(e,t)}function e_(e,t,r){return t=_W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=V4e(e,"string");return S0(t)=="symbol"?t:t+""}function V4e(e,t){if(S0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H4e(e,t){if(e==null)return{};var r=W4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q4e(e){return e.value}function G4e(e,t){if(Ce.isValidElement(e))return Ce.cloneElement(e,t);if(typeof e=="function")return Ce.createElement(e,t);t.ref;var r=H4e(t,I4e);return Ce.createElement(XE,r)}var UF=1,t0=function(e){function t(){var r;M4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$4e(this,t,[].concat(a)),e_(r,"lastBoundingBox",{width:-1,height:-1}),r}return U4e(t,e),R4e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>UF||Math.abs(a.height-this.lastBoundingBox.height)>UF)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Gl(Gl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Gl(Gl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},G4e(i,Gl(Gl({},this.props),{},{payload:bW(d,u,q4e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Gl(Gl({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Et(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(O.PureComponent);e_(t0,"displayName","Legend");e_(t0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var VF=lx,K4e=QE,Y4e=ss,HF=VF?VF.isConcatSpreadable:void 0;function X4e(e){return Y4e(e)||K4e(e)||!!(HF&&e&&e[HF])}var J4e=X4e,Q4e=lW,Z4e=J4e;function jW(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Z4e),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?jW(l,t-1,r,n,a):Q4e(a,l):n||(a[a.length]=l)}return a}var SW=jW;function eAe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var tAe=eAe,rAe=tAe,nAe=rAe(),aAe=nAe,iAe=aAe,sAe=Zw;function oAe(e,t){return e&&iAe(e,t,sAe)}var NW=oAe,lAe=fx;function cAe(e,t){return function(r,n){if(r==null)return r;if(!lAe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var uAe=cAe,dAe=NW,fAe=uAe,hAe=fAe(dAe),r3=hAe,pAe=r3,mAe=fx;function gAe(e,t){var r=-1,n=mAe(e)?Array(e.length):[];return pAe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var AW=gAe;function vAe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var xAe=vAe,WF=sp;function yAe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=WF(e),o=t!==void 0,l=t===null,c=t===t,u=WF(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var bAe=yAe,wAe=bAe;function _Ae(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=wAe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var jAe=_Ae,O5=BE,SAe=zE,NAe=Qu,AAe=AW,TAe=xAe,CAe=dW,EAe=jAe,kAe=hp,PAe=ss;function OAe(e,t,r){t.length?t=O5(t,function(i){return PAe(i)?function(o){return SAe(o,i.length===1?i[0]:i)}:i}):t=[kAe];var n=-1;t=O5(t,CAe(NAe));var a=AAe(e,function(i,o,l){var c=O5(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return TAe(a,function(i,o){return EAe(i,o,r)})}var FAe=OAe;function DAe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var LAe=DAe,IAe=LAe,qF=Math.max;function MAe(e,t,r){return t=qF(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=qF(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),IAe(e,this,l)}}var RAe=MAe;function $Ae(e){return function(){return e}}var BAe=$Ae,zAe=Tf,UAe=function(){try{var e=zAe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),TW=UAe,VAe=BAe,GF=TW,HAe=hp,WAe=GF?function(e,t){return GF(e,"toString",{configurable:!0,enumerable:!1,value:VAe(t),writable:!0})}:HAe,qAe=WAe,GAe=800,KAe=16,YAe=Date.now;function XAe(e){var t=0,r=0;return function(){var n=YAe(),a=KAe-(n-r);if(r=n,a>0){if(++t>=GAe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var JAe=XAe,QAe=qAe,ZAe=JAe,eTe=ZAe(QAe),tTe=eTe,rTe=hp,nTe=RAe,aTe=tTe;function iTe(e,t){return aTe(nTe(e,t,rTe),e+"")}var sTe=iTe,oTe=IE,lTe=fx,cTe=ZE,uTe=Ju;function dTe(e,t,r){if(!uTe(r))return!1;var n=typeof t;return(n=="number"?lTe(r)&&cTe(t,r.length):n=="string"&&t in r)?oTe(r[t],e):!1}var t_=dTe,fTe=SW,hTe=FAe,pTe=sTe,KF=t_,mTe=pTe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&KF(e,t[0],t[1])?t=[]:r>2&&KF(t[0],t[1],t[2])&&(t=[t[0]]),hTe(e,fTe(t,1),[])}),gTe=mTe;const n3=Hr(gTe);function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function F4(){return F4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F4.apply(this,arguments)}function vTe(e,t){return wTe(e)||bTe(e,t)||yTe(e,t)||xTe()}function xTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yTe(e,t){if(e){if(typeof e=="string")return YF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YF(e,t)}}function YF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wTe(e){if(Array.isArray(e))return e}function XF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(r),!0).forEach(function(n){_Te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Te(e,t,r){return t=jTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jTe(e){var t=STe(e,"string");return iv(t)=="symbol"?t:t+""}function STe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NTe(e){return Array.isArray(e)&&Na(e[0])&&Na(e[1])?e.join(" ~ "):e}var ATe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,m=t.label,x=t.labelFormatter,g=t.accessibilityLayer,y=g===void 0?!1:g,b=function(){if(d&&d.length){var P={padding:0,margin:0},U=(h?n3(d,h):d).map(function(q,z){if(q.type==="none")return null;var I=F5({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),R=q.formatter||f||NTe,G=q.value,F=q.name,H=G,J=F;if(R&&H!=null&&J!=null){var A=R(G,F,q,z,d);if(Array.isArray(A)){var M=vTe(A,2);H=M[0],J=M[1]}else H=A}return Ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:I},Na(J)?Ce.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Na(J)?Ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ce.createElement("span",{className:"recharts-tooltip-item-value"},H),Ce.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return Ce.createElement("ul",{className:"recharts-tooltip-item-list",style:P},U)}return null},j=F5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=F5({margin:0},u),N=!Er(m),S=N?m:"",T=Ir("recharts-default-tooltip",p),k=Ir("recharts-tooltip-label",v);N&&x&&d!==void 0&&d!==null&&(S=x(m,d));var V=y?{role:"status","aria-live":"assertive"}:{};return Ce.createElement("div",F4({className:T,style:j},V),Ce.createElement("p",{className:k,style:_},Ce.isValidElement(S)?S:"".concat(S)),b())};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function Q1(e,t,r){return t=TTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TTe(e){var t=CTe(e,"string");return sv(t)=="symbol"?t:t+""}function CTe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var um="recharts-tooltip-wrapper",ETe={visibility:"hidden"};function kTe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ir(um,Q1(Q1(Q1(Q1({},"".concat(um,"-right"),Et(r)&&t&&Et(t.x)&&r>=t.x),"".concat(um,"-left"),Et(r)&&t&&Et(t.x)&&r<t.x),"".concat(um,"-bottom"),Et(n)&&t&&Et(t.y)&&n>=t.y),"".concat(um,"-top"),Et(n)&&t&&Et(t.y)&&n<t.y))}function JF(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Et(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,m=c[n]+u;return v>m?Math.max(d,c[n]):Math.max(f,c[n])}function PTe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function OTe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=JF({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=JF({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=PTe({translateX:d,translateY:f,useTranslate3d:l})):u=ETe,{cssProperties:u,cssClasses:kTe({translateX:d,translateY:f,coordinate:r})}}function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function QF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(r),!0).forEach(function(n){L4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EW(n.key),n)}}function DTe(e,t,r){return t&&eD(e.prototype,t),r&&eD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LTe(e,t,r){return t=Q2(t),ITe(e,CW()?Reflect.construct(t,r||[],Q2(e).constructor):t.apply(e,r))}function ITe(e,t){if(t&&(N0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MTe(e)}function MTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CW=function(){return!!e})()}function Q2(e){return Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q2(e)}function RTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D4(e,t)}function D4(e,t){return D4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D4(e,t)}function L4(e,t,r){return t=EW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EW(e){var t=$Te(e,"string");return N0(t)=="symbol"?t:t+""}function $Te(e,t){if(N0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(N0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tD=1,BTe=function(e){function t(){var r;FTe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=LTe(this,t,[].concat(a)),L4(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),L4(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return RTe(t,e),DTe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>tD||Math.abs(n.height-this.state.lastBoundingBox.height)>tD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,v=a.position,m=a.reverseDirection,x=a.useTranslate3d,g=a.viewBox,y=a.wrapperStyle,b=OTe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:g}),j=b.cssClasses,_=b.cssProperties,N=ZF(ZF({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return Ce.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(T){n.wrapperNode=T}},u)}}])}(O.PureComponent),zTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hc={isSsr:zTe(),get:function(t){return hc[t]},set:function(t,r){if(typeof t=="string")hc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){hc[a]=t[a]})}}};function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){a3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PW(n.key),n)}}function VTe(e,t,r){return t&&aD(e.prototype,t),r&&aD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HTe(e,t,r){return t=Z2(t),WTe(e,kW()?Reflect.construct(t,r||[],Z2(e).constructor):t.apply(e,r))}function WTe(e,t){if(t&&(A0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qTe(e)}function qTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kW=function(){return!!e})()}function Z2(e){return Z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z2(e)}function GTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I4(e,t)}function I4(e,t){return I4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I4(e,t)}function a3(e,t,r){return t=PW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=KTe(e,"string");return A0(t)=="symbol"?t:t+""}function KTe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YTe(e){return e.dataKey}function XTe(e,t){return Ce.isValidElement(e)?Ce.cloneElement(e,t):typeof e=="function"?Ce.createElement(e,t):Ce.createElement(ATe,t)}var fl=function(e){function t(){return UTe(this,t),HTe(this,t,arguments)}return GTe(t,e),VTe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,v=a.payload,m=a.payloadUniqBy,x=a.position,g=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,j=a.wrapperStyle,_=v??[];f&&_.length&&(_=bW(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,YTe));var N=_.length>0;return Ce.createElement(BTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:x,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:j},XTe(u,nD(nD({},this.props),{},{payload:_})))}}])}(O.PureComponent);a3(fl,"displayName","Tooltip");a3(fl,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var JTe=Ol,QTe=function(){return JTe.Date.now()},ZTe=QTe,eCe=/\s/;function tCe(e){for(var t=e.length;t--&&eCe.test(e.charAt(t)););return t}var rCe=tCe,nCe=rCe,aCe=/^\s+/;function iCe(e){return e&&e.slice(0,nCe(e)+1).replace(aCe,"")}var sCe=iCe,oCe=sCe,iD=Ju,lCe=sp,sD=0/0,cCe=/^[-+]0x[0-9a-f]+$/i,uCe=/^0b[01]+$/i,dCe=/^0o[0-7]+$/i,fCe=parseInt;function hCe(e){if(typeof e=="number")return e;if(lCe(e))return sD;if(iD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=iD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=oCe(e);var r=uCe.test(e);return r||dCe.test(e)?fCe(e.slice(2),r?2:8):cCe.test(e)?sD:+e}var OW=hCe,pCe=Ju,D5=ZTe,oD=OW,mCe="Expected a function",gCe=Math.max,vCe=Math.min;function xCe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(mCe);t=oD(t)||0,pCe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?gCe(oD(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var S=n,T=a;return n=a=void 0,u=N,o=e.apply(T,S),o}function v(N){return u=N,l=setTimeout(g,t),d?p(N):o}function m(N){var S=N-c,T=N-u,k=t-S;return f?vCe(k,i-T):k}function x(N){var S=N-c,T=N-u;return c===void 0||S>=t||S<0||f&&T>=i}function g(){var N=D5();if(x(N))return y(N);l=setTimeout(g,m(N))}function y(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:y(D5())}function _(){var N=D5(),S=x(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(g,t),p(c)}return l===void 0&&(l=setTimeout(g,t)),o}return _.cancel=b,_.flush=j,_}var yCe=xCe,bCe=yCe,wCe=Ju,_Ce="Expected a function";function jCe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(_Ce);return wCe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),bCe(e,t,{leading:n,maxWait:t,trailing:a})}var SCe=jCe;const FW=Hr(SCe);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){NCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NCe(e,t,r){return t=ACe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ACe(e){var t=TCe(e,"string");return ov(t)=="symbol"?t:t+""}function TCe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CCe(e,t){return OCe(e)||PCe(e,t)||kCe(e,t)||ECe()}function ECe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kCe(e,t){if(e){if(typeof e=="string")return cD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cD(e,t)}}function cD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function OCe(e){if(Array.isArray(e))return e}var FCe=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=v===void 0?0:v,x=e.id,g=e.className,y=e.onResize,b=e.style,j=b===void 0?{}:b,_=O.useRef(null),N=O.useRef();N.current=y,O.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var S=O.useState({containerWidth:a.width,containerHeight:a.height}),T=CCe(S,2),k=T[0],V=T[1],C=O.useCallback(function(U,q){V(function(z){var I=Math.round(U),R=Math.round(q);return z.containerWidth===I&&z.containerHeight===R?z:{containerWidth:I,containerHeight:R}})},[]);O.useEffect(function(){var U=function(F){var H,J=F[0].contentRect,A=J.width,M=J.height;C(A,M),(H=N.current)===null||H===void 0||H.call(N,A,M)};m>0&&(U=FW(U,m,{trailing:!0,leading:!1}));var q=new ResizeObserver(U),z=_.current.getBoundingClientRect(),I=z.width,R=z.height;return C(I,R),q.observe(_.current),function(){q.disconnect()}},[C,m]);var P=O.useMemo(function(){var U=k.containerWidth,q=k.containerHeight;if(U<0||q<0)return null;fc(Fd(o)||Fd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),fc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=Fd(o)?U:o,I=Fd(c)?q:c;r&&r>0&&(z?I=z/r:I&&(z=I*r),h&&I>h&&(I=h)),fc(z>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,I,o,c,d,f,r);var R=!Array.isArray(p)&&dc(p.type).endsWith("Chart");return Ce.Children.map(p,function(G){return Ce.isValidElement(G)?O.cloneElement(G,Z1({width:z,height:I},R?{style:Z1({height:"100%",width:"100%",maxHeight:I,maxWidth:z},G.props.style)}:{})):G})},[r,p,c,h,f,d,k,o]);return Ce.createElement("div",{id:x?"".concat(x):void 0,className:Ir("recharts-responsive-container",g),style:Z1(Z1({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},P)}),DW=function(t){return null};DW.displayName="Cell";function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){DCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DCe(e,t,r){return t=LCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LCe(e){var t=ICe(e,"string");return lv(t)=="symbol"?t:t+""}function ICe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oh={widthCache:{},cacheCount:0},MCe=2e3,RCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dD="recharts_measurement_span";function $Ce(e){var t=M4({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var dg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hc.isSsr)return{width:0,height:0};var n=$Ce(r),a=JSON.stringify({text:t,copyStyle:n});if(oh.widthCache[a])return oh.widthCache[a];try{var i=document.getElementById(dD);i||(i=document.createElement("span"),i.setAttribute("id",dD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=M4(M4({},RCe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return oh.widthCache[a]=c,++oh.cacheCount>MCe&&(oh.cacheCount=0,oh.widthCache={}),c}catch{return{width:0,height:0}}},BCe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function eb(e,t){return HCe(e)||VCe(e,t)||UCe(e,t)||zCe()}function zCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UCe(e,t){if(e){if(typeof e=="string")return fD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fD(e,t)}}function fD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function HCe(e){if(Array.isArray(e))return e}function WCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GCe(n.key),n)}}function qCe(e,t,r){return t&&hD(e.prototype,t),r&&hD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GCe(e){var t=KCe(e,"string");return cv(t)=="symbol"?t:t+""}function KCe(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JCe=Object.keys(LW),Lh="NaN";function QCe(e,t){return e*LW[t]}var ey=function(){function e(t,r){WCe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!YCe.test(r)&&(this.num=NaN,this.unit=""),JCe.includes(r)&&(this.num=QCe(t,r),this.unit="px")}return qCe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=XCe.exec(r))!==null&&n!==void 0?n:[],i=eb(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function IW(e){if(e.includes(Lh))return Lh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=pD.exec(t))!==null&&r!==void 0?r:[],a=eb(n,4),i=a[1],o=a[2],l=a[3],c=ey.parse(i??""),u=ey.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Lh;t=t.replace(pD,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=mD.exec(t))!==null&&f!==void 0?f:[],p=eb(h,4),v=p[1],m=p[2],x=p[3],g=ey.parse(v??""),y=ey.parse(x??""),b=m==="+"?g.add(y):g.subtract(y);if(b.isNaN())return Lh;t=t.replace(mD,b.toString())}return t}var gD=/\(([^()]*)\)/;function ZCe(e){for(var t=e;t.includes("(");){var r=gD.exec(t),n=eb(r,2),a=n[1];t=t.replace(gD,IW(a))}return t}function eEe(e){var t=e.replace(/\s+/g,"");return t=ZCe(t),t=IW(t),t}function tEe(e){try{return eEe(e)}catch{return Lh}}function L5(e){var t=tEe(e.slice(5,-1));return t===Lh?"":t}var rEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nEe=["dx","dy","angle","className","breakAll"];function R4(){return R4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R4.apply(this,arguments)}function vD(e,t){if(e==null)return{};var r=aEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xD(e,t){return lEe(e)||oEe(e,t)||sEe(e,t)||iEe()}function iEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sEe(e,t){if(e){if(typeof e=="string")return yD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yD(e,t)}}function yD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lEe(e){if(Array.isArray(e))return e}var MW=/[ \f\n\r\t\v\u2028\u2029]+/,RW=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Er(r)||(n?i=r.toString().split(""):i=r.toString().split(MW));var o=i.map(function(c){return{word:c,width:dg(c,a).width}}),l=n?0:dg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},cEe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Et(o),f=l,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(I,R){var G=R.word,F=R.width,H=I[I.length-1];if(H&&(a==null||i||H.width+F+n<Number(a)))H.words.push(G),H.width+=F+n;else{var J={words:[G],width:F};I.push(J)}return I},[])},p=h(r),v=function(z){return z.reduce(function(I,R){return I.width>R.width?I:R})};if(!d)return p;for(var m="",x=function(z){var I=f.slice(0,z),R=RW({breakAll:u,style:c,children:I+m}).wordsWithComputedWidth,G=h(R),F=G.length>o||v(G).width>Number(a);return[F,G]},g=0,y=f.length-1,b=0,j;g<=y&&b<=f.length-1;){var _=Math.floor((g+y)/2),N=_-1,S=x(N),T=xD(S,2),k=T[0],V=T[1],C=x(_),P=xD(C,1),U=P[0];if(!k&&!U&&(g=_+1),k&&U&&(y=_-1),!k&&U){j=V;break}b++}return j||p},bD=function(t){var r=Er(t)?[]:t.toString().split(MW);return[{words:r}]},uEe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!hc.isSsr){var c,u,d=RW({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return bD(a);return cEe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return bD(a)},wD="#808080",tb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,x=t.fill,g=x===void 0?wD:x,y=vD(t,rEe),b=O.useMemo(function(){return uEe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),j=y.dx,_=y.dy,N=y.angle,S=y.className,T=y.breakAll,k=vD(y,nEe);if(!Na(n)||!Na(i))return null;var V=n+(Et(j)?j:0),C=i+(Et(_)?_:0),P;switch(m){case"start":P=L5("calc(".concat(u,")"));break;case"middle":P=L5("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=L5("calc(".concat(b.length-1," * -").concat(l,")"));break}var U=[];if(f){var q=b[0].width,z=y.width;U.push("scale(".concat((Et(z)?z/q:1)/q,")"))}return N&&U.push("rotate(".concat(N,", ").concat(V,", ").concat(C,")")),U.length&&(k.transform=U.join(" ")),Ce.createElement("text",R4({},Or(k,!0),{x:V,y:C,className:Ir("recharts-text",S),textAnchor:p,fill:g.includes("url")?wD:g}),b.map(function(I,R){var G=I.words.join(T?"":" ");return Ce.createElement("tspan",{x:V,dy:R===0?P:l,key:"".concat(G,"-").concat(R)},G)}))};function ku(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dEe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i3(e){let t,r,n;e.length!==2?(t=ku,r=(l,c)=>ku(e(l),c),n=(l,c)=>e(l)-c):(t=e===ku||e===dEe?e:fEe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function fEe(){return 0}function $W(e){return e===null?NaN:+e}function*hEe(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const pEe=i3(ku),mEe=pEe.right;i3($W).center;const hx=mEe;class _D extends Map{constructor(t,r=xEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(jD(this,t))}has(t){return super.has(jD(this,t))}set(t,r){return super.set(gEe(this,t),r)}delete(t){return super.delete(vEe(this,t))}}function jD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function xEe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yEe(e=ku){if(e===ku)return BW;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function BW(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bEe=Math.sqrt(50),wEe=Math.sqrt(10),_Ee=Math.sqrt(2);function rb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=bEe?10:i>=wEe?5:i>=_Ee?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?rb(e,t,r*2):[l,c,u]}function $4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?rb(t,e,r):rb(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function B4(e,t,r){return t=+t,e=+e,r=+r,rb(e,t,r)[2]}function z4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?B4(t,e,r):B4(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function SD(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function ND(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function zW(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?BW:yEe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));zW(e,t,p,v,a)}const i=e[t];let o=r,l=n;for(dm(e,r,t),a(e[n],i)>0&&dm(e,r,n);o<l;){for(dm(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?dm(e,r,l):(++l,dm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function dm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jEe(e,t,r){if(e=Float64Array.from(hEe(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ND(e);if(t>=1)return SD(e);var n,a=(n-1)*t,i=Math.floor(a),o=SD(zW(e,i).subarray(0,i+1)),l=ND(e.subarray(i+1));return o+(l-o)*(a-i)}}function SEe(e,t,r=$W){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function NEe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ho(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const U4=Symbol("implicit");function s3(){var e=new _D,t=[],r=[],n=U4;function a(i){let o=e.get(i);if(o===void 0){if(n!==U4)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new _D;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return s3(t,r).unknown(n)},ho.apply(a,arguments),a}function uv(){var e=s3().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,v=p?a:n,m=p?n:a;i=(m-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(m-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=NEe(h).map(function(g){return v+i*g});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return uv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ho.apply(f(),arguments)}function UW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return UW(t())},e}function fg(){return UW(uv.apply(null,arguments).paddingInner(1))}function o3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function VW(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function px(){}var dv=.7,nb=1/dv,r0="\\s*([+-]?\\d+)\\s*",fv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_l="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AEe=/^#([0-9a-f]{3,8})$/,TEe=new RegExp(`^rgb\\(${r0},${r0},${r0}\\)$`),CEe=new RegExp(`^rgb\\(${_l},${_l},${_l}\\)$`),EEe=new RegExp(`^rgba\\(${r0},${r0},${r0},${fv}\\)$`),kEe=new RegExp(`^rgba\\(${_l},${_l},${_l},${fv}\\)$`),PEe=new RegExp(`^hsl\\(${fv},${_l},${_l}\\)$`),OEe=new RegExp(`^hsla\\(${fv},${_l},${_l},${fv}\\)$`),AD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};o3(px,hv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TD,formatHex:TD,formatHex8:FEe,formatHsl:DEe,formatRgb:CD,toString:CD});function TD(){return this.rgb().formatHex()}function FEe(){return this.rgb().formatHex8()}function DEe(){return HW(this).formatHsl()}function CD(){return this.rgb().formatRgb()}function hv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=AEe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ED(t):r===3?new es(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ty(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ty(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TEe.exec(e))?new es(t[1],t[2],t[3],1):(t=CEe.exec(e))?new es(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=EEe.exec(e))?ty(t[1],t[2],t[3],t[4]):(t=kEe.exec(e))?ty(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=PEe.exec(e))?OD(t[1],t[2]/100,t[3]/100,1):(t=OEe.exec(e))?OD(t[1],t[2]/100,t[3]/100,t[4]):AD.hasOwnProperty(e)?ED(AD[e]):e==="transparent"?new es(NaN,NaN,NaN,0):null}function ED(e){return new es(e>>16&255,e>>8&255,e&255,1)}function ty(e,t,r,n){return n<=0&&(e=t=r=NaN),new es(e,t,r,n)}function LEe(e){return e instanceof px||(e=hv(e)),e?(e=e.rgb(),new es(e.r,e.g,e.b,e.opacity)):new es}function V4(e,t,r,n){return arguments.length===1?LEe(e):new es(e,t,r,n??1)}function es(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}o3(es,V4,VW(px,{brighter(e){return e=e==null?nb:Math.pow(nb,e),new es(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dv:Math.pow(dv,e),new es(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new es(Wd(this.r),Wd(this.g),Wd(this.b),ab(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kD,formatHex:kD,formatHex8:IEe,formatRgb:PD,toString:PD}));function kD(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}`}function IEe(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}${Dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function PD(){const e=ab(this.opacity);return`${e===1?"rgb(":"rgba("}${Wd(this.r)}, ${Wd(this.g)}, ${Wd(this.b)}${e===1?")":`, ${e})`}`}function ab(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dd(e){return e=Wd(e),(e<16?"0":"")+e.toString(16)}function OD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ro(e,t,r,n)}function HW(e){if(e instanceof Ro)return new Ro(e.h,e.s,e.l,e.opacity);if(e instanceof px||(e=hv(e)),!e)return new Ro;if(e instanceof Ro)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ro(o,l,c,e.opacity)}function MEe(e,t,r,n){return arguments.length===1?HW(e):new Ro(e,t,r,n??1)}function Ro(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}o3(Ro,MEe,VW(px,{brighter(e){return e=e==null?nb:Math.pow(nb,e),new Ro(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dv:Math.pow(dv,e),new Ro(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new es(I5(e>=240?e-240:e+120,a,n),I5(e,a,n),I5(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ro(FD(this.h),ry(this.s),ry(this.l),ab(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ab(this.opacity);return`${e===1?"hsl(":"hsla("}${FD(this.h)}, ${ry(this.s)*100}%, ${ry(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FD(e){return e=(e||0)%360,e<0?e+360:e}function ry(e){return Math.max(0,Math.min(1,e||0))}function I5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const l3=e=>()=>e;function REe(e,t){return function(r){return e+r*t}}function $Ee(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function BEe(e){return(e=+e)==1?WW:function(t,r){return r-t?$Ee(t,r,e):l3(isNaN(t)?r:t)}}function WW(e,t){var r=t-e;return r?REe(e,r):l3(isNaN(e)?t:e)}const DD=function e(t){var r=BEe(t);function n(a,i){var o=r((a=V4(a)).r,(i=V4(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=WW(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function zEe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function UEe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function VEe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=pp(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function HEe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ib(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function WEe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=pp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var H4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,M5=new RegExp(H4.source,"g");function qEe(e){return function(){return e}}function GEe(e){return function(t){return e(t)+""}}function KEe(e,t){var r=H4.lastIndex=M5.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=H4.exec(e))&&(a=M5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ib(n,a)})),r=M5.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?GEe(c[0].x):qEe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function pp(e,t){var r=typeof t,n;return t==null||r==="boolean"?l3(t):(r==="number"?ib:r==="string"?(n=hv(t))?(t=n,DD):KEe:t instanceof hv?DD:t instanceof Date?HEe:UEe(t)?zEe:Array.isArray(t)?VEe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?WEe:ib)(e,t)}function c3(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function YEe(e,t){t===void 0&&(t=e,e=pp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function XEe(e){return function(){return e}}function sb(e){return+e}var LD=[0,1];function Ii(e){return e}function W4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:XEe(isNaN(t)?NaN:.5)}function JEe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function QEe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=W4(a,n),i=r(o,i)):(n=W4(n,a),i=r(i,o)),function(l){return i(n(l))}}function ZEe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=W4(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=hx(e,l,1,n)-1;return i[c](a[c](l))}}function mx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function r_(){var e=LD,t=LD,r=pp,n,a,i,o=Ii,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ii&&(o=JEe(e[0],e[h-1])),l=h>2?ZEe:QEe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ib)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,sb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=c3,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ii,d()):o!==Ii},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function u3(){return r_()(Ii,Ii)}function e3e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ob(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function T0(e){return e=ob(Math.abs(e)),e?e[1]:NaN}function t3e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function r3e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var n3e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pv(e){if(!(t=n3e.exec(e)))throw new Error("invalid format: "+e);var t;return new d3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pv.prototype=d3.prototype;function d3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}d3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function a3e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var qW;function i3e(e,t){var r=ob(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(qW=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ob(e,Math.max(0,t+i-1))[0]}function ID(e,t){var r=ob(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const MD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:e3e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ID(e*100,t),r:ID,s:i3e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function RD(e){return e}var $D=Array.prototype.map,BD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function s3e(e){var t=e.grouping===void 0||e.thousands===void 0?RD:t3e($D.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?RD:r3e($D.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=pv(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,x=f.zero,g=f.width,y=f.comma,b=f.precision,j=f.trim,_=f.type;_==="n"?(y=!0,_="g"):MD[_]||(b===void 0&&(b=12),j=!0,_="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",S=m==="$"?n:/[%p]/.test(_)?o:"",T=MD[_],k=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function V(C){var P=N,U=S,q,z,I;if(_==="c")U=T(C)+U,C="";else{C=+C;var R=C<0||1/C<0;if(C=isNaN(C)?c:T(Math.abs(C),b),j&&(C=a3e(C)),R&&+C==0&&v!=="+"&&(R=!1),P=(R?v==="("?v:l:v==="-"||v==="("?"":v)+P,U=(_==="s"?BD[8+qW/3]:"")+U+(R&&v==="("?")":""),k){for(q=-1,z=C.length;++q<z;)if(I=C.charCodeAt(q),48>I||I>57){U=(I===46?a+C.slice(q+1):C.slice(q))+U,C=C.slice(0,q);break}}}y&&!x&&(C=t(C,1/0));var G=P.length+C.length+U.length,F=G<g?new Array(g-G+1).join(h):"";switch(y&&x&&(C=t(F+C,F.length?g-U.length:1/0),F=""),p){case"<":C=P+C+U+F;break;case"=":C=P+F+C+U;break;case"^":C=F.slice(0,G=F.length>>1)+P+C+U+F.slice(G);break;default:C=F+P+C+U;break}return i(C)}return V.toString=function(){return f+""},V}function d(f,h){var p=u((f=pv(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(T0(h)/3)))*3,m=Math.pow(10,-v),x=BD[8+v/3];return function(g){return p(m*g)+x}}return{format:u,formatPrefix:d}}var ny,f3,GW;o3e({thousands:",",grouping:[3],currency:["$",""]});function o3e(e){return ny=s3e(e),f3=ny.format,GW=ny.formatPrefix,ny}function l3e(e){return Math.max(0,-T0(Math.abs(e)))}function c3e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(T0(t)/3)))*3-T0(Math.abs(e)))}function u3e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,T0(t)-T0(e))+1}function KW(e,t,r,n){var a=z4(e,t,r),i;switch(n=pv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=c3e(a,o))&&(n.precision=i),GW(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=u3e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=l3e(a))&&(n.precision=i-(n.type==="%")*2);break}}return f3(n)}function Zu(e){var t=e.domain;return e.ticks=function(r){var n=t();return $4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return KW(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=B4(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function lb(){var e=u3();return e.copy=function(){return mx(e,lb())},ho.apply(e,arguments),Zu(e)}function YW(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return YW(e).unknown(t)},e=arguments.length?Array.from(e,sb):[0,1],Zu(r)}function XW(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function zD(e){return Math.log(e)}function UD(e){return Math.exp(e)}function d3e(e){return-Math.log(-e)}function f3e(e){return-Math.exp(-e)}function h3e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function p3e(e){return e===10?h3e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function m3e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function VD(e){return(t,r)=>-e(-t,r)}function h3(e){const t=e(zD,UD),r=t.domain;let n=10,a,i;function o(){return a=m3e(n),i=p3e(n),r()[0]<0?(a=VD(a),i=VD(i),e(d3e,f3e)):e(zD,UD),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),v,m;const x=l==null?10:+l;let g=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;g.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/i(-h):v*i(h),!(m<u)){if(m>d)break;g.push(m)}g.length*2<x&&(g=$4(u,d,x))}else g=$4(h,p,Math.min(p-h,x)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=pv(c)).precision==null&&(c.trim=!0),c=f3(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(XW(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function JW(){const e=h3(r_()).domain([1,10]);return e.copy=()=>mx(e,JW()).base(e.base()),ho.apply(e,arguments),e}function HD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function WD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function p3(e){var t=1,r=e(HD(t),WD(t));return r.constant=function(n){return arguments.length?e(HD(t=+n),WD(t)):t},Zu(r)}function QW(){var e=p3(r_());return e.copy=function(){return mx(e,QW()).constant(e.constant())},ho.apply(e,arguments)}function qD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function g3e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function v3e(e){return e<0?-e*e:e*e}function m3(e){var t=e(Ii,Ii),r=1;function n(){return r===1?e(Ii,Ii):r===.5?e(g3e,v3e):e(qD(r),qD(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Zu(t)}function g3(){var e=m3(r_());return e.copy=function(){return mx(e,g3()).exponent(e.exponent())},ho.apply(e,arguments),e}function x3e(){return g3.apply(null,arguments).exponent(.5)}function GD(e){return Math.sign(e)*e*e}function y3e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZW(){var e=u3(),t=[0,1],r=!1,n;function a(i){var o=y3e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(GD(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,sb)).map(GD)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return ZW(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ho.apply(a,arguments),Zu(a)}function eq(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=SEe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[hx(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ku),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return eq().domain(e).range(t).unknown(n)},ho.apply(i,arguments)}function tq(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[hx(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return tq().domain([e,t]).range(a).unknown(i)},ho.apply(Zu(o),arguments)}function rq(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[hx(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return rq().domain(e).range(t).unknown(r)},ho.apply(a,arguments)}const R5=new Date,$5=new Date;function Ta(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Ta(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(R5.setTime(+i),$5.setTime(+o),e(R5),e($5),Math.floor(r(R5,$5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const cb=Ta(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ta(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):cb);cb.range;const rc=1e3,to=rc*60,nc=to*60,Sc=nc*24,v3=Sc*7,KD=Sc*30,B5=Sc*365,Ld=Ta(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*rc)},(e,t)=>(t-e)/rc,e=>e.getUTCSeconds());Ld.range;const x3=Ta(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rc)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getMinutes());x3.range;const y3=Ta(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getUTCMinutes());y3.range;const b3=Ta(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*rc-e.getMinutes()*to)},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getHours());b3.range;const w3=Ta(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nc)},(e,t)=>(t-e)/nc,e=>e.getUTCHours());w3.range;const gx=Ta(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*to)/Sc,e=>e.getDate()-1);gx.range;const n_=Ta(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sc,e=>e.getUTCDate()-1);n_.range;const nq=Ta(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sc,e=>Math.floor(e/Sc));nq.range;function Cf(e){return Ta(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*to)/v3)}const a_=Cf(0),ub=Cf(1),b3e=Cf(2),w3e=Cf(3),C0=Cf(4),_3e=Cf(5),j3e=Cf(6);a_.range;ub.range;b3e.range;w3e.range;C0.range;_3e.range;j3e.range;function Ef(e){return Ta(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/v3)}const i_=Ef(0),db=Ef(1),S3e=Ef(2),N3e=Ef(3),E0=Ef(4),A3e=Ef(5),T3e=Ef(6);i_.range;db.range;S3e.range;N3e.range;E0.range;A3e.range;T3e.range;const _3=Ta(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());_3.range;const j3=Ta(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());j3.range;const Nc=Ta(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Nc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ta(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Nc.range;const Ac=Ta(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ac.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ta(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ac.range;function aq(e,t,r,n,a,i){const o=[[Ld,1,rc],[Ld,5,5*rc],[Ld,15,15*rc],[Ld,30,30*rc],[i,1,to],[i,5,5*to],[i,15,15*to],[i,30,30*to],[a,1,nc],[a,3,3*nc],[a,6,6*nc],[a,12,12*nc],[n,1,Sc],[n,2,2*Sc],[r,1,v3],[t,1,KD],[t,3,3*KD],[e,1,B5]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=i3(([,,x])=>x).right(o,h);if(p===o.length)return e.every(z4(u/B5,d/B5,f));if(p===0)return cb.every(Math.max(z4(u,d,f),1));const[v,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(m)}return[l,c]}const[C3e,E3e]=aq(Ac,j3,i_,nq,w3,y3),[k3e,P3e]=aq(Nc,_3,a_,gx,b3,x3);function z5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function U5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function O3e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=hm(a),d=pm(a),f=hm(i),h=pm(i),p=hm(o),v=pm(o),m=hm(l),x=pm(l),g=hm(c),y=pm(c),b={a:R,A:G,b:F,B:H,c:null,d:eL,e:eL,f:tke,g:dke,G:hke,H:Q3e,I:Z3e,j:eke,L:iq,m:rke,M:nke,p:J,q:A,Q:nL,s:aL,S:ake,u:ike,U:ske,V:oke,w:lke,W:cke,x:null,X:null,y:uke,Y:fke,Z:pke,"%":rL},j={a:M,A:K,b:L,B:Y,c:null,d:tL,e:tL,f:xke,g:Cke,G:kke,H:mke,I:gke,j:vke,L:oq,m:yke,M:bke,p:Z,q:se,Q:nL,s:aL,S:wke,u:_ke,U:jke,V:Ske,w:Nke,W:Ake,x:null,X:null,y:Tke,Y:Eke,Z:Pke,"%":rL},_={a:V,A:C,b:P,B:U,c:q,d:QD,e:QD,f:K3e,g:JD,G:XD,H:ZD,I:ZD,j:H3e,L:G3e,m:V3e,M:W3e,p:k,q:U3e,Q:X3e,s:J3e,S:q3e,u:M3e,U:R3e,V:$3e,w:I3e,W:B3e,x:z,X:I,y:JD,Y:XD,Z:z3e,"%":Y3e};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(W,ae){return function(fe){var Q=[],ke=-1,Ie=0,Ae=W.length,ce,Re,at;for(fe instanceof Date||(fe=new Date(+fe));++ke<Ae;)W.charCodeAt(ke)===37&&(Q.push(W.slice(Ie,ke)),(Re=YD[ce=W.charAt(++ke)])!=null?ce=W.charAt(++ke):Re=ce==="e"?" ":"0",(at=ae[ce])&&(ce=at(fe,Re)),Q.push(ce),Ie=ke+1);return Q.push(W.slice(Ie,ke)),Q.join("")}}function S(W,ae){return function(fe){var Q=fm(1900,void 0,1),ke=T(Q,W,fe+="",0),Ie,Ae;if(ke!=fe.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ae&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ie=U5(fm(Q.y,0,1)),Ae=Ie.getUTCDay(),Ie=Ae>4||Ae===0?db.ceil(Ie):db(Ie),Ie=n_.offset(Ie,(Q.V-1)*7),Q.y=Ie.getUTCFullYear(),Q.m=Ie.getUTCMonth(),Q.d=Ie.getUTCDate()+(Q.w+6)%7):(Ie=z5(fm(Q.y,0,1)),Ae=Ie.getDay(),Ie=Ae>4||Ae===0?ub.ceil(Ie):ub(Ie),Ie=gx.offset(Ie,(Q.V-1)*7),Q.y=Ie.getFullYear(),Q.m=Ie.getMonth(),Q.d=Ie.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Ae="Z"in Q?U5(fm(Q.y,0,1)).getUTCDay():z5(fm(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Ae+5)%7:Q.w+Q.U*7-(Ae+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,U5(Q)):z5(Q)}}function T(W,ae,fe,Q){for(var ke=0,Ie=ae.length,Ae=fe.length,ce,Re;ke<Ie;){if(Q>=Ae)return-1;if(ce=ae.charCodeAt(ke++),ce===37){if(ce=ae.charAt(ke++),Re=_[ce in YD?ae.charAt(ke++):ce],!Re||(Q=Re(W,fe,Q))<0)return-1}else if(ce!=fe.charCodeAt(Q++))return-1}return Q}function k(W,ae,fe){var Q=u.exec(ae.slice(fe));return Q?(W.p=d.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function V(W,ae,fe){var Q=p.exec(ae.slice(fe));return Q?(W.w=v.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function C(W,ae,fe){var Q=f.exec(ae.slice(fe));return Q?(W.w=h.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function P(W,ae,fe){var Q=g.exec(ae.slice(fe));return Q?(W.m=y.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function U(W,ae,fe){var Q=m.exec(ae.slice(fe));return Q?(W.m=x.get(Q[0].toLowerCase()),fe+Q[0].length):-1}function q(W,ae,fe){return T(W,t,ae,fe)}function z(W,ae,fe){return T(W,r,ae,fe)}function I(W,ae,fe){return T(W,n,ae,fe)}function R(W){return o[W.getDay()]}function G(W){return i[W.getDay()]}function F(W){return c[W.getMonth()]}function H(W){return l[W.getMonth()]}function J(W){return a[+(W.getHours()>=12)]}function A(W){return 1+~~(W.getMonth()/3)}function M(W){return o[W.getUTCDay()]}function K(W){return i[W.getUTCDay()]}function L(W){return c[W.getUTCMonth()]}function Y(W){return l[W.getUTCMonth()]}function Z(W){return a[+(W.getUTCHours()>=12)]}function se(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var ae=N(W+="",b);return ae.toString=function(){return W},ae},parse:function(W){var ae=S(W+="",!1);return ae.toString=function(){return W},ae},utcFormat:function(W){var ae=N(W+="",j);return ae.toString=function(){return W},ae},utcParse:function(W){var ae=S(W+="",!0);return ae.toString=function(){return W},ae}}}var YD={"-":"",_:" ",0:"0"},Ua=/^\s*\d+/,F3e=/^%/,D3e=/[\\^$*+?|[\]().{}]/g;function Vr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function L3e(e){return e.replace(D3e,"\\$&")}function hm(e){return new RegExp("^(?:"+e.map(L3e).join("|")+")","i")}function pm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function I3e(e,t,r){var n=Ua.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function M3e(e,t,r){var n=Ua.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function R3e(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $3e(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function B3e(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function XD(e,t,r){var n=Ua.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function JD(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function z3e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function U3e(e,t,r){var n=Ua.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function V3e(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function QD(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function H3e(e,t,r){var n=Ua.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ZD(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function W3e(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function q3e(e,t,r){var n=Ua.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function G3e(e,t,r){var n=Ua.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function K3e(e,t,r){var n=Ua.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Y3e(e,t,r){var n=F3e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function X3e(e,t,r){var n=Ua.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function J3e(e,t,r){var n=Ua.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function eL(e,t){return Vr(e.getDate(),t,2)}function Q3e(e,t){return Vr(e.getHours(),t,2)}function Z3e(e,t){return Vr(e.getHours()%12||12,t,2)}function eke(e,t){return Vr(1+gx.count(Nc(e),e),t,3)}function iq(e,t){return Vr(e.getMilliseconds(),t,3)}function tke(e,t){return iq(e,t)+"000"}function rke(e,t){return Vr(e.getMonth()+1,t,2)}function nke(e,t){return Vr(e.getMinutes(),t,2)}function ake(e,t){return Vr(e.getSeconds(),t,2)}function ike(e){var t=e.getDay();return t===0?7:t}function ske(e,t){return Vr(a_.count(Nc(e)-1,e),t,2)}function sq(e){var t=e.getDay();return t>=4||t===0?C0(e):C0.ceil(e)}function oke(e,t){return e=sq(e),Vr(C0.count(Nc(e),e)+(Nc(e).getDay()===4),t,2)}function lke(e){return e.getDay()}function cke(e,t){return Vr(ub.count(Nc(e)-1,e),t,2)}function uke(e,t){return Vr(e.getFullYear()%100,t,2)}function dke(e,t){return e=sq(e),Vr(e.getFullYear()%100,t,2)}function fke(e,t){return Vr(e.getFullYear()%1e4,t,4)}function hke(e,t){var r=e.getDay();return e=r>=4||r===0?C0(e):C0.ceil(e),Vr(e.getFullYear()%1e4,t,4)}function pke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vr(t/60|0,"0",2)+Vr(t%60,"0",2)}function tL(e,t){return Vr(e.getUTCDate(),t,2)}function mke(e,t){return Vr(e.getUTCHours(),t,2)}function gke(e,t){return Vr(e.getUTCHours()%12||12,t,2)}function vke(e,t){return Vr(1+n_.count(Ac(e),e),t,3)}function oq(e,t){return Vr(e.getUTCMilliseconds(),t,3)}function xke(e,t){return oq(e,t)+"000"}function yke(e,t){return Vr(e.getUTCMonth()+1,t,2)}function bke(e,t){return Vr(e.getUTCMinutes(),t,2)}function wke(e,t){return Vr(e.getUTCSeconds(),t,2)}function _ke(e){var t=e.getUTCDay();return t===0?7:t}function jke(e,t){return Vr(i_.count(Ac(e)-1,e),t,2)}function lq(e){var t=e.getUTCDay();return t>=4||t===0?E0(e):E0.ceil(e)}function Ske(e,t){return e=lq(e),Vr(E0.count(Ac(e),e)+(Ac(e).getUTCDay()===4),t,2)}function Nke(e){return e.getUTCDay()}function Ake(e,t){return Vr(db.count(Ac(e)-1,e),t,2)}function Tke(e,t){return Vr(e.getUTCFullYear()%100,t,2)}function Cke(e,t){return e=lq(e),Vr(e.getUTCFullYear()%100,t,2)}function Eke(e,t){return Vr(e.getUTCFullYear()%1e4,t,4)}function kke(e,t){var r=e.getUTCDay();return e=r>=4||r===0?E0(e):E0.ceil(e),Vr(e.getUTCFullYear()%1e4,t,4)}function Pke(){return"+0000"}function rL(){return"%"}function nL(e){return+e}function aL(e){return Math.floor(+e/1e3)}var lh,cq,uq;Oke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Oke(e){return lh=O3e(e),cq=lh.format,lh.parse,uq=lh.utcFormat,lh.utcParse,lh}function Fke(e){return new Date(e)}function Dke(e){return e instanceof Date?+e:+new Date(+e)}function S3(e,t,r,n,a,i,o,l,c,u){var d=u3(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),x=u("%I %p"),g=u("%a %d"),y=u("%b %d"),b=u("%B"),j=u("%Y");function _(N){return(c(N)<N?p:l(N)<N?v:o(N)<N?m:i(N)<N?x:n(N)<N?a(N)<N?g:y:r(N)<N?b:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,Dke)):h().map(Fke)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?_:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(XW(S,N)):d},d.copy=function(){return mx(d,S3(e,t,r,n,a,i,o,l,c,u))},d}function Lke(){return ho.apply(S3(k3e,P3e,Nc,_3,a_,gx,b3,x3,Ld,cq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ike(){return ho.apply(S3(C3e,E3e,Ac,j3,i_,n_,w3,y3,Ld,uq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function s_(){var e=0,t=1,r,n,a,i,o=Ii,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=d(pp),u.rangeRound=d(c3),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ed(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dq(){var e=Zu(s_()(Ii));return e.copy=function(){return ed(e,dq())},Pc.apply(e,arguments)}function fq(){var e=h3(s_()).domain([1,10]);return e.copy=function(){return ed(e,fq()).base(e.base())},Pc.apply(e,arguments)}function hq(){var e=p3(s_());return e.copy=function(){return ed(e,hq()).constant(e.constant())},Pc.apply(e,arguments)}function N3(){var e=m3(s_());return e.copy=function(){return ed(e,N3()).exponent(e.exponent())},Pc.apply(e,arguments)}function Mke(){return N3.apply(null,arguments).exponent(.5)}function pq(){var e=[],t=Ii;function r(n){if(n!=null&&!isNaN(n=+n))return t((hx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ku),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>jEe(e,i/n))},r.copy=function(){return pq(t).domain(e)},Pc.apply(r,arguments)}function o_(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Ii,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function v(m){return function(x){var g,y,b;return arguments.length?([g,y,b]=x,u=YEe(m,[g,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=v(pp),p.rangeRound=v(c3),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function mq(){var e=Zu(o_()(Ii));return e.copy=function(){return ed(e,mq())},Pc.apply(e,arguments)}function gq(){var e=h3(o_()).domain([.1,1,10]);return e.copy=function(){return ed(e,gq()).base(e.base())},Pc.apply(e,arguments)}function vq(){var e=p3(o_());return e.copy=function(){return ed(e,vq()).constant(e.constant())},Pc.apply(e,arguments)}function A3(){var e=m3(o_());return e.copy=function(){return ed(e,A3()).exponent(e.exponent())},Pc.apply(e,arguments)}function Rke(){return A3.apply(null,arguments).exponent(.5)}const iL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uv,scaleDiverging:mq,scaleDivergingLog:gq,scaleDivergingPow:A3,scaleDivergingSqrt:Rke,scaleDivergingSymlog:vq,scaleIdentity:YW,scaleImplicit:U4,scaleLinear:lb,scaleLog:JW,scaleOrdinal:s3,scalePoint:fg,scalePow:g3,scaleQuantile:eq,scaleQuantize:tq,scaleRadial:ZW,scaleSequential:dq,scaleSequentialLog:fq,scaleSequentialPow:N3,scaleSequentialQuantile:pq,scaleSequentialSqrt:Mke,scaleSequentialSymlog:hq,scaleSqrt:x3e,scaleSymlog:QW,scaleThreshold:rq,scaleTime:Lke,scaleUtc:Ike,tickFormat:KW},Symbol.toStringTag,{value:"Module"}));var $ke=sp;function Bke(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!$ke(o):r(o,l)))var l=o,c=i}return c}var xq=Bke;function zke(e,t){return e>t}var Uke=zke,Vke=xq,Hke=Uke,Wke=hp;function qke(e){return e&&e.length?Vke(e,Wke,Hke):void 0}var Gke=qke;const l_=Hr(Gke);function Kke(e,t){return e<t}var Yke=Kke,Xke=xq,Jke=Yke,Qke=hp;function Zke(e){return e&&e.length?Xke(e,Qke,Jke):void 0}var ePe=Zke;const c_=Hr(ePe);var tPe=BE,rPe=Qu,nPe=AW,aPe=ss;function iPe(e,t){var r=aPe(e)?tPe:nPe;return r(e,rPe(t))}var sPe=iPe,oPe=SW,lPe=sPe;function cPe(e,t){return oPe(lPe(e,t),1)}var uPe=cPe;const dPe=Hr(uPe);var fPe=t3;function hPe(e,t){return fPe(e,t)}var pPe=hPe;const u_=Hr(pPe);var mp=1e9,mPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},C3,kn=!0,lo="[DecimalError] ",qd=lo+"Invalid argument: ",T3=lo+"Exponent out of range: ",gp=Math.floor,wd=Math.pow,gPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_s,Fa=1e7,wn=7,yq=9007199254740991,fb=gp(yq/wn),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Mt.dividedBy=Mt.div=function(e){return pc(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,r=t.constructor;return un(pc(t,new r(e),0,1),r.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return ga(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_s))throw Error(lo+"NaN");if(r.s<1)throw Error(lo+(r.s?"NaN":"-Infinity"));return r.eq(_s)?new n(0):(kn=!1,t=pc(mv(r,i),mv(e,i),i),kn=!0,un(t,a))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_q(t,e):bq(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(lo+"NaN");return r.s?(kn=!1,t=pc(r,e,0,1).times(e),kn=!0,r.minus(t)):un(new n(r),a)};Mt.naturalExponential=Mt.exp=function(){return wq(this)};Mt.naturalLogarithm=Mt.ln=function(){return mv(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bq(t,e):_q(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qd+e);if(t=ga(a)+1,n=a.d.length-1,r=n*wn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Mt.squareRoot=Mt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(lo+"NaN")}for(e=ga(l),kn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ml(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=gp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(pc(l,i,o+2)).times(.5),ml(i.d).slice(0,o)===(t=ml(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(un(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return kn=!0,un(n,r)};Mt.times=Mt.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Fa|0,t=l/Fa|0;i[a]=(i[a]+t)%Fa|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,kn?un(e,f.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Cl(e,0,mp),t===void 0?t=n.rounding:Cl(t,0,8),un(r,e+ga(r)+1,t))};Mt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ff(n,!0):(Cl(e,0,mp),t===void 0?t=a.rounding:Cl(t,0,8),n=un(new a(n),e+1,t),r=ff(n,!0,e+1)),r};Mt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ff(a):(Cl(e,0,mp),t===void 0?t=i.rounding:Cl(t,0,8),n=un(new i(a),e+ga(a)+1,t),r=ff(n.abs(),!1,e+ga(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return un(new t(e),ga(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(_s);if(l=new c(l),!l.s){if(e.s<1)throw Error(lo+"Infinity");return l}if(l.eq(_s))return l;if(n=c.precision,e.eq(_s))return un(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=yq){for(a=new c(_s),t=Math.ceil(n/wn+4),kn=!1;r%2&&(a=a.times(l),oL(a.d,t)),r=gp(r/2),r!==0;)l=l.times(l),oL(l.d,t);return kn=!0,e.s<0?new c(_s).div(a):un(a,n)}}else if(i<0)throw Error(lo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,kn=!1,a=e.times(mv(l,n+u)),kn=!0,a=wq(a),a.s=i,a};Mt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ga(a),n=ff(a,r<=i.toExpNeg||r>=i.toExpPos)):(Cl(e,1,mp),t===void 0?t=i.rounding:Cl(t,0,8),a=un(new i(a),e,t),r=ga(a),n=ff(a,e<=r||r<=i.toExpNeg,e)),n};Mt.toSignificantDigits=Mt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Cl(e,1,mp),t===void 0?t=n.rounding:Cl(t,0,8)),un(new n(r),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ga(e),r=e.constructor;return ff(e,t<=r.toExpNeg||t>=r.toExpPos)};function bq(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),kn?un(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/wn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Fa|0,c[i]%=Fa;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,kn?un(t,f):t}function Cl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qd+e)}function ml(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=wn-n.length,r&&(i+=ou(r)),i+=n;o=e[t],n=o+"",r=wn-n.length,r&&(i+=ou(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var pc=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Fa|0,o=i/Fa|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Fa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,v,m,x,g,y,b,j,_,N,S,T,k=n.constructor,V=n.s==a.s?1:-1,C=n.d,P=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(lo+"Division by zero");for(c=n.e-a.e,S=P.length,_=C.length,p=new k(V),v=p.d=[],u=0;P[u]==(C[u]||0);)++u;if(P[u]>(C[u]||0)&&--c,i==null?y=i=k.precision:o?y=i+(ga(n)-ga(a))+1:y=i,y<0)return new k(0);if(y=y/wn+2|0,u=0,S==1)for(d=0,P=P[0],y++;(u<_||d)&&y--;u++)b=d*Fa+(C[u]||0),v[u]=b/P|0,d=b%P|0;else{for(d=Fa/(P[0]+1)|0,d>1&&(P=e(P,d),C=e(C,d),S=P.length,_=C.length),j=S,m=C.slice(0,S),x=m.length;x<S;)m[x++]=0;T=P.slice(),T.unshift(0),N=P[0],P[1]>=Fa/2&&++N;do d=0,l=t(P,m,S,x),l<0?(g=m[0],S!=x&&(g=g*Fa+(m[1]||0)),d=g/N|0,d>1?(d>=Fa&&(d=Fa-1),f=e(P,d),h=f.length,x=m.length,l=t(f,m,h,x),l==1&&(d--,r(f,S<h?T:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),l==-1&&(x=m.length,l=t(P,m,S,x),l<1&&(d++,r(m,S<x?T:P,x))),x=m.length):l===0&&(d++,m=[0]),v[u++]=d,l&&m[0]?m[x++]=C[j]||0:(m=[C[j]],x=1);while((j++<_||m[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,un(p,o?i+ga(p)+1:i)}}();function wq(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ga(e)>16)throw Error(T3+ga(e));if(!e.s)return new d(_s);for(t==null?(kn=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(wd(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(_s),d.precision=l;;){if(a=un(a.times(e),l),r=r.times(++c),o=i.plus(pc(a,r,l)),ml(o.d).slice(0,l)===ml(i.d).slice(0,l)){for(;u--;)i=un(i.times(i),l);return d.precision=f,t==null?(kn=!0,un(i,f)):i}i=o}}function ga(e){for(var t=e.e*wn,r=e.d[0];r>=10;r/=10)t++;return t}function V5(e,t,r){if(t>e.LN10.sd())throw kn=!0,r&&(e.precision=r),Error(lo+"LN10 precision limit exceeded");return un(new e(e.LN10),t)}function ou(e){for(var t="";e--;)t+="0";return t}function mv(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,v=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(lo+(p.s?"NaN":"-Infinity"));if(p.eq(_s))return new m(0);if(t==null?(kn=!1,u=x):u=t,p.eq(10))return t==null&&(kn=!0),V5(m,u);if(u+=h,m.precision=u,r=ml(v),n=r.charAt(0),i=ga(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ml(p.d),n=r.charAt(0),f++;i=ga(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=V5(m,u+2,x).times(i+""),p=mv(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(kn=!0,un(p,x)):p;for(l=o=p=pc(p.minus(_s),p.plus(_s),u),d=un(p.times(p),u),a=3;;){if(o=un(o.times(d),u),c=l.plus(pc(o,new m(a),u)),ml(c.d).slice(0,u)===ml(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(V5(m,u+2,x).times(i+""))),l=pc(l,new m(f),u),m.precision=x,t==null?(kn=!0,un(l,x)):l;l=c,a+=2}}function sL(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=gp(r/wn),e.d=[],n=(r+1)%wn,r<0&&(n+=wn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=wn;n<a;)e.d.push(+t.slice(n,n+=wn));t=t.slice(n),n=wn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),kn&&(e.e>fb||e.e<-fb))throw Error(T3+r)}else e.s=0,e.e=0,e.d=[0];return e}function un(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=wn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/wn),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=wn,a=n-wn+o}if(r!==void 0&&(i=wd(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/wd(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ga(e),f.length=1,t=t-i-1,f[0]=wd(10,(wn-t%wn)%wn),e.e=gp(-t/wn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=wd(10,wn-n),f[d]=a>0?(u/wd(10,o-a)%wd(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Fa&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Fa)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(kn&&(e.e>fb||e.e<-fb))throw Error(T3+ga(e));return e}function _q(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),kn?un(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/wn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Fa-1;--c[i],c[a]+=Fa}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,kn?un(t,p):t):new h(0)}function ff(e,t,r){var n,a=ga(e),i=ml(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ou(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ou(-a-1)+i,r&&(n=r-o)>0&&(i+=ou(n))):a>=o?(i+=ou(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ou(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ou(n))),e.s<0?"-"+i:i}function oL(e,t){if(e.length>t)return e.length=t,!0}function jq(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return sL(o,i.toString())}else if(typeof i!="string")throw Error(qd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,gPe.test(i))sL(o,i);else throw Error(qd+i)}if(a.prototype=Mt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=jq,a.config=a.set=vPe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function vPe(e){if(!e||typeof e!="object")throw Error(lo+"Object expected");var t,r,n,a=["precision",1,mp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(gp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(qd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qd+r+": "+n);return this}var C3=jq(mPe);_s=new C3(1);const on=C3;function xPe(e){return _Pe(e)||wPe(e)||bPe(e)||yPe()}function yPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bPe(e,t){if(e){if(typeof e=="string")return q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q4(e,t)}}function wPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _Pe(e){if(Array.isArray(e))return q4(e)}function q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jPe=function(t){return t},Sq={"@@functional/placeholder":!0},Nq=function(t){return t===Sq},lL=function(t){return function r(){return arguments.length===0||arguments.length===1&&Nq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},SPe=function e(t,r){return t===1?r:lL(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Sq}).length;return o>=t?r.apply(void 0,a):e(t-o,lL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Nq(f)?c.shift():f});return r.apply(void 0,xPe(d).concat(c))}))})},d_=function(t){return SPe(t.length,t)},G4=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},NPe=d_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),APe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jPe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},K4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Aq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function TPe(e){var t;return e===0?t=1:t=Math.floor(new on(e).abs().log(10).toNumber())+1,t}function CPe(e,t,r){for(var n=new on(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var EPe=d_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),kPe=d_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),PPe=d_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const f_={rangeStep:CPe,getDigitCount:TPe,interpolateNumber:EPe,uninterpolateNumber:kPe,uninterpolateTruncation:PPe};function Y4(e){return DPe(e)||FPe(e)||Tq(e)||OPe()}function OPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function DPe(e){if(Array.isArray(e))return X4(e)}function gv(e,t){return MPe(e)||IPe(e,t)||Tq(e,t)||LPe()}function LPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tq(e,t){if(e){if(typeof e=="string")return X4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IPe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function MPe(e){if(Array.isArray(e))return e}function Cq(e){var t=gv(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Eq(e,t,r){if(e.lte(0))return new on(0);var n=f_.getDigitCount(e.toNumber()),a=new on(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new on(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new on(Math.ceil(c))}function RPe(e,t,r){var n=1,a=new on(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new on(10).pow(f_.getDigitCount(e)-1),a=new on(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new on(Math.floor(e)))}else e===0?a=new on(Math.floor((t-1)/2)):r||(a=new on(Math.floor(e)));var o=Math.floor((t-1)/2),l=APe(NPe(function(c){return a.add(new on(c-o).mul(n)).toNumber()}),G4);return l(0,t)}function kq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new on(0),tickMin:new on(0),tickMax:new on(0)};var i=Eq(new on(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new on(0):(o=new on(e).add(t).div(2),o=o.sub(new on(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new on(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?kq(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new on(l).mul(i)),tickMax:o.add(new on(c).mul(i))})}function $Pe(e){var t=gv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Cq([r,n]),c=gv(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Y4(G4(0,a-1).map(function(){return 1/0}))):[].concat(Y4(G4(0,a-1).map(function(){return-1/0})),[d]);return r>n?K4(f):f}if(u===d)return RPe(u,a,i);var h=kq(u,d,o,i),p=h.step,v=h.tickMin,m=h.tickMax,x=f_.rangeStep(v,m.add(new on(.1).mul(p)),p);return r>n?K4(x):x}function BPe(e,t){var r=gv(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Cq([n,a]),l=gv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=Eq(new on(u).sub(c).div(d-1),i,0),h=[].concat(Y4(f_.rangeStep(new on(c),new on(u).sub(new on(.99).mul(f)),f)),[u]);return n>a?K4(h):h}var zPe=Aq($Pe),UPe=Aq(BPe),VPe=!0,H5="Invariant failed";function hf(e,t){if(!e){if(VPe)throw new Error(H5);var r=typeof t=="function"?t():t,n=r?"".concat(H5,": ").concat(r):H5;throw new Error(n)}}var HPe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hb.apply(this,arguments)}function WPe(e,t){return YPe(e)||KPe(e,t)||GPe(e,t)||qPe()}function qPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GPe(e,t){if(e){if(typeof e=="string")return cL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cL(e,t)}}function cL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YPe(e){if(Array.isArray(e))return e}function XPe(e,t){if(e==null)return{};var r=JPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fq(n.key),n)}}function ZPe(e,t,r){return t&&uL(e.prototype,t),r&&uL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eOe(e,t,r){return t=pb(t),tOe(e,Pq()?Reflect.construct(t,r||[],pb(e).constructor):t.apply(e,r))}function tOe(e,t){if(t&&(k0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rOe(e)}function rOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(e)}function nOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J4(e,t)}function J4(e,t){return J4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J4(e,t)}function Oq(e,t,r){return t=Fq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=aOe(e,"string");return k0(t)=="symbol"?t:t+""}function aOe(e,t){if(k0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(k0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx=function(e){function t(){return QPe(this,t),eOe(this,t,arguments)}return nOe(t,e),ZPe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=XPe(n,HPe),p=Or(h,!1);this.props.direction==="x"&&d.type!=="number"&&hf(!1);var v=c.map(function(m){var x=u(m,l),g=x.x,y=x.y,b=x.value,j=x.errorVal;if(!j)return null;var _=[],N,S;if(Array.isArray(j)){var T=WPe(j,2);N=T[0],S=T[1]}else N=S=j;if(i==="vertical"){var k=d.scale,V=y+a,C=V+o,P=V-o,U=k(b-N),q=k(b+S);_.push({x1:q,y1:C,x2:q,y2:P}),_.push({x1:U,y1:V,x2:q,y2:V}),_.push({x1:U,y1:C,x2:U,y2:P})}else if(i==="horizontal"){var z=f.scale,I=g+a,R=I-o,G=I+o,F=z(b-N),H=z(b+S);_.push({x1:R,y1:H,x2:G,y2:H}),_.push({x1:I,y1:F,x2:I,y2:H}),_.push({x1:R,y1:F,x2:G,y2:F})}return Ce.createElement(na,hb({className:"recharts-errorBar",key:"bar-".concat(_.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),_.map(function(J){return Ce.createElement("line",hb({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return Ce.createElement(na,{className:"recharts-errorBars"},v)}}])}(Ce.Component);Oq(vx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Oq(vx,"displayName","ErrorBar");function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function dL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(r),!0).forEach(function(n){iOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iOe(e,t,r){return t=sOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sOe(e){var t=oOe(e,"string");return vv(t)=="symbol"?t:t+""}function oOe(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=vs(r,t0);if(!o)return null;var l=t0.defaultProps,c=l!==void 0?pd(pd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?pd(pd({},h),f.props):{},v=p.dataKey,m=p.name,x=p.legendType,g=p.hide;return{inactive:g,dataKey:v,type:c.iconType||x||"square",color:E3(f),value:m||v,payload:p}}),pd(pd(pd({},c),t0.getWithHeight(o,a)),{},{payload:u,item:o})};function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}function fL(e){return dOe(e)||uOe(e)||cOe(e)||lOe()}function lOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cOe(e,t){if(e){if(typeof e=="string")return Q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q4(e,t)}}function uOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dOe(e){if(Array.isArray(e))return Q4(e)}function Q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){n0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n0(e,t,r){return t=fOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fOe(e){var t=hOe(e,"string");return xv(t)=="symbol"?t:t+""}function hOe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ds(e,t,r){return Er(e)||Er(t)?r:Na(t)?no(e,t,r):_r(t)?t(e):r}function hg(e,t,r,n){var a=dPe(e,function(l){return Ds(l,t)});if(r==="number"){var i=a.filter(function(l){return Et(l)||parseFloat(l)});return i.length?[c_(i),l_(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Er(l)}):a;return o.map(function(l){return Na(l)||l instanceof Date?l:""})}var pOe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Uo(f-d)!==Uo(h-f)){var v=[];if(Uo(h-f)===Uo(c[1]-c[0])){p=h;var m=f+c[1]-c[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+c[1]-c[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>g[0]&&t<=g[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(t>(y+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},E3=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Wn(Wn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},mOe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,x=v.cateAxisId,g=m.filter(function(S){return dc(S.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,b=y!==void 0?Wn(Wn({},y),g[0].props):g[0].props,j=b.barSize,_=b[x];o[_]||(o[_]=[]);var N=Er(j)?r:j;o[_].push({item:g[0],stackList:g.slice(1),barSize:Er(N)?void 0:df(N,n,0)})}}return o},gOe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=df(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,v=o.reduce(function(j,_){return j+_.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&p>0&&(h=!0,p*=.9,v=c*p);var m=(a-v)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(j,_){var N={item:_.item,position:{offset:x.offset+x.size+u,size:h?p:_.barSize}},S=[].concat(fL(j),[N]);return x=S[S.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(T){S.push({item:T,position:x})}),S},f)}else{var g=df(n,a,0,!0);a-2*g-(c-1)*u<=0&&(u=0);var y=(a-2*g-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=o.reduce(function(j,_,N){var S=[].concat(fL(j),[{item:_.item,position:{offset:g+(y+u)*N+(y-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return d},vOe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Dq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&Et(t[p]))return Wn(Wn({},t),{},n0({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&Et(t[v]))return Wn(Wn({},t),{},n0({},v,t[v]+(h||0)))}return t},xOe=function(t,r,n){return Er(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Lq=function(t,r,n,a,i){var o=r.props.children,l=ao(o,vx).filter(function(u){return xOe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ds(d,n);if(Er(f))return u;var h=Array.isArray(f)?[c_(f),l_(f)]:[f,f],p=c.reduce(function(v,m){var x=Ds(d,m,0),g=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(g,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},yOe=function(t,r,n,a,i){var o=r.map(function(l){return Lq(t,l,n,i,a)}).filter(function(l){return!Er(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Iq=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Lq(t,c,u,a)||hg(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Mq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Rq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ac=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Uo(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!ux(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},W5=new WeakMap,ay=function(t,r){if(typeof r!="function")return t;W5.has(t)||W5.set(t,new WeakMap);var n=W5.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},bOe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:uv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:lb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:fg(),realScaleType:"point"}:i==="category"?{scale:uv(),realScaleType:"band"}:{scale:lb(),realScaleType:"linear"};if(cx(a)){var c="scale".concat(Yw(a));return{scale:(iL[c]||fg)(),realScaleType:iL[c]?c:"point"}}return _r(a)?{scale:a}:{scale:fg(),realScaleType:"point"}},pL=1e-4,wOe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-pL,o=Math.max(a[0],a[1])+pL,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},_Oe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},jOe=function(t,r){if(!r||r.length!==2||!Et(r[0])||!Et(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Et(t[0])||t[0]<n)&&(i[0]=n),(!Et(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},SOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=ux(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},NOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=ux(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},AOe={sign:SOe,expand:Vwe,none:_0,silhouette:Hwe,wiggle:Wwe,positive:NOe},TOe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=AOe[n],o=Uwe().keys(a).value(function(l,c){return+Ds(l,c,0)}).order(j4).offset(i);return o(t)},COe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Wn(Wn({},h.type.defaultProps),h.props):h.props,m=v.stackId,x=v.hide;if(x)return f;var g=v[n],y=f[g]||{hasStack:!1,stackGroups:{}};if(Na(m)){var b=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[m]=b}else y.stackGroups[dx("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Wn(Wn({},f),{},n0({},g,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var g=p.stackGroups[x];return Wn(Wn({},m),{},n0({},x,{numericAxisId:n,cateAxisId:a,items:g.items,stackedData:TOe(t,g.items,i)}))},v)}return Wn(Wn({},f),{},n0({},h,p))},d)},EOe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=zPe(u,i,l);return t.domain([c_(d),l_(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=UPe(f,i,l);return{niceTicks:h}}return null};function mL(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Er(a[t.dataKey])){var l=$2(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ds(a,Er(o)?t.dataKey:o);return Er(c)?null:t.scale(c)}var gL=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Ds(o,r.dataKey,r.domain[l]);return Er(c)?null:r.scale(c)-i/2+a},kOe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},POe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Wn(Wn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Na(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},OOe=function(t){return t.reduce(function(r,n){return[c_(n.concat([r[0]]).filter(Et)),l_(n.concat([r[1]]).filter(Et))]},[1/0,-1/0])},$q=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=OOe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},vL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z4=function(t,r,n){if(_r(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Et(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(vL.test(t[0])){var i=+vL.exec(t[0])[1];a[0]=r[0]-i}else _r(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Et(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(xL.test(t[1])){var o=+xL.exec(t[1])[1];a[1]=r[1]+o}else _r(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},mb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=n3(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},yL=function(t,r,n){return!t||!t.length||u_(t,no(n,"type.defaultProps.domain"))?r:t},Bq=function(t,r){var n=t.type.defaultProps?Wn(Wn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Wn(Wn({},Or(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:E3(t),value:Ds(r,a),type:c,payload:r,chartType:u,hide:d})};function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){FOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FOe(e,t,r){return t=DOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DOe(e){var t=LOe(e,"string");return yv(t)=="symbol"?t:t+""}function LOe(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gb=Math.PI/180,IOe=function(t){return t*180/Math.PI},Ya=function(t,r,n,a){return{x:t+Math.cos(-gb*a)*n,y:r+Math.sin(-gb*a)*n}},MOe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},ROe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=MOe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:IOe(u),angleInRadian:u}},$Oe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},BOe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},_L=function(t,r){var n=t.x,a=t.y,i=ROe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=$Oe(r),f=d.startAngle,h=d.endAngle,p=l,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?wL(wL({},r),{},{radius:o,angle:BOe(p,r)}):null};function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}var zOe=["offset"];function UOe(e){return qOe(e)||WOe(e)||HOe(e)||VOe()}function VOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HOe(e,t){if(e){if(typeof e=="string")return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}function WOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qOe(e){if(Array.isArray(e))return eA(e)}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GOe(e,t){if(e==null)return{};var r=KOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(n){YOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YOe(e,t,r){return t=XOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XOe(e){var t=JOe(e,"string");return bv(t)=="symbol"?t:t+""}function JOe(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(this,arguments)}var QOe=function(t){var r=t.value,n=t.formatter,a=Er(t.children)?r:t.children;return _r(n)?n(a):a},ZOe=function(t,r){var n=Uo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},e6e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,m=c.clockWise,x=(f+h)/2,g=ZOe(p,v),y=g>=0?1:-1,b,j;a==="insideStart"?(b=p+y*o,j=m):a==="insideEnd"?(b=v-y*o,j=!m):a==="end"&&(b=v+y*o,j=m),j=g<=0?j:!j;var _=Ya(u,d,x,b),N=Ya(u,d,x,b+(j?1:-1)*359),S="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),T=Er(t.id)?dx("recharts-radial-line-"):t.id;return Ce.createElement("text",wv({},n,{dominantBaseline:"central",className:Ir("recharts-radial-bar-label",l)}),Ce.createElement("defs",null,Ce.createElement("path",{id:T,d:S})),Ce.createElement("textPath",{xlinkHref:"#".concat(T)},r))},t6e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Ya(o,l,u+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,g=Ya(o,l,x,h),y=g.x,b=g.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},r6e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",v=f>0?"start":"end",m=u>=0?1:-1,x=m*a,g=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return xa(xa({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var j={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return xa(xa({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var _={x:l-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return xa(xa({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return xa(xa({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?xa({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideRight"?xa({x:l+u-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideTop"?xa({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},S):i==="insideBottom"?xa({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):i==="insideTopLeft"?xa({x:l+x,y:c+h,textAnchor:y,verticalAnchor:v},S):i==="insideTopRight"?xa({x:l+u-x,y:c+h,textAnchor:g,verticalAnchor:v},S):i==="insideBottomLeft"?xa({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:p},S):i==="insideBottomRight"?xa({x:l+u-x,y:c+d-h,textAnchor:g,verticalAnchor:p},S):op(i)&&(Et(i.x)||Fd(i.x))&&(Et(i.y)||Fd(i.y))?xa({x:l+df(i.x,u),y:c+df(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):xa({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},n6e=function(t){return"cx"in t&&Et(t.cx)};function pi(e){var t=e.offset,r=t===void 0?5:t,n=GOe(e,zOe),a=xa({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Er(l)&&Er(c)&&!O.isValidElement(u)&&!_r(u))return null;if(O.isValidElement(u))return O.cloneElement(u,a);var p;if(_r(u)){if(p=O.createElement(u,a),O.isValidElement(p))return p}else p=QOe(a);var v=n6e(i),m=Or(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return e6e(a,p,m);var x=v?t6e(a):r6e(a);return Ce.createElement(tb,wv({className:Ir("recharts-label",f)},m,x,{breakAll:h}),p)}pi.displayName="Label";var zq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,m=t.width,x=t.height,g=t.clockWise,y=t.labelViewBox;if(y)return y;if(Et(m)&&Et(x)){if(Et(f)&&Et(h))return{x:f,y:h,width:m,height:x};if(Et(p)&&Et(v))return{x:p,y:v,width:m,height:x}}return Et(f)&&Et(h)?{x:f,y:h,width:0,height:0}:Et(r)&&Et(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:t.viewBox?t.viewBox:{}},a6e=function(t,r){return t?t===!0?Ce.createElement(pi,{key:"label-implicit",viewBox:r}):Na(t)?Ce.createElement(pi,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===pi?O.cloneElement(t,{key:"label-implicit",viewBox:r}):Ce.createElement(pi,{key:"label-implicit",content:t,viewBox:r}):_r(t)?Ce.createElement(pi,{key:"label-implicit",content:t,viewBox:r}):op(t)?Ce.createElement(pi,wv({viewBox:r},t,{key:"label-implicit"})):null:null},i6e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=zq(t),o=ao(a,pi).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=a6e(t.label,r||i);return[l].concat(UOe(o))};pi.parseViewBox=zq;pi.renderCallByParent=i6e;function s6e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var o6e=s6e;const l6e=Hr(o6e);function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}var c6e=["valueAccessor"],u6e=["data","dataKey","clockWise","id","textBreakAll"];function d6e(e){return m6e(e)||p6e(e)||h6e(e)||f6e()}function f6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6e(e,t){if(e){if(typeof e=="string")return tA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tA(e,t)}}function p6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m6e(e){if(Array.isArray(e))return tA(e)}function tA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(this,arguments)}function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(n){g6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g6e(e,t,r){return t=v6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v6e(e){var t=x6e(e,"string");return _v(t)=="symbol"?t:t+""}function x6e(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AL(e,t){if(e==null)return{};var r=y6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var b6e=function(t){return Array.isArray(t.value)?l6e(t.value):t.value};function Pu(e){var t=e.valueAccessor,r=t===void 0?b6e:t,n=AL(e,c6e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=AL(n,u6e);return!a||!a.length?null:Ce.createElement(na,{className:"recharts-label-list"},a.map(function(d,f){var h=Er(i)?r(d,f):Ds(d&&d.payload,i),p=Er(l)?{}:{id:"".concat(l,"-").concat(f)};return Ce.createElement(pi,vb({},Or(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:pi.parseViewBox(Er(o)?d:NL(NL({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Pu.displayName="LabelList";function w6e(e,t){return e?e===!0?Ce.createElement(Pu,{key:"labelList-implicit",data:t}):Ce.isValidElement(e)||_r(e)?Ce.createElement(Pu,{key:"labelList-implicit",data:t,content:e}):op(e)?Ce.createElement(Pu,vb({data:t},e,{key:"labelList-implicit"})):null:null}function _6e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ao(n,Pu).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=w6e(e.label,t);return[i].concat(d6e(a))}Pu.renderCallByParent=_6e;function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rA.apply(this,arguments)}function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(n){j6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j6e(e,t,r){return t=S6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S6e(e){var t=N6e(e,"string");return jv(t)=="symbol"?t:t+""}function N6e(e,t){if(jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A6e=function(t,r){var n=Uo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},iy=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/gb,h=u?i:i+o*f,p=Ya(r,n,d,h),v=Ya(r,n,a,h),m=u?i-o*f:i,x=Ya(r,n,d*Math.cos(f*gb),m);return{center:p,circleTangency:v,lineTangency:x,theta:f}},Uq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=A6e(o,l),u=o+c,d=Ya(r,n,i,o),f=Ya(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Ya(r,n,a,o),v=Ya(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},T6e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Uo(d-u),h=iy({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,m=h.theta,x=iy({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=x.circleTangency,y=x.lineTangency,b=x.theta,j=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Uq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=iy({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,T=N.lineTangency,k=N.theta,V=iy({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=V.circleTangency,P=V.lineTangency,U=V.theta,q=c?Math.abs(u-d):Math.abs(u-d)-k-U;if(q<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},C6e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vq=function(t){var r=CL(CL({},C6e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=Ir("recharts-sector",h),v=o-i,m=df(l,v,0,!0),x;return m>0&&Math.abs(d-f)<360?x=T6e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=Uq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),Ce.createElement("path",rA({},Or(r,!0),{className:p,d:x,role:"img"}))};function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function nA(){return nA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nA.apply(this,arguments)}function EL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EL(Object(r),!0).forEach(function(n){E6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E6e(e,t,r){return t=k6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k6e(e){var t=P6e(e,"string");return Sv(t)=="symbol"?t:t+""}function P6e(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PL={curveBasisClosed:Pwe,curveBasisOpen:Owe,curveBasis:kwe,curveBumpX:gwe,curveBumpY:vwe,curveLinearClosed:Fwe,curveLinear:Jw,curveMonotoneX:Dwe,curveMonotoneY:Lwe,curveNatural:Iwe,curveStep:Mwe,curveStepAfter:$we,curveStepBefore:Rwe},sy=function(t){return t.x===+t.x&&t.y===+t.y},mm=function(t){return t.x},gm=function(t){return t.y},O6e=function(t,r){if(_r(t))return t;var n="curve".concat(Yw(t));return(n==="curveMonotone"||n==="curveBump")&&r?PL["".concat(n).concat(r==="vertical"?"Y":"X")]:PL[n]||Jw},F6e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=O6e(n,l),f=u?i.filter(function(m){return sy(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return sy(m)}):o,v=f.map(function(m,x){return kL(kL({},m),{},{base:p[x]})});return l==="vertical"?h=X1().y(gm).x1(mm).x0(function(m){return m.base.x}):h=X1().x(mm).y1(gm).y0(function(m){return m.base.y}),h.defined(sy).curve(d),h(v)}return l==="vertical"&&Et(o)?h=X1().y(gm).x1(mm).x0(o):Et(o)?h=X1().x(mm).y1(gm).y0(o):h=VH().x(mm).y(gm),h.defined(sy).curve(d),h(f)},aA=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?F6e(t):a;return Ce.createElement("path",nA({},Or(t,!1),B2(t),{className:Ir("recharts-curve",r),d:o,ref:i}))},D6e=Object.getOwnPropertyNames,L6e=Object.getOwnPropertySymbols,I6e=Object.prototype.hasOwnProperty;function OL(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function oy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function FL(e){return D6e(e).concat(L6e(e))}var Hq=Object.hasOwn||function(e,t){return I6e.call(e,t)};function vp(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Wq="_owner",DL=Object.getOwnPropertyDescriptor,LL=Object.keys;function M6e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function R6e(e,t){return vp(e.getTime(),t.getTime())}function IL(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],p=f[1],v=l.value,m=v[0],x=v[1];!u&&!n[d]&&(u=r.equals(h,m,i,d,e,t,r)&&r.equals(p,x,h,m,e,t,r))&&(n[d]=!0),d++}if(!u)return!1;i++}return!0}function $6e(e,t,r){var n=LL(e),a=n.length;if(LL(t).length!==a)return!1;for(var i;a-- >0;)if(i=n[a],i===Wq&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Hq(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function vm(e,t,r){var n=FL(e),a=n.length;if(FL(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],i===Wq&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Hq(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=DL(e,i),l=DL(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function B6e(e,t){return vp(e.valueOf(),t.valueOf())}function z6e(e,t){return e.source===t.source&&e.flags===t.flags}function ML(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function U6e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var V6e="[object Arguments]",H6e="[object Boolean]",W6e="[object Date]",q6e="[object Map]",G6e="[object Number]",K6e="[object Object]",Y6e="[object RegExp]",X6e="[object Set]",J6e="[object String]",Q6e=Array.isArray,RL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,$L=Object.assign,Z6e=Object.prototype.toString.call.bind(Object.prototype.toString);function e8e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return a(d,f,h);if(Q6e(d))return t(d,f,h);if(RL!=null&&RL(d))return c(d,f,h);if(p===Date)return r(d,f,h);if(p===RegExp)return o(d,f,h);if(p===Map)return n(d,f,h);if(p===Set)return l(d,f,h);var v=Z6e(d);return v===W6e?r(d,f,h):v===Y6e?o(d,f,h):v===q6e?n(d,f,h):v===X6e?l(d,f,h):v===K6e?typeof d.then!="function"&&typeof f.then!="function"&&a(d,f,h):v===V6e?a(d,f,h):v===H6e||v===G6e||v===J6e?i(d,f,h):!1}}function t8e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?vm:M6e,areDatesEqual:R6e,areMapsEqual:n?OL(IL,vm):IL,areObjectsEqual:n?vm:$6e,arePrimitiveWrappersEqual:B6e,areRegExpsEqual:z6e,areSetsEqual:n?OL(ML,vm):ML,areTypedArraysEqual:n?vm:U6e};if(r&&(a=$L({},a,r(a))),t){var i=oy(a.areArraysEqual),o=oy(a.areMapsEqual),l=oy(a.areObjectsEqual),c=oy(a.areSetsEqual);a=$L({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function r8e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function n8e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var a8e=td();td({strict:!0});td({circular:!0});td({circular:!0,strict:!0});td({createInternalComparator:function(){return vp}});td({strict:!0,createInternalComparator:function(){return vp}});td({circular:!0,createInternalComparator:function(){return vp}});td({circular:!0,createInternalComparator:function(){return vp},strict:!0});function td(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=t8e(e),c=e8e(l),u=n?n(c):r8e(c);return n8e({circular:r,comparator:c,createState:a,equals:u,strict:o})}function i8e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function BL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):i8e(a)};requestAnimationFrame(n)}function iA(e){"@babel/helpers - typeof";return iA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iA(e)}function s8e(e){return u8e(e)||c8e(e)||l8e(e)||o8e()}function o8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l8e(e,t){if(e){if(typeof e=="string")return zL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zL(e,t)}}function zL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u8e(e){if(Array.isArray(e))return e}function d8e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=s8e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){BL(a.bind(null,u),c);return}a(c),BL(a.bind(null,u));return}iA(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(n){qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qq(e,t,r){return t=f8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8e(e){var t=h8e(e,"string");return Nv(t)==="symbol"?t:String(t)}function h8e(e,t){if(Nv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p8e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},m8e=function(t){return t},g8e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},pg=function(t,r){return Object.keys(r).reduce(function(n,a){return VL(VL({},n),{},qq({},a,t(a,r[a])))},{})},HL=function(t,r,n){return t.map(function(a){return"".concat(g8e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function v8e(e,t){return b8e(e)||y8e(e,t)||Gq(e,t)||x8e()}function x8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function b8e(e){if(Array.isArray(e))return e}function w8e(e){return S8e(e)||j8e(e)||Gq(e)||_8e()}function _8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gq(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function j8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S8e(e){if(Array.isArray(e))return sA(e)}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xb=1e-4,Kq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Yq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},WL=function(t,r){return function(n){var a=Kq(t,r);return Yq(a,n)}},N8e=function(t,r){return function(n){var a=Kq(t,r),i=[].concat(w8e(a.map(function(o,l){return o*l}).slice(1)),[0]);return Yq(i,n)}},qL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=v8e(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=WL(a,o),h=WL(i,l),p=N8e(a,o),v=function(g){return g>1?1:g<0?0:g},m=function(g){for(var y=g>1?1:g,b=y,j=0;j<8;++j){var _=f(b)-y,N=p(b);if(Math.abs(_-y)<xb||N<xb)return h(b);b=v(b-_/N)}return h(b)};return m.isStepper=!1,m},A8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,v=h*i,m=h+(p-v)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<xb&&Math.abs(m)<xb?[f,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},T8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qL(a);case"spring":return A8e();default:if(a.split("(")[0]==="cubic-bezier")return qL(a)}return typeof a=="function"?a:null};function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function GL(e){return k8e(e)||E8e(e)||Xq(e)||C8e()}function C8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k8e(e){if(Array.isArray(e))return lA(e)}function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(n){oA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oA(e,t,r){return t=P8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P8e(e){var t=O8e(e,"string");return Av(t)==="symbol"?t:String(t)}function O8e(e,t){if(Av(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Av(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F8e(e,t){return I8e(e)||L8e(e,t)||Xq(e,t)||D8e()}function D8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xq(e,t){if(e){if(typeof e=="string")return lA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(e,t)}}function lA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function I8e(e){if(Array.isArray(e))return e}var yb=function(t,r,n){return t+(r-t)*n},cA=function(t){var r=t.from,n=t.to;return r!==n},M8e=function e(t,r,n){var a=pg(function(i,o){if(cA(o)){var l=t(o.from,o.to,o.velocity),c=F8e(l,2),u=c[0],d=c[1];return Wa(Wa({},o),{},{from:u,velocity:d})}return o},r);return n<1?pg(function(i,o){return cA(o)?Wa(Wa({},o),{},{velocity:yb(o.velocity,a[i].velocity,n),from:yb(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const R8e=function(e,t,r,n,a){var i=p8e(e,t),o=i.reduce(function(x,g){return Wa(Wa({},x),{},oA({},g,[e[g],t[g]]))},{}),l=i.reduce(function(x,g){return Wa(Wa({},x),{},oA({},g,{from:e[g],velocity:0,to:t[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return pg(function(g,y){return y.from},l)},p=function(){return!Object.values(l).filter(cA).length},v=function(g){u||(u=g);var y=g-u,b=y/r.dt;l=M8e(r,l,b),a(Wa(Wa(Wa({},e),t),h())),u=g,p()||(c=requestAnimationFrame(f))},m=function(g){d||(d=g);var y=(g-d)/n,b=pg(function(_,N){return yb.apply(void 0,GL(N).concat([r(y)]))},o);if(a(Wa(Wa(Wa({},e),t),b)),y<1)c=requestAnimationFrame(f);else{var j=pg(function(_,N){return yb.apply(void 0,GL(N).concat([r(1)]))},o);a(Wa(Wa(Wa({},e),t),j))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}var $8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function B8e(e,t){if(e==null)return{};var r=z8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z8e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function q5(e){return W8e(e)||H8e(e)||V8e(e)||U8e()}function U8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V8e(e,t){if(e){if(typeof e=="string")return uA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(e,t)}}function H8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W8e(e){if(Array.isArray(e))return uA(e)}function uA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(r),!0).forEach(function(n){$m(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $m(e,t,r){return t=Jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jq(n.key),n)}}function G8e(e,t,r){return t&&XL(e.prototype,t),r&&XL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jq(e){var t=K8e(e,"string");return P0(t)==="symbol"?t:String(t)}function K8e(e,t){if(P0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dA(e,t)}function dA(e,t){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dA(e,t)}function X8e(e){var t=J8e();return function(){var n=bb(e),a;if(t){var i=bb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return fA(this,a)}}function fA(e,t){if(t&&(P0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hA(e)}function hA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(e)}var h_=function(e){Y8e(r,e);var t=X8e(r);function r(n,a){var i;q8e(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(hA(i)),i.changeStyle=i.changeStyle.bind(hA(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),fA(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},fA(i);i.state={style:c?$m({},c,u):u}}else i.state={style:{}};return i}return G8e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?$m({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(a8e(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?f:a.to;if(this.state&&h){var x={style:c?$m({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(x)}this.runAnimation(So(So({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=R8e(o,l,T8e(u),c,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,g){if(g===0)return m;var y=x.duration,b=x.easing,j=b===void 0?"ease":b,_=x.style,N=x.properties,S=x.onAnimationEnd,T=g>0?o[g-1]:x,k=N||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(q5(m),[i.runJSAnimation.bind(i,{from:T.style,to:_,duration:y,easing:j}),y]);var V=HL(k,y,j),C=So(So(So({},T.style),_),{},{transition:V});return[].concat(q5(m),[C,y,S]).filter(m8e)};return this.manager.start([c].concat(q5(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=d8e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?$m({},l,c):c,x=HL(Object.keys(m),o,u);v.start([d,i,So(So({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=B8e(a,$8e),u=O.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var v=p.props,m=v.style,x=m===void 0?{}:m,g=v.className,y=O.cloneElement(p,So(So({},c),{},{style:So(So({},x),d),className:g}));return y};return u===1?f(O.Children.only(i)):Ce.createElement("div",null,O.Children.map(i,function(h){return f(h)}))}}]),r}(O.PureComponent);h_.displayName="Animate";h_.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};h_.propTypes={from:Ut.oneOfType([Ut.object,Ut.string]),to:Ut.oneOfType([Ut.object,Ut.string]),attributeName:Ut.string,duration:Ut.number,begin:Ut.number,easing:Ut.oneOfType([Ut.string,Ut.func]),steps:Ut.arrayOf(Ut.shape({duration:Ut.number.isRequired,style:Ut.object.isRequired,easing:Ut.oneOfType([Ut.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ut.func]),properties:Ut.arrayOf("string"),onAnimationEnd:Ut.func})),children:Ut.oneOfType([Ut.node,Ut.func]),isActive:Ut.bool,canBegin:Ut.bool,onAnimationEnd:Ut.func,shouldReAnimate:Ut.bool,onAnimationStart:Ut.func,onAnimationReStart:Ut.func};const O0=h_;function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}function Q8e(e,t){return rFe(e)||tFe(e,t)||eFe(e,t)||Z8e()}function Z8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eFe(e,t){if(e){if(typeof e=="string")return JL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JL(e,t)}}function JL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function rFe(e){if(Array.isArray(e))return e}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(n){nFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nFe(e,t,r){return t=aFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aFe(e){var t=iFe(e,"string");return Tv(t)=="symbol"?t:t+""}function iFe(e,t){if(Tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eI=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},sFe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},oFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k3=function(t){var r=ZL(ZL({},oFe),t),n=O.useRef(),a=O.useState(-1),i=Q8e(a,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Ir("recharts-rectangle",p);return y?Ce.createElement(O0,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:v,isActive:y},function(j){var _=j.width,N=j.height,S=j.x,T=j.y;return Ce.createElement(O0,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:g,easing:v},Ce.createElement("path",wb({},Or(r,!0),{className:b,d:eI(S,T,_,N,h),ref:n})))}):Ce.createElement("path",wb({},Or(r,!0),{className:b,d:eI(c,u,d,f,h)}))};function pA(){return pA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pA.apply(this,arguments)}var P3=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Ir("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ce.createElement("circle",pA({},Or(t,!1),B2(t),{className:o,cx:r,cy:n,r:a})):null};function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}var lFe=["x","y","top","left","width","height","className"];function mA(){return mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mA.apply(this,arguments)}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){uFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uFe(e,t,r){return t=dFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dFe(e){var t=fFe(e,"string");return Cv(t)=="symbol"?t:t+""}function fFe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hFe(e,t){if(e==null)return{};var r=pFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var mFe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},gFe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,m=hFe(t,lFe),x=cFe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!Et(n)||!Et(i)||!Et(f)||!Et(p)||!Et(l)||!Et(u)?null:Ce.createElement("path",mA({},Or(x,!0),{className:Ir("recharts-cross",v),d:mFe(n,i,f,p,l,u)}))},vFe=hW,xFe=vFe(Object.getPrototypeOf,Object),yFe=xFe,bFe=Ec,wFe=yFe,_Fe=kc,jFe="[object Object]",SFe=Function.prototype,NFe=Object.prototype,Qq=SFe.toString,AFe=NFe.hasOwnProperty,TFe=Qq.call(Object);function CFe(e){if(!_Fe(e)||bFe(e)!=jFe)return!1;var t=wFe(e);if(t===null)return!0;var r=AFe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Qq.call(r)==TFe}var EFe=CFe;const kFe=Hr(EFe);var PFe=Ec,OFe=kc,FFe="[object Boolean]";function DFe(e){return e===!0||e===!1||OFe(e)&&PFe(e)==FFe}var LFe=DFe;const IFe=Hr(LFe);function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(this,arguments)}function MFe(e,t){return zFe(e)||BFe(e,t)||$Fe(e,t)||RFe()}function RFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Fe(e,t){if(e){if(typeof e=="string")return rI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rI(e,t)}}function rI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zFe(e){if(Array.isArray(e))return e}function nI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(r),!0).forEach(function(n){UFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UFe(e,t,r){return t=VFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VFe(e){var t=HFe(e,"string");return Ev(t)=="symbol"?t:t+""}function HFe(e,t){if(Ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iI=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},WFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qFe=function(t){var r=aI(aI({},WFe),t),n=O.useRef(),a=O.useState(-1),i=MFe(a,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,x=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ir("recharts-trapezoid",p);return g?Ce.createElement(O0,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:v,isActive:g},function(b){var j=b.upperWidth,_=b.lowerWidth,N=b.height,S=b.x,T=b.y;return Ce.createElement(O0,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:v},Ce.createElement("path",_b({},Or(r,!0),{className:y,d:iI(S,T,j,_,N),ref:n})))}):Ce.createElement("g",null,Ce.createElement("path",_b({},Or(r,!0),{className:y,d:iI(c,u,d,f,h)})))},GFe=["option","shapeType","propTransformer","activeClassName","isActive"];function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function KFe(e,t){if(e==null)return{};var r=YFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(n){XFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XFe(e,t,r){return t=JFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JFe(e){var t=QFe(e,"string");return kv(t)=="symbol"?t:t+""}function QFe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZFe(e,t){return jb(jb({},t),e)}function eDe(e,t){return e==="symbols"}function oI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ce.createElement(k3,r);case"trapezoid":return Ce.createElement(qFe,r);case"sector":return Ce.createElement(Vq,r);case"symbols":if(eDe(t))return Ce.createElement(YE,r);break;default:return null}}function tDe(e){return O.isValidElement(e)?e.props:e}function rDe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ZFe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=KFe(e,GFe),u;if(O.isValidElement(t))u=O.cloneElement(t,jb(jb({},c),tDe(t)));else if(_r(t))u=t(c);else if(kFe(t)&&!IFe(t)){var d=a(t,c);u=Ce.createElement(oI,{shapeType:r,elementProps:d})}else{var f=c;u=Ce.createElement(oI,{shapeType:r,elementProps:f})}return l?Ce.createElement(na,{className:o},u):u}function p_(e,t){return t!=null&&"trapezoids"in e.props}function m_(e,t){return t!=null&&"sectors"in e.props}function Pv(e,t){return t!=null&&"points"in e.props}function nDe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function aDe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function iDe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function sDe(e,t){var r;return p_(e,t)?r=nDe:m_(e,t)?r=aDe:Pv(e,t)&&(r=iDe),r}function oDe(e,t){var r;return p_(e,t)?r="trapezoids":m_(e,t)?r="sectors":Pv(e,t)&&(r="points"),r}function lDe(e,t){if(p_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(m_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Pv(e,t)?t.payload:{}}function cDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=oDe(r,t),i=lDe(r,t),o=n.filter(function(c,u){var d=u_(i,c),f=r.props[a].filter(function(v){var m=sDe(r,t);return m(v,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var uDe=Math.ceil,dDe=Math.max;function fDe(e,t,r,n){for(var a=-1,i=dDe(uDe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var hDe=fDe,pDe=OW,lI=1/0,mDe=17976931348623157e292;function gDe(e){if(!e)return e===0?e:0;if(e=pDe(e),e===lI||e===-lI){var t=e<0?-1:1;return t*mDe}return e===e?e:0}var Zq=gDe,vDe=hDe,xDe=t_,G5=Zq;function yDe(e){return function(t,r,n){return n&&typeof n!="number"&&xDe(t,r,n)&&(r=n=void 0),t=G5(t),r===void 0?(r=t,t=0):r=G5(r),n=n===void 0?t<r?1:-1:G5(n),vDe(t,r,n,e)}}var bDe=yDe,wDe=bDe,_De=wDe(),jDe=_De;const Sb=Hr(jDe);function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return t=SDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SDe(e){var t=NDe(e,"string");return Ov(t)=="symbol"?t:t+""}function NDe(e,t){if(Ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ADe=["Webkit","Moz","O","ms"],TDe=function(t,r){if(!t)return null;var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=ADe.reduce(function(i,o){return uI(uI({},i),{},eG({},o+n,r))},{});return a[t]=r,a};function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(this,arguments)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){ms(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rG(n.key),n)}}function EDe(e,t,r){return t&&fI(e.prototype,t),r&&fI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kDe(e,t,r){return t=Ab(t),PDe(e,tG()?Reflect.construct(t,r||[],Ab(e).constructor):t.apply(e,r))}function PDe(e,t){if(t&&(F0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ODe(e)}function ODe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!e})()}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(e)}function FDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gA(e,t)}function gA(e,t){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gA(e,t)}function ms(e,t,r){return t=rG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=DDe(e,"string");return F0(t)=="symbol"?t:t+""}function DDe(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LDe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=fg().domain(Sb(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},hI=function(t){return t.changedTouches&&!!t.changedTouches.length},D0=function(e){function t(r){var n;return CDe(this,t),n=kDe(this,t,[r]),ms(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ms(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ms(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ms(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ms(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ms(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ms(n,"handleSlideDragStart",function(a){var i=hI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return FDe(t,e),EDe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Ds(i[n],l,n);return _r(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var x=this.getIndex({startX:o+m,endX:l+m});(x.startIndex!==h||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=hI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,x=d.data,g={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),g[o]=u+y;var b=this.getIndex(g),j=b.startIndex,_=b.endIndex,N=function(){var T=x.length-1;return o==="startX"&&(l>c?j%m===0:_%m===0)||l<c&&_===T||o==="endX"&&(l>c?_%m===0:j%m===0)||l>c&&_===T};this.setState(ms(ms({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&N()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ms({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Ce.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=O.Children.only(u);return f?Ce.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,m=c.startIndex,x=c.endIndex,g=Math.max(n,this.props.x),y=K5(K5({},Or(this.props,!1)),{},{x:g,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=v[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return Ce.createElement(na,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return Ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return Ce.createElement(na,{className:"recharts-brush-texts"},Ce.createElement(tb,Nb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},v),this.getTextOfTick(a)),Ce.createElement(tb,Nb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,x=h.isSlideMoving,g=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Et(l)||!Et(c)||!Et(u)||!Et(d)||u<=0||d<=0)return null;var b=Ir("recharts-brush",i),j=Ce.Children.count(o)===1,_=TDe("userSelect","none");return Ce.createElement(na,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||x||g||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return Ce.createElement(Ce.Fragment,null,Ce.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),Ce.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),Ce.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ce.isValidElement(n)?i=Ce.cloneElement(n,a):_r(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return K5({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?LDe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(O.PureComponent);ms(D0,"displayName","Brush");ms(D0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var IDe=r3;function MDe(e,t){var r;return IDe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var RDe=MDe,$De=iW,BDe=Qu,zDe=RDe,UDe=ss,VDe=t_;function HDe(e,t,r){var n=UDe(e)?$De:zDe;return r&&VDe(e,t,r)&&(t=void 0),n(e,BDe(t))}var WDe=HDe;const qDe=Hr(WDe);var jl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},pI=TW;function GDe(e,t,r){t=="__proto__"&&pI?pI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var KDe=GDe,YDe=KDe,XDe=NW,JDe=Qu;function QDe(e,t){var r={};return t=JDe(t),XDe(e,function(n,a,i){YDe(r,a,t(n,a,i))}),r}var ZDe=QDe;const eLe=Hr(ZDe);function tLe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var rLe=tLe,nLe=r3;function aLe(e,t){var r=!0;return nLe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var iLe=aLe,sLe=rLe,oLe=iLe,lLe=Qu,cLe=ss,uLe=t_;function dLe(e,t,r){var n=cLe(e)?sLe:oLe;return r&&uLe(e,t,r)&&(t=void 0),n(e,lLe(t))}var fLe=dLe;const nG=Hr(fLe);var hLe=["x","y"];function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vA.apply(this,arguments)}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){pLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pLe(e,t,r){return t=mLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mLe(e){var t=gLe(e,"string");return Fv(t)=="symbol"?t:t+""}function gLe(e,t){if(Fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vLe(e,t){if(e==null)return{};var r=xLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yLe(e,t){var r=e.x,n=e.y,a=vLe(e,hLe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return xm(xm(xm(xm(xm({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function gI(e){return Ce.createElement(rDe,vA({shapeType:"rectangle",propTransformer:yLe,activeClassName:"recharts-active-bar"},e))}var bLe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||hf(!1),r)}},wLe=["value","background"],aG;function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function _Le(e,t){if(e==null)return{};var r=jLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(this,arguments)}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sG(n.key),n)}}function NLe(e,t,r){return t&&xI(e.prototype,t),r&&xI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ALe(e,t,r){return t=Cb(t),TLe(e,iG()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function TLe(e,t){if(t&&(L0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CLe(e)}function CLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iG=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function ELe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xA(e,t)}function xA(e,t){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xA(e,t)}function xu(e,t,r){return t=sG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=kLe(e,"string");return L0(t)=="symbol"?t:t+""}function kLe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xx=function(e){function t(){var r;SLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ALe(this,t,[].concat(a)),xu(r,"state",{isAnimationFinished:!1}),xu(r,"id",dx("recharts-bar-")),xu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),xu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ELe(t,e),NLe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Or(this.props,!1);return n&&n.map(function(f,h){var p=h===c,v=p?u:o,m=fa(fa(fa({},d),f),{},{isActive:p,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ce.createElement(na,Tb({className:"recharts-bar-rectangle"},z2(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),Ce.createElement(gI,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return Ce.createElement(O0,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=i.map(function(x,g){var y=h&&h[g];if(y){var b=Io(y.x,x.x),j=Io(y.y,x.y),_=Io(y.width,x.width),N=Io(y.height,x.height);return fa(fa({},x),{},{x:b(v),y:j(v),width:_(v),height:N(v)})}if(o==="horizontal"){var S=Io(0,x.height),T=S(v);return fa(fa({},x),{},{y:x.y+x.height-T,height:T})}var k=Io(0,x.width),V=k(v);return fa(fa({},x),{},{width:V})});return Ce.createElement(na,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!u_(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Or(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=_Le(u,wLe);if(!f)return null;var p=fa(fa(fa(fa(fa({},h),{},{fill:"#eee"},f),c),z2(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return Ce.createElement(gI,Tb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ao(d,vx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,g){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Ds(x,g)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ce.createElement(na,v,f.map(function(m){return Ce.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,g=Ir("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,j=y||b,_=Er(m)?this.id:m;return Ce.createElement(na,{className:g},y||b?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(_)},Ce.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,Ce.createElement(na,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!p||x)&&Pu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(O.PureComponent);aG=xx;xu(xx,"displayName","Bar");xu(xx,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xu(xx,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=_Oe(n,r);if(!p)return null;var v=t.layout,m=r.type.defaultProps,x=m!==void 0?fa(fa({},m),r.props):r.props,g=x.dataKey,y=x.children,b=x.minPointSize,j=v==="horizontal"?o:i,_=u?j.scale.domain():null,N=kOe({numericAxis:j}),S=ao(y,DW),T=f.map(function(k,V){var C,P,U,q,z,I;u?C=jOe(u[d+V],_):(C=Ds(k,g),Array.isArray(C)||(C=[N,C]));var R=bLe(b,aG.defaultProps.minPointSize)(C[1],V);if(v==="horizontal"){var G,F=[o.scale(C[0]),o.scale(C[1])],H=F[0],J=F[1];P=gL({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:k,index:V}),U=(G=J??H)!==null&&G!==void 0?G:void 0,q=p.size;var A=H-J;if(z=Number.isNaN(A)?0:A,I={x:P,y:o.y,width:q,height:o.height},Math.abs(R)>0&&Math.abs(z)<Math.abs(R)){var M=Uo(z||R)*(Math.abs(R)-Math.abs(z));U-=M,z+=M}}else{var K=[i.scale(C[0]),i.scale(C[1])],L=K[0],Y=K[1];if(P=L,U=gL({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:k,index:V}),q=Y-L,z=p.size,I={x:i.x,y:U,width:i.width,height:z},Math.abs(R)>0&&Math.abs(q)<Math.abs(R)){var Z=Uo(q||R)*(Math.abs(R)-Math.abs(q));q+=Z}}return fa(fa(fa({},k),{},{x:P,y:U,width:q,height:z,value:u?C:C[1],payload:k,background:I},S&&S[V]&&S[V].props),{},{tooltipPayload:[Bq(r,k)],tooltipPosition:{x:P+q/2,y:U+z/2}})});return fa({data:T,layout:v},h)});function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function PLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oG(n.key),n)}}function OLe(e,t,r){return t&&yI(e.prototype,t),r&&yI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){g_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g_(e,t,r){return t=oG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=FLe(e,"string");return Dv(t)=="symbol"?t:t+""}function FLe(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DLe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!vs(u,xx);return d.reduce(function(p,v){var m=r[v],x=m.orientation,g=m.domain,y=m.padding,b=y===void 0?{}:y,j=m.mirror,_=m.reversed,N="".concat(x).concat(j?"Mirror":""),S,T,k,V,C;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var P=g[1]-g[0],U=1/0,q=m.categoricalDomain.sort();if(q.forEach(function(K,L){L>0&&(U=Math.min((K||0)-(q[L-1]||0),U))}),Number.isFinite(U)){var z=U/P,I=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=z*I/2),m.padding==="no-gap"){var R=df(t.barCategoryGap,z*I),G=z*I/2;S=G-R-(G-R)/I*R}}}a==="xAxis"?T=[n.left+(b.left||0)+(S||0),n.left+n.width-(b.right||0)-(S||0)]:a==="yAxis"?T=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(S||0),n.top+n.height-(b.bottom||0)-(S||0)]:T=m.range,_&&(T=[T[1],T[0]]);var F=bOe(m,i,h),H=F.scale,J=F.realScaleType;H.domain(g).range(T),wOe(H);var A=EOe(H,Fo(Fo({},m),{},{realScaleType:J}));a==="xAxis"?(C=x==="top"&&!j||x==="bottom"&&j,k=n.left,V=f[N]-C*m.height):a==="yAxis"&&(C=x==="left"&&!j||x==="right"&&j,k=f[N]-C*m.width,V=n.top);var M=Fo(Fo(Fo({},m),A),{},{realScaleType:J,x:k,y:V,scale:H,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return M.bandSize=mb(M,A),!m.hide&&a==="xAxis"?f[N]+=(C?-1:1)*M.height:m.hide||(f[N]+=(C?-1:1)*M.width),Fo(Fo({},p),{},g_({},v,M))},{})},lG=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},LLe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return lG({x:r,y:n},{x:a,y:i})},cG=function(){function e(t){PLe(this,e),this.scale=t}return OLe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();g_(cG,"EPS",1e-4);var O3=function(t){var r=Object.keys(t).reduce(function(n,a){return Fo(Fo({},n),{},g_({},a,cG.create(t[a])))},{});return Fo(Fo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return eLe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return nG(a,function(i,o){return r[o].isInRange(i)})}})};function ILe(e){return(e%180+180)%180}var MLe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ILe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},RLe=Qu,$Le=fx,BLe=Zw;function zLe(e){return function(t,r,n){var a=Object(t);if(!$Le(t)){var i=RLe(r);t=BLe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var ULe=zLe,VLe=Zq;function HLe(e){var t=VLe(e),r=t%1;return t===t?r?t-r:t:0}var WLe=HLe,qLe=yW,GLe=Qu,KLe=WLe,YLe=Math.max;function XLe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:KLe(r);return a<0&&(a=YLe(n+a,0)),qLe(e,GLe(t),a)}var JLe=XLe,QLe=ULe,ZLe=JLe,eIe=QLe(ZLe),tIe=eIe;const rIe=Hr(tIe);var nIe=o2e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),F3=O.createContext(void 0),D3=O.createContext(void 0),uG=O.createContext(void 0),dG=O.createContext({}),fG=O.createContext(void 0),hG=O.createContext(0),pG=O.createContext(0),wI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=nIe(i);return Ce.createElement(F3.Provider,{value:n},Ce.createElement(D3.Provider,{value:a},Ce.createElement(dG.Provider,{value:i},Ce.createElement(uG.Provider,{value:d},Ce.createElement(fG.Provider,{value:o},Ce.createElement(hG.Provider,{value:u},Ce.createElement(pG.Provider,{value:c},l)))))))},aIe=function(){return O.useContext(fG)},mG=function(t){var r=O.useContext(F3);r==null&&hf(!1);var n=r[t];return n==null&&hf(!1),n},iIe=function(){var t=O.useContext(F3);return fu(t)},sIe=function(){var t=O.useContext(D3),r=rIe(t,function(n){return nG(n.domain,Number.isFinite)});return r||fu(t)},gG=function(t){var r=O.useContext(D3);r==null&&hf(!1);var n=r[t];return n==null&&hf(!1),n},oIe=function(){var t=O.useContext(uG);return t},lIe=function(){return O.useContext(dG)},L3=function(){return O.useContext(pG)},I3=function(){return O.useContext(hG)};function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function cIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xG(n.key),n)}}function uIe(e,t,r){return t&&_I(e.prototype,t),r&&_I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dIe(e,t,r){return t=Eb(t),fIe(e,vG()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function fIe(e,t){if(t&&(I0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hIe(e)}function hIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vG=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function pIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yA(e,t)}function yA(e,t){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yA(e,t)}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){M3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M3(e,t,r){return t=xG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xG(e){var t=mIe(e,"string");return I0(t)=="symbol"?t:t+""}function mIe(e,t){if(I0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gIe(e,t){return bIe(e)||yIe(e,t)||xIe(e,t)||vIe()}function vIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xIe(e,t){if(e){if(typeof e=="string")return NI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NI(e,t)}}function NI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bIe(e){if(Array.isArray(e))return e}function bA(){return bA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bA.apply(this,arguments)}var wIe=function(t,r){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,r):_r(t)?n=t(r):n=Ce.createElement("line",bA({},r,{className:"recharts-reference-line-line"})),n},_Ie=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var v=u.y,m=t.y.apply(v,{position:o});if(jl(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?x.reverse():x}if(r){var g=u.x,y=t.x.apply(g,{position:o});if(jl(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?b.reverse():b}if(a){var j=u.segment,_=j.map(function(N){return t.apply(N,{position:o})});return jl(u,"discard")&&qDe(_,function(N){return!t.isInRange(N)})?null:_}return null};function jIe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=aIe(),d=mG(a),f=gG(i),h=oIe();if(!u||!h)return null;fc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=O3({x:d.scale,y:f.scale}),v=Na(t),m=Na(r),x=n&&n.length===2,g=_Ie(p,v,m,x,h,e.position,d.orientation,f.orientation,e);if(!g)return null;var y=gIe(g,2),b=y[0],j=b.x,_=b.y,N=y[1],S=N.x,T=N.y,k=jl(e,"hidden")?"url(#".concat(u,")"):void 0,V=SI(SI({clipPath:k},Or(e,!0)),{},{x1:j,y1:_,x2:S,y2:T});return Ce.createElement(na,{className:Ir("recharts-reference-line",l)},wIe(o,V),pi.renderCallByParent(e,LLe({x1:j,y1:_,x2:S,y2:T})))}var R3=function(e){function t(){return cIe(this,t),dIe(this,t,arguments)}return pIe(t,e),uIe(t,[{key:"render",value:function(){return Ce.createElement(jIe,this.props)}}])}(Ce.Component);M3(R3,"displayName","ReferenceLine");M3(R3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function wA(){return wA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wA.apply(this,arguments)}function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){v_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bG(n.key),n)}}function NIe(e,t,r){return t&&CI(e.prototype,t),r&&CI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AIe(e,t,r){return t=kb(t),TIe(e,yG()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function TIe(e,t){if(t&&(M0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CIe(e)}function CIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yG=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function EIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}function _A(e,t){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_A(e,t)}function v_(e,t,r){return t=bG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=kIe(e,"string");return M0(t)=="symbol"?t:t+""}function kIe(e,t){if(M0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PIe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=O3({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return jl(t,"discard")&&!o.isInRange(l)?null:l},x_=function(e){function t(){return SIe(this,t),AIe(this,t,arguments)}return EIe(t,e),NIe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Na(a),d=Na(i);if(fc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=PIe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,x=v.className,g=jl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=TI(TI({clipPath:g},Or(this.props,!0)),{},{cx:h,cy:p});return Ce.createElement(na,{className:Ir("recharts-reference-dot",x)},t.renderDot(m,y),pi.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(Ce.Component);v_(x_,"displayName","ReferenceDot");v_(x_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});v_(x_,"renderDot",function(e,t){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,t):_r(e)?r=e(t):r=Ce.createElement(P3,wA({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function jA(){return jA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jA.apply(this,arguments)}function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){y_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_G(n.key),n)}}function FIe(e,t,r){return t&&PI(e.prototype,t),r&&PI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DIe(e,t,r){return t=Pb(t),LIe(e,wG()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function LIe(e,t){if(t&&(R0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IIe(e)}function IIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wG=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function MIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SA(e,t)}function SA(e,t){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SA(e,t)}function y_(e,t,r){return t=_G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=RIe(e,"string");return R0(t)=="symbol"?t:t+""}function RIe(e,t){if(R0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Ie=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=O3({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return jl(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:lG(p,v)},b_=function(e){function t(){return OIe(this,t),DIe(this,t,arguments)}return MIe(t,e),FIe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;fc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Na(a),h=Na(i),p=Na(o),v=Na(l),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var x=$Ie(f,h,p,v,this.props);if(!x&&!m)return null;var g=jl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Ce.createElement(na,{className:Ir("recharts-reference-area",c)},t.renderRect(m,kI(kI({clipPath:g},Or(this.props,!0)),x)),pi.renderCallByParent(this.props,x))}}])}(Ce.Component);y_(b_,"displayName","ReferenceArea");y_(b_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});y_(b_,"renderRect",function(e,t){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,t):_r(e)?r=e(t):r=Ce.createElement(k3,jA({},t,{className:"recharts-reference-area-rect"})),r});function jG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function BIe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return MLe(n,r)}function zIe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Ob(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function UIe(e,t){return jG(e,t+1)}function VIe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:jG(n,u)};var m=c,x,g=function(){return x===void 0&&(x=r(v,m)),x},y=v.coordinate,b=c===0||Ob(e,y,g,d,l);b||(c=0,d=o,u+=1),b&&(d=y+e*(g()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(e)}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){HIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HIe(e,t,r){return t=WIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WIe(e){var t=qIe(e,"string");return Lv(t)=="symbol"?t:t+""}function qIe(e,t){if(Lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GIe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var x=e*(p.coordinate+e*m()/2-c);i[h]=p=di(di({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=di(di({},p),{},{tickCoord:p.coordinate});var g=Ob(e,p.tickCoord,m,l,c);g&&(c=p.tickCoord-e*(m()/2+a),i[h]=di(di({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function KIe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=di(di({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Ob(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=di(di({},d),{},{isShow:!0}))}for(var v=i?l-1:l,m=function(y){var b=o[y],j,_=function(){return j===void 0&&(j=r(b,y)),j};if(y===0){var N=e*(b.coordinate-e*_()/2-c);o[y]=b=di(di({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else o[y]=b=di(di({},b),{},{tickCoord:b.coordinate});var S=Ob(e,b.tickCoord,_,c,u);S&&(c=b.tickCoord+e*(_()/2+a),o[y]=di(di({},b),{},{isShow:!0}))},x=0;x<v;x++)m(x);return o}function $3(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Et(c)||hc.isSsr)return UIe(a,typeof c=="number"&&Et(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?dg(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,j){var _=_r(u)?u(b.value,j):b.value;return p==="width"?BIe(dg(_,{fontSize:t,letterSpacing:r}),v,f):dg(_,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?Uo(a[1].coordinate-a[0].coordinate):1,g=zIe(i,x,p);return c==="equidistantPreserveStart"?VIe(x,g,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=KIe(x,g,m,a,o,c==="preserveStartEnd"):h=GIe(x,g,m,a,o),h.filter(function(y){return y.isShow}))}var YIe=["viewBox"],XIe=["viewBox"],JIe=["ticks"];function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(this,arguments)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){B3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y5(e,t){if(e==null)return{};var r=QIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NG(n.key),n)}}function eMe(e,t,r){return t&&DI(e.prototype,t),r&&DI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tMe(e,t,r){return t=Fb(t),rMe(e,SG()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function rMe(e,t){if(t&&($0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nMe(e)}function nMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SG=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function aMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NA(e,t)}function NA(e,t){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NA(e,t)}function B3(e,t,r){return t=NG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=iMe(e,"string");return $0(t)=="symbol"?t:t+""}function iMe(e,t){if($0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xp=function(e){function t(r){var n;return ZIe(this,t),n=tMe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return aMe(t,e),eMe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Y5(n,YIe),l=this.props,c=l.viewBox,u=Y5(l,XIe);return!e0(i,c)||!e0(o,u)||!e0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,v,m,x,g,y,b=f?-1:1,j=n.tickSize||d,_=Et(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,x=o+ +!f*c,m=x-b*j,y=m-b*h,g=_;break;case"left":m=x=n.coordinate,v=i+ +!f*l,p=v-b*j,g=p-b*h,y=_;break;case"right":m=x=n.coordinate,v=i+ +f*l,p=v+b*j,g=p+b*h,y=_;break;default:p=v=n.coordinate,x=o+ +f*c,m=x+b*j,y=m+b*h,g=_;break}return{line:{x1:p,y1:m,x2:v,y2:x},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ki(ki(ki({},Or(this.props,!1)),Or(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ki(ki({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=ki(ki({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return Ce.createElement("line",Ih({},f,{className:Ir("recharts-cartesian-axis-line",no(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=$3(ki(ki({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=Or(this.props,!1),g=Or(d,!1),y=ki(ki({},x),{},{fill:"none"},Or(c,!1)),b=p.map(function(j,_){var N=o.getTickLineCoord(j),S=N.line,T=N.tick,k=ki(ki(ki(ki({textAnchor:v,verticalAnchor:m},x),{},{stroke:"none",fill:u},g),T),{},{index:_,payload:j,visibleTicksCount:p.length,tickFormatter:f});return Ce.createElement(na,Ih({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},z2(o.props,j,_)),c&&Ce.createElement("line",Ih({},y,S,{className:Ir("recharts-cartesian-axis-tick-line",no(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(_r(f)?f(j.value,_):j.value).concat(h||"")))});return Ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Y5(f,JIe),v=h;return _r(c)&&(v=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:Ce.createElement(na,{className:Ir("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),pi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return Ce.isValidElement(n)?o=Ce.cloneElement(n,a):_r(n)?o=n(a):o=Ce.createElement(tb,Ih({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);B3(xp,"displayName","CartesianAxis");B3(xp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sMe=["x1","y1","x2","y2","key"],oMe=["offset"];function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){lMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lMe(e,t,r){return t=cMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cMe(e){var t=uMe(e,"string");return pf(t)=="symbol"?t:t+""}function uMe(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(this,arguments)}function II(e,t){if(e==null)return{};var r=dMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fMe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return Ce.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AG(e,t){var r;if(Ce.isValidElement(e))r=Ce.cloneElement(e,t);else if(_r(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=II(t,sMe),u=Or(c,!1);u.offset;var d=II(u,oMe);r=Ce.createElement("line",Id({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function hMe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=mi(mi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return AG(a,u)});return Ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function pMe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=mi(mi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return AG(a,u)});return Ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function mMe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?a+o-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return Ce.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function gMe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?i+l-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return Ce.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var vMe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Rq($3(mi(mi(mi({},xp.defaultProps),n),{},{ticks:ac(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},xMe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Rq($3(mi(mi(mi({},xp.defaultProps),n),{},{ticks:ac(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},ch={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function TG(e){var t,r,n,a,i,o,l=L3(),c=I3(),u=lIe(),d=mi(mi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ch.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ch.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ch.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ch.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ch.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ch.verticalFill,x:Et(e.x)?e.x:u.left,y:Et(e.y)?e.y:u.top,width:Et(e.width)?e.width:u.width,height:Et(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,m=d.syncWithTicks,x=d.horizontalValues,g=d.verticalValues,y=iIe(),b=sIe();if(!Et(p)||p<=0||!Et(v)||v<=0||!Et(f)||f!==+f||!Et(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||vMe,_=d.horizontalCoordinatesGenerator||xMe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&_r(_)){var T=x&&x.length,k=_({yAxis:b?mi(mi({},b),{},{ticks:T?x:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:m);fc(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pf(k),"]")),Array.isArray(k)&&(N=k)}if((!S||!S.length)&&_r(j)){var V=g&&g.length,C=j({xAxis:y?mi(mi({},y),{},{ticks:V?g:y.ticks}):void 0,width:l,height:c,offset:u},V?!0:m);fc(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pf(C),"]")),Array.isArray(C)&&(S=C)}return Ce.createElement("g",{className:"recharts-cartesian-grid"},Ce.createElement(fMe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Ce.createElement(hMe,Id({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:b})),Ce.createElement(pMe,Id({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:b})),Ce.createElement(mMe,Id({},d,{horizontalPoints:N})),Ce.createElement(gMe,Id({},d,{verticalPoints:S})))}TG.displayName="CartesianGrid";var yMe=["type","layout","connectNulls","ref"],bMe=["key"];function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function MI(e,t){if(e==null)return{};var r=wMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){Do(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uh(e){return NMe(e)||SMe(e)||jMe(e)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jMe(e,t){if(e){if(typeof e=="string")return AA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AA(e,t)}}function SMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NMe(e){if(Array.isArray(e))return AA(e)}function AA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EG(n.key),n)}}function TMe(e,t,r){return t&&$I(e.prototype,t),r&&$I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CMe(e,t,r){return t=Db(t),EMe(e,CG()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function EMe(e,t){if(t&&(B0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kMe(e)}function kMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function PMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TA(e,t)}function TA(e,t){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TA(e,t)}function Do(e,t,r){return t=EG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=OMe(e,"string");return B0(t)=="symbol"?t:t+""}function OMe(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yx=function(e){function t(){var r;AMe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=CMe(this,t,[].concat(a)),Do(r,"state",{isAnimationFinished:!0,totalLength:0}),Do(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Do(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,y){return g+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],v=0,m=0;v<c.length;m+=c[v],++v)if(m+c[v]>f){p=[].concat(uh(c.slice(0,v)),[f-m]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(uh(t.repeat(c,d)),uh(p),x).map(function(g){return"".concat(g,"px")}).join(", ")}),Do(r,"id",dx("recharts-line-")),Do(r,"pathRef",function(o){r.mainCurve=o}),Do(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Do(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return PMe(t,e),TMe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ao(d,vx);if(!f)return null;var h=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:Ds(m.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ce.createElement(na,p,f.map(function(v){return Ce.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Or(this.props,!1),h=Or(c,!0),p=u.map(function(m,x){var g=hs(hs(hs({key:"dot-".concat(x),r:3},f),h),{},{value:m.value,dataKey:d,cx:m.x,cy:m.y,index:x,payload:m.payload});return t.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ce.createElement(na,mg({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=MI(l,yMe),h=hs(hs(hs({},Or(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return Ce.createElement(aA,mg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,m=o.width,x=o.height,g=this.state,y=g.prevPoints,b=g.totalLength;return Ce.createElement(O0,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(y){var N=y.length/l.length,S=l.map(function(P,U){var q=Math.floor(U*N);if(y[q]){var z=y[q],I=Io(z.x,P.x),R=Io(z.y,P.y);return hs(hs({},P),{},{x:I(_),y:R(_)})}if(v){var G=Io(m*2,P.x),F=Io(x/2,P.y);return hs(hs({},P),{},{x:G(_),y:F(_)})}return hs(hs({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(S,n,a)}var T=Io(0,b),k=T(_),V;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});V=i.getStrokeDasharray(k,b,C)}else V=i.generateSimpleStrokeDasharray(b,k);return i.renderCurveStatically(l,n,a,{strokeDasharray:V})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!u_(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,v=a.height,m=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var g=this.state.isAnimationFinished,y=l.length===1,b=Ir("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,N=j||_,S=Er(x)?this.id:x,T=(n=Or(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=T.r,V=k===void 0?3:k,C=T.strokeWidth,P=C===void 0?2:C,U=hbe(o)?o:{},q=U.clipDot,z=q===void 0?!0:q,I=V*2+P;return Ce.createElement(na,{className:b},j||_?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(S)},Ce.createElement("rect",{x:j?h:h-p/2,y:_?f:f-v/2,width:j?p:p*2,height:_?v:v*2})),!z&&Ce.createElement("clipPath",{id:"clipPath-dots-".concat(S)},Ce.createElement("rect",{x:h-I/2,y:f-I/2,width:p+I,height:v+I}))):null,!y&&this.renderCurve(N,S),this.renderErrorBar(N,S),(y||o)&&this.renderDots(N,z,S),(!m||g)&&Pu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(uh(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(uh(o),uh(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(Ce.isValidElement(n))i=Ce.cloneElement(n,a);else if(_r(n))i=n(a);else{var o=a.key,l=MI(a,bMe),c=Ir("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ce.createElement(P3,mg({key:o},l,{className:c}))}return i}}])}(O.PureComponent);Do(yx,"displayName","Line");Do(yx,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Do(yx,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var v=Ds(h,o);return d==="horizontal"?{x:mL({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Er(v)?null:n.scale(v),value:v,payload:h}:{x:Er(v)?null:r.scale(v),y:mL({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:v,payload:h}});return hs({points:f,layout:d},u)});function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}function FMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OG(n.key),n)}}function DMe(e,t,r){return t&&BI(e.prototype,t),r&&BI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LMe(e,t,r){return t=Lb(t),IMe(e,kG()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function IMe(e,t){if(t&&(z0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MMe(e)}function MMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kG=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function RMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CA(e,t)}function CA(e,t){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CA(e,t)}function PG(e,t,r){return t=OG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=$Me(e,"string");return z0(t)=="symbol"?t:t+""}function $Me(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EA(){return EA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EA.apply(this,arguments)}function BMe(e){var t=e.xAxisId,r=L3(),n=I3(),a=mG(t);return a==null?null:Ce.createElement(xp,EA({},a,{className:Ir("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ac(o,!0)}}))}var w_=function(e){function t(){return FMe(this,t),LMe(this,t,arguments)}return RMe(t,e),DMe(t,[{key:"render",value:function(){return Ce.createElement(BMe,this.props)}}])}(Ce.Component);PG(w_,"displayName","XAxis");PG(w_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function zMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LG(n.key),n)}}function UMe(e,t,r){return t&&zI(e.prototype,t),r&&zI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VMe(e,t,r){return t=Ib(t),HMe(e,FG()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function HMe(e,t){if(t&&(U0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WMe(e)}function WMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FG=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function qMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kA(e,t)}function kA(e,t){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kA(e,t)}function DG(e,t,r){return t=LG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=GMe(e,"string");return U0(t)=="symbol"?t:t+""}function GMe(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PA(){return PA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PA.apply(this,arguments)}var KMe=function(t){var r=t.yAxisId,n=L3(),a=I3(),i=gG(r);return i==null?null:Ce.createElement(xp,PA({},i,{className:Ir("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ac(l,!0)}}))},__=function(e){function t(){return zMe(this,t),VMe(this,t,arguments)}return qMe(t,e),UMe(t,[{key:"render",value:function(){return Ce.createElement(KMe,this.props)}}])}(Ce.Component);DG(__,"displayName","YAxis");DG(__,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UI(e){return QMe(e)||JMe(e)||XMe(e)||YMe()}function YMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XMe(e,t){if(e){if(typeof e=="string")return OA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OA(e,t)}}function JMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QMe(e){if(Array.isArray(e))return OA(e)}function OA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FA=function(t,r,n,a,i){var o=ao(t,R3),l=ao(t,x_),c=[].concat(UI(o),UI(l)),u=ao(t,b_),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,x){if(x.props[d]===n&&jl(x.props,"extendDomain")&&Et(x.props[f])){var g=x.props[f];return[Math.min(m[0],g),Math.max(m[1],g)]}return m},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&jl(x.props,"extendDomain")&&Et(x.props[p])&&Et(x.props[v])){var g=x.props[p],y=x.props[v];return[Math.min(m[0],g,y),Math.max(m[1],g,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,x){return Et(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},IG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,v){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],g=arguments.length,y,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,v),!0}for(b=1,y=new Array(g-1);b<g;b++)y[b-1]=arguments[b];x.fn.apply(x.context,y)}else{var j=x.length,_;for(b=0;b<j;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),g){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!y)for(_=1,y=new Array(g-1);_<g;_++)y[_-1]=arguments[_];x[b].fn.apply(x[b].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var m=0,x=[],g=v.length;m<g;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&x.push(v[m]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(IG);var ZMe=IG.exports;const eRe=Hr(ZMe);var X5=new eRe,J5="recharts.syncMouseEvents";function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}function tRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MG(n.key),n)}}function rRe(e,t,r){return t&&VI(e.prototype,t),r&&VI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q5(e,t,r){return t=MG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=nRe(e,"string");return Iv(t)=="symbol"?t:t+""}function nRe(e,t){if(Iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aRe=function(){function e(){tRe(this,e),Q5(this,"activeIndex",0),Q5(this,"coordinateList",[]),Q5(this,"layout","horizontal")}return rRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function iRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Et(n)&&Et(a))return!0}return!1}function sRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function RG(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Ya(t,r,n,a),l=Ya(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function oRe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ya(l,c,u,f),p=Ya(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return RG(t);return[{x:n,y:a},{x:i,y:o}]}function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}function HI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(r),!0).forEach(function(n){lRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lRe(e,t,r){return t=cRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cRe(e){var t=uRe(e,"string");return Mv(t)=="symbol"?t:t+""}function uRe(e,t){if(Mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dRe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,m=aA;if(h==="ScatterChart")v=o,m=gFe;else if(h==="BarChart")v=sRe(f,o,c,d),m=k3;else if(f==="radial"){var x=RG(o),g=x.cx,y=x.cy,b=x.radius,j=x.startAngle,_=x.endAngle;v={cx:g,cy:y,startAngle:j,endAngle:_,innerRadius:b,outerRadius:b},m=Vq}else v={points:oRe(f,o,c)},m=aA;var N=ly(ly(ly(ly({stroke:"#ccc",pointerEvents:"none"},c),v),Or(p,!1)),{},{payload:l,payloadIndex:u,className:Ir("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,N):O.createElement(m,N)}var fRe=["item"],hRe=["children","className","width","height","style","compact","title","desc"];function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}function WI(e,t){return gRe(e)||mRe(e,t)||BG(e,t)||pRe()}function pRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function gRe(e){if(Array.isArray(e))return e}function qI(e,t){if(e==null)return{};var r=vRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zG(n.key),n)}}function yRe(e,t,r){return t&&GI(e.prototype,t),r&&GI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bRe(e,t,r){return t=Mb(t),wRe(e,$G()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function wRe(e,t){if(t&&(V0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Re(e)}function _Re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($G=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function jRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DA(e,t)}function DA(e,t){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DA(e,t)}function H0(e){return ARe(e)||NRe(e)||BG(e)||SRe()}function SRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BG(e,t){if(e){if(typeof e=="string")return LA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LA(e,t)}}function NRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ARe(e){if(Array.isArray(e))return LA(e)}function LA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(n){Kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kt(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=TRe(e,"string");return V0(t)=="symbol"?t:t+""}function TRe(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CRe={xAxis:["bottom","top"],yAxis:["left","right"]},ERe={width:"100%",height:"100%"},UG={x:0,y:0};function cy(e){return e}var kRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},PRe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return nt(nt(nt({},a),Ya(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return nt(nt(nt({},a),Ya(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return UG},j_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(H0(l),H0(u)):l},[]);return o.length>0?o:t&&t.length&&Et(a)&&Et(i)?t.slice(a,i+1):[]};function VG(e){return e==="number"?[0,"auto"]:void 0}var IA=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=j_(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=$2(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(H0(c),[Bq(u,h)]):c},[])},YI=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=kRe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=pOe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=IA(t,r,d,f),p=PRe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},ORe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=Mq(d,i);return n.reduce(function(v,m){var x,g=m.type.defaultProps!==void 0?nt(nt({},m.type.defaultProps),m.props):m.props,y=g.type,b=g.dataKey,j=g.allowDataOverflow,_=g.allowDuplicatedCategory,N=g.scale,S=g.ticks,T=g.includeHidden,k=g[o];if(v[k])return v;var V=j_(t.data,{graphicalItems:a.filter(function(A){var M,K=o in A.props?A.props[o]:(M=A.type.defaultProps)===null||M===void 0?void 0:M[o];return K===k}),dataStartIndex:c,dataEndIndex:u}),C=V.length,P,U,q;iRe(g.domain,j,y)&&(P=Z4(g.domain,null,j),p&&(y==="number"||N!=="auto")&&(q=hg(V,b,"category")));var z=VG(y);if(!P||P.length===0){var I,R=(I=g.domain)!==null&&I!==void 0?I:z;if(b){if(P=hg(V,b,y),y==="category"&&p){var G=abe(P);_&&G?(U=P,P=Sb(0,C)):_||(P=yL(R,P,m).reduce(function(A,M){return A.indexOf(M)>=0?A:[].concat(H0(A),[M])},[]))}else if(y==="category")_?P=P.filter(function(A){return A!==""&&!Er(A)}):P=yL(R,P,m).reduce(function(A,M){return A.indexOf(M)>=0||M===""||Er(M)?A:[].concat(H0(A),[M])},[]);else if(y==="number"){var F=yOe(V,a.filter(function(A){var M,K,L=o in A.props?A.props[o]:(M=A.type.defaultProps)===null||M===void 0?void 0:M[o],Y="hide"in A.props?A.props.hide:(K=A.type.defaultProps)===null||K===void 0?void 0:K.hide;return L===k&&(T||!Y)}),b,i,d);F&&(P=F)}p&&(y==="number"||N!=="auto")&&(q=hg(V,b,"category"))}else p?P=Sb(0,C):l&&l[k]&&l[k].hasStack&&y==="number"?P=h==="expand"?[0,1]:$q(l[k].stackGroups,c,u):P=Iq(V,a.filter(function(A){var M=o in A.props?A.props[o]:A.type.defaultProps[o],K="hide"in A.props?A.props.hide:A.type.defaultProps.hide;return M===k&&(T||!K)}),y,d,!0);if(y==="number")P=FA(f,P,k,i,S),R&&(P=Z4(R,P,j));else if(y==="category"&&R){var H=R,J=P.every(function(A){return H.indexOf(A)>=0});J&&(P=H)}}return nt(nt({},v),{},Kt({},k,nt(nt({},g),{},{axisType:i,domain:P,categoricalDomain:q,duplicateDomain:U,originalDomain:(x=g.domain)!==null&&x!==void 0?x:z,isCategorical:p,layout:d})))},{})},FRe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=j_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=Mq(d,i),m=-1;return n.reduce(function(x,g){var y=g.type.defaultProps!==void 0?nt(nt({},g.type.defaultProps),g.props):g.props,b=y[o],j=VG("number");if(!x[b]){m++;var _;return v?_=Sb(0,p):l&&l[b]&&l[b].hasStack?(_=$q(l[b].stackGroups,c,u),_=FA(f,_,b,i)):(_=Z4(j,Iq(h,n.filter(function(N){var S,T,k=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],V="hide"in N.props?N.props.hide:(T=N.type.defaultProps)===null||T===void 0?void 0:T.hide;return k===b&&!V}),"number",d),a.defaultProps.allowDataOverflow),_=FA(f,_,b,i)),nt(nt({},x),{},Kt({},b,nt(nt({axisType:i},a.defaultProps),{},{hide:!0,orientation:no(CRe,"".concat(i,".").concat(m%2),null),domain:_,originalDomain:j,isCategorical:v,layout:d})))}return x},{})},DRe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ao(d,i),p={};return h&&h.length?p=ORe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=FRe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},LRe=function(t){var r=fu(t),n=ac(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:n3(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mb(r,n)}},XI=function(t){var r=t.children,n=t.defaultShowTooltip,a=vs(r,D0),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},IRe=function(t){return!t||!t.length?!1:t.some(function(r){var n=dc(r&&r.type);return n&&n.indexOf("Bar")>=0})},JI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},MRe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=vs(f,D0),v=vs(f,t0),m=Object.keys(c).reduce(function(_,N){var S=c[N],T=S.orientation;return!S.mirror&&!S.hide?nt(nt({},_),{},Kt({},T,_[T]+S.width)):_},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(_,N){var S=o[N],T=S.orientation;return!S.mirror&&!S.hide?nt(nt({},_),{},Kt({},T,no(_,"".concat(T))+S.height)):_},{top:h.top||0,bottom:h.bottom||0}),g=nt(nt({},x),m),y=g.bottom;p&&(g.bottom+=p.props.height||D0.defaultProps.height),v&&r&&(g=vOe(g,a,n,r));var b=u-g.left-g.right,j=d-g.top-g.bottom;return nt(nt({brushBottom:y},g),{},{width:Math.max(b,0),height:Math.max(j,0)})},RRe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},$Re=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,y){var b=y.graphicalItems,j=y.stackGroups,_=y.offset,N=y.updateId,S=y.dataStartIndex,T=y.dataEndIndex,k=g.barSize,V=g.layout,C=g.barGap,P=g.barCategoryGap,U=g.maxBarSize,q=JI(V),z=q.numericAxisName,I=q.cateAxisName,R=IRe(b),G=[];return b.forEach(function(F,H){var J=j_(g.data,{graphicalItems:[F],dataStartIndex:S,dataEndIndex:T}),A=F.type.defaultProps!==void 0?nt(nt({},F.type.defaultProps),F.props):F.props,M=A.dataKey,K=A.maxBarSize,L=A["".concat(z,"Id")],Y=A["".concat(I,"Id")],Z={},se=c.reduce(function(xe,de){var Be=y["".concat(de.axisType,"Map")],we=A["".concat(de.axisType,"Id")];Be&&Be[we]||de.axisType==="zAxis"||hf(!1);var ge=Be[we];return nt(nt({},xe),{},Kt(Kt({},de.axisType,ge),"".concat(de.axisType,"Ticks"),ac(ge)))},Z),W=se[I],ae=se["".concat(I,"Ticks")],fe=j&&j[L]&&j[L].hasStack&&POe(F,j[L].stackGroups),Q=dc(F.type).indexOf("Bar")>=0,ke=mb(W,ae),Ie=[],Ae=R&&mOe({barSize:k,stackGroups:j,totalSize:RRe(se,I)});if(Q){var ce,Re,at=Er(K)?U:K,$e=(ce=(Re=mb(W,ae,!0))!==null&&Re!==void 0?Re:at)!==null&&ce!==void 0?ce:0;Ie=gOe({barGap:C,barCategoryGap:P,bandSize:$e!==ke?$e:ke,sizeList:Ae[Y],maxBarSize:at}),$e!==ke&&(Ie=Ie.map(function(xe){return nt(nt({},xe),{},{position:nt(nt({},xe.position),{},{offset:xe.position.offset-$e/2})})}))}var et=F&&F.type&&F.type.getComposedData;et&&G.push({props:nt(nt({},et(nt(nt({},se),{},{displayedData:J,props:g,dataKey:M,item:F,bandSize:ke,barPosition:Ie,offset:_,stackedData:fe,layout:V,dataStartIndex:S,dataEndIndex:T}))),{},Kt(Kt(Kt({key:F.key||"item-".concat(H)},z,se[z]),I,se[I]),"animationId",N)),childIndex:gbe(F,g.children),item:F})}),G},p=function(g,y){var b=g.props,j=g.dataStartIndex,_=g.dataEndIndex,N=g.updateId;if(!lF({props:b}))return null;var S=b.children,T=b.layout,k=b.stackOffset,V=b.data,C=b.reverseStackOrder,P=JI(T),U=P.numericAxisName,q=P.cateAxisName,z=ao(S,n),I=COe(V,z,"".concat(U,"Id"),"".concat(q,"Id"),k,C),R=c.reduce(function(A,M){var K="".concat(M.axisType,"Map");return nt(nt({},A),{},Kt({},K,DRe(b,nt(nt({},M),{},{graphicalItems:z,stackGroups:M.axisType===U&&I,dataStartIndex:j,dataEndIndex:_}))))},{}),G=MRe(nt(nt({},R),{},{props:b,graphicalItems:z}),y==null?void 0:y.legendBBox);Object.keys(R).forEach(function(A){R[A]=d(b,R[A],G,A.replace("Map",""),r)});var F=R["".concat(q,"Map")],H=LRe(F),J=h(b,nt(nt({},R),{},{dataStartIndex:j,dataEndIndex:_,updateId:N,graphicalItems:z,stackGroups:I,offset:G}));return nt(nt({formattedGraphicalItems:J,graphicalItems:z,offset:G,stackGroups:I},H),R)},v=function(x){function g(y){var b,j,_;return xRe(this,g),_=bRe(this,g,[y]),Kt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Kt(_,"accessibilityManager",new aRe),Kt(_,"handleLegendBBoxUpdate",function(N){if(N){var S=_.state,T=S.dataStartIndex,k=S.dataEndIndex,V=S.updateId;_.setState(nt({legendBBox:N},p({props:_.props,dataStartIndex:T,dataEndIndex:k,updateId:V},nt(nt({},_.state),{},{legendBBox:N}))))}}),Kt(_,"handleReceiveSyncEvent",function(N,S,T){if(_.props.syncId===N){if(T===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(S)}}),Kt(_,"handleBrushChange",function(N){var S=N.startIndex,T=N.endIndex;if(S!==_.state.dataStartIndex||T!==_.state.dataEndIndex){var k=_.state.updateId;_.setState(function(){return nt({dataStartIndex:S,dataEndIndex:T},p({props:_.props,dataStartIndex:S,dataEndIndex:T,updateId:k},_.state))}),_.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),Kt(_,"handleMouseEnter",function(N){var S=_.getMouseInfo(N);if(S){var T=nt(nt({},S),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var k=_.props.onMouseEnter;_r(k)&&k(T,N)}}),Kt(_,"triggeredAfterMouseMove",function(N){var S=_.getMouseInfo(N),T=S?nt(nt({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(T),_.triggerSyncEvent(T);var k=_.props.onMouseMove;_r(k)&&k(T,N)}),Kt(_,"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Kt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Kt(_,"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),Kt(_,"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};_.setState(S),_.triggerSyncEvent(S);var T=_.props.onMouseLeave;_r(T)&&T(S,N)}),Kt(_,"handleOuterEvent",function(N){var S=mbe(N),T=no(_.props,"".concat(S));if(S&&_r(T)){var k,V;/.*touch.*/i.test(S)?V=_.getMouseInfo(N.changedTouches[0]):V=_.getMouseInfo(N),T((k=V)!==null&&k!==void 0?k:{},N)}}),Kt(_,"handleClick",function(N){var S=_.getMouseInfo(N);if(S){var T=nt(nt({},S),{},{isTooltipActive:!0});_.setState(T),_.triggerSyncEvent(T);var k=_.props.onClick;_r(k)&&k(T,N)}}),Kt(_,"handleMouseDown",function(N){var S=_.props.onMouseDown;if(_r(S)){var T=_.getMouseInfo(N);S(T,N)}}),Kt(_,"handleMouseUp",function(N){var S=_.props.onMouseUp;if(_r(S)){var T=_.getMouseInfo(N);S(T,N)}}),Kt(_,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Kt(_,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),Kt(_,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),Kt(_,"handleDoubleClick",function(N){var S=_.props.onDoubleClick;if(_r(S)){var T=_.getMouseInfo(N);S(T,N)}}),Kt(_,"handleContextMenu",function(N){var S=_.props.onContextMenu;if(_r(S)){var T=_.getMouseInfo(N);S(T,N)}}),Kt(_,"triggerSyncEvent",function(N){_.props.syncId!==void 0&&X5.emit(J5,_.props.syncId,N,_.eventEmitterSymbol)}),Kt(_,"applySyncEvent",function(N){var S=_.props,T=S.layout,k=S.syncMethod,V=_.state.updateId,C=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(nt({dataStartIndex:C,dataEndIndex:P},p({props:_.props,dataStartIndex:C,dataEndIndex:P,updateId:V},_.state)));else if(N.activeTooltipIndex!==void 0){var U=N.chartX,q=N.chartY,z=N.activeTooltipIndex,I=_.state,R=I.offset,G=I.tooltipTicks;if(!R)return;if(typeof k=="function")z=k(G,N);else if(k==="value"){z=-1;for(var F=0;F<G.length;F++)if(G[F].value===N.activeLabel){z=F;break}}var H=nt(nt({},R),{},{x:R.left,y:R.top}),J=Math.min(U,H.x+H.width),A=Math.min(q,H.y+H.height),M=G[z]&&G[z].value,K=IA(_.state,_.props.data,z),L=G[z]?{x:T==="horizontal"?G[z].coordinate:J,y:T==="horizontal"?A:G[z].coordinate}:UG;_.setState(nt(nt({},N),{},{activeLabel:M,activeCoordinate:L,activePayload:K,activeTooltipIndex:z}))}else _.setState(N)}),Kt(_,"renderCursor",function(N){var S,T=_.state,k=T.isTooltipActive,V=T.activeCoordinate,C=T.activePayload,P=T.offset,U=T.activeTooltipIndex,q=T.tooltipAxisBandSize,z=_.getTooltipEventType(),I=(S=N.props.active)!==null&&S!==void 0?S:k,R=_.props.layout,G=N.key||"_recharts-cursor";return Ce.createElement(dRe,{key:G,activeCoordinate:V,activePayload:C,activeTooltipIndex:U,chartName:r,element:N,isActive:I,layout:R,offset:P,tooltipAxisBandSize:q,tooltipEventType:z})}),Kt(_,"renderPolarAxis",function(N,S,T){var k=no(N,"type.axisType"),V=no(_.state,"".concat(k,"Map")),C=N.type.defaultProps,P=C!==void 0?nt(nt({},C),N.props):N.props,U=V&&V[P["".concat(k,"Id")]];return O.cloneElement(N,nt(nt({},U),{},{className:Ir(k,U.className),key:N.key||"".concat(S,"-").concat(T),ticks:ac(U,!0)}))}),Kt(_,"renderPolarGrid",function(N){var S=N.props,T=S.radialLines,k=S.polarAngles,V=S.polarRadius,C=_.state,P=C.radiusAxisMap,U=C.angleAxisMap,q=fu(P),z=fu(U),I=z.cx,R=z.cy,G=z.innerRadius,F=z.outerRadius;return O.cloneElement(N,{polarAngles:Array.isArray(k)?k:ac(z,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(V)?V:ac(q,!0).map(function(H){return H.coordinate}),cx:I,cy:R,innerRadius:G,outerRadius:F,key:N.key||"polar-grid",radialLines:T})}),Kt(_,"renderLegend",function(){var N=_.state.formattedGraphicalItems,S=_.props,T=S.children,k=S.width,V=S.height,C=_.props.margin||{},P=k-(C.left||0)-(C.right||0),U=Dq({children:T,formattedGraphicalItems:N,legendWidth:P,legendContent:u});if(!U)return null;var q=U.item,z=qI(U,fRe);return O.cloneElement(q,nt(nt({},z),{},{chartWidth:k,chartHeight:V,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Kt(_,"renderTooltip",function(){var N,S=_.props,T=S.children,k=S.accessibilityLayer,V=vs(T,fl);if(!V)return null;var C=_.state,P=C.isTooltipActive,U=C.activeCoordinate,q=C.activePayload,z=C.activeLabel,I=C.offset,R=(N=V.props.active)!==null&&N!==void 0?N:P;return O.cloneElement(V,{viewBox:nt(nt({},I),{},{x:I.left,y:I.top}),active:R,label:z,payload:R?q:[],coordinate:U,accessibilityLayer:k})}),Kt(_,"renderBrush",function(N){var S=_.props,T=S.margin,k=S.data,V=_.state,C=V.offset,P=V.dataStartIndex,U=V.dataEndIndex,q=V.updateId;return O.cloneElement(N,{key:N.key||"_recharts-brush",onChange:ay(_.handleBrushChange,N.props.onChange),data:k,x:Et(N.props.x)?N.props.x:C.left,y:Et(N.props.y)?N.props.y:C.top+C.height+C.brushBottom-(T.bottom||0),width:Et(N.props.width)?N.props.width:C.width,startIndex:P,endIndex:U,updateId:"brush-".concat(q)})}),Kt(_,"renderReferenceElement",function(N,S,T){if(!N)return null;var k=_,V=k.clipPathId,C=_.state,P=C.xAxisMap,U=C.yAxisMap,q=C.offset,z=N.type.defaultProps||{},I=N.props,R=I.xAxisId,G=R===void 0?z.xAxisId:R,F=I.yAxisId,H=F===void 0?z.yAxisId:F;return O.cloneElement(N,{key:N.key||"".concat(S,"-").concat(T),xAxis:P[G],yAxis:U[H],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:V})}),Kt(_,"renderActivePoints",function(N){var S=N.item,T=N.activePoint,k=N.basePoint,V=N.childIndex,C=N.isRange,P=[],U=S.props.key,q=S.item.type.defaultProps!==void 0?nt(nt({},S.item.type.defaultProps),S.item.props):S.item.props,z=q.activeDot,I=q.dataKey,R=nt(nt({index:V,dataKey:I,cx:T.x,cy:T.y,r:4,fill:E3(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Or(z,!1)),B2(z));return P.push(g.renderActiveDot(z,R,"".concat(U,"-activePoint-").concat(V))),k?P.push(g.renderActiveDot(z,nt(nt({},R),{},{cx:k.x,cy:k.y}),"".concat(U,"-basePoint-").concat(V))):C&&P.push(null),P}),Kt(_,"renderGraphicChild",function(N,S,T){var k=_.filterFormatItem(N,S,T);if(!k)return null;var V=_.getTooltipEventType(),C=_.state,P=C.isTooltipActive,U=C.tooltipAxis,q=C.activeTooltipIndex,z=C.activeLabel,I=_.props.children,R=vs(I,fl),G=k.props,F=G.points,H=G.isRange,J=G.baseLine,A=k.item.type.defaultProps!==void 0?nt(nt({},k.item.type.defaultProps),k.item.props):k.item.props,M=A.activeDot,K=A.hide,L=A.activeBar,Y=A.activeShape,Z=!!(!K&&P&&R&&(M||L||Y)),se={};V!=="axis"&&R&&R.props.trigger==="click"?se={onClick:ay(_.handleItemMouseEnter,N.props.onClick)}:V!=="axis"&&(se={onMouseLeave:ay(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:ay(_.handleItemMouseEnter,N.props.onMouseEnter)});var W=O.cloneElement(N,nt(nt({},k.props),se));function ae(de){return typeof U.dataKey=="function"?U.dataKey(de.payload):null}if(Z)if(q>=0){var fe,Q;if(U.dataKey&&!U.allowDuplicatedCategory){var ke=typeof U.dataKey=="function"?ae:"payload.".concat(U.dataKey.toString());fe=$2(F,ke,z),Q=H&&J&&$2(J,ke,z)}else fe=F==null?void 0:F[q],Q=H&&J&&J[q];if(Y||L){var Ie=N.props.activeIndex!==void 0?N.props.activeIndex:q;return[O.cloneElement(N,nt(nt(nt({},k.props),se),{},{activeIndex:Ie})),null,null]}if(!Er(fe))return[W].concat(H0(_.renderActivePoints({item:k,activePoint:fe,basePoint:Q,childIndex:q,isRange:H})))}else{var Ae,ce=(Ae=_.getItemByXY(_.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:W},Re=ce.graphicalItem,at=Re.item,$e=at===void 0?N:at,et=Re.childIndex,xe=nt(nt(nt({},k.props),se),{},{activeIndex:et});return[O.cloneElement($e,xe),null,null]}return H?[W,null,null]:[W,null]}),Kt(_,"renderCustomized",function(N,S,T){return O.cloneElement(N,nt(nt({key:"recharts-customized-".concat(T)},_.props),_.state))}),Kt(_,"renderMap",{CartesianGrid:{handler:cy,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:cy},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:cy},YAxis:{handler:cy},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:dx("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=FW(_.triggeredAfterMouseMove,(j=y.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return jRe(g,x),yRe(g,[{key:"componentDidMount",value:function(){var b,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,j=b.children,_=b.data,N=b.height,S=b.layout,T=vs(j,fl);if(T){var k=T.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,C=IA(this.state,_,k,V),P=this.state.tooltipTicks[k].coordinate,U=(this.state.offset.top+N)/2,q=S==="horizontal",z=q?{x:P,y:U}:{y:P,x:U},I=this.state.formattedGraphicalItems.find(function(G){var F=G.item;return F.type.name==="Scatter"});I&&(z=nt(nt({},z),I.props.points[k].tooltipPosition),C=I.props.points[k].tooltipPayload);var R={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:V,activePayload:C,activeCoordinate:z};this.setState(R),this.renderCursor(T),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){p4([vs(b.children,fl)],[vs(this.props.children,fl)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=vs(this.props.children,fl);if(b&&typeof b.props.shared=="boolean"){var j=b.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),N=BCe(_),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},T=_.width/j.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,T);if(!k)return null;var V=this.state,C=V.xAxisMap,P=V.yAxisMap,U=this.getTooltipEventType();if(U!=="axis"&&C&&P){var q=fu(C).scale,z=fu(P).scale,I=q&&q.invert?q.invert(S.chartX):null,R=z&&z.invert?z.invert(S.chartY):null;return nt(nt({},S),{},{xValue:I,yValue:R})}var G=YI(this.state,this.props.data,this.props.layout,k);return G?nt(nt({},S),G):null}},{key:"inRange",value:function(b,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/_,T=j/_;if(N==="horizontal"||N==="vertical"){var k=this.state.offset,V=S>=k.left&&S<=k.left+k.width&&T>=k.top&&T<=k.top+k.height;return V?{x:S,y:T}:null}var C=this.state,P=C.angleAxisMap,U=C.radiusAxisMap;if(P&&U){var q=fu(P);return _L({x:S,y:T},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,j=this.getTooltipEventType(),_=vs(b,fl),N={};_&&j==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=B2(this.props,this.handleOuterEvent);return nt(nt({},S),N)}},{key:"addListener",value:function(){X5.on(J5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){X5.removeListener(J5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,j,_){for(var N=this.state.formattedGraphicalItems,S=0,T=N.length;S<T;S++){var k=N[S];if(k.item===b||k.props.key===b.key||j===dc(k.item.type)&&_===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,j=this.state.offset,_=j.left,N=j.top,S=j.height,T=j.width;return Ce.createElement("defs",null,Ce.createElement("clipPath",{id:b},Ce.createElement("rect",{x:_,y:N,height:S,width:T})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=WI(_,2),S=N[0],T=N[1];return nt(nt({},j),{},Kt({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(j,_){var N=WI(_,2),S=N[0],T=N[1];return nt(nt({},j),{},Kt({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(b){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[b])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(b){var j=this.state,_=j.formattedGraphicalItems,N=j.activeItem;if(_&&_.length)for(var S=0,T=_.length;S<T;S++){var k=_[S],V=k.props,C=k.item,P=C.type.defaultProps!==void 0?nt(nt({},C.type.defaultProps),C.props):C.props,U=dc(C.type);if(U==="Bar"){var q=(V.data||[]).find(function(G){return sFe(b,G)});if(q)return{graphicalItem:k,payload:q}}else if(U==="RadialBar"){var z=(V.data||[]).find(function(G){return _L(b,G)});if(z)return{graphicalItem:k,payload:z}}else if(p_(k,N)||m_(k,N)||Pv(k,N)){var I=cDe({graphicalItem:k,activeTooltipItem:N,itemData:P.data}),R=P.activeIndex===void 0?I:P.activeIndex;return{graphicalItem:nt(nt({},k),{},{childIndex:R}),payload:Pv(k,N)?P.data[I]:k.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!lF(this))return null;var j=this.props,_=j.children,N=j.className,S=j.width,T=j.height,k=j.style,V=j.compact,C=j.title,P=j.desc,U=qI(j,hRe),q=Or(U,!1);if(V)return Ce.createElement(wI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement(g4,Mh({},q,{width:S,height:T,title:C,desc:P}),this.renderClipPath(),uF(_,this.renderMap)));if(this.props.accessibilityLayer){var z,I;q.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,q.role=(I=this.props.role)!==null&&I!==void 0?I:"application",q.onKeyDown=function(G){b.accessibilityManager.keyboardEvent(G)},q.onFocus=function(){b.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return Ce.createElement(wI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement("div",Mh({className:Ir("recharts-wrapper",N),style:nt({position:"relative",cursor:"default",width:S,height:T},k)},R,{ref:function(F){b.container=F}}),Ce.createElement(g4,Mh({},q,{width:S,height:T,title:C,desc:P,style:ERe}),this.renderClipPath(),uF(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);Kt(v,"displayName",r),Kt(v,"defaultProps",nt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Kt(v,"getDerivedStateFromProps",function(x,g){var y=x.dataKey,b=x.data,j=x.children,_=x.width,N=x.height,S=x.layout,T=x.stackOffset,k=x.margin,V=g.dataStartIndex,C=g.dataEndIndex;if(g.updateId===void 0){var P=XI(x);return nt(nt(nt({},P),{},{updateId:0},p(nt(nt({props:x},P),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:k,prevChildren:j})}if(y!==g.prevDataKey||b!==g.prevData||_!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||T!==g.prevStackOffset||!e0(k,g.prevMargin)){var U=XI(x),q={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},z=nt(nt({},YI(g,b,S)),{},{updateId:g.updateId+1}),I=nt(nt(nt({},U),q),z);return nt(nt(nt({},I),p(nt({props:x},I),g)),{},{prevDataKey:y,prevData:b,prevWidth:_,prevHeight:N,prevLayout:S,prevStackOffset:T,prevMargin:k,prevChildren:j})}if(!p4(j,g.prevChildren)){var R,G,F,H,J=vs(j,D0),A=J&&(R=(G=J.props)===null||G===void 0?void 0:G.startIndex)!==null&&R!==void 0?R:V,M=J&&(F=(H=J.props)===null||H===void 0?void 0:H.endIndex)!==null&&F!==void 0?F:C,K=A!==V||M!==C,L=!Er(b),Y=L&&!K?g.updateId:g.updateId+1;return nt(nt({updateId:Y},p(nt(nt({props:x},g),{},{updateId:Y,dataStartIndex:A,dataEndIndex:M}),g)),{},{prevChildren:j,dataStartIndex:A,dataEndIndex:M})}return null}),Kt(v,"renderActiveDot",function(x,g,y){var b;return O.isValidElement(x)?b=O.cloneElement(x,g):_r(x)?b=x(g):b=Ce.createElement(P3,g),Ce.createElement(na,{className:"recharts-active-dot",key:y},b)});var m=O.forwardRef(function(g,y){return Ce.createElement(v,Mh({},g,{ref:y}))});return m.displayName=v.displayName,m},BRe=$Re({chartName:"LineChart",GraphicalChild:yx,axisComponents:[{axisType:"xAxis",AxisComp:w_},{axisType:"yAxis",AxisComp:__}],formatAxisMap:DLe});const zRe=({formData:e,handleChange:t})=>s.jsxs("div",{className:"border border-slate-800 rounded-sm mb-6",children:[s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.limud_learning||"",onChange:r=>t("limud_learning",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Learning"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.ivri_language||"",onChange:r=>t("ivri_language",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Hebrew"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.hitnahagut_behavior||"",onChange:r=>t("hitnahagut_behavior",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Behavior"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.emotional||"",onChange:r=>t("emotional",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Emotional"})]}),s.jsxs("div",{className:"grid grid-cols-12 border-b border-slate-300 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"Remarks...",value:e.social||"",onChange:r=>t("social",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Social"})]}),s.jsxs("div",{className:"grid grid-cols-12 min-h-[80px]",children:[s.jsx("div",{className:"col-span-10 p-2",children:s.jsx("textarea",{dir:"rtl",className:"w-full h-full resize-none bg-transparent outline-none text-right",placeholder:"General notes...",value:e.remarks||"",onChange:r=>t("remarks",r.target.value)})}),s.jsx("div",{className:"col-span-2 bg-slate-100 p-2 flex items-center justify-end font-bold border-l border-slate-300",children:"Notes / Other"})]}),s.jsxs("div",{className:"my-6",dir:"rtl",children:[s.jsx("h3",{className:"text-center font-bold mb-2 border-b-2 border-slate-800 pb-1 w-full",children:"Summary of the Situation"}),s.jsx("textarea",{className:"w-full p-2 border border-slate-300 rounded min-h-[100px]",placeholder:"Summary of the situation...",value:e.summary||"",onChange:r=>t("summary",r.target.value)})]}),s.jsxs("div",{className:"mb-8",dir:"rtl",children:[s.jsx("h3",{className:"text-center font-bold mb-2 border-b-2 border-slate-800 pb-1 w-full",children:"Plan"}),s.jsx("textarea",{className:"w-full p-2 border border-slate-300 rounded min-h-[100px]",placeholder:"Action plan...",value:e.plan||"",onChange:r=>t("plan",r.target.value)})]})]}),URe=({schema:e,customData:t,onChange:r})=>s.jsx("div",{className:"space-y-6 mb-8",children:e.map(n=>{var a;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ve,{children:[n.label," ",n.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),n.type==="text"&&s.jsx(Ge,{value:t[n.id]||"",onChange:i=>r(n.id,i.target.value),placeholder:"Your answer..."}),n.type==="number"&&s.jsx(Ge,{type:"number",value:t[n.id]||"",onChange:i=>r(n.id,i.target.value),placeholder:"0"}),n.type==="date"&&s.jsx(Ge,{type:"date",value:t[n.id]||"",onChange:i=>r(n.id,i.target.value)}),n.type==="textarea"&&s.jsx("textarea",{className:"w-full p-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-400",rows:4,value:t[n.id]||"",onChange:i=>r(n.id,i.target.value)}),n.type==="select"&&s.jsxs(wt,{value:t[n.id]||"",onValueChange:i=>r(n.id,i),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select an option"})}),s.jsx(bt,{children:(a=n.options)==null?void 0:a.map((i,o)=>s.jsx(Le,{value:i,children:i},o))})]}),n.type==="checkbox"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300",checked:!!t[n.id],onChange:i=>r(n.id,i.target.checked)}),s.jsx("span",{className:"text-sm text-slate-600",children:"Yes"})]})]},n.id)})}),VRe=({student:e,assessment:t=null,onSave:r,onCancel:n})=>{const{toast:a}=Tr(),[i,o]=O.useState([]),[l,c]=O.useState("standard"),[u,d]=O.useState(null),[f,h]=O.useState({teacher_name:"",date:new Date().toISOString().split("T")[0],limud_learning:"",ivri_language:"",hitnahagut_behavior:"",emotional:"",social:"",remarks:"",summary:"",plan:"",status:"draft",custom_data:{}});O.useEffect(()=>{p(),t?(h(t),t.template_id&&c(t.template_id)):e&&h(g=>({...g,teacher_name:e.teacher||""}))},[e,t]);const p=async()=>{const{data:g}=await Te.from("assessment_templates").select("*");o(g||[])};O.useEffect(()=>{if(l&&l!=="standard"){const g=i.find(y=>y.id===l);d(g)}else d(null)},[l,i]);const v=(g,y)=>{h(b=>({...b,[g]:y}))},m=(g,y)=>{h(b=>({...b,custom_data:{...b.custom_data,[g]:y}}))},x=async g=>{const y={...f,status:g,student_id:e.id,template_id:l==="standard"?null:l};let b;t!=null&&t.id?b=await Te.from("assessments").update(y).eq("id",t.id):b=await Te.from("assessments").insert([y]),b.error?a({variant:"destructive",title:"Error",description:"Failed to save assessment"}):(a({title:g==="final"?"Assessment Finalized":"Draft Saved",description:`Assessment for ${e.name} has been saved.`}),r&&r())};return s.jsxs("div",{className:"bg-white rounded-lg border shadow-sm max-w-4xl mx-auto p-8 font-sans animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-1",children:u?u.name:"Standard Assessment"}),s.jsx("p",{className:"text-sm text-slate-500",children:u?u.description:"Official Special Education Form"})]}),!t&&s.jsxs("div",{className:"w-64",children:[s.jsx(ve,{children:"Select Template"}),s.jsxs(wt,{value:l,onValueChange:c,children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"standard",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ts,{size:14})," Standard Hebrew Form"]})}),i.map(g=>s.jsx(Le,{value:g.id,children:g.name},g.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 text-right bg-slate-50 p-4 rounded-md border",dir:"rtl",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Student Name:"}),s.jsx("span",{children:e.name})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Son of Rabbi:"}),s.jsx("span",{children:e.father_name||"_________"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Class:"}),s.jsx("span",{className:"ml-4",children:e.class}),s.jsx("span",{className:"font-bold",children:"Teacher:"}),s.jsx("input",{className:"border-b border-slate-300 bg-transparent focus:outline-none",value:f.teacher_name,onChange:g=>v("teacher_name",g.target.value)})]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"font-bold",children:"Date:"}),s.jsx("input",{type:"date",className:"border-b border-slate-300 bg-transparent focus:outline-none",value:f.date,onChange:g=>v("date",g.target.value)})]})]})]}),l==="standard"?s.jsx(zRe,{formData:f,handleChange:v}):u&&s.jsx(URe,{schema:u.schema,customData:f.custom_data||{},onChange:m}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t sticky bottom-0 bg-white pb-2",children:[s.jsxs(Ne,{variant:"outline",onClick:n,className:"flex items-center gap-2",children:[s.jsx(nC,{size:16})," Cancel"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Ne,{variant:"secondary",onClick:()=>x("draft"),className:"flex items-center gap-2",children:[s.jsx(mw,{size:16})," Save Draft"]}),s.jsxs(Ne,{onClick:()=>x("final"),className:"flex items-center gap-2 bg-slate-900 text-white hover:bg-slate-800",children:[s.jsx(aC,{size:16})," Finalize Assessment"]})]})]})]})},HRe=rC("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ct({className:e,variant:t,...r}){return s.jsx("div",{className:wr(HRe({variant:t}),e),...r})}const QI={initial_contact:{label:"Initial Contact",color:"bg-blue-100 text-blue-800 border-blue-300",icon:Ts},info_gathering:{label:"Info Gathering",color:"bg-purple-100 text-purple-800 border-purple-300",icon:Ia},assessment:{label:"Assessment",color:"bg-yellow-100 text-yellow-800 border-yellow-300",icon:bi},plan_creation:{label:"Creating Plan",color:"bg-orange-100 text-orange-800 border-orange-300",icon:Ts},plan_review:{label:"Plan Review",color:"bg-cyan-100 text-cyan-800 border-cyan-300",icon:lre},service_setup:{label:"Setting Up Services",color:"bg-indigo-100 text-indigo-800 border-indigo-300",icon:Ss},active_monitoring:{label:"Active Monitoring",color:"bg-green-100 text-green-800 border-green-300",icon:Iy},plan_adjustment:{label:"Plan Adjustment",color:"bg-red-100 text-red-800 border-red-300",icon:bi},completed:{label:"Completed",color:"bg-slate-100 text-slate-800 border-slate-300",icon:wi}},WRe=({stage:e,showIcon:t=!0,className:r=""})=>{const n=QI[e]||QI.initial_contact,a=n.icon;return s.jsxs(Ct,{variant:"outline",className:`${n.color} ${r}`,children:[t&&s.jsx(a,{size:14,className:"mr-1"}),n.label]})},qRe=({isOpen:e,onClose:t,studentId:r,plan:n,onSuccess:a})=>{const{toast:i}=Tr(),[o,l]=O.useState(!1),[c,u]=O.useState(null),[d,f]=O.useState([]),[h,p]=O.useState({goals:"",social_emotional_notes:"",kriah_notes:"",limud_notes:"",interventions:[{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}],review_frequency:"weekly",created_by:"",reviewed_by:"",status:"draft"});O.useEffect(()=>{e&&(v(),m(),n?p({...n,interventions:n.interventions||[{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}]}):x())},[e,n,r]);const v=async()=>{const{data:_}=await Te.from("students").select("*").eq("id",r).single();u(_)},m=async()=>{const{data:_}=await Te.from("app_users").select("id, name").eq("role","tutor").order("name");f(_||[])},x=()=>{p({goals:"",social_emotional_notes:"",kriah_notes:"",limud_notes:"",interventions:[{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}],review_frequency:"weekly",created_by:"",reviewed_by:"",status:"draft"})},g=()=>{p({...h,interventions:[...h.interventions,{type:"tutor",description:"",frequency:"",tutor_id:"",goals:""}]})},y=_=>{p({...h,interventions:h.interventions.filter((N,S)=>S!==_)})},b=(_,N,S)=>{const T=[...h.interventions];T[_][N]=S,p({...h,interventions:T})},j=async _=>{_.preventDefault(),l(!0);try{const N={student_id:r,...h,updated_at:new Date().toISOString()};n?await Te.from("student_plans").update(N).eq("id",n.id):(N.created_at=new Date().toISOString(),await Te.from("student_plans").insert([N])),i({title:"Success",description:"Plan saved successfully"}),a(),t()}catch(N){console.error(N),i({variant:"destructive",title:"Error",description:"Failed to save plan"})}finally{l(!1)}};return s.jsx(Zt,{open:e,onOpenChange:t,children:s.jsxs(Xt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(er,{children:s.jsxs(tr,{children:[n?"Edit Student Plan":"Create Student Plan",c&&` - ${c.name}`]})}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"goals",children:"Overall Goals & Objectives"}),s.jsx(Nr,{id:"goals",value:h.goals,onChange:_=>p({...h,goals:_.target.value}),placeholder:"What are the main goals for this student?",rows:3,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"social",children:"Social/Emotional Notes"}),s.jsx(Nr,{id:"social",value:h.social_emotional_notes,onChange:_=>p({...h,social_emotional_notes:_.target.value}),placeholder:"Assessment findings...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"kriah",children:"Kriah (Reading) Notes"}),s.jsx(Nr,{id:"kriah",value:h.kriah_notes,onChange:_=>p({...h,kriah_notes:_.target.value}),placeholder:"Assessment findings...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"limud",children:"Limud (Learning) Notes"}),s.jsx(Nr,{id:"limud",value:h.limud_notes,onChange:_=>p({...h,limud_notes:_.target.value}),placeholder:"Assessment findings...",rows:3})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ve,{children:"Interventions (Tutors/Therapists/Mentors)"}),s.jsxs(Ne,{type:"button",size:"sm",variant:"outline",onClick:g,children:[s.jsx(Zr,{size:16,className:"mr-1"})," Add Intervention"]})]}),h.interventions.map((_,N)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3 bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ve,{className:"text-sm font-semibold",children:["Intervention #",N+1]}),h.interventions.length>1&&s.jsx(Ne,{type:"button",size:"sm",variant:"ghost",onClick:()=>y(N),children:s.jsx(za,{size:16,className:"text-red-500"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Type"}),s.jsxs(wt,{value:_.type,onValueChange:S=>b(N,"type",S),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"tutor",children:"Tutor"}),s.jsx(Le,{value:"therapist",children:"Therapist"}),s.jsx(Le,{value:"mentor",children:"Mentor"}),s.jsx(Le,{value:"other",children:"Other Support"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Assign to Tutor"}),s.jsxs(wt,{value:_.tutor_id,onValueChange:S=>b(N,"tutor_id",S),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select tutor..."})}),s.jsx(bt,{children:d.map(S=>s.jsx(Le,{value:S.id,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Description"}),s.jsx(Ge,{value:_.description,onChange:S=>b(N,"description",S.target.value),placeholder:"e.g., Reading support"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Frequency"}),s.jsx(Ge,{value:_.frequency,onChange:S=>b(N,"frequency",S.target.value),placeholder:"e.g., 2x weekly"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(ve,{children:"Specific Goals for this Intervention"}),s.jsx(Nr,{value:_.goals,onChange:S=>b(N,"goals",S.target.value),placeholder:"What should this intervention achieve?",rows:2})]})]})]},N))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Review Frequency"}),s.jsxs(wt,{value:h.review_frequency,onValueChange:_=>p({...h,review_frequency:_}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"weekly",children:"Weekly"}),s.jsx(Le,{value:"biweekly",children:"Bi-weekly"}),s.jsx(Le,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Plan Status"}),s.jsxs(wt,{value:h.status,onValueChange:_=>p({...h,status:_}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"draft",children:"Draft"}),s.jsx(Le,{value:"pending_review",children:"Pending Review"}),s.jsx(Le,{value:"approved",children:"Approved"}),s.jsx(Le,{value:"active",children:"Active"}),s.jsx(Le,{value:"needs_adjustment",children:"Needs Adjustment"})]})]})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(Ne,{type:"submit",disabled:o,children:o?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(mw,{size:16,className:"mr-2"})," Save Plan"]})})]})]})]})})};async function HG({to:e,subject:t,body:r,from:n,relatedType:a,relatedId:i,sentBy:o}){const l=Array.isArray(e)?e:[e],c=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:l,subject:t,html:r.replace(/\n/g,"<br>"),text:r,from:n||"School Management <onboarding@resend.dev>",relatedType:a||null,relatedId:i||null,sentBy:o||null})});if(!(c.headers.get("Content-Type")||"").includes("application/json")){const f=await c.text();throw console.error("Non-JSON response from /api/send-email:",c.status,f.substring(0,200)),new Error(`Email API returned non-JSON response (${c.status}). The server may not be configured correctly.`)}const d=await c.json();if(!c.ok)throw new Error(d.error||`Failed to send email (${c.status})`);return d}const Oc=({isOpen:e,onClose:t,defaultSubject:r="",defaultBody:n="",currentUser:a,relatedType:i,relatedId:o})=>{const{toast:l}=Tr(),[c,u]=O.useState(!1),[d,f]=O.useState({recipients:[""],subject:r,body:n});Ce.useEffect(()=>{e&&f({recipients:[""],subject:r||"",body:n||""})},[e,r,n]);const h=()=>{f(x=>({...x,recipients:[...x.recipients,""]}))},p=x=>{f(g=>({...g,recipients:g.recipients.filter((y,b)=>b!==x)}))},v=(x,g)=>{f(y=>({...y,recipients:y.recipients.map((b,j)=>j===x?g:b)}))},m=async()=>{const x=d.recipients.filter(g=>g.trim()&&g.includes("@"));if(x.length===0){l({variant:"destructive",title:"Error",description:"Please add at least one email address"});return}if(!d.subject.trim()){l({variant:"destructive",title:"Error",description:"Please enter a subject"});return}u(!0);try{await HG({to:x,subject:d.subject,body:d.body,relatedType:i||null,relatedId:o||null,sentBy:a==null?void 0:a.id}),l({title:"Email Sent",description:`Email sent successfully to ${x.length} recipient(s)`}),t()}catch(g){console.error("Error sending email:",g),l({variant:"destructive",title:"Email Failed",description:g.message||"Failed to send email. Please try again."})}finally{u(!1)}};return s.jsx(Zt,{open:e,onOpenChange:t,children:s.jsxs(Xt,{className:"max-w-lg",dir:"rtl",children:[s.jsx(er,{children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5 text-blue-600"}),"Send Email"]})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"To (email addresses)"}),d.recipients.map((x,g)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ge,{type:"email",value:x,onChange:y=>v(g,y.target.value),placeholder:"email@example.com",className:"flex-1",dir:"ltr"}),d.recipients.length>1&&s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>p(g),children:s.jsx(Q0,{className:"h-4 w-4"})})]},g)),s.jsxs(Ne,{variant:"outline",size:"sm",onClick:h,children:[s.jsx(Zr,{className:"h-4 w-4 ml-1"})," Add Email"]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Subject"}),s.jsx(Ge,{value:d.subject,onChange:x=>f({...d,subject:x.target.value}),placeholder:"Email subject"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Content"}),s.jsx(Nr,{value:d.body,onChange:x=>f({...d,body:x.target.value}),rows:6,placeholder:"Write the email content here..."})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:t,children:"Cancel"}),s.jsxs(Ne,{onClick:m,disabled:c,className:"bg-blue-600 hover:bg-blue-700",children:[c?s.jsx(Sn,{className:"h-4 w-4 animate-spin ml-2"}):s.jsx(pa,{className:"h-4 w-4 ml-2"}),"Send Email"]})]})]})})},WG=({studentId:e,onBack:t})=>{var ze,tt,ht;const{toast:r}=Tr(),[n,a]=O.useState(null),[i,o]=O.useState("overview"),[l,c]=O.useState("all"),[u,d]=O.useState(!1),[f,h]=O.useState("credit"),[p,v]=O.useState(""),[m,x]=O.useState(""),[g,y]=O.useState(!1),[b,j]=O.useState([]),[_,N]=O.useState(""),[S,T]=O.useState(""),[k,V]=O.useState("existing"),[C,P]=O.useState({calls:[],issues:[],grades:[],assessments:[],interventions:[],meetings:[],plans:[],progress_reviews:[],studentFees:[],payments:[]}),[U,q]=O.useState(!1),[z,I]=O.useState(null),[R,G]=O.useState(!1),[F,H]=O.useState(null),[J,A]=O.useState([]),[M,K]=O.useState(null),[L,Y]=O.useState([]),[Z,se]=O.useState(!1),[W,ae]=O.useState(null),[fe,Q]=O.useState({title:"",content:"",note_type:"general",edit_mode:"update"}),[ke,Ie]=O.useState(!1),[Ae,ce]=O.useState({});O.useEffect(()=>{at(),Re()},[e]);const Re=async()=>{try{const{data:Se,error:st}=await Te.from("fees").select("*, fee_type:fee_types(name, category)").order("name");if(st){console.error("Error loading fees:",st);return}j(Se||[])}catch(Se){console.error("Error loading fees:",Se)}},at=async()=>{try{const{data:Se}=await Te.from("students").select("*").eq("id",e).single();a(Se);const[st,it,qt,jt,Sr,Gt,or,Wr,Ht,Yr]=await Promise.all([Te.from("call_logs").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Te.from("issues").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Te.from("grades").select("*").eq("student_id",e).order("created_at",{ascending:!0}),Te.from("assessments").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Te.from("interventions").select("*").eq("student_id",e).order("start_date",{ascending:!1}),Te.from("meetings").select("*").eq("student_id",e).order("meeting_date",{ascending:!1}),Te.from("student_plans").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Te.from("progress_reviews").select("*").eq("student_id",e).order("created_at",{ascending:!1}),Te.from("student_fees").select("*, fee:fees(name, description, due_date, academic_year, fee_type:fee_types(name, category))").eq("student_id",e).order("created_at",{ascending:!1}),Te.from("payments").select("*, student_fee:student_fees(id, fee:fees(name, academic_year))").eq("student_id",e).order("payment_date",{ascending:!1})]);P({calls:st.data||[],issues:it.data||[],grades:qt.data||[],assessments:jt.data||[],interventions:Sr.data||[],meetings:Gt.data||[],plans:or.data||[],progress_reviews:Wr.data||[],studentFees:Ht.data||[],payments:Yr.data||[]});try{const{data:le}=await Te.from("student_notes").select("*").eq("student_id",e).eq("is_active",!0).order("created_at",{ascending:!1});A(le||[])}catch{console.log("student_notes not available yet")}try{const{data:le}=await Te.from("late_arrivals").select("*").eq("student_id",e).order("date",{ascending:!1});Y(le||[])}catch{console.log("late_arrivals not available yet")}try{const{data:le}=await Te.from("special_ed_students").select("*").eq("student_id",e).eq("is_active",!0).maybeSingle();if(le){const[Rt,kr,ar]=await Promise.all([Te.from("special_ed_info_sources").select("*").eq("special_ed_student_id",le.id).order("created_at",{ascending:!1}),Te.from("special_ed_evaluations").select("*").eq("special_ed_student_id",le.id).order("evaluation_date",{ascending:!1}),Te.from("special_ed_tutoring").select("*, tutor:special_ed_staff(name, hebrew_name)").eq("special_ed_student_id",le.id).eq("is_active",!0)]);K({...le,info_sources:Rt.data||[],evaluations:kr.data||[],tutoring:ar.data||[]})}else K(null)}catch{console.log("special_ed tables not available yet")}}catch(Se){console.error(Se),r({variant:"destructive",title:"Error",description:"Failed to load student profile"})}},$e=()=>{q(!1),I(null),at()},et=C.studentFees.filter(Se=>Se.status!=="paid"&&Se.status!=="waived"&&parseFloat(Se.amount)-parseFloat(Se.amount_paid||0)>0),xe=Se=>{h(Se),v(""),x(""),N(""),T(""),V(Se==="credit"&&et.length>0?"existing":"new"),d(!0)},de=async()=>{var Se,st,it,qt;if(!p||parseFloat(p)<=0){r({variant:"destructive",title:"Error",description:"Please enter a valid amount"});return}y(!0);try{const jt=parseFloat(p),Sr=m||"";if(f==="credit")if(k==="existing"&&S){const Gt=et.find(Yr=>Yr.id===S);if(!Gt)throw new Error("Charge not found");const or=parseFloat(Gt.amount_paid||0)+jt,Wr=parseFloat(Gt.amount),Ht=or>=Wr?"paid":"partial";await Te.from("student_fees").update({amount_paid:or,status:Ht}).eq("id",S),await Te.from("payments").insert({student_id:e,student_fee_id:S,amount:jt,payment_method:"cash",payment_date:new Date().toISOString().split("T")[0],notes:Sr||`Payment for ${((Se=Gt.fee)==null?void 0:Se.name)||"charge"}`}),r({title:" Payment Recorded!",description:`$${jt.toFixed(2)} paid toward ${((st=Gt.fee)==null?void 0:st.name)||"charge"}`})}else{const Gt=_||null;if(Gt){const{data:or}=await Te.from("student_fees").insert({student_id:e,fee_id:Gt,amount:jt,amount_paid:jt,status:"paid",notes:Sr}).select().single(),Wr=b.find(Ht=>Ht.id===Gt);await Te.from("payments").insert({student_id:e,student_fee_id:or.id,amount:jt,payment_method:"cash",payment_date:new Date().toISOString().split("T")[0],notes:Sr||`Payment for ${(Wr==null?void 0:Wr.name)||"fee"}`})}else{let{data:or}=await Te.from("fee_types").select("id").eq("category","donation"),Wr=(it=or==null?void 0:or[0])==null?void 0:it.id;if(!Wr){const{data:Rt}=await Te.from("fee_types").insert({name:"Donations",description:"General donations",category:"donation",is_active:!0}).select().single();Wr=Rt.id}let{data:Ht}=await Te.from("fees").select("id").eq("fee_type_id",Wr).eq("academic_year","2024-2025"),Yr=(qt=Ht==null?void 0:Ht[0])==null?void 0:qt.id;if(!Yr){const{data:Rt}=await Te.from("fees").insert({name:"General Payment",fee_type_id:Wr,academic_year:"2024-2025",is_active:!0}).select().single();Yr=Rt.id}const{data:le}=await Te.from("student_fees").insert({student_id:e,fee_id:Yr,amount:jt,amount_paid:jt,status:"paid",notes:Sr||"Payment/Donation"}).select().single();await Te.from("payments").insert({student_id:e,student_fee_id:le.id,amount:jt,payment_method:"cash",payment_date:new Date().toISOString().split("T")[0],notes:Sr||"Payment/Donation"})}r({title:" Payment Added!",description:`+$${jt.toFixed(2)} recorded`})}else{if(!_){r({variant:"destructive",title:"Error",description:"Please select what this charge is for"}),y(!1);return}await Te.from("student_fees").insert({student_id:e,fee_id:_,amount:jt,amount_paid:0,status:"pending",notes:Sr});const Gt=b.find(or=>or.id===_);r({title:" Charge Added!",description:`$${jt.toFixed(2)} charge for ${(Gt==null?void 0:Gt.name)||"fee"}`})}v(""),x(""),N(""),T(""),d(!1),at()}catch(jt){console.error("Transaction save error:",jt),r({variant:"destructive",title:"Error",description:"Failed to save transaction"})}finally{y(!1)}};if(!n)return s.jsx("div",{className:"p-8 text-center",children:"Loading profile..."});const Be=[{value:"general",label:"General"},{value:"teacher_meeting",label:"Teacher Meeting"},{value:"discipline",label:"Discipline"},{value:"academic",label:"Academic"},{value:"behavioral",label:"Behavior"},{value:"parent_feedback",label:"Parent Feedback"},{value:"other",label:"Other"}],we=async()=>{if(!fe.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{W&&fe.edit_mode==="edit"?(await Te.from("student_notes").update({title:fe.title,content:fe.content,note_type:fe.note_type,previous_content:W.content,edit_mode:"edit",updated_at:new Date().toISOString()}).eq("id",W.id),r({title:"Edited",description:"Note has been updated"})):(await Te.from("student_notes").insert([{student_id:e,title:fe.title||null,content:fe.content,note_type:fe.note_type,edit_mode:"update"}]),r({title:"Added",description:"Note has been added"})),se(!1),ae(null),at()}catch(Se){r({variant:"destructive",title:"Error",description:Se.message})}};if(U)return s.jsx(VRe,{student:n,assessment:z,onSave:$e,onCancel:()=>{q(!1),I(null)}});const ge=C.grades.map(Se=>({date:new Date(Se.date).toLocaleDateString(),grade:isNaN(Se.grade)?0:parseInt(Se.grade),subject:Se.subject})).slice(-10);return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex items-center gap-4 border-b pb-4",children:[s.jsx(Ne,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(ire,{size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:n.name}),n.workflow_stage&&s.jsx(WRe,{stage:n.workflow_stage})]}),s.jsxs("p",{className:"text-slate-500",children:["Class: ",n.class,"  Teacher: ",n.teacher]})]}),s.jsxs("div",{className:"ml-auto flex gap-2",children:[s.jsxs(Ne,{onClick:()=>q(!0),variant:"outline",children:[s.jsx(Zr,{size:16,className:"mr-2"})," New Assessment"]}),s.jsxs(Ne,{onClick:()=>{H(null),G(!0)},children:[s.jsx(Zr,{size:16,className:"mr-2"})," Create Plan"]})]})]}),s.jsxs(Jo,{value:i,onValueChange:o,className:"w-full",children:[s.jsxs(uo,{className:"w-full justify-start border-b rounded-none h-12 bg-transparent p-0 overflow-x-auto",children:[s.jsx(vr,{value:"overview",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Overview"}),s.jsxs(vr,{value:"financial",className:"data-[state=active]:border-b-2 data-[state=active]:border-green-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-2",children:[s.jsx(xs,{size:16}),"Financial"]}),s.jsx(vr,{value:"workflow",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Workflow & Plans"}),s.jsx(vr,{value:"academic",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Academic"}),s.jsx(vr,{value:"communication",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Communication"}),s.jsx(vr,{value:"intervention",className:"data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:shadow-none rounded-none px-6",children:"Assessments"}),s.jsxs(vr,{value:"notes",className:"data-[state=active]:border-b-2 data-[state=active]:border-purple-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-1",children:[s.jsx(p0,{size:14}),"Notes (",J.length,")"]}),s.jsxs(vr,{value:"late-arrivals",className:"data-[state=active]:border-b-2 data-[state=active]:border-orange-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-1",children:[s.jsx(Ss,{size:14}),"Late Arrivals (",L.length,")"]}),M&&s.jsxs(vr,{value:"special-ed",className:"data-[state=active]:border-b-2 data-[state=active]:border-pink-500 data-[state=active]:shadow-none rounded-none px-6 flex items-center gap-1",children:[s.jsx(Dy,{size:14}),"Special Education"]})]}),s.jsx(Ur,{value:"overview",className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{className:"text-lg",children:"Contact Information"})}),s.jsxs(Xe,{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(as,{className:"text-slate-400",size:18}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Father: ",n.father_name||"N/A"]}),s.jsx("p",{className:"text-slate-500",children:n.father_phone})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(as,{className:"text-slate-400",size:18}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Mother: ",n.mother_name||"N/A"]}),s.jsx("p",{className:"text-slate-500",children:n.mother_phone})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nf,{className:"text-slate-400",size:18}),s.jsx("p",{children:n.home_phone||"N/A"})]})]})]}),s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{className:"text-lg",children:"Quick Stats"})}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded",children:[s.jsx("span",{children:"Average Grade"}),s.jsx("span",{className:"font-bold text-blue-600",children:C.grades.length>0?Math.round(C.grades.reduce((Se,st)=>Se+(parseInt(st.grade)||0),0)/C.grades.length)+"%":"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded",children:[s.jsx("span",{children:"Open Issues"}),s.jsx("span",{className:"font-bold text-amber-600",children:C.issues.filter(Se=>Se.status==="open").length})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded",children:[s.jsx("span",{children:"Assessments"}),s.jsx("span",{className:"font-bold text-purple-600",children:C.assessments.length})]})]})]}),s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{className:"text-lg",children:"Recent Issues"})}),s.jsxs(Xe,{className:"space-y-3",children:[C.issues.slice(0,3).map(Se=>s.jsxs("div",{className:"flex gap-2 items-start text-sm",children:[s.jsx(Kh,{size:16,className:`shrink-0 mt-0.5 ${Se.priority==="high"?"text-red-500":"text-amber-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Se.title}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(Se.created_at).toLocaleDateString()})]})]},Se.id)),C.issues.length===0&&s.jsx("p",{className:"text-sm text-slate-400",children:"No issues recorded."})]})]})]})}),s.jsx(Ur,{value:"financial",className:"mt-6 space-y-6",children:(()=>{var aa,nn;const st=[...new Set(C.studentFees.map(Je=>{var kt;return(kt=Je.fee)==null?void 0:kt.academic_year}).filter(Boolean))].sort().reverse(),it=l==="all"?C.studentFees:C.studentFees.filter(Je=>{var kt;return((kt=Je.fee)==null?void 0:kt.academic_year)===l}),qt=l==="all"?C.payments:C.payments.filter(Je=>{var kt,xt;return((xt=(kt=Je.student_fee)==null?void 0:kt.fee)==null?void 0:xt.academic_year)===l}),jt=it.filter(Je=>{var kt,xt;return((xt=(kt=Je.fee)==null?void 0:kt.fee_type)==null?void 0:xt.category)==="donation"}),Sr=it.filter(Je=>{var kt,xt;return((xt=(kt=Je.fee)==null?void 0:kt.fee_type)==null?void 0:xt.category)!=="donation"}),Gt=["tuition","registration","books"],or=Sr.filter(Je=>{var kt,xt;return Gt.includes((xt=(kt=Je.fee)==null?void 0:kt.fee_type)==null?void 0:xt.category)}),Wr=Sr.filter(Je=>{var kt,xt;return!Gt.includes((xt=(kt=Je.fee)==null?void 0:kt.fee_type)==null?void 0:xt.category)}),Ht=Sr.reduce((Je,kt)=>Je+(parseFloat(kt.amount)||0),0),Yr=Sr.reduce((Je,kt)=>Je+(parseFloat(kt.amount_paid)||0),0),le=jt.reduce((Je,kt)=>Je+(parseFloat(kt.amount_paid)||0),0),Rt=l!=="all"?l:"2024-2025",kr=Rt==="2024-2025"?"2023-2024":"2022-2023",ar=C.studentFees.filter(Je=>{var kt,xt,At;return((xt=(kt=Je.fee)==null?void 0:kt.fee_type)==null?void 0:xt.category)==="donation"&&((At=Je.fee)==null?void 0:At.academic_year)===kr}).reduce((Je,kt)=>Je+(parseFloat(kt.amount_paid)||0),0),Bt=C.studentFees.filter(Je=>{var kt,xt,At;return((xt=(kt=Je.fee)==null?void 0:kt.fee_type)==null?void 0:xt.category)==="donation"&&((At=Je.fee)==null?void 0:At.academic_year)===Rt}).reduce((Je,kt)=>Je+(parseFloat(kt.amount_paid)||0),0),Jt=Bt-ar;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg",children:[s.jsx(iB,{size:20,className:"text-slate-600"}),s.jsx("span",{className:"font-medium",children:"Filter by Year:"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Ne,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),children:"All Years"}),st.map(Je=>s.jsx(Ne,{variant:l===Je?"default":"outline",size:"sm",onClick:()=>c(Je),children:Je},Je))]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{className:"bg-blue-50 border-blue-200",children:s.jsxs(Xe,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Charges"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:["$",Ht.toFixed(2)]}),s.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"(excludes donations)"})]})}),s.jsx(Ye,{className:"bg-green-50 border-green-200",children:s.jsxs(Xe,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["$",Yr.toFixed(2)]})]})}),s.jsx(Ye,{className:`${Ht-Yr>0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:s.jsxs(Xe,{className:"p-4",children:[s.jsx("p",{className:`text-sm font-medium ${Ht-Yr>0?"text-red-600":"text-gray-600"}`,children:"Open Balance"}),s.jsxs("p",{className:`text-2xl font-bold ${Ht-Yr>0?"text-red-800":"text-gray-800"}`,children:["$",(Ht-Yr).toFixed(2)]})]})}),s.jsx(Ye,{className:"bg-pink-50 border-pink-200",children:s.jsxs(Xe,{className:"p-4",children:[s.jsxs("p",{className:"text-sm text-pink-600 font-medium flex items-center gap-1",children:[s.jsx(Dy,{size:14})," Donations Collected"]}),s.jsxs("p",{className:"text-2xl font-bold text-pink-800",children:["$",le.toFixed(2)]})]})})]}),s.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[s.jsx(Ne,{onClick:()=>xe("credit"),className:"bg-green-600 hover:bg-green-700 text-white text-lg px-6 py-5 h-auto rounded-xl shadow-lg",size:"lg",children:" Add Payment"}),s.jsx(Ne,{onClick:()=>xe("debit"),className:"bg-red-600 hover:bg-red-700 text-white text-lg px-6 py-5 h-auto rounded-xl shadow-lg",size:"lg",children:" Add Charge"})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Ye,{className:"w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ir,{className:`border-b ${f==="credit"?"bg-green-100":"bg-red-100"}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(sr,{className:`text-xl flex items-center gap-2 ${f==="credit"?"text-green-800":"text-red-800"}`,children:f==="credit"?" Add Payment":" Add Charge"}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>d(!1),children:s.jsx(Q0,{size:20})})]}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["For: ",s.jsx("strong",{children:n.name})]})]}),s.jsxs(Xe,{className:"p-6 space-y-5",children:[f==="credit"?s.jsxs(s.Fragment,{children:[et.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{className:"font-bold",children:"Payment Type"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Ne,{type:"button",onClick:()=>{V("existing"),N("")},className:`h-12 ${k==="existing"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Pay Existing Charge"}),s.jsx(Ne,{type:"button",onClick:()=>{V("new"),T("")},className:`h-12 ${k==="new"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"New Payment/Donation"})]})]}),k==="existing"&&et.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{className:"font-bold text-blue-700",children:" Select Charge to Pay"}),s.jsxs(wt,{value:S,onValueChange:T,children:[s.jsx(yt,{className:"h-14 text-lg border-2 border-blue-300",children:s.jsx(_t,{placeholder:"Select a charge..."})}),s.jsx(bt,{children:et.map(Je=>{var xt;const kt=parseFloat(Je.amount)-parseFloat(Je.amount_paid||0);return s.jsx(Le,{value:Je.id,className:"py-3",children:s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsx("span",{className:"font-medium",children:((xt=Je.fee)==null?void 0:xt.name)||"Charge"}),s.jsxs("span",{className:"text-red-600 font-bold ml-4",children:["$",kt.toFixed(2)," owed"]})]})},Je.id)})})]}),S&&s.jsxs("p",{className:"text-sm text-blue-600",children:["Balance: $",(parseFloat(((aa=et.find(Je=>Je.id===S))==null?void 0:aa.amount)||0)-parseFloat(((nn=et.find(Je=>Je.id===S))==null?void 0:nn.amount_paid)||0)).toFixed(2)]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{className:"font-bold text-green-700",children:" What is this payment for? (Optional)"}),s.jsxs(wt,{value:_||"general",onValueChange:Je=>N(Je==="general"?"":Je),children:[s.jsx(yt,{className:"h-12 border-2 border-green-300",children:s.jsx(_t,{placeholder:"General payment / donation"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"general",children:"General Payment / Donation"}),b.map(Je=>{var kt;return s.jsxs(Le,{value:Je.id,children:[Je.name," ",(kt=Je.fee_type)!=null&&kt.name?`(${Je.fee_type.name})`:""," - ",Je.academic_year]},Je.id)})]})]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{className:"font-bold text-red-700",children:" What is this charge for? *"}),s.jsxs(wt,{value:_,onValueChange:N,children:[s.jsx(yt,{className:"h-14 text-lg border-2 border-red-300",children:s.jsx(_t,{placeholder:"Select fee type..."})}),s.jsx(bt,{children:b.map(Je=>{var kt;return s.jsxs(Le,{value:Je.id,children:[Je.name," ",(kt=Je.fee_type)!=null&&kt.name?`(${Je.fee_type.name})`:""," - ",Je.academic_year]},Je.id)})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{className:"text-lg font-bold",children:"Amount ($)"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx("span",{className:`absolute left-4 top-1/2 -translate-y-1/2 text-3xl font-bold ${f==="credit"?"text-green-600":"text-red-600"}`,children:"$"}),s.jsx(Ge,{type:"number",step:"0.01",min:"0",value:p,onChange:Je=>v(Je.target.value),placeholder:"0.00",className:`text-4xl h-20 pl-12 text-center font-bold border-2 ${f==="credit"?"border-green-300 focus:border-green-500":"border-red-300 focus:border-red-500"}`})]})]}),s.jsxs("div",{children:[s.jsx(ve,{className:"text-sm",children:"Note (optional)"}),s.jsx(Nr,{value:m,onChange:Je=>x(Je.target.value),placeholder:"Additional details...",className:"mt-1",rows:2})]}),s.jsx(Ne,{onClick:de,disabled:g||!p||f==="debit"&&!_,className:`w-full h-14 text-xl ${f==="credit"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:g?"Saving...":f==="credit"?s.jsx(s.Fragment,{children:" Save Payment"}):s.jsx(s.Fragment,{children:" Save Charge"})})]})]})}),(Bt>0||ar>0)&&s.jsxs(Ye,{className:"border-2 border-pink-300 bg-gradient-to-r from-pink-50 to-purple-50",children:[s.jsx(ir,{className:"pb-2",children:s.jsxs(sr,{className:"text-lg flex items-center gap-2",children:[s.jsx(vre,{size:20,className:"text-pink-600"})," Donation Collection"]})}),s.jsxs(Xe,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-1",children:["Last Year (",kr,")"]}),s.jsxs("p",{className:"text-3xl font-bold text-slate-700",children:["$",ar.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-pink-300",children:[s.jsxs("p",{className:"text-sm text-pink-600 mb-1",children:["This Year (",Rt,")"]}),s.jsxs("p",{className:"text-3xl font-bold text-pink-700",children:["$",Bt.toFixed(2)]})]}),s.jsxs("div",{className:`p-4 rounded-lg border ${Jt>=0?"bg-green-50 border-green-300":"bg-amber-50 border-amber-300"}`,children:[s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Change"}),s.jsxs("div",{className:"flex items-center gap-2",children:[Jt>=0?s.jsx(Iy,{size:24,className:"text-green-600"}):s.jsx(Pre,{size:24,className:"text-amber-600"}),s.jsxs("p",{className:`text-3xl font-bold ${Jt>=0?"text-green-700":"text-amber-700"}`,children:[Jt>=0?"+":"","$",Jt.toFixed(2)]})]}),ar>0&&s.jsxs("p",{className:`text-xs mt-1 ${Jt>=0?"text-green-600":"text-amber-600"}`,children:[(Jt/ar*100).toFixed(0),"% ",Jt>=0?"increase":"decrease"]})]})]}),jt.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Donation Campaigns:"}),s.jsx("div",{className:"space-y-2",children:jt.map(Je=>{var kt,xt;return s.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-pink-800",children:(kt=Je.fee)==null?void 0:kt.name}),s.jsx("p",{className:"text-xs text-slate-500",children:(xt=Je.fee)==null?void 0:xt.academic_year})]}),s.jsxs("p",{className:"font-bold text-pink-600",children:["$",parseFloat(Je.amount_paid||0).toFixed(2)]})]},Je.id)})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ye,{className:"border-2 border-green-300",children:[s.jsx(ir,{className:"bg-green-50",children:s.jsxs(sr,{className:"text-lg flex items-center gap-2 text-green-800",children:[s.jsx(Jm,{size:20})," Payment History (",qt.length,")"]})}),s.jsx(Xe,{className:"p-4 space-y-3 max-h-96 overflow-y-auto",children:qt.length===0?s.jsxs("p",{className:"text-center text-slate-500 py-8",children:["No payments recorded ",l!=="all"?`for ${l}`:"yet"]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 bg-green-100 rounded-lg flex justify-between items-center mb-4",children:[s.jsx("span",{className:"font-medium text-green-800",children:"Total Paid:"}),s.jsxs("span",{className:"text-xl font-bold text-green-700",children:["$",qt.reduce((Je,kt)=>Je+parseFloat(kt.amount||0),0).toFixed(2)]})]}),qt.map(Je=>{var kt,xt;return s.jsx("div",{className:"p-3 bg-white border border-green-200 rounded-lg shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:((xt=(kt=Je.student_fee)==null?void 0:kt.fee)==null?void 0:xt.name)||"Payment"}),s.jsxs("p",{className:"text-sm text-slate-600",children:[Je.payment_method==="cash"?" Cash":Je.payment_method==="check"?" Check":Je.payment_method==="credit_card"?" Credit Card":Je.payment_method==="bank_transfer"?" Bank Transfer":Je.payment_method,Je.reference_number&&` - #${Je.reference_number}`]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[new Date(Je.payment_date).toLocaleDateString(),Je.notes&&` - ${Je.notes}`]})]}),s.jsxs("p",{className:"font-bold text-green-600 text-lg",children:["$",parseFloat(Je.amount).toFixed(2)]})]})},Je.id)})]})})]}),s.jsxs(Ye,{children:[s.jsx(ir,{className:"bg-blue-50",children:s.jsxs(sr,{className:"text-lg flex items-center gap-2 text-blue-800",children:[s.jsx(Bg,{size:20}),"Charges (",Sr.length,")"]})}),s.jsx(Xe,{className:"p-4 space-y-3 max-h-96 overflow-y-auto",children:Sr.length===0?s.jsxs("p",{className:"text-center text-slate-500 py-8",children:["No charges recorded ",l!=="all"?`for ${l}`:""]}):s.jsxs(s.Fragment,{children:[or.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-sm font-bold text-red-700 mb-2 flex items-center gap-1",children:[s.jsx(bi,{size:14})," Mandatory Fees (",or.length,")"]}),or.map(Je=>{var kt,xt,At,zr;return s.jsxs("div",{className:"p-3 mb-2 bg-red-50 border border-red-200 rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:((kt=Je.fee)==null?void 0:kt.name)||"Charge"}),s.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-red-200 text-red-800 rounded font-medium",children:"Required"})]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(At=(xt=Je.fee)==null?void 0:xt.fee_type)==null?void 0:At.name,((zr=Je.fee)==null?void 0:zr.academic_year)&&s.jsxs("span",{className:"text-blue-600 ml-2",children:["| ",Je.fee.academic_year]})]}),Je.notes&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Je.notes})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(Je.amount).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Paid: $",parseFloat(Je.amount_paid||0).toFixed(2)]}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Je.status==="paid"?"bg-green-100 text-green-800":Je.status==="partial"?"bg-blue-100 text-blue-800":Je.status==="pending"?"bg-yellow-100 text-yellow-800":Je.status==="waived"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:Je.status})]})]},Je.id)})]}),Wr.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold text-blue-700 mb-2 flex items-center gap-1",children:[s.jsx(rO,{size:14})," Optional Fees (",Wr.length,")"]}),Wr.map(Je=>{var kt,xt,At,zr;return s.jsxs("div",{className:"p-3 mb-2 bg-white border rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:((kt=Je.fee)==null?void 0:kt.name)||"Charge"}),s.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Optional"})]}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(At=(xt=Je.fee)==null?void 0:xt.fee_type)==null?void 0:At.name,((zr=Je.fee)==null?void 0:zr.academic_year)&&s.jsxs("span",{className:"text-blue-600 ml-2",children:["| ",Je.fee.academic_year]})]}),Je.notes&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Je.notes})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(Je.amount).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Paid: $",parseFloat(Je.amount_paid||0).toFixed(2)]}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Je.status==="paid"?"bg-green-100 text-green-800":Je.status==="partial"?"bg-blue-100 text-blue-800":Je.status==="pending"?"bg-yellow-100 text-yellow-800":Je.status==="waived"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:Je.status})]})]},Je.id)})]})]})})]})]})]})})()}),s.jsx(Ur,{value:"workflow",className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Student Plans"}),s.jsxs(Ne,{size:"sm",onClick:()=>{H(null),G(!0)},children:[s.jsx(Zr,{size:14,className:"mr-1"})," New Plan"]})]}),C.plans.length>0?s.jsx("div",{className:"space-y-3",children:C.plans.map(Se=>{var st;return s.jsx(Ye,{className:"cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>{H(Se),G(!0)},children:s.jsxs(Xe,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ts,{size:18,className:"text-blue-500"}),s.jsxs("span",{className:"font-semibold",children:["Plan created ",new Date(Se.created_at).toLocaleDateString()]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${Se.status==="active"?"bg-green-100 text-green-800":Se.status==="approved"?"bg-blue-100 text-blue-800":Se.status==="needs_adjustment"?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"}`,children:(st=Se.status)==null?void 0:st.replace("_"," ")})]}),s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-2",children:Se.goals}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Se.interventions&&Se.interventions.length>0&&s.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:[Se.interventions.length," intervention",Se.interventions.length!==1?"s":""]}),s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded capitalize",children:[Se.review_frequency||"monthly"," reviews"]})]})]})},Se.id)})}):s.jsx(Ye,{className:"bg-slate-50",children:s.jsxs(Xe,{className:"p-8 text-center text-slate-500",children:[s.jsx(Ts,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No plans created yet"}),s.jsx(Ne,{size:"sm",className:"mt-3",onClick:()=>G(!0),children:"Create First Plan"})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Progress Reviews"}),C.progress_reviews.length>0?s.jsx("div",{className:"space-y-3",children:C.progress_reviews.map(Se=>s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Se.progress_rating==="excellent"&&s.jsx(Iy,{className:"text-green-600",size:18}),Se.progress_rating==="good"&&s.jsx(wi,{className:"text-blue-600",size:18}),Se.progress_rating==="fair"&&s.jsx(Ss,{className:"text-yellow-600",size:18}),Se.progress_rating==="poor"&&s.jsx(bi,{className:"text-red-600",size:18}),s.jsxs("span",{className:"font-semibold capitalize",children:[Se.progress_rating," Progress"]})]}),s.jsx("span",{className:"text-xs text-slate-500",children:new Date(Se.created_at).toLocaleDateString()})]}),Se.notes&&s.jsx("p",{className:"text-sm text-slate-600 mb-2",children:Se.notes}),Se.concerns&&s.jsxs("div",{className:"text-xs bg-orange-50 border border-orange-200 rounded p-2 mb-2",children:[s.jsx("span",{className:"font-semibold text-orange-800",children:"Concerns: "}),s.jsx("span",{className:"text-orange-700",children:Se.concerns})]}),Se.escalate_to_mz&&s.jsxs("div",{className:"text-xs bg-red-50 border border-red-200 rounded p-2 flex items-center gap-1",children:[s.jsx(bi,{size:12,className:"text-red-600"}),s.jsx("span",{className:"text-red-800 font-semibold",children:"Escalated to M.Z. - Needs Plan Adjustment"})]})]})},Se.id))}):s.jsx(Ye,{className:"bg-slate-50",children:s.jsxs(Xe,{className:"p-8 text-center text-slate-500",children:[s.jsx(Iy,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No progress reviews yet"})]})})]})]})}),s.jsxs(Ur,{value:"academic",className:"mt-6 space-y-6",children:[s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{children:"Performance Trends"})}),s.jsx(Xe,{className:"h-80",children:ge.length>0?s.jsx(FCe,{width:"100%",height:"100%",children:s.jsxs(BRe,{data:ge,children:[s.jsx(TG,{strokeDasharray:"3 3"}),s.jsx(w_,{dataKey:"date"}),s.jsx(__,{}),s.jsx(fl,{}),s.jsx(yx,{type:"monotone",dataKey:"grade",stroke:"#2563eb",strokeWidth:2})]})}):s.jsx("div",{className:"flex h-full items-center justify-center text-slate-400",children:"No grade data available"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Grade History"}),s.jsxs("div",{className:"bg-white rounded border divide-y max-h-[400px] overflow-y-auto",children:[C.grades.map(Se=>s.jsxs("div",{className:"p-3 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Se.subject}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(Se.date).toLocaleDateString()})]}),s.jsx("span",{className:"font-bold bg-slate-100 px-2 py-1 rounded",children:Se.grade})]},Se.id)),C.grades.length===0&&s.jsx("p",{className:"p-4 text-center text-slate-400",children:"No grades recorded."})]})]})})]}),s.jsx(Ur,{value:"communication",className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs(Ye,{children:[s.jsxs(ir,{className:"flex flex-row items-center justify-between",children:[s.jsx(sr,{children:"Detailed Call History"}),s.jsxs("span",{className:"text-sm text-slate-500",children:[C.calls.length," Total Calls"]})]}),s.jsx(Xe,{children:s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-600 font-medium border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Date & Time"}),s.jsx("th",{className:"px-4 py-3",children:"Contact"}),s.jsx("th",{className:"px-4 py-3",children:"Outcome"}),s.jsx("th",{className:"px-4 py-3",children:"Notes"}),s.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),s.jsxs("tbody",{className:"divide-y",children:[C.calls.map(Se=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:new Date(Se.created_at).toLocaleDateString()}),s.jsx("span",{className:"text-xs text-slate-500",children:new Date(Se.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("p",{className:"font-medium",children:Se.contact_person}),s.jsx("p",{className:"text-xs text-slate-500",children:Se.phone_number})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-slate-100 text-slate-700 border",children:Se.outcome||"N/A"})}),s.jsx("td",{className:"px-4 py-3 max-w-xs truncate",title:Se.notes,children:Se.notes||"-"}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsxs("span",{className:"flex items-center text-green-600 gap-1 text-xs",children:[s.jsx(wi,{size:14})," Logged"]}),Se.follow_up_date&&s.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[s.jsx(Ss,{size:10})," ",new Date(Se.follow_up_date).toLocaleDateString()]})]})]},Se.id)),C.calls.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-400",children:"No call logs found for this student."})})]})]})})})]}),s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{children:"Meetings"})}),s.jsxs(Xe,{className:"space-y-4",children:[C.meetings.map(Se=>s.jsxs("div",{className:"flex gap-3 items-start p-3 bg-slate-50 rounded",children:[s.jsx(Ps,{className:"shrink-0 text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Se.title}),s.jsxs("p",{className:"text-sm text-slate-600",children:[new Date(Se.meeting_date).toLocaleDateString()," at ",new Date(Se.meeting_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1 capitalize",children:["Status: ",Se.status]})]})]},Se.id)),C.meetings.length===0&&s.jsx("p",{className:"text-center text-slate-400",children:"No meetings scheduled."})]})]})]})}),s.jsxs(Ur,{value:"intervention",className:"mt-6 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h3",{className:"text-xl font-bold",children:"Assessments & Plans"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-slate-600",children:"Assessments History"}),C.assessments.map(Se=>s.jsx(Ye,{className:"cursor-pointer hover:border-blue-300 transition-colors",onClick:()=>{I(Se),q(!0)},children:s.jsxs(Xe,{className:"p-4 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ts,{className:"text-slate-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[Se.template_id?"Custom Assessment":"Standard Assessment",s.jsx("span",{className:"text-slate-400 mx-2",children:"|"}),new Date(Se.date).toLocaleDateString()]}),s.jsxs("p",{className:"text-xs text-slate-500",children:["By ",Se.teacher_name]})]})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${Se.status==="draft"?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:Se.status})]})},Se.id)),C.assessments.length===0&&s.jsx("div",{className:"border-2 border-dashed border-slate-200 rounded p-6 text-center text-slate-400",children:"No assessments created yet."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-slate-600",children:"Intervention Plans"}),s.jsx(Ye,{className:"bg-slate-50",children:s.jsxs(Xe,{className:"p-4 text-center text-slate-500 italic flex flex-col items-center",children:[s.jsx(rO,{className:"mb-2"}),"Intervention plans are typically generated from Finalized Assessments."]})})]})]})]}),s.jsxs(Ur,{value:"notes",className:"mt-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Notes / Communication Log"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>{ce({subject:`About ${n.hebrew_name||n.first_name||n.name}`,body:`Information about ${n.hebrew_name||n.first_name||n.name}

`}),Ie(!0)},children:[s.jsx(pa,{size:14,className:"ml-1"})," Email"]}),s.jsxs(Ne,{size:"sm",onClick:()=>{ae(null),Q({title:"",content:"",note_type:"general",edit_mode:"update"}),se(!0)},children:[s.jsx(Zr,{size:14,className:"ml-1"})," New Note"]})]})]}),J.length===0?s.jsx(Ye,{className:"bg-slate-50",children:s.jsxs(Xe,{className:"p-8 text-center text-slate-500",children:[s.jsx(p0,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No notes recorded yet"}),s.jsx(Ne,{size:"sm",className:"mt-3",onClick:()=>{ae(null),Q({title:"",content:"",note_type:"general",edit_mode:"update"}),se(!0)},children:"Add First Note"})]})}):s.jsx("div",{className:"space-y-3",children:J.map(Se=>{var st;return s.jsx(Ye,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx(Ct,{variant:"outline",className:"text-xs",children:((st=Be.find(it=>it.value===Se.note_type))==null?void 0:st.label)||Se.note_type}),Se.title&&s.jsx("span",{className:"font-bold",children:Se.title}),Se.edit_mode==="edit"&&s.jsx(Ct,{className:"bg-orange-100 text-orange-800 text-xs",children:"Edited"})]}),s.jsx("p",{className:"text-slate-700 mt-1",children:Se.content}),Se.previous_content&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-orange-600 cursor-pointer",children:"Previous version"}),s.jsx("p",{className:"text-xs text-slate-400 mt-1 p-2 bg-slate-50 rounded",children:Se.previous_content})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-400",children:[s.jsx("span",{children:new Date(Se.created_at).toLocaleDateString("he-IL")}),s.jsx("span",{children:new Date(Se.created_at).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})}),Se.created_by_name&&s.jsxs("span",{children:["By: ",Se.created_by_name]})]})]}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{ae(Se),Q({title:Se.title||"",content:Se.content,note_type:Se.note_type,edit_mode:"edit"}),se(!0)},children:s.jsx(ma,{size:14})})]})})},Se.id)})})]}),s.jsxs(Ur,{value:"late-arrivals",className:"mt-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Ss,{size:20,className:"text-orange-600"})," Late Arrival History"]}),L.length>0&&s.jsxs(Ct,{className:"bg-orange-100 text-orange-800 text-sm px-3 py-1",children:[L.length," times late"]})]}),L.length>0&&(()=>{const Se={};return L.forEach(st=>{const it=new Date(st.date).toLocaleDateString("he-IL",{year:"numeric",month:"long"});Se[it]=(Se[it]||0)+1}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(Se).slice(0,4).map(([st,it])=>s.jsx(Ye,{className:"bg-orange-50 border-orange-200",children:s.jsxs(Xe,{className:"p-3 text-center",children:[s.jsx("p",{className:"text-sm text-orange-600",children:st}),s.jsx("p",{className:"text-2xl font-bold text-orange-800",children:it}),s.jsx("p",{className:"text-xs text-orange-500",children:"times late"})]})},st))})})(),L.length===0?s.jsx(Ye,{className:"bg-green-50 border-green-200",children:s.jsxs(Xe,{className:"p-8 text-center",children:[s.jsx(wi,{size:48,className:"mx-auto mb-4 text-green-400"}),s.jsx("p",{className:"text-green-700 font-medium",children:"No late arrivals recorded"})]})}):s.jsx(Ye,{children:s.jsx(Xe,{className:"p-0",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Arrival Time"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Minutes Late"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Reason"}),s.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Notes"})]})}),s.jsx("tbody",{className:"divide-y",children:L.map(Se=>s.jsxs("tr",{className:"hover:bg-orange-50 transition-colors",children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("span",{className:"font-medium",children:new Date(Se.date).toLocaleDateString("he-IL")}),s.jsx("span",{className:"block text-xs text-slate-400",children:new Date(Se.date).toLocaleDateString("he-IL",{weekday:"long"})})]}),s.jsx("td",{className:"px-4 py-3",children:Se.arrival_time||""}),s.jsx("td",{className:"px-4 py-3",children:Se.minutes_late?s.jsxs(Ct,{className:Se.minutes_late>15?"bg-red-100 text-red-800":Se.minutes_late>5?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800",children:[Se.minutes_late," min"]}):""}),s.jsx("td",{className:"px-4 py-3 max-w-[200px]",children:Se.reason||""}),s.jsx("td",{className:"px-4 py-3 max-w-[200px] text-slate-500",children:Se.notes||""})]},Se.id))})]})})})]}),M&&s.jsxs(Ur,{value:"special-ed",className:"mt-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Dy,{size:20,className:"text-pink-600"})," Special Education Information"]}),s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[s.jsxs(Ct,{className:"bg-blue-100 text-blue-800",children:["Status: ",M.status]}),M.referral_reason&&s.jsxs(Ct,{variant:"outline",children:["Reason: ",M.referral_reason]})]})]}),((ze=M.info_sources)==null?void 0:ze.length)>0&&s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{className:"text-lg",children:"Information Sources"})}),s.jsx(Xe,{className:"space-y-2",children:M.info_sources.map(Se=>s.jsxs("div",{className:"p-3 bg-slate-50 rounded border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ct,{variant:"outline",className:"text-xs",children:Se.source_type}),Se.source_name&&s.jsx("span",{className:"font-medium text-sm",children:Se.source_name}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(Se.created_at).toLocaleDateString("he-IL")})]}),s.jsx("p",{className:"text-sm",children:Se.content})]},Se.id))})]}),((tt=M.evaluations)==null?void 0:tt.length)>0&&s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{className:"text-lg",children:"Evaluations"})}),s.jsx(Xe,{className:"space-y-3",children:M.evaluations.map(Se=>s.jsxs("div",{className:"p-3 border rounded",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx(Ct,{className:Se.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:Se.status}),s.jsx("span",{className:"text-xs text-slate-400",children:Se.evaluation_date&&new Date(Se.evaluation_date).toLocaleDateString("he-IL")})]}),Se.evaluator_name&&s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Evaluator:"})," ",Se.evaluator_name]}),Se.results&&s.jsxs("p",{className:"text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Results:"})," ",Se.results]}),Se.recommendations&&s.jsxs("p",{className:"text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Recommendations:"})," ",Se.recommendations]}),Se.action_plan&&s.jsxs("p",{className:"text-sm mt-1",children:[s.jsx("span",{className:"font-medium",children:"Plan:"})," ",Se.action_plan]})]},Se.id))})]}),((ht=M.tutoring)==null?void 0:ht.length)>0&&s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{className:"text-lg",children:"Private Tutoring"})}),s.jsx(Xe,{children:s.jsx("div",{className:"space-y-2",children:M.tutoring.map(Se=>{var st,it;return s.jsxs("div",{className:"p-3 bg-purple-50 rounded border border-purple-200",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((st=Se.tutor)==null?void 0:st.hebrew_name)||((it=Se.tutor)==null?void 0:it.name)||Se.tutor_name}),s.jsx("p",{className:"text-sm text-slate-600",children:Se.subject})]}),s.jsx("div",{className:"text-left text-sm",children:s.jsxs("p",{children:[Se.day_of_week," ",Se.start_time,"",Se.end_time]})})]}),Se.notes&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:Se.notes})]},Se.id)})})})]}),M.notes&&s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{className:"text-lg",children:"Notes"})}),s.jsx(Xe,{children:s.jsx("p",{children:M.notes})})]})]})]}),s.jsx(Zt,{open:Z,onOpenChange:se,children:s.jsxs(Xt,{className:"max-w-lg",dir:"rtl",children:[s.jsx(er,{children:s.jsxs(tr,{children:[W?"Edit Note":"New Note"," - ",n.hebrew_name||n.first_name||n.name]})}),s.jsxs("div",{className:"space-y-4 py-2",children:[W&&s.jsxs("div",{children:[s.jsx(ve,{children:"Mode"}),s.jsxs(wt,{value:fe.edit_mode,onValueChange:Se=>Q({...fe,edit_mode:Se}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"update",children:"UPDATE - Keep old, add new"}),s.jsx(Le,{value:"edit",children:"EDIT - Replace text (keep record)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Type"}),s.jsxs(wt,{value:fe.note_type,onValueChange:Se=>Q({...fe,note_type:Se}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:Be.map(Se=>s.jsx(Le,{value:Se.value,children:Se.label},Se.value))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Title"}),s.jsx(Ge,{value:fe.title,onChange:Se=>Q({...fe,title:Se.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Content *"}),s.jsx(Nr,{value:fe.content,onChange:Se=>Q({...fe,content:Se.target.value}),rows:5,placeholder:"What was discussed..."})]})]}),s.jsxs(yr,{className:"flex justify-between",children:[s.jsxs(Ne,{variant:"outline",onClick:()=>{ce({subject:`Note - ${n.hebrew_name||n.first_name||n.name}`,body:`${fe.title?fe.title+`

`:""}${fe.content}`}),Ie(!0)},children:[s.jsx(pa,{size:14,className:"ml-1"})," Send Email"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),s.jsx(Ne,{onClick:we,children:W&&fe.edit_mode==="edit"?"EDIT - Replace":"UPDATE - Add"})]})]})]})}),s.jsx(Oc,{isOpen:ke,onClose:()=>Ie(!1),defaultSubject:Ae.subject,defaultBody:Ae.body}),s.jsx(qRe,{isOpen:R,onClose:()=>{G(!1),H(null)},studentId:e,plan:F,onSuccess:()=>{at(),G(!1),H(null)}})]})},Ra=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:wr("w-full caption-bottom text-sm",e),...t})}));Ra.displayName="Table";const $a=O.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:wr("[&_tr]:border-b",e),...t}));$a.displayName="TableHeader";const Ba=O.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:wr("[&_tr:last-child]:border-0",e),...t}));Ba.displayName="TableBody";const GRe=O.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:wr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));GRe.displayName="TableFooter";const br=O.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:wr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));br.displayName="TableRow";const dt=O.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:wr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));dt.displayName="TableHead";const ct=O.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:wr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ct.displayName="TableCell";const KRe=O.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:wr("mt-4 text-sm text-muted-foreground",e),...t}));KRe.displayName="TableCaption";const YRe=({role:e,currentUser:t})=>{XT();const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState(!0),[u,d]=O.useState("grid"),[f,h]=O.useState({search:"",class_id:"all",grade_id:"all",hasOpenIssues:"all"}),[p,v]=O.useState([]),[m,x]=O.useState([]),[g,y]=O.useState(!1),[b,j]=O.useState(null),[_,N]=O.useState(!1),[S,T]=O.useState(!1),[k,V]=O.useState(()=>localStorage.getItem("viewingStudentId")||null),[C,P]=O.useState([]),[U,q]=O.useState(!1),[z,I]=O.useState({date:new Date().toISOString().split("T")[0],status:"present",note:""});O.useEffect(()=>{k?localStorage.setItem("viewingStudentId",k):localStorage.removeItem("viewingStudentId")},[k]),O.useEffect(()=>{G(),R()},[e,t]),O.useEffect(()=>{F()},[n,f]);const R=async()=>{try{const{data:Y,error:Z}=await Te.from("classes").select("id, name, grade_id, grade:grades!grade_id(name)").order("name");Z?console.error("Error loading classes:",Z):(console.log("Loaded classes:",Y==null?void 0:Y.length),v(Y||[]));const{data:se,error:W}=await Te.from("grades").select("*").order("grade_number");W?console.error("Error loading grades:",W):(console.log("Loaded grades:",se==null?void 0:se.length),x(se||[]))}catch(Y){console.error("Error loading filters:",Y)}},G=async()=>{c(!0);try{let Y=Te.from("students").select(`
          *,
          class:classes!class_id(id, name, grade_id, grade:grades(id, name))
        `);if(e==="teacher"||e==="teacher_hebrew"||e==="teacher_english"){const{data:fe}=await Te.from("classes").select("id").or(`hebrew_teacher_id.eq.${t==null?void 0:t.id},english_teacher_id.eq.${t==null?void 0:t.id}`),Q=(fe==null?void 0:fe.map(ke=>ke.id))||[];if(Q.length>0)Y=Y.in("class_id",Q);else{a([]),c(!1);return}}else if(e==="tutor"){const{data:fe}=await Te.from("tutor_assignments").select("student_id").eq("tutor_id",t==null?void 0:t.id).eq("is_active",!0),Q=(fe==null?void 0:fe.map(ke=>ke.student_id))||[];if(Q.length>0)Y=Y.in("id",Q);else{a([]),c(!1);return}}const{data:Z,error:se}=await Y.order("last_name");if(se)throw se;let W={};try{const{data:fe}=await Te.from("student_issues").select("student_id, status");fe&&fe.forEach(Q=>{W[Q.student_id]||(W[Q.student_id]=[]),W[Q.student_id].push(Q)})}catch{}const ae=(Z||[]).map(fe=>({...fe,open_issues_count:(W[fe.id]||[]).filter(Q=>Q.status==="open"||Q.status==="in_progress").length}));a(ae)}catch(Y){console.error("Error loading students:",Y),r({variant:"destructive",title:"Error",description:"Failed to load students"})}finally{c(!1)}},F=()=>{let Y=[...n];if(f.search){const Z=f.search.toLowerCase();Y=Y.filter(se=>{var W,ae,fe,Q,ke;return((W=se.first_name)==null?void 0:W.toLowerCase().includes(Z))||((ae=se.last_name)==null?void 0:ae.toLowerCase().includes(Z))||((fe=se.hebrew_name)==null?void 0:fe.toLowerCase().includes(Z))||((Q=se.father_name)==null?void 0:Q.toLowerCase().includes(Z))||((ke=se.mother_name)==null?void 0:ke.toLowerCase().includes(Z))})}f.class_id!=="all"&&(Y=Y.filter(Z=>Z.class_id===f.class_id)),f.grade_id!=="all"&&(Y=Y.filter(Z=>{var se;return((se=Z.class)==null?void 0:se.grade_id)===f.grade_id})),f.hasOpenIssues!=="all"&&(Y=Y.filter(Z=>{const se=Z.open_issues_count>0;return f.hasOpenIssues==="yes"?se:!se})),o(Y)},H=async Y=>{if(window.confirm("Are you sure you want to delete this student? This cannot be undone."))try{const{error:Z}=await Te.from("students").delete().eq("id",Y);if(Z)throw Z;r({title:"Success",description:"Student deleted"}),G()}catch(Z){console.error("Error deleting student:",Z),r({variant:"destructive",title:"Error",description:"Could not delete student"})}},J=Y=>{Y.target.checked?P(i.map(Z=>Z.id)):P([])},A=Y=>{P(Z=>Z.includes(Y)?Z.filter(se=>se!==Y):[...Z,Y])},M=async()=>{if(C.length===0)return;const Y=C.map(Z=>({student_id:Z,date:z.date,status:z.status,note:z.note}));await Te.from("attendance").insert(Y),r({title:"Success",description:"Attendance marked"}),q(!1),P([])},K=()=>{h({search:"",class_id:"all",grade_id:"all",hasOpenIssues:"all"})},L=Y=>Y.first_name&&Y.last_name?`${Y.first_name} ${Y.last_name}`:Y.first_name||Y.last_name||"Unnamed";return k?s.jsx(WG,{studentId:k,onBack:()=>V(null)}):l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Students"}),s.jsx("p",{className:"text-slate-600 mt-1",children:e==="teacher"||e==="teacher_hebrew"||e==="teacher_english"?"Students in your classes":e==="tutor"?"Your assigned students":`${n.length} students registered`})]}),s.jsxs("div",{className:"flex gap-2",children:[["principal","principal_hebrew","principal_english","admin"].includes(e)&&s.jsxs(Ne,{variant:"outline",onClick:()=>T(!0),className:"flex items-center gap-2",children:[s.jsx(oB,{size:18})," Import"]}),["principal","principal_hebrew","principal_english","admin","teacher","teacher_hebrew","teacher_english"].includes(e)&&s.jsxs(Ne,{onClick:()=>{j(null),y(!0)},className:"bg-gradient-to-r from-blue-500 to-blue-600",children:[s.jsx(Zr,{size:20,className:"mr-2"})," Add Student"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"flex-1 flex flex-wrap gap-2",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-md",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search students...",value:f.search,onChange:Y=>h(Z=>({...Z,search:Y.target.value})),className:"w-full pl-9 pr-4 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),s.jsxs(wt,{value:f.grade_id,onValueChange:Y=>h(Z=>({...Z,grade_id:Y})),children:[s.jsx(yt,{className:"w-[140px]",children:s.jsx(_t,{placeholder:"Grade"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Grades"}),m.map(Y=>s.jsx(Le,{value:Y.id,children:Y.name},Y.id))]})]}),s.jsxs(wt,{value:f.class_id,onValueChange:Y=>h(Z=>({...Z,class_id:Y})),children:[s.jsx(yt,{className:"w-[140px]",children:s.jsx(_t,{placeholder:"Class"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Classes"}),p.map(Y=>{var Z;return s.jsxs(Le,{value:Y.id,children:[Y.name," (",(Z=Y.grade)==null?void 0:Z.name,")"]},Y.id)})]})]}),s.jsxs(wt,{value:f.hasOpenIssues,onValueChange:Y=>h(Z=>({...Z,hasOpenIssues:Y})),children:[s.jsx(yt,{className:"w-[140px]",children:s.jsx(_t,{placeholder:"Issues"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"Any Status"}),s.jsx(Le,{value:"yes",children:"Has Open Issues"}),s.jsx(Le,{value:"no",children:"No Open Issues"})]})]}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:K,title:"Clear Filters",className:"text-slate-500",children:s.jsx(Q0,{size:18})})]}),s.jsx("div",{className:"flex items-center gap-2 border-l pl-4",children:s.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>d("grid"),className:`p-1.5 rounded-md transition-all ${u==="grid"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:s.jsx(yre,{size:18})}),s.jsx("button",{onClick:()=>d("list"),className:`p-1.5 rounded-md transition-all ${u==="list"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:s.jsx(oC,{size:18})})]})})]}),C.length>0&&s.jsxs("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded-md border border-blue-100 animate-in slide-in-from-top-2",children:[s.jsxs("span",{className:"text-sm font-medium text-blue-800 ml-2",children:[C.length," students selected"]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Ne,{size:"sm",variant:"outline",className:"bg-white text-blue-700 hover:bg-blue-50 border-blue-200",onClick:()=>q(!0),children:[s.jsx(zd,{size:16,className:"mr-2"})," Mark Attendance"]})})]})]}),u==="grid"?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(Y=>{var Z,se,W;return s.jsxs("div",{className:`bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 p-6 border-2 ${C.includes(Y.id)?"border-blue-500 bg-blue-50/10":"border-transparent"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:C.includes(Y.id),onChange:()=>A(Y.id),className:"mt-1 w-4 h-4 rounded border-slate-300"}),s.jsxs("div",{className:"cursor-pointer group",onClick:()=>V(Y.id),children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 group-hover:text-blue-600 transition-colors",children:L(Y)}),Y.hebrew_name&&s.jsx("p",{className:"text-sm text-slate-500",dir:"rtl",children:Y.hebrew_name}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Ct,{variant:"secondary",className:"text-xs",children:((Z=Y.class)==null?void 0:Z.name)||"No Class"}),Y.open_issues_count>0&&s.jsxs(Ct,{variant:"destructive",className:"text-xs",children:[Y.open_issues_count," Issues"]})]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[["principal","principal_hebrew","principal_english","admin","teacher","teacher_hebrew","teacher_english"].includes(e)&&s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>{j(Y),y(!0)},children:s.jsx(ma,{size:16})}),["principal","principal_hebrew","principal_english","admin"].includes(e)&&s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>H(Y.id),className:"hover:text-red-600",children:s.jsx(za,{size:16})})]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-left mt-4 border-t pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(sC,{size:14}),s.jsx("span",{children:((W=(se=Y.class)==null?void 0:se.grade)==null?void 0:W.name)||"No Grade"})]}),Y.father_name&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(as,{size:14}),s.jsx("span",{children:Y.father_name}),Y.father_phone&&s.jsxs("span",{className:"text-xs text-slate-400",children:["(",Y.father_phone,")"]})]}),Y.mother_name&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(as,{size:14}),s.jsx("span",{children:Y.mother_name}),Y.mother_phone&&s.jsxs("span",{className:"text-xs text-slate-400",children:["(",Y.mother_phone,")"]})]})]}),s.jsx(Ne,{onClick:()=>V(Y.id),variant:"outline",className:"w-full mt-4 text-sm h-8",children:"View Profile"})]},Y.id)}),i.length===0&&s.jsx("div",{className:"col-span-full py-12 text-center text-slate-500",children:"No students found matching your filters."})]}):s.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{className:"w-[50px]",children:s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded",onChange:J,checked:i.length>0&&C.length===i.length})}),s.jsx(dt,{children:"Student Name"}),s.jsx(dt,{children:"Hebrew Name"}),s.jsx(dt,{children:"Class"}),s.jsx(dt,{children:"Grade"}),s.jsx(dt,{children:"Parents"}),s.jsx(dt,{children:"Status"}),s.jsx(dt,{className:"text-right",children:"Actions"})]})}),s.jsxs(Ba,{children:[i.map(Y=>{var Z,se,W;return s.jsxs(br,{className:C.includes(Y.id)?"bg-blue-50":"",children:[s.jsx(ct,{children:s.jsx("input",{type:"checkbox",checked:C.includes(Y.id),onChange:()=>A(Y.id),className:"w-4 h-4 rounded"})}),s.jsx(ct,{className:"font-medium cursor-pointer hover:text-blue-600",onClick:()=>V(Y.id),children:L(Y)}),s.jsx(ct,{dir:"rtl",className:"text-slate-600",children:Y.hebrew_name||"-"}),s.jsx(ct,{children:s.jsx(Ct,{variant:"outline",children:((Z=Y.class)==null?void 0:Z.name)||"-"})}),s.jsx(ct,{className:"text-sm",children:((W=(se=Y.class)==null?void 0:se.grade)==null?void 0:W.name)||"-"}),s.jsxs(ct,{className:"text-xs text-slate-500",children:[Y.father_name&&s.jsx("div",{children:Y.father_name}),Y.mother_name&&s.jsx("div",{children:Y.mother_name})]}),s.jsx(ct,{children:Y.open_issues_count>0&&s.jsxs("div",{className:"flex items-center text-amber-600 text-xs font-medium",children:[s.jsx(bi,{size:14,className:"mr-1"})," ",Y.open_issues_count," Open"]})}),s.jsx(ct,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>V(Y.id),children:s.jsx(zd,{size:16})}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>{j(Y),y(!0)},children:s.jsx(ma,{size:16})})]})})]},Y.id)}),i.length===0&&s.jsx(br,{children:s.jsx(ct,{colSpan:8,className:"h-24 text-center text-slate-500",children:"No results found."})})]})]})}),s.jsx(sue,{isOpen:g,onClose:()=>{y(!1),j(null)},student:b,onSuccess:G}),s.jsx(oue,{isOpen:_,onClose:()=>{N(!1),j(null)},student:b}),s.jsx(cxe,{isOpen:S,onClose:()=>T(!1),onSuccess:G}),s.jsx(Zt,{open:U,onOpenChange:q,children:s.jsxs(Xt,{className:"sm:max-w-[425px]",children:[s.jsx(er,{children:s.jsx(tr,{children:"Mark Attendance"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Date"}),s.jsx("input",{type:"date",value:z.date,onChange:Y=>I({...z,date:Y.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Status"}),s.jsxs("select",{value:z.status,onChange:Y=>I({...z,status:Y.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"present",children:"Present"}),s.jsx("option",{value:"absent",children:"Absent"}),s.jsx("option",{value:"late",children:"Late"}),s.jsx("option",{value:"excused",children:"Excused"})]})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),s.jsx(Ne,{onClick:M,children:"Save"})]})]})})]})},XRe=({role:e,currentUser:t})=>{var $e,et,xe,de,Be;const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!0),[f,h]=O.useState(""),[p,v]=O.useState("all"),[m,x]=O.useState("all"),[g,y]=O.useState(!1),[b,j]=O.useState(null),[_,N]=O.useState({student_id:"",title:"",description:"",category:"academic",severity:"medium",assigned_to:""}),[S,T]=O.useState(!1),[k,V]=O.useState(!1),[C,P]=O.useState(""),[U,q]=O.useState(""),[z,I]=O.useState(null),[R,G]=O.useState(!1),[F,H]=O.useState([]),[J,A]=O.useState(""),M=[{value:"academic",label:"Academic"},{value:"behavioral",label:"Behavioral"},{value:"attendance",label:"Attendance"},{value:"social",label:"Social"},{value:"health",label:"Health"},{value:"other",label:"Other"}],K=[{value:"low",label:"Low",color:"bg-green-100 text-green-700"},{value:"medium",label:"Medium",color:"bg-yellow-100 text-yellow-700"},{value:"high",label:"High",color:"bg-orange-100 text-orange-700"},{value:"critical",label:"Critical",color:"bg-red-100 text-red-700"}],L=[{value:"open",label:"Open",color:"bg-blue-100 text-blue-700"},{value:"in_progress",label:"In Progress",color:"bg-purple-100 text-purple-700"},{value:"resolved",label:"Resolved",color:"bg-green-100 text-green-700"},{value:"closed",label:"Closed",color:"bg-slate-100 text-slate-700"}];O.useEffect(()=>{Y()},[]);const Y=async()=>{d(!0);try{const{data:we,error:ge}=await Te.from("student_issues").select(`
          *,
          student:students(id, first_name, last_name, class_id),
          reporter:app_users!reported_by(id, first_name, last_name),
          assignee:app_users!assigned_to(id, first_name, last_name)
        `).order("created_at",{ascending:!1});if(ge)throw ge;a(we||[]);const{data:ze,error:tt}=await Te.from("students").select("id, first_name, last_name").eq("status","active").order("last_name");if(tt)throw tt;o(ze||[]);const{data:ht,error:Se}=await Te.from("app_users").select("id, first_name, last_name, role").eq("is_active",!0).order("last_name");if(Se)throw Se;c(ht||[])}catch(we){console.error("Error loading data:",we),r({variant:"destructive",title:"Error",description:"Failed to load issues"})}finally{d(!1)}},Z=n.filter(we=>{var Se,st;const ge=`${((Se=we.student)==null?void 0:Se.first_name)||""} ${((st=we.student)==null?void 0:st.last_name)||""}`.toLowerCase(),ze=we.title.toLowerCase().includes(f.toLowerCase())||ge.includes(f.toLowerCase()),tt=p==="all"||we.status===p,ht=m==="all"||we.category===m;return ze&&tt&&ht}),se=n.filter(we=>we.status==="open").length,W=n.filter(we=>we.status==="in_progress").length,ae=n.filter(we=>we.severity==="critical"&&we.status!=="resolved"&&we.status!=="closed").length,fe=(we=null)=>{we?(j(we),N({student_id:we.student_id||"",title:we.title||"",description:we.description||"",category:we.category||"academic",severity:we.severity||"medium",assigned_to:we.assigned_to||""})):(j(null),N({student_id:"",title:"",description:"",category:"academic",severity:"medium",assigned_to:""})),y(!0)},Q=async()=>{if(!_.student_id||!_.title||!_.description){r({variant:"destructive",title:"Error",description:"Please fill in all required fields"});return}try{const we={student_id:_.student_id,title:_.title,description:_.description,category:_.category,severity:_.severity,assigned_to:_.assigned_to||null};if(b){const{error:ge}=await Te.from("student_issues").update(we).eq("id",b.id);if(ge)throw ge;r({title:"Success",description:"Issue updated"})}else{we.reported_by=t==null?void 0:t.id,we.status="open";const{error:ge}=await Te.from("student_issues").insert([we]);if(ge)throw ge;r({title:"Success",description:"Issue created"});const ze=i.find(ht=>ht.id===we.student_id),tt=ze?`${ze.first_name} ${ze.last_name}`:"";P(`New Issue Reported: ${we.title}`),q(`A new issue has been reported:

Title: ${we.title}
Student: ${tt}
Category: ${we.category}
Severity: ${we.severity}
`+(we.description?`Description: ${we.description}
`:"")+`
Reported by: ${(t==null?void 0:t.name)||(t==null?void 0:t.email)||"System"}`),y(!1),Y(),T(!0);return}y(!1),Y()}catch(we){console.error("Error saving issue:",we),r({variant:"destructive",title:"Error",description:"Failed to save issue"})}},ke=async we=>{if(confirm("Are you sure you want to delete this issue?"))try{const{error:ge}=await Te.from("student_issues").delete().eq("id",we);if(ge)throw ge;r({title:"Success",description:"Issue deleted"}),Y()}catch(ge){console.error("Error deleting issue:",ge),r({variant:"destructive",title:"Error",description:"Failed to delete issue"})}},Ie=async(we,ge)=>{try{const ze={status:ge};ge==="resolved"&&(ze.resolved_at=new Date().toISOString(),ze.resolved_by=t==null?void 0:t.id);const{error:tt}=await Te.from("student_issues").update(ze).eq("id",we);if(tt)throw tt;r({title:"Success",description:"Status updated"}),Y()}catch(ze){console.error("Error updating status:",ze),r({variant:"destructive",title:"Error",description:"Failed to update status"})}},Ae=async we=>{I(we),G(!0);try{const{data:ge,error:ze}=await Te.from("issue_comments").select("*, user:app_users(first_name, last_name)").eq("issue_id",we.id).order("created_at",{ascending:!0});if(ze)throw ze;H(ge||[])}catch(ge){console.error("Error loading comments:",ge)}},ce=async()=>{if(!(!J.trim()||!z))try{const{error:we}=await Te.from("issue_comments").insert([{issue_id:z.id,user_id:t==null?void 0:t.id,comment:J.trim()}]);if(we)throw we;A("");const{data:ge}=await Te.from("issue_comments").select("*, user:app_users(first_name, last_name)").eq("issue_id",z.id).order("created_at",{ascending:!0});H(ge||[])}catch(we){console.error("Error adding comment:",we),r({variant:"destructive",title:"Error",description:"Failed to add comment"})}},Re=we=>{var ge;return((ge=K.find(ze=>ze.value===we))==null?void 0:ge.color)||"bg-slate-100 text-slate-700"},at=we=>{var ge;return((ge=L.find(ze=>ze.value===we))==null?void 0:ge.color)||"bg-slate-100 text-slate-700"};return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Student Issues"}),s.jsx("p",{className:"text-slate-500",children:"Track and resolve student concerns"})]}),s.jsxs(Ne,{onClick:()=>fe(),className:"bg-amber-600 hover:bg-amber-700",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Report Issue"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Kh,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:se}),s.jsx("p",{className:"text-sm text-slate-500",children:"Open Issues"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Ss,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:W}),s.jsx("p",{className:"text-sm text-slate-500",children:"In Progress"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Kh,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:ae}),s.jsx("p",{className:"text-sm text-slate-500",children:"Critical"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(wi,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.filter(we=>we.status==="resolved").length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Resolved"})]})]})})]}),s.jsx(Ye,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"flex-1 min-w-64",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{placeholder:"Search by title or student...",value:f,onChange:we=>h(we.target.value),className:"pl-10"})]})}),s.jsxs(wt,{value:p,onValueChange:v,children:[s.jsx(yt,{className:"w-36",children:s.jsx(_t,{placeholder:"Status"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Status"}),L.map(we=>s.jsx(Le,{value:we.value,children:we.label},we.value))]})]}),s.jsxs(wt,{value:m,onValueChange:x,children:[s.jsx(yt,{className:"w-36",children:s.jsx(_t,{placeholder:"Category"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Categories"}),M.map(we=>s.jsx(Le,{value:we.value,children:we.label},we.value))]})]})]})})}),s.jsx("div",{className:"space-y-4",children:Z.length===0?s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-12 text-center text-slate-500",children:[s.jsx(Kh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No issues found"}),s.jsx("p",{className:"text-sm",children:'Click "Report Issue" to create a new issue'})]})}):Z.map(we=>{var ge,ze,tt;return s.jsx(Ye,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>Ae(we),children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:we.title}),s.jsx(Ct,{className:Re(we.severity),children:we.severity}),s.jsx(Ct,{className:at(we.status),children:(ge=we.status)==null?void 0:ge.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 mb-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(as,{className:"h-4 w-4"}),(ze=we.student)==null?void 0:ze.first_name," ",(tt=we.student)==null?void 0:tt.last_name]}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{className:"capitalize",children:we.category}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{children:new Date(we.created_at).toLocaleDateString()})]}),s.jsx("p",{className:"text-sm text-slate-500 line-clamp-2",children:we.description}),we.assignee&&s.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Assigned to: ",we.assignee.first_name," ",we.assignee.last_name]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",onClick:ht=>ht.stopPropagation(),children:[s.jsxs(wt,{value:we.status,onValueChange:ht=>Ie(we.id,ht),children:[s.jsx(yt,{className:"w-32 h-8",children:s.jsx(_t,{})}),s.jsx(bt,{children:L.map(ht=>s.jsx(Le,{value:ht.value,children:ht.label},ht.value))})]}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>fe(we),children:s.jsx(ma,{className:"h-4 w-4"})}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>ke(we.id),children:s.jsx(za,{className:"h-4 w-4"})})]})]})})},we.id)})}),s.jsx(Zt,{open:g,onOpenChange:y,children:s.jsxs(Xt,{className:"max-w-2xl",children:[s.jsx(er,{children:s.jsx(tr,{children:b?"Edit Issue":"Report New Issue"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Student *"}),s.jsxs(wt,{value:_.student_id,onValueChange:we=>N({..._,student_id:we}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select student"})}),s.jsx(bt,{children:i.map(we=>s.jsxs(Le,{value:we.id,children:[we.first_name," ",we.last_name]},we.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Title *"}),s.jsx(Ge,{value:_.title,onChange:we=>N({..._,title:we.target.value}),placeholder:"Brief description of the issue"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Category"}),s.jsxs(wt,{value:_.category,onValueChange:we=>N({..._,category:we}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:M.map(we=>s.jsx(Le,{value:we.value,children:we.label},we.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Severity"}),s.jsxs(wt,{value:_.severity,onValueChange:we=>N({..._,severity:we}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:K.map(we=>s.jsx(Le,{value:we.value,children:we.label},we.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Assign To"}),s.jsxs(wt,{value:_.assigned_to||"none",onValueChange:we=>N({..._,assigned_to:we==="none"?null:we}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Unassigned"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"none",children:"Unassigned"}),l.map(we=>s.jsxs(Le,{value:we.id,children:[we.first_name," ",we.last_name," (",we.role,")"]},we.id))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Description *"}),s.jsx(Nr,{value:_.description,onChange:we=>N({..._,description:we.target.value}),placeholder:"Detailed description of the issue...",rows:4})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Ne,{onClick:Q,className:"bg-amber-600 hover:bg-amber-700",children:b?"Update Issue":"Report Issue"})]})]})}),s.jsx(Zt,{open:R,onOpenChange:G,children:s.jsxs(Xt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(er,{children:s.jsx(tr,{children:z==null?void 0:z.title})}),z&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ct,{className:Re(z.severity),children:z.severity}),s.jsx(Ct,{className:at(z.status),children:($e=z.status)==null?void 0:$e.replace("_"," ")}),s.jsx(Ct,{variant:"outline",className:"capitalize",children:z.category})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Student"}),s.jsxs("p",{className:"text-slate-600",children:[(et=z.student)==null?void 0:et.first_name," ",(xe=z.student)==null?void 0:xe.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Description"}),s.jsx("p",{className:"text-slate-600",children:z.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Reported By"}),s.jsxs("p",{className:"text-slate-600",children:[(de=z.reporter)==null?void 0:de.first_name," ",(Be=z.reporter)==null?void 0:Be.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Assigned To"}),s.jsx("p",{className:"text-slate-600",children:z.assignee?`${z.assignee.first_name} ${z.assignee.last_name}`:"Unassigned"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Created"}),s.jsx("p",{className:"text-slate-600",children:new Date(z.created_at).toLocaleString()})]}),z.resolved_at&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Resolved"}),s.jsx("p",{className:"text-slate-600",children:new Date(z.resolved_at).toLocaleString()})]})]}),z.resolution&&s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Resolution"}),s.jsx("p",{className:"text-slate-600",children:z.resolution})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(p0,{className:"h-4 w-4"}),"Comments (",F.length,")"]}),s.jsxs("div",{className:"space-y-3 max-h-48 overflow-y-auto mb-4",children:[F.map(we=>{var ge,ze;return s.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("p",{className:"text-sm font-medium",children:[(ge=we.user)==null?void 0:ge.first_name," ",(ze=we.user)==null?void 0:ze.last_name]}),s.jsx("p",{className:"text-xs text-slate-400",children:new Date(we.created_at).toLocaleString()})]}),s.jsx("p",{className:"text-sm text-slate-600",children:we.comment})]},we.id)}),F.length===0&&s.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No comments yet"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ge,{placeholder:"Add a comment...",value:J,onChange:we=>A(we.target.value),onKeyDown:we=>we.key==="Enter"&&ce()}),s.jsx(Ne,{onClick:ce,children:"Add"})]})]})]})]})}),s.jsx(Zt,{open:S,onOpenChange:T,children:s.jsxs(Xt,{className:"sm:max-w-[350px]",children:[s.jsx(er,{children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5 text-blue-500"})," Send Notification?"]})}),s.jsx("p",{className:"text-sm text-slate-600",children:"Would you like to send an email to notify someone about this issue?"}),s.jsxs(yr,{className:"flex gap-2",children:[s.jsx(Ne,{variant:"outline",onClick:()=>T(!1),children:"No, Skip"}),s.jsxs(Ne,{onClick:()=>{T(!1),V(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(pa,{className:"mr-2 h-4 w-4"})," Yes, Send Email"]})]})]})}),s.jsx(Oc,{isOpen:k,onClose:()=>V(!1),defaultSubject:C,defaultBody:U,currentUser:t,relatedType:"issue"})]})},JRe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState(""),[u,d]=O.useState(!1),[f,h]=O.useState(null),[p,v]=O.useState(!0),[m,x]=O.useState("all"),[g,y]=O.useState(!1),[b,j]=O.useState(!1),[_,N]=O.useState(""),[S,T]=O.useState(""),[k,V]=O.useState({student_id:"",contact_type:"father",contact_person:"",phone_number:"",call_type:"outgoing",purpose:"",notes:"",outcome:"",follow_up_needed:!1,follow_up_date:"",direction:"outgoing",reminder_date:"",reminder_email:"",duration_minutes:""});O.useEffect(()=>{P(),C()},[]);const C=async()=>{const{data:A}=await Te.from("students").select("id, first_name, last_name, father_name, father_phone, mother_name, mother_phone").eq("is_active",!0).order("last_name");o(A||[])},P=async()=>{v(!0);try{const{data:A,error:M}=await Te.from("call_logs").select(`
          *,
          student:students(id, first_name, last_name),
          caller:app_users!logged_by(id, first_name, last_name)
        `).order("call_date",{ascending:!1});if(M)throw M;a(A||[])}catch(A){console.error("Error loading call logs:",A),r({variant:"destructive",title:"Error",description:"Failed to load call logs"})}finally{v(!1)}},U=(A=null)=>{A?(h(A),V({student_id:A.student_id||"",contact_type:A.contact_type||"father",contact_person:A.contact_person||"",phone_number:A.phone_number||"",call_type:A.call_type||"outgoing",purpose:A.purpose||"",notes:A.notes||"",outcome:A.outcome||"",follow_up_needed:A.follow_up_needed||!1,follow_up_date:A.follow_up_date||"",direction:A.direction||A.call_type||"outgoing",reminder_date:A.reminder_date?A.reminder_date.split("T")[0]:"",reminder_email:A.reminder_email||"",duration_minutes:A.duration_minutes||""})):(h(null),V({student_id:"",contact_type:"father",contact_person:"",phone_number:"",call_type:"outgoing",purpose:"",notes:"",outcome:"",follow_up_needed:!1,follow_up_date:"",direction:"outgoing",reminder_date:"",reminder_email:"",duration_minutes:""})),d(!0)},q=A=>{const M=i.find(K=>K.id===A);if(M){const K=k.contact_type==="father"?{name:M.father_name,phone:M.father_phone}:{name:M.mother_name,phone:M.mother_phone};V({...k,student_id:A,contact_person:K.name||"",phone_number:K.phone||""})}},z=A=>{const M=i.find(K=>K.id===k.student_id);if(M){const K=A==="father"?{name:M.father_name,phone:M.father_phone}:{name:M.mother_name,phone:M.mother_phone};V({...k,contact_type:A,contact_person:K.name||"",phone_number:K.phone||""})}else V({...k,contact_type:A})},I=async()=>{if(!k.student_id||!k.contact_person){r({variant:"destructive",title:"Error",description:"Please select a student and contact person"});return}try{const A={student_id:k.student_id,logged_by:t==null?void 0:t.id,contact_type:k.contact_type,contact_person:k.contact_person,phone_number:k.phone_number,call_type:k.call_type,purpose:k.purpose,notes:k.notes,outcome:k.outcome,follow_up_needed:k.follow_up_needed,follow_up_date:k.follow_up_date||null,call_date:(f==null?void 0:f.call_date)||new Date().toISOString(),direction:k.direction||k.call_type,reminder_date:k.reminder_date||null,reminder_email:k.reminder_email||null,duration_minutes:k.duration_minutes?parseInt(k.duration_minutes):null};if(f){const{error:M}=await Te.from("call_logs").update(A).eq("id",f.id);if(M)throw M;r({title:"Success",description:"Call log updated"})}else{const{error:M}=await Te.from("call_logs").insert([A]);if(M)throw M;r({title:"Success",description:"Call log created"});const K=i.find(Y=>Y.id===A.student_id),L=K?`${K.first_name} ${K.last_name}`:"";N(`Call Log: ${L||"Student Contact"}`),T(`A phone call has been logged:

Student: ${L}
Contact: ${A.contact_person} (${A.contact_type})
Direction: ${A.direction||A.call_type}
`+(A.purpose?`Purpose: ${A.purpose}
`:"")+(A.notes?`Notes: ${A.notes}
`:"")+(A.outcome?`Outcome: ${A.outcome}
`:"")+`
Logged by: ${(t==null?void 0:t.name)||(t==null?void 0:t.email)||"System"}`),d(!1),P(),y(!0);return}d(!1),P()}catch(A){console.error("Error saving call log:",A),r({variant:"destructive",title:"Error",description:"Failed to save call log"})}},R=async A=>{if(window.confirm("Are you sure you want to delete this call log?"))try{const{error:M}=await Te.from("call_logs").delete().eq("id",A);if(M)throw M;r({title:"Success",description:"Call log deleted"}),P()}catch{r({variant:"destructive",title:"Error",description:"Failed to delete call log"})}},G=async A=>{try{const{error:M}=await Te.from("call_logs").update({follow_up_needed:!A.follow_up_needed}).eq("id",A.id);if(M)throw M;P()}catch{r({variant:"destructive",title:"Error",description:"Failed to update"})}},F=n.filter(A=>{var K,L,Y,Z,se,W,ae;const M=((K=A.contact_person)==null?void 0:K.toLowerCase().includes(l.toLowerCase()))||((Y=(L=A.student)==null?void 0:L.first_name)==null?void 0:Y.toLowerCase().includes(l.toLowerCase()))||((se=(Z=A.student)==null?void 0:Z.last_name)==null?void 0:se.toLowerCase().includes(l.toLowerCase()))||((W=A.purpose)==null?void 0:W.toLowerCase().includes(l.toLowerCase()));if(m==="all")return M;if(m==="follow_up")return M&&A.follow_up_needed;if(m==="today"){const fe=new Date().toISOString().split("T")[0];return M&&((ae=A.call_date)==null?void 0:ae.split("T")[0])===fe}return M}),H=n.filter(A=>{var M;return((M=A.call_date)==null?void 0:M.split("T")[0])===new Date().toISOString().split("T")[0]}).length,J=n.filter(A=>A.follow_up_needed).length;return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Call Logs"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Track communication with parents and guardians"})]}),s.jsxs(Ne,{onClick:()=>U(),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[s.jsx(Zr,{size:20,className:"mr-2"}),"Log Call"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(nf,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Calls"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ps,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:H}),s.jsx("p",{className:"text-sm text-slate-500",children:"Today"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(p0,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:J}),s.jsx("p",{className:"text-sm text-slate-500",children:"Need Follow-up"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(as,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:new Set(n.map(A=>A.student_id)).size}),s.jsx("p",{className:"text-sm text-slate-500",children:"Students Contacted"})]})]})})]}),s.jsx(Ye,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search by student, contact, or purpose...",value:l,onChange:A=>c(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsx(Jo,{value:m,onValueChange:x,children:s.jsxs(uo,{children:[s.jsx(vr,{value:"all",children:"All"}),s.jsx(vr,{value:"today",children:"Today"}),s.jsx(vr,{value:"follow_up",children:"Follow-up Needed"})]})})]})})}),s.jsxs("div",{className:"space-y-4",children:[F.map(A=>{var M,K;return s.jsx(Ye,{className:A.follow_up_needed?"border-l-4 border-l-amber-400":"",children:s.jsx(Xe,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[(M=A.student)==null?void 0:M.first_name," ",(K=A.student)==null?void 0:K.last_name]}),s.jsx(Ct,{variant:A.call_type==="outgoing"?"default":"secondary",children:A.call_type==="outgoing"||A.direction==="outgoing"?" Outgoing":" Incoming"}),A.duration_minutes&&s.jsxs(Ct,{variant:"outline",className:"text-slate-500",children:[A.duration_minutes," min"]}),A.follow_up_needed&&s.jsx(Ct,{variant:"outline",className:"text-amber-600 border-amber-400",children:"Follow-up Needed"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Contact:"})," ",s.jsx("span",{className:"font-medium",children:A.contact_person}),s.jsxs("span",{className:"text-slate-400 ml-1",children:["(",A.contact_type,")"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Phone:"})," ",s.jsx("span",{className:"font-medium",children:A.phone_number||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Purpose:"})," ",s.jsx("span",{className:"font-medium",children:A.purpose||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Date:"})," ",s.jsx("span",{className:"font-medium",children:new Date(A.call_date).toLocaleDateString()})]})]}),A.notes&&s.jsx("p",{className:"text-sm text-slate-600 mt-2 bg-slate-50 p-2 rounded",children:A.notes}),A.outcome&&s.jsxs("p",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"text-slate-500",children:"Outcome:"})," ",A.outcome]}),A.follow_up_date&&s.jsxs("p",{className:"text-sm text-amber-600",children:["Follow-up scheduled: ",new Date(A.follow_up_date).toLocaleDateString()]}),A.reminder_date&&s.jsxs("p",{className:"text-sm text-purple-600",children:[" Reminder: ",new Date(A.reminder_date).toLocaleDateString(),A.reminder_email&&`  ${A.reminder_email}`]}),A.caller&&s.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Logged by: ",A.caller.first_name," ",A.caller.last_name]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>G(A),className:A.follow_up_needed?"text-amber-600 hover:bg-amber-50":"hover:bg-slate-100",title:"Toggle follow-up",children:s.jsx(wi,{size:18})}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>U(A),className:"hover:bg-slate-100",children:s.jsx(ma,{size:18})}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>R(A.id),className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(za,{size:18})})]})]})})},A.id)}),F.length===0&&s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-12 text-center text-slate-500",children:[s.jsx(nf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No call logs found"}),s.jsx("p",{className:"text-sm",children:"Start logging calls to track parent communication"})]})})]}),s.jsx(Zt,{open:u,onOpenChange:d,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:f?"Edit Call Log":"Log New Call"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Student *"}),s.jsxs(wt,{value:k.student_id,onValueChange:q,children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select student"})}),s.jsx(bt,{children:i.map(A=>s.jsxs(Le,{value:A.id,children:[A.first_name," ",A.last_name]},A.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Contact Type"}),s.jsxs(wt,{value:k.contact_type,onValueChange:z,children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"father",children:"Father"}),s.jsx(Le,{value:"mother",children:"Mother"}),s.jsx(Le,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Call Type"}),s.jsxs(wt,{value:k.call_type,onValueChange:A=>V({...k,call_type:A}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"outgoing",children:"Outgoing"}),s.jsx(Le,{value:"incoming",children:"Incoming"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Contact Person *"}),s.jsx(Ge,{value:k.contact_person,onChange:A=>V({...k,contact_person:A.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Phone Number"}),s.jsx(Ge,{value:k.phone_number,onChange:A=>V({...k,phone_number:A.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Purpose"}),s.jsx(Ge,{value:k.purpose,onChange:A=>V({...k,purpose:A.target.value}),placeholder:"e.g., Attendance, Progress update, Behavior"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Notes"}),s.jsx(Nr,{value:k.notes,onChange:A=>V({...k,notes:A.target.value}),rows:3,placeholder:"Details of the conversation..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Outcome"}),s.jsx(Ge,{value:k.outcome,onChange:A=>V({...k,outcome:A.target.value}),placeholder:"Result or action items from the call"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Direction"}),s.jsxs(wt,{value:k.direction,onValueChange:A=>V({...k,direction:A,call_type:A}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"outgoing",children:" Outgoing"}),s.jsx(Le,{value:"incoming",children:" Incoming"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Duration (minutes)"}),s.jsx(Ge,{type:"number",value:k.duration_minutes,onChange:A=>V({...k,duration_minutes:A.target.value}),placeholder:"e.g., 15"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Reminder Date"}),s.jsx(Ge,{type:"date",value:k.reminder_date,onChange:A=>V({...k,reminder_date:A.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Reminder Email"}),s.jsx(Ge,{type:"email",value:k.reminder_email,onChange:A=>V({...k,reminder_email:A.target.value}),placeholder:"email@example.com"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:k.follow_up_needed,onChange:A=>V({...k,follow_up_needed:A.target.checked}),className:"rounded border-slate-300"}),s.jsx("span",{className:"text-sm",children:"Follow-up needed"})]}),k.follow_up_needed&&s.jsx(Ge,{type:"date",value:k.follow_up_date,onChange:A=>V({...k,follow_up_date:A.target.value}),className:"w-40"})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(Ne,{onClick:I,className:"bg-green-600 hover:bg-green-700",children:f?"Update":"Save Call Log"})]})]})}),s.jsx(Zt,{open:g,onOpenChange:y,children:s.jsxs(Xt,{className:"sm:max-w-[350px]",children:[s.jsx(er,{children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5 text-blue-500"})," Send Notification?"]})}),s.jsx("p",{className:"text-sm text-slate-600",children:"Would you like to send an email notification about this call?"}),s.jsxs(yr,{className:"flex gap-2",children:[s.jsx(Ne,{variant:"outline",onClick:()=>y(!1),children:"No, Skip"}),s.jsxs(Ne,{onClick:()=>{y(!1),j(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(pa,{className:"mr-2 h-4 w-4"})," Yes, Send Email"]})]})]})}),s.jsx(Oc,{isOpen:b,onClose:()=>j(!1),defaultSubject:_,defaultBody:S,currentUser:t,relatedType:"call_log"})]})};function qn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Yo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Bm(e,t){const r=qn(e);return isNaN(t)?Yo(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ZI(e,t){const r=qn(e);if(isNaN(t))return Yo(e,NaN);if(!t)return r;const n=r.getDate(),a=Yo(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const qG=6048e5,QRe=864e5,GG=6e4,KG=36e5;let ZRe={};function bx(){return ZRe}function ic(e,t){var l,c,u,d;const r=bx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=qn(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Rb(e){return ic(e,{weekStartsOn:1})}function YG(e){const t=qn(e),r=t.getFullYear(),n=Yo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Rb(n),i=Yo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Rb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Rv(e){const t=qn(e);return t.setHours(0,0,0,0),t}function eM(e){const t=qn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function e7e(e,t){const r=Rv(e),n=Rv(t),a=+r-eM(r),i=+n-eM(n);return Math.round((a-i)/QRe)}function t7e(e){const t=YG(e),r=Yo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Rb(r)}function tM(e,t){const r=t*7;return Bm(e,r)}function r7e(e){return Yo(e,Date.now())}function MA(e,t){const r=Rv(e),n=Rv(t);return+r==+n}function n7e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function a7e(e){if(!n7e(e)&&typeof e!="number")return!1;const t=qn(e);return!isNaN(Number(t))}function rM(e){const t=qn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function i7e(e,t){const r=qn(e.start),n=qn(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=(t==null?void 0:t.step)??1;if(!l)return[];l<0&&(l=-l,a=!a);const c=[];for(;+o<=i;)c.push(qn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function nM(e){const t=qn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function s7e(e){const t=qn(e),r=Yo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function uy(e,t){var l,c,u,d;const r=bx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=qn(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const o7e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},l7e=(e,t,r)=>{let n;const a=o7e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Z5(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const c7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},u7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},d7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f7e={date:Z5({formats:c7e,defaultWidth:"full"}),time:Z5({formats:u7e,defaultWidth:"full"}),dateTime:Z5({formats:d7e,defaultWidth:"full"})},h7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},p7e=(e,t,r,n)=>h7e[e];function ym(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const m7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},g7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},x7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},y7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},w7e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_7e={ordinalNumber:w7e,era:ym({values:m7e,defaultWidth:"wide"}),quarter:ym({values:g7e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ym({values:v7e,defaultWidth:"wide"}),day:ym({values:x7e,defaultWidth:"wide"}),dayPeriod:ym({values:y7e,defaultWidth:"wide",formattingValues:b7e,defaultFormattingWidth:"wide"})};function bm(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?S7e(l,f=>f.test(o)):j7e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function j7e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function S7e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function N7e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const A7e=/^(\d+)(th|st|nd|rd)?/i,T7e=/\d+/i,C7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E7e={any:[/^b/i,/^(a|c)/i]},k7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P7e={any:[/1/i,/2/i,/3/i,/4/i]},O7e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F7e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D7e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L7e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},I7e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M7e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R7e={ordinalNumber:N7e({matchPattern:A7e,parsePattern:T7e,valueCallback:e=>parseInt(e,10)}),era:bm({matchPatterns:C7e,defaultMatchWidth:"wide",parsePatterns:E7e,defaultParseWidth:"any"}),quarter:bm({matchPatterns:k7e,defaultMatchWidth:"wide",parsePatterns:P7e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bm({matchPatterns:O7e,defaultMatchWidth:"wide",parsePatterns:F7e,defaultParseWidth:"any"}),day:bm({matchPatterns:D7e,defaultMatchWidth:"wide",parsePatterns:L7e,defaultParseWidth:"any"}),dayPeriod:bm({matchPatterns:I7e,defaultMatchWidth:"any",parsePatterns:M7e,defaultParseWidth:"any"})},$7e={code:"en-US",formatDistance:l7e,formatLong:f7e,formatRelative:p7e,localize:_7e,match:R7e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function B7e(e){const t=qn(e);return e7e(t,s7e(t))+1}function z7e(e){const t=qn(e),r=+Rb(t)-+t7e(t);return Math.round(r/qG)+1}function XG(e,t){var d,f,h,p;const r=qn(e),n=r.getFullYear(),a=bx(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Yo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=ic(o,t),c=Yo(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=ic(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function U7e(e,t){var l,c,u,d;const r=bx(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=XG(e,t),i=Yo(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),ic(i,t)}function V7e(e,t){const r=qn(e),n=+ic(r,t)-+U7e(r,t);return Math.round(n/qG)+1}function Qr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Qc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Qr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qr(r+1,2)},d(e,t){return Qr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qr(e.getHours()%12||12,t.length)},H(e,t){return Qr(e.getHours(),t.length)},m(e,t){return Qr(e.getMinutes(),t.length)},s(e,t){return Qr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Qr(a,t.length)}},dh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Qc.y(e,t)},Y:function(e,t,r,n){const a=XG(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Qr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Qr(i,t.length)},R:function(e,t){const r=YG(e);return Qr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Qc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=V7e(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Qr(a,t.length)},I:function(e,t,r){const n=z7e(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Qr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Qc.d(e,t)},D:function(e,t,r){const n=B7e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Qr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Qr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Qr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=dh.noon:n===0?a=dh.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=dh.evening:n>=12?a=dh.afternoon:n>=4?a=dh.morning:a=dh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Qc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Qc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Qc.s(e,t)},S:function(e,t){return Qc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return sM(n);case"XXXX":case"XX":return _d(n);case"XXXXX":case"XXX":default:return _d(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return sM(n);case"xxxx":case"xx":return _d(n);case"xxxxx":case"xxx":default:return _d(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+iM(n,":");case"OOOO":default:return"GMT"+_d(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+iM(n,":");case"zzzz":default:return"GMT"+_d(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Qr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Qr(n,t.length)}};function iM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Qr(i,2)}function sM(e,t){return e%60===0?(e>0?"-":"+")+Qr(Math.abs(e)/60,2):_d(e,t)}function _d(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Qr(Math.trunc(n/60),2),i=Qr(n%60,2);return r+a+t+i}const oM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},H7e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return oM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",oM(n,t)).replace("{{time}}",JG(a,t))},W7e={p:JG,P:H7e},q7e=/^D+$/,G7e=/^Y+$/,K7e=["D","DD","YY","YYYY"];function Y7e(e){return q7e.test(e)}function X7e(e){return G7e.test(e)}function J7e(e,t,r){const n=Q7e(e,t,r);if(console.warn(n),K7e.includes(e))throw new RangeError(n)}function Q7e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z7e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,e$e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,t$e=/^'([^]*?)'?$/,r$e=/''/g,n$e=/[a-zA-Z]/;function Zc(e,t,r){var d,f,h,p,v,m,x,g;const n=bx(),a=(r==null?void 0:r.locale)??n.locale??$7e,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(x=n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,l=qn(e);if(!a7e(l))throw new RangeError("Invalid time value");let c=t.match(e$e).map(y=>{const b=y[0];if(b==="p"||b==="P"){const j=W7e[b];return j(y,a.formatLong)}return y}).join("").match(Z7e).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:a$e(y)};if(aM[b])return{isToken:!0,value:y};if(b.match(n$e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&X7e(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Y7e(b))&&J7e(b,t,String(e));const j=aM[b[0]];return j(l,b,a.localize,u)}).join("")}function a$e(e){const t=e.match(t$e);return t?t[1].replace(r$e,"'"):e}function i$e(e){return qn(e).getHours()}function s$e(e,t){const r=qn(e),n=qn(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function dy(e){return MA(e,r7e(e))}function wm(e,t){const r=(t==null?void 0:t.additionalDigits)??2,n=u$e(e);let a;if(n.date){const c=d$e(n.date,r);a=f$e(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=h$e(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=p$e(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const fy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o$e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l$e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c$e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u$e(e){const t={},r=e.split(fy.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],fy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(fy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=fy.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function d$e(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function f$e(e,t){if(t===null)return new Date(NaN);const r=e.match(o$e);if(!r)return new Date(NaN);const n=!!r[4],a=_m(r[1]),i=_m(r[2])-1,o=_m(r[3]),l=_m(r[4]),c=_m(r[5])-1;if(n)return y$e(t,l,c)?m$e(t,l,c):new Date(NaN);{const u=new Date(0);return!v$e(t,i,o)||!x$e(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function _m(e){return e?parseInt(e):1}function h$e(e){const t=e.match(l$e);if(!t)return NaN;const r=eS(t[1]),n=eS(t[2]),a=eS(t[3]);return b$e(r,n,a)?r*KG+n*GG+a*1e3:NaN}function eS(e){return e&&parseFloat(e.replace(",","."))||0}function p$e(e){if(e==="Z")return 0;const t=e.match(c$e);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return w$e(n,a)?r*(n*KG+a*GG):NaN}function m$e(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const g$e=[31,null,31,30,31,30,31,31,30,31,30,31];function QG(e){return e%400===0||e%4===0&&e%100!==0}function v$e(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(g$e[t]||(QG(e)?29:28))}function x$e(e,t){return t>=1&&t<=(QG(e)?366:365)}function y$e(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function b$e(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function w$e(e,t){return t>=0&&t<=59}const _$e=({isOpen:e,onClose:t,meeting:r,students:n,onSuccess:a})=>{const{toast:i}=Tr(),[o,l]=O.useState(!1),[c,u]=O.useState({student_id:"",title:"",description:"",meeting_date:"",meeting_time:"",duration:60,location:"",status:"scheduled"});O.useEffect(()=>{if(r){const g=!r.id,y=r.meeting_date?new Date(r.meeting_date):new Date;u({student_id:r.student_id||"",title:r.title||"",description:r.description||"",meeting_date:g&&r.meeting_date?r.meeting_date:y.toISOString().split("T")[0],meeting_time:g&&r.meeting_time?r.meeting_time:y.toTimeString().slice(0,5),duration:r.duration||60,location:r.location||"",status:r.status||"scheduled"})}else u({student_id:"",title:"",description:"",meeting_date:new Date().toISOString().split("T")[0],meeting_time:"09:00",duration:60,location:"",status:"scheduled"})},[r,e]);const d=async g=>{if(u(y=>({...y,student_id:g})),g){const y=n.find(b=>b.id===g);y&&!c.title&&u(b=>({...b,title:`Meeting w/ ${y.name}'s Parents`}))}},f=async g=>{if(g&&g.preventDefault(),l(!0),!c.student_id||!c.title||!c.meeting_date||!c.meeting_time){i({variant:"destructive",title:"Error",description:"Please fill in all required fields"}),l(!1);return}const y=new Date(`${c.meeting_date}T${c.meeting_time}`),b={student_id:c.student_id,title:c.title,description:c.description,meeting_date:y.toISOString(),duration:parseInt(c.duration),location:c.location,status:c.status},{error:j}=r&&r.id?await Te.from("meetings").update(b).eq("id",r.id):await Te.from("meetings").insert([b]);j?i({variant:"destructive",title:"Error",description:`Failed to ${r&&r.id?"update":"create"} meeting`}):(i({title:"Success",description:`Meeting ${r&&r.id?"updated":"created"} successfully`}),a(),t()),l(!1)},h=async()=>{if(!(r!=null&&r.id))return;l(!0);const{error:g}=await Te.from("meetings").update({status:"completed"}).eq("id",r.id);g?i({variant:"destructive",title:"Error",description:"Failed to update status"}):(i({title:"Completed",description:"Meeting marked as completed"}),a(),t()),l(!1)},p=()=>{u(y=>({...y,status:"scheduled"}));const g=document.getElementById("meeting_date");g&&(g.focus(),g.showPicker&&g.showPicker()),i({title:"Rescheduling",description:"Please select a new date and time, then click Update."})},v=n.find(g=>g.id===c.student_id),m=r&&r.meeting_date&&new Date(r.meeting_date)<new Date,x=r&&r.id;return s.jsx(Zt,{open:e,onOpenChange:t,children:s.jsxs(Xt,{className:"max-w-2xl",children:[s.jsx(er,{children:s.jsx(tr,{children:x?"Edit Meeting":"Schedule Meeting"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"student",children:"Student *"}),s.jsxs("select",{id:"student",value:c.student_id,onChange:g=>d(g.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[s.jsx("option",{value:"",children:"Select a student"}),n.map(g=>s.jsxs("option",{value:g.id,children:[g.name," - ",g.class]},g.id))]})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"title",children:"Title *"}),s.jsx("input",{id:"title",type:"text",value:c.title,onChange:g=>u({...c,title:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"meeting_date",children:"Date *"}),s.jsx("input",{id:"meeting_date",type:"date",value:c.meeting_date,onChange:g=>u({...c,meeting_date:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"meeting_time",children:"Time *"}),s.jsx("input",{id:"meeting_time",type:"time",value:c.meeting_time,onChange:g=>u({...c,meeting_time:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"duration",children:"Duration (min)"}),s.jsx("input",{id:"duration",type:"number",min:"15",step:"15",value:c.duration,onChange:g=>u({...c,duration:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"status",children:"Status"}),s.jsxs("select",{id:"status",value:c.status,onChange:g=>u({...c,status:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[s.jsx("option",{value:"scheduled",children:"Scheduled"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"description",children:"Notes / Agenda"}),s.jsx("textarea",{id:"description",value:c.description,onChange:g=>u({...c,description:g.target.value}),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between pt-4 gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[x&&m&&c.status!=="completed"&&s.jsxs(Ne,{type:"button",variant:"outline",className:"bg-green-50 text-green-700 hover:bg-green-100 border-green-200",onClick:h,children:[s.jsx(wi,{size:16,className:"mr-2"})," Complete"]}),x&&c.status!=="completed"&&s.jsxs(Ne,{type:"button",variant:"outline",className:"bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200",onClick:p,children:[s.jsx(cre,{size:16,className:"mr-2"})," Reschedule"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{type:"button",variant:"ghost",onClick:t,children:"Cancel"}),s.jsx(Ne,{type:"submit",disabled:o,className:"bg-gradient-to-r from-indigo-500 to-indigo-600",children:o?s.jsx(Sn,{className:"animate-spin h-4 w-4"}):x?"Update":"Schedule"})]})]})]})}),s.jsxs("div",{className:"border-l pl-6 hidden md:block",children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[s.jsx(as,{size:16})," Student Details"]}),v?s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 block text-xs uppercase",children:"Name"}),s.jsx("span",{className:"font-medium",children:v.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 block text-xs uppercase",children:"Class"}),s.jsx("span",{className:"font-medium",children:v.class})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 block text-xs uppercase",children:"Parents"}),s.jsxs("div",{children:["F: ",v.father_name||"-"]}),s.jsxs("div",{children:["M: ",v.mother_name||"-"]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx("p",{className:"text-xs text-slate-400 italic",children:'Click "Update" or "Schedule" to save the meeting with this student.'})})]}):s.jsx("div",{className:"text-slate-400 text-sm italic py-8 text-center",children:"Select a student to view details."})]})]})]})})},j$e=()=>{const e=new Date,t=e.getFullYear();return e.getMonth()>=7?`${t}-${t+1}`:`${t-1}-${t}`},S$e=()=>{const t=new Date().getFullYear(),r=[];for(let n=5;n>=1;n--)r.push(`${t-n}-${t-n+1}`);r.push(`${t}-${t+1}`);for(let n=1;n<=2;n++)r.push(`${t+n}-${t+n+1}`);return r},N$e=({isOpen:e,onClose:t,studentId:r})=>{var Ae,ce,Re,at,$e,et,xe;const{toast:n}=Tr(),[a,i]=O.useState(null),[o,l]=O.useState([]),[c,u]=O.useState([]),[d,f]=O.useState([]),[h,p]=O.useState([]),[v,m]=O.useState([]),[x,g]=O.useState([]),[y,b]=O.useState([]),[j,_]=O.useState([]),[N,S]=O.useState(""),[T,k]=O.useState(!1),[V,C]=O.useState(!1),[P,U]=O.useState(!1),[q,z]=O.useState(!1),[I,R]=O.useState("all"),G=O.useMemo(()=>S$e(),[]),[F,H]=O.useState({fee_id:"",amount:"",notes:""}),[J,A]=O.useState({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),[M,K]=O.useState({totalAmount:"",payment_method:"cash",reference_number:"",notes:"",selectedStudents:{}});O.useEffect(()=>{r&&e&&L()},[r,e]),O.useEffect(()=>{if(I==="all")p(v),g(y);else{const de=v.filter(ge=>{var ze;return((ze=ge.fee)==null?void 0:ze.academic_year)===I});p(de);const Be=new Set(de.map(ge=>ge.id)),we=y.filter(ge=>Be.has(ge.student_fee_id));g(we)}},[I,v,y]);const L=async()=>{k(!0);try{const{data:de}=await Te.from("students").select(`
          *,
          class:classes!class_id(name, grade:grades(name))
        `).eq("id",r).single();if(i(de),de!=null&&de.father_phone){const{data:ht}=await Te.from("students").select(`
            id, first_name, last_name, hebrew_name, name,
            class:classes!class_id(name, grade:grades(name))
          `).eq("father_phone",de.father_phone).neq("id",r).eq("status","active");if(l(ht||[]),ht&&ht.length>0){const Se=ht.map(jt=>jt.id),st=[r,...Se],{data:it}=await Te.from("student_fees").select(`
              *,
              fee:fees(name, description, due_date, academic_year),
              student:students(id, first_name, last_name, hebrew_name)
            `).in("student_id",st).in("status",["pending","partial"]).order("created_at",{ascending:!1}),qt={};(it||[]).forEach(jt=>{qt[jt.student_id]||(qt[jt.student_id]={selected:!1,fees:[]}),qt[jt.student_id].fees.push(jt)}),K(jt=>({...jt,selectedStudents:qt}))}}else l([]);const{data:Be}=await Te.from("student_issues").select(`
          *,
          reported_by_user:app_users!student_issues_reported_by_fkey(first_name, last_name)
        `).eq("student_id",r).order("created_at",{ascending:!1});u(Be||[]);const{data:we}=await Te.from("student_fees").select(`
          *,
          fee:fees(name, description, due_date, academic_year, fee_type:fee_types(name, category))
        `).eq("student_id",r).order("created_at",{ascending:!1});m(we||[]),p(we||[]);const{data:ge}=await Te.from("payments").select(`
          *,
          student_fee:student_fees(id, fee:fees(name, academic_year))
        `).eq("student_id",r).order("payment_date",{ascending:!1});b(ge||[]),g(ge||[]);const{data:ze}=await Te.from("fees").select("id, name, amount, fee_type:fee_types(name)").eq("status","active");_(ze||[]);const{data:tt}=await Te.from("teacher_remarks").select("*").eq("student_id",r).order("created_at",{ascending:!1});f(tt||[])}catch(de){console.error("Error loading profile:",de)}finally{k(!1)}},Z=(()=>{const de=h.reduce((ze,tt)=>ze+(parseFloat(tt.amount)||0),0),Be=h.reduce((ze,tt)=>ze+(parseFloat(tt.amount_paid)||0),0),we=de-Be,ge=h.filter(ze=>ze.status==="waived").reduce((ze,tt)=>ze+(parseFloat(tt.amount)||0),0);return{totalCharges:de,totalPaid:Be,openBalance:we,waived:ge}})(),se=async()=>{if(!F.fee_id){n({variant:"destructive",title:"Error",description:"Please select a charge"});return}const de=j.find(we=>we.id===F.fee_id),Be=F.amount||(de==null?void 0:de.amount)||0;try{const{error:we}=await Te.from("student_fees").insert({student_id:r,fee_id:F.fee_id,amount:parseFloat(Be),amount_paid:0,status:"pending",notes:F.notes||null});if(we)throw we;n({title:"Added",description:"Charge has been added"}),H({fee_id:"",amount:"",notes:""}),C(!1),L()}catch(we){console.error("Error adding charge:",we),n({variant:"destructive",title:"Error",description:"Failed to add charge"})}},W=async()=>{if(!J.student_fee_id||!J.amount){n({variant:"destructive",title:"Error",description:"Please fill in all fields"});return}try{const{error:de}=await Te.from("payments").insert({student_id:r,student_fee_id:J.student_fee_id,amount:parseFloat(J.amount),payment_method:J.payment_method,reference_number:J.reference_number||null,payment_date:new Date().toISOString(),notes:J.notes||null});if(de)throw de;const Be=h.find(we=>we.id===J.student_fee_id);if(Be){const we=(parseFloat(Be.amount_paid)||0)+parseFloat(J.amount),ge=we>=parseFloat(Be.amount)?"paid":"partial";await Te.from("student_fees").update({amount_paid:we,status:ge}).eq("id",J.student_fee_id)}n({title:"Paid",description:"Payment has been recorded"}),A({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),U(!1),L()}catch(de){console.error("Error adding payment:",de),n({variant:"destructive",title:"Error",description:"Cannot record payment"})}},ae=async()=>{if(!N.trim())return;const{error:de}=await Te.from("teacher_remarks").insert({student_id:r,content:N,teacher_name:"Current User"});de||(S(""),L())},fe=async()=>{var ze;if(!M.totalAmount||parseFloat(M.totalAmount)<=0){n({variant:"destructive",title:"Error",description:"Please enter an amount"});return}const de=[];if(Object.entries(M.selectedStudents).forEach(([tt,ht])=>{ht.selected&&ht.fees&&ht.fees.forEach(Se=>{var it,qt,jt;const st=parseFloat(Se.amount)-parseFloat(Se.amount_paid||0);st>0&&de.push({studentId:tt,feeId:Se.id,feeName:(it=Se.fee)==null?void 0:it.name,balance:st,studentName:((qt=Se.student)==null?void 0:qt.hebrew_name)||((jt=Se.student)==null?void 0:jt.first_name)})})}),de.length===0){n({variant:"destructive",title:"Error",description:"Please select students with open balances"});return}let Be=parseFloat(M.totalAmount);const we=[],ge=[];for(const tt of de){if(Be<=0)break;const ht=Math.min(Be,tt.balance);Be-=ht,we.push({student_id:tt.studentId,student_fee_id:tt.feeId,amount:ht,payment_method:M.payment_method,reference_number:M.reference_number||null,payment_date:new Date().toISOString(),notes:M.notes||`Family Payment - ${tt.studentName}`});const Se=(ze=M.selectedStudents[tt.studentId])==null?void 0:ze.fees.find(qt=>qt.id===tt.feeId),st=(parseFloat(Se==null?void 0:Se.amount_paid)||0)+ht,it=st>=parseFloat(Se==null?void 0:Se.amount)?"paid":"partial";ge.push({id:tt.feeId,amount_paid:st,status:it})}try{const{error:tt}=await Te.from("payments").insert(we);if(tt)throw tt;for(const ht of ge)await Te.from("student_fees").update({amount_paid:ht.amount_paid,status:ht.status}).eq("id",ht.id);n({title:"Family Payment Recorded",description:`$${parseFloat(M.totalAmount).toFixed(2)} split across ${we.length} charges`}),K({totalAmount:"",payment_method:"cash",reference_number:"",notes:"",selectedStudents:{}}),z(!1),L()}catch(tt){console.error("Error processing family payment:",tt),n({variant:"destructive",title:"Error",description:"Cannot process payment"})}},Q=de=>{K(Be=>{var we;return{...Be,selectedStudents:{...Be.selectedStudents,[de]:{...Be.selectedStudents[de],selected:!((we=Be.selectedStudents[de])!=null&&we.selected)}}}})},ke=()=>{let de=0;return Object.entries(M.selectedStudents).forEach(([Be,we])=>{we.selected&&we.fees&&we.fees.forEach(ge=>{de+=parseFloat(ge.amount)-parseFloat(ge.amount_paid||0)})}),de},Ie=de=>{const Be={pending:"bg-yellow-100 text-yellow-800",partial:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",waived:"bg-gray-100 text-gray-800",overdue:"bg-red-100 text-red-800"},we={pending:"Pending",partial:"Partial",paid:"Paid",waived:"Waived",overdue:"Overdue"};return s.jsx(Ct,{className:Be[de]||"bg-gray-100",children:we[de]||de})};return T?s.jsx(Zt,{open:e,onOpenChange:t,children:s.jsx(Xt,{className:"max-w-4xl",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Sn,{className:"h-8 w-8 animate-spin text-blue-600"})})})}):a?s.jsx(Zt,{open:e,onOpenChange:t,children:s.jsxs(Xt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",dir:"rtl",children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(as,{className:"h-6 w-6"}),a.hebrew_name||a.name||`${a.first_name} ${a.last_name}`]}),s.jsxs("p",{className:"text-slate-500",children:["Class: ",((Ae=a.class)==null?void 0:Ae.name)||"N/A"," |",((Re=(ce=a.class)==null?void 0:ce.grade)==null?void 0:Re.name)&&` ${a.class.grade.name}`]})]}),s.jsxs(Jo,{defaultValue:"details",className:"mt-4",children:[s.jsxs(uo,{className:"grid w-full grid-cols-4",children:[s.jsx(vr,{value:"details",children:"Details"}),s.jsxs(vr,{value:"financial",className:"flex items-center gap-1",children:[s.jsx(xs,{className:"h-4 w-4"}),"Account (",Z.openBalance>0?`$${Z.openBalance.toFixed(2)}`:"Balance",")"]}),s.jsxs(vr,{value:"issues",children:["Issues (",c.length,")"]}),s.jsxs(vr,{value:"remarks",children:["Remarks (",d.length,")"]})]}),s.jsxs(Ur,{value:"details",className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(as,{size:16})," Parents"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Father:"})," ",a.father_name||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Mother:"})," ",a.mother_name||"N/A"]})]})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(nf,{size:16})," Contact"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Father Phone:"})," ",a.father_phone||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Mother Phone:"})," ",a.mother_phone||"N/A"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",a.address||"N/A",", ",a.city||""]})]})]})]}),o.length>0&&s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Ia,{size:16,className:"text-purple-600"}),"Siblings in School (",o.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(de=>{var Be;return s.jsxs("div",{className:"px-3 py-2 bg-white rounded-lg border border-purple-200 text-sm",children:[s.jsxs("span",{className:"font-medium",children:[de.hebrew_name||de.first_name," ",de.last_name]}),s.jsxs("span",{className:"text-purple-600 mr-2",children:["| ",(Be=de.class)==null?void 0:Be.name]})]},de.id)})})]})]}),s.jsxs(Ur,{value:"financial",className:"mt-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-100 rounded-lg",children:[s.jsx(Ps,{className:"h-5 w-5 text-slate-600"}),s.jsx(ve,{className:"font-medium",children:"Year:"}),s.jsxs(wt,{value:I,onValueChange:R,children:[s.jsx(yt,{className:"w-[180px]",children:s.jsx(_t,{placeholder:"Select year..."})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Years"}),G.map(de=>s.jsxs(Le,{value:de,children:[de," ",de===j$e()&&"(Current)"]},de))]})]}),s.jsx("span",{className:"text-sm text-slate-500",children:I==="all"?`Showing all ${v.length} charges`:`Showing ${h.length} charges for ${I}`})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Charges"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:["$",Z.totalCharges.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["$",Z.totalPaid.toFixed(2)]})]}),s.jsxs("div",{className:`p-4 rounded-lg border ${Z.openBalance>0?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("p",{className:`text-sm font-medium ${Z.openBalance>0?"text-red-600":"text-gray-600"}`,children:"Open Balance"}),s.jsxs("p",{className:`text-2xl font-bold ${Z.openBalance>0?"text-red-800":"text-gray-800"}`,children:["$",Z.openBalance.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Waived"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["$",Z.waived.toFixed(2)]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Ne,{onClick:()=>C(!V),variant:V?"secondary":"default",size:"sm",children:[s.jsx(Zr,{className:"h-4 w-4 ml-1"}),"Add Charge"]}),s.jsxs(Ne,{onClick:()=>U(!P),variant:P?"secondary":"outline",size:"sm",children:[s.jsx(Jm,{className:"h-4 w-4 ml-1"}),"Record Payment"]}),o.length>0&&s.jsxs(Ne,{onClick:()=>z(!q),variant:q?"secondary":"outline",size:"sm",className:"bg-purple-100 hover:bg-purple-200 text-purple-800 border-purple-300",children:[s.jsx(Ia,{className:"h-4 w-4 ml-1"}),"Family Payment (",o.length+1," children)"]})]}),q&&o.length>0&&s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-300 space-y-4",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Ia,{className:"h-5 w-5 text-purple-600"}),"Family Payment - ",a.father_name||"Family"]}),s.jsx("p",{className:"text-sm text-purple-700",children:"Select children and the payment will be split across their open balances"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Select Children:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${(at=M.selectedStudents[r])!=null&&at.selected?"bg-purple-100 border-purple-400":"bg-white border-gray-200 hover:border-purple-300"}`,onClick:()=>Q(r),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:(($e=M.selectedStudents[r])==null?void 0:$e.selected)||!1,onChange:()=>{},className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[a.hebrew_name||a.first_name," ",a.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:(et=a.class)==null?void 0:et.name}),((xe=M.selectedStudents[r])==null?void 0:xe.fees)&&s.jsxs("p",{className:"text-sm text-red-600 font-medium",children:["Balance: $",M.selectedStudents[r].fees.reduce((de,Be)=>de+parseFloat(Be.amount)-parseFloat(Be.amount_paid||0),0).toFixed(2)]})]})]})}),o.map(de=>{var Be,we,ge,ze;return s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-all ${(Be=M.selectedStudents[de.id])!=null&&Be.selected?"bg-purple-100 border-purple-400":"bg-white border-gray-200 hover:border-purple-300"}`,onClick:()=>Q(de.id),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:((we=M.selectedStudents[de.id])==null?void 0:we.selected)||!1,onChange:()=>{},className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[de.hebrew_name||de.first_name," ",de.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:(ge=de.class)==null?void 0:ge.name}),((ze=M.selectedStudents[de.id])==null?void 0:ze.fees)&&s.jsxs("p",{className:"text-sm text-red-600 font-medium",children:["Balance: $",M.selectedStudents[de.id].fees.reduce((tt,ht)=>tt+parseFloat(ht.amount)-parseFloat(ht.amount_paid||0),0).toFixed(2)]})]})]})},de.id)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-3 border-t border-purple-200",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Total Amount"}),s.jsx(Ge,{type:"number",step:"0.01",placeholder:`Maximum: $${ke().toFixed(2)}`,value:M.totalAmount,onChange:de=>K({...M,totalAmount:de.target.value}),className:"text-lg font-bold"}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Total Selected Balance: $",ke().toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Payment Method"}),s.jsxs(wt,{value:M.payment_method,onValueChange:de=>K({...M,payment_method:de}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"cash",children:"Cash"}),s.jsx(Le,{value:"check",children:"Check"}),s.jsx(Le,{value:"credit_card",children:"Credit Card"}),s.jsx(Le,{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Reference # (Check/Card)"}),s.jsx(Ge,{placeholder:"Reference number",value:M.reference_number,onChange:de=>K({...M,reference_number:de.target.value})})]})]}),s.jsxs(Ne,{onClick:fe,size:"sm",className:"bg-purple-600 hover:bg-purple-700",disabled:ke()===0,children:[s.jsx(Jm,{className:"h-4 w-4 ml-1"}),"Record Family Payment"]})]}),V&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200 space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Add New Charge"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Charge Type"}),s.jsxs(wt,{value:F.fee_id,onValueChange:de=>H({...F,fee_id:de}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select..."})}),s.jsx(bt,{children:j.map(de=>s.jsxs(Le,{value:de.id,children:[de.name," - $",de.amount]},de.id))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Amount (if different)"}),s.jsx(Ge,{type:"number",step:"0.01",placeholder:"Amount",value:F.amount,onChange:de=>H({...F,amount:de.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Notes"}),s.jsx(Ge,{placeholder:"Notes",value:F.notes,onChange:de=>H({...F,notes:de.target.value})})]})]}),s.jsx(Ne,{onClick:se,size:"sm",children:"Add Charge"})]}),P&&s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200 space-y-4",children:[s.jsx("h4",{className:"font-semibold",children:"Record Payment"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"For Which Charge"}),s.jsxs(wt,{value:J.student_fee_id,onValueChange:de=>A({...J,student_fee_id:de}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select..."})}),s.jsx(bt,{children:h.filter(de=>de.status!=="paid"&&de.status!=="waived").map(de=>{var Be;return s.jsxs(Le,{value:de.id,children:[(Be=de.fee)==null?void 0:Be.name," - Balance: $",(parseFloat(de.amount)-parseFloat(de.amount_paid||0)).toFixed(2)]},de.id)})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Amount"}),s.jsx(Ge,{type:"number",step:"0.01",placeholder:"Amount",value:J.amount,onChange:de=>A({...J,amount:de.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Payment Method"}),s.jsxs(wt,{value:J.payment_method,onValueChange:de=>A({...J,payment_method:de}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"cash",children:"Cash"}),s.jsx(Le,{value:"check",children:"Check"}),s.jsx(Le,{value:"credit_card",children:"Credit Card"}),s.jsx(Le,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(Le,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Reference # (Check/Card)"}),s.jsx(Ge,{placeholder:"Reference number",value:J.reference_number,onChange:de=>A({...J,reference_number:de.target.value})})]})]}),s.jsx(Ne,{onClick:W,size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Record Payment"})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Bg,{className:"h-5 w-5"}),"Charges (",h.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:h.length===0?s.jsx("p",{className:"text-slate-500 text-center py-4",children:I==="all"?"No charges found":`No charges found for ${I}`}):h.map(de=>{var Be,we,ge,ze,tt,ht,Se;return s.jsxs("div",{className:"p-3 bg-white border rounded-lg flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:((Be=de.fee)==null?void 0:Be.name)||"Charge"}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(ge=(we=de.fee)==null?void 0:we.fee_type)==null?void 0:ge.name,((ze=de.fee)==null?void 0:ze.academic_year)&&s.jsx("span",{className:"mx-1",children:"|"}),((tt=de.fee)==null?void 0:tt.academic_year)&&s.jsx("span",{className:"text-blue-600",children:de.fee.academic_year}),((ht=de.fee)==null?void 0:ht.due_date)&&s.jsx("span",{className:"mx-1",children:"|"}),((Se=de.fee)==null?void 0:Se.due_date)&&new Date(de.fee.due_date).toLocaleDateString("he-IL")]}),de.notes&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:de.notes})]}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"font-bold",children:["$",parseFloat(de.amount).toFixed(2)]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Paid: $",parseFloat(de.amount_paid||0).toFixed(2)]}),Ie(de.status)]})]},de.id)})})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border-2 border-green-300",children:[s.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-green-800",children:[s.jsx(Jm,{className:"h-6 w-6"})," Payment History (",x.length,")"]}),x.length===0?s.jsx("p",{className:"text-slate-500 text-center py-6 bg-white rounded-lg",children:I==="all"?"No payments found - this student has not paid yet":`No payments found for ${I}`}):s.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[s.jsxs("div",{className:"mb-3 p-3 bg-green-100 rounded-lg flex justify-between items-center",children:[s.jsx("span",{className:"font-medium text-green-800",children:"Total Paid:"}),s.jsxs("span",{className:"text-xl font-bold text-green-700",children:["$",x.reduce((de,Be)=>de+parseFloat(Be.amount||0),0).toFixed(2)]})]}),x.map(de=>{var Be,we,ge,ze;return s.jsxs("div",{className:"p-3 bg-white border border-green-200 rounded-lg flex justify-between items-center shadow-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-900",children:((we=(Be=de.student_fee)==null?void 0:Be.fee)==null?void 0:we.name)||de.description||"Payment"}),s.jsxs("p",{className:"text-sm text-slate-600",children:[de.payment_method==="cash"?" Cash":de.payment_method==="check"?" Check":de.payment_method==="credit_card"?" Credit Card":de.payment_method==="bank_transfer"?" Bank Transfer":de.payment_method,de.reference_number&&` - #${de.reference_number}`,((ze=(ge=de.student_fee)==null?void 0:ge.fee)==null?void 0:ze.academic_year)&&s.jsxs("span",{className:"text-blue-600 mr-2",children:[" | ",de.student_fee.fee.academic_year]})]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[new Date(de.payment_date).toLocaleDateString("he-IL"),de.notes&&` - ${de.notes}`]})]}),s.jsx("div",{className:"text-left",children:s.jsxs("p",{className:"font-bold text-green-600",children:["$",parseFloat(de.amount).toFixed(2)]})})]},de.id)})]})]})]}),s.jsx(Ur,{value:"issues",className:"mt-4",children:s.jsx("div",{className:"space-y-3",children:c.length===0?s.jsx("p",{className:"text-slate-500 text-center py-4",children:"No issues recorded"}):c.map(de=>{var Be,we;return s.jsxs("div",{className:"p-3 border rounded-lg bg-white shadow-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("h5",{className:"font-semibold text-slate-800",children:de.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${de.status==="open"?"bg-red-100 text-red-700":de.status==="in_progress"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:de.status==="open"?"Open":de.status==="in_progress"?"In Progress":"Done"})]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:de.description}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-400",children:[s.jsxs("span",{children:["Reported by: ",(Be=de.reported_by_user)==null?void 0:Be.first_name," ",(we=de.reported_by_user)==null?void 0:we.last_name]}),s.jsx("span",{children:new Date(de.created_at).toLocaleDateString("he-IL")})]})]},de.id)})})}),s.jsx(Ur,{value:"remarks",className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Add a remark...",className:"flex-1 px-3 py-2 border rounded-lg",value:N,onChange:de=>S(de.target.value)}),s.jsxs(Ne,{onClick:ae,size:"sm",children:[s.jsx(p0,{className:"h-4 w-4 ml-2"})," Add"]})]}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:d.length===0?s.jsx("p",{className:"text-slate-500 text-center py-4",children:"No remarks found"}):d.map(de=>s.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-slate-700",children:de.content}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-400",children:[s.jsx("span",{children:de.teacher_name}),s.jsx("span",{children:new Date(de.created_at).toLocaleDateString("he-IL")})]})]},de.id))})]})})]})]})}):null},A$e=()=>{const{toast:e}=Tr(),[t,r]=O.useState(new Date),[n,a]=O.useState("month"),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!1),[f,h]=O.useState(null),[p,v]=O.useState(null),[m,x]=O.useState(null);O.useEffect(()=>{y(),g()},[t,n]);const g=async()=>{const{data:T}=await Te.from("students").select("id, name, class");c(T||[])},y=async()=>{let T,k;n==="month"?(T=nM(t),k=rM(t),T=ic(T),k=uy(k)):n==="week"?(T=ic(t),k=uy(t)):(T=Rv(t),k=Bm(T,1));const{data:V,error:C}=await Te.from("meetings").select("*, students(name, class)").gte("meeting_date",T.toISOString()).lte("meeting_date",k.toISOString());C?(console.error(C),e({variant:"destructive",title:"Error",description:"Failed to load calendar events"})):o(V||[])},b=T=>{r(n==="month"?k=>T==="next"?ZI(k,1):ZI(k,-1):n==="week"?k=>T==="next"?tM(k,1):tM(k,-1):k=>T==="next"?Bm(k,1):Bm(k,-1))},j=(T,k=9)=>{const V=Zc(T,"yyyy-MM-dd"),C=`${k.toString().padStart(2,"0")}:00`;h(null),v({meeting_date:V,meeting_time:C}),d(!0)},_=(T,k)=>{T.stopPropagation(),h(k),v(null),d(!0)},N=()=>{const T=nM(t),k=rM(T),V=ic(T),C=uy(k),P="d",U=[];let q=[],z=V,I="";const R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],G=s.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-sm font-semibold text-slate-500",children:R.map(F=>s.jsx("div",{className:"py-2",children:F},F))});for(;z<=C;){for(let F=0;F<7;F++){I=Zc(z,P);const H=z,J=i.filter(A=>MA(wm(A.meeting_date),z));q.push(s.jsxs("div",{className:`min-h-[120px] bg-white border border-slate-100 p-2 relative hover:bg-slate-50 transition-colors cursor-pointer flex flex-col gap-1 ${s$e(z,T)?"text-slate-700":"text-slate-300 bg-slate-50/50"} ${dy(z)?"bg-blue-50/30 border-blue-200":""}`,onClick:()=>j(H),children:[s.jsx("div",{className:`text-right text-sm font-medium ${dy(z)?"text-blue-600":""}`,children:I}),s.jsx("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto max-h-[100px] scrollbar-hide",children:J.map(A=>{var M;return s.jsxs("div",{onClick:K=>_(K,A),className:`text-xs px-2 py-1 rounded truncate border shadow-sm ${A.status==="completed"?"bg-green-100 border-green-200 text-green-800":A.status==="cancelled"?"bg-red-50 text-red-400 line-through":"bg-blue-100 border-blue-200 text-blue-800"}`,title:`${Zc(wm(A.meeting_date),"h:mm a")} - ${A.title}`,children:[s.jsx("span",{className:"font-semibold mr-1",children:Zc(wm(A.meeting_date),"h:mm a")}),((M=A.students)==null?void 0:M.name)||A.title]},A.id)})})]},z)),z=Bm(z,1)}U.push(s.jsx("div",{className:"grid grid-cols-7 gap-1",children:q},z)),q=[]}return s.jsxs("div",{className:"bg-slate-100 p-1 rounded-lg shadow-inner",children:[G,U]})},S=T=>{const k=Array.from({length:13},(V,C)=>C+7);return s.jsxs("div",{className:"flex bg-white border rounded-lg overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"w-16 flex-shrink-0 border-r bg-slate-50",children:[s.jsx("div",{className:"h-12 border-b"})," ",k.map(V=>s.jsx("div",{className:"h-20 border-b text-xs text-slate-500 text-right pr-2 pt-2",children:V>12?`${V-12} PM`:`${V} AM`},V))]}),s.jsx("div",{className:"flex-1 flex overflow-x-auto",children:T.map(V=>s.jsxs("div",{className:"flex-1 min-w-[150px] border-r last:border-r-0",children:[s.jsxs("div",{className:`h-12 border-b flex flex-col justify-center items-center ${dy(V)?"bg-blue-50":"bg-slate-50"}`,children:[s.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase",children:Zc(V,"EEE")}),s.jsx("span",{className:`text-sm font-bold ${dy(V)?"text-blue-600":"text-slate-800"}`,children:Zc(V,"MMM d")})]}),s.jsxs("div",{className:"relative",children:[k.map(C=>s.jsx("div",{className:"h-20 border-b border-slate-100 hover:bg-slate-50 cursor-pointer relative group",onClick:()=>j(V,C),children:s.jsx("div",{className:"hidden group-hover:flex absolute inset-0 items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Zr,{className:"text-blue-300 h-6 w-6"})})},C)),i.filter(C=>MA(wm(C.meeting_date),V)).map(C=>{var G;const P=wm(C.meeting_date),U=i$e(P),q=P.getMinutes(),z=(U-7)*80+q/60*80,R=(C.duration||60)/60*80;return U<7||U>19?null:s.jsxs("div",{onClick:F=>_(F,C),className:`absolute left-1 right-1 rounded p-2 text-xs border shadow-sm cursor-pointer hover:brightness-95 transition-all z-10 overflow-hidden ${C.status==="completed"?"bg-green-100 border-green-300 text-green-900":"bg-blue-100 border-blue-300 text-blue-900"}`,style:{top:`${z}px`,height:`${R}px`},children:[s.jsx("div",{className:"font-bold",children:Zc(P,"h:mm a")}),s.jsx("div",{className:"truncate font-medium",children:(G=C.students)==null?void 0:G.name}),s.jsx("div",{className:"truncate text-blue-800/70",children:C.title})]},C.id)})]})]},V.toString()))})]})};return s.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>b("prev"),className:"h-8 w-8",children:s.jsx(dre,{size:16})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>r(new Date),className:"h-8 px-3 text-xs font-semibold",children:"Today"}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>b("next"),className:"h-8 w-8",children:s.jsx(aB,{size:16})})]}),s.jsx("h2",{className:"text-xl font-bold text-slate-800 min-w-[200px]",children:Zc(t,"MMMM yyyy")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Jo,{value:n,onValueChange:a,className:"w-[300px]",children:s.jsxs(uo,{className:"grid w-full grid-cols-3",children:[s.jsx(vr,{value:"month",children:"Month"}),s.jsx(vr,{value:"week",children:"Week"}),s.jsx(vr,{value:"day",children:"Day"})]})}),s.jsxs(Ne,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>d(!0),children:[s.jsx(Zr,{size:16,className:"mr-2"})," Event"]})]})]}),s.jsxs("div",{className:"flex-1 overflow-auto bg-white rounded-lg shadow border p-4",children:[n==="month"&&N(),n==="week"&&S(i7e({start:ic(t),end:uy(t)})),n==="day"&&S([t])]}),s.jsx(_$e,{isOpen:u,onClose:()=>{d(!1),v(null),h(null)},meeting:f?{...f}:p?{title:"",student_id:"",meeting_date:p.meeting_date,meeting_time:p.meeting_time,duration:60,status:"scheduled"}:null,students:l,onSuccess:()=>{y(),d(!1)}}),s.jsx(N$e,{isOpen:!!m,onClose:()=>x(null),studentId:m})]})},lM=({role:e="principal"})=>{const{toast:t}=Tr(),{t:r}=XT(),[n,a]=O.useState({totalStudents:0,openIssues:0,pendingCalls:0,upcomingMeetings:0,emergencyMeetings:0});O.useEffect(()=>{i()},[]);const i=async()=>{var l,c;try{const[u,d,f,h]=await Promise.all([Te.from("students").select("id",{count:"exact"}),Te.from("issues").select("id",{count:"exact"}).eq("status","open"),Te.from("call_logs").select("id",{count:"exact"}),Te.from("meetings").select("meeting_date").eq("status","scheduled")]),p=new Date,v=((l=h.data)==null?void 0:l.filter(x=>new Date(x.meeting_date)>=p).length)||0,m=((c=h.data)==null?void 0:c.filter(x=>new Date(x.meeting_date)<p).length)||0;a({totalStudents:u.count||0,openIssues:d.count||0,pendingCalls:f.count||0,upcomingMeetings:v,emergencyMeetings:m})}catch{t({variant:"destructive",title:"Error",description:"Failed to load statistics"})}},o=[{title:r("overview.totalStudents"),value:n.totalStudents,icon:Ia,color:"from-blue-500 to-blue-600"},{title:r("overview.openIssues"),value:n.openIssues,icon:bi,color:"from-amber-500 to-amber-600"},{title:r("overview.pendingCalls"),value:n.pendingCalls,icon:nf,color:"from-green-500 to-green-600"},{title:r("overview.upcomingMeetings"),value:n.upcomingMeetings,icon:Ps,color:"from-indigo-500 to-indigo-600"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:r("overview.title")}),s.jsx("p",{className:"text-slate-600 mt-2",children:r("overview.subtitle")})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(l=>{const c=l.icon;return s.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-200 p-6 text-left",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${l.color}`,children:s.jsx(c,{className:"text-white",size:24})})}),s.jsx("h3",{className:"text-slate-600 text-sm font-medium",children:l.title}),s.jsx("p",{className:"text-3xl font-bold text-slate-800 mt-2",children:l.value})]},l.title)})}),n.emergencyMeetings>0&&s.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg text-left",children:s.jsxs("div",{className:"flex items-center gap-3 justify-start flex-row",children:[s.jsx(bi,{className:"text-red-500",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-red-800 font-semibold",children:r("overview.emergency")}),s.jsxs("p",{className:"text-red-700 text-sm",children:[n.emergencyMeetings," meetings need attention!"]})]})]})})]})},T$e=()=>{const{toast:e}=Tr(),[t,r]=O.useState([]),[n,a]=O.useState({day_of_week:"Monday",type:"calls",start_time:"09:00",end_time:"10:00"}),i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];O.useEffect(()=>{o()},[]);const o=async()=>{const{data:u,error:d}=await Te.from("time_slots").select("*").order("day_of_week").order("start_time");d?e({variant:"destructive",title:"Error",description:"Failed to load time slots"}):r(u||[])},l=async u=>{if(u.preventDefault(),n.start_time>=n.end_time){e({variant:"destructive",title:"Invalid Time",description:"Start time must be before end time"});return}const{error:d}=await Te.from("time_slots").insert([n]);d?e({variant:"destructive",title:"Error",description:"Failed to add time slot"}):(e({title:"Success",description:"Time slot added successfully"}),o())},c=async u=>{const{error:d}=await Te.from("time_slots").delete().eq("id",u);d?e({variant:"destructive",title:"Error",description:"Failed to delete slot"}):o()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Time Slots"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage availability for calls and meetings"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Slot"}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"day",children:"Day"}),s.jsx("select",{id:"day",value:n.day_of_week,onChange:u=>a({...n,day_of_week:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1",children:i.map(u=>s.jsx("option",{value:u,children:u},u))})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"type",children:"Type"}),s.jsxs("select",{id:"type",value:n.type,onChange:u=>a({...n,type:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1",children:[s.jsx("option",{value:"calls",children:"Calls"}),s.jsx("option",{value:"meetings",children:"Meetings"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"start",children:"Start Time"}),s.jsx("input",{type:"time",id:"start",value:n.start_time,onChange:u=>a({...n,start_time:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1"})]}),s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"end",children:"End Time"}),s.jsx("input",{type:"time",id:"end",value:n.end_time,onChange:u=>a({...n,end_time:u.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg mt-1"})]})]}),s.jsxs(Ne,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-blue-600",children:[s.jsx(Zr,{size:16,className:"mr-2"})," Add Slot"]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Weekly Schedule"}),s.jsxs("div",{className:"space-y-6",children:[i.map(u=>{const d=t.filter(f=>f.day_of_week===u);return d.length===0?null:s.jsxs("div",{className:"border-b last:border-0 pb-4 last:pb-0",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:u}),s.jsx("div",{className:"space-y-2",children:d.map(f=>s.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ss,{size:16,className:"text-slate-400"}),s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium uppercase ${f.type==="calls"?"bg-green-100 text-green-700":"bg-indigo-100 text-indigo-700"}`,children:f.type}),s.jsxs("span",{className:"text-sm text-slate-600",children:[f.start_time.slice(0,5)," - ",f.end_time.slice(0,5)]})]}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>c(f.id),className:"h-8 w-8 hover:bg-red-50 hover:text-red-600",children:s.jsx(za,{size:14})})]},f.id))})]},u)}),t.length===0&&s.jsx("div",{className:"text-center py-8 text-slate-500",children:"No time slots configured yet."})]})]})})]})]})},C$e=()=>{const{toast:e}=Tr(),[t,r]=O.useState(1),[n,a]=O.useState("class"),[i,o]=O.useState(""),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState({duration:15,startDate:new Date().toISOString().split("T")[0],daysOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday"],type:"calls"}),[p,v]=O.useState([]),[m,x]=O.useState(!1);O.useEffect(()=>{g()},[n]);const g=async()=>{const{data:_}=await Te.from("students").select(n),N=[...new Set(_.map(S=>S[n]))].filter(Boolean).sort();c(N)},y=async()=>{if(!i)return;const{data:_,error:N}=await Te.from("students").select("id, name, class, teacher").eq(n,i);N?e({variant:"destructive",title:"Error",description:"Failed to fetch students"}):(d(_.map(S=>({...S,selected:!0}))),r(2))},b=async()=>{x(!0);try{const{data:_}=await Te.from("time_slots").select("*").eq("type",f.type).order("start_time");if(!_||_.length===0){e({variant:"destructive",title:"No Slots",description:`No time slots configured for ${f.type}`}),x(!1);return}let N=new Date(f.startDate);const S=[],T=u.filter(V=>V.selected);let k=0;for(let V=0;V<30&&k<T.length;V++){const C=N.toLocaleDateString("en-US",{weekday:"long"});if(f.daysOfWeek.includes(C)){const P=_.filter(U=>U.day_of_week===C);for(const U of P){let q=new Date(`${N.toISOString().split("T")[0]}T${U.start_time}`);const z=new Date(`${N.toISOString().split("T")[0]}T${U.end_time}`);for(;q<z&&k<T.length;){const I=new Date(q.getTime()+f.duration*6e4);if(I<=z)S.push({student:T[k],date:q.toISOString().split("T")[0],time:q.toTimeString().slice(0,5),endTime:I.toTimeString().slice(0,5)}),k++,q=I;else break}}}N.setDate(N.getDate()+1)}v(S),r(3)}catch(_){console.error(_),e({variant:"destructive",title:"Error",description:"Scheduling failed"})}finally{x(!1)}},j=async()=>{x(!0);try{const _=p.map(T=>{if(f.type==="calls")return{student_id:T.student.id,contact_person:"Parent/Guardian",phone_number:"Pending",follow_up_date:T.date,notes:`Scheduled Bulk Call for ${T.date} at ${T.time}`,completed:!1};{const k=new Date(`${T.date}T${T.time}`).toISOString();return{student_id:T.student.id,title:`Scheduled Meeting: ${T.student.name}`,description:"Bulk scheduled meeting",meeting_date:k,duration:f.duration,status:"scheduled"}}}),N=f.type==="calls"?"call_logs":"meetings",{error:S}=await Te.from(N).insert(_);if(S)throw S;e({title:"Success",description:`Successfully scheduled ${_.length} ${f.type}`}),r(1),d([]),v([])}catch{e({variant:"destructive",title:"Error",description:"Failed to save schedule"})}finally{x(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Bulk Scheduling"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Auto-schedule multiple calls or meetings efficiently"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[t===1&&s.jsxs("div",{className:"space-y-4 max-w-lg",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 1: Select Students"}),s.jsxs("div",{children:[s.jsx(ve,{children:"Filter By"}),s.jsxs("div",{className:"flex gap-4 mt-2 mb-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:n==="class",onChange:()=>a("class")})," Class"]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",checked:n==="teacher",onChange:()=>a("teacher")})," Teacher"]})]}),s.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg",value:i,onChange:_=>o(_.target.value),children:[s.jsxs("option",{value:"",children:["Select ",n,"..."]}),l.map(_=>s.jsx("option",{value:_,children:_},_))]})]}),s.jsx(Ne,{onClick:y,disabled:!i,className:"w-full",children:"Next"})]}),t===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 2: Configure Schedule"}),s.jsxs("span",{className:"text-sm text-slate-500",children:[u.filter(_=>_.selected).length," students selected"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Schedule Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg mt-1",value:f.type,onChange:_=>h({...f,type:_.target.value}),children:[s.jsx("option",{value:"calls",children:"Phone Calls"}),s.jsx("option",{value:"meetings",children:"Meetings"})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Duration (minutes)"}),s.jsx("input",{type:"number",className:"w-full px-3 py-2 border rounded-lg mt-1",value:f.duration,onChange:_=>h({...f,duration:parseInt(_.target.value)})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Start Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg mt-1",value:f.startDate,onChange:_=>h({...f,startDate:_.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{className:"mb-2 block",children:"Allowed Days"}),s.jsx("div",{className:"space-y-2 border rounded-lg p-3 bg-slate-50",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(_=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:f.daysOfWeek.includes(_),onChange:N=>{const S=N.target.checked?[...f.daysOfWeek,_]:f.daysOfWeek.filter(T=>T!==_);h({...f,daysOfWeek:S})}}),_]},_))})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Ne,{variant:"outline",onClick:()=>r(1),children:"Back"}),s.jsx(Ne,{onClick:b,disabled:m,children:m?"Calculating...":"Preview Schedule"})]})]}),t===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 3: Preview & Confirm"}),s.jsx("div",{className:"bg-slate-50 rounded-lg p-4 max-h-96 overflow-y-auto border",children:p.length===0?s.jsx("p",{className:"text-red-500",children:"Could not fit any students into the available slots."}):s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-100 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2",children:"Date"}),s.jsx("th",{className:"px-3 py-2",children:"Time"}),s.jsx("th",{className:"px-3 py-2",children:"Student"}),s.jsx("th",{className:"px-3 py-2",children:"Class"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:p.map((_,N)=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-3 py-2 font-medium",children:[_.date," (",new Date(_.date).toLocaleDateString("en-US",{weekday:"short"}),")"]}),s.jsxs("td",{className:"px-3 py-2",children:[_.time," - ",_.endTime]}),s.jsx("td",{className:"px-3 py-2",children:_.student.name}),s.jsx("td",{className:"px-3 py-2 text-slate-500",children:_.student.class})]},N))})]})}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-blue-700",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Summary:"})," Scheduled ",p.length," of ",u.filter(_=>_.selected).length," selected students."]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Ne,{variant:"outline",onClick:()=>r(2),children:"Adjust Configuration"}),s.jsxs(Ne,{onClick:j,disabled:p.length===0||m,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(wi,{className:"mr-2 h-4 w-4"})," Confirm & Save"]})]})]})]})]})};function en(e){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(e)}var vi=Uint8Array,Ns=Uint16Array,z3=Int32Array,S_=new vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),N_=new vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),RA=new vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZG=function(e,t){for(var r=new Ns(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new z3(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},eK=ZG(S_,2),tK=eK.b,$A=eK.r;tK[28]=258,$A[258]=28;var rK=ZG(N_,0),E$e=rK.b,cM=rK.r,BA=new Ns(32768);for(var _n=0;_n<32768;++_n){var eu=(_n&43690)>>1|(_n&21845)<<1;eu=(eu&52428)>>2|(eu&13107)<<2,eu=(eu&61680)>>4|(eu&3855)<<4,BA[_n]=((eu&65280)>>8|(eu&255)<<8)>>1}var Sl=function(e,t,r){for(var n=e.length,a=0,i=new Ns(t);a<n;++a)e[a]&&++i[e[a]-1];var o=new Ns(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Ns(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[BA[f]>>c]=u}else for(l=new Ns(n),a=0;a<n;++a)e[a]&&(l[a]=BA[o[e[a]-1]++]>>15-e[a]);return l},Uu=new vi(288);for(var _n=0;_n<144;++_n)Uu[_n]=8;for(var _n=144;_n<256;++_n)Uu[_n]=9;for(var _n=256;_n<280;++_n)Uu[_n]=7;for(var _n=280;_n<288;++_n)Uu[_n]=8;var $v=new vi(32);for(var _n=0;_n<32;++_n)$v[_n]=5;var k$e=Sl(Uu,9,0),P$e=Sl(Uu,9,1),O$e=Sl($v,5,0),F$e=Sl($v,5,1),tS=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},No=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},rS=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},U3=function(e){return(e+7)/8|0},nK=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new vi(e.subarray(t,r))},D$e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ko=function(e,t,r){var n=new Error(t||D$e[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ko),!r)throw n;return n},L$e=function(e,t,r,n){var a=e.length,i=n?n.length:0;if(!a||t.f&&!t.l)return r||new vi(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new vi(a*3));var u=function(fe){var Q=r.length;if(fe>Q){var ke=new vi(Math.max(Q*2,fe));ke.set(r),r=ke}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,v=t.d,m=t.m,x=t.n,g=a*8;do{if(!p){d=No(e,f,1);var y=No(e,f+1,3);if(f+=3,y)if(y==1)p=P$e,v=F$e,m=9,x=5;else if(y==2){var N=No(e,f,31)+257,S=No(e,f+10,15)+4,T=N+No(e,f+5,31)+1;f+=14;for(var k=new vi(T),V=new vi(19),C=0;C<S;++C)V[RA[C]]=No(e,f+C*3,7);f+=S*3;for(var P=tS(V),U=(1<<P)-1,q=Sl(V,P,1),C=0;C<T;){var z=q[No(e,f,U)];f+=z&15;var b=z>>4;if(b<16)k[C++]=b;else{var I=0,R=0;for(b==16?(R=3+No(e,f,3),f+=2,I=k[C-1]):b==17?(R=3+No(e,f,7),f+=3):b==18&&(R=11+No(e,f,127),f+=7);R--;)k[C++]=I}}var G=k.subarray(0,N),F=k.subarray(N);m=tS(G),x=tS(F),p=Sl(G,m,1),v=Sl(F,x,1)}else ko(1);else{var b=U3(f)+4,j=e[b-4]|e[b-3]<<8,_=b+j;if(_>a){c&&ko(0);break}l&&u(h+j),r.set(e.subarray(b,_),h),t.b=h+=j,t.p=f=_*8,t.f=d;continue}if(f>g){c&&ko(0);break}}l&&u(h+131072);for(var H=(1<<m)-1,J=(1<<x)-1,A=f;;A=f){var I=p[rS(e,f)&H],M=I>>4;if(f+=I&15,f>g){c&&ko(0);break}if(I||ko(2),M<256)r[h++]=M;else if(M==256){A=f,p=null;break}else{var K=M-254;if(M>264){var C=M-257,L=S_[C];K=No(e,f,(1<<L)-1)+tK[C],f+=L}var Y=v[rS(e,f)&J],Z=Y>>4;Y||ko(3),f+=Y&15;var F=E$e[Z];if(Z>3){var L=N_[Z];F+=rS(e,f)&(1<<L)-1,f+=L}if(f>g){c&&ko(0);break}l&&u(h+131072);var se=h+K;if(h<F){var W=i-F,ae=Math.min(F,se);for(W+h<0&&ko(3);h<ae;++h)r[h]=n[W+h]}for(;h<se;++h)r[h]=r[h-F]}}t.l=p,t.p=A,t.b=h,t.f=d,p&&(d=1,t.m=m,t.d=v,t.n=x)}while(!d);return h!=r.length&&o?nK(r,0,h):r.subarray(0,h)},Kl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},jm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},nS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:iK,l:0};if(a==1){var o=new vi(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,N){return _.f-N.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new Ns(h+1),v=zA(r[d-1],p,0);if(v>t){var n=0,m=0,x=v-t,g=1<<x;for(i.sort(function(N,S){return p[S.s]-p[N.s]||N.f-S.f});n<a;++n){var y=i[n].s;if(p[y]>t)m+=g-(1<<v-p[y]),p[y]=t;else break}for(m>>=x;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var j=i[n].s;p[j]==t&&(--p[j],++m)}v=t}return{t:new vi(p),l:v}},zA=function(e,t,r){return e.s==-1?Math.max(zA(e.l,t,r+1),zA(e.r,t,r+1)):t[e.s]=r},uM=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ns(++t),n=0,a=e[0],i=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Sm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},aK=function(e,t,r){var n=r.length,a=U3(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},dM=function(e,t,r,n,a,i,o,l,c,u,d){Kl(t,d++,r),++a[256];for(var f=nS(a,15),h=f.t,p=f.l,v=nS(i,15),m=v.t,x=v.l,g=uM(h),y=g.c,b=g.n,j=uM(m),_=j.c,N=j.n,S=new Ns(19),T=0;T<y.length;++T)++S[y[T]&31];for(var T=0;T<_.length;++T)++S[_[T]&31];for(var k=nS(S,7),V=k.t,C=k.l,P=19;P>4&&!V[RA[P-1]];--P);var U=u+5<<3,q=Sm(a,Uu)+Sm(i,$v)+o,z=Sm(a,h)+Sm(i,m)+o+14+3*P+Sm(S,V)+2*S[16]+3*S[17]+7*S[18];if(c>=0&&U<=q&&U<=z)return aK(t,d,e.subarray(c,c+u));var I,R,G,F;if(Kl(t,d,1+(z<q)),d+=2,z<q){I=Sl(h,p,0),R=h,G=Sl(m,x,0),F=m;var H=Sl(V,C,0);Kl(t,d,b-257),Kl(t,d+5,N-1),Kl(t,d+10,P-4),d+=14;for(var T=0;T<P;++T)Kl(t,d+3*T,V[RA[T]]);d+=3*P;for(var J=[y,_],A=0;A<2;++A)for(var M=J[A],T=0;T<M.length;++T){var K=M[T]&31;Kl(t,d,H[K]),d+=V[K],K>15&&(Kl(t,d,M[T]>>5&127),d+=M[T]>>12)}}else I=k$e,R=Uu,G=O$e,F=$v;for(var T=0;T<l;++T){var L=n[T];if(L>255){var K=L>>18&31;jm(t,d,I[K+257]),d+=R[K+257],K>7&&(Kl(t,d,L>>23&31),d+=S_[K]);var Y=L&31;jm(t,d,G[Y]),d+=F[Y],Y>3&&(jm(t,d,L>>5&8191),d+=N_[Y])}else jm(t,d,I[L]),d+=R[L]}return jm(t,d,I[256]),d+R[256]},I$e=new z3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iK=new vi(0),M$e=function(e,t,r,n,a,i){var o=i.z||e.length,l=new vi(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=I$e[t-1],h=f>>13,p=f&8191,v=(1<<r)-1,m=i.p||new Ns(32768),x=i.h||new Ns(v+1),g=Math.ceil(r/3),y=2*g,b=function(Ie){return(e[Ie]^e[Ie+1]<<g^e[Ie+2]<<y)&v},j=new z3(25e3),_=new Ns(288),N=new Ns(32),S=0,T=0,k=i.i||0,V=0,C=i.w||0,P=0;k+2<o;++k){var U=b(k),q=k&32767,z=x[U];if(m[q]=z,x[U]=q,C<=k){var I=o-k;if((S>7e3||V>24576)&&(I>423||!u)){d=dM(e,c,0,j,_,N,T,V,P,k-P,d),V=S=T=0,P=k;for(var R=0;R<286;++R)_[R]=0;for(var R=0;R<30;++R)N[R]=0}var G=2,F=0,H=p,J=q-z&32767;if(I>2&&U==b(k-J))for(var A=Math.min(h,I)-1,M=Math.min(32767,k),K=Math.min(258,I);J<=M&&--H&&q!=z;){if(e[k+G]==e[k+G-J]){for(var L=0;L<K&&e[k+L]==e[k+L-J];++L);if(L>G){if(G=L,F=J,L>A)break;for(var Y=Math.min(J,L-2),Z=0,R=0;R<Y;++R){var se=k-J+R&32767,W=m[se],ae=se-W&32767;ae>Z&&(Z=ae,z=se)}}}q=z,z=m[q],J+=q-z&32767}if(F){j[V++]=268435456|$A[G]<<18|cM[F];var fe=$A[G]&31,Q=cM[F]&31;T+=S_[fe]+N_[Q],++_[257+fe],++N[Q],C=k+G,++S}else j[V++]=e[k],++_[e[k]]}}for(k=Math.max(k,C);k<o;++k)j[V++]=e[k],++_[e[k]];d=dM(e,c,u,j,_,N,T,V,P,k-P,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=m,i.i=k,i.w=C)}else{for(var k=i.w||0;k<o+u;k+=65535){var ke=k+65535;ke>=o&&(c[d/8|0]=u,ke=o),d=aK(c,d+1,e.subarray(k,ke))}i.i=o}return nK(l,0,n+U3(d)+a)},sK=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},R$e=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new vi(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return M$e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},oK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},$$e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=sK();a.p(t.dictionary),oK(e,2,a.d())}},B$e=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ko(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&ko(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function UA(e,t){t||(t={});var r=sK();r.p(e);var n=R$e(e,t,t.dictionary?6:2,4);return $$e(n,t),oK(n,n.length-4,r.d()),n}function z$e(e,t){return L$e(e.subarray(B$e(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var U$e=typeof TextDecoder<"u"&&new TextDecoder,V$e=0;try{U$e.decode(iK,{stream:!0}),V$e=1}catch{}var Qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function aS(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var cn={log:aS,warn:function(e){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):aS.call(null,arguments))},error:function(e){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):aS(e))}};function iS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){jd(n.response,t,r)},n.onerror=function(){cn.error("could not download file")},n.send()}function fM(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function hy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var gg,VA,jd=Qt.saveAs||((typeof window>"u"?"undefined":en(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Qt.URL||Qt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?fM(a.href)?iS(e,t,r):hy(a,a.target="_blank"):hy(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){hy(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(fM(e))iS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){hy(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:en(i)!=="object"&&(cn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return iS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Qt.HTMLElement)||Qt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":en(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=Qt.URL||Qt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function sS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=si(r,n,a,i,t[0],7,-680876936),i=si(i,r,n,a,t[1],12,-389564586),a=si(a,i,r,n,t[2],17,606105819),n=si(n,a,i,r,t[3],22,-1044525330),r=si(r,n,a,i,t[4],7,-176418897),i=si(i,r,n,a,t[5],12,1200080426),a=si(a,i,r,n,t[6],17,-1473231341),n=si(n,a,i,r,t[7],22,-45705983),r=si(r,n,a,i,t[8],7,1770035416),i=si(i,r,n,a,t[9],12,-1958414417),a=si(a,i,r,n,t[10],17,-42063),n=si(n,a,i,r,t[11],22,-1990404162),r=si(r,n,a,i,t[12],7,1804603682),i=si(i,r,n,a,t[13],12,-40341101),a=si(a,i,r,n,t[14],17,-1502002290),r=oi(r,n=si(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=oi(i,r,n,a,t[6],9,-1069501632),a=oi(a,i,r,n,t[11],14,643717713),n=oi(n,a,i,r,t[0],20,-373897302),r=oi(r,n,a,i,t[5],5,-701558691),i=oi(i,r,n,a,t[10],9,38016083),a=oi(a,i,r,n,t[15],14,-660478335),n=oi(n,a,i,r,t[4],20,-405537848),r=oi(r,n,a,i,t[9],5,568446438),i=oi(i,r,n,a,t[14],9,-1019803690),a=oi(a,i,r,n,t[3],14,-187363961),n=oi(n,a,i,r,t[8],20,1163531501),r=oi(r,n,a,i,t[13],5,-1444681467),i=oi(i,r,n,a,t[2],9,-51403784),a=oi(a,i,r,n,t[7],14,1735328473),r=li(r,n=oi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=li(i,r,n,a,t[8],11,-2022574463),a=li(a,i,r,n,t[11],16,1839030562),n=li(n,a,i,r,t[14],23,-35309556),r=li(r,n,a,i,t[1],4,-1530992060),i=li(i,r,n,a,t[4],11,1272893353),a=li(a,i,r,n,t[7],16,-155497632),n=li(n,a,i,r,t[10],23,-1094730640),r=li(r,n,a,i,t[13],4,681279174),i=li(i,r,n,a,t[0],11,-358537222),a=li(a,i,r,n,t[3],16,-722521979),n=li(n,a,i,r,t[6],23,76029189),r=li(r,n,a,i,t[9],4,-640364487),i=li(i,r,n,a,t[12],11,-421815835),a=li(a,i,r,n,t[15],16,530742520),r=ci(r,n=li(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ci(i,r,n,a,t[7],10,1126891415),a=ci(a,i,r,n,t[14],15,-1416354905),n=ci(n,a,i,r,t[5],21,-57434055),r=ci(r,n,a,i,t[12],6,1700485571),i=ci(i,r,n,a,t[3],10,-1894986606),a=ci(a,i,r,n,t[10],15,-1051523),n=ci(n,a,i,r,t[1],21,-2054922799),r=ci(r,n,a,i,t[8],6,1873313359),i=ci(i,r,n,a,t[15],10,-30611744),a=ci(a,i,r,n,t[6],15,-1560198380),n=ci(n,a,i,r,t[13],21,1309151649),r=ci(r,n,a,i,t[4],6,-145523070),i=ci(i,r,n,a,t[11],10,-1120210379),a=ci(a,i,r,n,t[2],15,718787259),n=ci(n,a,i,r,t[9],21,-343485551),e[0]=yu(r,e[0]),e[1]=yu(n,e[1]),e[2]=yu(a,e[2]),e[3]=yu(i,e[3])}function A_(e,t,r,n,a,i){return t=yu(yu(t,e),yu(n,i)),yu(t<<a|t>>>32-a,r)}function si(e,t,r,n,a,i,o){return A_(t&r|~t&n,e,t,a,i,o)}function oi(e,t,r,n,a,i,o){return A_(t&n|r&~n,e,t,a,i,o)}function li(e,t,r,n,a,i,o){return A_(t^r^n,e,t,a,i,o)}function ci(e,t,r,n,a,i,o){return A_(r^(t|~n),e,t,a,i,o)}function cK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)sS(n,H$e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(sS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,sS(n,a),n}function H$e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}gg=Qt.atob.bind(Qt),VA=Qt.btoa.bind(Qt);var hM="0123456789abcdef".split("");function W$e(e){for(var t="",r=0;r<4;r++)t+=hM[e>>8*r+4&15]+hM[e>>8*r&15];return t}function q$e(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function HA(e){return cK(e).map(q$e).join("")}var G$e=function(e){for(var t=0;t<e.length;t++)e[t]=W$e(e[t]);return e.join("")}(cK("hello"))!="5d41402abc4b2a76b9719d911017c592";function yu(e,t){if(G$e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function WA(e,t){var r,n,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,p=0,v="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,o=l[(l[h]+l[p])%256],v+=String.fromCharCode(t.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var pM={print:4,modify:8,copy:16,"annot-forms":32};function mh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(pM.perm!==void 0)throw new Error("Invalid permission: "+l);a+=pM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=HA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=WA(this.encryptionKey,this.padding)}function gh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function mM(e){if(en(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){Qt.console&&cn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Bv(e){if(!(this instanceof Bv))return new Bv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function uK(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function hu(e,t,r,n,a){if(!(this instanceof hu))return new hu(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,uK.call(this,n,a)}function Md(e,t,r,n,a){if(!(this instanceof Md))return new Md(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,uK.call(this,n,a)}function Vt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;en(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=mM;var v="1.3",m=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(D){v=D};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var g=p.__private__.getPageFormat=function(D){return x[D]};a=a||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},b=y.COMPAT;function j(){this.saveGraphicsState(),ce(new xt(it,0,0,-it,0,Lc()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),u="n",b=y.ADVANCED}function _(){this.restoreGraphicsState(),u="S",b=y.COMPAT}var N=p.__private__.combineFontStyleAndFontWeight=function(D,te){if(D=="bold"&&te=="normal"||D=="bold"&&te==400||D=="normal"&&te=="italic"||D=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(D=te==400||te==="normal"?D==="italic"?"italic":"normal":te!=700&&te!=="bold"||D!=="normal"?(te==700?"bold":te)+""+D:"bold"),D};p.advancedAPI=function(D){var te=b===y.COMPAT;return te&&j.call(this),typeof D!="function"||(D(this),te&&_.call(this)),this},p.compatAPI=function(D){var te=b===y.ADVANCED;return te&&_.call(this),typeof D!="function"||(D(this),te&&j.call(this)),this},p.isAdvancedAPI=function(){return b===y.ADVANCED};var S,T=function(D){if(b!==y.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=p.roundToPrecision=p.__private__.roundToPrecision=function(D,te){var je=t||te;if(isNaN(D)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(je).replace(/0+$/,"")};S=p.hpf=p.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return k(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return k(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return k(D,16)};var V=p.f2=p.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return k(D,2)},C=p.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return k(D,3)},P=p.scale=p.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return b===y.COMPAT?D*it:b===y.ADVANCED?D:void 0},U=function(D){return b===y.COMPAT?Lc()-D:b===y.ADVANCED?D:void 0},q=function(D){return P(U(D))};p.__private__.setPrecision=p.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(t=parseInt(D,10))};var z,I="00000000000000000000000000000000",R=p.__private__.getFileId=function(){return I},G=p.__private__.setFileId=function(D){return I=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():I.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ti=new mh(d.userPermissions,d.userPassword,d.ownerPassword,I)),I};p.setFileId=function(D){return G(D),this},p.getFileId=function(){return R()};var F=p.__private__.convertDateToPDFDate=function(D){var te=D.getTimezoneOffset(),je=te<0?"+":"-",Ee=Math.floor(Math.abs(te/60)),Me=Math.abs(te%60),rt=[je,K(Ee),"'",K(Me),"'"].join("");return["D:",D.getFullYear(),K(D.getMonth()+1),K(D.getDate()),K(D.getHours()),K(D.getMinutes()),K(D.getSeconds()),rt].join("")},H=p.__private__.convertPDFDateToDate=function(D){var te=parseInt(D.substr(2,4),10),je=parseInt(D.substr(6,2),10)-1,Ee=parseInt(D.substr(8,2),10),Me=parseInt(D.substr(10,2),10),rt=parseInt(D.substr(12,2),10),pt=parseInt(D.substr(14,2),10);return new Date(te,je,Ee,Me,rt,pt,0)},J=p.__private__.setCreationDate=function(D){var te;if(D===void 0&&(D=new Date),D instanceof Date)te=F(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=D}return z=te},A=p.__private__.getCreationDate=function(D){var te=z;return D==="jsDate"&&(te=H(z)),te};p.setCreationDate=function(D){return J(D),this},p.getCreationDate=function(D){return A(D)};var M,K=p.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},L=p.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},Y=0,Z=[],se=[],W=0,ae=[],fe=[],Q=!1,ke=se,Ie=function(){Y=0,W=0,se=[],Z=[],ae=[],he=vn(),pe=vn()};p.__private__.setCustomOutputDestination=function(D){Q=!0,ke=D};var Ae=function(D){Q||(ke=D)};p.__private__.resetCustomOutputDestination=function(){Q=!1,ke=se};var ce=p.__private__.out=function(D){return D=D.toString(),W+=D.length+1,ke.push(D),ke},Re=p.__private__.write=function(D){return ce(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},at=p.__private__.getArrayBuffer=function(D){for(var te=D.length,je=new ArrayBuffer(te),Ee=new Uint8Array(je);te--;)Ee[te]=D.charCodeAt(te);return je},$e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return $e};var et=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(D){return et=b===y.ADVANCED?D/it:D,this};var xe,de=p.__private__.getFontSize=p.getFontSize=function(){return b===y.COMPAT?et:et*it},Be=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(D){return Be=D,this},p.__private__.getR2L=p.getR2L=function(){return Be};var we,ge=p.__private__.setZoomMode=function(D){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))xe=D;else if(isNaN(D)){if(te.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');xe=D}else xe=parseInt(D,10)};p.__private__.getZoomMode=function(){return xe};var ze,tt=p.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');we=D};p.__private__.getPageMode=function(){return we};var ht=p.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');ze=D};p.__private__.getLayoutMode=function(){return ze},p.__private__.setDisplayMode=p.setDisplayMode=function(D,te,je){return ge(D),ht(te),tt(je),this};var Se={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(D){if(Object.keys(Se).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Se[D]},p.__private__.getDocumentProperties=function(){return Se},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(D){for(var te in Se)Se.hasOwnProperty(te)&&D[te]&&(Se[te]=D[te]);return this},p.__private__.setDocumentProperty=function(D,te){if(Object.keys(Se).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Se[D]=te};var st,it,qt,jt,Sr,Gt={},or={},Wr=[],Ht={},Yr={},le={},Rt={},kr=null,ar=0,Bt=[],Jt=new mM(p),aa=e.hotfixes||[],nn={},Je={},kt=[],xt=function D(te,je,Ee,Me,rt,pt){if(!(this instanceof D))return new D(te,je,Ee,Me,rt,pt);isNaN(te)&&(te=1),isNaN(je)&&(je=0),isNaN(Ee)&&(Ee=0),isNaN(Me)&&(Me=1),isNaN(rt)&&(rt=0),isNaN(pt)&&(pt=0),this._matrix=[te,je,Ee,Me,rt,pt]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(D)},xt.prototype.multiply=function(D){var te=D.sx*this.sx+D.shy*this.shx,je=D.sx*this.shy+D.shy*this.sy,Ee=D.shx*this.sx+D.sy*this.shx,Me=D.shx*this.shy+D.sy*this.sy,rt=D.tx*this.sx+D.ty*this.shx+this.tx,pt=D.tx*this.shy+D.ty*this.sy+this.ty;return new xt(te,je,Ee,Me,rt,pt)},xt.prototype.decompose=function(){var D=this.sx,te=this.shy,je=this.shx,Ee=this.sy,Me=this.tx,rt=this.ty,pt=Math.sqrt(D*D+te*te),Dt=(D/=pt)*je+(te/=pt)*Ee;je-=D*Dt,Ee-=te*Dt;var zt=Math.sqrt(je*je+Ee*Ee);return Dt/=zt,D*(Ee/=zt)<te*(je/=zt)&&(D=-D,te=-te,Dt=-Dt,pt=-pt),{scale:new xt(pt,0,0,zt,0,0),translate:new xt(1,0,0,1,Me,rt),rotate:new xt(D,te,-te,D,0,0),skew:new xt(1,0,Dt,1,0,0)}},xt.prototype.toString=function(D){return this.join(" ")},xt.prototype.inversed=function(){var D=this.sx,te=this.shy,je=this.shx,Ee=this.sy,Me=this.tx,rt=this.ty,pt=1/(D*Ee-te*je),Dt=Ee*pt,zt=-te*pt,hr=-je*pt,cr=D*pt;return new xt(Dt,zt,hr,cr,-Dt*Me-hr*rt,-zt*Me-cr*rt)},xt.prototype.applyToPoint=function(D){var te=D.x*this.sx+D.y*this.shx+this.tx,je=D.x*this.shy+D.y*this.sy+this.ty;return new Mf(te,je)},xt.prototype.applyToRectangle=function(D){var te=this.applyToPoint(D),je=this.applyToPoint(new Mf(D.x+D.w,D.y+D.h));return new Cp(te.x,te.y,je.x-te.x,je.y-te.y)},xt.prototype.clone=function(){var D=this.sx,te=this.shy,je=this.shx,Ee=this.sy,Me=this.tx,rt=this.ty;return new xt(D,te,je,Ee,Me,rt)},p.Matrix=xt;var At=p.matrixMult=function(D,te){return te.multiply(D)},zr=new xt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=zr;var On=function(D,te){if(!Yr[D]){var je=(te instanceof hu?"Sh":"P")+(Object.keys(Ht).length+1).toString(10);te.id=je,Yr[D]=je,Ht[je]=te,Jt.publish("addPattern",te)}};p.ShadingPattern=hu,p.TilingPattern=Md,p.addShadingPattern=function(D,te){return T("addShadingPattern()"),On(D,te),this},p.beginTilingPattern=function(D){T("beginTilingPattern()"),Ix(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},p.endTilingPattern=function(D,te){T("endTilingPattern()"),te.stream=fe[M].join(`
`),On(D,te),Jt.publish("endTilingPattern",te),kt.pop().restore()};var An=p.__private__.newObject=function(){var D=vn();return re(D,!0),D},vn=p.__private__.newObjectDeferred=function(){return Y++,Z[Y]=function(){return W},Y},re=function(D,te){return te=typeof te=="boolean"&&te,Z[D]=W,te&&ce(D+" 0 obj"),D},ye=p.__private__.newAdditionalObject=function(){var D={objId:vn(),content:""};return ae.push(D),D},he=vn(),pe=vn(),be=p.__private__.decodeColorString=function(D){var te=D.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var je=parseFloat(te[0]);te=[je,je,je,"r"]}for(var Ee="#",Me=0;Me<3;Me++)Ee+=("0"+Math.floor(255*parseFloat(te[Me])).toString(16)).slice(-2);return Ee},_e=p.__private__.encodeColorString=function(D){var te;typeof D=="string"&&(D={ch1:D});var je=D.ch1,Ee=D.ch2,Me=D.ch3,rt=D.ch4,pt=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var Dt=new lK(je);if(Dt.ok)je=Dt.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var zt=parseInt(je.substr(1),16);je=zt>>16&255,Ee=zt>>8&255,Me=255&zt}if(Ee===void 0||rt===void 0&&je===Ee&&Ee===Me)if(typeof je=="string")te=je+" "+pt[0];else switch(D.precision){case 2:te=V(je/255)+" "+pt[0];break;case 3:default:te=C(je/255)+" "+pt[0]}else if(rt===void 0||en(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return te=["1.","1.","1.",pt[1]].join(" ");if(typeof je=="string")te=[je,Ee,Me,pt[1]].join(" ");else switch(D.precision){case 2:te=[V(je/255),V(Ee/255),V(Me/255),pt[1]].join(" ");break;default:case 3:te=[C(je/255),C(Ee/255),C(Me/255),pt[1]].join(" ")}}else if(typeof je=="string")te=[je,Ee,Me,rt,pt[2]].join(" ");else switch(D.precision){case 2:te=[V(je),V(Ee),V(Me),V(rt),pt[2]].join(" ");break;case 3:default:te=[C(je),C(Ee),C(Me),C(rt),pt[2]].join(" ")}return te},Ve=p.__private__.getFilters=function(){return o},Qe=p.__private__.putStream=function(D){var te=(D=D||{}).data||"",je=D.filters||Ve(),Ee=D.alreadyAppliedFilters||[],Me=D.addLength1||!1,rt=te.length,pt=D.objectId,Dt=function(ri){return ri};if(d!==null&&pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Dt=ti.encryptor(pt,0));var zt={};je===!0&&(je=["FlateEncode"]);var hr=D.additionalKeyValues||[],cr=(zt=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(te,je):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(zt.data.length!==0&&(hr.push({key:"Length",value:zt.data.length}),Me===!0&&hr.push({key:"Length1",value:rt})),cr.length!=0)if(cr.split("/").length-1==1)hr.push({key:"Filter",value:cr});else{hr.push({key:"Filter",value:"["+cr+"]"});for(var Fr=0;Fr<hr.length;Fr+=1)if(hr[Fr].key==="DecodeParms"){for(var Fn=[],$n=0;$n<zt.reverseChain.split("/").length-1;$n+=1)Fn.push("null");Fn.push(hr[Fr].value),hr[Fr].value="["+Fn.join(" ")+"]"}}ce("<<");for(var sa=0;sa<hr.length;sa++)ce("/"+hr[sa].key+" "+hr[sa].value);ce(">>"),zt.data.length!==0&&(ce("stream"),ce(Dt(zt.data)),ce("endstream"))},Ue=p.__private__.putPage=function(D){var te=D.number,je=D.data,Ee=D.objId,Me=D.contentsObjId;re(Ee,!0),ce("<</Type /Page"),ce("/Parent "+D.rootDictionaryObjId+" 0 R"),ce("/Resources "+D.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(S(D.mediaBox.bottomLeftX))+" "+parseFloat(S(D.mediaBox.bottomLeftY))+" "+S(D.mediaBox.topRightX)+" "+S(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&ce("/CropBox ["+S(D.cropBox.bottomLeftX)+" "+S(D.cropBox.bottomLeftY)+" "+S(D.cropBox.topRightX)+" "+S(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&ce("/BleedBox ["+S(D.bleedBox.bottomLeftX)+" "+S(D.bleedBox.bottomLeftY)+" "+S(D.bleedBox.topRightX)+" "+S(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&ce("/TrimBox ["+S(D.trimBox.bottomLeftX)+" "+S(D.trimBox.bottomLeftY)+" "+S(D.trimBox.topRightX)+" "+S(D.trimBox.topRightY)+"]"),D.artBox!==null&&ce("/ArtBox ["+S(D.artBox.bottomLeftX)+" "+S(D.artBox.bottomLeftY)+" "+S(D.artBox.topRightX)+" "+S(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&ce("/UserUnit "+D.userUnit),Jt.publish("putPage",{objId:Ee,pageContext:Bt[te],pageNumber:te,page:je}),ce("/Contents "+Me+" 0 R"),ce(">>"),ce("endobj");var rt=je.join(`
`);return b===y.ADVANCED&&(rt+=`
Q`),re(Me,!0),Qe({data:rt,filters:Ve(),objectId:Me}),ce("endobj"),Ee},qe=p.__private__.putPages=function(){var D,te,je=[];for(D=1;D<=ar;D++)Bt[D].objId=vn(),Bt[D].contentsObjId=vn();for(D=1;D<=ar;D++)je.push(Ue({number:D,data:fe[D],objId:Bt[D].objId,contentsObjId:Bt[D].contentsObjId,mediaBox:Bt[D].mediaBox,cropBox:Bt[D].cropBox,bleedBox:Bt[D].bleedBox,trimBox:Bt[D].trimBox,artBox:Bt[D].artBox,userUnit:Bt[D].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:pe}));re(he,!0),ce("<</Type /Pages");var Ee="/Kids [";for(te=0;te<ar;te++)Ee+=je[te]+" 0 R ";ce(Ee+"]"),ce("/Count "+ar),ce(">>"),ce("endobj"),Jt.publish("postPutPages")},Ke=function(D){Jt.publish("putFont",{font:D,out:ce,newObject:An,putStream:Qe}),D.isAlreadyPutted!==!0&&(D.objectNumber=An(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+gh(D.postScriptName)),ce("/Subtype /Type1"),typeof D.encoding=="string"&&ce("/Encoding /"+D.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},mt=function(){for(var D in Gt)Gt.hasOwnProperty(D)&&(f===!1||f===!0&&h.hasOwnProperty(D))&&Ke(Gt[D])},Nt=function(D){D.objectNumber=An();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[S(D.x),S(D.y),S(D.x+D.width),S(D.y+D.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var je=D.pages[1].join(`
`);Qe({data:je,additionalKeyValues:te,objectId:D.objectNumber}),ce("endobj")},Ft=function(){for(var D in nn)nn.hasOwnProperty(D)&&Nt(nn[D])},vt=function(D,te){var je,Ee=[],Me=1/(te-1);for(je=0;je<1;je+=Me)Ee.push(je);if(Ee.push(1),D[0].offset!=0){var rt={offset:0,color:D[0].color};D.unshift(rt)}if(D[D.length-1].offset!=1){var pt={offset:1,color:D[D.length-1].color};D.push(pt)}for(var Dt="",zt=0,hr=0;hr<Ee.length;hr++){for(je=Ee[hr];je>D[zt+1].offset;)zt++;var cr=D[zt].offset,Fr=(je-cr)/(D[zt+1].offset-cr),Fn=D[zt].color,$n=D[zt+1].color;Dt+=L(Math.round((1-Fr)*Fn[0]+Fr*$n[0]).toString(16))+L(Math.round((1-Fr)*Fn[1]+Fr*$n[1]).toString(16))+L(Math.round((1-Fr)*Fn[2]+Fr*$n[2]).toString(16))}return Dt.trim()},Ot=function(D,te){te||(te=21);var je=An(),Ee=vt(D.colors,te),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+te+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe({data:Ee,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),ce("endobj"),D.objectNumber=An(),ce("<< /ShadingType "+D.type),ce("/ColorSpace /DeviceRGB");var rt="/Coords ["+S(parseFloat(D.coords[0]))+" "+S(parseFloat(D.coords[1]))+" ";D.type===2?rt+=S(parseFloat(D.coords[2]))+" "+S(parseFloat(D.coords[3])):rt+=S(parseFloat(D.coords[2]))+" "+S(parseFloat(D.coords[3]))+" "+S(parseFloat(D.coords[4]))+" "+S(parseFloat(D.coords[5])),ce(rt+="]"),D.matrix&&ce("/Matrix ["+D.matrix.toString()+"]"),ce("/Function "+je+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},nr=function(D,te){var je=vn(),Ee=An();te.push({resourcesOid:je,objectOid:Ee}),D.objectNumber=Ee;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+D.boundingBox.map(S).join(" ")+"]"}),Me.push({key:"XStep",value:S(D.xStep)}),Me.push({key:"YStep",value:S(D.yStep)}),Me.push({key:"Resources",value:je+" 0 R"}),D.matrix&&Me.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Qe({data:D.stream,additionalKeyValues:Me,objectId:D.objectNumber}),ce("endobj")},Kr=function(D){var te;for(te in Ht)Ht.hasOwnProperty(te)&&(Ht[te]instanceof hu?Ot(Ht[te]):Ht[te]instanceof Md&&nr(Ht[te],D))},an=function(D){for(var te in D.objectNumber=An(),ce("<<"),D)switch(te){case"opacity":ce("/ca "+V(D[te]));break;case"stroke-opacity":ce("/CA "+V(D[te]))}ce(">>"),ce("endobj")},ia=function(){var D;for(D in le)le.hasOwnProperty(D)&&an(le[D])},po=function(){for(var D in ce("/XObject <<"),nn)nn.hasOwnProperty(D)&&nn[D].objectNumber>=0&&ce("/"+D+" "+nn[D].objectNumber+" 0 R");Jt.publish("putXobjectDict"),ce(">>")},Dl=function(){ti.oid=An(),ce("<<"),ce("/Filter /Standard"),ce("/V "+ti.v),ce("/R "+ti.r),ce("/U <"+ti.toHexString(ti.U)+">"),ce("/O <"+ti.toHexString(ti.O)+">"),ce("/P "+ti.P),ce(">>"),ce("endobj")},tl=function(){for(var D in ce("/Font <<"),Gt)Gt.hasOwnProperty(D)&&(f===!1||f===!0&&h.hasOwnProperty(D))&&ce("/"+D+" "+Gt[D].objectNumber+" 0 R");ce(">>")},mo=function(){if(Object.keys(Ht).length>0){for(var D in ce("/Shading <<"),Ht)Ht.hasOwnProperty(D)&&Ht[D]instanceof hu&&Ht[D].objectNumber>=0&&ce("/"+D+" "+Ht[D].objectNumber+" 0 R");Jt.publish("putShadingPatternDict"),ce(">>")}},rl=function(D){if(Object.keys(Ht).length>0){for(var te in ce("/Pattern <<"),Ht)Ht.hasOwnProperty(te)&&Ht[te]instanceof p.TilingPattern&&Ht[te].objectNumber>=0&&Ht[te].objectNumber<D&&ce("/"+te+" "+Ht[te].objectNumber+" 0 R");Jt.publish("putTilingPatternDict"),ce(">>")}},ls=function(){if(Object.keys(le).length>0){var D;for(D in ce("/ExtGState <<"),le)le.hasOwnProperty(D)&&le[D].objectNumber>=0&&ce("/"+D+" "+le[D].objectNumber+" 0 R");Jt.publish("putGStateDict"),ce(">>")}},Kn=function(D){re(D.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tl(),mo(),rl(D.objectOid),ls(),po(),ce(">>"),ce("endobj")},wx=function(){var D=[];mt(),ia(),Ft(),Kr(D),Jt.publish("putResources"),D.forEach(Kn),Kn({resourcesOid:pe,objectOid:Number.MAX_SAFE_INTEGER}),Jt.publish("postPutResources")},_x=function(){Jt.publish("putAdditionalObjects");for(var D=0;D<ae.length;D++){var te=ae[D];re(te.objId,!0),ce(te.content),ce("endobj")}Jt.publish("postPutAdditionalObjects")},jx=function(D){or[D.fontName]=or[D.fontName]||{},or[D.fontName][D.fontStyle]=D.id},yp=function(D,te,je,Ee,Me){var rt={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:D,fontName:te,fontStyle:je,encoding:Ee,isStandardFont:Me||!1,metadata:{}};return Jt.publish("addFont",{font:rt,instance:this}),Gt[rt.id]=rt,jx(rt),rt.id},T_=function(D){for(var te=0,je=$e.length;te<je;te++){var Ee=yp.call(this,D[te][0],D[te][1],D[te][2],$e[te][3],!0);f===!1&&(h[Ee]=!0);var Me=D[te][0].split("-");jx({id:Ee,fontName:Me[0],fontStyle:Me[1]||""})}Jt.publish("addFonts",{fonts:Gt,dictionary:or})},go=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(Ee){var te=Ee.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var je="Error in function "+te.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Qt.console)throw new Error(je);Qt.console.error(je,Ee),Qt.alert&&alert(je)}},D.foo.bar=D,D.foo},Pf=function(D,te){var je,Ee,Me,rt,pt,Dt,zt,hr,cr;if(Me=(te=te||{}).sourceEncoding||"Unicode",pt=te.outputEncoding,(te.autoencode||pt)&&Gt[st].metadata&&Gt[st].metadata[Me]&&Gt[st].metadata[Me].encoding&&(rt=Gt[st].metadata[Me].encoding,!pt&&Gt[st].encoding&&(pt=Gt[st].encoding),!pt&&rt.codePages&&(pt=rt.codePages[0]),typeof pt=="string"&&(pt=rt[pt]),pt)){for(zt=!1,Dt=[],je=0,Ee=D.length;je<Ee;je++)(hr=pt[D.charCodeAt(je)])?Dt.push(String.fromCharCode(hr)):Dt.push(D[je]),Dt[je].charCodeAt(0)>>8&&(zt=!0);D=Dt.join("")}for(je=D.length;zt===void 0&&je!==0;)D.charCodeAt(je-1)>>8&&(zt=!0),je--;if(!zt)return D;for(Dt=te.noBOM?[]:[254,255],je=0,Ee=D.length;je<Ee;je++){if((cr=(hr=D.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Dt.push(cr),Dt.push(hr-(cr<<8))}return String.fromCharCode.apply(void 0,Dt)},Ui=p.__private__.pdfEscape=p.pdfEscape=function(D,te){return Pf(D,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bp=p.__private__.beginPage=function(D){fe[++ar]=[],Bt[ar]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Nx(ar),Ae(fe[M])},Sx=function(D,te){var je,Ee,Me;switch(r=te||r,typeof D=="string"&&(je=g(D.toLowerCase()),Array.isArray(je)&&(Ee=je[0],Me=je[1])),Array.isArray(D)&&(Ee=D[0]*it,Me=D[1]*it),isNaN(Ee)&&(Ee=a[0],Me=a[1]),(Ee>14400||Me>14400)&&(cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Me=Math.min(14400,Me)),a=[Ee,Me],r.substr(0,1)){case"l":Me>Ee&&(a=[Me,Ee]);break;case"p":Ee>Me&&(a=[Me,Ee])}bp(a),Px(Sp),ce(vo),Ap!==0&&ce(Ap+" J"),Tp!==0&&ce(Tp+" j"),Jt.publish("addPage",{pageNumber:ar})},C_=function(D){D>0&&D<=ar&&(fe.splice(D,1),Bt.splice(D,1),ar--,M>ar&&(M=ar),this.setPage(M))},Nx=function(D){D>0&&D<=ar&&(M=D)},E_=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return fe.length-1},Ax=function(D,te,je){var Ee,Me=void 0;return je=je||{},D=D!==void 0?D:Gt[st].fontName,te=te!==void 0?te:Gt[st].fontStyle,Ee=D.toLowerCase(),or[Ee]!==void 0&&or[Ee][te]!==void 0?Me=or[Ee][te]:or[D]!==void 0&&or[D][te]!==void 0?Me=or[D][te]:je.disableWarning===!1&&cn.warn("Unable to look up font label for font '"+D+"', '"+te+"'. Refer to getFontList() for available fonts."),Me||je.noFallback||(Me=or.times[te])==null&&(Me=or.times.normal),Me},k_=p.__private__.putInfo=function(){var D=An(),te=function(Ee){return Ee};for(var je in d!==null&&(te=ti.encryptor(D,0)),ce("<<"),ce("/Producer ("+Ui(te("jsPDF "+Vt.version))+")"),Se)Se.hasOwnProperty(je)&&Se[je]&&ce("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+Ui(te(Se[je]))+")");ce("/CreationDate ("+Ui(te(z))+")"),ce(">>"),ce("endobj")},wp=p.__private__.putCatalog=function(D){var te=(D=D||{}).rootDictionaryObjId||he;switch(An(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+te+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+xe;je.substr(je.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+V(xe)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}we&&ce("/PageMode /"+we),Jt.publish("putCatalog"),ce(">>"),ce("endobj")},P_=p.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(Y+1)),ce("/Root "+Y+" 0 R"),ce("/Info "+(Y-1)+" 0 R"),d!==null&&ce("/Encrypt "+ti.oid+" 0 R"),ce("/ID [ <"+I+"> <"+I+"> ]"),ce(">>")},O_=p.__private__.putHeader=function(){ce("%PDF-"+v),ce("%")},F_=p.__private__.putXRef=function(){var D="0000000000";ce("xref"),ce("0 "+(Y+1)),ce("0000000000 65535 f ");for(var te=1;te<=Y;te++)typeof Z[te]=="function"?ce((D+Z[te]()).slice(-10)+" 00000 n "):Z[te]!==void 0?ce((D+Z[te]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Ll=p.__private__.buildDocument=function(){Ie(),Ae(se),Jt.publish("buildDocument"),O_(),qe(),_x(),wx(),d!==null&&Dl(),k_(),wp();var D=W;return F_(),P_(),ce("startxref"),ce(""+D),ce("%%EOF"),Ae(fe[M]),se.join(`
`)},Of=p.__private__.getBlob=function(D){return new Blob([at(D)],{type:"application/pdf"})},Ff=p.output=p.__private__.output=go(function(D,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",D){case void 0:return Ll();case"save":p.save(te.filename);break;case"arraybuffer":return at(Ll());case"blob":return Of(Ll());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(Of(Ll()))||void 0;cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Ee=Ll();try{je=VA(Ee)}catch{je=VA(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+te.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Me=te.pdfObjectUrl,rt="");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Dt=Qt.open();return Dt!==null&&Dt.document.write(pt),Dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',hr=Qt.open();if(hr!==null){hr.document.write(zt);var cr=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=te.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(cr.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Fn=Qt.open();if(Fn!==null&&(Fn.document.write(Fr),Fn.document.title=te.filename),Fn||typeof safari>"u")return Fn;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",te);default:return null}}),Tx=function(D){return Array.isArray(aa)===!0&&aa.indexOf(D)>-1};switch(n){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=Tx("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);it=n}var ti=null;J(),G();var D_=function(D){return d!==null?ti.encryptor(D,0):function(te){return te}},Cx=p.__private__.getPageInfo=p.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Bt[D].objId,pageNumber:D,pageContext:Bt[D]}},lr=p.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Bt)if(Bt[te].objId===D)break;return Cx(te)},L_=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Bt[M].objId,pageNumber:M,pageContext:Bt[M]}};p.addPage=function(){return Sx.apply(this,arguments),this},p.setPage=function(){return Nx.apply(this,arguments),Ae.call(this,fe[M]),this},p.insertPage=function(D){return this.addPage(),this.movePage(M,D),this},p.movePage=function(D,te){var je,Ee;if(D>te){je=fe[D],Ee=Bt[D];for(var Me=D;Me>te;Me--)fe[Me]=fe[Me-1],Bt[Me]=Bt[Me-1];fe[te]=je,Bt[te]=Ee,this.setPage(te)}else if(D<te){je=fe[D],Ee=Bt[D];for(var rt=D;rt<te;rt++)fe[rt]=fe[rt+1],Bt[rt]=Bt[rt+1];fe[te]=je,Bt[te]=Ee,this.setPage(te)}return this},p.deletePage=function(){return C_.apply(this,arguments),this},p.__private__.text=p.text=function(D,te,je,Ee,Me){var rt,pt,Dt,zt,hr,cr,Fr,Fn,$n,sa=(Ee=Ee||{}).scope||this;if(typeof D=="number"&&typeof te=="number"&&(typeof je=="string"||Array.isArray(je))){var ri=je;je=te,te=D,D=ri}if(arguments[3]instanceof xt?(T("The transform parameter of text() with a Matrix value"),$n=Me):(Dt=arguments[4],zt=arguments[5],en(Fr=arguments[3])==="object"&&Fr!==null||(typeof Dt=="string"&&(zt=Dt,Dt=null),typeof Fr=="string"&&(zt=Fr,Fr=null),typeof Fr=="number"&&(Dt=Fr,Fr=null),Ee={flags:Fr,angle:Dt,align:zt})),isNaN(te)||isNaN(je)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return sa;var Ca="",xo=!1,cs=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:nd,il=sa.internal.scaleFactor;function Mx(dn){return dn=dn.split("	").join(Array(Ee.TabLen||9).join(" ")),Ui(dn,Fr)}function Op(dn){for(var fn,Xn=dn.concat(),va=[],Bl=Xn.length;Bl--;)typeof(fn=Xn.shift())=="string"?va.push(fn):Array.isArray(dn)&&(fn.length===1||fn[1]===void 0&&fn[2]===void 0)?va.push(fn[0]):va.push([fn[0],fn[1],fn[2]]);return va}function Fp(dn,fn){var Xn;if(typeof dn=="string")Xn=fn(dn)[0];else if(Array.isArray(dn)){for(var va,Bl,zp=dn.concat(),Kf=[],Ux=zp.length;Ux--;)typeof(va=zp.shift())=="string"?Kf.push(fn(va)[0]):Array.isArray(va)&&typeof va[0]=="string"&&(Bl=fn(va[0],va[1],va[2]),Kf.push([Bl[0],Bl[1],Bl[2]]));Xn=Kf}return Xn}var $f=!1,Dp=!0;if(typeof D=="string")$f=!0;else if(Array.isArray(D)){var Lp=D.concat();pt=[];for(var Bf,Va=Lp.length;Va--;)(typeof(Bf=Lp.shift())!="string"||Array.isArray(Bf)&&typeof Bf[0]!="string")&&(Dp=!1);$f=Dp}if($f===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var zf=et/sa.internal.scaleFactor,Uf=zf*(cs-1);switch(Ee.baseline){case"bottom":je-=Uf;break;case"top":je+=zf-Uf;break;case"hanging":je+=zf-2*Uf;break;case"middle":je+=zf/2-Uf}if((cr=Ee.maxWidth||0)>0&&(typeof D=="string"?D=sa.splitTextToSize(D,cr):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(dn,fn){return dn.concat(sa.splitTextToSize(fn,cr))},[]))),rt={text:D,x:te,y:je,options:Ee,mutex:{pdfEscape:Ui,activeFontKey:st,fonts:Gt,activeFontSize:et}},Jt.publish("preProcessText",rt),D=rt.text,Dt=(Ee=rt.options).angle,!($n instanceof xt)&&Dt&&typeof Dt=="number"){Dt*=Math.PI/180,Ee.rotationDirection===0&&(Dt=-Dt),b===y.ADVANCED&&(Dt=-Dt);var Vf=Math.cos(Dt),Ip=Math.sin(Dt);$n=new xt(Vf,Ip,-Ip,Vf,0,0)}else Dt&&Dt instanceof xt&&($n=Dt);b!==y.ADVANCED||$n||($n=zr),(hr=Ee.charSpace||If)!==void 0&&(Ca+=S(P(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fn=Ee.horizontalScale)!==void 0&&(Ca+=S(100*Fn)+` Tz
`),Ee.lang;var Vi=-1,W_=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,Mp=sa.internal.getCurrentPageInfo().pageContext;switch(W_){case 0:case!1:case"fill":Vi=0;break;case 1:case!0:case"stroke":Vi=1;break;case 2:case"fillThenStroke":Vi=2;break;case 3:case"invisible":Vi=3;break;case 4:case"fillAndAddForClipping":Vi=4;break;case 5:case"strokeAndAddPathForClipping":Vi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Vi=6;break;case 7:case"addToPathForClipping":Vi=7}var Rx=Mp.usedRenderingMode!==void 0?Mp.usedRenderingMode:-1;Vi!==-1?Ca+=Vi+` Tr
`:Rx!==-1&&(Ca+=`0 Tr
`),Vi!==-1&&(Mp.usedRenderingMode=Vi),zt=Ee.align||"left";var Ms,Hf=et*cs,$x=sa.internal.pageSize.getWidth(),Bx=Gt[st];hr=Ee.charSpace||If,cr=Ee.maxWidth||0,Fr=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Ic=[],sd=function(dn){return sa.getStringUnitWidth(dn,{font:Bx,charSpace:hr,fontSize:et,doKerning:!1})*et/il};if(Object.prototype.toString.call(D)==="[object Array]"){var Hi;pt=Op(D),zt!=="left"&&(Ms=pt.map(sd));var Ti,Mc=0;if(zt==="right"){te-=Ms[0],D=[],Va=pt.length;for(var Ml=0;Ml<Va;Ml++)Ml===0?(Ti=al(te),Hi=Il(je)):(Ti=P(Mc-Ms[Ml]),Hi=-Hf),D.push([pt[Ml],Ti,Hi]),Mc=Ms[Ml]}else if(zt==="center"){te-=Ms[0]/2,D=[],Va=pt.length;for(var Rl=0;Rl<Va;Rl++)Rl===0?(Ti=al(te),Hi=Il(je)):(Ti=P((Mc-Ms[Rl])/2),Hi=-Hf),D.push([pt[Rl],Ti,Hi]),Mc=Ms[Rl]}else if(zt==="left"){D=[],Va=pt.length;for(var Wf=0;Wf<Va;Wf++)D.push(pt[Wf])}else if(zt==="justify"&&Bx.encoding==="Identity-H"){D=[],Va=pt.length,cr=cr!==0?cr:$x;for(var $l=0,Yn=0;Yn<Va;Yn++)if(Hi=Yn===0?Il(je):-Hf,Ti=Yn===0?al(te):$l,Yn<Va-1){var Rp=P((cr-Ms[Yn])/(pt[Yn].split(" ").length-1)),Ci=pt[Yn].split(" ");D.push([Ci[0]+" ",Ti,Hi]),$l=0;for(var Rs=1;Rs<Ci.length;Rs++){var qf=(sd(Ci[Rs-1]+" "+Ci[Rs])-sd(Ci[Rs]))*il+Rp;Rs==Ci.length-1?D.push([Ci[Rs],qf,0]):D.push([Ci[Rs]+" ",qf,0]),$l-=qf}}else D.push([pt[Yn],Ti,Hi]);D.push(["",$l,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Va=pt.length,cr=cr!==0?cr:$x,Yn=0;Yn<Va;Yn++)Hi=Yn===0?Il(je):-Hf,Ti=Yn===0?al(te):0,Yn<Va-1?Ic.push(S(P((cr-Ms[Yn])/(pt[Yn].split(" ").length-1)))):Ic.push(0),D.push([pt[Yn],Ti,Hi])}}var zx=typeof Ee.R2L=="boolean"?Ee.R2L:Be;zx===!0&&(D=Fp(D,function(dn,fn,Xn){return[dn.split("").reverse().join(""),fn,Xn]})),rt={text:D,x:te,y:je,options:Ee,mutex:{pdfEscape:Ui,activeFontKey:st,fonts:Gt,activeFontSize:et}},Jt.publish("postProcessText",rt),D=rt.text,xo=rt.mutex.isHex||!1;var $p=Gt[st].encoding;$p!=="WinAnsiEncoding"&&$p!=="StandardEncoding"||(D=Fp(D,function(dn,fn,Xn){return[Mx(dn),fn,Xn]})),pt=Op(D),D=[];for(var od,ld,Rc,cd=0,Gf=1,ud=Array.isArray(pt[0])?Gf:cd,$c="",Bp=function(dn,fn,Xn){var va="";return Xn instanceof xt?(Xn=typeof Ee.angle=="number"?At(Xn,new xt(1,0,0,1,dn,fn)):At(new xt(1,0,0,1,dn,fn),Xn),b===y.ADVANCED&&(Xn=At(new xt(1,0,0,-1,0,0),Xn)),va=Xn.join(" ")+` Tm
`):va=S(dn)+" "+S(fn)+` Td
`,va},$s=0;$s<pt.length;$s++){switch($c="",ud){case Gf:Rc=(xo?"<":"(")+pt[$s][0]+(xo?">":")"),od=parseFloat(pt[$s][1]),ld=parseFloat(pt[$s][2]);break;case cd:Rc=(xo?"<":"(")+pt[$s]+(xo?">":")"),od=al(te),ld=Il(je)}Ic!==void 0&&Ic[$s]!==void 0&&($c=Ic[$s]+` Tw
`),$s===0?D.push($c+Bp(od,ld,$n)+Rc):ud===cd?D.push($c+Rc):ud===Gf&&D.push($c+Bp(od,ld,$n)+Rc)}D=ud===cd?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Bs=`BT
/`;return Bs+=st+" "+et+` Tf
`,Bs+=S(et*cs)+` TL
`,Bs+=ad+`
`,Bs+=Ca,Bs+=D,ce(Bs+="ET"),h[st]=!0,sa};var I_=p.__private__.clip=p.clip=function(D){return ce(D==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return I_("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ce("n"),this};var nl=p.__private__.isValidStyle=function(D){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(te=!0),te};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(D){return nl(D)&&(u=D),this};var Ex=p.__private__.getStyle=p.getStyle=function(D){var te=u;switch(D){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=D}return te},kx=p.close=function(){return ce("h"),this};p.stroke=function(){return ce("S"),this},p.fill=function(D){return Df("f",D),this},p.fillEvenOdd=function(D){return Df("f*",D),this},p.fillStroke=function(D){return Df("B",D),this},p.fillStrokeEvenOdd=function(D){return Df("B*",D),this};var Df=function(D,te){en(te)==="object"?R_(te,D):ce(D)},_p=function(D){D===null||b===y.ADVANCED&&D===void 0||(D=Ex(D),ce(D))};function M_(D,te,je,Ee,Me){var rt=new Md(te||this.boundingBox,je||this.xStep,Ee||this.yStep,this.gState,Me||this.matrix);rt.stream=this.stream;var pt=D+"$$"+this.cloneIndex+++"$$";return On(pt,rt),rt}var R_=function(D,te){var je=Yr[D.key],Ee=Ht[je];if(Ee instanceof hu)ce("q"),ce($_(te)),Ee.gState&&p.setGState(Ee.gState),ce(D.matrix.toString()+" cm"),ce("/"+je+" sh"),ce("Q");else if(Ee instanceof Md){var Me=new xt(1,0,0,-1,0,Lc());D.matrix&&(Me=Me.multiply(D.matrix||zr),je=M_.call(Ee,D.key,D.boundingBox,D.xStep,D.yStep,Me).id),ce("q"),ce("/Pattern cs"),ce("/"+je+" scn"),Ee.gState&&p.setGState(Ee.gState),ce(te),ce("Q")}},$_=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},jp=p.moveTo=function(D,te){return ce(S(P(D))+" "+S(q(te))+" m"),this},rd=p.lineTo=function(D,te){return ce(S(P(D))+" "+S(q(te))+" l"),this},Fc=p.curveTo=function(D,te,je,Ee,Me,rt){return ce([S(P(D)),S(q(te)),S(P(je)),S(q(Ee)),S(P(Me)),S(q(rt)),"c"].join(" ")),this};p.__private__.line=p.line=function(D,te,je,Ee,Me){if(isNaN(D)||isNaN(te)||isNaN(je)||isNaN(Ee)||!nl(Me))throw new Error("Invalid arguments passed to jsPDF.line");return b===y.COMPAT?this.lines([[je-D,Ee-te]],D,te,[1,1],Me||"S"):this.lines([[je-D,Ee-te]],D,te,[1,1]).stroke()},p.__private__.lines=p.lines=function(D,te,je,Ee,Me,rt){var pt,Dt,zt,hr,cr,Fr,Fn,$n,sa,ri,Ca,xo;if(typeof D=="number"&&(xo=je,je=te,te=D,D=xo),Ee=Ee||[1,1],rt=rt||!1,isNaN(te)||isNaN(je)||!Array.isArray(D)||!Array.isArray(Ee)||!nl(Me)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jp(te,je),pt=Ee[0],Dt=Ee[1],hr=D.length,ri=te,Ca=je,zt=0;zt<hr;zt++)(cr=D[zt]).length===2?(ri=cr[0]*pt+ri,Ca=cr[1]*Dt+Ca,rd(ri,Ca)):(Fr=cr[0]*pt+ri,Fn=cr[1]*Dt+Ca,$n=cr[2]*pt+ri,sa=cr[3]*Dt+Ca,ri=cr[4]*pt+ri,Ca=cr[5]*Dt+Ca,Fc(Fr,Fn,$n,sa,ri,Ca));return rt&&kx(),_p(Me),this},p.path=function(D){for(var te=0;te<D.length;te++){var je=D[te],Ee=je.c;switch(je.op){case"m":jp(Ee[0],Ee[1]);break;case"l":rd(Ee[0],Ee[1]);break;case"c":Fc.apply(this,Ee);break;case"h":kx()}}return this},p.__private__.rect=p.rect=function(D,te,je,Ee,Me){if(isNaN(D)||isNaN(te)||isNaN(je)||isNaN(Ee)||!nl(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y.COMPAT&&(Ee=-Ee),ce([S(P(D)),S(q(te)),S(P(je)),S(P(Ee)),"re"].join(" ")),_p(Me),this},p.__private__.triangle=p.triangle=function(D,te,je,Ee,Me,rt,pt){if(isNaN(D)||isNaN(te)||isNaN(je)||isNaN(Ee)||isNaN(Me)||isNaN(rt)||!nl(pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-D,Ee-te],[Me-je,rt-Ee],[D-Me,te-rt]],D,te,[1,1],pt,!0),this},p.__private__.roundedRect=p.roundedRect=function(D,te,je,Ee,Me,rt,pt){if(isNaN(D)||isNaN(te)||isNaN(je)||isNaN(Ee)||isNaN(Me)||isNaN(rt)||!nl(pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Dt=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*je),rt=Math.min(rt,.5*Ee),this.lines([[je-2*Me,0],[Me*Dt,0,Me,rt-rt*Dt,Me,rt],[0,Ee-2*rt],[0,rt*Dt,-Me*Dt,rt,-Me,rt],[2*Me-je,0],[-Me*Dt,0,-Me,-rt*Dt,-Me,-rt],[0,2*rt-Ee],[0,-rt*Dt,Me*Dt,-rt,Me,-rt]],D+Me,te,[1,1],pt,!0),this},p.__private__.ellipse=p.ellipse=function(D,te,je,Ee,Me){if(isNaN(D)||isNaN(te)||isNaN(je)||isNaN(Ee)||!nl(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*je,pt=4/3*(Math.SQRT2-1)*Ee;return jp(D+je,te),Fc(D+je,te-pt,D+rt,te-Ee,D,te-Ee),Fc(D-rt,te-Ee,D-je,te-pt,D-je,te),Fc(D-je,te+pt,D-rt,te+Ee,D,te+Ee),Fc(D+rt,te+Ee,D+je,te+pt,D+je,te),_p(Me),this},p.__private__.circle=p.circle=function(D,te,je,Ee){if(isNaN(D)||isNaN(te)||isNaN(je)||!nl(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,te,je,je,Ee)},p.setFont=function(D,te,je){return je&&(te=N(te,je)),st=Ax(D,te,{disableWarning:!1}),this};var B_=p.__private__.getFont=p.getFont=function(){return Gt[Ax.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var D,te,je={};for(D in or)if(or.hasOwnProperty(D))for(te in je[D]=[],or[D])or[D].hasOwnProperty(te)&&je[D].push(te);return je},p.addFont=function(D,te,je,Ee,Me){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(je=N(je,Ee)),Me=Me||"Identity-H",yp.call(this,D,te,je,Me)};var nd,Sp=e.lineWidth||.200025,Lf=p.__private__.getLineWidth=p.getLineWidth=function(){return Sp},Px=p.__private__.setLineWidth=p.setLineWidth=function(D){return Sp=D,ce(S(P(D))+" w"),this};p.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(D,te){if(D=D||[],te=te||0,isNaN(te)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(je){return S(P(je))}).join(" "),te=S(P(te)),ce("["+D+"] "+te+" d"),this};var Ox=p.__private__.getLineHeight=p.getLineHeight=function(){return et*nd};p.__private__.getLineHeight=p.getLineHeight=function(){return et*nd};var Fx=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(nd=D),this},Dx=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return nd};Fx(e.lineHeight);var al=p.__private__.getHorizontalCoordinate=function(D){return P(D)},Il=p.__private__.getVerticalCoordinate=function(D){return b===y.ADVANCED?D:Bt[M].mediaBox.topRightY-Bt[M].mediaBox.bottomLeftY-P(D)},z_=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(D){return S(al(D))},Dc=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(D){return S(Il(D))},vo=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return be(vo)},p.__private__.setStrokeColor=p.setDrawColor=function(D,te,je,Ee){return vo=_e({ch1:D,ch2:te,ch3:je,ch4:Ee,pdfColorType:"draw",precision:2}),ce(vo),this};var Np=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return be(Np)},p.__private__.setFillColor=p.setFillColor=function(D,te,je,Ee){return Np=_e({ch1:D,ch2:te,ch3:je,ch4:Ee,pdfColorType:"fill",precision:2}),ce(Np),this};var ad=e.textColor||"0 g",U_=p.__private__.getTextColor=p.getTextColor=function(){return be(ad)};p.__private__.setTextColor=p.setTextColor=function(D,te,je,Ee){return ad=_e({ch1:D,ch2:te,ch3:je,ch4:Ee,pdfColorType:"text",precision:3}),this};var If=e.charSpace,V_=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(If||0)};p.__private__.setCharSpace=p.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return If=D,this};var Ap=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(D){var te=p.CapJoinStyles[D];if(te===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ap=te,ce(te+" J"),this};var Tp=0;p.__private__.setLineJoin=p.setLineJoin=function(D){var te=p.CapJoinStyles[D];if(te===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tp=te,ce(te+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(S(P(D))+" M"),this},p.GState=Bv,p.setGState=function(D){(D=typeof D=="string"?le[Rt[D]]:Lx(null,D)).equals(kr)||(ce("/"+D.id+" gs"),kr=D)};var Lx=function(D,te){if(!D||!Rt[D]){var je=!1;for(var Ee in le)if(le.hasOwnProperty(Ee)&&le[Ee].equals(te)){je=!0;break}if(je)te=le[Ee];else{var Me="GS"+(Object.keys(le).length+1).toString(10);le[Me]=te,te.id=Me}return D&&(Rt[D]=te.id),Jt.publish("addGState",te),te}};p.addGState=function(D,te){return Lx(D,te),this},p.saveGraphicsState=function(){return ce("q"),Wr.push({key:st,size:et,color:ad}),this},p.restoreGraphicsState=function(){ce("Q");var D=Wr.pop();return st=D.key,et=D.size,ad=D.color,kr=null,this},p.setCurrentTransformationMatrix=function(D){return ce(D.toString()+" cm"),this},p.comment=function(D){return ce("#"+D),this};var Mf=function(D,te){var je=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(rt){isNaN(rt)||(je=parseFloat(rt))}});var Ee=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(rt){isNaN(rt)||(Ee=parseFloat(rt))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(rt){Me=rt.toString()}}),this},Cp=function(D,te,je,Ee){Mf.call(this,D,te),this.type="rect";var Me=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(pt){isNaN(pt)||(Me=parseFloat(pt))}});var rt=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(pt){isNaN(pt)||(rt=parseFloat(pt))}}),this},Ep=function(){this.page=ar,this.currentPage=M,this.pages=fe.slice(0),this.pagesContext=Bt.slice(0),this.x=qt,this.y=jt,this.matrix=Sr,this.width=id(M),this.height=Lc(M),this.outputDestination=ke,this.id="",this.objectNumber=-1};Ep.prototype.restore=function(){ar=this.page,M=this.currentPage,Bt=this.pagesContext,fe=this.pages,qt=this.x,jt=this.y,Sr=this.matrix,kp(M,this.width),Pp(M,this.height),ke=this.outputDestination};var Ix=function(D,te,je,Ee,Me){kt.push(new Ep),ar=M=0,fe=[],qt=D,jt=te,Sr=Me,bp([je,Ee])},H_=function(D){if(Je[D])kt.pop().restore();else{var te=new Ep,je="Xo"+(Object.keys(nn).length+1).toString(10);te.id=je,Je[D]=je,nn[je]=te,Jt.publish("addFormObject",te),kt.pop().restore()}};for(var Rf in p.beginFormObject=function(D,te,je,Ee,Me){return Ix(D,te,je,Ee,Me),this},p.endFormObject=function(D){return H_(D),this},p.doFormObject=function(D,te){var je=nn[Je[D]];return ce("q"),ce(te.toString()+" cm"),ce("/"+je.id+" Do"),ce("Q"),this},p.getFormObject=function(D){var te=nn[Je[D]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},p.save=function(D,te){return D=D||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(jd(Of(Ll()),D),typeof jd.unload=="function"&&Qt.setTimeout&&setTimeout(jd.unload,911),this):new Promise(function(je,Ee){try{var Me=jd(Of(Ll()),D);typeof jd.unload=="function"&&Qt.setTimeout&&setTimeout(jd.unload,911),je(Me)}catch(rt){Ee(rt.message)}})},Vt.API)Vt.API.hasOwnProperty(Rf)&&(Rf==="events"&&Vt.API.events.length?function(D,te){var je,Ee,Me;for(Me=te.length-1;Me!==-1;Me--)je=te[Me][0],Ee=te[Me][1],D.subscribe.apply(D,[je].concat(typeof Ee=="function"?[Ee]:Ee))}(Jt,Vt.API.events):p[Rf]=Vt.API[Rf]);var id=p.getPageWidth=function(D){return(Bt[D=D||M].mediaBox.topRightX-Bt[D].mediaBox.bottomLeftX)/it},kp=p.setPageWidth=function(D,te){Bt[D].mediaBox.topRightX=te*it+Bt[D].mediaBox.bottomLeftX},Lc=p.getPageHeight=function(D){return(Bt[D=D||M].mediaBox.topRightY-Bt[D].mediaBox.bottomLeftY)/it},Pp=p.setPageHeight=function(D,te){Bt[D].mediaBox.topRightY=te*it+Bt[D].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ui,getStyle:Ex,getFont:B_,getFontSize:de,getCharSpace:V_,getTextColor:U_,getLineHeight:Ox,getLineHeightFactor:Dx,getLineWidth:Lf,write:Re,getHorizontalCoordinate:al,getVerticalCoordinate:Il,getCoordinateString:z_,getVerticalCoordinateString:Dc,collections:{},newObject:An,newAdditionalObject:ye,newObjectDeferred:vn,newObjectDeferredBegin:re,getFilters:Ve,putStream:Qe,events:Jt,scaleFactor:it,pageSize:{getWidth:function(){return id(M)},setWidth:function(D){kp(M,D)},getHeight:function(){return Lc(M)},setHeight:function(D){Pp(M,D)}},encryptionOptions:d,encryption:ti,getEncryptor:D_,output:Ff,getNumberOfPages:E_,pages:fe,out:ce,f2:V,f3:C,getPageInfo:Cx,getPageInfoByObjId:lr,getCurrentPageInfo:L_,getPDFVersion:m,Point:Mf,Rectangle:Cp,Matrix:xt,hasHotfix:Tx},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return id(M)},set:function(D){kp(M,D)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Lc(M)},set:function(D){Pp(M,D)},enumerable:!0,configurable:!0}),T_.call(p,$e),st="F1",Sx(a,r),Jt.publish("initialized"),p}mh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},mh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},mh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},mh.prototype.processOwnerPassword=function(e,t){return WA(HA(t).substr(0,5),e)},mh.prototype.encryptor=function(e,t){var r=HA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return WA(r,n)}},Bv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||en(e)!==en(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Vt.API={events:[]},Vt.version="2.5.2";var zn=Vt.API,V3=1,kf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ur=function(e){return e.toFixed(2)},tu=function(e){return e.toFixed(5)};zn.__acroform__={};var os=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},gM=function(e){return e*V3},ul=function(e){var t=new fK,r=$t.internal.getHeight(e)||0,n=$t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ur(n)),Number(ur(r))],t},K$e=zn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Y$e=zn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},X$e=zn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ea=zn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X$e(e,t-1)},ta=zn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return K$e(e,t-1)},ra=zn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y$e(e,t-1)},J$e=zn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(ur(c.lowerLeft_X)),Number(ur(c.lowerLeft_Y)),Number(ur(c.upperRight_X)),Number(ur(c.upperRight_Y))]},Q$e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=qA(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ur(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ul(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},qA=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,o=$t.internal.getHeight(e)||0;o=o<0?-o:o;var l=$t.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(C,P,U){if(C+1<a.length){var q=P+" "+a[C+1][0];return py(q,e,U).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=py("3",e,i).height,h=e.multiline?o-i:(o-f)/2,p=h+=2,v=0,m=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+py(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var g="",y=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var j=!1;if(a[b].length!==1&&x!==a[b].length-1){if((f+2)*(y+2)+2>o)continue e;g+=a[b][x],j=!0,m=b,b--}else{g=(g+=a[b][x]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var _=parseInt(b),N=c(_,g,i),S=b>=a.length-1;if(N&&!S){g+=" ",x=0;continue}if(N||S){if(S)m=_;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>o)continue e;m=_}}for(var T="",k=v;k<=m;k++){var V=a[k];if(e.multiline){if(k===m){T+=V[x]+" ",x=(x+1)%V.length;continue}if(k===v){T+=V[V.length-1]+" ";continue}}T+=V[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,d=py(T,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=ur(u)+" "+ur(p)+` Td
`,t+="("+kf(T)+`) Tj
`,t+=-ur(u)+` 0 Td
`,p=-(i+2),d=0,v=j?m:m+1,y++,g=""}break}return n.text=t,n.fontSize=i,n},py=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Z$e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eBe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},tBe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),en(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},rBe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Zo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Z$e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");V3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new hK,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&eBe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=J$e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=$t.createDefaultAppearanceStream(l),en(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Q$e(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(a,l)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&tBe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},dK=zn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),en(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+kf(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},oS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+kf(n(e))+")"},gl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};gl.prototype.toString=function(){return this.objId+" 0 R"},gl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},gl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:dK(a,this.objId,this.scope)}):a instanceof gl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var fK=function(){gl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};os(fK,gl);var hK=function(){gl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+kf(r(e))+")"}},set:function(r){e=r}})};os(hK,gl);var Zo=function e(){gl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ea(t,3)},set:function(g){g?this.F=ta(t,3):this.F=ra(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof $b)return;i="FieldObject"+e.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+kf(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/V3:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof $b||this instanceof Ou))return oS(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof wa?h:oS(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof wa?g:g.substr(0,1)==="("?fh(g.substr(1,g.length-2)):fh(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wa?fh(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof wa?"/"+g:g}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof wa?p:oS(p,this.objId,this.scope)},set:function(g){g=g.toString(),p=this instanceof wa?g:g.substr(0,1)==="("?fh(g.substr(1,g.length-2)):fh(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wa?fh(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof wa?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(g){g=!!g,m=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(g){v=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,1)},set:function(g){g?this.Ff=ta(this.Ff,1):this.Ff=ra(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,2)},set:function(g){g?this.Ff=ta(this.Ff,2):this.Ff=ra(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,3)},set:function(g){g?this.Ff=ta(this.Ff,3):this.Ff=ra(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');x=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(x){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};os(Zo,gl);var Gd=function(){Zo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return dK(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,18)},set:function(r){r?this.Ff=ta(this.Ff,18):this.Ff=ra(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ta(this.Ff,19):this.Ff=ra(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,20)},set:function(r){r?(this.Ff=ta(this.Ff,20),t.sort()):this.Ff=ra(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,22)},set:function(r){r?this.Ff=ta(this.Ff,22):this.Ff=ra(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,23)},set:function(r){r?this.Ff=ta(this.Ff,23):this.Ff=ra(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,27)},set:function(r){r?this.Ff=ta(this.Ff,27):this.Ff=ra(this.Ff,27)}}),this.hasAppearanceStream=!1};os(Gd,Zo);var Kd=function(){Gd.call(this),this.fontName="helvetica",this.combo=!1};os(Kd,Gd);var Yd=function(){Kd.call(this),this.combo=!0};os(Yd,Kd);var vg=function(){Yd.call(this),this.edit=!0};os(vg,Yd);var wa=function(){Zo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,15)},set:function(r){r?this.Ff=ta(this.Ff,15):this.Ff=ra(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,16)},set:function(r){r?this.Ff=ta(this.Ff,16):this.Ff=ra(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,17)},set:function(r){r?this.Ff=ta(this.Ff,17):this.Ff=ra(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,26)},set:function(r){r?this.Ff=ta(this.Ff,26):this.Ff=ra(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+kf(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){en(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};os(wa,Zo);var xg=function(){wa.call(this),this.pushButton=!0};os(xg,wa);var Xd=function(){wa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};os(Xd,wa);var $b=function(){var e,t;Zo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+kf(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){en(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};os($b,Zo),Xd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Xd.prototype.createOption=function(e){var t=new $b;return t.Parent=this,t.optionName=e,this.Kids.push(t),nBe.call(this.scope,t),t};var yg=function(){wa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};os(yg,wa);var Ou=function(){Zo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,13)},set:function(t){t?this.Ff=ta(this.Ff,13):this.Ff=ra(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,21)},set:function(t){t?this.Ff=ta(this.Ff,21):this.Ff=ra(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,23)},set:function(t){t?this.Ff=ta(this.Ff,23):this.Ff=ra(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,24)},set:function(t){t?this.Ff=ta(this.Ff,24):this.Ff=ra(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,25)},set:function(t){t?this.Ff=ta(this.Ff,25):this.Ff=ra(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,26)},set:function(t){t?this.Ff=ta(this.Ff,26):this.Ff=ra(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};os(Ou,Zo);var bg=function(){Ou.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ea(this.Ff,14)},set:function(e){e?this.Ff=ta(this.Ff,14):this.Ff=ra(this.Ff,14)}}),this.password=!0};os(bg,Ou);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=qA(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ur($t.internal.getWidth(e))+" "+ur($t.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ur(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ul(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=$t.internal.getHeight(e),o=$t.internal.getWidth(e),l=qA(e,e.caption);return a.push("1 g"),a.push("0 0 "+ur(o)+" "+ur(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ur(o-1)+" "+ur(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ur(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ur($t.internal.getWidth(e))+" "+ur($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Circle.YesNormal,t.D[e]=$t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=$t.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+tu($t.internal.getWidth(e)/2)+" "+tu($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*$t.internal.Bezier_C).toFixed(5)),o=Number((n*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+tu($t.internal.getWidth(e)/2)+" "+tu($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+tu($t.internal.getWidth(e)/2)+" "+tu($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+tu($t.internal.getWidth(e)/2)+" "+tu($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Cross.YesNormal,t.D[e]=$t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ul(e);t.scope=e.scope;var r=[],n=$t.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ur($t.internal.getWidth(e)-2)+" "+ur($t.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ur(n.x1.x)+" "+ur(n.x1.y)+" m"),r.push(ur(n.x2.x)+" "+ur(n.x2.y)+" l"),r.push(ur(n.x4.x)+" "+ur(n.x4.y)+" m"),r.push(ur(n.x3.x)+" "+ur(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=$t.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ur($t.internal.getWidth(e))+" "+ur($t.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ur($t.internal.getWidth(e)-2)+" "+ur($t.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ur(r.x1.x)+" "+ur(r.x1.y)+" m"),n.push(ur(r.x2.x)+" "+ur(r.x2.y)+" l"),n.push(ur(r.x4.x)+" "+ur(r.x4.y)+" m"),n.push(ur(r.x3.x)+" "+ur(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ul(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ur($t.internal.getWidth(e))+" "+ur($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};$t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$t.internal.getWidth(e),r=$t.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},$t.internal.getWidth=function(e){var t=0;return en(e)==="object"&&(t=gM(e.Rect[2])),t},$t.internal.getHeight=function(e){var t=0;return en(e)==="object"&&(t=gM(e.Rect[3])),t};var nBe=zn.addField=function(e){if(rBe(this,e),!(e instanceof Zo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};zn.AcroFormChoiceField=Gd,zn.AcroFormListBox=Kd,zn.AcroFormComboBox=Yd,zn.AcroFormEditBox=vg,zn.AcroFormButton=wa,zn.AcroFormPushButton=xg,zn.AcroFormRadioButton=Xd,zn.AcroFormCheckBox=yg,zn.AcroFormTextField=Ou,zn.AcroFormPasswordField=bg,zn.AcroFormAppearance=$t,zn.AcroForm={ChoiceField:Gd,ListBox:Kd,ComboBox:Yd,EditBox:vg,Button:wa,PushButton:xg,RadioButton:Xd,CheckBox:yg,TextField:Ou,PasswordField:bg,Appearance:$t},Vt.AcroForm={ChoiceField:Gd,ListBox:Kd,ComboBox:Yd,EditBox:vg,Button:wa,PushButton:xg,RadioButton:Xd,CheckBox:yg,TextField:Ou,PasswordField:bg,Appearance:$t};var aBe=Vt.AcroForm;function pK(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(C,P){var U,q,z,I,R,G=t;if((P=P||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(N(C))for(R in r)for(z=r[R],U=0;U<z.length;U+=1){for(I=!0,q=0;q<z[U].length;q+=1)if(z[U][q]!==void 0&&z[U][q]!==C[q]){I=!1;break}if(I===!0){G=R;break}}else for(R in r)for(z=r[R],U=0;U<z.length;U+=1){for(I=!0,q=0;q<z[U].length;q+=1)if(z[U][q]!==void 0&&z[U][q]!==C.charCodeAt(q)){I=!1;break}if(I===!0){G=R;break}}return G===t&&P!==t&&(G=P),G},a=function C(P){for(var U=this.internal.write,q=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var I=[];if(I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Image"}),I.push({key:"Width",value:P.width}),I.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?I.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(I.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&I.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),I.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&I.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var R="",G=0,F=P.transparency.length;G<F;G++)R+=P.transparency[G]+" "+P.transparency[G]+" ";I.push({key:"Mask",value:"["+R+"]"})}P.sMask!==void 0&&I.push({key:"SMask",value:P.objectId+1+" 0 R"});var H=P.filter!==void 0?["/"+P.filter]:void 0;if(q({data:P.data,additionalKeyValues:I,alreadyAppliedFilters:H,objectId:P.objectId}),U("endobj"),"sMask"in P&&P.sMask!==void 0){var J="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,A={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:J,data:P.sMask};"filter"in P&&(A.filter=P.filter),C.call(this,A)}if(P.colorSpace===x.INDEXED){var M=this.internal.newObject();q({data:T(new Uint8Array(P.palette)),objectId:M}),U("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var P in C)a.call(this,C[P])},o=function(){var C,P=this.internal.collections.addImage_images,U=this.internal.write;for(var q in P)U("/I"+(C=P[q]).index,C.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var C=this.internal.collections.addImage_images;return l.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(C){return typeof e["process"+C.toUpperCase()]=="function"},f=function(C){return en(C)==="object"&&C.nodeType===1},h=function(C,P){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var U=""+C.getAttribute("src");if(U.indexOf("data:image/")===0)return gg(unescape(U).split("base64,").pop());var q=e.loadFile(U,!0);if(q!==void 0)return q}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var z;switch(P){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return gg(C.toDataURL(z,1).split("base64,").pop())}},p=function(C){var P=this.internal.collections.addImage_images;if(P){for(var U in P)if(C===P[U].alias)return P[U]}},v=function(C,P,U){return C||P||(C=-96,P=-96),C<0&&(C=-1*U.width*72/C/this.internal.scaleFactor),P<0&&(P=-1*U.height*72/P/this.internal.scaleFactor),C===0&&(C=P*U.width/U.height),P===0&&(P=C*U.height/U.width),[C,P]},m=function(C,P,U,q,z,I){var R=v.call(this,U,q,z),G=this.internal.getCoordinateString,F=this.internal.getVerticalCoordinateString,H=c.call(this);if(U=R[0],q=R[1],H[z.index]=z,I){I*=Math.PI/180;var J=Math.cos(I),A=Math.sin(I),M=function(L){return L.toFixed(4)},K=[M(J),M(A),M(-1*A),M(J),0,0,"cm"]}this.internal.write("q"),I?(this.internal.write([1,"0","0",1,G(C),F(P+q),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([G(U),"0","0",G(q),"0","0","cm"].join(" "))):this.internal.write([G(U),"0","0",G(q),G(C),F(P+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(C){var P,U,q=0;if(typeof C=="string")for(U=C.length,P=0;P<U;P++)q=(q<<5)-q+C.charCodeAt(P),q|=0;else if(N(C))for(U=C.byteLength/2,P=0;P<U;P++)q=(q<<5)-q+C[P],q|=0;return q},b=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var P=!0;return C.length===0&&(P=!1),C.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(P=!1),P},j=e.__addimage__.extractImageFromDataUrl=function(C){var P=(C=C||"").split("base64,"),U=null;if(P.length===2){var q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(q)&&(U={mimeType:q[1],charset:q[2],data:P[1]})}return U},_=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return _()&&C instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(C){return _()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},S=e.__addimage__.binaryStringToUint8Array=function(C){for(var P=C.length,U=new Uint8Array(P),q=0;q<P;q++)U[q]=C.charCodeAt(q);return U},T=e.__addimage__.arrayBufferToBinaryString=function(C){for(var P="",U=N(C)?C:new Uint8Array(C),q=0;q<U.length;q+=8192)P+=String.fromCharCode.apply(null,U.subarray(q,q+8192));return P};e.addImage=function(){var C,P,U,q,z,I,R,G,F;if(typeof arguments[1]=="number"?(P=t,U=arguments[1],q=arguments[2],z=arguments[3],I=arguments[4],R=arguments[5],G=arguments[6],F=arguments[7]):(P=arguments[1],U=arguments[2],q=arguments[3],z=arguments[4],I=arguments[5],R=arguments[6],G=arguments[7],F=arguments[8]),en(C=arguments[0])==="object"&&!f(C)&&"imageData"in C){var H=C;C=H.imageData,P=H.format||P||t,U=H.x||U||0,q=H.y||q||0,z=H.w||H.width||z,I=H.h||H.height||I,R=H.alias||R,G=H.compression||G,F=H.rotation||H.angle||F}var J=this.internal.getFilters();if(G===void 0&&J.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(U)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var A=k.call(this,C,P,R,G);return m.call(this,U,q,z,I,A,F),this};var k=function(C,P,U,q){var z,I,R;if(typeof C=="string"&&n(C)===t){C=unescape(C);var G=V(C,!1);(G!==""||(G=e.loadFile(C,!0))!==void 0)&&(C=G)}if(f(C)&&(C=h(C,P)),P=n(C,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((R=U)==null||R.length===0)&&(U=function(F){return typeof F=="string"||N(F)?y(F):N(F.data)?y(F.data):null}(C)),(z=p.call(this,U))||(_()&&(C instanceof Uint8Array||P==="RGBA"||(I=C,C=S(C))),z=this["process"+P.toUpperCase()](C,u.call(this),U,function(F){return F&&typeof F=="string"&&(F=F.toUpperCase()),F in e.image_compression?F:g.NONE}(q),I)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},V=e.__addimage__.convertBase64ToBinaryString=function(C,P){var U;P=typeof P!="boolean"||P;var q,z="";if(typeof C=="string"){q=(U=j(C))!==null?U.data:C;try{z=gg(q)}catch(I){if(P)throw b(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+I.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(C){var P,U,q="";if(f(C)&&(C=h(C)),typeof C=="string"&&n(C)===t&&((q=V(C,!1))===""&&(q=e.loadFile(C)||""),C=q),U=n(C),!d(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!_()||C instanceof Uint8Array||(C=S(C)),!(P=this["process"+U.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=U,P}})(Vt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(g(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(g(y))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var N=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Vt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=e.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var x=0,g=r,y="",b=0;for(x=0;x<m.length;x+=1)g[m.charCodeAt(x)]!==void 0?(b++,typeof(g=g[m.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(g),g=r,b=0),x===m.length-1&&(g=r,y+=m.charAt(x-(b-1)),x-=b-1,b=0)):(g=r,y+=m.charAt(x-b),x-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,x,g){return o(m)?i(m)===!1?-1:!u(m)||!o(x)&&!o(g)||!o(g)&&l(x)||l(m)&&!o(x)||l(m)&&c(x)||l(m)&&l(x)?0:d(m)&&o(x)&&!l(x)&&o(g)&&u(g)?3:l(m)||!o(g)?1:2:-1},p=function(m){var x=0,g=0,y=0,b="",j="",_="",N=(m=m||"").split("\\s+"),S=[];for(x=0;x<N.length;x+=1){for(S.push(""),g=0;g<N[x].length;g+=1)b=N[x][g],j=N[x][g-1],_=N[x][g+1],o(b)?(y=h(b,j,_),S[x]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):S[x]+=b;S[x]=f(S[x])}return S.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(x)){var y=0;for(g=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?g.push([p(x[y][0]),x[y][1],x[y][2]]):g.push([p(x[y])]);m=g}else m=p(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",v])}(Vt.API),Vt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Vt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(m){v=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,m=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,j){return b.concat(x.splitTextToSize(j,g))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(m=this.getStringUnitWidth(c[y],{font:f})*d)&&(p=m);return p!==0&&(v=c.length),{w:p/=h,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,v,m,x,g=[],y=[],b=[],j={},_={},N=[],S=[],T=(h=h||{}).autoSize||!1,k=h.printHeaders!==!1,V=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},t),P=typeof h.padding=="number"?h.padding:3,U=h.headerBackgroundColor||"#c8c8c8",q=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=q,this.setFontSize(V),f==null)y=g=Object.keys(d[0]),b=g.map(function(){return"left"});else if(Array.isArray(f)&&en(f[0])==="object")for(g=f.map(function(H){return H.name}),y=f.map(function(H){return H.prompt||H.name||""}),b=f.map(function(H){return H.align||"left"}),p=0;p<f.length;p+=1)_[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(y=g=f,b=g.map(function(){return"left"}));if(T||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<g.length;p+=1){for(j[x=g[p]]=d.map(function(H){return H[x]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=j[x],this.setFont(void 0,"normal"),m=0;m<v.length;m+=1)N.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[x]=Math.max.apply(null,N)+P+P,N=[]}if(k){var z={};for(p=0;p<g.length;p+=1)z[g[p]]={},z[g[p]].text=y[p],z[g[p]].align=b[p];var I=l.call(this,z,_);S=g.map(function(H){return new i(c,u,_[H],I,z[H].text,void 0,z[H].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var R=f.reduce(function(H,J){return H[J.name]=J.align,H},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var G=l.call(this,d[p],_);for(m=0;m<g.length;m+=1){var F=d[p][g[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:m,data:F},this),o.call(this,new i(c,u,_[g[m]],G,F,p+2,R[g[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,v){return Math.max(p,v)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Vt.API);var mK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gK=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],GA=pK(gK),vK=[100,200,300,400,500,600,700,800,900],iBe=pK(vK);function KA(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return mK[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof GA[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function vM(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var sBe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function oBe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},sBe,r.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(a[(i=KA(t[l])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+yM(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=GA[c],f=d<=GA.normal?-1:1,h=vM(u,gK,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=mK[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=iBe[c],f=vM(u,vK,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+yM(i)+"'.");return o}function bM(e){return e.trimLeft()}function lBe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function cBe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var my,wM,_M,lS=["times"];(function(e){var t,r,n,a,i,o,l,c,u,d=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new c,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=A;Object.defineProperty(this,"pdf",{get:function(){return M}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Ae){K=!!Ae}});var L=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return L},set:function(Ae){L=!!Ae}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(Ae){isNaN(Ae)||(Y=Ae)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(Ae){isNaN(Ae)||(Z=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ae){var ce;typeof Ae=="number"?ce=[Ae,Ae,Ae,Ae]:((ce=new Array(4))[0]=Ae[0],ce[1]=Ae.length>=2?Ae[1]:ce[0],ce[2]=Ae.length>=3?Ae[2]:ce[0],ce[3]=Ae.length>=4?Ae[3]:ce[1]),u.margin=ce}});var se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return se},set:function(Ae){se=Ae}});var W=0;Object.defineProperty(this,"lastBreak",{get:function(){return W},set:function(Ae){W=Ae}});var ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ae},set:function(Ae){ae=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ae){Ae instanceof d&&(u=Ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ae){u.path=Ae}});var fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return fe},set:function(Ae){fe=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var ce;ce=h(Ae),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var ce=h(Ae);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Q=null;function ke(Ae,ce){if(Q===null){var Re=function(at){var $e=[];return Object.keys(at).forEach(function(et){at[et].forEach(function(xe){var de=null;switch(xe){case"bold":de={family:et,weight:"bold"};break;case"italic":de={family:et,style:"italic"};break;case"bolditalic":de={family:et,weight:"bold",style:"italic"};break;case"":case"normal":de={family:et}}de!==null&&(de.ref={name:et,style:xe},$e.push(de))})}),$e}(Ae.getFontList());Q=function(at){for(var $e={},et=0;et<at.length;++et){var xe=KA(at[et]),de=xe.family,Be=xe.stretch,we=xe.style,ge=xe.weight;$e[de]=$e[de]||{},$e[de][Be]=$e[de][Be]||{},$e[de][Be][we]=$e[de][Be][we]||{},$e[de][Be][we][ge]=xe}return $e}(Re.concat(ce))}return Q}var Ie=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ie},set:function(Ae){Q=null,Ie=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var ce;if(this.ctx.font=Ae,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var Re=ce[1],at=(ce[2],ce[3]),$e=ce[4],et=(ce[5],ce[6]),xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor(xe==="px"?parseFloat($e)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var de=function(Se){var st,it,qt=[],jt=Se.trim();if(jt==="")return lS;if(jt in xM)return[xM[jt]];for(;jt!=="";){switch(it=null,st=(jt=bM(jt)).charAt(0)){case'"':case"'":it=lBe(jt.substring(1),st);break;default:it=cBe(jt)}if(it===null||(qt.push(it[0]),(jt=bM(it[1]))!==""&&jt.charAt(0)!==","))return lS;jt=jt.replace(/^,/,"")}return qt}(et);if(this.fontFaces){var Be=oBe(ke(this.pdf,this.fontFaces),de.map(function(Se){return{family:Se,stretch:"normal",weight:at,style:Re}}));this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var we="";(at==="bold"||parseInt(at,10)>=700||Re==="bold")&&(we="bold"),Re==="italic"&&(we+="italic"),we.length===0&&(we="normal");for(var ge="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<de.length;tt++){if(this.pdf.internal.getFont(de[tt],we,{noFallback:!0,disableWarning:!0})!==void 0){ge=de[tt];break}if(we==="bolditalic"&&this.pdf.internal.getFont(de[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ge=de[tt],we="bold";else if(this.pdf.internal.getFont(de[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ge=de[tt],we="normal";break}}if(ge===""){for(var ht=0;ht<de.length;ht++)if(ze[de[ht]]){ge=ze[de[ht]];break}}ge=ge===""?"Times":ge,this.pdf.setFont(ge,we)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};f.prototype.setLineDash=function(A){this.lineDash=A},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(A,M){if(isNaN(A)||isNaN(M))throw cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(A,M));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(A,M)},f.prototype.closePath=function(){var A=new o(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&en(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){A=new o(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},f.prototype.lineTo=function(A,M){if(isNaN(A)||isNaN(M))throw cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(A,M));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(A,M,K,L){if(isNaN(K)||isNaN(L)||isNaN(A)||isNaN(M))throw cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new o(K,L)),Z=this.ctx.transform.applyToPoint(new o(A,M));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},f.prototype.bezierCurveTo=function(A,M,K,L,Y,Z){if(isNaN(Y)||isNaN(Z)||isNaN(A)||isNaN(M)||isNaN(K)||isNaN(L))throw cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var se=this.ctx.transform.applyToPoint(new o(Y,Z)),W=this.ctx.transform.applyToPoint(new o(A,M)),ae=this.ctx.transform.applyToPoint(new o(K,L));this.path.push({type:"bct",x1:W.x,y1:W.y,x2:ae.x,y2:ae.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},f.prototype.arc=function(A,M,K,L,Y,Z){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(L)||isNaN(Y))throw cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var se=this.ctx.transform.applyToPoint(new o(A,M));A=se.x,M=se.y;var W=this.ctx.transform.applyToPoint(new o(0,K)),ae=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(W.x-ae.x,2)+Math.pow(W.y-ae.y,2))}Math.abs(Y-L)>=2*Math.PI&&(L=0,Y=2*Math.PI),this.path.push({type:"arc",x:A,y:M,radius:K,startAngle:L,endAngle:Y,counterclockwise:Z})},f.prototype.arcTo=function(A,M,K,L,Y){throw new Error("arcTo not implemented.")},f.prototype.rect=function(A,M,K,L){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(L))throw cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,M),this.lineTo(A+K,M),this.lineTo(A+K,M+L),this.lineTo(A,M+L),this.lineTo(A,M),this.lineTo(A+K,M),this.lineTo(A,M)},f.prototype.fillRect=function(A,M,K,L){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(L))throw cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,M,K,L),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},f.prototype.strokeRect=function(A,M,K,L){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(L))throw cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(A,M,K,L),this.stroke())},f.prototype.clearRect=function(A,M,K,L){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(L))throw cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,M,K,L))},f.prototype.save=function(A){A=typeof A!="boolean"||A;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var L=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=L}},f.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(M),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(A){var M,K,L,Y;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))M=0,K=0,L=0,Y=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(Z!==null)M=parseInt(Z[1]),K=parseInt(Z[2]),L=parseInt(Z[3]),Y=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)M=parseInt(Z[1]),K=parseInt(Z[2]),L=parseInt(Z[3]),Y=parseFloat(Z[4]);else{if(Y=1,typeof A=="string"&&A.charAt(0)!=="#"){var se=new lK(A);A=se.ok?se.toHex():"#000000"}A.length===4?(M=A.substring(1,2),M+=M,K=A.substring(2,3),K+=K,L=A.substring(3,4),L+=L):(M=A.substring(1,3),K=A.substring(3,5),L=A.substring(5,7)),M=parseInt(M,16),K=parseInt(K,16),L=parseInt(L,16)}}return{r:M,g:K,b:L,a:Y,style:A}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(A,M,K,L){if(isNaN(M)||isNaN(K)||typeof A!="string")throw cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(L=isNaN(L)?void 0:L,!p.call(this)){var Y=G(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:A,x:M,y:K,scale:Z,angle:Y,align:this.textAlign,maxWidth:L})}},f.prototype.strokeText=function(A,M,K,L){if(isNaN(M)||isNaN(K)||typeof A!="string")throw cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){L=isNaN(L)?void 0:L;var Y=G(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:A,x:M,y:K,scale:Z,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:L})}},f.prototype.measureText=function(A){if(typeof A!="string")throw cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,K=this.pdf.internal.scaleFactor,L=M.internal.getFontSize(),Y=M.getStringUnitWidth(A)*L/M.internal.scaleFactor,Z=function(se){var W=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return W}}),this};return new Z({width:Y*=Math.round(96*K/72*1e4)/1e4})},f.prototype.scale=function(A,M){if(isNaN(A)||isNaN(M))throw cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(A,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.rotate=function(A){if(isNaN(A))throw cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new c(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},f.prototype.translate=function(A,M){if(isNaN(A)||isNaN(M))throw cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,A,M);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.transform=function(A,M,K,L,Y,Z){if(isNaN(A)||isNaN(M)||isNaN(K)||isNaN(L)||isNaN(Y)||isNaN(Z))throw cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var se=new c(A,M,K,L,Y,Z);this.ctx.transform=this.ctx.transform.multiply(se)},f.prototype.setTransform=function(A,M,K,L,Y,Z){A=isNaN(A)?1:A,M=isNaN(M)?0:M,K=isNaN(K)?0:K,L=isNaN(L)?1:L,Y=isNaN(Y)?0:Y,Z=isNaN(Z)?0:Z,this.ctx.transform=new c(A,M,K,L,Y,Z)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(A,M,K,L,Y,Z,se,W,ae){var fe=this.pdf.getImageProperties(A),Q=1,ke=1,Ie=1,Ae=1;L!==void 0&&W!==void 0&&(Ie=W/L,Ae=ae/Y,Q=fe.width/L*W/L,ke=fe.height/Y*ae/Y),Z===void 0&&(Z=M,se=K,M=0,K=0),L!==void 0&&W===void 0&&(W=L,ae=Y),L===void 0&&W===void 0&&(W=fe.width,ae=fe.height);for(var ce,Re=this.ctx.transform.decompose(),at=G(Re.rotate.shx),$e=new c,et=($e=($e=($e=$e.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale)).applyToRectangle(new l(Z-M*Ie,se-K*Ae,L*Q,Y*ke)),xe=x.call(this,et),de=[],Be=0;Be<xe.length;Be+=1)de.indexOf(xe[Be])===-1&&de.push(xe[Be]);if(b(de),this.autoPaging)for(var we=de[0],ge=de[de.length-1],ze=we;ze<ge+1;ze++){this.pdf.setPage(ze);var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=ze===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ze===1?0:Se+(ze-2)*st;if(this.ctx.clip_path.length!==0){var qt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ce,this.posX+this.margin[3],-it+ht+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=qt}var jt=JSON.parse(JSON.stringify(et));jt=y([jt],this.posX+this.margin[3],-it+ht+this.ctx.prevPageLastElemOffset)[0];var Sr=(ze>we||ze<ge)&&m.call(this);Sr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,st,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,at),Sr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",et.x,et.y,et.w,et.h,null,null,at)};var x=function(A,M,K){var L=[];M=M||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":L.push(Math.floor((A.y+Y)/K)+1);break;case"arc":L.push(Math.floor((A.y+Y-A.radius)/K)+1),L.push(Math.floor((A.y+Y+A.radius)/K)+1);break;case"qct":var Z=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);L.push(Math.floor((Z.y+Y)/K)+1),L.push(Math.floor((Z.y+Z.h+Y)/K)+1);break;case"bct":var se=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);L.push(Math.floor((se.y+Y)/K)+1),L.push(Math.floor((se.y+se.h+Y)/K)+1);break;case"rect":L.push(Math.floor((A.y+Y)/K)+1),L.push(Math.floor((A.y+A.h+Y)/K)+1)}for(var W=0;W<L.length;W+=1)for(;this.pdf.internal.getNumberOfPages()<L[W];)g.call(this);return L},g=function(){var A=this.fillStyle,M=this.strokeStyle,K=this.font,L=this.lineCap,Y=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=M,this.font=K,this.lineCap=L,this.lineWidth=Y,this.lineJoin=Z},y=function(A,M,K){for(var L=0;L<A.length;L++)switch(A[L].type){case"bct":A[L].x2+=M,A[L].y2+=K;case"qct":A[L].x1+=M,A[L].y1+=K;case"mt":case"lt":case"arc":default:A[L].x+=M,A[L].y+=K}return A},b=function(A){return A.sort(function(M,K){return M-K})},j=function(A,M){for(var K,L,Y=this.fillStyle,Z=this.strokeStyle,se=this.lineCap,W=this.lineWidth,ae=Math.abs(W*this.ctx.transform.scaleX),fe=this.lineJoin,Q=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Ie=[],Ae=0;Ae<ke.length;Ae++)if(ke[Ae].x!==void 0)for(var ce=x.call(this,ke[Ae]),Re=0;Re<ce.length;Re+=1)Ie.indexOf(ce[Re])===-1&&Ie.push(ce[Re]);for(var at=0;at<Ie.length;at++)for(;this.pdf.internal.getNumberOfPages()<Ie[at];)g.call(this);if(b(Ie),this.autoPaging)for(var $e=Ie[0],et=Ie[Ie.length-1],xe=$e;xe<et+1;xe++){this.pdf.setPage(xe),this.fillStyle=Y,this.strokeStyle=Z,this.lineCap=se,this.lineWidth=ae,this.lineJoin=fe;var de=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=xe===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=xe===1?0:we+(xe-2)*ge;if(this.ctx.clip_path.length!==0){var tt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-ze+Be+this.ctx.prevPageLastElemOffset),_.call(this,A,!0),this.path=tt}if(L=JSON.parse(JSON.stringify(Q)),this.path=y(L,this.posX+this.margin[3],-ze+Be+this.ctx.prevPageLastElemOffset),M===!1||xe===0){var ht=(xe>$e||xe<et)&&m.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],de,ge,null).clip().discardPath()),_.call(this,A,M),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=W}else this.lineWidth=ae,_.call(this,A,M),this.lineWidth=W;this.path=Q},_=function(A,M){if((A!=="stroke"||M||!v.call(this))&&(A==="stroke"||M||!p.call(this))){for(var K,L,Y=[],Z=this.path,se=0;se<Z.length;se++){var W=Z[se];switch(W.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:W,deltas:[],abs:[]});break;case"lt":var ae=Y.length;if(Z[se-1]&&!isNaN(Z[se-1].x)&&(K=[W.x-Z[se-1].x,W.y-Z[se-1].y],ae>0)){for(;ae>=0;ae--)if(Y[ae-1].close!==!0&&Y[ae-1].begin!==!0){Y[ae-1].deltas.push(K),Y[ae-1].abs.push(W);break}}break;case"bct":K=[W.x1-Z[se-1].x,W.y1-Z[se-1].y,W.x2-Z[se-1].x,W.y2-Z[se-1].y,W.x-Z[se-1].x,W.y-Z[se-1].y],Y[Y.length-1].deltas.push(K);break;case"qct":var fe=Z[se-1].x+2/3*(W.x1-Z[se-1].x),Q=Z[se-1].y+2/3*(W.y1-Z[se-1].y),ke=W.x+2/3*(W.x1-W.x),Ie=W.y+2/3*(W.y1-W.y),Ae=W.x,ce=W.y;K=[fe-Z[se-1].x,Q-Z[se-1].y,ke-Z[se-1].x,Ie-Z[se-1].y,Ae-Z[se-1].x,ce-Z[se-1].y],Y[Y.length-1].deltas.push(K);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(W)}}L=M?null:A==="stroke"?"stroke":"fill";for(var Re=!1,at=0;at<Y.length;at++)if(Y[at].arc)for(var $e=Y[at].abs,et=0;et<$e.length;et++){var xe=$e[et];xe.type==="arc"?T.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,M,!Re):U.call(this,xe.x,xe.y),Re=!0}else if(Y[at].close===!0)this.pdf.internal.out("h"),Re=!1;else if(Y[at].begin!==!0){var de=Y[at].start.x,Be=Y[at].start.y;q.call(this,Y[at].deltas,de,Be),Re=!0}L&&k.call(this,L),M&&V.call(this)}},N=function(A){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-K;case"top":return A+M-K;case"hanging":return A+M-2*K;case"middle":return A+M/2-K;case"ideographic":return A;case"alphabetic":default:return A}},S=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(M,K){this.colorStops.push([M,K])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(A,M,K,L,Y,Z,se,W,ae){for(var fe=I.call(this,K,L,Y,Z),Q=0;Q<fe.length;Q++){var ke=fe[Q];Q===0&&(ae?C.call(this,ke.x1+A,ke.y1+M):U.call(this,ke.x1+A,ke.y1+M)),z.call(this,A,M,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}W?V.call(this):k.call(this,se)},k=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(A,M){this.pdf.internal.out(r(A)+" "+n(M)+" m")},P=function(A){var M;switch(A.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var K=this.pdf.getTextDimensions(A.text),L=N.call(this,A.y),Y=S.call(this,L)-K.h,Z=this.ctx.transform.applyToPoint(new o(A.x,L)),se=this.ctx.transform.decompose(),W=new c;W=(W=(W=W.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var ae,fe,Q,ke=this.ctx.transform.applyToRectangle(new l(A.x,L,K.w,K.h)),Ie=W.applyToRectangle(new l(A.x,Y,K.w,K.h)),Ae=x.call(this,Ie),ce=[],Re=0;Re<Ae.length;Re+=1)ce.indexOf(Ae[Re])===-1&&ce.push(Ae[Re]);if(b(ce),this.autoPaging)for(var at=ce[0],$e=ce[ce.length-1],et=at;et<$e+1;et++){this.pdf.setPage(et);var xe=et===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],we=Be-this.margin[0],ge=this.pdf.internal.pageSize.width-this.margin[1],ze=ge-this.margin[3],tt=et===1?0:de+(et-2)*we;if(this.ctx.clip_path.length!==0){var ht=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ae,this.posX+this.margin[3],-1*tt+xe),_.call(this,"fill",!0),this.path=ht}var Se=y([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-tt+xe+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*A.scale),Q=this.lineWidth,this.lineWidth=Q*A.scale);var st=this.autoPaging!=="text";if(st||Se.y+Se.h<=Be){if(st||Se.y>=xe&&Se.x<=ge){var it=st?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||ge-Se.x)[0],qt=y([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-tt+xe+this.ctx.prevPageLastElemOffset)[0],jt=st&&(et>at||et<$e)&&m.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,we,null).clip().discardPath()),this.pdf.text(it,qt.x,qt.y,{angle:A.angle,align:M,renderingMode:A.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else Se.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-Se.y);A.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=Q)}else A.scale>=.01&&(fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fe*A.scale),Q=this.lineWidth,this.lineWidth=Q*A.scale),this.pdf.text(A.text,Z.x+this.posX,Z.y+this.posY,{angle:A.angle,align:M,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(fe),this.lineWidth=Q)},U=function(A,M,K,L){K=K||0,L=L||0,this.pdf.internal.out(r(A+K)+" "+n(M+L)+" l")},q=function(A,M,K){return this.pdf.lines(A,M,K,null,null)},z=function(A,M,K,L,Y,Z,se,W){this.pdf.internal.out([t(a(K+A)),t(i(L+M)),t(a(Y+A)),t(i(Z+M)),t(a(se+A)),t(i(W+M)),"c"].join(" "))},I=function(A,M,K,L){for(var Y=2*Math.PI,Z=Math.PI/2;M>K;)M-=Y;var se=Math.abs(K-M);se<Y&&L&&(se=Y-se);for(var W=[],ae=L?-1:1,fe=M;se>1e-5;){var Q=fe+ae*Math.min(se,Z);W.push(R.call(this,A,fe,Q)),se-=Math.abs(Q-fe),fe=Q}return W},R=function(A,M,K){var L=(K-M)/2,Y=A*Math.cos(L),Z=A*Math.sin(L),se=Y,W=-Z,ae=se*se+W*W,fe=ae+se*Y+W*Z,Q=4/3*(Math.sqrt(2*ae*fe)-fe)/(se*Z-W*Y),ke=se-Q*W,Ie=W+Q*se,Ae=ke,ce=-Ie,Re=L+M,at=Math.cos(Re),$e=Math.sin(Re);return{x1:A*Math.cos(M),y1:A*Math.sin(M),x2:ke*at-Ie*$e,y2:ke*$e+Ie*at,x3:Ae*at-ce*$e,y3:Ae*$e+ce*at,x4:A*Math.cos(K),y4:A*Math.sin(K)}},G=function(A){return 180*A/Math.PI},F=function(A,M,K,L,Y,Z){var se=A+.5*(K-A),W=M+.5*(L-M),ae=Y+.5*(K-Y),fe=Z+.5*(L-Z),Q=Math.min(A,Y,se,ae),ke=Math.max(A,Y,se,ae),Ie=Math.min(M,Z,W,fe),Ae=Math.max(M,Z,W,fe);return new l(Q,Ie,ke-Q,Ae-Ie)},H=function(A,M,K,L,Y,Z,se,W){var ae,fe,Q,ke,Ie,Ae,ce,Re,at,$e,et,xe,de,Be,we=K-A,ge=L-M,ze=Y-K,tt=Z-L,ht=se-Y,Se=W-Z;for(fe=0;fe<41;fe++)at=(ce=(Q=A+(ae=fe/40)*we)+ae*((Ie=K+ae*ze)-Q))+ae*(Ie+ae*(Y+ae*ht-Ie)-ce),$e=(Re=(ke=M+ae*ge)+ae*((Ae=L+ae*tt)-ke))+ae*(Ae+ae*(Z+ae*Se-Ae)-Re),fe==0?(et=at,xe=$e,de=at,Be=$e):(et=Math.min(et,at),xe=Math.min(xe,$e),de=Math.max(de,at),Be=Math.max(Be,$e));return new l(Math.round(et),Math.round(xe),Math.round(de-et),Math.round(Be-xe))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,M,K=(A=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:M}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Vt.API),function(e){var t=function(i){var o,l,c,u,d,f,h,p,v,m;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(m=d%85))/85)-(v=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,v+33,m+33)):l.push(122);return function(x,g){for(var y=g;y>0;y--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,d,f=String,h="length",p=255,v="charCodeAt",m="slice",x="replace";for(i[m](-2),i=i[m](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[m](i[h]%5||5))[h];d>u;u+=5)l=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(g,y){for(var b=y;b>0;b--)g.pop()}(c,o[h]),f.fromCharCode.apply(f,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=UA(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Vt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(v){var m=v.length,x=[],g=String.fromCharCode;for(h=0;h<m;h+=1)x.push(g(255&v.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Vt.API),function(e){function t(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):yc(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):yc(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=en(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],v=p.src.find(function(m){return m.format==="truetype"});v&&c.addFont(v.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Vt.getPageSize=function(o,l,c){if(en(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,v=0,m=0;if(h.hasOwnProperty(f))v=h[f][1]/d,m=h[f][0]/d;else try{v=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",m>v&&(p=m,m=v,v=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>m&&(p=m,m=v,v=p)}return{width:m,height:v,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(KA):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(Vt.API),Vt.API.addJS=function(e){return _M=e,this.internal.events.subscribe("postPutResources",function(){my=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(my+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),wM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_M+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){my!==void 0&&wM!==void 0&&this.internal.out("/Names <</JavaScript "+my+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Vt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,m={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=p,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),m={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(Vt.API);var hh,gy,jM,SM,NM,uBe=function(){var e,t,r;function n(i){var o,l,c,u,d,f,h,p,v,m,x,g,y,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var j,_;for(_=[],j=0;j<4;++j)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(y=0;0<=m?y<m:y>m;0<=m?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(x=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,x.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,v){var m,x,g,y,b,j,_,N,S,T,k,V,C,P,U,q,z,I,R,G,F,H=Math.ceil((u.width-f)/p),J=Math.ceil((u.height-h)/v),A=u.width==H&&u.height==J;for(P=o*H,V=A?l:new Uint8Array(P*J),j=i.length,C=0,x=0;C<J&&c<j;){switch(i[c++]){case 0:for(y=z=0;z<P;y=z+=1)V[x++]=i[c++];break;case 1:for(y=I=0;I<P;y=I+=1)m=i[c++],b=y<o?0:V[x-o],V[x++]=(m+b)%256;break;case 2:for(y=R=0;R<P;y=R+=1)m=i[c++],g=(y-y%o)/o,U=C&&V[(C-1)*P+g*o+y%o],V[x++]=(U+m)%256;break;case 3:for(y=G=0;G<P;y=G+=1)m=i[c++],g=(y-y%o)/o,b=y<o?0:V[x-o],U=C&&V[(C-1)*P+g*o+y%o],V[x++]=(m+Math.floor((b+U)/2))%256;break;case 4:for(y=F=0;F<P;y=F+=1)m=i[c++],g=(y-y%o)/o,b=y<o?0:V[x-o],C===0?U=q=0:(U=V[(C-1)*P+g*o+y%o],q=g&&V[(C-1)*P+(g-1)*o+y%o]),_=b+U-q,N=Math.abs(_-b),T=Math.abs(_-U),k=Math.abs(_-q),S=N<=T&&N<=k?b:T<=k?U:q,V[x++]=(m+S)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!A){var M=((h+C*v)*u.width+f)*o,K=C*P;for(y=0;y<H;y+=1){for(var L=0;L<o;L+=1)l[M++]=V[K++];M+=(p-1)*o}}C++}}return i=z$e(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,u,d,f,h,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,o=f=0,h=l.length;f<h;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,o){var l,c,u,d,f,h,p,v,m,x,g;if(c=this.colors,m=null,l=this.hasAlphaChannel,this.palette.length&&(m=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(u=i.data||i).length,f=m||o,d=h=0,c===1)for(;d<v;)p=m?4*o[d/4]:h,x=f[p++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=l?f[p++]:255,h=p;else for(;d<v;)p=m?4*o[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=l?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Qt)==="[object Window]"){try{t=Qt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,u,d,f,h,p;if(this.animation){for(p=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)o=h[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=e(c));return p}},n.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var p,v;if(p=l++%u,v=c[p],h.renderFrame(i,p),u>1&&l/u<d)return h.animation._timeout=setTimeout(o,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function dBe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,p=0,v=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++],_=j>>6&1,N=1<<(7&j)+1,S=l,T=c,k=!1;j>>7&&(k=!0,S=t,T=N,t+=3*N);var V=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}d.push({x,y:g,width:y,height:b,has_local_palette:k,palette_offset:S,palette_size:T,data_offset:V,data_length:t-V,transparent_index:h,interlaced:!!_,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,U){var q=this.frameInfo(P),z=q.width*q.height,I=new Uint8Array(z);AM(e,q.data_offset,I,z);var R=q.palette_offset,G=q.transparent_index;G===null&&(G=256);var F=q.width,H=r-F,J=F,A=4*(q.y*r+q.x),M=4*((q.y+q.height)*r+q.x),K=A,L=4*H;q.interlaced===!0&&(L+=4*r*7);for(var Y=8,Z=0,se=I.length;Z<se;++Z){var W=I[Z];if(J===0&&(J=F,(K+=L)>=M&&(L=4*H+4*r*(Y-1),K=A+(F+H)*(Y<<1),Y>>=1)),W===G)K+=4;else{var ae=e[R+3*W],fe=e[R+3*W+1],Q=e[R+3*W+2];U[K++]=Q,U[K++]=fe,U[K++]=ae,U[K++]=255}--J}},this.decodeAndBlitFrameRGBA=function(P,U){var q=this.frameInfo(P),z=q.width*q.height,I=new Uint8Array(z);AM(e,q.data_offset,I,z);var R=q.palette_offset,G=q.transparent_index;G===null&&(G=256);var F=q.width,H=r-F,J=F,A=4*(q.y*r+q.x),M=4*((q.y+q.height)*r+q.x),K=A,L=4*H;q.interlaced===!0&&(L+=4*r*7);for(var Y=8,Z=0,se=I.length;Z<se;++Z){var W=I[Z];if(J===0&&(J=F,(K+=L)>=M&&(L=4*H+4*r*(Y-1),K=A+(F+H)*(Y<<1),Y>>=1)),W===G)K+=4;else{var ae=e[R+3*W],fe=e[R+3*W+1],Q=e[R+3*W+2];U[K++]=ae,U[K++]=fe,U[K++]=Q,U[K++]=255}--J}}}function AM(e,t,r,n){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],v=new Int32Array(4096),m=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==i){if(x===o)break;for(var g=x<l?x:m,y=0,b=g;b>i;)b=v[b]>>8,++y;var j=b;if(h+y+(g!==x?1:0)>n)return void cn.log("Warning, gif stream longer than expected.");r[h++]=j;var _=h+=y;for(g!==x&&(r[h++]=j),b=g;y--;)b=v[b],r[--_]=255&b,b>>=8;m!==null&&l<4096&&(v[l++]=m<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),m=x}else l=o+1,u=(1<<(c=a+1))-1,m=null}return h!==n&&cn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function cS(e){var t,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),v=new Array(64),m=[],x=0,g=7,y=new Array(64),b=new Array(64),j=new Array(64),_=new Array(256),N=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(A,M){for(var K=0,L=0,Y=new Array,Z=1;Z<=16;Z++){for(var se=1;se<=A[Z];se++)Y[M[L]]=[],Y[M[L]][0]=K,Y[M[L]][1]=Z,L++,K++;K*=2}return Y}function R(A){for(var M=A[0],K=A[1]-1;K>=0;)M&1<<K&&(x|=1<<g),K--,--g<0&&(x==255?(G(255),G(0)):G(x),g=7,x=0)}function G(A){m.push(A)}function F(A){G(A>>8&255),G(255&A)}function H(A,M,K,L,Y){for(var Z,se=Y[0],W=Y[240],ae=function($e,et){var xe,de,Be,we,ge,ze,tt,ht,Se,st,it=0;for(Se=0;Se<8;++Se){xe=$e[it],de=$e[it+1],Be=$e[it+2],we=$e[it+3],ge=$e[it+4],ze=$e[it+5],tt=$e[it+6];var qt=xe+(ht=$e[it+7]),jt=xe-ht,Sr=de+tt,Gt=de-tt,or=Be+ze,Wr=Be-ze,Ht=we+ge,Yr=we-ge,le=qt+Ht,Rt=qt-Ht,kr=Sr+or,ar=Sr-or;$e[it]=le+kr,$e[it+4]=le-kr;var Bt=.707106781*(ar+Rt);$e[it+2]=Rt+Bt,$e[it+6]=Rt-Bt;var Jt=.382683433*((le=Yr+Wr)-(ar=Gt+jt)),aa=.5411961*le+Jt,nn=1.306562965*ar+Jt,Je=.707106781*(kr=Wr+Gt),kt=jt+Je,xt=jt-Je;$e[it+5]=xt+aa,$e[it+3]=xt-aa,$e[it+1]=kt+nn,$e[it+7]=kt-nn,it+=8}for(it=0,Se=0;Se<8;++Se){xe=$e[it],de=$e[it+8],Be=$e[it+16],we=$e[it+24],ge=$e[it+32],ze=$e[it+40],tt=$e[it+48];var At=xe+(ht=$e[it+56]),zr=xe-ht,On=de+tt,An=de-tt,vn=Be+ze,re=Be-ze,ye=we+ge,he=we-ge,pe=At+ye,be=At-ye,_e=On+vn,Ve=On-vn;$e[it]=pe+_e,$e[it+32]=pe-_e;var Qe=.707106781*(Ve+be);$e[it+16]=be+Qe,$e[it+48]=be-Qe;var Ue=.382683433*((pe=he+re)-(Ve=An+zr)),qe=.5411961*pe+Ue,Ke=1.306562965*Ve+Ue,mt=.707106781*(_e=re+An),Nt=zr+mt,Ft=zr-mt;$e[it+40]=Ft+qe,$e[it+24]=Ft-qe,$e[it+8]=Nt+Ke,$e[it+56]=Nt-Ke,it++}for(Se=0;Se<64;++Se)st=$e[Se]*et[Se],p[Se]=st>0?st+.5|0:st-.5|0;return p}(A,M),fe=0;fe<64;++fe)v[S[fe]]=ae[fe];var Q=v[0]-K;K=v[0],Q==0?R(L[0]):(R(L[h[Z=32767+Q]]),R(f[Z]));for(var ke=63;ke>0&&v[ke]==0;)ke--;if(ke==0)return R(se),K;for(var Ie,Ae=1;Ae<=ke;){for(var ce=Ae;v[Ae]==0&&Ae<=ke;)++Ae;var Re=Ae-ce;if(Re>=16){Ie=Re>>4;for(var at=1;at<=Ie;++at)R(W);Re&=15}Z=32767+v[Ae],R(Y[(Re<<4)+h[Z]]),R(f[Z]),Ae++}return ke!=63&&R(se),K}function J(A){A=Math.min(Math.max(A,1),100),i!=A&&(function(M){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],L=0;L<64;L++){var Y=o((K[L]*M+50)/100);Y=Math.min(Math.max(Y,1),255),l[S[L]]=Y}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],se=0;se<64;se++){var W=o((Z[se]*M+50)/100);W=Math.min(Math.max(W,1),255),c[S[se]]=W}for(var ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fe=0,Q=0;Q<8;Q++)for(var ke=0;ke<8;ke++)u[fe]=1/(l[S[fe]]*ae[Q]*ae[ke]*8),d[fe]=1/(c[S[fe]]*ae[Q]*ae[ke]*8),fe++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),i=A)}this.encode=function(A,M){M&&J(M),m=new Array,x=0,g=7,F(65496),F(65504),F(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),F(1),F(1),G(0),G(0),function(){F(65499),F(132),G(0);for(var de=0;de<64;de++)G(l[de]);G(1);for(var Be=0;Be<64;Be++)G(c[Be])}(),function(de,Be){F(65472),F(17),G(8),F(Be),F(de),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(A.width,A.height),function(){F(65476),F(418),G(0);for(var de=0;de<16;de++)G(T[de+1]);for(var Be=0;Be<=11;Be++)G(k[Be]);G(16);for(var we=0;we<16;we++)G(V[we+1]);for(var ge=0;ge<=161;ge++)G(C[ge]);G(1);for(var ze=0;ze<16;ze++)G(P[ze+1]);for(var tt=0;tt<=11;tt++)G(U[tt]);G(17);for(var ht=0;ht<16;ht++)G(q[ht+1]);for(var Se=0;Se<=161;Se++)G(z[Se])}(),F(65498),F(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var K=0,L=0,Y=0;x=0,g=7,this.encode.displayName="_encode_";for(var Z,se,W,ae,fe,Q,ke,Ie,Ae,ce=A.data,Re=A.width,at=A.height,$e=4*Re,et=0;et<at;){for(Z=0;Z<$e;){for(fe=$e*et+Z,ke=-1,Ie=0,Ae=0;Ae<64;Ae++)Q=fe+(Ie=Ae>>3)*$e+(ke=4*(7&Ae)),et+Ie>=at&&(Q-=$e*(et+1+Ie-at)),Z+ke>=$e&&(Q-=Z+ke-$e+4),se=ce[Q++],W=ce[Q++],ae=ce[Q++],y[Ae]=(N[se]+N[W+256>>0]+N[ae+512>>0]>>16)-128,b[Ae]=(N[se+768>>0]+N[W+1024>>0]+N[ae+1280>>0]>>16)-128,j[Ae]=(N[se+1280>>0]+N[W+1536>>0]+N[ae+1792>>0]>>16)-128;K=H(y,u,K,t,n),L=H(b,d,L,r,a),Y=H(j,d,Y,r,a),Z+=32}et+=8}if(g>=0){var xe=[];xe[1]=g+1,xe[0]=(1<<g+1)-1,R(xe)}return F(65497),new Uint8Array(m)},e=e||50,function(){for(var A=String.fromCharCode,M=0;M<256;M++)_[M]=A(M)}(),t=I(T,k),r=I(P,U),n=I(V,C),a=I(q,z),function(){for(var A=1,M=2,K=1;K<=15;K++){for(var L=A;L<M;L++)h[32767+L]=K,f[32767+L]=[],f[32767+L][1]=K,f[32767+L][0]=L;for(var Y=-(M-1);Y<=-A;Y++)h[32767+Y]=K,f[32767+Y]=[],f[32767+Y][1]=K,f[32767+Y][0]=M-1+Y;A<<=1,M<<=1}}(),function(){for(var A=0;A<256;A++)N[A]=19595*A,N[A+256>>0]=38470*A,N[A+512>>0]=7471*A+32768,N[A+768>>0]=-11059*A,N[A+1024>>0]=-21709*A,N[A+1280>>0]=32768*A+8421375,N[A+1536>>0]=-27439*A,N[A+1792>>0]=-5329*A}(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ao(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TM(e){function t(T){if(!T)throw Error("assert :P")}function r(T,k,V){for(var C=0;4>C;C++)if(T[k+C]!=V.charCodeAt(C))return!0;return!1}function n(T,k,V,C,P){for(var U=0;U<P;U++)T[k+U]=V[C+U]}function a(T,k,V,C){for(var P=0;P<C;P++)T[k+P]=V}function i(T){return new Int32Array(T)}function o(T,k){for(var V=[],C=0;C<T;C++)V.push(new k);return V}function l(T,k){var V=[];return function C(P,U,q){for(var z=q[U],I=0;I<z&&(P.push(q.length>U+1?[]:new k),!(q.length<U+1));I++)C(P[I],U+1,q)}(V,0,T),V}var c=function(){var T=this;function k(w,E){for(var B=1<<E-1>>>0;w&B;)B>>>=1;return B?(w&B-1)+B:w}function V(w,E,B,X,ee){t(!(X%B));do w[E+(X-=B)]=ee;while(0<X)}function C(w,E,B,X,ee){if(t(2328>=ee),512>=ee)var ne=i(512);else if((ne=i(ee))==null)return 0;return function(ie,oe,ue,me,Pe,He){var We,De,ut=oe,Ze=1<<ue,Oe=i(16),Fe=i(16);for(t(Pe!=0),t(me!=null),t(ie!=null),t(0<ue),De=0;De<Pe;++De){if(15<me[De])return 0;++Oe[me[De]]}if(Oe[0]==Pe)return 0;for(Fe[1]=0,We=1;15>We;++We){if(Oe[We]>1<<We)return 0;Fe[We+1]=Fe[We]+Oe[We]}for(De=0;De<Pe;++De)We=me[De],0<me[De]&&(He[Fe[We]++]=De);if(Fe[15]==1)return(me=new P).g=0,me.value=He[0],V(ie,ut,1,Ze,me),Ze;var ot,ft=-1,lt=Ze-1,Lt=0,Tt=1,Wt=1,Pt=1<<ue;for(De=0,We=1,Pe=2;We<=ue;++We,Pe<<=1){if(Tt+=Wt<<=1,0>(Wt-=Oe[We]))return 0;for(;0<Oe[We];--Oe[We])(me=new P).g=We,me.value=He[De++],V(ie,ut+Lt,Pe,Pt,me),Lt=k(Lt,We)}for(We=ue+1,Pe=2;15>=We;++We,Pe<<=1){if(Tt+=Wt<<=1,0>(Wt-=Oe[We]))return 0;for(;0<Oe[We];--Oe[We]){if(me=new P,(Lt&lt)!=ft){for(ut+=Pt,ot=1<<(ft=We)-ue;15>ft&&!(0>=(ot-=Oe[ft]));)++ft,ot<<=1;Ze+=Pt=1<<(ot=ft-ue),ie[oe+(ft=Lt&lt)].g=ot+ue,ie[oe+ft].value=ut-oe-ft}me.g=We-ue,me.value=He[De++],V(ie,ut+(Lt>>ue),Pe,Pt,me),Lt=k(Lt,We)}}return Tt!=2*Fe[15]-1?0:Ze}(w,E,B,X,ee,ne)}function P(){this.value=this.g=0}function U(){this.value=this.g=0}function q(){this.G=o(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Va,U)}function z(w,E,B,X){t(w!=null),t(E!=null),t(2147483648>X),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=E,w.pa=B,w.Jd=E,w.Yc=B+X,w.Zc=4<=X?B+X-4+1:B,Z(w)}function I(w,E){for(var B=0;0<E--;)B|=W(w,128)<<E;return B}function R(w,E){var B=I(w,E);return se(w)?-B:B}function G(w,E,B,X){var ee,ne=0;for(t(w!=null),t(E!=null),t(4294967288>X),w.Sb=X,w.Ra=0,w.u=0,w.h=0,4<X&&(X=4),ee=0;ee<X;++ee)ne+=E[B+ee]<<8*ee;w.Ra=ne,w.bb=X,w.oa=E,w.pa=B}function F(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Vf-8>>>0,++w.bb,w.u-=8;K(w)&&(w.h=1,w.u=0)}function H(w,E){if(t(0<=E),!w.h&&E<=Uf){var B=M(w)&zf[E];return w.u+=E,F(w),B}return w.h=1,w.u=0}function J(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(w){return w.Ra>>>(w.u&Vf-1)>>>0}function K(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Vf}function L(w,E){w.u=E,w.h=K(w)}function Y(w){w.u>=Ip&&(t(w.u>=Ip),F(w))}function Z(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function se(w){return I(w,1)}function W(w,E){var B=w.Ca;0>w.b&&Z(w);var X=w.b,ee=B*E>>>8,ne=(w.I>>>X>ee)+0;for(ne?(B-=ee,w.I-=ee+1<<X>>>0):B=ee+1,X=B,ee=0;256<=X;)ee+=8,X>>=8;return X=7^ee+Vi[X],w.b-=X,w.Ca=(B<<X)-1,ne}function ae(w,E,B){w[E+0]=B>>24&255,w[E+1]=B>>16&255,w[E+2]=B>>8&255,w[E+3]=B>>0&255}function fe(w,E){return w[E+0]<<0|w[E+1]<<8}function Q(w,E){return fe(w,E)|w[E+2]<<16}function ke(w,E){return fe(w,E)|fe(w,E+2)<<16}function Ie(w,E){var B=1<<E;return t(w!=null),t(0<E),w.X=i(B),w.X==null?0:(w.Mb=32-E,w.Xa=E,1)}function Ae(w,E){t(w!=null),t(E!=null),t(w.Xa==E.Xa),n(E.X,0,w.X,0,1<<E.Xa)}function ce(){this.X=[],this.Xa=this.Mb=0}function Re(w,E,B,X){t(B!=null),t(X!=null);var ee=B[0],ne=X[0];return ee==0&&(ee=(w*ne+E/2)/E),ne==0&&(ne=(E*ee+w/2)/w),0>=ee||0>=ne?0:(B[0]=ee,X[0]=ne,1)}function at(w,E){return w+(1<<E)-1>>>E}function $e(w,E){return((4278255360&w)+(4278255360&E)>>>0&4278255360)+((16711935&w)+(16711935&E)>>>0&16711935)>>>0}function et(w,E){T[E]=function(B,X,ee,ne,ie,oe,ue){var me;for(me=0;me<ie;++me){var Pe=T[w](oe[ue+me-1],ee,ne+me);oe[ue+me]=$e(B[X+me],Pe)}}}function xe(){this.ud=this.hd=this.jd=0}function de(w,E){return((4278124286&(w^E))>>>1)+(w&E)>>>0}function Be(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function we(w,E){return Be(w+(w-E+.5>>1))}function ge(w,E,B){return Math.abs(E-B)-Math.abs(w-B)}function ze(w,E,B,X,ee,ne,ie){for(X=ne[ie-1],B=0;B<ee;++B)ne[ie+B]=X=$e(w[E+B],X)}function tt(w,E,B,X,ee){var ne;for(ne=0;ne<B;++ne){var ie=w[E+ne],oe=ie>>8&255,ue=16711935&(ue=(ue=16711935&ie)+((oe<<16)+oe));X[ee+ne]=(4278255360&ie)+ue>>>0}}function ht(w,E){E.jd=w>>0&255,E.hd=w>>8&255,E.ud=w>>16&255}function Se(w,E,B,X,ee,ne){var ie;for(ie=0;ie<X;++ie){var oe=E[B+ie],ue=oe>>>8,me=oe,Pe=255&(Pe=(Pe=oe>>>16)+((w.jd<<24>>24)*(ue<<24>>24)>>>5));me=255&(me=(me=me+((w.hd<<24>>24)*(ue<<24>>24)>>>5))+((w.ud<<24>>24)*(Pe<<24>>24)>>>5)),ee[ne+ie]=(4278255360&oe)+(Pe<<16)+me}}function st(w,E,B,X,ee){T[E]=function(ne,ie,oe,ue,me,Pe,He,We,De){for(ue=He;ue<We;++ue)for(He=0;He<De;++He)me[Pe++]=ee(oe[X(ne[ie++])])},T[w]=function(ne,ie,oe,ue,me,Pe,He){var We=8>>ne.b,De=ne.Ea,ut=ne.K[0],Ze=ne.w;if(8>We)for(ne=(1<<ne.b)-1,Ze=(1<<We)-1;ie<oe;++ie){var Oe,Fe=0;for(Oe=0;Oe<De;++Oe)Oe&ne||(Fe=X(ue[me++])),Pe[He++]=ee(ut[Fe&Ze]),Fe>>=We}else T["VP8LMapColor"+B](ue,me,ut,Ze,Pe,He,ie,oe,De)}}function it(w,E,B,X,ee){for(B=E+B;E<B;){var ne=w[E++];X[ee++]=ne>>16&255,X[ee++]=ne>>8&255,X[ee++]=ne>>0&255}}function qt(w,E,B,X,ee){for(B=E+B;E<B;){var ne=w[E++];X[ee++]=ne>>16&255,X[ee++]=ne>>8&255,X[ee++]=ne>>0&255,X[ee++]=ne>>24&255}}function jt(w,E,B,X,ee){for(B=E+B;E<B;){var ne=(ie=w[E++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;X[ee++]=ne,X[ee++]=ie}}function Sr(w,E,B,X,ee){for(B=E+B;E<B;){var ne=(ie=w[E++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;X[ee++]=ne,X[ee++]=ie}}function Gt(w,E,B,X,ee){for(B=E+B;E<B;){var ne=w[E++];X[ee++]=ne>>0&255,X[ee++]=ne>>8&255,X[ee++]=ne>>16&255}}function or(w,E,B,X,ee,ne){if(ne==0)for(B=E+B;E<B;)ae(X,((ne=w[E++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),ee+=32;else n(X,ee,w,E,B)}function Wr(w,E){T[E][0]=T[w+"0"],T[E][1]=T[w+"1"],T[E][2]=T[w+"2"],T[E][3]=T[w+"3"],T[E][4]=T[w+"4"],T[E][5]=T[w+"5"],T[E][6]=T[w+"6"],T[E][7]=T[w+"7"],T[E][8]=T[w+"8"],T[E][9]=T[w+"9"],T[E][10]=T[w+"10"],T[E][11]=T[w+"11"],T[E][12]=T[w+"12"],T[E][13]=T[w+"13"],T[E][14]=T[w+"0"],T[E][15]=T[w+"0"]}function Ht(w){return w==K_||w==Y_||w==Kx||w==X_}function Yr(){this.eb=[],this.size=this.A=this.fb=0}function le(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yr,this.f.kb=new le,this.sd=null}function kr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ar(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Jt(w,E){var B=w.T,X=E.ba.f.RGBA,ee=X.eb,ne=X.fb+w.ka*X.A,ie=Us[E.ba.S],oe=w.y,ue=w.O,me=w.f,Pe=w.N,He=w.ea,We=w.W,De=E.cc,ut=E.dc,Ze=E.Mc,Oe=E.Nc,Fe=w.ka,ot=w.ka+w.T,ft=w.U,lt=ft+1>>1;for(Fe==0?ie(oe,ue,null,null,me,Pe,He,We,me,Pe,He,We,ee,ne,null,null,ft):(ie(E.ec,E.fc,oe,ue,De,ut,Ze,Oe,me,Pe,He,We,ee,ne-X.A,ee,ne,ft),++B);Fe+2<ot;Fe+=2)De=me,ut=Pe,Ze=He,Oe=We,Pe+=w.Rc,We+=w.Rc,ne+=2*X.A,ie(oe,(ue+=2*w.fa)-w.fa,oe,ue,De,ut,Ze,Oe,me,Pe,He,We,ee,ne-X.A,ee,ne,ft);return ue+=w.fa,w.j+ot<w.o?(n(E.ec,E.fc,oe,ue,ft),n(E.cc,E.dc,me,Pe,lt),n(E.Mc,E.Nc,He,We,lt),B--):1&ot||ie(oe,ue,null,null,me,Pe,He,We,me,Pe,He,We,ee,ne+X.A,null,null,ft),B}function aa(w,E,B){var X=w.F,ee=[w.J];if(X!=null){var ne=w.U,ie=E.ba.S,oe=ie==Gx||ie==Kx;E=E.ba.f.RGBA;var ue=[0],me=w.ka;ue[0]=w.T,w.Kb&&(me==0?--ue[0]:(--me,ee[0]-=w.width),w.j+w.ka+w.T==w.o&&(ue[0]=w.o-w.j-me));var Pe=E.eb;me=E.fb+me*E.A,w=fn(X,ee[0],w.width,ne,ue,Pe,me+(oe?0:3),E.A),t(B==ue),w&&Ht(ie)&&Bs(Pe,me,oe,ne,ue,E.A)}return 0}function nn(w){var E=w.ma,B=E.ba.S,X=11>B,ee=B==Wx||B==qx||B==Gx||B==G_||B==12||Ht(B);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Dp(E.Oa,w,ee?11:12))return 0;if(ee&&Ht(B)&&pt(),w.da)alert("todo:use_scaling");else{if(X){if(E.Ib=Bt,w.Kb){if(B=w.U+1>>1,E.memory=i(w.U+2*B),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+w.U,E.Mc=E.cc,E.Nc=E.dc+B,E.Ib=Jt,pt()}}else alert("todo:EmitYUV");ee&&(E.Jb=aa,X&&Me())}if(X&&!tk){for(w=0;256>w;++w)BK[w]=89858*(w-128)+Xx>>Yx,VK[w]=-22014*(w-128)+Xx,UK[w]=-45773*(w-128),zK[w]=113618*(w-128)+Xx>>Yx;for(w=Vp;w<Z_;++w)E=76283*(w-16)+Xx>>Yx,HK[w-Vp]=cs(E,255),WK[w-Vp]=cs(E+8>>4,15);tk=1}return 1}function Je(w){var E=w.ma,B=w.U,X=w.T;return t(!(1&w.ka)),0>=B||0>=X?0:(B=E.Ib(w,E),E.Jb!=null&&E.Jb(w,E,B),E.Dc+=B,1)}function kt(w){w.ma.memory=null}function xt(w,E,B,X){return H(w,8)!=47?0:(E[0]=H(w,14)+1,B[0]=H(w,14)+1,X[0]=H(w,1),H(w,3)!=0?0:!w.h)}function At(w,E){if(4>w)return w+1;var B=w-2>>1;return(2+(1&w)<<B)+H(E,B)+1}function zr(w,E){return 120<E?E-120:1<=(B=((B=AK[E-1])>>4)*w+(8-(15&B)))?B:1;var B}function On(w,E,B){var X=M(B),ee=w[E+=255&X].g-8;return 0<ee&&(L(B,B.u+8),X=M(B),E+=w[E].value,E+=X&(1<<ee)-1),L(B,B.u+w[E].g),w[E].value}function An(w,E,B){return B.g+=w.g,B.value+=w.value<<E>>>0,t(8>=B.g),w.g}function vn(w,E,B){var X=w.xc;return t((E=X==0?0:w.vc[w.md*(B>>X)+(E>>X)])<w.Wb),w.Ya[E]}function re(w,E,B,X){var ee=w.ab,ne=w.c*E,ie=w.C;E=ie+E;var oe=B,ue=X;for(X=w.Ta,B=w.Ua;0<ee--;){var me=w.gc[ee],Pe=ie,He=E,We=oe,De=ue,ut=(ue=X,oe=B,me.Ea);switch(t(Pe<He),t(He<=me.nc),me.hc){case 2:Rx(We,De,(He-Pe)*ut,ue,oe);break;case 0:var Ze=Pe,Oe=He,Fe=ue,ot=oe,ft=(Pt=me).Ea;Ze==0&&(W_(We,De,null,null,1,Fe,ot),ze(We,De+1,0,0,ft-1,Fe,ot+1),De+=ft,ot+=ft,++Ze);for(var lt=1<<Pt.b,Lt=lt-1,Tt=at(ft,Pt.b),Wt=Pt.K,Pt=Pt.w+(Ze>>Pt.b)*Tt;Ze<Oe;){var qr=Wt,Xr=Pt,Mr=1;for(Mp(We,De,Fe,ot-ft,1,Fe,ot);Mr<ft;){var Cr=(Mr&~Lt)+lt;Cr>ft&&(Cr=ft),(0,Ic[qr[Xr++]>>8&15])(We,De+ +Mr,Fe,ot+Mr-ft,Cr-Mr,Fe,ot+Mr),Mr=Cr}De+=ft,ot+=ft,++Ze&Lt||(Pt+=Tt)}He!=me.nc&&n(ue,oe-ut,ue,oe+(He-Pe-1)*ut,ut);break;case 1:for(ut=We,Oe=De,ft=(We=me.Ea)-(ot=We&~(Fe=(De=1<<me.b)-1)),Ze=at(We,me.b),lt=me.K,me=me.w+(Pe>>me.b)*Ze;Pe<He;){for(Lt=lt,Tt=me,Wt=new xe,Pt=Oe+ot,qr=Oe+We;Oe<Pt;)ht(Lt[Tt++],Wt),sd(Wt,ut,Oe,De,ue,oe),Oe+=De,oe+=De;Oe<qr&&(ht(Lt[Tt++],Wt),sd(Wt,ut,Oe,ft,ue,oe),Oe+=ft,oe+=ft),++Pe&Fe||(me+=Ze)}break;case 3:if(We==ue&&De==oe&&0<me.b){for(Oe=ue,We=ut=oe+(He-Pe)*ut-(ot=(He-Pe)*at(me.Ea,me.b)),De=ue,Fe=oe,Ze=[],ot=(ft=ot)-1;0<=ot;--ot)Ze[ot]=De[Fe+ot];for(ot=ft-1;0<=ot;--ot)Oe[We+ot]=Ze[ot];Ms(me,Pe,He,ue,ut,ue,oe)}else Ms(me,Pe,He,We,De,ue,oe)}oe=X,ue=B}ue!=B&&n(X,B,oe,ue,ne)}function ye(w,E){var B=w.V,X=w.Ba+w.c*w.C,ee=E-w.C;if(t(E<=w.l.o),t(16>=ee),0<ee){var ne=w.l,ie=w.Ta,oe=w.Ua,ue=ne.width;if(re(w,ee,B,X),ee=oe=[oe],t((B=w.C)<(X=E)),t(ne.v<ne.va),X>ne.o&&(X=ne.o),B<ne.j){var me=ne.j-B;B=ne.j,ee[0]+=me*ue}if(B>=X?B=0:(ee[0]+=4*ne.v,ne.ka=B-ne.j,ne.U=ne.va-ne.v,ne.T=X-B,B=1),B){if(oe=oe[0],11>(B=w.ca).S){var Pe=B.f.RGBA,He=(X=B.S,ee=ne.U,ne=ne.T,me=Pe.eb,Pe.A),We=ne;for(Pe=Pe.fb+w.Ma*Pe.A;0<We--;){var De=ie,ut=oe,Ze=ee,Oe=me,Fe=Pe;switch(X){case Hx:Hi(De,ut,Ze,Oe,Fe);break;case Wx:Ti(De,ut,Ze,Oe,Fe);break;case K_:Ti(De,ut,Ze,Oe,Fe),Bs(Oe,Fe,0,Ze,1,0);break;case W3:Rl(De,ut,Ze,Oe,Fe);break;case qx:or(De,ut,Ze,Oe,Fe,1);break;case Y_:or(De,ut,Ze,Oe,Fe,1),Bs(Oe,Fe,0,Ze,1,0);break;case Gx:or(De,ut,Ze,Oe,Fe,0);break;case Kx:or(De,ut,Ze,Oe,Fe,0),Bs(Oe,Fe,1,Ze,1,0);break;case G_:Mc(De,ut,Ze,Oe,Fe);break;case X_:Mc(De,ut,Ze,Oe,Fe),dn(Oe,Fe,Ze,1,0);break;case q3:Ml(De,ut,Ze,Oe,Fe);break;default:t(0)}oe+=ue,Pe+=He}w.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=B.height)}}w.C=E,t(w.C<=w.i)}function he(w){var E;if(0<w.ua)return 0;for(E=0;E<w.Wb;++E){var B=w.Ya[E].G,X=w.Ya[E].H;if(0<B[1][X[1]+0].g||0<B[2][X[2]+0].g||0<B[3][X[3]+0].g)return 0}return 1}function pe(w,E,B,X,ee,ne){if(w.Z!=0){var ie=w.qd,oe=w.rd;for(t(zc[w.Z]!=null);E<B;++E)zc[w.Z](ie,oe,X,ee,X,ee,ne),ie=X,oe=ee,ee+=ne;w.qd=ie,w.rd=oe}}function be(w,E){var B=w.l.ma,X=B.Z==0||B.Z==1?w.l.j:w.C;if(X=w.C<X?X:w.C,t(E<=w.l.o),E>X){var ee=w.l.width,ne=B.ca,ie=B.tb+ee*X,oe=w.V,ue=w.Ba+w.c*X,me=w.gc;t(w.ab==1),t(me[0].hc==3),$x(me[0],X,E,oe,ue,ne,ie),pe(B,X,E,ne,ie,ee)}w.C=w.Ma=E}function _e(w,E,B,X,ee,ne,ie){var oe=w.$/X,ue=w.$%X,me=w.m,Pe=w.s,He=B+w.$,We=He;ee=B+X*ee;var De=B+X*ne,ut=280+Pe.ua,Ze=w.Pb?oe:16777216,Oe=0<Pe.ua?Pe.Wa:null,Fe=Pe.wc,ot=He<De?vn(Pe,ue,oe):null;t(w.C<ne),t(De<=ee);var ft=!1;e:for(;;){for(;ft||He<De;){var lt=0;if(oe>=Ze){var Lt=He-B;t((Ze=w).Pb),Ze.wd=Ze.m,Ze.xd=Lt,0<Ze.s.ua&&Ae(Ze.s.Wa,Ze.s.vb),Ze=oe+CK}if(ue&Fe||(ot=vn(Pe,ue,oe)),t(ot!=null),ot.Qb&&(E[He]=ot.qb,ft=!0),!ft)if(Y(me),ot.jc){lt=me,Lt=E;var Tt=He,Wt=ot.pd[M(lt)&Va-1];t(ot.jc),256>Wt.g?(L(lt,lt.u+Wt.g),Lt[Tt]=Wt.value,lt=0):(L(lt,lt.u+Wt.g-256),t(256<=Wt.value),lt=Wt.value),lt==0&&(ft=!0)}else lt=On(ot.G[0],ot.H[0],me);if(me.h)break;if(ft||256>lt){if(!ft)if(ot.nd)E[He]=(ot.qb|lt<<8)>>>0;else{if(Y(me),ft=On(ot.G[1],ot.H[1],me),Y(me),Lt=On(ot.G[2],ot.H[2],me),Tt=On(ot.G[3],ot.H[3],me),me.h)break;E[He]=(Tt<<24|ft<<16|lt<<8|Lt)>>>0}if(ft=!1,++He,++ue>=X&&(ue=0,++oe,ie!=null&&oe<=ne&&!(oe%16)&&ie(w,oe),Oe!=null))for(;We<He;)lt=E[We++],Oe.X[(506832829*lt&4294967295)>>>Oe.Mb]=lt}else if(280>lt){if(lt=At(lt-256,me),Lt=On(ot.G[4],ot.H[4],me),Y(me),Lt=zr(X,Lt=At(Lt,me)),me.h)break;if(He-B<Lt||ee-He<lt)break e;for(Tt=0;Tt<lt;++Tt)E[He+Tt]=E[He+Tt-Lt];for(He+=lt,ue+=lt;ue>=X;)ue-=X,++oe,ie!=null&&oe<=ne&&!(oe%16)&&ie(w,oe);if(t(He<=ee),ue&Fe&&(ot=vn(Pe,ue,oe)),Oe!=null)for(;We<He;)lt=E[We++],Oe.X[(506832829*lt&4294967295)>>>Oe.Mb]=lt}else{if(!(lt<ut))break e;for(ft=lt-280,t(Oe!=null);We<He;)lt=E[We++],Oe.X[(506832829*lt&4294967295)>>>Oe.Mb]=lt;lt=He,t(!(ft>>>(Lt=Oe).Xa)),E[lt]=Lt.X[ft],ft=!0}ft||t(me.h==K(me))}if(w.Pb&&me.h&&He<ee)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Ae(w.s.vb,w.s.Wa);else{if(me.h)break e;ie!=null&&ie(w,oe>ne?ne:oe),w.a=0,w.$=He-B}return 1}return w.a=3,0}function Ve(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var E=w.Wa;E!=null&&(E.X=null),w.vb=null,t(w!=null)}function Qe(){var w=new H_;return w==null?null:(w.a=0,w.xb=Y3,Wr("Predictor","VP8LPredictors"),Wr("Predictor","VP8LPredictors_C"),Wr("PredictorAdd","VP8LPredictorsAdd"),Wr("PredictorAdd","VP8LPredictorsAdd_C"),Rx=tt,sd=Se,Hi=it,Ti=qt,Mc=jt,Ml=Sr,Rl=Gt,T.VP8LMapColor32b=Hf,T.VP8LMapColor8b=Bx,w)}function Ue(w,E,B,X,ee){var ne=1,ie=[w],oe=[E],ue=X.m,me=X.s,Pe=null,He=0;e:for(;;){if(B)for(;ne&&H(ue,1);){var We=ie,De=oe,ut=X,Ze=1,Oe=ut.m,Fe=ut.gc[ut.ab],ot=H(Oe,2);if(ut.Oc&1<<ot)ne=0;else{switch(ut.Oc|=1<<ot,Fe.hc=ot,Fe.Ea=We[0],Fe.nc=De[0],Fe.K=[null],++ut.ab,t(4>=ut.ab),ot){case 0:case 1:Fe.b=H(Oe,3)+2,Ze=Ue(at(Fe.Ea,Fe.b),at(Fe.nc,Fe.b),0,ut,Fe.K),Fe.K=Fe.K[0];break;case 3:var ft,lt=H(Oe,8)+1,Lt=16<lt?0:4<lt?1:2<lt?2:3;if(We[0]=at(Fe.Ea,Lt),Fe.b=Lt,ft=Ze=Ue(lt,1,0,ut,Fe.K)){var Tt,Wt=lt,Pt=Fe,qr=1<<(8>>Pt.b),Xr=i(qr);if(Xr==null)ft=0;else{var Mr=Pt.K[0],Cr=Pt.w;for(Xr[0]=Pt.K[0][0],Tt=1;Tt<1*Wt;++Tt)Xr[Tt]=$e(Mr[Cr+Tt],Xr[Tt-1]);for(;Tt<4*qr;++Tt)Xr[Tt]=0;Pt.K[0]=null,Pt.K[0]=Xr,ft=1}}Ze=ft;break;case 2:break;default:t(0)}ne=Ze}}if(ie=ie[0],oe=oe[0],ne&&H(ue,1)&&!(ne=1<=(He=H(ue,4))&&11>=He)){X.a=3;break e}var ln;if(ln=ne)t:{var sn,mr,oa,Wi=X,la=ie,qi=oe,Jr=He,ds=B,fs=Wi.m,Ea=Wi.s,Ha=[null],Ei=1,Vs=0,sl=TK[Jr];r:for(;;){if(ds&&H(fs,1)){var ka=H(fs,3)+2,Ul=at(la,ka),dd=at(qi,ka),Yf=Ul*dd;if(!Ue(Ul,dd,0,Wi,Ha))break r;for(Ha=Ha[0],Ea.xc=ka,sn=0;sn<Yf;++sn){var Uc=Ha[sn]>>8&65535;Ha[sn]=Uc,Uc>=Ei&&(Ei=Uc+1)}}if(fs.h)break r;for(mr=0;5>mr;++mr){var Bn=G3[mr];!mr&&0<Jr&&(Bn+=1<<Jr),Vs<Bn&&(Vs=Bn)}var ej=o(Ei*sl,P),ak=Ei,ik=o(ak,q);if(ik==null)var Qx=null;else t(65536>=ak),Qx=ik;var Hp=i(Vs);if(Qx==null||Hp==null||ej==null){Wi.a=1;break r}var Zx=ej;for(sn=oa=0;sn<Ei;++sn){var bo=Qx[sn],Xf=bo.G,Jf=bo.H,sk=0,e1=1,ok=0;for(mr=0;5>mr;++mr){Bn=G3[mr],Xf[mr]=Zx,Jf[mr]=oa,!mr&&0<Jr&&(Bn+=1<<Jr);a:{var t1,tj=Bn,r1=Wi,Wp=Hp,KK=Zx,YK=oa,rj=0,Vc=r1.m,XK=H(Vc,1);if(a(Wp,0,0,tj),XK){var JK=H(Vc,1)+1,QK=H(Vc,1),lk=H(Vc,QK==0?1:8);Wp[lk]=1,JK==2&&(Wp[lk=H(Vc,8)]=1);var n1=1}else{var ck=i(19),uk=H(Vc,4)+4;if(19<uk){r1.a=3;var a1=0;break a}for(t1=0;t1<uk;++t1)ck[NK[t1]]=H(Vc,3);var nj=void 0,qp=void 0,dk=r1,ZK=ck,i1=tj,fk=Wp,aj=0,Hc=dk.m,hk=8,pk=o(128,P);n:for(;C(pk,0,7,ZK,19);){if(H(Hc,1)){var eY=2+2*H(Hc,3);if((nj=2+H(Hc,eY))>i1)break n}else nj=i1;for(qp=0;qp<i1&&nj--;){Y(Hc);var mk=pk[0+(127&M(Hc))];L(Hc,Hc.u+mk.g);var Qf=mk.value;if(16>Qf)fk[qp++]=Qf,Qf!=0&&(hk=Qf);else{var tY=Qf==16,gk=Qf-16,rY=jK[gk],vk=H(Hc,_K[gk])+rY;if(qp+vk>i1)break n;for(var nY=tY?hk:0;0<vk--;)fk[qp++]=nY}}aj=1;break n}aj||(dk.a=3),n1=aj}(n1=n1&&!Vc.h)&&(rj=C(KK,YK,8,Wp,tj)),n1&&rj!=0?a1=rj:(r1.a=3,a1=0)}if(a1==0)break r;if(e1&&SK[mr]==1&&(e1=Zx[oa].g==0),sk+=Zx[oa].g,oa+=a1,3>=mr){var Gp,ij=Hp[0];for(Gp=1;Gp<Bn;++Gp)Hp[Gp]>ij&&(ij=Hp[Gp]);ok+=ij}}if(bo.nd=e1,bo.Qb=0,e1&&(bo.qb=(Xf[3][Jf[3]+0].value<<24|Xf[1][Jf[1]+0].value<<16|Xf[2][Jf[2]+0].value)>>>0,sk==0&&256>Xf[0][Jf[0]+0].value&&(bo.Qb=1,bo.qb+=Xf[0][Jf[0]+0].value<<8)),bo.jc=!bo.Qb&&6>ok,bo.jc){var s1,Vl=bo;for(s1=0;s1<Va;++s1){var Wc=s1,qc=Vl.pd[Wc],o1=Vl.G[0][Vl.H[0]+Wc];256<=o1.value?(qc.g=o1.g+256,qc.value=o1.value):(qc.g=0,qc.value=0,Wc>>=An(o1,8,qc),Wc>>=An(Vl.G[1][Vl.H[1]+Wc],16,qc),Wc>>=An(Vl.G[2][Vl.H[2]+Wc],0,qc),An(Vl.G[3][Vl.H[3]+Wc],24,qc))}}}Ea.vc=Ha,Ea.Wb=Ei,Ea.Ya=Qx,Ea.yc=ej,ln=1;break t}ln=0}if(!(ne=ln)){X.a=3;break e}if(0<He){if(me.ua=1<<He,!Ie(me.Wa,He)){X.a=1,ne=0;break e}}else me.ua=0;var sj=X,xk=ie,aY=oe,oj=sj.s,lj=oj.xc;if(sj.c=xk,sj.i=aY,oj.md=at(xk,lj),oj.wc=lj==0?-1:(1<<lj)-1,B){X.xb=LK;break e}if((Pe=i(ie*oe))==null){X.a=1,ne=0;break e}ne=(ne=_e(X,Pe,0,ie,oe,oe,null))&&!ue.h;break e}return ne?(ee!=null?ee[0]=Pe:(t(Pe==null),t(B)),X.$=0,B||Ve(me)):Ve(me),ne}function qe(w,E){var B=w.c*w.i,X=B+E+16*E;return t(w.c<=E),w.V=i(X),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+B+E,1)}function Ke(w,E){var B=w.C,X=E-B,ee=w.V,ne=w.Ba+w.c*B;for(t(E<=w.l.o);0<X;){var ie=16<X?16:X,oe=w.l.ma,ue=w.l.width,me=ue*ie,Pe=oe.ca,He=oe.tb+ue*B,We=w.Ta,De=w.Ua;re(w,ie,ee,ne),Xn(We,De,Pe,He,me),pe(oe,B,B+ie,Pe,He,ue),X-=ie,ee+=ie*w.c,B+=ie}t(B==E),w.C=w.Ma=E}function mt(){this.ub=this.yd=this.td=this.Rb=0}function Nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ft(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vt(){this.Yb=function(){var w=[];return function E(B,X,ee){for(var ne=ee[X],ie=0;ie<ne&&(B.push(ee.length>X+1?[]:0),!(ee.length<X+1));ie++)E(B[ie],X+1,ee)}(w,0,[3,11]),w}()}function Ot(){this.jb=i(3),this.Wc=l([4,8],vt),this.Xc=l([4,17],vt)}function nr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Kr(){this.ld=this.La=this.dd=this.tc=0}function an(){this.Na=this.la=0}function ia(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function po(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Dl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Kr),this.Y=0,this.ya=Array(new po),this.aa=0,this.l=new rl}function tl(){this.y=i(16),this.f=i(8),this.ea=i(8)}function mo(){this.cb=this.a=0,this.sc="",this.m=new J,this.Od=new mt,this.Kc=new Nt,this.ed=new nr,this.Qa=new Ft,this.Ic=this.$c=this.Aa=0,this.D=new Dl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,J),this.ia=0,this.pb=o(4,ia),this.Pa=new Ot,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tl),this.Hd=0,this.rb=Array(new an),this.sb=0,this.wa=Array(new Kr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new po),this.L=this.aa=0,this.gd=l([4,2],Kr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ls(){var w=new mo;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Up||(Up=jx)),w}function Kn(w,E,B){return w.a==0&&(w.a=E,w.sc=B,w.cb=0),0}function wx(w,E,B){return 3<=B&&w[E+0]==157&&w[E+1]==1&&w[E+2]==42}function _x(w,E){if(w==null)return 0;if(w.a=0,w.sc="OK",E==null)return Kn(w,2,"null VP8Io passed to VP8GetHeaders()");var B=E.data,X=E.w,ee=E.ha;if(4>ee)return Kn(w,7,"Truncated header.");var ne=B[X+0]|B[X+1]<<8|B[X+2]<<16,ie=w.Od;if(ie.Rb=!(1&ne),ie.td=ne>>1&7,ie.yd=ne>>4&1,ie.ub=ne>>5,3<ie.td)return Kn(w,3,"Incorrect keyframe parameters.");if(!ie.yd)return Kn(w,4,"Frame not displayable.");X+=3,ee-=3;var oe=w.Kc;if(ie.Rb){if(7>ee)return Kn(w,7,"cannot parse picture header");if(!wx(B,X,ee))return Kn(w,3,"Bad code word");oe.c=16383&(B[X+4]<<8|B[X+3]),oe.Td=B[X+4]>>6,oe.i=16383&(B[X+6]<<8|B[X+5]),oe.Ud=B[X+6]>>6,X+=7,ee-=7,w.za=oe.c+15>>4,w.Ub=oe.i+15>>4,E.width=oe.c,E.height=oe.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((ne=w.Pa).jb,0,255,ne.jb.length),t((ne=w.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,a(ne.Zb,0,0,ne.Zb.length),a(ne.Lb,0,0,ne.Lb)}if(ie.ub>ee)return Kn(w,7,"bad partition length");z(ne=w.m,B,X,ie.ub),X+=ie.ub,ee-=ie.ub,ie.Rb&&(oe.Ld=se(ne),oe.Kd=se(ne)),oe=w.Qa;var ue,me=w.Pa;if(t(ne!=null),t(oe!=null),oe.Cb=se(ne),oe.Cb){if(oe.Bb=se(ne),se(ne)){for(oe.Fb=se(ne),ue=0;4>ue;++ue)oe.Zb[ue]=se(ne)?R(ne,7):0;for(ue=0;4>ue;++ue)oe.Lb[ue]=se(ne)?R(ne,6):0}if(oe.Bb)for(ue=0;3>ue;++ue)me.jb[ue]=se(ne)?I(ne,8):255}else oe.Bb=0;if(ne.Ka)return Kn(w,3,"cannot parse segment header");if((oe=w.ed).zd=se(ne),oe.Tb=I(ne,6),oe.wb=I(ne,3),oe.Pc=se(ne),oe.Pc&&se(ne)){for(me=0;4>me;++me)se(ne)&&(oe.vd[me]=R(ne,6));for(me=0;4>me;++me)se(ne)&&(oe.od[me]=R(ne,6))}if(w.L=oe.Tb==0?0:oe.zd?1:2,ne.Ka)return Kn(w,3,"cannot parse filter header");var Pe=ee;if(ee=ue=X,X=ue+Pe,oe=Pe,w.Xb=(1<<I(w.m,2))-1,Pe<3*(me=w.Xb))B=7;else{for(ue+=3*me,oe-=3*me,Pe=0;Pe<me;++Pe){var He=B[ee+0]|B[ee+1]<<8|B[ee+2]<<16;He>oe&&(He=oe),z(w.Jc[+Pe],B,ue,He),ue+=He,oe-=He,ee+=3}z(w.Jc[+me],B,ue,oe),B=ue<X?0:5}if(B!=0)return Kn(w,B,"cannot parse partitions");for(B=I(ue=w.m,7),ee=se(ue)?R(ue,4):0,X=se(ue)?R(ue,4):0,oe=se(ue)?R(ue,4):0,me=se(ue)?R(ue,4):0,ue=se(ue)?R(ue,4):0,Pe=w.Qa,He=0;4>He;++He){if(Pe.Cb){var We=Pe.Zb[He];Pe.Fb||(We+=B)}else{if(0<He){w.pb[He]=w.pb[0];continue}We=B}var De=w.pb[He];De.Sc[0]=J_[cs(We+ee,127)],De.Sc[1]=Q_[cs(We+0,127)],De.Eb[0]=2*J_[cs(We+X,127)],De.Eb[1]=101581*Q_[cs(We+oe,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=J_[cs(We+me,117)],De.Qc[1]=Q_[cs(We+ue,127)],De.lc=We+ue}if(!ie.Rb)return Kn(w,4,"Not a key frame.");for(se(ne),ie=w.Pa,B=0;4>B;++B){for(ee=0;8>ee;++ee)for(X=0;3>X;++X)for(oe=0;11>oe;++oe)me=W(ne,FK[B][ee][X][oe])?I(ne,8):PK[B][ee][X][oe],ie.Wc[B][ee].Yb[X][oe]=me;for(ee=0;17>ee;++ee)ie.Xc[B][ee]=ie.Wc[B][DK[ee]]}return w.kc=se(ne),w.kc&&(w.Bd=I(ne,8)),w.cb=1}function jx(w,E,B,X,ee,ne,ie){var oe=E[ee].Yb[B];for(B=0;16>ee;++ee){if(!W(w,oe[B+0]))return ee;for(;!W(w,oe[B+1]);)if(oe=E[++ee].Yb[0],B=0,ee==16)return 16;var ue=E[ee+1].Yb;if(W(w,oe[B+2])){var me=w,Pe=0;if(W(me,(We=oe)[(He=B)+3]))if(W(me,We[He+6])){for(oe=0,He=2*(Pe=W(me,We[He+8]))+(We=W(me,We[He+9+Pe])),Pe=0,We=EK[He];We[oe];++oe)Pe+=Pe+W(me,We[oe]);Pe+=3+(8<<He)}else W(me,We[He+7])?(Pe=7+2*W(me,165),Pe+=W(me,145)):Pe=5+W(me,159);else Pe=W(me,We[He+4])?3+W(me,We[He+5]):2;oe=ue[2]}else Pe=1,oe=ue[1];ue=ie+kK[ee],0>(me=w).b&&Z(me);var He,We=me.b,De=(He=me.Ca>>1)-(me.I>>We)>>31;--me.b,me.Ca+=De,me.Ca|=1,me.I-=(He+1&De)<<We,ne[ue]=((Pe^De)-De)*X[(0<ee)+0]}return 16}function yp(w){var E=w.rb[w.sb-1];E.la=0,E.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function T_(w,E){if(w==null)return 0;if(E==null)return Kn(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!_x(w,E))return 0;if(t(w.cb),E.ac==null||E.ac(E)){E.ob&&(w.L=0);var B=Jx[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=E.v-B>>4,w.zb=E.j-B>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=E.o+15+B>>4,w.Hb=E.va+15+B>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var X=w.ed;for(B=0;4>B;++B){var ee;if(w.Qa.Cb){var ne=w.Qa.Lb[B];w.Qa.Fb||(ne+=X.Tb)}else ne=X.Tb;for(ee=0;1>=ee;++ee){var ie=w.gd[B][ee],oe=ne;if(X.Pc&&(oe+=X.vd[0],ee&&(oe+=X.od[0])),0<(oe=0>oe?0:63<oe?63:oe)){var ue=oe;0<X.wb&&(ue=4<X.wb?ue>>2:ue>>1)>9-X.wb&&(ue=9-X.wb),1>ue&&(ue=1),ie.dd=ue,ie.tc=2*oe+ue,ie.ld=40<=oe?2:15<=oe?1:0}else ie.tc=0;ie.La=ee}}}B=0}else Kn(w,6,"Frame setup failed"),B=w.a;if(B=B==0){if(B){w.$c=0,0<w.Aa||(w.Ic=GK);e:{B=w.Ic,X=4*(ue=w.za);var me=32*ue,Pe=ue+1,He=0<w.L?ue*(0<w.Aa?2:1):0,We=(w.Aa==2?2:1)*ue;if((ie=X+832+(ee=3*(16*B+Jx[w.L])/2*me)+(ne=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ie)B=0;else{if(ie>w.Vb){if(w.Vb=0,w.Ec=i(ie),w.Fc=0,w.Ec==null){B=Kn(w,1,"no memory during frame initialization.");break e}w.Vb=ie}ie=w.Ec,oe=w.Fc,w.Ac=ie,w.Bc=oe,oe+=X,w.Gd=o(me,tl),w.Hd=0,w.rb=o(Pe+1,an),w.sb=1,w.wa=He?o(He,Kr):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=ue),t(!0),w.oc=ie,w.pc=oe,oe+=832,w.ya=o(We,po),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=ue),w.R=16*ue,w.B=8*ue,ue=(me=Jx[w.L])*w.R,me=me/2*w.B,w.sa=ie,w.ta=oe+ue,w.qa=w.sa,w.ra=w.ta+16*B*w.R+me,w.Ha=w.qa,w.Ia=w.ra+8*B*w.B+me,w.$c=0,oe+=ee,w.mb=ne?ie:null,w.nb=ne?oe:null,t(oe+ne<=w.Fc+w.Vb),yp(w),a(w.Ac,w.Bc,0,X),B=1}}if(B){if(E.ka=0,E.y=w.sa,E.O=w.ta,E.f=w.qa,E.N=w.ra,E.ea=w.Ha,E.Vd=w.Ia,E.fa=w.R,E.Rc=w.B,E.F=null,E.J=0,!Ux){for(B=-255;255>=B;++B)va[255+B]=0>B?-B:B;for(B=-1020;1020>=B;++B)Bl[1020+B]=-128>B?-128:127<B?127:B;for(B=-112;112>=B;++B)zp[112+B]=-16>B?-16:15<B?15:B;for(B=-255;510>=B;++B)Kf[255+B]=0>B?0:255<B?255:B;Ux=1}Wf=k_,$l=C_,Rp=Nx,Ci=E_,Rs=Ax,Yn=Sx,qf=Np,zx=ad,$p=V_,od=Ap,ld=U_,Rc=If,cd=Tp,Gf=Lx,ud=Dx,$c=al,Bp=Il,$s=z_,yo[0]=nl,yo[1]=P_,yo[2]=L_,yo[3]=I_,yo[4]=Ex,yo[5]=Df,yo[6]=kx,yo[7]=_p,yo[8]=R_,yo[9]=M_,Bc[0]=Tx,Bc[1]=F_,Bc[2]=Ll,Bc[3]=Of,Bc[4]=ti,Bc[5]=D_,Bc[6]=Cx,zl[0]=Fc,zl[1]=O_,zl[2]=$_,zl[3]=jp,zl[4]=nd,zl[5]=B_,zl[6]=Sp,B=1}else B=0}B&&(B=function(De,ut){for(De.M=0;De.M<De.Va;++De.M){var Ze,Oe=De.Jc[De.M&De.Xb],Fe=De.m,ot=De;for(Ze=0;Ze<ot.za;++Ze){var ft=Fe,lt=ot,Lt=lt.Ac,Tt=lt.Bc+4*Ze,Wt=lt.zc,Pt=lt.ya[lt.aa+Ze];if(lt.Qa.Bb?Pt.$b=W(ft,lt.Pa.jb[0])?2+W(ft,lt.Pa.jb[2]):W(ft,lt.Pa.jb[1]):Pt.$b=0,lt.kc&&(Pt.Ad=W(ft,lt.Bd)),Pt.Za=!W(ft,145)+0,Pt.Za){var qr=Pt.Ob,Xr=0;for(lt=0;4>lt;++lt){var Mr,Cr=Wt[0+lt];for(Mr=0;4>Mr;++Mr){Cr=OK[Lt[Tt+Mr]][Cr];for(var ln=K3[W(ft,Cr[0])];0<ln;)ln=K3[2*ln+W(ft,Cr[ln])];Cr=-ln,Lt[Tt+Mr]=Cr}n(qr,Xr,Lt,Tt,4),Xr+=4,Wt[0+lt]=Cr}}else Cr=W(ft,156)?W(ft,128)?1:3:W(ft,163)?2:0,Pt.Ob[0]=Cr,a(Lt,Tt,Cr,4),a(Wt,0,Cr,4);Pt.Dd=W(ft,142)?W(ft,114)?W(ft,183)?1:3:2:0}if(ot.m.Ka)return Kn(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(ot=Oe,ft=(Fe=De).rb[Fe.sb-1],Lt=Fe.rb[Fe.sb+Fe.ja],Ze=Fe.ya[Fe.aa+Fe.ja],Tt=Fe.kc?Ze.Ad:0)ft.la=Lt.la=0,Ze.Za||(ft.Na=Lt.Na=0),Ze.Hc=0,Ze.Gc=0,Ze.ia=0;else{var sn,mr;if(ft=Lt,Lt=ot,Tt=Fe.Pa.Xc,Wt=Fe.ya[Fe.aa+Fe.ja],Pt=Fe.pb[Wt.$b],lt=Wt.ad,qr=0,Xr=Fe.rb[Fe.sb-1],Cr=Mr=0,a(lt,qr,0,384),Wt.Za)var oa=0,Wi=Tt[3];else{ln=i(16);var la=ft.Na+Xr.Na;if(la=Up(Lt,Tt[1],la,Pt.Eb,0,ln,0),ft.Na=Xr.Na=(0<la)+0,1<la)Wf(ln,0,lt,qr);else{var qi=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)lt[qr+ln]=qi}oa=1,Wi=Tt[0]}var Jr=15&ft.la,ds=15&Xr.la;for(ln=0;4>ln;++ln){var fs=1&ds;for(qi=mr=0;4>qi;++qi)Jr=Jr>>1|(fs=(la=Up(Lt,Wi,la=fs+(1&Jr),Pt.Sc,oa,lt,qr))>oa)<<7,mr=mr<<2|(3<la?3:1<la?2:lt[qr+0]!=0),qr+=16;Jr>>=4,ds=ds>>1|fs<<7,Mr=(Mr<<8|mr)>>>0}for(Wi=Jr,oa=ds>>4,sn=0;4>sn;sn+=2){for(mr=0,Jr=ft.la>>4+sn,ds=Xr.la>>4+sn,ln=0;2>ln;++ln){for(fs=1&ds,qi=0;2>qi;++qi)la=fs+(1&Jr),Jr=Jr>>1|(fs=0<(la=Up(Lt,Tt[2],la,Pt.Qc,0,lt,qr)))<<3,mr=mr<<2|(3<la?3:1<la?2:lt[qr+0]!=0),qr+=16;Jr>>=2,ds=ds>>1|fs<<5}Cr|=mr<<4*sn,Wi|=Jr<<4<<sn,oa|=(240&ds)<<sn}ft.la=Wi,Xr.la=oa,Wt.Hc=Mr,Wt.Gc=Cr,Wt.ia=43690&Cr?0:Pt.ia,Tt=!(Mr|Cr)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[Ze.$b][Ze.Za],Fe.wa[Fe.Y+Fe.ja].La|=!Tt),ot.Ka)return Kn(De,7,"Premature end-of-file encountered.")}if(yp(De),Fe=ut,ot=1,Ze=(Oe=De).D,ft=0<Oe.L&&Oe.M>=Oe.zb&&Oe.M<=Oe.Va,Oe.Aa==0)e:{if(Ze.M=Oe.M,Ze.uc=ft,Fp(Oe,Ze),ot=1,Ze=(mr=Oe.D).Nb,ft=(Cr=Jx[Oe.L])*Oe.R,Lt=Cr/2*Oe.B,ln=16*Ze*Oe.R,qi=8*Ze*Oe.B,Tt=Oe.sa,Wt=Oe.ta-ft+ln,Pt=Oe.qa,lt=Oe.ra-Lt+qi,qr=Oe.Ha,Xr=Oe.Ia-Lt+qi,ds=(Jr=mr.M)==0,Mr=Jr>=Oe.Va-1,Oe.Aa==2&&Fp(Oe,mr),mr.uc)for(fs=(la=Oe).D.M,t(la.D.uc),mr=la.yb;mr<la.Hb;++mr){oa=mr,Wi=fs;var Ea=(Ha=(Bn=la).D).Nb;sn=Bn.R;var Ha=Ha.wa[Ha.Y+oa],Ei=Bn.sa,Vs=Bn.ta+16*Ea*sn+16*oa,sl=Ha.dd,ka=Ha.tc;if(ka!=0)if(t(3<=ka),Bn.L==1)0<oa&&$c(Ei,Vs,sn,ka+4),Ha.La&&$s(Ei,Vs,sn,ka),0<Wi&&ud(Ei,Vs,sn,ka+4),Ha.La&&Bp(Ei,Vs,sn,ka);else{var Ul=Bn.B,dd=Bn.qa,Yf=Bn.ra+8*Ea*Ul+8*oa,Uc=Bn.Ha,Bn=Bn.Ia+8*Ea*Ul+8*oa;Ea=Ha.ld,0<oa&&(zx(Ei,Vs,sn,ka+4,sl,Ea),od(dd,Yf,Uc,Bn,Ul,ka+4,sl,Ea)),Ha.La&&(Rc(Ei,Vs,sn,ka,sl,Ea),Gf(dd,Yf,Uc,Bn,Ul,ka,sl,Ea)),0<Wi&&(qf(Ei,Vs,sn,ka+4,sl,Ea),$p(dd,Yf,Uc,Bn,Ul,ka+4,sl,Ea)),Ha.La&&(ld(Ei,Vs,sn,ka,sl,Ea),cd(dd,Yf,Uc,Bn,Ul,ka,sl,Ea))}}if(Oe.ia&&alert("todo:DitherRow"),Fe.put!=null){if(mr=16*Jr,Jr=16*(Jr+1),ds?(Fe.y=Oe.sa,Fe.O=Oe.ta+ln,Fe.f=Oe.qa,Fe.N=Oe.ra+qi,Fe.ea=Oe.Ha,Fe.W=Oe.Ia+qi):(mr-=Cr,Fe.y=Tt,Fe.O=Wt,Fe.f=Pt,Fe.N=lt,Fe.ea=qr,Fe.W=Xr),Mr||(Jr-=Cr),Jr>Fe.o&&(Jr=Fe.o),Fe.F=null,Fe.J=null,Oe.Fa!=null&&0<Oe.Fa.length&&mr<Jr&&(Fe.J=Pp(Oe,Fe,mr,Jr-mr),Fe.F=Oe.mb,Fe.F==null&&Fe.F.length==0)){ot=Kn(Oe,3,"Could not decode alpha data.");break e}mr<Fe.j&&(Cr=Fe.j-mr,mr=Fe.j,t(!(1&Cr)),Fe.O+=Oe.R*Cr,Fe.N+=Oe.B*(Cr>>1),Fe.W+=Oe.B*(Cr>>1),Fe.F!=null&&(Fe.J+=Fe.width*Cr)),mr<Jr&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=mr-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=Jr-mr,ot=Fe.put(Fe))}Ze+1!=Oe.Ic||Mr||(n(Oe.sa,Oe.ta-ft,Tt,Wt+16*Oe.R,ft),n(Oe.qa,Oe.ra-Lt,Pt,lt+8*Oe.B,Lt),n(Oe.Ha,Oe.Ia-Lt,qr,Xr+8*Oe.B,Lt))}if(!ot)return Kn(De,6,"Output aborted.")}return 1}(w,E)),E.bc!=null&&E.bc(E),B&=1}return B?(w.cb=0,B):0}function go(w,E,B,X,ee){ee=w[E+B+32*X]+(ee>>3),w[E+B+32*X]=-256&ee?0>ee?0:255:ee}function Pf(w,E,B,X,ee,ne){go(w,E,0,B,X+ee),go(w,E,1,B,X+ne),go(w,E,2,B,X-ne),go(w,E,3,B,X-ee)}function Ui(w){return(20091*w>>16)+w}function bp(w,E,B,X){var ee,ne=0,ie=i(16);for(ee=0;4>ee;++ee){var oe=w[E+0]+w[E+8],ue=w[E+0]-w[E+8],me=(35468*w[E+4]>>16)-Ui(w[E+12]),Pe=Ui(w[E+4])+(35468*w[E+12]>>16);ie[ne+0]=oe+Pe,ie[ne+1]=ue+me,ie[ne+2]=ue-me,ie[ne+3]=oe-Pe,ne+=4,E++}for(ee=ne=0;4>ee;++ee)oe=(w=ie[ne+0]+4)+ie[ne+8],ue=w-ie[ne+8],me=(35468*ie[ne+4]>>16)-Ui(ie[ne+12]),go(B,X,0,0,oe+(Pe=Ui(ie[ne+4])+(35468*ie[ne+12]>>16))),go(B,X,1,0,ue+me),go(B,X,2,0,ue-me),go(B,X,3,0,oe-Pe),ne++,X+=32}function Sx(w,E,B,X){var ee=w[E+0]+4,ne=35468*w[E+4]>>16,ie=Ui(w[E+4]),oe=35468*w[E+1]>>16;Pf(B,X,0,ee+ie,w=Ui(w[E+1]),oe),Pf(B,X,1,ee+ne,w,oe),Pf(B,X,2,ee-ne,w,oe),Pf(B,X,3,ee-ie,w,oe)}function C_(w,E,B,X,ee){bp(w,E,B,X),ee&&bp(w,E+16,B,X+4)}function Nx(w,E,B,X){$l(w,E+0,B,X,1),$l(w,E+32,B,X+128,1)}function E_(w,E,B,X){var ee;for(w=w[E+0]+4,ee=0;4>ee;++ee)for(E=0;4>E;++E)go(B,X,E,ee,w)}function Ax(w,E,B,X){w[E+0]&&Ci(w,E+0,B,X),w[E+16]&&Ci(w,E+16,B,X+4),w[E+32]&&Ci(w,E+32,B,X+128),w[E+48]&&Ci(w,E+48,B,X+128+4)}function k_(w,E,B,X){var ee,ne=i(16);for(ee=0;4>ee;++ee){var ie=w[E+0+ee]+w[E+12+ee],oe=w[E+4+ee]+w[E+8+ee],ue=w[E+4+ee]-w[E+8+ee],me=w[E+0+ee]-w[E+12+ee];ne[0+ee]=ie+oe,ne[8+ee]=ie-oe,ne[4+ee]=me+ue,ne[12+ee]=me-ue}for(ee=0;4>ee;++ee)ie=(w=ne[0+4*ee]+3)+ne[3+4*ee],oe=ne[1+4*ee]+ne[2+4*ee],ue=ne[1+4*ee]-ne[2+4*ee],me=w-ne[3+4*ee],B[X+0]=ie+oe>>3,B[X+16]=me+ue>>3,B[X+32]=ie-oe>>3,B[X+48]=me-ue>>3,X+=64}function wp(w,E,B){var X,ee=E-32,ne=us,ie=255-w[ee-1];for(X=0;X<B;++X){var oe,ue=ne,me=ie+w[E-1];for(oe=0;oe<B;++oe)w[E+oe]=ue[me+w[ee+oe]];E+=32}}function P_(w,E){wp(w,E,4)}function O_(w,E){wp(w,E,8)}function F_(w,E){wp(w,E,16)}function Ll(w,E){var B;for(B=0;16>B;++B)n(w,E+32*B,w,E-32,16)}function Of(w,E){var B;for(B=16;0<B;--B)a(w,E,w[E-1],16),E+=32}function Ff(w,E,B){var X;for(X=0;16>X;++X)a(E,B+32*X,w,16)}function Tx(w,E){var B,X=16;for(B=0;16>B;++B)X+=w[E-1+32*B]+w[E+B-32];Ff(X>>5,w,E)}function ti(w,E){var B,X=8;for(B=0;16>B;++B)X+=w[E-1+32*B];Ff(X>>4,w,E)}function D_(w,E){var B,X=8;for(B=0;16>B;++B)X+=w[E+B-32];Ff(X>>4,w,E)}function Cx(w,E){Ff(128,w,E)}function lr(w,E,B){return w+2*E+B+2>>2}function L_(w,E){var B,X=E-32;for(X=new Uint8Array([lr(w[X-1],w[X+0],w[X+1]),lr(w[X+0],w[X+1],w[X+2]),lr(w[X+1],w[X+2],w[X+3]),lr(w[X+2],w[X+3],w[X+4])]),B=0;4>B;++B)n(w,E+32*B,X,0,X.length)}function I_(w,E){var B=w[E-1],X=w[E-1+32],ee=w[E-1+64],ne=w[E-1+96];ae(w,E+0,16843009*lr(w[E-1-32],B,X)),ae(w,E+32,16843009*lr(B,X,ee)),ae(w,E+64,16843009*lr(X,ee,ne)),ae(w,E+96,16843009*lr(ee,ne,ne))}function nl(w,E){var B,X=4;for(B=0;4>B;++B)X+=w[E+B-32]+w[E-1+32*B];for(X>>=3,B=0;4>B;++B)a(w,E+32*B,X,4)}function Ex(w,E){var B=w[E-1+0],X=w[E-1+32],ee=w[E-1+64],ne=w[E-1-32],ie=w[E+0-32],oe=w[E+1-32],ue=w[E+2-32],me=w[E+3-32];w[E+0+96]=lr(X,ee,w[E-1+96]),w[E+1+96]=w[E+0+64]=lr(B,X,ee),w[E+2+96]=w[E+1+64]=w[E+0+32]=lr(ne,B,X),w[E+3+96]=w[E+2+64]=w[E+1+32]=w[E+0+0]=lr(ie,ne,B),w[E+3+64]=w[E+2+32]=w[E+1+0]=lr(oe,ie,ne),w[E+3+32]=w[E+2+0]=lr(ue,oe,ie),w[E+3+0]=lr(me,ue,oe)}function kx(w,E){var B=w[E+1-32],X=w[E+2-32],ee=w[E+3-32],ne=w[E+4-32],ie=w[E+5-32],oe=w[E+6-32],ue=w[E+7-32];w[E+0+0]=lr(w[E+0-32],B,X),w[E+1+0]=w[E+0+32]=lr(B,X,ee),w[E+2+0]=w[E+1+32]=w[E+0+64]=lr(X,ee,ne),w[E+3+0]=w[E+2+32]=w[E+1+64]=w[E+0+96]=lr(ee,ne,ie),w[E+3+32]=w[E+2+64]=w[E+1+96]=lr(ne,ie,oe),w[E+3+64]=w[E+2+96]=lr(ie,oe,ue),w[E+3+96]=lr(oe,ue,ue)}function Df(w,E){var B=w[E-1+0],X=w[E-1+32],ee=w[E-1+64],ne=w[E-1-32],ie=w[E+0-32],oe=w[E+1-32],ue=w[E+2-32],me=w[E+3-32];w[E+0+0]=w[E+1+64]=ne+ie+1>>1,w[E+1+0]=w[E+2+64]=ie+oe+1>>1,w[E+2+0]=w[E+3+64]=oe+ue+1>>1,w[E+3+0]=ue+me+1>>1,w[E+0+96]=lr(ee,X,B),w[E+0+64]=lr(X,B,ne),w[E+0+32]=w[E+1+96]=lr(B,ne,ie),w[E+1+32]=w[E+2+96]=lr(ne,ie,oe),w[E+2+32]=w[E+3+96]=lr(ie,oe,ue),w[E+3+32]=lr(oe,ue,me)}function _p(w,E){var B=w[E+0-32],X=w[E+1-32],ee=w[E+2-32],ne=w[E+3-32],ie=w[E+4-32],oe=w[E+5-32],ue=w[E+6-32],me=w[E+7-32];w[E+0+0]=B+X+1>>1,w[E+1+0]=w[E+0+64]=X+ee+1>>1,w[E+2+0]=w[E+1+64]=ee+ne+1>>1,w[E+3+0]=w[E+2+64]=ne+ie+1>>1,w[E+0+32]=lr(B,X,ee),w[E+1+32]=w[E+0+96]=lr(X,ee,ne),w[E+2+32]=w[E+1+96]=lr(ee,ne,ie),w[E+3+32]=w[E+2+96]=lr(ne,ie,oe),w[E+3+64]=lr(ie,oe,ue),w[E+3+96]=lr(oe,ue,me)}function M_(w,E){var B=w[E-1+0],X=w[E-1+32],ee=w[E-1+64],ne=w[E-1+96];w[E+0+0]=B+X+1>>1,w[E+2+0]=w[E+0+32]=X+ee+1>>1,w[E+2+32]=w[E+0+64]=ee+ne+1>>1,w[E+1+0]=lr(B,X,ee),w[E+3+0]=w[E+1+32]=lr(X,ee,ne),w[E+3+32]=w[E+1+64]=lr(ee,ne,ne),w[E+3+64]=w[E+2+64]=w[E+0+96]=w[E+1+96]=w[E+2+96]=w[E+3+96]=ne}function R_(w,E){var B=w[E-1+0],X=w[E-1+32],ee=w[E-1+64],ne=w[E-1+96],ie=w[E-1-32],oe=w[E+0-32],ue=w[E+1-32],me=w[E+2-32];w[E+0+0]=w[E+2+32]=B+ie+1>>1,w[E+0+32]=w[E+2+64]=X+B+1>>1,w[E+0+64]=w[E+2+96]=ee+X+1>>1,w[E+0+96]=ne+ee+1>>1,w[E+3+0]=lr(oe,ue,me),w[E+2+0]=lr(ie,oe,ue),w[E+1+0]=w[E+3+32]=lr(B,ie,oe),w[E+1+32]=w[E+3+64]=lr(X,B,ie),w[E+1+64]=w[E+3+96]=lr(ee,X,B),w[E+1+96]=lr(ne,ee,X)}function $_(w,E){var B;for(B=0;8>B;++B)n(w,E+32*B,w,E-32,8)}function jp(w,E){var B;for(B=0;8>B;++B)a(w,E,w[E-1],8),E+=32}function rd(w,E,B){var X;for(X=0;8>X;++X)a(E,B+32*X,w,8)}function Fc(w,E){var B,X=8;for(B=0;8>B;++B)X+=w[E+B-32]+w[E-1+32*B];rd(X>>4,w,E)}function B_(w,E){var B,X=4;for(B=0;8>B;++B)X+=w[E+B-32];rd(X>>3,w,E)}function nd(w,E){var B,X=4;for(B=0;8>B;++B)X+=w[E-1+32*B];rd(X>>3,w,E)}function Sp(w,E){rd(128,w,E)}function Lf(w,E,B){var X=w[E-B],ee=w[E+0],ne=3*(ee-X)+q_[1020+w[E-2*B]-w[E+B]],ie=Vx[112+(ne+4>>3)];w[E-B]=us[255+X+Vx[112+(ne+3>>3)]],w[E+0]=us[255+ee-ie]}function Px(w,E,B,X){var ee=w[E+0],ne=w[E+B];return zs[255+w[E-2*B]-w[E-B]]>X||zs[255+ne-ee]>X}function Ox(w,E,B,X){return 4*zs[255+w[E-B]-w[E+0]]+zs[255+w[E-2*B]-w[E+B]]<=X}function Fx(w,E,B,X,ee){var ne=w[E-3*B],ie=w[E-2*B],oe=w[E-B],ue=w[E+0],me=w[E+B],Pe=w[E+2*B],He=w[E+3*B];return 4*zs[255+oe-ue]+zs[255+ie-me]>X?0:zs[255+w[E-4*B]-ne]<=ee&&zs[255+ne-ie]<=ee&&zs[255+ie-oe]<=ee&&zs[255+He-Pe]<=ee&&zs[255+Pe-me]<=ee&&zs[255+me-ue]<=ee}function Dx(w,E,B,X){var ee=2*X+1;for(X=0;16>X;++X)Ox(w,E+X,B,ee)&&Lf(w,E+X,B)}function al(w,E,B,X){var ee=2*X+1;for(X=0;16>X;++X)Ox(w,E+X*B,1,ee)&&Lf(w,E+X*B,1)}function Il(w,E,B,X){var ee;for(ee=3;0<ee;--ee)Dx(w,E+=4*B,B,X)}function z_(w,E,B,X){var ee;for(ee=3;0<ee;--ee)al(w,E+=4,B,X)}function Dc(w,E,B,X,ee,ne,ie,oe){for(ne=2*ne+1;0<ee--;){if(Fx(w,E,B,ne,ie))if(Px(w,E,B,oe))Lf(w,E,B);else{var ue=w,me=E,Pe=B,He=ue[me-2*Pe],We=ue[me-Pe],De=ue[me+0],ut=ue[me+Pe],Ze=ue[me+2*Pe],Oe=27*(ot=q_[1020+3*(De-We)+q_[1020+He-ut]])+63>>7,Fe=18*ot+63>>7,ot=9*ot+63>>7;ue[me-3*Pe]=us[255+ue[me-3*Pe]+ot],ue[me-2*Pe]=us[255+He+Fe],ue[me-Pe]=us[255+We+Oe],ue[me+0]=us[255+De-Oe],ue[me+Pe]=us[255+ut-Fe],ue[me+2*Pe]=us[255+Ze-ot]}E+=X}}function vo(w,E,B,X,ee,ne,ie,oe){for(ne=2*ne+1;0<ee--;){if(Fx(w,E,B,ne,ie))if(Px(w,E,B,oe))Lf(w,E,B);else{var ue=w,me=E,Pe=B,He=ue[me-Pe],We=ue[me+0],De=ue[me+Pe],ut=Vx[112+((Ze=3*(We-He))+4>>3)],Ze=Vx[112+(Ze+3>>3)],Oe=ut+1>>1;ue[me-2*Pe]=us[255+ue[me-2*Pe]+Oe],ue[me-Pe]=us[255+He+Ze],ue[me+0]=us[255+We-ut],ue[me+Pe]=us[255+De-Oe]}E+=X}}function Np(w,E,B,X,ee,ne){Dc(w,E,B,1,16,X,ee,ne)}function ad(w,E,B,X,ee,ne){Dc(w,E,1,B,16,X,ee,ne)}function U_(w,E,B,X,ee,ne){var ie;for(ie=3;0<ie;--ie)vo(w,E+=4*B,B,1,16,X,ee,ne)}function If(w,E,B,X,ee,ne){var ie;for(ie=3;0<ie;--ie)vo(w,E+=4,1,B,16,X,ee,ne)}function V_(w,E,B,X,ee,ne,ie,oe){Dc(w,E,ee,1,8,ne,ie,oe),Dc(B,X,ee,1,8,ne,ie,oe)}function Ap(w,E,B,X,ee,ne,ie,oe){Dc(w,E,1,ee,8,ne,ie,oe),Dc(B,X,1,ee,8,ne,ie,oe)}function Tp(w,E,B,X,ee,ne,ie,oe){vo(w,E+4*ee,ee,1,8,ne,ie,oe),vo(B,X+4*ee,ee,1,8,ne,ie,oe)}function Lx(w,E,B,X,ee,ne,ie,oe){vo(w,E+4,1,ee,8,ne,ie,oe),vo(B,X+4,1,ee,8,ne,ie,oe)}function Mf(){this.ba=new Rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ar,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Cp(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ep(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ix(){this.ua=0,this.Wa=new ce,this.vb=new ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new P}function H_(){this.xb=this.a=0,this.l=new rl,this.ca=new Rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ix,this.ab=0,this.gc=o(4,Ep),this.Oc=0}function Rf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function id(w,E,B,X,ee,ne,ie){for(w=w==null?0:w[E+0],E=0;E<ie;++E)ee[ne+E]=w+B[X+E]&255,w=ee[ne+E]}function kp(w,E,B,X,ee,ne,ie){var oe;if(w==null)id(null,null,B,X,ee,ne,ie);else for(oe=0;oe<ie;++oe)ee[ne+oe]=w[E+oe]+B[X+oe]&255}function Lc(w,E,B,X,ee,ne,ie){if(w==null)id(null,null,B,X,ee,ne,ie);else{var oe,ue=w[E+0],me=ue,Pe=ue;for(oe=0;oe<ie;++oe)me=Pe+(ue=w[E+oe])-me,Pe=B[X+oe]+(-256&me?0>me?0:255:me)&255,me=ue,ee[ne+oe]=Pe}}function Pp(w,E,B,X){var ee=E.width,ne=E.o;if(t(w!=null&&E!=null),0>B||0>=X||B+X>ne)return null;if(!w.Cc){if(w.ga==null){var ie;if(w.ga=new Rf,(ie=w.ga==null)||(ie=E.width*E.o,t(w.Gb.length==0),w.Gb=i(ie),w.Uc=0,w.Gb==null?ie=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ie=1),ie=!ie),!ie){ie=w.ga;var oe=w.Fa,ue=w.P,me=w.qc,Pe=w.mb,He=w.nb,We=ue+1,De=me-1,ut=ie.l;if(t(oe!=null&&Pe!=null&&E!=null),zc[0]=null,zc[1]=id,zc[2]=kp,zc[3]=Lc,ie.ca=Pe,ie.tb=He,ie.c=E.width,ie.i=E.height,t(0<ie.c&&0<ie.i),1>=me)E=0;else if(ie.$a=oe[ue+0]>>0&3,ie.Z=oe[ue+0]>>2&3,ie.Lc=oe[ue+0]>>4&3,ue=oe[ue+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||ue)E=0;else if(ut.put=Je,ut.ac=nn,ut.bc=kt,ut.ma=ie,ut.width=E.width,ut.height=E.height,ut.Da=E.Da,ut.v=E.v,ut.va=E.va,ut.j=E.j,ut.o=E.o,ie.$a)e:{t(ie.$a==1),E=Qe();t:for(;;){if(E==null){E=0;break e}if(t(ie!=null),ie.mc=E,E.c=ie.c,E.i=ie.i,E.l=ie.l,E.l.ma=ie,E.l.width=ie.c,E.l.height=ie.i,E.a=0,G(E.m,oe,We,De),!Ue(ie.c,ie.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&he(E.s)?(ie.ic=1,oe=E.c*E.i,E.Ta=null,E.Ua=0,E.V=i(oe),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ie.ic=0,E=qe(E,ie.c)),!E))break t;E=1;break e}ie.mc=null,E=0}else E=De>=ie.c*ie.i;ie=!E}if(ie)return null;w.ga.Lc!=1?w.Ga=0:X=ne-B}t(w.ga!=null),t(B+X<=ne);e:{if(E=(oe=w.ga).c,ne=oe.l.o,oe.$a==0){if(We=w.rc,De=w.Vc,ut=w.Fa,ue=w.P+1+B*E,me=w.mb,Pe=w.nb+B*E,t(ue<=w.P+w.qc),oe.Z!=0)for(t(zc[oe.Z]!=null),ie=0;ie<X;++ie)zc[oe.Z](We,De,ut,ue,me,Pe,E),We=me,De=Pe,Pe+=E,ue+=E;else for(ie=0;ie<X;++ie)n(me,Pe,ut,ue,E),We=me,De=Pe,Pe+=E,ue+=E;w.rc=We,w.Vc=De}else{if(t(oe.mc!=null),E=B+X,t((ie=oe.mc)!=null),t(E<=ie.i),ie.C>=E)E=1;else if(oe.ic||Me(),oe.ic){oe=ie.V,We=ie.Ba,De=ie.c;var Ze=ie.i,Oe=(ut=1,ue=ie.$/De,me=ie.$%De,Pe=ie.m,He=ie.s,ie.$),Fe=De*Ze,ot=De*E,ft=He.wc,lt=Oe<ot?vn(He,me,ue):null;t(Oe<=Fe),t(E<=Ze),t(he(He));t:for(;;){for(;!Pe.h&&Oe<ot;){if(me&ft||(lt=vn(He,me,ue)),t(lt!=null),Y(Pe),256>(Ze=On(lt.G[0],lt.H[0],Pe)))oe[We+Oe]=Ze,++Oe,++me>=De&&(me=0,++ue<=E&&!(ue%16)&&be(ie,ue));else{if(!(280>Ze)){ut=0;break t}Ze=At(Ze-256,Pe);var Lt,Tt=On(lt.G[4],lt.H[4],Pe);if(Y(Pe),!(Oe>=(Tt=zr(De,Tt=At(Tt,Pe)))&&Fe-Oe>=Ze)){ut=0;break t}for(Lt=0;Lt<Ze;++Lt)oe[We+Oe+Lt]=oe[We+Oe+Lt-Tt];for(Oe+=Ze,me+=Ze;me>=De;)me-=De,++ue<=E&&!(ue%16)&&be(ie,ue);Oe<ot&&me&ft&&(lt=vn(He,me,ue))}t(Pe.h==K(Pe))}be(ie,ue>E?E:ue);break t}!ut||Pe.h&&Oe<Fe?(ut=0,ie.a=Pe.h?5:3):ie.$=Oe,E=ut}else E=_e(ie,ie.V,ie.Ba,ie.c,ie.i,E,Ke);if(!E){X=0;break e}}B+X>=ne&&(w.Cc=1),X=1}if(!X)return null;if(w.Cc&&((X=w.ga)!=null&&(X.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+B*ee}function D(w,E,B,X,ee,ne){for(;0<ee--;){var ie,oe=w,ue=E+(B?1:0),me=w,Pe=E+(B?0:3);for(ie=0;ie<X;++ie){var He=me[Pe+4*ie];He!=255&&(He*=32897,oe[ue+4*ie+0]=oe[ue+4*ie+0]*He>>23,oe[ue+4*ie+1]=oe[ue+4*ie+1]*He>>23,oe[ue+4*ie+2]=oe[ue+4*ie+2]*He>>23)}E+=ne}}function te(w,E,B,X,ee){for(;0<X--;){var ne;for(ne=0;ne<B;++ne){var ie=w[E+2*ne+0],oe=15&(me=w[E+2*ne+1]),ue=4369*oe,me=(240&me|me>>4)*ue>>16;w[E+2*ne+0]=(240&ie|ie>>4)*ue>>16&240|(15&ie|ie<<4)*ue>>16>>4&15,w[E+2*ne+1]=240&me|oe}E+=ee}}function je(w,E,B,X,ee,ne,ie,oe){var ue,me,Pe=255;for(me=0;me<ee;++me){for(ue=0;ue<X;++ue){var He=w[E+ue];ne[ie+4*ue]=He,Pe&=He}E+=B,ie+=oe}return Pe!=255}function Ee(w,E,B,X,ee){var ne;for(ne=0;ne<ee;++ne)B[X+ne]=w[E+ne]>>8}function Me(){Bs=D,dn=te,fn=je,Xn=Ee}function rt(w,E,B){T[w]=function(X,ee,ne,ie,oe,ue,me,Pe,He,We,De,ut,Ze,Oe,Fe,ot,ft){var lt,Lt=ft-1>>1,Tt=oe[ue+0]|me[Pe+0]<<16,Wt=He[We+0]|De[ut+0]<<16;t(X!=null);var Pt=3*Tt+Wt+131074>>2;for(E(X[ee+0],255&Pt,Pt>>16,Ze,Oe),ne!=null&&(Pt=3*Wt+Tt+131074>>2,E(ne[ie+0],255&Pt,Pt>>16,Fe,ot)),lt=1;lt<=Lt;++lt){var qr=oe[ue+lt]|me[Pe+lt]<<16,Xr=He[We+lt]|De[ut+lt]<<16,Mr=Tt+qr+Wt+Xr+524296,Cr=Mr+2*(qr+Wt)>>3;Pt=Cr+Tt>>1,Tt=(Mr=Mr+2*(Tt+Xr)>>3)+qr>>1,E(X[ee+2*lt-1],255&Pt,Pt>>16,Ze,Oe+(2*lt-1)*B),E(X[ee+2*lt-0],255&Tt,Tt>>16,Ze,Oe+(2*lt-0)*B),ne!=null&&(Pt=Mr+Wt>>1,Tt=Cr+Xr>>1,E(ne[ie+2*lt-1],255&Pt,Pt>>16,Fe,ot+(2*lt-1)*B),E(ne[ie+2*lt+0],255&Tt,Tt>>16,Fe,ot+(2*lt+0)*B)),Tt=qr,Wt=Xr}1&ft||(Pt=3*Tt+Wt+131074>>2,E(X[ee+ft-1],255&Pt,Pt>>16,Ze,Oe+(ft-1)*B),ne!=null&&(Pt=3*Wt+Tt+131074>>2,E(ne[ie+ft-1],255&Pt,Pt>>16,Fe,ot+(ft-1)*B)))}}function pt(){Us[Hx]=IK,Us[Wx]=X3,Us[W3]=MK,Us[qx]=J3,Us[Gx]=Q3,Us[G_]=Z3,Us[q3]=RK,Us[K_]=X3,Us[Y_]=J3,Us[Kx]=Q3,Us[X_]=Z3}function Dt(w){return w&~$K?0>w?0:255:w>>ek}function zt(w,E){return Dt((19077*w>>8)+(26149*E>>8)-14234)}function hr(w,E,B){return Dt((19077*w>>8)-(6419*E>>8)-(13320*B>>8)+8708)}function cr(w,E){return Dt((19077*w>>8)+(33050*E>>8)-17685)}function Fr(w,E,B,X,ee){X[ee+0]=zt(w,B),X[ee+1]=hr(w,E,B),X[ee+2]=cr(w,E)}function Fn(w,E,B,X,ee){X[ee+0]=cr(w,E),X[ee+1]=hr(w,E,B),X[ee+2]=zt(w,B)}function $n(w,E,B,X,ee){var ne=hr(w,E,B);E=ne<<3&224|cr(w,E)>>3,X[ee+0]=248&zt(w,B)|ne>>5,X[ee+1]=E}function sa(w,E,B,X,ee){var ne=240&cr(w,E)|15;X[ee+0]=240&zt(w,B)|hr(w,E,B)>>4,X[ee+1]=ne}function ri(w,E,B,X,ee){X[ee+0]=255,Fr(w,E,B,X,ee+1)}function Ca(w,E,B,X,ee){Fn(w,E,B,X,ee),X[ee+3]=255}function xo(w,E,B,X,ee){Fr(w,E,B,X,ee),X[ee+3]=255}function cs(w,E){return 0>w?0:w>E?E:w}function il(w,E,B){T[w]=function(X,ee,ne,ie,oe,ue,me,Pe,He){for(var We=Pe+(-2&He)*B;Pe!=We;)E(X[ee+0],ne[ie+0],oe[ue+0],me,Pe),E(X[ee+1],ne[ie+0],oe[ue+0],me,Pe+B),ee+=2,++ie,++ue,Pe+=2*B;1&He&&E(X[ee+0],ne[ie+0],oe[ue+0],me,Pe)}}function Mx(w,E,B){return B==0?w==0?E==0?6:5:E==0?4:0:B}function Op(w,E,B,X,ee){switch(w>>>30){case 3:$l(E,B,X,ee,0);break;case 2:Yn(E,B,X,ee);break;case 1:Ci(E,B,X,ee)}}function Fp(w,E){var B,X,ee=E.M,ne=E.Nb,ie=w.oc,oe=w.pc+40,ue=w.oc,me=w.pc+584,Pe=w.oc,He=w.pc+600;for(B=0;16>B;++B)ie[oe+32*B-1]=129;for(B=0;8>B;++B)ue[me+32*B-1]=129,Pe[He+32*B-1]=129;for(0<ee?ie[oe-1-32]=ue[me-1-32]=Pe[He-1-32]=129:(a(ie,oe-32-1,127,21),a(ue,me-32-1,127,9),a(Pe,He-32-1,127,9)),X=0;X<w.za;++X){var We=E.ya[E.aa+X];if(0<X){for(B=-1;16>B;++B)n(ie,oe+32*B-4,ie,oe+32*B+12,4);for(B=-1;8>B;++B)n(ue,me+32*B-4,ue,me+32*B+4,4),n(Pe,He+32*B-4,Pe,He+32*B+4,4)}var De=w.Gd,ut=w.Hd+X,Ze=We.ad,Oe=We.Hc;if(0<ee&&(n(ie,oe-32,De[ut].y,0,16),n(ue,me-32,De[ut].f,0,8),n(Pe,He-32,De[ut].ea,0,8)),We.Za){var Fe=ie,ot=oe-32+16;for(0<ee&&(X>=w.za-1?a(Fe,ot,De[ut].y[15],4):n(Fe,ot,De[ut+1].y,0,4)),B=0;4>B;B++)Fe[ot+128+B]=Fe[ot+256+B]=Fe[ot+384+B]=Fe[ot+0+B];for(B=0;16>B;++B,Oe<<=2)Fe=ie,ot=oe+rk[B],yo[We.Ob[B]](Fe,ot),Op(Oe,Ze,16*+B,Fe,ot)}else if(Fe=Mx(X,ee,We.Ob[0]),Bc[Fe](ie,oe),Oe!=0)for(B=0;16>B;++B,Oe<<=2)Op(Oe,Ze,16*+B,ie,oe+rk[B]);for(B=We.Gc,Fe=Mx(X,ee,We.Dd),zl[Fe](ue,me),zl[Fe](Pe,He),Oe=Ze,Fe=ue,ot=me,255&(We=B>>0)&&(170&We?Rp(Oe,256,Fe,ot):Rs(Oe,256,Fe,ot)),We=Pe,Oe=He,255&(B>>=8)&&(170&B?Rp(Ze,320,We,Oe):Rs(Ze,320,We,Oe)),ee<w.Ub-1&&(n(De[ut].y,0,ie,oe+480,16),n(De[ut].f,0,ue,me+224,8),n(De[ut].ea,0,Pe,He+224,8)),B=8*ne*w.B,De=w.sa,ut=w.ta+16*X+16*ne*w.R,Ze=w.qa,We=w.ra+8*X+B,Oe=w.Ha,Fe=w.Ia+8*X+B,B=0;16>B;++B)n(De,ut+B*w.R,ie,oe+32*B,16);for(B=0;8>B;++B)n(Ze,We+B*w.B,ue,me+32*B,8),n(Oe,Fe+B*w.B,Pe,He+32*B,8)}}function $f(w,E,B,X,ee,ne,ie,oe,ue){var me=[0],Pe=[0],He=0,We=ue!=null?ue.kd:0,De=ue??new Cp;if(w==null||12>B)return 7;De.data=w,De.w=E,De.ha=B,E=[E],B=[B],De.gb=[De.gb];e:{var ut=E,Ze=B,Oe=De.gb;if(t(w!=null),t(Ze!=null),t(Oe!=null),Oe[0]=0,12<=Ze[0]&&!r(w,ut[0],"RIFF")){if(r(w,ut[0]+8,"WEBP")){Oe=3;break e}var Fe=ke(w,ut[0]+4);if(12>Fe||4294967286<Fe){Oe=3;break e}if(We&&Fe>Ze[0]-8){Oe=7;break e}Oe[0]=Fe,ut[0]+=12,Ze[0]-=12}Oe=0}if(Oe!=0)return Oe;for(Fe=0<De.gb[0],B=B[0];;){e:{var ot=w;Ze=E,Oe=B;var ft=me,lt=Pe,Lt=ut=[0];if((Pt=He=[He])[0]=0,8>Oe[0])Oe=7;else{if(!r(ot,Ze[0],"VP8X")){if(ke(ot,Ze[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var Tt=ke(ot,Ze[0]+8),Wt=1+Q(ot,Ze[0]+12);if(2147483648<=Wt*(ot=1+Q(ot,Ze[0]+15))){Oe=3;break e}Lt!=null&&(Lt[0]=Tt),ft!=null&&(ft[0]=Wt),lt!=null&&(lt[0]=ot),Ze[0]+=18,Oe[0]-=18,Pt[0]=1}Oe=0}}if(He=He[0],ut=ut[0],Oe!=0)return Oe;if(Ze=!!(2&ut),!Fe&&He)return 3;if(ne!=null&&(ne[0]=!!(16&ut)),ie!=null&&(ie[0]=Ze),oe!=null&&(oe[0]=0),ie=me[0],ut=Pe[0],He&&Ze&&ue==null){Oe=0;break}if(4>B){Oe=7;break}if(Fe&&He||!Fe&&!He&&!r(w,E[0],"ALPH")){B=[B],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Tt=w,Oe=E,Fe=B;var Pt=De.gb;ft=De.na,lt=De.P,Lt=De.Sa,Wt=22,t(Tt!=null),t(Fe!=null),ot=Oe[0];var qr=Fe[0];for(t(ft!=null),t(Lt!=null),ft[0]=null,lt[0]=null,Lt[0]=0;;){if(Oe[0]=ot,Fe[0]=qr,8>qr){Oe=7;break e}var Xr=ke(Tt,ot+4);if(4294967286<Xr){Oe=3;break e}var Mr=8+Xr+1&-2;if(Wt+=Mr,0<Pt&&Wt>Pt){Oe=3;break e}if(!r(Tt,ot,"VP8 ")||!r(Tt,ot,"VP8L")){Oe=0;break e}if(qr[0]<Mr){Oe=7;break e}r(Tt,ot,"ALPH")||(ft[0]=Tt,lt[0]=ot+8,Lt[0]=Xr),ot+=Mr,qr-=Mr}}if(B=B[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Oe!=0)break}B=[B],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Pt=w,Oe=E,Fe=B,ft=De.gb[0],lt=De.Ja,Lt=De.xa,Tt=Oe[0],ot=!r(Pt,Tt,"VP8 "),Wt=!r(Pt,Tt,"VP8L"),t(Pt!=null),t(Fe!=null),t(lt!=null),t(Lt!=null),8>Fe[0])Oe=7;else{if(ot||Wt){if(Pt=ke(Pt,Tt+4),12<=ft&&Pt>ft-12){Oe=3;break e}if(We&&Pt>Fe[0]-8){Oe=7;break e}lt[0]=Pt,Oe[0]+=8,Fe[0]-=8,Lt[0]=Wt}else Lt[0]=5<=Fe[0]&&Pt[Tt+0]==47&&!(Pt[Tt+4]>>5),lt[0]=Fe[0];Oe=0}if(B=B[0],De.Ja=De.Ja[0],De.xa=De.xa[0],E=E[0],Oe!=0)break;if(4294967286<De.Ja)return 3;if(oe==null||Ze||(oe[0]=De.xa?2:1),ie=[ie],ut=[ut],De.xa){if(5>B){Oe=7;break}oe=ie,We=ut,Ze=ne,w==null||5>B?w=0:5<=B&&w[E+0]==47&&!(w[E+4]>>5)?(Fe=[0],Pt=[0],ft=[0],G(lt=new A,w,E,B),xt(lt,Fe,Pt,ft)?(oe!=null&&(oe[0]=Fe[0]),We!=null&&(We[0]=Pt[0]),Ze!=null&&(Ze[0]=ft[0]),w=1):w=0):w=0}else{if(10>B){Oe=7;break}oe=ut,w==null||10>B||!wx(w,E+3,B-3)?w=0:(We=w[E+0]|w[E+1]<<8|w[E+2]<<16,Ze=16383&(w[E+7]<<8|w[E+6]),w=16383&(w[E+9]<<8|w[E+8]),1&We||3<(We>>1&7)||!(We>>4&1)||We>>5>=De.Ja||!Ze||!w?w=0:(ie&&(ie[0]=Ze),oe&&(oe[0]=w),w=1))}if(!w||(ie=ie[0],ut=ut[0],He&&(me[0]!=ie||Pe[0]!=ut)))return 3;ue!=null&&(ue[0]=De,ue.offset=E-ue.w,t(4294967286>E-ue.w),t(ue.offset==ue.ha-B));break}return Oe==0||Oe==7&&He&&ue==null?(ne!=null&&(ne[0]|=De.na!=null&&0<De.na.length),X!=null&&(X[0]=ie),ee!=null&&(ee[0]=ut),0):Oe}function Dp(w,E,B){var X=E.width,ee=E.height,ne=0,ie=0,oe=X,ue=ee;if(E.Da=w!=null&&0<w.Da,E.Da&&(oe=w.cd,ue=w.bd,ne=w.v,ie=w.j,11>B||(ne&=-2,ie&=-2),0>ne||0>ie||0>=oe||0>=ue||ne+oe>X||ie+ue>ee))return 0;if(E.v=ne,E.j=ie,E.va=ne+oe,E.o=ie+ue,E.U=oe,E.T=ue,E.da=w!=null&&0<w.da,E.da){if(!Re(oe,ue,B=[w.ib],ne=[w.hb]))return 0;E.ib=B[0],E.hb=ne[0]}return E.ob=w!=null&&w.ob,E.Kb=w==null||!w.Sd,E.da&&(E.ob=E.ib<3*X/4&&E.hb<3*ee/4,E.Kb=0),1}function Lp(w){if(w==null)return 2;if(11>w.S){var E=w.f.RGBA;E.fb+=(w.height-1)*E.A,E.A=-E.A}else E=w.f.kb,w=w.height,E.O+=(w-1)*E.fa,E.fa=-E.fa,E.N+=(w-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(w-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(w-1)*E.lb,E.lb=-E.lb);return 0}function Bf(w,E,B,X){if(X==null||0>=w||0>=E)return 2;if(B!=null){if(B.Da){var ee=B.cd,ne=B.bd,ie=-2&B.v,oe=-2&B.j;if(0>ie||0>oe||0>=ee||0>=ne||ie+ee>w||oe+ne>E)return 2;w=ee,E=ne}if(B.da){if(!Re(w,E,ee=[B.ib],ne=[B.hb]))return 2;w=ee[0],E=ne[0]}}X.width=w,X.height=E;e:{var ue=X.width,me=X.height;if(w=X.S,0>=ue||0>=me||!(w>=Hx&&13>w))w=2;else{if(0>=X.Rd&&X.sd==null){ie=ne=ee=E=0;var Pe=(oe=ue*nk[w])*me;if(11>w||(ne=(me+1)/2*(E=(ue+1)/2),w==12&&(ie=(ee=ue)*me)),(me=i(Pe+2*ne+ie))==null){w=1;break e}X.sd=me,11>w?((ue=X.f.RGBA).eb=me,ue.fb=0,ue.A=oe,ue.size=Pe):((ue=X.f.kb).y=me,ue.O=0,ue.fa=oe,ue.Fd=Pe,ue.f=me,ue.N=0+Pe,ue.Ab=E,ue.Cd=ne,ue.ea=me,ue.W=0+Pe+ne,ue.Db=E,ue.Ed=ne,w==12&&(ue.F=me,ue.J=0+Pe+2*ne),ue.Tc=ie,ue.lb=ee)}if(E=1,ee=X.S,ne=X.width,ie=X.height,ee>=Hx&&13>ee)if(11>ee)w=X.f.RGBA,E&=(oe=Math.abs(w.A))*(ie-1)+ne<=w.size,E&=oe>=ne*nk[ee],E&=w.eb!=null;else{w=X.f.kb,oe=(ne+1)/2,Pe=(ie+1)/2,ue=Math.abs(w.fa),me=Math.abs(w.Ab);var He=Math.abs(w.Db),We=Math.abs(w.lb),De=We*(ie-1)+ne;E&=ue*(ie-1)+ne<=w.Fd,E&=me*(Pe-1)+oe<=w.Cd,E=(E&=He*(Pe-1)+oe<=w.Ed)&ue>=ne&me>=oe&He>=oe,E&=w.y!=null,E&=w.f!=null,E&=w.ea!=null,ee==12&&(E&=We>=ne,E&=De<=w.Tc,E&=w.F!=null)}else E=0;w=E?0:2}}return w!=0||B!=null&&B.fd&&(w=Lp(X)),w}var Va=64,zf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Uf=24,Vf=32,Ip=8,Vi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(w){return w},T.Predictor2=function(w,E,B){return E[B+0]},T.Predictor3=function(w,E,B){return E[B+1]},T.Predictor4=function(w,E,B){return E[B-1]},T.Predictor5=function(w,E,B){return de(de(w,E[B+1]),E[B+0])},T.Predictor6=function(w,E,B){return de(w,E[B-1])},T.Predictor7=function(w,E,B){return de(w,E[B+0])},T.Predictor8=function(w,E,B){return de(E[B-1],E[B+0])},T.Predictor9=function(w,E,B){return de(E[B+0],E[B+1])},T.Predictor10=function(w,E,B){return de(de(w,E[B-1]),de(E[B+0],E[B+1]))},T.Predictor11=function(w,E,B){var X=E[B+0];return 0>=ge(X>>24&255,w>>24&255,(E=E[B-1])>>24&255)+ge(X>>16&255,w>>16&255,E>>16&255)+ge(X>>8&255,w>>8&255,E>>8&255)+ge(255&X,255&w,255&E)?X:w},T.Predictor12=function(w,E,B){var X=E[B+0];return(Be((w>>24&255)+(X>>24&255)-((E=E[B-1])>>24&255))<<24|Be((w>>16&255)+(X>>16&255)-(E>>16&255))<<16|Be((w>>8&255)+(X>>8&255)-(E>>8&255))<<8|Be((255&w)+(255&X)-(255&E)))>>>0},T.Predictor13=function(w,E,B){var X=E[B-1];return(we((w=de(w,E[B+0]))>>24&255,X>>24&255)<<24|we(w>>16&255,X>>16&255)<<16|we(w>>8&255,X>>8&255)<<8|we(w>>0&255,X>>0&255))>>>0};var W_=T.PredictorAdd0;T.PredictorAdd1=ze,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Mp=T.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Rx,Ms=T.ColorIndexInverseTransform,Hf=T.MapARGB,$x=T.VP8LColorIndexInverseTransformAlpha,Bx=T.MapAlpha,Ic=T.VP8LPredictorsAdd=[];Ic.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var sd,Hi,Ti,Mc,Ml,Rl,Wf,$l,Yn,Rp,Ci,Rs,qf,zx,$p,od,ld,Rc,cd,Gf,ud,$c,Bp,$s,Bs,dn,fn,Xn,va=i(511),Bl=i(2041),zp=i(225),Kf=i(767),Ux=0,q_=Bl,Vx=zp,us=Kf,zs=va,Hx=0,Wx=1,W3=2,qx=3,Gx=4,G_=5,q3=6,K_=7,Y_=8,Kx=9,X_=10,_K=[2,3,7],jK=[3,3,11],G3=[280,256,256,256,40],SK=[0,1,1,1,0],NK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],AK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],TK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],CK=8,J_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Q_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Up=null,EK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],K3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],PK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],OK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],FK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],DK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bc=[],yo=[],zl=[],LK=1,Y3=2,zc=[],Us=[];rt("UpsampleRgbLinePair",Fr,3),rt("UpsampleBgrLinePair",Fn,3),rt("UpsampleRgbaLinePair",xo,4),rt("UpsampleBgraLinePair",Ca,4),rt("UpsampleArgbLinePair",ri,4),rt("UpsampleRgba4444LinePair",sa,2),rt("UpsampleRgb565LinePair",$n,2);var IK=T.UpsampleRgbLinePair,MK=T.UpsampleBgrLinePair,X3=T.UpsampleRgbaLinePair,J3=T.UpsampleBgraLinePair,Q3=T.UpsampleArgbLinePair,Z3=T.UpsampleRgba4444LinePair,RK=T.UpsampleRgb565LinePair,Yx=16,Xx=1<<Yx-1,Vp=-227,Z_=482,ek=6,$K=(256<<ek)-1,tk=0,BK=i(256),zK=i(256),UK=i(256),VK=i(256),HK=i(Z_-Vp),WK=i(Z_-Vp);il("YuvToRgbRow",Fr,3),il("YuvToBgrRow",Fn,3),il("YuvToRgbaRow",xo,4),il("YuvToBgraRow",Ca,4),il("YuvToArgbRow",ri,4),il("YuvToRgba4444Row",sa,2),il("YuvToRgb565Row",$n,2);var rk=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jx=[0,2,8],qK=[8,7,6,4,4,2,2,2,1,1,1,1],GK=1;this.WebPDecodeRGBA=function(w,E,B,X,ee){var ne=Wx,ie=new Mf,oe=new Rt;ie.ba=oe,oe.S=ne,oe.width=[oe.width],oe.height=[oe.height];var ue=oe.width,me=oe.height,Pe=new kr;if(Pe==null||w==null)var He=2;else t(Pe!=null),He=$f(w,E,B,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(He!=0?ue=0:(ue!=null&&(ue[0]=Pe.width[0]),me!=null&&(me[0]=Pe.height[0]),ue=1),ue){oe.width=oe.width[0],oe.height=oe.height[0],X!=null&&(X[0]=oe.width),ee!=null&&(ee[0]=oe.height);e:{if(X=new rl,(ee=new Cp).data=w,ee.w=E,ee.ha=B,ee.kd=1,E=[0],t(ee!=null),((w=$f(ee.data,ee.w,ee.ha,null,null,null,E,null,ee))==0||w==7)&&E[0]&&(w=4),(E=w)==0){if(t(ie!=null),X.data=ee.data,X.w=ee.w+ee.offset,X.ha=ee.ha-ee.offset,X.put=Je,X.ac=nn,X.bc=kt,X.ma=ie,ee.xa){if((w=Qe())==null){ie=1;break e}if(function(We,De){var ut=[0],Ze=[0],Oe=[0];t:for(;;){if(We==null)return 0;if(De==null)return We.a=2,0;if(We.l=De,We.a=0,G(We.m,De.data,De.w,De.ha),!xt(We.m,ut,Ze,Oe)){We.a=3;break t}if(We.xb=Y3,De.width=ut[0],De.height=Ze[0],!Ue(ut[0],Ze[0],1,We,null))break t;return 1}return t(We.a!=0),0}(w,X)){if(X=(E=Bf(X.width,X.height,ie.Oa,ie.ba))==0){t:{X=w;r:for(;;){if(X==null){X=0;break t}if(t(X.s.yc!=null),t(X.s.Ya!=null),t(0<X.s.Wb),t((B=X.l)!=null),t((ee=B.ma)!=null),X.xb!=0){if(X.ca=ee.ba,X.tb=ee.tb,t(X.ca!=null),!Dp(ee.Oa,B,qx)){X.a=2;break r}if(!qe(X,B.width)||B.da)break r;if((B.da||Ht(X.ca.S))&&Me(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),X.ca.f.kb.F!=null&&Me()),X.Pb&&0<X.s.ua&&X.s.vb.X==null&&!Ie(X.s.vb,X.s.Wa.Xa)){X.a=1;break r}X.xb=0}if(!_e(X,X.V,X.Ba,X.c,X.i,B.o,ye))break r;ee.Dc=X.Ma,X=1;break t}t(X.a!=0),X=0}X=!X}X&&(E=w.a)}else E=w.a}else{if((w=new ls)==null){ie=1;break e}if(w.Fa=ee.na,w.P=ee.P,w.qc=ee.Sa,_x(w,X)){if((E=Bf(X.width,X.height,ie.Oa,ie.ba))==0){if(w.Aa=0,B=ie.Oa,t((ee=w)!=null),B!=null){if(0<(ue=0>(ue=B.Md)?0:100<ue?255:255*ue/100)){for(me=Pe=0;4>me;++me)12>(He=ee.pb[me]).lc&&(He.ia=ue*qK[0>He.lc?0:He.lc]>>3),Pe|=He.ia;Pe&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=B.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}T_(w,X)||(E=w.a)}}else E=w.a}E==0&&ie.Oa!=null&&ie.Oa.fd&&(E=Lp(ie.ba))}ie=E}ne=ie!=0?null:11>ne?oe.f.RGBA.eb:oe.f.kb.y}else ne=null;return ne};var nk=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,k){for(var V="",C=0;C<4;C++)V+=String.fromCharCode(T[k++]);return V}function d(T,k){return(T[k+0]<<0|T[k+1]<<8|T[k+2]<<16)>>>0}function f(T,k){return(T[k+0]<<0|T[k+1]<<8|T[k+2]<<16|T[k+3]<<24)>>>0}new c;var h=[0],p=[0],v=[],m=new c,x=e,g=function(T,k){var V={},C=0,P=!1,U=0,q=0;if(V.frames=[],!function(M,K,L,Y){for(var Z=0;Z<Y;Z++)if(M[K+Z]!=L.charCodeAt(Z))return!0;return!1}(T,k,"RIFF",4)){var z,I;for(f(T,k+=4),k+=8;k<T.length;){var R=u(T,k),G=f(T,k+=4);k+=4;var F=G+(1&G);switch(R){case"VP8 ":case"VP8L":V.frames[C]===void 0&&(V.frames[C]={}),(A=V.frames[C]).src_off=P?q:k-8,A.src_size=U+G+8,C++,P&&(P=!1,U=0,q=0);break;case"VP8X":(A=V.header={}).feature_flags=T[k];var H=k+4;A.canvas_width=1+d(T,H),H+=3,A.canvas_height=1+d(T,H),H+=3;break;case"ALPH":P=!0,U=F+8,q=k-8;break;case"ANIM":(A=V.header).bgcolor=f(T,k),H=k+4,A.loop_count=(z=T)[(I=H)+0]<<0|z[I+1]<<8,H+=2;break;case"ANMF":var J,A;(A=V.frames[C]={}).offset_x=2*d(T,k),k+=3,A.offset_y=2*d(T,k),k+=3,A.width=1+d(T,k),k+=3,A.height=1+d(T,k),k+=3,A.duration=d(T,k),k+=3,J=T[k++],A.dispose=1&J,A.blend=J>>1&1}R!="ANMF"&&(k+=F)}return V}}(x,0);g.response=x,g.rgbaoutput=!0,g.dataurl=!1;var y=g.header?g.header:null,b=g.frames?g.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var j=0;j<b.length&&b[j].blend!=0;j++);}var _=b[0],N=m.WebPDecodeRGBA(x,_.src_off,_.src_size,p,h);_.rgba=N,_.imgwidth=p[0],_.imgheight=h[0];for(var S=0;S<p[0]*h[0]*4;S++)v[S]=N[S];return this.width=p,this.height=h,this.data=v,this}(function(e){var t=function(){return typeof UA=="function"},r=function(h,p,v,m){var x=4,g=o;switch(m){case e.image_compression.FAST:x=1,g=i;break;case e.image_compression.MEDIUM:x=6,g=l;break;case e.image_compression.SLOW:x=9,g=c}h=n(h,p,v,g);var y=UA(h,{level:x});return e.__addimage__.arrayBufferToBinaryString(y)},n=function(h,p,v,m){for(var x,g,y,b=h.length/p,j=new Uint8Array(h.length+b),_=d(),N=0;N<b;N+=1){if(y=N*p,x=h.subarray(y,y+p),m)j.set(m(x,v,g),y+N);else{for(var S,T=_.length,k=[];S<T;S+=1)k[S]=_[S](x,v,g);var V=f(k.concat());j.set(k[V],y+N)}g=x}return j},a=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var v,m=[],x=h.length;m[0]=1;for(var g=0;g<x;g+=1)v=h[g-p]||0,m[g+1]=h[g]-v+256&255;return m},o=function(h,p,v){var m,x=[],g=h.length;x[0]=2;for(var y=0;y<g;y+=1)m=v&&v[y]||0,x[y+1]=h[y]-m+256&255;return x},l=function(h,p,v){var m,x,g=[],y=h.length;g[0]=3;for(var b=0;b<y;b+=1)m=h[b-p]||0,x=v&&v[b]||0,g[b+1]=h[b]+256-(m+x>>>1)&255;return g},c=function(h,p,v){var m,x,g,y,b=[],j=h.length;b[0]=4;for(var _=0;_<j;_+=1)m=h[_-p]||0,x=v&&v[_]||0,g=v&&v[_-p]||0,y=u(m,x,g),b[_+1]=h[_]-y+256&255;return b},u=function(h,p,v){if(h===p&&p===v)return h;var m=Math.abs(p-v),x=Math.abs(h-v),g=Math.abs(h+p-v-v);return m<=x&&m<=g?h:x<=g?p:v},d=function(){return[a,i,o,l,c]},f=function(h){var p=h.map(function(v){return v.reduce(function(m,x){return m+Math.abs(x)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,v,m){var x,g,y,b,j,_,N,S,T,k,V,C,P,U,q,z=this.decode.FLATE_DECODE,I="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(y=new uBe(h)).imgData,g=y.bits,x=y.colorSpace,j=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){T=(S=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,V=new Uint8Array(T*y.colors),k=new Uint8Array(T);var R,G=y.pixelBitlength-y.bits;for(U=0,q=0;U<T;U++){for(P=S[U],R=0;R<G;)V[q++]=P>>>R&255,R+=y.bits;k[U]=P>>>R&255}}if(y.bits===16){T=(S=new Uint32Array(y.decodePixels().buffer)).length,V=new Uint8Array(T*(32/y.pixelBitlength)*y.colors),k=new Uint8Array(T*(32/y.pixelBitlength)),C=y.colors>1,U=0,q=0;for(var F=0;U<T;)P=S[U++],V[q++]=P>>>0&255,C&&(V[q++]=P>>>16&255,P=S[U++],V[q++]=P>>>0&255),k[F++]=P>>>16&255;g=8}m!==e.image_compression.NONE&&t()?(h=r(V,y.width*y.colors,y.colors,m),N=r(k,y.width,1,m)):(h=V,N=k,z=void 0)}if(y.colorType===3&&(x=this.color_spaces.INDEXED,_=y.palette,y.transparency.indexed)){var H=y.transparency.indexed,J=0;for(U=0,T=H.length;U<T;++U)J+=H[U];if((J/=255)===T-1&&H.indexOf(0)!==-1)b=[H.indexOf(0)];else if(J!==T){for(S=y.decodePixels(),k=new Uint8Array(S.length),U=0,T=S.length;U<T;U++)k[U]=H[S[U]];N=r(k,y.width,1)}}var A=function(M){var K;switch(M){case e.image_compression.FAST:K=11;break;case e.image_compression.MEDIUM:K=13;break;case e.image_compression.SLOW:K=14;break;default:K=12}return K}(m);return z===this.decode.FLATE_DECODE&&(I="/Predictor "+A+" "),I+="/Colors "+j+" /BitsPerComponent "+g+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:v,data:h,index:p,filter:z,decodeParameters:I,transparency:b,palette:_,sMask:N,predictor:A,width:y.width,height:y.height,bitsPerComponent:g,colorSpace:x}}}})(Vt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new dBe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new cS(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(Vt.API),Ao.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ao.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){cn.log("bit decode error:"+r)}},Ao.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ao.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ao.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ao.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Ao.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Ao.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ao.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Ao.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Ao(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new cS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Vt.API),TM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new TM(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new cS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Vt.API),Vt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[l++]=d,i[l++]=f,i[l++]=h,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Vt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hh=Vt.API,gy=hh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,v=0,m=l[0]||c,x=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(h=f&&en(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,x.push((l[n]||m)/c+h)),v=n;return x},jM=hh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return hh.processArabic&&(e=hh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:gy.apply(this,arguments).reduce(function(i,o){return i+o},0)},SM=function(e,t,r,n){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>n&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},NM=function(e,t,r){r||(r={});var n,a,i,o,l,c,u,d=[],f=[d],h=r.textIndent||0,p=0,v=0,m=e.split(" "),x=gy.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),y=[];m.map(function(j){(j=j.split(/\s*\n/)).length>1?y=y.concat(j.map(function(_,N){return(N&&_.length?`
`:"")+_})):y.push(j[0])}),m=y,c=jM.apply(this,[g,r])}for(i=0,o=m.length;i<o;i++){var b=0;if(n=m[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),h+p+(v=(a=gy.apply(this,[n,r])).reduce(function(j,_){return j+_},0))>t||b){if(v>t){for(l=SM.apply(this,[n,a,t-(h+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,_){return j+_},0)}else d=[n];f.push(d),h=v+c,p=x}else d.push(n),h+=p+v,p=x}return u=c?function(j,_){return(_?g:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},hh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(NM.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,p,v,m,x=["{"];for(var g in f){if(h=f[g],isNaN(parseInt(g,10))?p="'"+g+"'":(g=parseInt(g,10),p=(p=i(g).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(v=i(h).slice(3),m="-"):(v=i(h).slice(2),m=""),v=m+v.slice(0,-1)+n[v.slice(-1)];else{if(en(h)!=="object")throw new Error("Don't know what to do with value type "+en(h)+".");v=o(h)}x.push(p+v)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,v,m,x={},g=1,y=x,b=[],j="",_="",N=f.length-1,S=1;S<N;S+=1)(m=f[S])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(b.push([y,v]),y={},v=void 0):m=="}"?((p=b.pop())[0][p[1]]=y,v=void 0,y=p[0]):m=="-"?g=-1:v===void 0?r.hasOwnProperty(m)?(j+=r[m],v=parseInt(j,16)*g,g=1,j=""):j+=m:r.hasOwnProperty(m)?(_+=r[m],y[v]=parseInt(_,16)*g,g=1,v=void 0,_=""):_+=m;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(Vt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(gg(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Vt),function(e){function t(){return(Qt.canvg?Promise.resolve(Qt.canvg):yc(()=>import("./index.es-61704a6d.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Vt.API.addSvgAsImage=function(r,n,a,i,o,l,c,u){if(isNaN(n)||isNaN(a))throw cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(v){return v.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),Vt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Vt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(v,m){var x,g=!1;for(x=0;x<v.length;x+=1)v[x]===m&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(en(e)==="object"){for(a in e)if(i=e[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,m=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?m.push("/"+v+" /"+r[v].value):m.push("/"+v+" "+r[v].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Vt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(i).sort(function(p,v){return p-v})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<h.length;v++)p+=String.fromCharCode(h[v]);var m=u();d({data:p,addLength1:!0,objectId:m}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+gh(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+gh(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+gh(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var v=u();d({data:h,addLength1:!0,objectId:v}),c("endobj");var m=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+gh(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+gh(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,v=f.fonts,m=p,x="",g=0,y="",b=v[m].encoding;if(v[m].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(y=l,m=p,Array.isArray(l)&&(y=l[0]),g=0;g<y.length;g+=1)v[m].metadata.hasOwnProperty("cmap")&&(o=v[m].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),o||y[g].charCodeAt(0)<256&&v[m].metadata.hasOwnProperty("Unicode")?x+=y[g]:x+="";var j="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?j=h(x,m).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(j=r(x,v[m])),f.isHex=!0,{text:j,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Vt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Vt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var j=function(C){var P=C.charCodeAt(),U=P>>8,q=m[U];return q!==void 0?f[256*q+(255&P)]:U===252||U===253?"AL":g.test(U)?"L":U===8?"R":"N"},_=function(C){for(var P,U=0;U<C.length;U++){if((P=j(C.charAt(U)))==="L")return!1;if(P==="R")return!0}return!1},N=function(C,P,U,q){var z,I,R,G,F=P[q];switch(F){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(F="AN");break;case"AL":y=!0,F="R";break;case"WS":F="N";break;case"CS":q<1||q+1>=P.length||(z=U[q-1])!=="EN"&&z!=="AN"||(I=P[q+1])!=="EN"&&I!=="AN"?F="N":y&&(I="AN"),F=I===z?I:"N";break;case"ES":F=(z=q>0?U[q-1]:"B")==="EN"&&q+1<P.length&&P[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&U[q-1]==="EN"){F="EN";break}if(y){F="N";break}for(R=q+1,G=P.length;R<G&&P[R]==="ET";)R++;F=R<G&&P[R]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(G=P.length,R=q+1;R<G&&P[R]==="NSM";)R++;if(R<G){var H=C[q],J=H>=1425&&H<=2303||H===64286;if(z=P[R],J&&(z==="R"||z==="AL")){F="R";break}}}F=q<1||(z=P[q-1])==="B"?"N":U[q-1];break;case"B":y=!1,a=!0,F=b;break;case"S":i=!0,F="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":F="N"}return F},S=function(C,P,U){var q=C.split("");return U&&T(q,U,{hiLevel:b}),q.reverse(),P&&P.reverse(),q.join("")},T=function(C,P,U){var q,z,I,R,G,F=-1,H=C.length,J=0,A=[],M=b?p:h,K=[];for(y=!1,a=!1,i=!1,z=0;z<H;z++)K[z]=j(C[z]);for(I=0;I<H;I++){if(G=J,A[I]=N(C,K,A,I),q=240&(J=M[G][v[A[I]]]),J&=15,P[I]=R=M[J][5],q>0)if(q===16){for(z=F;z<I;z++)P[z]=1;F=-1}else F=-1;if(M[J][6])F===-1&&(F=I);else if(F>-1){for(z=F;z<I;z++)P[z]=R;F=-1}K[I]==="B"&&(P[I]=0),U.hiLevel|=R}i&&function(L,Y,Z){for(var se=0;se<Z;se++)if(L[se]==="S"){Y[se]=b;for(var W=se-1;W>=0&&L[W]==="WS";W--)Y[W]=b}}(K,P,H)},k=function(C,P,U,q,z){if(!(z.hiLevel<C)){if(C===1&&b===1&&!a)return P.reverse(),void(U&&U.reverse());for(var I,R,G,F,H=P.length,J=0;J<H;){if(q[J]>=C){for(G=J+1;G<H&&q[G]>=C;)G++;for(F=J,R=G-1;F<R;F++,R--)I=P[F],P[F]=P[R],P[R]=I,U&&(I=U[F],U[F]=U[R],U[R]=I);J=G}J++}}},V=function(C,P,U){var q=C.split(""),z={hiLevel:b};return U||(U=[]),T(q,U,z),function(I,R,G){if(G.hiLevel!==0&&d)for(var F,H=0;H<I.length;H++)R[H]===1&&(F=x.indexOf(I[H]))>=0&&(I[H]=x[F+1])}(q,U,z),k(2,q,P,U,z),k(1,q,P,U,z),q.join("")};return this.__bidiEngine__.doBidiReorder=function(C,P,U){if(function(z,I){if(I)for(var R=0;R<z.length;R++)I[R]=R;l===void 0&&(l=_(z)),u===void 0&&(u=_(z))}(C,P),o||!c||u)if(o&&c&&l^u)b=l?1:0,C=S(C,P,U);else if(!o&&c&&u)b=l?1:0,C=V(C,P,U),C=S(C,P);else if(!o||l||c||u){if(o&&!c&&l^u)C=S(C,P),l?(b=0,C=V(C,P,U)):(b=1,C=V(C,P,U),C=S(C,P));else if(o&&l&&!c&&u)b=1,C=V(C,P,U),C=S(C,P);else if(!o&&!c&&l^u){var q=d;l?(b=1,C=V(C,P,U),b=0,d=!1,C=V(C,P,U),d=q):(b=0,C=V(C,P,U),C=S(C,P),b=1,d=!1,C=V(C,P,U),d=q,C=S(C,P))}}else b=0,C=V(C,P,U);else b=l?1:0,C=V(C,P,U);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Vu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ABe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new fBe(this.contents),this.head=new pBe(this),this.name=new yBe(this),this.cmap=new xK(this),this.toUnicode={},this.hhea=new mBe(this),this.maxp=new bBe(this),this.hmtx=new wBe(this),this.post=new vBe(this),this.os2=new gBe(this),this.loca=new NBe(this),this.glyf=new _Be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var el,Vu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),fBe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,o,l,c,u,d,f,h,p,v,m;for(m in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),o=Math.floor(f/c),d=16*p-f,(a=new Vu).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*p,u=a.pos+i,l=null,v=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),v=v.concat(h),m==="head"&&(l=u),u+=h.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,o;for(r=yK.call(r);r.length%4;)r.push(0);for(i=new Vu(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),hBe={}.hasOwnProperty,Fl=function(e,t){for(var r in t)hBe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};el=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var pBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Vu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),CM=function(){function e(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,m,x,g,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),t.pos+=2,m=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),u=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),d=function(){var j,_;for(_=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)_.push(t.readUInt16());return _}(),a=(this.length-t.pos+this.offset)/2,l=function(){var j,_;for(_=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)_.push(t.readUInt16());return _}(),c=g=0,b=i.length;g<b;c=++g)for(x=i[c],n=y=v=m[c];v<=x?y<=x:y>=x;n=v<=x?++y:--y)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-v)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,m,x,g,y,b,j,_,N,S,T,k,V,C,P,U,q,z,I,R,G,F,H,J,A,M,K,L,Y,Z,se,W,ae,fe,Q;switch(q=new Vu,o=Object.keys(t).sort(function(ke,Ie){return ke-Ie}),r){case"macroman":for(m=0,x=function(){var ke=[];for(v=0;v<256;++v)ke.push(0);return ke}(),y={0:0},i={},z=0,F=o.length;z<F;z++)y[W=t[a=o[z]]]==null&&(y[W]=++m),i[a]={old:t[a],new:y[t[a]]},x[a]=y[t[a]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(x),{charMap:i,subtable:q.data,maxGlyphID:m+1};case"unicode":for(P=[],f=[],b=0,y={},n={},g=u=null,I=0,H=o.length;I<H;I++)y[_=t[a=o[I]]]==null&&(y[_]=++b),n[a]={old:_,new:y[_]},l=y[_]-a,g!=null&&l===u||(g&&f.push(g),P.push(a),u=l),g=a;for(g&&f.push(g),f.push(65535),P.push(65535),V=2*(k=P.length),T=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(T/2)/Math.LN2,S=2*k-T,c=[],N=[],p=[],v=R=0,J=P.length;R<J;v=++R){if(C=P[v],d=f[v],C===65535){c.push(0),N.push(0);break}if(C-(U=n[C].new)>=32768)for(c.push(0),N.push(2*(p.length+k-v)),a=G=C;C<=d?G<=d:G>=d;a=C<=d?++G:--G)p.push(n[a].new);else c.push(U-C),N.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*k+2*p.length),q.writeUInt16(0),q.writeUInt16(V),q.writeUInt16(T),q.writeUInt16(h),q.writeUInt16(S),Z=0,A=f.length;Z<A;Z++)a=f[Z],q.writeUInt16(a);for(q.writeUInt16(0),se=0,M=P.length;se<M;se++)a=P[se],q.writeUInt16(a);for(ae=0,K=c.length;ae<K;ae++)l=c[ae],q.writeUInt16(l);for(fe=0,L=N.length;fe<L;fe++)j=N[fe],q.writeUInt16(j);for(Q=0,Y=p.length;Q<Y;Q++)m=p[Q],q.writeUInt16(m);return{charMap:n,subtable:q.data,maxGlyphID:b+1}}},e}(),xK=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new CM(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=CM.encode(r,n),(i=new Vu).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),mBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),gBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),vBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),xBe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},yBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,o,l,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),l=new xBe(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),bBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),wBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),yK=[].slice,_Be=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,o,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Vu(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new SBe(c,d,h,u,f):new jBe(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),jBe=function(){function e(t,r,n,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),SBe=function(){function e(t,r,n,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Vu(yK.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),NBe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fl(t,el),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),ABe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,o,l,c,u,d,f,h,p,v,m,x,g;for(a in n=xK.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},g=n.charMap)p[(c=g[a]).old]=c.new;for(v in h=n.maxGlyphID,o)v in p||(p[v]=h++);return d=function(y){var b,j;for(b in j={},y)j[y[b]]=b;return j}(p),f=Object.keys(d).sort(function(y,b){return y-b}),m=function(){var y,b,j;for(j=[],y=0,b=f.length;y<b;y++)l=f[y],j.push(d[l]);return j}(),i=this.font.glyf.encode(o,m,p),u=this.font.loca.encode(i.offsets,m),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Vt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const TBe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:aBe,AcroFormAppearance:$t,AcroFormButton:wa,AcroFormCheckBox:yg,AcroFormChoiceField:Gd,AcroFormComboBox:Yd,AcroFormEditBox:vg,AcroFormListBox:Kd,AcroFormPasswordField:bg,AcroFormPushButton:xg,AcroFormRadioButton:Xd,AcroFormTextField:Ou,GState:Bv,ShadingPattern:hu,TilingPattern:Md,default:Vt,jsPDF:Vt},Symbol.toStringTag,{value:"Module"}));var CBe={exports:{}};const EBe=$M(TBe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return EBe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof In<"u"?In:typeof window<"u"?window:typeof self<"u"?self:In,function(r){return function(){var n={172:function(l,c){var u=this&&this.__extends||function(){var h=function(p,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,x){m.__proto__=x}||function(m,x){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(m[g]=x[g])},h(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(p,v);function m(){this.constructor=p}p.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(p,v,m){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=m,this.doc=p.getDocument()}return h}();c.HookData=d;var f=function(h){u(p,h);function p(v,m,x,g,y,b){var j=h.call(this,v,m,b)||this;return j.cell=x,j.row=g,j.column=y,j.section=g.section,j}return p}(d);c.CellHookData=f},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var d=u(4),f=u(136),h=u(744),p=u(776),v=u(664),m=u(972);function x(g){g.API.autoTable=function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var j;y.length===1?j=y[0]:(console.error("Use of deprecated autoTable initiation"),j=y[2]||{},j.columns=y[0],j.body=y[1]);var _=(0,p.parseInput)(this,j),N=(0,m.createTable)(this,_);return(0,v.drawTable)(this,N),this},g.API.lastAutoTable=!1,g.API.previousAutoTable=!1,g.API.autoTable.previous=!1,g.API.autoTableText=function(y,b,j,_){(0,f.default)(y,b,j,_,this)},g.API.autoTableSetDefaults=function(y){return h.DocHandler.setDefaults(y,this),this},g.autoTableSetDefaults=function(y,b){h.DocHandler.setDefaults(y,b)},g.API.autoTableHtmlToJson=function(y,b){var j;if(b===void 0&&(b=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var _=new h.DocHandler(this),N=(0,d.parseHtml)(_,y,window,b,!1),S=N.head,T=N.body,k=((j=S[0])===null||j===void 0?void 0:j.map(function(V){return V.content}))||[];return{columns:k,rows:T,data:T}},g.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},g.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),g.API.autoTable.globalDefaults||(g.API.autoTable.globalDefaults={}),g.API.autoTable.globalDefaults.addPageContent=y,this},g.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=x},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,f,h,p,v){p=p||{};var m=1.15,x=v.internal.scaleFactor,g=v.internal.getFontSize()/x,y=v.getLineHeightFactor?v.getLineHeightFactor():m,b=g*y,j=/\r\n|\r|\n/g,_="",N=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(_=typeof d=="string"?d.split(j):d,N=_.length||1),h+=g*(2-m),p.valign==="middle"?h-=N/2*b:p.valign==="bottom"&&(h-=N*b),p.halign==="center"||p.halign==="right"){var S=g;if(p.halign==="center"&&(S*=.5),_&&N>=1){for(var T=0;T<_.length;T++)v.text(_[T],f-v.getStringUnitWidth(_[T])*S,h),h+=b;return v}f-=v.getStringUnitWidth(d)*S}return p.halign==="justify"?v.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):v.text(d,f,h),v}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(v,m,x){x.applyStyles(m,!0);var g=Array.isArray(v)?v:[v],y=g.map(function(b){return x.getTextWidth(b)}).reduce(function(b,j){return Math.max(b,j)},0);return y}c.getStringWidth=u;function d(v,m,x,g){var y=m.settings.tableLineWidth,b=m.settings.tableLineColor;v.applyStyles({lineWidth:y,lineColor:b});var j=f(y,!1);j&&v.rect(x.x,x.y,m.getWidth(v.pageSize().width),g.y-x.y,j)}c.addTableBorder=d;function f(v,m){var x=v>0,g=m||m===0;return x&&g?"DF":x?"S":g?"F":null}c.getFillStyle=f;function h(v,m){var x,g,y,b;if(v=v||m,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=m}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(x=v.left)!==null&&x!==void 0?x:m,top:(g=v.top)!==null&&g!==void 0?g:m,right:(y=v.right)!==null&&y!==void 0?y:m,bottom:(b=v.bottom)!==null&&b!==void 0?b:m}):(typeof v!="number"&&(v=m),{top:v,right:v,bottom:v,left:v})}c.parseSpacing=h;function p(v,m){var x=h(m.settings.margin,0);return v.pageSize().width-(x.left+x.right)}c.getPageAvailableWidth=p},796:function(l,c){var u=this&&this.__extends||function(){var p=function(v,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,g){x.__proto__=g}||function(x,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(x[y]=g[y])},p(v,m)};return function(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");p(v,m);function x(){this.constructor=v}v.prototype=m===null?Object.create(m):(x.prototype=m.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(p){u(v,p);function v(m){var x=p.call(this)||this;return x._element=m,x}return v}(Array);c.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function h(p){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[p]}c.getTheme=h},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=u(420);function f(x,g,y,b,j){var _={},N=1.3333333333333333,S=p(g,function(F){return j.getComputedStyle(F).backgroundColor});S!=null&&(_.fillColor=S);var T=p(g,function(F){return j.getComputedStyle(F).color});T!=null&&(_.textColor=T);var k=m(b,y);k&&(_.cellPadding=k);var V="borderTopColor",C=N*y,P=b.borderTopWidth;if(b.borderBottomWidth===P&&b.borderRightWidth===P&&b.borderLeftWidth===P){var U=(parseFloat(P)||0)/C;U&&(_.lineWidth=U)}else _.lineWidth={top:(parseFloat(b.borderTopWidth)||0)/C,right:(parseFloat(b.borderRightWidth)||0)/C,bottom:(parseFloat(b.borderBottomWidth)||0)/C,left:(parseFloat(b.borderLeftWidth)||0)/C},_.lineWidth.top||(_.lineWidth.right?V="borderRightColor":_.lineWidth.bottom?V="borderBottomColor":_.lineWidth.left&&(V="borderLeftColor"));var q=p(g,function(F){return j.getComputedStyle(F)[V]});q!=null&&(_.lineColor=q);var z=["left","right","center","justify"];z.indexOf(b.textAlign)!==-1&&(_.halign=b.textAlign),z=["middle","bottom","top"],z.indexOf(b.verticalAlign)!==-1&&(_.valign=b.verticalAlign);var I=parseInt(b.fontSize||"");isNaN(I)||(_.fontSize=I/N);var R=h(b);R&&(_.fontStyle=R);var G=(b.fontFamily||"").toLowerCase();return x.indexOf(G)!==-1&&(_.font=G),_}c.parseCss=f;function h(x){var g="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(g="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(g+="italic"),g}function p(x,g){var y=v(x,g);if(!y)return null;var b=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!b||!Array.isArray(b))return null;var j=[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])],_=parseInt(b[4]);return _===0||isNaN(j[0])||isNaN(j[1])||isNaN(j[2])?null:j}function v(x,g){var y=g(x);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?x.parentElement==null?null:v(x.parentElement,g):y}function m(x,g){var y=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],b=96/(72/g),j=(parseInt(x.lineHeight)-parseInt(x.fontSize))/g/2,_=y.map(function(S){return parseInt(S||"0")/b}),N=(0,d.parseSpacing)(_,0);return j>N.top&&(N.top=j),j>N.bottom&&(N.bottom=j),N}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var v,m,x;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var g=this.jsPDFDocument.internal.getFont(),y=g.fontStyle,b=g.fontName;if(h.font&&(b=h.font),h.fontStyle){y=h.fontStyle;var j=this.getFontList()[b];j&&j.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j[0]),y=j[0])}if(this.jsPDFDocument.setFont(b,y),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var _=f.unifyColor(h.fillColor);_&&(v=this.jsPDFDocument).setFillColor.apply(v,_),_=f.unifyColor(h.textColor),_&&(m=this.jsPDFDocument).setTextColor.apply(m,_),_=f.unifyColor(h.lineColor),_&&(x=this.jsPDFDocument).setDrawColor.apply(x,_),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,v){return this.jsPDFDocument.splitTextToSize(h,p,v)},f.prototype.rect=function(h,p,v,m,x){return this.jsPDFDocument.rect(h,p,v,m,x)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=d},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=u(903),f=u(796);function h(m,x,g,y,b){var j,_;y===void 0&&(y=!1),b===void 0&&(b=!1);var N;typeof x=="string"?N=g.document.querySelector(x):N=x;var S=Object.keys(m.getFontList()),T=m.scaleFactor(),k=[],V=[],C=[];if(!N)return console.error("Html table could not be found with input: ",x),{head:k,body:V,foot:C};for(var P=0;P<N.rows.length;P++){var U=N.rows[P],q=(_=(j=U==null?void 0:U.parentElement)===null||j===void 0?void 0:j.tagName)===null||_===void 0?void 0:_.toLowerCase(),z=p(S,T,g,U,y,b);z&&(q==="thead"?k.push(z):q==="tfoot"?C.push(z):V.push(z))}return{head:k,body:V,foot:C}}c.parseHtml=h;function p(m,x,g,y,b,j){for(var _=new f.HtmlRowInput(y),N=0;N<y.cells.length;N++){var S=y.cells[N],T=g.getComputedStyle(S);if(b||T.display!=="none"){var k=void 0;j&&(k=(0,d.parseCss)(m,S,x,T,g)),_.push({rowSpan:S.rowSpan,colSpan:S.colSpan,styles:k,_element:S,content:v(S)})}}var V=g.getComputedStyle(y);if(_.length>0&&(b||V.display!=="none"))return _}function v(m){var x=m.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(g){return g.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=u(4),f=u(356),h=u(420),p=u(744),v=u(792);function m(N,S){var T=new p.DocHandler(N),k=T.getDocumentOptions(),V=T.getGlobalOptions();(0,v.default)(T,V,k,S);var C=(0,f.assign)({},V,k,S),P;typeof window<"u"&&(P=window);var U=x(V,k,S),q=g(V,k,S),z=y(T,C),I=j(T,C,P);return{id:S.tableId,content:I,hooks:q,styles:U,settings:z}}c.parseInput=m;function x(N,S,T){for(var k={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},V=function(q){if(q==="columnStyles"){var z=N[q],I=S[q],R=T[q];k.columnStyles=(0,f.assign)({},z,I,R)}else{var G=[N,S,T],F=G.map(function(H){return H[q]||{}});k[q]=(0,f.assign)({},F[0],F[1],F[2])}},C=0,P=Object.keys(k);C<P.length;C++){var U=P[C];V(U)}return k}function g(N,S,T){for(var k=[N,S,T],V={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},C=0,P=k;C<P.length;C++){var U=P[C];U.didParseCell&&V.didParseCell.push(U.didParseCell),U.willDrawCell&&V.willDrawCell.push(U.willDrawCell),U.didDrawCell&&V.didDrawCell.push(U.didDrawCell),U.willDrawPage&&V.willDrawPage.push(U.willDrawPage),U.didDrawPage&&V.didDrawPage.push(U.didDrawPage)}return V}function y(N,S){var T,k,V,C,P,U,q,z,I,R,G,F,H=(0,h.parseSpacing)(S.margin,40/N.scaleFactor()),J=(T=b(N,S.startY))!==null&&T!==void 0?T:H.top,A;S.showFoot===!0?A="everyPage":S.showFoot===!1?A="never":A=(k=S.showFoot)!==null&&k!==void 0?k:"everyPage";var M;S.showHead===!0?M="everyPage":S.showHead===!1?M="never":M=(V=S.showHead)!==null&&V!==void 0?V:"everyPage";var K=(C=S.useCss)!==null&&C!==void 0?C:!1,L=S.theme||(K?"plain":"striped"),Y=!!S.horizontalPageBreak,Z=(P=S.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(U=S.includeHiddenHtml)!==null&&U!==void 0?U:!1,useCss:K,theme:L,startY:J,margin:H,pageBreak:(q=S.pageBreak)!==null&&q!==void 0?q:"auto",rowPageBreak:(z=S.rowPageBreak)!==null&&z!==void 0?z:"auto",tableWidth:(I=S.tableWidth)!==null&&I!==void 0?I:"auto",showHead:M,showFoot:A,tableLineWidth:(R=S.tableLineWidth)!==null&&R!==void 0?R:0,tableLineColor:(G=S.tableLineColor)!==null&&G!==void 0?G:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:Z,horizontalPageBreakBehaviour:(F=S.horizontalPageBreakBehaviour)!==null&&F!==void 0?F:"afterAllRows"}}function b(N,S){var T=N.getLastAutoTable(),k=N.scaleFactor(),V=N.pageNumber(),C=!1;if(T&&T.startPageNumber){var P=T.startPageNumber+T.pageNumber-1;C=P===V}return typeof S=="number"?S:(S==null||S===!1)&&C&&(T==null?void 0:T.finalY)!=null?T.finalY+20/k:null}function j(N,S,T){var k=S.head||[],V=S.body||[],C=S.foot||[];if(S.html){var P=S.includeHiddenHtml;if(T){var U=(0,d.parseHtml)(N,S.html,T,P,S.useCss)||{};k=U.head||k,V=U.body||k,C=U.foot||k}else console.error("Cannot parse html in non browser environment")}var q=S.columns||_(k,V,C);return{columns:q,head:k,body:V,foot:C}}function _(N,S,T){var k=N[0]||S[0]||T[0]||[],V=[];return Object.keys(k).filter(function(C){return C!=="_element"}).forEach(function(C){var P=1,U;Array.isArray(k)?U=k[parseInt(C)]:U=k[C],typeof U=="object"&&!Array.isArray(U)&&(P=(U==null?void 0:U.colSpan)||1);for(var q=0;q<P;q++){var z=void 0;Array.isArray(k)?z=V.length:z=C+(q>0?"_".concat(q):"");var I={dataKey:z};V.push(I)}}),V}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,h,p,v){for(var m=function(b){b&&typeof b!="object"&&console.error("The options parameter should be of type object, is: "+typeof b),typeof b.extendWidth<"u"&&(b.tableWidth=b.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof b.margins<"u"&&(typeof b.margin>"u"&&(b.margin=b.margins),console.error("Use of deprecated option: margins, use margin instead.")),b.startY&&typeof b.startY!="number"&&(console.error("Invalid value for startY option",b.startY),delete b.startY),!b.didDrawPage&&(b.afterPageContent||b.beforePageContent||b.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),b.didDrawPage=function(C){f.applyStyles(f.userStyles),b.beforePageContent&&b.beforePageContent(C),f.applyStyles(f.userStyles),b.afterPageContent&&b.afterPageContent(C),f.applyStyles(f.userStyles),b.afterPageAdd&&C.pageNumber>1&&C.afterPageAdd(C),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(C){b[C]&&console.error('The "'.concat(C,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(C){var P=C[0],U=C[1];b[U]&&(console.error("Use of deprecated option ".concat(U,". Use ").concat(P," instead")),b[P]=b[U])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var P=typeof C=="string"?C:C[0],U=typeof C=="string"?C:C[1];typeof b[P]<"u"&&(typeof b.styles[U]>"u"&&(b.styles[U]=b[P]),console.error("Use of deprecated option: "+P+", use the style "+U+" instead."))});for(var j=0,_=["styles","bodyStyles","headStyles","footStyles"];j<_.length;j++){var N=_[j];d(b[N]||{})}for(var S=b.columnStyles||{},T=0,k=Object.keys(S);T<k.length;T++){var V=k[T];d(S[V]||{})}},x=0,g=[h,p,v];x<g.length;x++){var y=g[x];m(y)}}c.default=u;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=u(796),f=u(172),h=u(420),p=function(){function g(y,b){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=b.columns,this.head=b.head,this.body=b.body,this.foot=b.foot}return g.prototype.getHeadHeight=function(y){return this.head.reduce(function(b,j){return b+j.getMaxCellHeight(y)},0)},g.prototype.getFootHeight=function(y){return this.foot.reduce(function(b,j){return b+j.getMaxCellHeight(y)},0)},g.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},g.prototype.callCellHooks=function(y,b,j,_,N,S){for(var T=0,k=b;T<k.length;T++){var V=k[T],C=new f.CellHookData(y,this,j,_,N,S),P=V(C)===!1;if(j.text=Array.isArray(j.text)?j.text:[j.text],P)return!1}return!0},g.prototype.callEndPageHooks=function(y,b){y.applyStyles(y.userStyles);for(var j=0,_=this.hooks.didDrawPage;j<_.length;j++){var N=_[j];N(new f.HookData(y,this,b))}},g.prototype.callWillDrawPageHooks=function(y,b){for(var j=0,_=this.hooks.willDrawPage;j<_.length;j++){var N=_[j];N(new f.HookData(y,this,b))}},g.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var b=this.columns.reduce(function(_,N){return _+N.wrappedWidth},0);return b}else{var j=this.settings.margin;return y-j.left-j.right}},g}();c.Table=p;var v=function(){function g(y,b,j,_,N){N===void 0&&(N=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=b,this.section=j,this.cells=_,this.spansMultiplePages=N}return g.prototype.getMaxCellHeight=function(y){var b=this;return y.reduce(function(j,_){var N;return Math.max(j,((N=b.cells[_.index])===null||N===void 0?void 0:N.height)||0)},0)},g.prototype.hasRowSpan=function(y){var b=this;return y.filter(function(j){var _=b.cells[j.index];return _?_.rowSpan>1:!1}).length>0},g.prototype.canEntireRowFit=function(y,b){return this.getMaxCellHeight(b)<=y},g.prototype.getMinimumRowHeight=function(y,b){var j=this;return y.reduce(function(_,N){var S=j.cells[N.index];if(!S)return 0;var T=b.getLineHeight(S.styles.fontSize),k=S.padding("vertical"),V=k+T;return V>_?V:_},0)},g}();c.Row=v;var m=function(){function g(y,b,j){var _,N;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=b,this.section=j,this.raw=y;var S=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,S=(N=(_=y.content)!==null&&_!==void 0?_:y.title)!==null&&N!==void 0?N:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var T=S!=null?""+S:"",k=/\r\n|\r|\n/g;this.text=T.split(k)}return g.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var b=this.height-this.padding("vertical");y=this.y+b/2+this.padding("top")}var j;if(this.styles.halign==="right")j=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var _=this.width-this.padding("horizontal");j=this.x+_/2+this.padding("left")}else j=this.x+this.padding("left");return{x:j,y}},g.prototype.getContentHeight=function(y,b){b===void 0&&(b=1.15);var j=Array.isArray(this.text)?this.text.length:1,_=this.styles.fontSize/y*b,N=j*_+this.padding("vertical");return Math.max(N,this.styles.minCellHeight)},g.prototype.padding=function(y){var b=(0,h.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?b.top+b.bottom:y==="horizontal"?b.left+b.right:b[y]},g}();c.Cell=m;var x=function(){function g(y,b,j){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=b,this.index=j}return g.prototype.getMaxCustomCellWidth=function(y){for(var b=0,j=0,_=y.allRows();j<_.length;j++){var N=_[j],S=N.cells[this.index];S&&typeof S.styles.cellWidth=="number"&&(b=Math.max(b,S.styles.cellWidth))}return b},g}();c.Column=x},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(d,f,h,p,v){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var m=Object(d),x=1;x<arguments.length;x++){var g=arguments[x];if(g!=null)for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(m[y]=g[y])}return m}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=u(744),f=u(260),h=u(324),p=u(796),v=u(356);function m(N,S){var T=new d.DocHandler(N),k=x(S,T.scaleFactor()),V=new f.Table(S,k);return(0,h.calculateWidths)(T,V),T.applyStyles(T.userStyles),V}c.createTable=m;function x(N,S){var T=N.content,k=j(T.columns);if(T.head.length===0){var V=y(k,"head");V&&T.head.push(V)}if(T.foot.length===0){var V=y(k,"foot");V&&T.foot.push(V)}var C=N.settings.theme,P=N.styles;return{columns:k,head:g("head",T.head,k,P,C,S),body:g("body",T.body,k,P,C,S),foot:g("foot",T.foot,k,P,C,S)}}function g(N,S,T,k,V,C){var P={},U=S.map(function(q,z){for(var I=0,R={},G=0,F=0,H=0,J=T;H<J.length;H++){var A=J[H];if(P[A.index]==null||P[A.index].left===0)if(F===0){var M=void 0;Array.isArray(q)?M=q[A.index-G-I]:M=q[A.dataKey];var K={};typeof M=="object"&&!Array.isArray(M)&&(K=(M==null?void 0:M.styles)||{});var L=_(N,A,z,V,k,C,K),Y=new f.Cell(M,L,N);R[A.dataKey]=Y,R[A.index]=Y,F=Y.colSpan-1,P[A.index]={left:Y.rowSpan-1,times:F}}else F--,G++;else P[A.index].left--,F=P[A.index].times,I++}return new f.Row(q,z,N,R)});return U}function y(N,S){var T={};return N.forEach(function(k){if(k.raw!=null){var V=b(S,k.raw);V!=null&&(T[k.dataKey]=V)}}),Object.keys(T).length>0?T:null}function b(N,S){if(N==="head"){if(typeof S=="object")return S.header||S.title||null;if(typeof S=="string"||typeof S=="number")return S}else if(N==="foot"&&typeof S=="object")return S.footer;return null}function j(N){return N.map(function(S,T){var k,V,C;return typeof S=="object"?C=(V=(k=S.dataKey)!==null&&k!==void 0?k:S.key)!==null&&V!==void 0?V:T:C=T,new f.Column(C,S,T)})}function _(N,S,T,k,V,C,P){var U=(0,p.getTheme)(k),q;N==="head"?q=V.headStyles:N==="body"?q=V.bodyStyles:N==="foot"&&(q=V.footStyles);var z=(0,v.assign)({},U.table,U[N],V.styles,q),I=V.columnStyles[S.dataKey]||V.columnStyles[S.index]||{},R=N==="body"?I:{},G=N==="body"&&T%2===0?(0,v.assign)({},U.alternateRow,V.alternateRowStyles):{},F=(0,p.defaultStyles)(C),H=(0,v.assign)({},F,z,G,R);return(0,v.assign)(H,P)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=u(420),f=u(260),h=u(744),p=u(356),v=u(136),m=u(224);function x(I,R){var G=R.settings,F=G.startY,H=G.margin,J={x:H.left,y:F},A=R.getHeadHeight(R.columns)+R.getFootHeight(R.columns),M=F+H.bottom+A;if(G.pageBreak==="avoid"){var K=R.body,L=K.reduce(function(se,W){return se+W.height},0);M+=L}var Y=new h.DocHandler(I);(G.pageBreak==="always"||G.startY!=null&&M>Y.pageSize().height)&&(z(Y),J.y=H.top),R.callWillDrawPageHooks(Y,J);var Z=(0,p.assign)({},J);R.startPageNumber=Y.pageNumber(),G.horizontalPageBreak?g(Y,R,Z,J):(Y.applyStyles(Y.userStyles),(G.showHead==="firstPage"||G.showHead==="everyPage")&&R.head.forEach(function(se){return V(Y,R,se,J,R.columns)}),Y.applyStyles(Y.userStyles),R.body.forEach(function(se,W){var ae=W===R.body.length-1;k(Y,R,se,ae,Z,J,R.columns)}),Y.applyStyles(Y.userStyles),(G.showFoot==="lastPage"||G.showFoot==="everyPage")&&R.foot.forEach(function(se){return V(Y,R,se,J,R.columns)})),(0,d.addTableBorder)(Y,R,Z,J),R.callEndPageHooks(Y,J),R.finalY=J.y,I.lastAutoTable=R,I.previousAutoTable=R,I.autoTable&&(I.autoTable.previous=R),Y.applyStyles(Y.userStyles)}c.drawTable=x;function g(I,R,G,F){var H=(0,m.calculateAllColumnsCanFitInPage)(I,R),J=R.settings;if(J.horizontalPageBreakBehaviour==="afterAllRows")H.forEach(function(L,Y){I.applyStyles(I.userStyles),Y>0?q(I,R,G,F,L.columns,!0):y(I,R,F,L.columns),b(I,R,G,F,L.columns),_(I,R,F,L.columns)});else for(var A=-1,M=H[0],K=function(){var L=A;if(M){I.applyStyles(I.userStyles);var Y=M.columns;A>=0?q(I,R,G,F,Y,!0):y(I,R,F,Y),L=j(I,R,A+1,F,Y),_(I,R,F,Y)}var Z=L-A;H.slice(1).forEach(function(se){I.applyStyles(I.userStyles),q(I,R,G,F,se.columns,!0),j(I,R,A+1,F,se.columns,Z),_(I,R,F,se.columns)}),A=L};A<R.body.length-1;)K()}function y(I,R,G,F){var H=R.settings;I.applyStyles(I.userStyles),(H.showHead==="firstPage"||H.showHead==="everyPage")&&R.head.forEach(function(J){return V(I,R,J,G,F)})}function b(I,R,G,F,H){I.applyStyles(I.userStyles),R.body.forEach(function(J,A){var M=A===R.body.length-1;k(I,R,J,M,G,F,H)})}function j(I,R,G,F,H,J){I.applyStyles(I.userStyles),J=J??R.body.length;var A=Math.min(G+J,R.body.length),M=-1;return R.body.slice(G,A).forEach(function(K,L){var Y=G+L===R.body.length-1,Z=U(I,R,Y,F);K.canEntireRowFit(Z,H)&&(V(I,R,K,F,H),M=G+L)}),M}function _(I,R,G,F){var H=R.settings;I.applyStyles(I.userStyles),(H.showFoot==="lastPage"||H.showFoot==="everyPage")&&R.foot.forEach(function(J){return V(I,R,J,G,F)})}function N(I,R,G){var F=G.getLineHeight(I.styles.fontSize),H=I.padding("vertical"),J=Math.floor((R-H)/F);return Math.max(0,J)}function S(I,R,G,F){var H={};I.spansMultiplePages=!0,I.height=0;for(var J=0,A=0,M=G.columns;A<M.length;A++){var K=M[A],L=I.cells[K.index];if(L){Array.isArray(L.text)||(L.text=[L.text]);var Y=new f.Cell(L.raw,L.styles,L.section);Y=(0,p.assign)(Y,L),Y.text=[];var Z=N(L,R,F);L.text.length>Z&&(Y.text=L.text.splice(Z,L.text.length));var se=F.scaleFactor(),W=F.getLineHeightFactor();L.contentHeight=L.getContentHeight(se,W),L.contentHeight>=R&&(L.contentHeight=R,Y.styles.minCellHeight-=R),L.contentHeight>I.height&&(I.height=L.contentHeight),Y.contentHeight=Y.getContentHeight(se,W),Y.contentHeight>J&&(J=Y.contentHeight),H[K.index]=Y}}var ae=new f.Row(I.raw,-1,I.section,H,!0);ae.height=J;for(var fe=0,Q=G.columns;fe<Q.length;fe++){var K=Q[fe],Y=ae.cells[K.index];Y&&(Y.height=ae.height);var L=I.cells[K.index];L&&(L.height=I.height)}return ae}function T(I,R,G,F){var H=I.pageSize().height,J=F.settings.margin,A=J.top+J.bottom,M=H-A;R.section==="body"&&(M-=F.getHeadHeight(F.columns)+F.getFootHeight(F.columns));var K=R.getMinimumRowHeight(F.columns,I),L=K<G;if(K>M)return console.error("Will not be able to print row ".concat(R.index," correctly since it's minimum height is larger than page height")),!0;if(!L)return!1;var Y=R.hasRowSpan(F.columns),Z=R.getMaxCellHeight(F.columns)>M;return Z?(Y&&console.error("The content of row ".concat(R.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Y||F.settings.rowPageBreak==="avoid")}function k(I,R,G,F,H,J,A){var M=U(I,R,F,J);if(G.canEntireRowFit(M,A))V(I,R,G,J,A);else if(T(I,G,M,R)){var K=S(G,M,R,I);V(I,R,G,J,A),q(I,R,H,J,A),k(I,R,K,F,H,J,A)}else q(I,R,H,J,A),k(I,R,G,F,H,J,A)}function V(I,R,G,F,H){F.x=R.settings.margin.left;for(var J=0,A=H;J<A.length;J++){var M=A[J],K=G.cells[M.index];if(!K){F.x+=M.width;continue}I.applyStyles(K.styles),K.x=F.x,K.y=F.y;var L=R.callCellHooks(I,R.hooks.willDrawCell,K,G,M,F);if(L===!1){F.x+=M.width;continue}C(I,K,F);var Y=K.getTextPos();(0,v.default)(K.text,Y.x,Y.y,{halign:K.styles.halign,valign:K.styles.valign,maxWidth:Math.ceil(K.width-K.padding("left")-K.padding("right"))},I.getDocument()),R.callCellHooks(I,R.hooks.didDrawCell,K,G,M,F),F.x+=M.width}F.y+=G.height}function C(I,R,G){var F=R.styles;if(I.getDocument().setFillColor(I.getDocument().getFillColor()),typeof F.lineWidth=="number"){var H=(0,d.getFillStyle)(F.lineWidth,F.fillColor);H&&I.rect(R.x,G.y,R.width,R.height,H)}else typeof F.lineWidth=="object"&&(F.fillColor&&I.rect(R.x,G.y,R.width,R.height,"F"),P(I,R,G,F.lineWidth))}function P(I,R,G,F){var H,J,A,M;F.top&&(H=G.x,J=G.y,A=G.x+R.width,M=G.y,F.right&&(A+=.5*F.right),F.left&&(H-=.5*F.left),K(F.top,H,J,A,M)),F.bottom&&(H=G.x,J=G.y+R.height,A=G.x+R.width,M=G.y+R.height,F.right&&(A+=.5*F.right),F.left&&(H-=.5*F.left),K(F.bottom,H,J,A,M)),F.left&&(H=G.x,J=G.y,A=G.x,M=G.y+R.height,F.top&&(J-=.5*F.top),F.bottom&&(M+=.5*F.bottom),K(F.left,H,J,A,M)),F.right&&(H=G.x+R.width,J=G.y,A=G.x+R.width,M=G.y+R.height,F.top&&(J-=.5*F.top),F.bottom&&(M+=.5*F.bottom),K(F.right,H,J,A,M));function K(L,Y,Z,se,W){I.getDocument().setLineWidth(L),I.getDocument().line(Y,Z,se,W,"S")}}function U(I,R,G,F){var H=R.settings.margin.bottom,J=R.settings.showFoot;return(J==="everyPage"||J==="lastPage"&&G)&&(H+=R.getFootHeight(R.columns)),I.pageSize().height-F.y-H}function q(I,R,G,F,H,J){H===void 0&&(H=[]),J===void 0&&(J=!1),I.applyStyles(I.userStyles),R.settings.showFoot==="everyPage"&&!J&&R.foot.forEach(function(M){return V(I,R,M,F,H)}),R.callEndPageHooks(I,F);var A=R.settings.margin;(0,d.addTableBorder)(I,R,G,F),z(I),R.pageNumber++,R.pageCount++,F.x=A.left,F.y=A.top,G.y=A.top,R.callWillDrawPageHooks(I,F),R.settings.showHead==="everyPage"&&(R.head.forEach(function(M){return V(I,R,M,F,H)}),I.applyStyles(I.userStyles))}c.addPage=q;function z(I){var R=I.pageNumber();I.setPage(R+1);var G=I.pageNumber();return G===R?(I.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=u(420);function f(p,v,m){var x;m===void 0&&(m={});var g=(0,d.getPageAvailableWidth)(p,v),y=new Map,b=[],j=[],_=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?_=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(_=[v.settings.horizontalPageBreakRepeat]),_.forEach(function(k){var V=v.columns.find(function(C){return C.dataKey===k||C.index===k});V&&!y.has(V.index)&&(y.set(V.index,!0),b.push(V.index),j.push(v.columns[V.index]),g-=V.wrappedWidth)});for(var N=!0,S=(x=m==null?void 0:m.start)!==null&&x!==void 0?x:0;S<v.columns.length;){if(y.has(S)){S++;continue}var T=v.columns[S].wrappedWidth;if(N||g>=T)N=!1,b.push(S),j.push(v.columns[S]),g-=T;else break;S++}return{colIndexes:b,columns:j,lastIndex:S-1}}function h(p,v){for(var m=[],x=0;x<v.columns.length;x++){var g=f(p,v,{start:x});g.columns.length&&(m.push(g),x=g.lastIndex)}return m}c.calculateAllColumnsCanFitInPage=h},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=u(420);function f(b,j){h(b,j);var _=[],N=0;j.columns.forEach(function(T){var k=T.getMaxCustomCellWidth(j);k?T.width=k:(T.width=T.wrappedWidth,_.push(T)),N+=T.width});var S=j.getWidth(b.pageSize().width)-N;S&&(S=p(_,S,function(T){return Math.max(T.minReadableWidth,T.minWidth)})),S&&(S=p(_,S,function(T){return T.minWidth})),S=Math.abs(S),!j.settings.horizontalPageBreak&&S>.1/b.scaleFactor()&&(S=S<1?S:Math.round(S),console.warn("Of the table content, ".concat(S," units width could not fit page"))),m(j),x(j,b),v(j)}c.calculateWidths=f;function h(b,j){var _=b.scaleFactor(),N=j.settings.horizontalPageBreak,S=(0,d.getPageAvailableWidth)(b,j);j.allRows().forEach(function(T){for(var k=0,V=j.columns;k<V.length;k++){var C=V[k],P=T.cells[C.index];if(P){var U=j.hooks.didParseCell;j.callCellHooks(b,U,P,T,C,null);var q=P.padding("horizontal");P.contentWidth=(0,d.getStringWidth)(P.text,P.styles,b)+q;var z=(0,d.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,b);if(P.minReadableWidth=z+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||N===!0)P.contentWidth>S?(P.minWidth=S,P.wrappedWidth=S):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var I=10/_;P.minWidth=P.styles.minCellWidth||I,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),j.allRows().forEach(function(T){for(var k=0,V=j.columns;k<V.length;k++){var C=V[k],P=T.cells[C.index];if(P&&P.colSpan===1)C.wrappedWidth=Math.max(C.wrappedWidth,P.wrappedWidth),C.minWidth=Math.max(C.minWidth,P.minWidth),C.minReadableWidth=Math.max(C.minReadableWidth,P.minReadableWidth);else{var U=j.styles.columnStyles[C.dataKey]||j.styles.columnStyles[C.index]||{},q=U.cellWidth||U.minCellWidth;q&&typeof q=="number"&&(C.minWidth=q,C.wrappedWidth=q)}P&&(P.colSpan>1&&!C.minWidth&&(C.minWidth=P.minWidth),P.colSpan>1&&!C.wrappedWidth&&(C.wrappedWidth=P.minWidth))}})}function p(b,j,_){for(var N=j,S=b.reduce(function(I,R){return I+R.wrappedWidth},0),T=0;T<b.length;T++){var k=b[T],V=k.wrappedWidth/S,C=N*V,P=k.width+C,U=_(k),q=P<U?U:P;j-=q-k.width,k.width=q}if(j=Math.round(j*1e10)/1e10,j){var z=b.filter(function(I){return j<0?I.width>_(I):!0});z.length&&(j=p(z,j,_))}return j}c.resizeColumns=p;function v(b){for(var j={},_=1,N=b.allRows(),S=0;S<N.length;S++)for(var T=N[S],k=0,V=b.columns;k<V.length;k++){var C=V[k],P=j[C.index];if(_>1)_--,delete T.cells[C.index];else if(P)P.cell.height+=T.height,_=P.cell.colSpan,delete T.cells[C.index],P.left--,P.left<=1&&delete j[C.index];else{var U=T.cells[C.index];if(!U)continue;if(U.height=T.height,U.rowSpan>1){var q=N.length-S,z=U.rowSpan>q?q:U.rowSpan;j[C.index]={cell:U,left:z,row:T}}}}}function m(b){for(var j=b.allRows(),_=0;_<j.length;_++)for(var N=j[_],S=null,T=0,k=0,V=0;V<b.columns.length;V++){var C=b.columns[V];if(k-=1,k>1&&b.columns[V+1])T+=C.width,delete N.cells[C.index];else if(S){var P=S;delete N.cells[C.index],S=null,P.width=C.width+T}else{var P=N.cells[C.index];if(!P)continue;if(k=P.colSpan,T=0,P.colSpan>1){S=P,T+=C.width;continue}P.width=C.width+T}}}function x(b,j){for(var _={count:0,height:0},N=0,S=b.allRows();N<S.length;N++){for(var T=S[N],k=0,V=b.columns;k<V.length;k++){var C=V[k],P=T.cells[C.index];if(P){j.applyStyles(P.styles,!0);var U=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=j.splitTextToSize(P.text,U+1/j.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=g(P.text,U,P.styles,j,"...");else if(P.styles.overflow==="hidden")P.text=g(P.text,U,P.styles,j,"");else if(typeof P.styles.overflow=="function"){var q=P.styles.overflow(P.text,U);typeof q=="string"?P.text=[q]:P.text=q}P.contentHeight=P.getContentHeight(j.scaleFactor(),j.getLineHeightFactor());var z=P.contentHeight/P.rowSpan;P.rowSpan>1&&_.count*_.height<z*P.rowSpan?_={height:z,count:P.rowSpan}:_&&_.count>0&&_.height>z&&(z=_.height),z>T.height&&(T.height=z)}}_.count--}}function g(b,j,_,N,S){return b.map(function(T){return y(T,j,_,N,S)})}c.ellipsize=g;function y(b,j,_,N,S){var T=1e4*N.scaleFactor();if(j=Math.ceil(j*T)/T,j>=(0,d.getStringWidth)(b,_,N))return b;for(;j<(0,d.getStringWidth)(b+S,_,N)&&!(b.length<=1);)b=b.substring(0,b.length-1);return b.trim()+S}},964:function(l){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=r}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var u=a[l]={exports:{}};return n[l].call(u.exports,u,u.exports,i),u.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),u=i(776),d=i(664),f=i(972),h=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return h.Table}});var p=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var v=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return v.Row}});function m(j){(0,c.default)(j)}l.applyPlugin=m;function x(j,_){var N=(0,u.parseInput)(j,_),S=(0,f.createTable)(j,N);(0,d.drawTable)(j,S)}function g(j,_){var N=(0,u.parseInput)(j,_);return(0,f.createTable)(j,N)}l.__createTable=g;function y(j,_){(0,d.drawTable)(j,_)}l.__drawTable=y;try{var b=i(964);b.jsPDF&&(b=b.jsPDF),m(b)}catch{}l.default=x}(),o}()})})(CBe);const vy=async(e,t,r=null,n=null)=>{try{await Te.from("activity_logs").insert([{action:e,details:t,entity_type:r,entity_id:n}])}catch(a){console.error("Failed to log activity:",a)}},kBe=()=>{const{toast:e}=Tr(),[t,r]=O.useState(!1);O.useState("pdf");const n=async()=>{r(!0);try{const{data:l}=await Te.from("students").select("*"),c=new Vt;c.text("Student Report",14,15);const u=l.map(d=>[d.name,d.class,d.teacher,d.father_phone||"N/A"]);c.autoTable({head:[["Name","Class","Teacher","Contact"]],body:u,startY:20}),c.save(`students_report_${new Date().toISOString().split("T")[0]}.pdf`),await vy("Generated Student Report","PDF export of all students"),e({title:"Success",description:"Report generated successfully"})}catch(l){console.error(l),e({variant:"destructive",title:"Error",description:"Failed to generate report"})}finally{r(!1)}},a=async()=>{r(!0);try{const{data:l}=await Te.from("issues").select("*, students(name)"),c=new Vt;c.text("Issues Report",14,15);const u=l.map(d=>{var f;return[d.title,(f=d.students)==null?void 0:f.name,d.priority,d.status,new Date(d.created_at).toLocaleDateString()]});c.autoTable({head:[["Title","Student","Priority","Status","Date"]],body:u,startY:20,styles:{fontSize:8}}),c.save(`issues_report_${new Date().toISOString().split("T")[0]}.pdf`),await vy("Generated Issues Report","PDF export of all issues"),e({title:"Success",description:"Report generated successfully"})}catch{e({variant:"destructive",title:"Error",description:"Failed to generate report"})}finally{r(!1)}},i=async l=>{r(!0);try{const{data:c}=await Te.from(l).select("*");if(!c||c.length===0){e({title:"No Data",description:"No records to export"});return}const u=Object.keys(c[0]).join(","),d=c.map(m=>Object.values(m).map(x=>`"${x}"`).join(",")),f=[u,...d].join(`
`),h=new Blob([f],{type:"text/csv"}),p=window.URL.createObjectURL(h),v=document.createElement("a");v.href=p,v.download=`${l}_export_${new Date().toISOString().split("T")[0]}.csv`,v.click(),await vy(`Exported ${l}`,"CSV export"),e({title:"Success",description:"CSV exported successfully"})}catch{e({variant:"destructive",title:"Error",description:"Export failed"})}finally{r(!1)}},o=async()=>{r(!0);try{const l=["students","issues","grades","meetings","call_logs","teacher_remarks","attendance"],c={};for(const h of l){const{data:p}=await Te.from(h).select("*");c[h]=p}const u=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),d=window.URL.createObjectURL(u),f=document.createElement("a");f.href=d,f.download=`full_backup_${new Date().toISOString()}.json`,f.click(),await vy("System Backup","Full system JSON export"),e({title:"Backup Complete",description:"System data downloaded"})}catch{e({variant:"destructive",title:"Error",description:"Backup failed"})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Reports & Exports"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Generate insights and manage data exports"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsxs(sr,{className:"flex items-center gap-2",children:[s.jsx(Ts,{size:20})," PDF Reports"]}),s.jsx(Sa,{children:"Formatted documents for printing"})]}),s.jsxs(Xe,{className:"space-y-3",children:[s.jsxs(Ne,{variant:"outline",className:"w-full justify-between",onClick:n,disabled:t,children:["All Students List ",s.jsx(Ad,{size:16})]}),s.jsxs(Ne,{variant:"outline",className:"w-full justify-between",onClick:a,disabled:t,children:["Issues Report ",s.jsx(Ad,{size:16})]})]})]}),s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsxs(sr,{className:"flex items-center gap-2",children:[s.jsx(iB,{size:20})," Data Exports (CSV)"]}),s.jsx(Sa,{children:"Raw data for analysis in Excel"})]}),s.jsxs(Xe,{className:"space-y-3",children:[s.jsxs(Ne,{variant:"outline",className:"w-full justify-between",onClick:()=>i("students"),disabled:t,children:["Students Data ",s.jsx(Ad,{size:16})]}),s.jsxs(Ne,{variant:"outline",className:"w-full justify-between",onClick:()=>i("grades"),disabled:t,children:["Grades Data ",s.jsx(Ad,{size:16})]}),s.jsxs(Ne,{variant:"outline",className:"w-full justify-between",onClick:()=>i("attendance"),disabled:t,children:["Attendance Data ",s.jsx(Ad,{size:16})]})]})]}),s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsxs(sr,{className:"flex items-center gap-2",children:[s.jsx(lC,{size:20})," System"]}),s.jsx(Sa,{children:"Backup and maintenance"})]}),s.jsx(Xe,{className:"space-y-3",children:s.jsx(Ne,{className:"w-full bg-slate-800 hover:bg-slate-700",onClick:o,disabled:t,children:"Full System Backup (JSON)"})})]})]})]})},PBe=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{const{data:i}=await Te.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(50);t(i||[]),n(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Activity Log"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Recent system actions and audits"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b bg-slate-50 flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[s.jsx(wre,{size:18})," Recent Actions"]}),s.jsx("span",{className:"text-xs text-slate-500",children:"Last 50 records"})]}),s.jsx("div",{className:"divide-y divide-slate-100",children:e.length===0?s.jsx("div",{className:"p-8 text-center text-slate-500",children:"No activity recorded yet."}):e.map(i=>s.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-800",children:i.action}),s.jsx("p",{className:"text-sm text-slate-600",children:i.details})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"text-xs text-slate-400",children:new Date(i.created_at).toLocaleString()})})]})},i.id))})]})]})},OBe=[{value:"text",label:"Short Text",icon:Ore},{value:"textarea",label:"Long Text",icon:nre},{value:"number",label:"Number",icon:bre},{value:"date",label:"Date",icon:Ps},{value:"select",label:"Dropdown",icon:oC},{value:"checkbox",label:"Checkbox",icon:zd}],FBe=()=>{const{toast:e}=Tr(),[t,r]=O.useState([]),[n,a]=O.useState(!1),[i,o]=O.useState(null),[l,c]=O.useState({name:"",description:"",schema:[]});O.useEffect(()=>{u()},[]);const u=async()=>{const{data:x,error:g}=await Te.from("assessment_templates").select("*").order("created_at",{ascending:!1});g||r(x||[])},d=()=>{c(x=>({...x,schema:[...x.schema,{id:crypto.randomUUID(),type:"text",label:"New Question",required:!1,options:[]}]}))},f=x=>{const g=[...l.schema];g.splice(x,1),c(y=>({...y,schema:g}))},h=(x,g,y)=>{const b=[...l.schema];b[x]={...b[x],[g]:y},c(j=>({...j,schema:b}))},p=async()=>{if(!l.name){e({variant:"destructive",title:"Error",description:"Template name is required"});return}const{error:x}=await Te.from("assessment_templates").upsert([l]);x?e({variant:"destructive",title:"Error",description:"Failed to save template"}):(e({title:"Success",description:"Template saved successfully"}),a(!1),c({name:"",description:"",schema:[]}),u())},v=x=>{c(x),a(!0)},m=async x=>{const{error:g}=await Te.from("assessment_templates").delete().eq("id",x);g||(e({title:"Deleted",description:"Template removed"}),o(null),u())};return n?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:l.id?"Edit Template":"New Template"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsxs(Ne,{onClick:p,children:[s.jsx(mw,{className:"mr-2 h-4 w-4"})," Save Template"]})]})]}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Template Name"}),s.jsx(Ge,{value:l.name,onChange:x=>c(g=>({...g,name:x.target.value})),placeholder:"e.g., Weekly Gemara Assessment"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Description"}),s.jsx(Ge,{value:l.description,onChange:x=>c(g=>({...g,description:x.target.value})),placeholder:"Brief description of this template"})]})]})}),s.jsx("div",{className:"space-y-4",children:l.schema.map((x,g)=>{var y;return s.jsxs(Ye,{className:"relative group",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-slate-300 rounded-l-lg group-hover:bg-blue-500 transition-colors"}),s.jsxs(Xe,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"flex items-center gap-2 text-slate-400",children:s.jsxs("span",{className:"text-xs font-mono",children:["#",g+1]})}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-600",onClick:()=>f(g),children:s.jsx(za,{size:16})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[s.jsxs("div",{className:"md:col-span-6",children:[s.jsx(ve,{children:"Field Label / Question"}),s.jsx(Ge,{value:x.label,onChange:b=>h(g,"label",b.target.value),placeholder:"Enter question here..."})]}),s.jsxs("div",{className:"md:col-span-4",children:[s.jsx(ve,{children:"Field Type"}),s.jsxs(wt,{value:x.type,onValueChange:b=>h(g,"type",b),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:OBe.map(b=>s.jsx(Le,{value:b.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b.icon,{size:14})," ",b.label]})},b.value))})]})]}),s.jsx("div",{className:"md:col-span-2 flex items-center pt-6",children:s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm",children:[s.jsx("input",{type:"checkbox",checked:x.required,onChange:b=>h(g,"required",b.target.checked),className:"rounded border-slate-300"}),"Required"]})}),x.type==="select"&&s.jsxs("div",{className:"md:col-span-12 bg-slate-50 p-3 rounded-md",children:[s.jsx(ve,{className:"text-xs text-slate-500",children:"Options (comma separated)"}),s.jsx(Ge,{value:((y=x.options)==null?void 0:y.join(", "))||"",onChange:b=>h(g,"options",b.target.value.split(",").map(j=>j.trim())),placeholder:"Option 1, Option 2, Option 3"})]})]})]})]},x.id)})}),s.jsxs(Ne,{variant:"outline",className:"w-full py-8 border-dashed",onClick:d,children:[s.jsx(Zr,{className:"mr-2 h-4 w-4"})," Add Field"]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Assessment Templates"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Create and manage custom evaluation forms"})]}),s.jsxs(Ne,{onClick:()=>a(!0),children:[s.jsx(Zr,{className:"mr-2 h-4 w-4"})," Create New Template"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(x=>{var g;return s.jsxs(Ye,{className:"hover:shadow-lg transition-all",children:[s.jsxs(ir,{children:[s.jsx(sr,{children:x.name}),s.jsx("p",{className:"text-sm text-slate-500",children:x.description||"No description"})]}),s.jsx(Xe,{children:s.jsxs("p",{className:"text-xs text-slate-400",children:[((g=x.schema)==null?void 0:g.length)||0," fields configured"]})}),s.jsxs(rv,{className:"flex justify-end gap-2",children:[s.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>v(x),children:"Edit"}),i===x.id?s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Ne,{size:"sm",variant:"destructive",onClick:()=>m(x.id),children:"Confirm"}),s.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>o(null),children:"Cancel"})]}):s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>o(x.id),children:"Delete"})]})]},x.id)}),t.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-slate-400 bg-slate-50 rounded-lg border-2 border-dashed",children:"No templates found. Create one to get started."})]})]})},DBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(!0),[p,v]=O.useState(!1),[m,x]=O.useState(null),[g,y]=O.useState({name:"",grade_id:"",hebrew_teacher_id:"",english_teacher_id:"",academic_year:"2024-2025",is_active:!0}),[b,j]=O.useState(!1),[_,N]=O.useState(null),[S,T]=O.useState(""),[k,V]=O.useState(!1);O.useEffect(()=>{C()},[]);const C=async()=>{h(!0);try{const{data:J,error:A}=await Te.from("classes").select(`
          *,
          grade:grades(id, name, grade_number),
          hebrew_teacher:app_users!hebrew_teacher_id(id, first_name, last_name),
          english_teacher:app_users!english_teacher_id(id, first_name, last_name),
          students:students!class_id(id)
        `).order("name");if(A)throw A;const M=(J||[]).map(ae=>{var fe;return{...ae,student_count:((fe=ae.students)==null?void 0:fe.length)||0}});a(M);const{data:K,error:L}=await Te.from("grades").select("*").order("grade_number");if(L)throw L;o(K||[]);const{data:Y,error:Z}=await Te.from("app_users").select("id, first_name, last_name, role").in("role",["teacher_hebrew","teacher_english","teacher","admin","principal","principal_hebrew","principal_english"]).eq("is_active",!0).order("last_name");if(Z)throw Z;c(Y||[]);const{data:se,error:W}=await Te.from("staff_members").select("*").eq("is_active",!0).order("last_name");W||(d(se||[]),console.log("Staff loaded:",se==null?void 0:se.length,"members"))}catch(J){console.error("Error loading data:",J),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{h(!1)}},P=(J=null)=>{J?(x(J),y({name:J.name||"",grade_id:J.grade_id||"",hebrew_teacher_id:J.hebrew_teacher_id||"",english_teacher_id:J.english_teacher_id||"",academic_year:J.academic_year||"2024-2025",is_active:J.is_active!==!1})):(x(null),y({name:"",grade_id:"",hebrew_teacher_id:"",english_teacher_id:"",academic_year:"2024-2025",is_active:!0})),v(!0)},U=async()=>{if(!g.name||!g.grade_id){r({variant:"destructive",title:"Error",description:"Please fill in class name and grade"});return}try{const J={name:g.name,grade_id:g.grade_id,hebrew_teacher_id:g.hebrew_teacher_id||null,english_teacher_id:g.english_teacher_id||null,academic_year:g.academic_year,is_active:g.is_active};if(m){const{error:A}=await Te.from("classes").update(J).eq("id",m.id);if(A)throw A;r({title:"Success",description:"Class updated"})}else{const{error:A}=await Te.from("classes").insert([J]);if(A)throw A;r({title:"Success",description:"Class created"})}v(!1),C()}catch(J){console.error("Error saving class:",J),r({variant:"destructive",title:"Error",description:"Failed to save class"})}},q=async J=>{if(confirm("Are you sure you want to delete this class? Students will be unassigned."))try{const{error:A}=await Te.from("classes").delete().eq("id",J);if(A)throw A;r({title:"Success",description:"Class deleted"}),C()}catch(A){console.error("Error deleting class:",A),r({variant:"destructive",title:"Error",description:"Failed to delete class"})}},z=J=>{N(J),T(""),j(!0)},I=J=>{if(!(J!=null&&J.grade))return[];const A=J.grade.grade_number,M=i.find(K=>K.grade_number===A+1);return M?n.filter(K=>K.grade_id===M.id):[]},R=async()=>{if(!_||!S){r({variant:"destructive",title:"Error",description:"Please select a target class"});return}V(!0);try{const{data:J,error:A}=await Te.from("students").select("id").eq("class_id",_.id);if(A)throw A;if(!J||J.length===0){r({variant:"destructive",title:"No Students",description:"No students to promote in this class"}),V(!1);return}const{error:M}=await Te.from("students").update({class_id:S,previous_class_id:_.id,promoted_at:new Date().toISOString(),promoted_by:t==null?void 0:t.id}).eq("class_id",_.id);if(M)throw M;r({title:"Success",description:`${J.length} students promoted to new class`}),j(!1),C()}catch(J){console.error("Error promoting students:",J),r({variant:"destructive",title:"Error",description:"Failed to promote students"})}finally{V(!1)}},G=u.filter(J=>["Melamed","Melamed / Driver","Menahal","Sgan Menahal","Principal","Chinuch Mychud"].includes(J.position)),F=u.filter(J=>["English Teacher","Principal","Menahal","Sgan Menahal","Curriculum Implementer"].includes(J.position)),H=i.map(J=>({...J,classes:n.filter(A=>A.grade_id===J.id)}));return f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Classes Management"}),s.jsx("p",{className:"text-slate-500",children:"Manage classes and assign teachers"})]}),s.jsxs(Ne,{onClick:()=>P(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Add Class"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(m0,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Classes"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ia,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((J,A)=>J+A.student_count,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Students"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(sC,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Grade Levels"})]})]})})]}),s.jsx("div",{className:"space-y-6",children:H.map(J=>s.jsxs(Ye,{children:[s.jsx(ir,{className:"pb-3",children:s.jsxs(sr,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:J.name}),s.jsxs(Ct,{variant:"outline",children:[J.classes.length," classes"]})]})}),s.jsx(Xe,{children:J.classes.length===0?s.jsx("p",{className:"text-slate-400 text-sm italic py-4",children:"No classes in this grade yet"}):s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Class Name"}),s.jsx(dt,{children:"Hebrew Teacher"}),s.jsx(dt,{children:"English Teacher"}),s.jsx(dt,{className:"text-center",children:"Students"}),s.jsx(dt,{className:"text-center",children:"Year"}),s.jsx(dt,{className:"text-right",children:"Actions"})]})}),s.jsx(Ba,{children:J.classes.map(A=>{var M,K,L,Y;return s.jsxs(br,{children:[s.jsx(ct,{className:"font-semibold",children:A.name}),s.jsx(ct,{children:A.hebrew_teacher?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"h-7 w-7 rounded-full bg-blue-100 flex items-center justify-center text-xs text-blue-700 font-medium",children:[(M=A.hebrew_teacher.first_name)==null?void 0:M.charAt(0),(K=A.hebrew_teacher.last_name)==null?void 0:K.charAt(0)]}),s.jsxs("span",{className:"text-sm",children:[A.hebrew_teacher.first_name," ",A.hebrew_teacher.last_name]})]}):s.jsx("span",{className:"text-slate-400 text-sm",children:"Not assigned"})}),s.jsx(ct,{children:A.english_teacher?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"h-7 w-7 rounded-full bg-green-100 flex items-center justify-center text-xs text-green-700 font-medium",children:[(L=A.english_teacher.first_name)==null?void 0:L.charAt(0),(Y=A.english_teacher.last_name)==null?void 0:Y.charAt(0)]}),s.jsxs("span",{className:"text-sm",children:[A.english_teacher.first_name," ",A.english_teacher.last_name]})]}):s.jsx("span",{className:"text-slate-400 text-sm",children:"Not assigned"})}),s.jsx(ct,{className:"text-center",children:s.jsx(Ct,{variant:"secondary",children:A.student_count})}),s.jsx(ct,{className:"text-center text-sm text-slate-500",children:A.academic_year}),s.jsx(ct,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-purple-600",onClick:()=>z(A),title:"Promote students to next grade",children:s.jsx(Hj,{className:"h-4 w-4"})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>P(A),children:s.jsx(ma,{className:"h-4 w-4"})}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>q(A.id),children:s.jsx(za,{className:"h-4 w-4"})})]})})]},A.id)})})]})})]},J.id))}),i.length===0&&s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-12 text-center text-slate-500",children:[s.jsx(m0,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No grades defined yet"}),s.jsx("p",{className:"text-sm",children:"Please create grade levels first in the Grades section"})]})}),s.jsx(Zt,{open:p,onOpenChange:v,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:m?"Edit Class":"Add New Class"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Class Name *"}),s.jsx(Ge,{value:g.name,onChange:J=>y({...g,name:J.target.value}),placeholder:"e.g., 1A, 2B"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Grade *"}),s.jsxs(wt,{value:g.grade_id,onValueChange:J=>y({...g,grade_id:J}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select grade"})}),s.jsx(bt,{children:i.map(J=>s.jsx(Le,{value:J.id,children:J.name},J.id))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ve,{children:["Hebrew Teacher (",G.length," available)"]}),s.jsxs(wt,{value:g.hebrew_teacher_id||"none",onValueChange:J=>y({...g,hebrew_teacher_id:J==="none"?"":J}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select Hebrew teacher"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"none",children:"Not assigned"}),G.length===0?s.jsx(Le,{value:"no-teachers",disabled:!0,children:"No Hebrew teachers in staff"}):G.map(J=>s.jsxs(Le,{value:J.id,children:[J.first_name," ",J.last_name," (",J.position,")"]},J.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ve,{children:["English Teacher (",F.length," available)"]}),s.jsxs(wt,{value:g.english_teacher_id||"none",onValueChange:J=>y({...g,english_teacher_id:J==="none"?"":J}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select English teacher"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"none",children:"Not assigned"}),F.length===0?s.jsx(Le,{value:"no-teachers",disabled:!0,children:"No English teachers in staff"}):F.map(J=>s.jsxs(Le,{value:J.id,children:[J.first_name," ",J.last_name," (",J.position,")"]},J.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Academic Year"}),s.jsxs(wt,{value:g.academic_year,onValueChange:J=>y({...g,academic_year:J}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"2024-2025",children:"2024-2025"}),s.jsx(Le,{value:"2025-2026",children:"2025-2026"})]})]})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(Ne,{onClick:U,className:"bg-blue-600 hover:bg-blue-700",children:m?"Update":"Create Class"})]})]})}),s.jsx(Zt,{open:b,onOpenChange:j,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(Hj,{className:"h-5 w-5 text-purple-600"}),"Promote Students"]}),s.jsxs(Nl,{children:["Move all students from ",_==null?void 0:_.name," to the next grade level"]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsxs("p",{className:"text-sm text-purple-800",children:[s.jsx("strong",{children:"Current Class:"})," ",_==null?void 0:_.name]}),s.jsxs("p",{className:"text-sm text-purple-800",children:[s.jsx("strong",{children:"Students to promote:"})," ",(_==null?void 0:_.student_count)||0]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Select Target Class (Next Grade)"}),s.jsxs(wt,{value:S,onValueChange:T,children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Choose next year's class"})}),s.jsx(bt,{children:I(_).map(J=>{var A;return s.jsxs(Le,{value:J.id,children:[J.name," (",(A=J.grade)==null?void 0:A.name,") - ",J.student_count," students"]},J.id)})})]}),_&&I(_).length===0&&s.jsx("p",{className:"text-sm text-amber-600",children:"No classes found in the next grade. This may be the highest grade."})]}),s.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-amber-800",children:[s.jsx("strong",{children:" Warning:"})," This will move ALL students from ",_==null?void 0:_.name," to the selected class. This action is typically done at the end of the school year."]})})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Ne,{onClick:R,className:"bg-purple-600 hover:bg-purple-700",disabled:!S||k,children:k?s.jsxs(s.Fragment,{children:[s.jsx(lC,{className:"h-4 w-4 mr-2 animate-spin"}),"Promoting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Hj,{className:"h-4 w-4 mr-2"}),"Promote Students"]})})]})]})})]})};var LBe="Separator",EM="horizontal",IBe=["horizontal","vertical"],bK=O.forwardRef((e,t)=>{const{decorative:r,orientation:n=EM,...a}=e,i=MBe(n)?n:EM,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(jr.div,{"data-orientation":i,...l,...a,ref:t})});bK.displayName=LBe;function MBe(e){return IBe.includes(e)}var wK=bK;const RBe=O.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(wK,{ref:a,decorative:r,orientation:t,className:wr("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));RBe.displayName=wK.displayName;const $Be=()=>{const[e,t]=O.useState(!0),[r,n]=O.useState(!1),[a,i]=O.useState({name:"",address:"",phone:"",email:"",website:""}),[o,l]=O.useState({current:"",terms:[]}),{toast:c}=Tr();O.useEffect(()=>{u()},[]);const u=async()=>{var f,h;try{t(!0);const{data:p,error:v}=await Te.from("system_settings").select("*");if(v)throw v;if(p){const m=((f=p.find(g=>g.key==="school_info"))==null?void 0:f.value)||{},x=((h=p.find(g=>g.key==="academic_year"))==null?void 0:h.value)||{};i({name:m.name||"",address:m.address||"",phone:m.phone||"",email:m.email||"",website:m.website||""}),l({current:x.current||"2024-2025",terms:x.terms||["Fall","Spring"]})}}catch(p){console.error("Error fetching settings:",p),c({variant:"destructive",title:"Error",description:"Failed to load system settings."})}finally{t(!1)}},d=async()=>{n(!0);try{const{error:f}=await Te.from("system_settings").upsert({key:"school_info",value:a,description:"General school information"});if(f)throw f;c({title:"Settings Saved",description:"School information has been updated successfully."})}catch(f){c({variant:"destructive",title:"Save Failed",description:f.message})}finally{n(!1)}};return e?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(Sn,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto pb-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"System Settings"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage global configuration for the school system"})]}),s.jsxs(Jo,{defaultValue:"general",className:"w-full",children:[s.jsxs(uo,{className:"mb-4",children:[s.jsxs(vr,{value:"general",className:"flex items-center gap-2",children:[s.jsx(m0,{className:"w-4 h-4"})," General Info"]}),s.jsxs(vr,{value:"academic",className:"flex items-center gap-2",children:[s.jsx(Ps,{className:"w-4 h-4"})," Academic Year"]}),s.jsxs(vr,{value:"appearance",className:"flex items-center gap-2",children:[s.jsx(oO,{className:"w-4 h-4"})," Appearance"]})]}),s.jsx(Ur,{value:"general",children:s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsx(sr,{children:"School Information"}),s.jsx(Sa,{children:"These details will appear on reports, headers, and official communications."})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"schoolName",children:"School Name"}),s.jsx(Ge,{id:"schoolName",value:a.name,onChange:f=>i({...a,name:f.target.value}),placeholder:"e.g. Beis Yaakov Academy"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"address",children:"Address"}),s.jsx(Ge,{id:"address",value:a.address,onChange:f=>i({...a,address:f.target.value}),placeholder:"123 Education Lane"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Ge,{id:"phone",value:a.phone,onChange:f=>i({...a,phone:f.target.value}),placeholder:"(555) 123-4567"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"email",children:"Contact Email"}),s.jsx(Ge,{id:"email",type:"email",value:a.email,onChange:f=>i({...a,email:f.target.value}),placeholder:"office@school.edu"})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"website",children:"Website"}),s.jsxs("div",{className:"relative",children:[s.jsx(xre,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),s.jsx(Ge,{id:"website",className:"pl-9",value:a.website,onChange:f=>i({...a,website:f.target.value}),placeholder:"www.school.edu"})]})]})]}),s.jsx(rv,{className:"flex justify-end border-t p-6 bg-slate-50 rounded-b-lg",children:s.jsxs(Ne,{onClick:d,disabled:r,children:[r?s.jsx(Sn,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(mw,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})}),s.jsx(Ur,{value:"academic",children:s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsx(sr,{children:"Academic Configuration"}),s.jsx(Sa,{children:"Configure the current school year and terms."})]}),s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"year",children:"Current Academic Year"}),s.jsx(Ge,{id:"year",value:o.current,onChange:f=>l({...o,current:f.target.value}),placeholder:"2024-2025"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{children:"Active Terms"}),s.jsx("div",{className:"text-sm text-slate-500 italic",children:"Term management functionality coming soon in the next update."})]})]}),s.jsx(rv,{className:"flex justify-end border-t p-6 bg-slate-50 rounded-b-lg",children:s.jsx(Ne,{disabled:!0,variant:"outline",children:"Save Configuration (Coming Soon)"})})]})}),s.jsx(Ur,{value:"appearance",children:s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsx(sr,{children:"System Appearance"}),s.jsx(Sa,{children:"Customize the look and feel of the application."})]}),s.jsx(Xe,{children:s.jsxs("div",{className:"p-8 text-center text-slate-500 bg-slate-50 rounded-lg border border-dashed border-slate-200",children:[s.jsx(oO,{className:"mx-auto h-12 w-12 text-slate-300 mb-2"}),s.jsx("p",{children:"Theme customization features are currently under development."})]})})]})})]})]})},xy=[{value:"principal",label:"Principal (General)",color:"bg-purple-100 text-purple-800 border-purple-200"},{value:"principal_hebrew",label:"Principal Hebrew",color:"bg-purple-100 text-purple-800 border-purple-200"},{value:"principal_english",label:"Principal English",color:"bg-purple-100 text-purple-800 border-purple-200"},{value:"admin",label:"Admin",color:"bg-red-100 text-red-800 border-red-200"},{value:"teacher",label:"Teacher (General)",color:"bg-blue-100 text-blue-800 border-blue-200"},{value:"teacher_hebrew",label:"Teacher Hebrew",color:"bg-blue-100 text-blue-800 border-blue-200"},{value:"teacher_english",label:"Teacher English",color:"bg-blue-100 text-blue-800 border-blue-200"},{value:"tutor",label:"Tutor",color:"bg-green-100 text-green-800 border-green-200"},{value:"special_ed",label:"Special Education",color:"bg-orange-100 text-orange-800 border-orange-200"}],BBe=[{id:"students",label:"Students"},{id:"todos",label:"To-Do List"},{id:"grades",label:"Grades"},{id:"classes",label:"Classes"},{id:"class-detail",label:"Class Detail"},{id:"issues",label:"Issues"},{id:"calls",label:"Phone Calls"},{id:"meetings",label:"Meetings"},{id:"staff",label:"Staff Directory"},{id:"users",label:"User Management"},{id:"special-ed",label:"Special Education"},{id:"late-tracking",label:"Late Tracking"},{id:"bus-changes",label:"Bus Changes"},{id:"reminders",label:"Reminders"},{id:"books",label:"Books"},{id:"fees",label:"Fees & Trips"},{id:"payments",label:"Payments"},{id:"financial-reports",label:"Financial Reports"},{id:"reports",label:"Reports"},{id:"settings",label:"Settings"}],zBe=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(!0),[a,i]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(null),[d,f]=O.useState(""),[h,p]=O.useState({email:"",password:"",name:"",role:"teacher",assigned_class:""}),[v,m]=O.useState(!1),[x,g]=O.useState(!1),[y,b]=O.useState(null),{toast:j}=Tr(),{user:_}=cw();O.useEffect(()=>{N()},[]);const N=async()=>{try{n(!0);const{data:I,error:R}=await Te.from("app_users").select("*").order("email",{ascending:!0});if(R)throw R;t(I||[])}catch(I){console.error("Error fetching users:",I),j({variant:"destructive",title:"Error",description:"Failed to load users list."})}finally{n(!1)}},S=async I=>{var R;I.preventDefault(),m(!0);try{const G=await fetch("/api/create-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email,password:h.password,name:h.name,role:h.role,assigned_class:h.assigned_class||null})}),F=await G.json();if(!G.ok)throw new Error(F.error||"Failed to create user");F.warning?j({variant:"destructive",title:"Partial Success",description:F.warning}):j({title:"User Created",description:`Account for ${h.email} has been created with role: ${((R=xy.find(H=>H.value===h.role))==null?void 0:R.label)||h.role}.`}),i(!1),p({email:"",password:"",name:"",role:"teacher",assigned_class:""}),N()}catch(G){j({variant:"destructive",title:"Creation Failed",description:G.message})}finally{m(!1)}},T=async()=>{if(c){g(!0);try{const I=await fetch("/api/update-user-role",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:c.id,role:c.role,assigned_class:c.assigned_class||null})}),R=await I.json();if(!I.ok)throw new Error(R.error||"Failed to update role");const{error:G}=await Te.from("app_users").update({custom_permissions:c.custom_permissions||null}).eq("id",c.id);G&&console.error("Could not save custom_permissions:",G),j({title:"User Updated",description:`${c.name||c.email}'s role and permissions updated.`}),l(!1),u(null),N()}catch(I){j({variant:"destructive",title:"Update Failed",description:I.message})}finally{g(!1)}}},k=I=>{u({...I,custom_permissions:I.custom_permissions||{}}),l(!0)},V=I=>{if(!c)return;const G={...c.custom_permissions||{}};G[I]===!0?delete G[I]:(G[I],G[I]=!0),u({...c,custom_permissions:G})},C=I=>{if(!c)return;const G={...c.custom_permissions||{}};G[I]===!1?delete G[I]:G[I]=!1,u({...c,custom_permissions:G})},P=async I=>{if(window.confirm("Are you sure? This will remove the user's access."))try{const{error:R}=await Te.from("app_users").delete().eq("id",I);if(R)throw R;j({title:"User Removed",description:"The user has been deleted from the system."}),N()}catch{j({variant:"destructive",title:"Error",description:"Could not delete user."})}},U=async I=>{if(window.confirm(`Send password reset email to ${I.email}?`)){b(I.id);try{const{error:R}=await Te.auth.resetPasswordForEmail(I.email,{redirectTo:window.location.origin+"/reset-password"});if(R)throw R;j({title:"Email Sent",description:`Password reset instructions sent to ${I.email}`})}catch(R){j({variant:"destructive",title:"Error",description:R.message})}finally{b(null)}}},q=I=>{const R=xy.find(G=>G.value===I);return R?s.jsx(Ct,{className:R.color,children:R.label}):s.jsx(Ct,{className:"bg-gray-100 text-gray-800",children:I?I.toUpperCase():"UNKNOWN"})},z=e.filter(I=>{if(!d)return!0;const R=d.toLowerCase();return(I.name||"").toLowerCase().includes(R)||(I.email||"").toLowerCase().includes(R)||(I.role||"").toLowerCase().includes(R)});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"User Management"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Manage principals, teachers, tutors, and system access"})]}),s.jsxs(Ne,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(lB,{className:"mr-2 h-4 w-4"})," Add New User"]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs(Ye,{children:[s.jsx(ir,{className:"pb-2",children:s.jsx(sr,{className:"text-sm font-medium text-slate-500",children:"Total Users"})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(Ye,{children:[s.jsx(ir,{className:"pb-2",children:s.jsx(sr,{className:"text-sm font-medium text-slate-500",children:"Principals & Admins"})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(I=>["admin","principal","principal_hebrew","principal_english"].includes(I.role)).length})})]}),s.jsxs(Ye,{children:[s.jsx(ir,{className:"pb-2",children:s.jsx(sr,{className:"text-sm font-medium text-slate-500",children:"Teachers & Tutors"})}),s.jsx(Xe,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(I=>["teacher","teacher_hebrew","teacher_english","tutor","special_ed"].includes(I.role)).length})})]})]}),s.jsx(Ye,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{placeholder:"Search by name, email, or role...",value:d,onChange:I=>f(I.target.value),className:"pl-10"})]})})}),s.jsxs(Ye,{className:"shadow-sm",children:[s.jsxs(ir,{children:[s.jsx(sr,{children:"All System Users"}),s.jsx(Sa,{children:"View and manage all registered accounts. Click Edit to change roles."})]}),s.jsx(Xe,{children:r?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(Sn,{className:"animate-spin h-8 w-8 text-blue-500"})}):s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"User"}),s.jsx(dt,{children:"Role"}),s.jsx(dt,{children:"Assignments"}),s.jsx(dt,{className:"text-right",children:"Actions"})]})}),s.jsxs(Ba,{children:[z.map(I=>s.jsxs(br,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-slate-800",children:I.name||"Unknown Name"}),s.jsx("span",{className:"text-xs text-slate-500",children:I.email})]})}),s.jsx(ct,{children:q(I.role)}),s.jsxs(ct,{children:[I.assigned_class?s.jsx(Ct,{variant:"outline",className:"text-xs",children:I.assigned_class}):s.jsx("span",{className:"text-slate-400 text-xs",children:"-"}),I.custom_permissions&&Object.keys(I.custom_permissions).length>0&&s.jsxs(Ct,{className:"ml-1 bg-indigo-100 text-indigo-700 text-xs",children:[s.jsx(lO,{className:"h-3 w-3 mr-0.5"}),Object.keys(I.custom_permissions).length," custom"]})]}),s.jsx(ct,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>k(I),title:"Edit Role",children:s.jsx(ma,{className:"h-4 w-4 text-blue-500"})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>U(I),disabled:y===I.id,title:"Send Password Reset Email",children:y===I.id?s.jsx(Sn,{className:"h-4 w-4 animate-spin"}):s.jsx(AN,{className:"h-4 w-4 text-slate-500"})}),(_==null?void 0:_.id)!==I.id&&s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>P(I.id),className:"text-slate-400 hover:text-red-600",children:s.jsx(za,{className:"h-4 w-4"})})]})})]},I.id)),z.length===0&&s.jsx(br,{children:s.jsx(ct,{colSpan:4,className:"text-center py-8 text-slate-500",children:"No users found."})})]})]})})]}),s.jsx(Zt,{open:a,onOpenChange:i,children:s.jsxs(Xt,{className:"sm:max-w-[425px]",children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Create New User"}),s.jsx(Nl,{children:"Add a new user to the system. They will be able to log in with the email and password you set."})]}),s.jsxs("form",{onSubmit:S,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"name",children:"Full Name"}),s.jsx(Ge,{id:"name",value:h.name,onChange:I=>p({...h,name:I.target.value}),placeholder:"e.g. Rabbi Cohen",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"email",children:"Email"}),s.jsx(Ge,{id:"email",type:"email",value:h.email,onChange:I=>p({...h,email:I.target.value}),placeholder:"email@school.edu",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"password",children:"Password"}),s.jsx(Ge,{id:"password",type:"password",value:h.password,onChange:I=>p({...h,password:I.target.value}),placeholder:"",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"role",children:"Role"}),s.jsxs(wt,{value:h.role,onValueChange:I=>p({...h,role:I}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select role"})}),s.jsx(bt,{children:xy.map(I=>s.jsx(Le,{value:I.value,children:I.label},I.value))})]})]}),["teacher","teacher_hebrew","teacher_english","tutor","special_ed"].includes(h.role)&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"class",children:"Assigned Class (Optional)"}),s.jsx(Ge,{id:"class",value:h.assigned_class,onChange:I=>p({...h,assigned_class:I.target.value}),placeholder:"e.g. Grade 5"})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(Ne,{type:"submit",disabled:v,children:v?s.jsx(Sn,{className:"mr-2 h-4 w-4 animate-spin"}):"Create User"})]})]})]})}),s.jsx(Zt,{open:o,onOpenChange:l,children:s.jsxs(Xt,{className:"sm:max-w-[520px] max-h-[85vh] overflow-y-auto",children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Edit User Role & Permissions"}),s.jsxs(Nl,{children:["Change role and customize which features ",(c==null?void 0:c.name)||"this user"," can access."]})]}),c&&s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{children:"Current User"}),s.jsxs("div",{className:"text-sm text-slate-600",children:[c.name,"  ",c.email]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"editRole",children:"Role"}),s.jsxs(wt,{value:c.role||"",onValueChange:I=>u({...c,role:I}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select role"})}),s.jsx(bt,{children:xy.map(I=>s.jsx(Le,{value:I.value,children:I.label},I.value))})]})]}),["teacher","teacher_hebrew","teacher_english","tutor","special_ed"].includes(c.role)&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"editClass",children:"Assigned Class (Optional)"}),s.jsx(Ge,{id:"editClass",value:c.assigned_class||"",onChange:I=>u({...c,assigned_class:I.target.value}),placeholder:"e.g. Grade 5"})]}),s.jsxs("div",{className:"border-t pt-4 mt-2",children:[s.jsxs(ve,{className:"text-base font-semibold flex items-center gap-2",children:[s.jsx(lO,{className:"h-4 w-4"})," Custom Feature Access"]}),s.jsx("p",{className:"text-xs text-slate-500 mt-1 mb-3",children:"Override role defaults. Green = granted, Red = revoked, Gray = uses role default."}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:BBe.map(I=>{var H;const R=(H=c.custom_permissions)==null?void 0:H[I.id],G=R===!0,F=R===!1;return s.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg border text-sm cursor-pointer transition-all ${G?"bg-green-50 border-green-300":F?"bg-red-50 border-red-300":"bg-slate-50 border-slate-200 hover:bg-slate-100"}`,children:[s.jsx("button",{type:"button",onClick:()=>V(I.id),className:`w-5 h-5 rounded flex items-center justify-center border transition-all ${G?"bg-green-500 border-green-600 text-white":"bg-white border-slate-300"}`,children:G&&s.jsx(wi,{className:"h-3.5 w-3.5"})}),s.jsx("span",{className:`flex-1 ${F?"line-through text-red-400":"text-slate-700"}`,children:I.label}),(G||F)&&s.jsx("button",{type:"button",onClick:J=>{J.stopPropagation(),C(I.id)},className:`text-xs px-1.5 py-0.5 rounded ${F?"bg-red-200 text-red-700 hover:bg-red-300":"bg-slate-200 text-slate-600 hover:bg-red-200 hover:text-red-700"}`,title:F?"Remove restriction":"Revoke access",children:F?"":""}),!G&&!F&&s.jsx("button",{type:"button",onClick:J=>{J.stopPropagation(),C(I.id)},className:"text-xs px-1.5 py-0.5 rounded bg-slate-200 text-slate-500 hover:bg-red-200 hover:text-red-700",title:"Revoke access",children:""})]},I.id)})})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(Ne,{onClick:T,disabled:x,children:x?s.jsx(Sn,{className:"mr-2 h-4 w-4 animate-spin"}):"Save Changes"})]})]})})]})},kM=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!1),[f,h]=O.useState(null),[p,v]=O.useState("list"),[m,x]=O.useState(!0),[g,y]=O.useState(!1),[b,j]=O.useState(!1),[_,N]=O.useState(""),[S,T]=O.useState(""),[k,V]=O.useState({title:"",description:"",student_id:"",meeting_type:"parent_teacher",scheduled_date:"",scheduled_time:"",duration_minutes:30,location:"",participant_ids:[],notes:""});O.useEffect(()=>{U(),C(),P()},[]);const C=async()=>{const{data:L}=await Te.from("students").select("id, first_name, last_name, class:classes!class_id(name)").eq("status","active").order("last_name");o(L||[])},P=async()=>{const{data:L}=await Te.from("app_users").select("id, first_name, last_name, role").eq("is_active",!0).in("role",["teacher_hebrew","teacher_english","principal_hebrew","principal_english","principal_curriculum","tutor","admin"]).order("last_name");c(L||[])},U=async()=>{x(!0);try{const{data:L,error:Y}=await Te.from("meetings").select(`
          *,
          student:students(id, first_name, last_name, class:classes!class_id(name)),
          organizer:app_users!organizer_id(id, first_name, last_name),
          meeting_participants(
            id,
            participant:app_users(id, first_name, last_name, role)
          )
        `).order("scheduled_date",{ascending:!0});if(Y)throw Y;a(L||[])}catch(L){console.error("Error loading meetings:",L),r({variant:"destructive",title:"Error",description:"Failed to load meetings"})}finally{x(!1)}},q=(L=null)=>{var Y;if(L){h(L);const Z=L.scheduled_date?new Date(L.scheduled_date):new Date;V({title:L.title||"",description:L.description||"",student_id:L.student_id||"",meeting_type:L.meeting_type||"parent_teacher",scheduled_date:Z.toISOString().split("T")[0],scheduled_time:Z.toTimeString().slice(0,5),duration_minutes:L.duration_minutes||30,location:L.location||"",participant_ids:((Y=L.meeting_participants)==null?void 0:Y.map(se=>{var W;return(W=se.participant)==null?void 0:W.id}).filter(Boolean))||[],notes:L.notes||""})}else h(null),V({title:"",description:"",student_id:"",meeting_type:"parent_teacher",scheduled_date:new Date().toISOString().split("T")[0],scheduled_time:"09:00",duration_minutes:30,location:"",participant_ids:[],notes:""});d(!0)},z=async()=>{if(!k.title||!k.scheduled_date){r({variant:"destructive",title:"Error",description:"Title and date are required"});return}try{const L=new Date(`${k.scheduled_date}T${k.scheduled_time||"00:00"}`),Y={title:k.title,description:k.description||null,student_id:k.student_id||null,organizer_id:t==null?void 0:t.id,meeting_type:k.meeting_type,scheduled_date:L.toISOString(),duration_minutes:k.duration_minutes,location:k.location||null,notes:k.notes||null,status:"scheduled"};let Z;if(f){const{error:se}=await Te.from("meetings").update(Y).eq("id",f.id);if(se)throw se;Z=f.id,await Te.from("meeting_participants").delete().eq("meeting_id",Z)}else{const{data:se,error:W}=await Te.from("meetings").insert([Y]).select().single();if(W)throw W;Z=se.id}if(k.participant_ids.length>0){const se=k.participant_ids.map(W=>({meeting_id:Z,participant_id:W}));await Te.from("meeting_participants").insert(se)}if(r({title:"Success",description:f?"Meeting updated":"Meeting scheduled"}),d(!1),U(),!f){const se=i.find(ae=>ae.id===k.student_id),W=se?`${se.first_name} ${se.last_name}`:"";N(`Meeting Scheduled: ${k.title}`),T(`A new meeting has been scheduled:

Title: ${k.title}
Date: ${k.scheduled_date} at ${k.scheduled_time||"TBD"}
Duration: ${k.duration_minutes} minutes
Type: ${k.meeting_type}
`+(W?`Student: ${W}
`:"")+(k.location?`Location: ${k.location}
`:"")+(k.description?`Description: ${k.description}
`:"")+`
Organized by: ${(t==null?void 0:t.name)||(t==null?void 0:t.email)||"System"}`),y(!0)}}catch(L){console.error("Error saving meeting:",L),r({variant:"destructive",title:"Error",description:"Failed to save meeting"})}},I=async L=>{if(window.confirm("Are you sure you want to delete this meeting?"))try{await Te.from("meeting_participants").delete().eq("meeting_id",L);const{error:Y}=await Te.from("meetings").delete().eq("id",L);if(Y)throw Y;r({title:"Success",description:"Meeting deleted"}),U()}catch{r({variant:"destructive",title:"Error",description:"Failed to delete meeting"})}},R=async(L,Y)=>{try{const{error:Z}=await Te.from("meetings").update({status:Y}).eq("id",L.id);if(Z)throw Z;r({title:"Status Updated",description:`Meeting marked as ${Y}.`}),U()}catch{r({variant:"destructive",title:"Error",description:"Failed to update status"})}},G=L=>{V(Y=>({...Y,participant_ids:Y.participant_ids.includes(L)?Y.participant_ids.filter(Z=>Z!==L):[...Y.participant_ids,L]}))},F=L=>new Date(L)<new Date,H=L=>{switch(L){case"completed":return s.jsx(Ct,{className:"bg-green-100 text-green-800 border-green-200",children:"Completed"});case"cancelled":return s.jsx(Ct,{className:"bg-red-100 text-red-800 border-red-200",children:"Cancelled"});default:return s.jsx(Ct,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Scheduled"})}},J=L=>{const Y={parent_teacher:{label:"Parent-Teacher",color:"bg-purple-100 text-purple-700"},iep:{label:"IEP",color:"bg-orange-100 text-orange-700"},disciplinary:{label:"Disciplinary",color:"bg-red-100 text-red-700"},progress:{label:"Progress",color:"bg-blue-100 text-blue-700"},other:{label:"Other",color:"bg-slate-100 text-slate-700"}},Z=Y[L]||Y.other;return s.jsx(Ct,{className:Z.color,children:Z.label})},A=n.filter(L=>L.status==="scheduled"&&!F(L.scheduled_date)).length,M=n.filter(L=>L.status==="scheduled"&&F(L.scheduled_date)).length,K=n.filter(L=>L.status==="completed").length;return m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Meetings & Calendar"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Schedule and manage meetings"})]}),s.jsxs(Ne,{onClick:()=>q(),className:"bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700",children:[s.jsx(Zr,{size:20,className:"mr-2"}),"Schedule Meeting"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Ps,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:A}),s.jsx("p",{className:"text-sm text-slate-500",children:"Upcoming"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(Ss,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:M}),s.jsx("p",{className:"text-sm text-slate-500",children:"Overdue"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(wi,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:K}),s.jsx("p",{className:"text-sm text-slate-500",children:"Completed"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Ia,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Meetings"})]})]})})]}),s.jsxs(Jo,{value:p,onValueChange:v,className:"w-full",children:[s.jsxs(uo,{className:"grid w-full max-w-md grid-cols-2",children:[s.jsxs(vr,{value:"list",className:"flex items-center gap-2",children:[s.jsx(oC,{size:16}),"List View"]}),s.jsxs(vr,{value:"calendar",className:"flex items-center gap-2",children:[s.jsx(Ps,{size:16}),"Calendar View"]})]}),s.jsx(Ur,{value:"calendar",className:"mt-6",children:s.jsx(A$e,{})}),s.jsx(Ur,{value:"list",className:"mt-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Date & Time"}),s.jsx(dt,{children:"Title"}),s.jsx(dt,{children:"Student"}),s.jsx(dt,{children:"Type"}),s.jsx(dt,{children:"Participants"}),s.jsx(dt,{children:"Status"}),s.jsx(dt,{className:"text-right",children:"Actions"})]})}),s.jsxs(Ba,{children:[n.map(L=>{var se,W,ae;const Y=F(L.scheduled_date),Z=new Date(L.scheduled_date);return s.jsxs(br,{className:Y&&L.status==="scheduled"?"bg-red-50/50":"",children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-slate-800",children:Z.toLocaleDateString()}),s.jsxs("span",{className:"text-xs text-slate-500",children:[Z.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," (",L.duration_minutes,"m)"]})]})}),s.jsxs(ct,{children:[s.jsx("div",{className:"font-medium",children:L.title}),L.location&&s.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[s.jsx(sB,{size:10})," ",L.location]})]}),s.jsx(ct,{children:L.student?s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[L.student.first_name," ",L.student.last_name]}),s.jsx("div",{className:"text-xs text-slate-500",children:(se=L.student.class)==null?void 0:se.name})]}):"-"}),s.jsx(ct,{children:J(L.meeting_type)}),s.jsx(ct,{children:s.jsxs("div",{className:"flex -space-x-2",children:[(W=L.meeting_participants)==null?void 0:W.slice(0,3).map((fe,Q)=>{var ke,Ie,Ae,ce,Re,at;return s.jsxs("div",{className:"h-7 w-7 rounded-full bg-indigo-100 flex items-center justify-center text-xs text-indigo-700 font-medium border-2 border-white",title:`${(ke=fe.participant)==null?void 0:ke.first_name} ${(Ie=fe.participant)==null?void 0:Ie.last_name}`,children:[(ce=(Ae=fe.participant)==null?void 0:Ae.first_name)==null?void 0:ce.charAt(0),(at=(Re=fe.participant)==null?void 0:Re.last_name)==null?void 0:at.charAt(0)]},Q)}),((ae=L.meeting_participants)==null?void 0:ae.length)>3&&s.jsxs("div",{className:"h-7 w-7 rounded-full bg-slate-200 flex items-center justify-center text-xs text-slate-600 font-medium border-2 border-white",children:["+",L.meeting_participants.length-3]})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[H(L.status),Y&&L.status==="scheduled"&&s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Overdue"})]})}),s.jsx(ct,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[L.status==="scheduled"&&s.jsx(Ne,{variant:"ghost",size:"icon",className:"text-green-600 hover:text-green-700 hover:bg-green-50",title:"Mark Completed",onClick:()=>R(L,"completed"),children:s.jsx(wi,{size:16})}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>q(L),children:s.jsx(ma,{size:16})}),s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>I(L.id),className:"hover:text-red-600",children:s.jsx(za,{size:16})})]})})]},L.id)}),n.length===0&&s.jsx(br,{children:s.jsx(ct,{colSpan:7,className:"text-center py-12 text-slate-500",children:"No meetings scheduled."})})]})]})})})]}),s.jsx(Zt,{open:u,onOpenChange:d,children:s.jsxs(Xt,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsx(er,{children:s.jsx(tr,{children:f?"Edit Meeting":"Schedule New Meeting"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Title *"}),s.jsx(Ge,{value:k.title,onChange:L=>V({...k,title:L.target.value}),placeholder:"Meeting title"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Date *"}),s.jsx(Ge,{type:"date",value:k.scheduled_date,onChange:L=>V({...k,scheduled_date:L.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Time"}),s.jsx(Ge,{type:"time",value:k.scheduled_time,onChange:L=>V({...k,scheduled_time:L.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Duration (minutes)"}),s.jsxs(wt,{value:String(k.duration_minutes),onValueChange:L=>V({...k,duration_minutes:parseInt(L)}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"15",children:"15 min"}),s.jsx(Le,{value:"30",children:"30 min"}),s.jsx(Le,{value:"45",children:"45 min"}),s.jsx(Le,{value:"60",children:"60 min"}),s.jsx(Le,{value:"90",children:"90 min"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Meeting Type"}),s.jsxs(wt,{value:k.meeting_type,onValueChange:L=>V({...k,meeting_type:L}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"parent_teacher",children:"Parent-Teacher"}),s.jsx(Le,{value:"iep",children:"IEP Meeting"}),s.jsx(Le,{value:"disciplinary",children:"Disciplinary"}),s.jsx(Le,{value:"progress",children:"Progress Review"}),s.jsx(Le,{value:"other",children:"Other"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Student (optional)"}),s.jsxs(wt,{value:k.student_id||"none",onValueChange:L=>V({...k,student_id:L==="none"?null:L}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select student"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"none",children:"No specific student"}),i.map(L=>{var Y;return s.jsxs(Le,{value:L.id,children:[L.first_name," ",L.last_name," ",(Y=L.class)!=null&&Y.name?`(${L.class.name})`:""]},L.id)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Location"}),s.jsx(Ge,{value:k.location,onChange:L=>V({...k,location:L.target.value}),placeholder:"e.g., Principal's Office, Room 101"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Participants"}),s.jsx("div",{className:"border rounded-md p-3 max-h-32 overflow-y-auto bg-slate-50 grid grid-cols-2 gap-2",children:l.map(L=>s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer hover:bg-slate-100 p-1.5 rounded",children:[s.jsx("input",{type:"checkbox",checked:k.participant_ids.includes(L.id),onChange:()=>G(L.id),className:"rounded border-slate-300"}),L.first_name," ",L.last_name]},L.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Description"}),s.jsx(Nr,{value:k.description,onChange:L=>V({...k,description:L.target.value}),rows:2,placeholder:"Meeting agenda or description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Notes"}),s.jsx(Nr,{value:k.notes,onChange:L=>V({...k,notes:L.target.value}),rows:2,placeholder:"Additional notes"})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(Ne,{onClick:z,className:"bg-indigo-600 hover:bg-indigo-700",children:f?"Update Meeting":"Schedule Meeting"})]})]})}),s.jsx(Zt,{open:g,onOpenChange:y,children:s.jsxs(Xt,{className:"sm:max-w-[350px]",children:[s.jsx(er,{children:s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5 text-blue-500"})," Send Notification?"]})}),s.jsx("p",{className:"text-sm text-slate-600",children:"Would you like to send an email to notify participants about this meeting?"}),s.jsxs(yr,{className:"flex gap-2",children:[s.jsx(Ne,{variant:"outline",onClick:()=>y(!1),children:"No, Skip"}),s.jsxs(Ne,{onClick:()=>{y(!1),j(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(pa,{className:"mr-2 h-4 w-4"})," Yes, Send Email"]})]})]})}),s.jsx(Oc,{isOpen:b,onClose:()=>j(!1),defaultSubject:_,defaultBody:S,currentUser:t,relatedType:"meeting"})]})},UBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,d]=O.useState(null),[f,h]=O.useState({name:"",grade_number:"",description:""});O.useEffect(()=>{p()},[]);const p=async()=>{o(!0);try{const{data:g,error:y}=await Te.from("grades").select(`
          *,
          classes:classes(id),
          grade_book_requirements:grade_book_requirements(id)
        `).order("grade_number",{ascending:!0});if(y)throw y;const b=(g||[]).map(j=>{var _,N;return{...j,class_count:((_=j.classes)==null?void 0:_.length)||0,book_count:((N=j.grade_book_requirements)==null?void 0:N.length)||0}});a(b)}catch(g){console.error("Error loading grades:",g),r({variant:"destructive",title:"Error",description:"Failed to load grades"})}finally{o(!1)}},v=(g=null)=>{var y;g?(d(g),h({name:g.name||"",grade_number:((y=g.grade_number)==null?void 0:y.toString())||"",description:g.description||""})):(d(null),h({name:"",grade_number:"",description:""})),c(!0)},m=async()=>{if(!f.name||!f.grade_number){r({variant:"destructive",title:"Error",description:"Please fill in required fields"});return}try{const g={name:f.name,grade_number:parseInt(f.grade_number),description:f.description||null};if(u){const{error:y}=await Te.from("grades").update(g).eq("id",u.id);if(y)throw y;r({title:"Success",description:"Grade updated successfully"})}else{const{error:y}=await Te.from("grades").insert([g]);if(y)throw y;r({title:"Success",description:"Grade created successfully"})}c(!1),p()}catch(g){console.error("Error saving grade:",g),r({variant:"destructive",title:"Error",description:"Failed to save grade"})}},x=async g=>{if(confirm("Are you sure you want to delete this grade? This will also affect all associated classes."))try{const{error:y}=await Te.from("grades").delete().eq("id",g);if(y)throw y;r({title:"Success",description:"Grade deleted successfully"}),p()}catch(y){console.error("Error deleting grade:",y),r({variant:"destructive",title:"Error",description:"Failed to delete grade. Make sure no classes are assigned."})}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Grade Levels"}),s.jsx("p",{className:"text-slate-500",children:"Manage grade levels for your school"})]}),s.jsxs(Ne,{onClick:()=>v(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Add Grade"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(TN,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Grades"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ia,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((g,y)=>g+y.class_count,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Classes"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(h0,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((g,y)=>g+y.book_count,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"Book Requirements"})]})]})})]}),s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsx(sr,{children:"All Grades"}),s.jsx(Sa,{children:"Click on a grade to edit or view details"})]}),s.jsx(Xe,{children:n.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(TN,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No grades yet"}),s.jsx("p",{className:"text-sm",children:'Click "Add Grade" to create your first grade level'})]}):s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Grade #"}),s.jsx(dt,{children:"Name"}),s.jsx(dt,{children:"Description"}),s.jsx(dt,{className:"text-center",children:"Classes"}),s.jsx(dt,{className:"text-center",children:"Books"}),s.jsx(dt,{className:"text-right",children:"Actions"})]})}),s.jsx(Ba,{children:n.map(g=>s.jsxs(br,{className:"cursor-pointer hover:bg-slate-50",children:[s.jsx(ct,{className:"font-medium",children:g.grade_number}),s.jsx(ct,{className:"font-semibold",children:g.name}),s.jsx(ct,{className:"text-slate-500",children:g.description||"-"}),s.jsx(ct,{className:"text-center",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[g.class_count," classes"]})}),s.jsx(ct,{className:"text-center",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[g.book_count," books"]})}),s.jsx(ct,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>v(g),children:s.jsx(ma,{className:"h-4 w-4"})}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>x(g.id),children:s.jsx(za,{className:"h-4 w-4"})})]})})]},g.id))})]})})]}),s.jsx(Zt,{open:l,onOpenChange:c,children:s.jsxs(Xt,{children:[s.jsx(er,{children:s.jsx(tr,{children:u?"Edit Grade":"Add New Grade"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"grade_number",children:"Grade Number *"}),s.jsx(Ge,{id:"grade_number",type:"number",min:"1",placeholder:"1",value:f.grade_number,onChange:g=>h({...f,grade_number:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"name",children:"Name *"}),s.jsx(Ge,{id:"name",placeholder:"e.g., 1st Grade",value:f.name,onChange:g=>h({...f,name:g.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"description",children:"Description"}),s.jsx(Nr,{id:"description",placeholder:"Optional description for this grade level",value:f.description,onChange:g=>h({...f,description:g.target.value})})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Ne,{onClick:m,className:"bg-blue-600 hover:bg-blue-700",children:u?"Update":"Create"})]})]})})]})},VBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState(!0),[m,x]=O.useState(""),[g,y]=O.useState("all"),[b,j]=O.useState(!1),[_,N]=O.useState(null),[S,T]=O.useState({title:"",subtitle:"",author:"",isbn:"",publisher:"",category:"textbook",subject:"",price:"",quantity_in_stock:"0",reorder_threshold:"10"}),[k,V]=O.useState(!1),[C,P]=O.useState(null),[U,q]=O.useState([]),[z,I]=O.useState("2024-2025"),[R,G]=O.useState(!1),[F,H]=O.useState(null),[J,A]=O.useState([]),M=[{value:"textbook",label:"Textbook"},{value:"workbook",label:"Workbook"},{value:"hebrew",label:"Hebrew"},{value:"english",label:"English"},{value:"math",label:"Math"},{value:"science",label:"Science"},{value:"other",label:"Other"}],K=[{value:"hebrew",label:"Hebrew"},{value:"english",label:"English"},{value:"math",label:"Math"},{value:"science",label:"Science"},{value:"history",label:"History"},{value:"chumash",label:"Chumash"},{value:"gemara",label:"Gemara"},{value:"mishnayos",label:"Mishnayos"},{value:"other",label:"Other"}];O.useEffect(()=>{L()},[]);const L=async()=>{v(!0);try{const{data:xe,error:de}=await Te.from("books").select("*").order("title");de||a(xe||[]);const{data:Be,error:we}=await Te.from("grades").select("*").order("grade_number");we||o(Be||[]);try{const{data:tt,error:ht}=await Te.from("grade_book_requirements").select(`
            *,
            grade:grades(id, name),
            book:books(id, title, price)
          `);ht||d(tt||[])}catch{console.log("grade_book_requirements table may not exist yet")}const{data:ge,error:ze}=await Te.from("classes").select("*, grade:grades(id, name)").order("name");ze||c(ge||[]);try{const{data:tt,error:ht}=await Te.from("class_book_requirements").select(`
            *,
            class:classes!class_id(id, name),
            book:books(id, title, price)
          `);ht||h(tt||[])}catch{console.log("class_book_requirements table may not exist yet")}}catch(xe){console.error("Error loading data:",xe)}finally{v(!1)}},Y=n.filter(xe=>{const de=xe.title.toLowerCase().includes(m.toLowerCase())||xe.author&&xe.author.toLowerCase().includes(m.toLowerCase()),Be=g==="all"||xe.category===g;return de&&Be}),Z=n.filter(xe=>xe.quantity_in_stock<=xe.reorder_threshold),se=(xe=null)=>{var de,Be,we;xe?(N(xe),T({title:xe.title||"",subtitle:xe.subtitle||"",author:xe.author||"",isbn:xe.isbn||"",publisher:xe.publisher||"",category:xe.category||"textbook",subject:xe.subject||"",price:((de=xe.price)==null?void 0:de.toString())||"",quantity_in_stock:((Be=xe.quantity_in_stock)==null?void 0:Be.toString())||"0",reorder_threshold:((we=xe.reorder_threshold)==null?void 0:we.toString())||"10"})):(N(null),T({title:"",subtitle:"",author:"",isbn:"",publisher:"",category:"textbook",subject:"",price:"",quantity_in_stock:"0",reorder_threshold:"10"})),j(!0)},W=async()=>{if(!S.title||!S.price){r({variant:"destructive",title:"Error",description:"Please fill in title and price"});return}try{const xe={title:S.title,subtitle:S.subtitle||null,author:S.author||null,isbn:S.isbn||null,publisher:S.publisher||null,category:S.category,subject:S.subject||null,price:parseFloat(S.price),quantity_in_stock:parseInt(S.quantity_in_stock)||0,reorder_threshold:parseInt(S.reorder_threshold)||10};if(_){const{error:de}=await Te.from("books").update(xe).eq("id",_.id);if(de)throw de;r({title:"Success",description:"Book updated successfully"})}else{const{error:de}=await Te.from("books").insert([xe]);if(de)throw de;r({title:"Success",description:"Book added successfully"})}j(!1),L()}catch(xe){console.error("Error saving book:",xe),r({variant:"destructive",title:"Error",description:"Failed to save book"})}},ae=async xe=>{if(confirm("Are you sure you want to delete this book?"))try{const{error:de}=await Te.from("books").delete().eq("id",xe);if(de)throw de;r({title:"Success",description:"Book deleted"}),L()}catch(de){console.error("Error deleting book:",de),r({variant:"destructive",title:"Error",description:"Failed to delete book"})}},fe=xe=>{P(xe);const de=u.filter(Be=>Be.grade_id===xe.id&&Be.academic_year===z).map(Be=>Be.book_id);q(de),V(!0)},Q=xe=>{q(de=>de.includes(xe)?de.filter(Be=>Be!==xe):[...de,xe])},ke=async()=>{if(C)try{const{error:xe}=await Te.from("grade_book_requirements").delete().eq("grade_id",C.id).eq("academic_year",z);if(xe)throw xe;if(U.length>0){const de=U.map(we=>({grade_id:C.id,book_id:we,academic_year:z,is_required:!0})),{error:Be}=await Te.from("grade_book_requirements").insert(de);if(Be)throw Be}r({title:"Success",description:"Book requirements updated"}),V(!1),L()}catch(xe){console.error("Error saving requirements:",xe),r({variant:"destructive",title:"Error",description:"Failed to save requirements"})}},Ie=xe=>u.filter(de=>de.grade_id===xe&&de.academic_year===z).map(de=>de.book),Ae=xe=>u.filter(de=>de.grade_id===xe&&de.academic_year===z).reduce((de,Be)=>{var we;return de+(((we=Be.book)==null?void 0:we.price)||0)},0),ce=xe=>{H(xe);const de=f.filter(Be=>Be.class_id===xe.id&&Be.academic_year===z).map(Be=>Be.book_id);A(de),G(!0)},Re=xe=>{A(de=>de.includes(xe)?de.filter(Be=>Be!==xe):[...de,xe])},at=async()=>{if(F)try{const{error:xe}=await Te.from("class_book_requirements").delete().eq("class_id",F.id).eq("academic_year",z);if(xe)throw xe;if(J.length>0){const de=J.map(we=>({class_id:F.id,book_id:we,academic_year:z,is_required:!0})),{error:Be}=await Te.from("class_book_requirements").insert(de);if(Be)throw Be}r({title:"Success",description:"Class book requirements updated"}),G(!1),L()}catch(xe){console.error("Error saving class requirements:",xe),r({variant:"destructive",title:"Error",description:"Failed to save class requirements"})}},$e=xe=>f.filter(de=>de.class_id===xe&&de.academic_year===z).map(de=>de.book),et=xe=>f.filter(de=>de.class_id===xe&&de.academic_year===z).reduce((de,Be)=>{var we;return de+(((we=Be.book)==null?void 0:we.price)||0)},0);return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Books Management"}),s.jsx("p",{className:"text-slate-500",children:"Manage book inventory and grade requirements"})]}),s.jsxs(Ne,{onClick:()=>se(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Add Book"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(nB,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Books"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(sO,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.reduce((xe,de)=>xe+de.quantity_in_stock,0)}),s.jsx("p",{className:"text-sm text-slate-500",children:"In Stock"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Kh,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Z.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Low Stock"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",n.reduce((xe,de)=>xe+(de.price||0)*(de.quantity_in_stock||0),0).toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Inventory Value"})]})]})})]}),s.jsxs(Jo,{defaultValue:"catalog",className:"space-y-4",children:[s.jsxs(uo,{children:[s.jsx(vr,{value:"catalog",children:"Book Catalog"}),s.jsx(vr,{value:"class-requirements",children:"Class Requirements"}),s.jsx(vr,{value:"requirements",children:"Grade Requirements"}),s.jsxs(vr,{value:"lowstock",children:["Low Stock (",Z.length,")"]})]}),s.jsx(Ur,{value:"catalog",children:s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(sr,{children:"Book Catalog"}),s.jsx(Sa,{children:"All books in your inventory"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{placeholder:"Search books...",value:m,onChange:xe=>x(xe.target.value),className:"pl-10 w-64"})]}),s.jsxs(wt,{value:g,onValueChange:y,children:[s.jsx(yt,{className:"w-40",children:s.jsx(_t,{placeholder:"Category"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Categories"}),M.map(xe=>s.jsx(Le,{value:xe.value,children:xe.label},xe.value))]})]})]})]})}),s.jsx(Xe,{children:s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Title"}),s.jsx(dt,{children:"Category"}),s.jsx(dt,{children:"Subject"}),s.jsx(dt,{className:"text-right",children:"Price"}),s.jsx(dt,{className:"text-center",children:"Stock"}),s.jsx(dt,{className:"text-right",children:"Actions"})]})}),s.jsx(Ba,{children:Y.map(xe=>s.jsxs(br,{children:[s.jsx(ct,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:xe.title}),xe.author&&s.jsx("p",{className:"text-sm text-slate-500",children:xe.author})]})}),s.jsx(ct,{children:s.jsx(Ct,{variant:"outline",children:xe.category})}),s.jsx(ct,{children:xe.subject||"-"}),s.jsxs(ct,{className:"text-right font-medium",children:["$",(xe.price||0).toFixed(2)]}),s.jsx(ct,{className:"text-center",children:s.jsx(Ct,{variant:xe.quantity_in_stock<=xe.reorder_threshold?"destructive":"secondary",children:xe.quantity_in_stock})}),s.jsx(ct,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>se(xe),children:s.jsx(ma,{className:"h-4 w-4"})}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>ae(xe.id),children:s.jsx(za,{className:"h-4 w-4"})})]})})]},xe.id))})]})})]})}),s.jsx(Ur,{value:"class-requirements",children:s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(sr,{children:"Class Book Requirements"}),s.jsx(Sa,{children:"Set specific books for each class"})]}),s.jsxs(wt,{value:z,onValueChange:I,children:[s.jsx(yt,{className:"w-40",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"2024-2025",children:"2024-2025"}),s.jsx(Le,{value:"2025-2026",children:"2025-2026"})]})]})]})}),s.jsx(Xe,{children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(m0,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No classes found. Please add classes first."})]}):s.jsx("div",{className:"grid gap-4",children:l.map(xe=>{var we;const de=$e(xe.id),Be=et(xe.id);return s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(m0,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:xe.name}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(we=xe.grade)==null?void 0:we.name,"  ",de.length," books  Total: $",(Be||0).toFixed(2)]})]})]}),s.jsxs(Ne,{variant:"outline",onClick:()=>ce(xe),children:[s.jsx(ma,{className:"h-4 w-4 mr-2"}),"Edit Books"]})]}),de.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(ge=>{var ze;return ge&&s.jsxs(Ct,{variant:"secondary",className:"text-sm",children:[ge.title," - $",(ze=ge.price)==null?void 0:ze.toFixed(2)]},ge.id)})}):s.jsx("p",{className:"text-sm text-slate-400 italic",children:"No books assigned yet - will use grade defaults"})]},xe.id)})})})]})}),s.jsx(Ur,{value:"requirements",children:s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(sr,{children:"Grade Book Requirements"}),s.jsx(Sa,{children:"Set which books each grade needs"})]}),s.jsxs(wt,{value:z,onValueChange:I,children:[s.jsx(yt,{className:"w-40",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"2024-2025",children:"2024-2025"}),s.jsx(Le,{value:"2025-2026",children:"2025-2026"})]})]})]})}),s.jsx(Xe,{children:s.jsx("div",{className:"grid gap-4",children:i.map(xe=>{const de=Ie(xe.id),Be=Ae(xe.id);return s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:xe.name}),s.jsxs("p",{className:"text-sm text-slate-500",children:[de.length," books  Total: $",(Be||0).toFixed(2)]})]}),s.jsxs(Ne,{variant:"outline",onClick:()=>fe(xe),children:[s.jsx(ma,{className:"h-4 w-4 mr-2"}),"Edit Books"]})]}),de.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:de.map(we=>{var ge;return we&&s.jsxs(Ct,{variant:"secondary",className:"text-sm",children:[we.title," - $",(ge=we.price)==null?void 0:ge.toFixed(2)]},we.id)})}):s.jsx("p",{className:"text-sm text-slate-400 italic",children:"No books assigned yet"})]},xe.id)})})})]})}),s.jsx(Ur,{value:"lowstock",children:s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsx(sr,{className:"text-yellow-700",children:"Low Stock Alert"}),s.jsx(Sa,{children:"Books that need to be reordered"})]}),s.jsx(Xe,{children:Z.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(sO,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"All books are well stocked!"})]}):s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Book"}),s.jsx(dt,{className:"text-center",children:"Current Stock"}),s.jsx(dt,{className:"text-center",children:"Reorder At"}),s.jsx(dt,{className:"text-right",children:"Price"})]})}),s.jsx(Ba,{children:Z.map(xe=>s.jsxs(br,{className:"bg-yellow-50",children:[s.jsx(ct,{className:"font-semibold",children:xe.title}),s.jsx(ct,{className:"text-center",children:s.jsx(Ct,{variant:"destructive",children:xe.quantity_in_stock})}),s.jsx(ct,{className:"text-center",children:xe.reorder_threshold}),s.jsxs(ct,{className:"text-right",children:["$",(xe.price||0).toFixed(2)]})]},xe.id))})]})})]})})]}),s.jsx(Zt,{open:b,onOpenChange:j,children:s.jsxs(Xt,{className:"max-w-2xl",children:[s.jsx(er,{children:s.jsx(tr,{children:_?"Edit Book":"Add New Book"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(ve,{children:"Title *"}),s.jsx(Ge,{value:S.title,onChange:xe=>T({...S,title:xe.target.value}),placeholder:"Book title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Author"}),s.jsx(Ge,{value:S.author,onChange:xe=>T({...S,author:xe.target.value}),placeholder:"Author name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Publisher"}),s.jsx(Ge,{value:S.publisher,onChange:xe=>T({...S,publisher:xe.target.value}),placeholder:"Publisher"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Category"}),s.jsxs(wt,{value:S.category,onValueChange:xe=>T({...S,category:xe}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:M.map(xe=>s.jsx(Le,{value:xe.value,children:xe.label},xe.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Subject"}),s.jsxs(wt,{value:S.subject,onValueChange:xe=>T({...S,subject:xe}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select subject"})}),s.jsx(bt,{children:K.map(xe=>s.jsx(Le,{value:xe.value,children:xe.label},xe.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Price *"}),s.jsx(Ge,{type:"number",step:"0.01",min:"0",value:S.price,onChange:xe=>T({...S,price:xe.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"ISBN"}),s.jsx(Ge,{value:S.isbn,onChange:xe=>T({...S,isbn:xe.target.value}),placeholder:"ISBN number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Quantity in Stock"}),s.jsx(Ge,{type:"number",min:"0",value:S.quantity_in_stock,onChange:xe=>T({...S,quantity_in_stock:xe.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Reorder Threshold"}),s.jsx(Ge,{type:"number",min:"0",value:S.reorder_threshold,onChange:xe=>T({...S,reorder_threshold:xe.target.value})})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Ne,{onClick:W,className:"bg-blue-600 hover:bg-blue-700",children:_?"Update":"Add Book"})]})]})}),s.jsx(Zt,{open:k,onOpenChange:V,children:s.jsxs(Xt,{className:"max-w-2xl max-h-[80vh]",children:[s.jsx(er,{children:s.jsxs(tr,{children:[C==null?void 0:C.name," - Book Requirements"]})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Select the books required for ",C==null?void 0:C.name," (",z,")"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:n.map(xe=>s.jsx("div",{onClick:()=>Q(xe.id),className:`p-3 border rounded-lg cursor-pointer transition-colors ${U.includes(xe.id)?"bg-blue-50 border-blue-300":"hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:xe.title}),s.jsxs("p",{className:"text-sm text-slate-500",children:[xe.category,"  ",xe.subject]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",(xe.price||0).toFixed(2)]}),U.includes(xe.id)&&s.jsx(Ct,{className:"bg-blue-600",children:"Selected"})]})]})},xe.id))}),s.jsx("div",{className:"mt-4 p-3 bg-slate-100 rounded-lg",children:s.jsxs("p",{className:"font-medium",children:["Total: ",U.length," books  $",n.filter(xe=>U.includes(xe.id)).reduce((xe,de)=>xe+de.price,0).toFixed(2)]})})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),s.jsx(Ne,{onClick:ke,className:"bg-blue-600 hover:bg-blue-700",children:"Save Requirements"})]})]})}),s.jsx(Zt,{open:R,onOpenChange:G,children:s.jsxs(Xt,{className:"max-w-2xl max-h-[80vh]",children:[s.jsx(er,{children:s.jsxs(tr,{children:[F==null?void 0:F.name," - Book Requirements"]})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Select the books required for class ",F==null?void 0:F.name," (",z,")"]}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:n.map(xe=>s.jsx("div",{onClick:()=>Re(xe.id),className:`p-3 border rounded-lg cursor-pointer transition-colors ${J.includes(xe.id)?"bg-blue-50 border-blue-300":"hover:bg-slate-50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:xe.title}),s.jsxs("p",{className:"text-sm text-slate-500",children:[xe.category,"  ",xe.subject]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["$",(xe.price||0).toFixed(2)]}),J.includes(xe.id)&&s.jsx(Ct,{className:"bg-blue-600",children:"Selected"})]})]})},xe.id))}),s.jsx("div",{className:"mt-4 p-3 bg-slate-100 rounded-lg",children:s.jsxs("p",{className:"font-medium",children:["Total: ",J.length," books  $",n.filter(xe=>J.includes(xe.id)).reduce((xe,de)=>xe+de.price,0).toFixed(2)]})})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),s.jsx(Ne,{onClick:at,className:"bg-blue-600 hover:bg-blue-700",children:"Save Class Requirements"})]})]})})]})},HBe=({role:e,currentUser:t})=>{var Y,Z,se;const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(!0),[p,v]=O.useState(!1),[m,x]=O.useState(null),[g,y]=O.useState({name:"",description:"",fee_type_id:"",amount:"",scope:"school_wide",grade_id:"",class_id:"",due_date:"",academic_year:"2024-2025"}),[b,j]=O.useState(!1),[_,N]=O.useState({name:"",description:"",category:"other",default_amount:""}),[S,T]=O.useState(!1),[k,V]=O.useState(null),[C,P]=O.useState(!1),U=[{value:"trip",label:"Trip",icon:Gh},{value:"event",label:"Event",icon:Tre},{value:"supplies",label:"Supplies",icon:h0},{value:"books",label:"Books",icon:h0},{value:"other",label:"Other",icon:xs}],q=[{value:"school_wide",label:"School Wide (All Students)"},{value:"grade_specific",label:"Grade Specific"},{value:"class_specific",label:"Class Specific"}];O.useEffect(()=>{z()},[]);const z=async()=>{h(!0);try{const{data:W,error:ae}=await Te.from("fees").select(`
          *,
          fee_type:fee_types(id, name, category),
          grade:grades(id, name),
          class:classes!class_id(id, name),
          student_fees:student_fees(id, status, amount, amount_paid)
        `).order("created_at",{ascending:!1});if(ae)throw ae;const fe=(W||[]).map(at=>{const $e=at.student_fees||[];return{...at,total_students:$e.length,paid_count:$e.filter(et=>et.status==="paid").length,partial_count:$e.filter(et=>et.status==="partial").length,pending_count:$e.filter(et=>et.status==="pending").length,total_expected:$e.reduce((et,xe)=>et+xe.amount,0),total_collected:$e.reduce((et,xe)=>et+xe.amount_paid,0)}});a(fe);const{data:Q,error:ke}=await Te.from("fee_types").select("*").order("name");if(ke)throw ke;o(Q||[]);const{data:Ie,error:Ae}=await Te.from("grades").select("*").order("grade_number");if(Ae)throw Ae;c(Ie||[]);const{data:ce,error:Re}=await Te.from("classes").select("*, grade:grades(name)").order("name");if(Re)throw Re;d(ce||[])}catch(W){console.error("Error loading data:",W),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{h(!1)}},I=(W=null)=>{var ae;W?(x(W),y({name:W.name||"",description:W.description||"",fee_type_id:W.fee_type_id||"",amount:((ae=W.amount)==null?void 0:ae.toString())||"",scope:W.scope||"school_wide",grade_id:W.grade_id||"",class_id:W.class_id||"",due_date:W.due_date||"",academic_year:W.academic_year||"2024-2025"})):(x(null),y({name:"",description:"",fee_type_id:"",amount:"",scope:"school_wide",grade_id:"",class_id:"",due_date:"",academic_year:"2024-2025"})),v(!0)},R=async()=>{if(!g.name||!g.amount){r({variant:"destructive",title:"Error",description:"Please fill in name and amount"});return}try{const W={name:g.name,description:g.description||null,fee_type_id:g.fee_type_id||null,amount:parseFloat(g.amount),scope:g.scope,grade_id:g.scope==="grade_specific"?g.grade_id:null,class_id:g.scope==="class_specific"?g.class_id:null,due_date:g.due_date||null,academic_year:g.academic_year};if(m){const{error:ae}=await Te.from("fees").update(W).eq("id",m.id);if(ae)throw ae;r({title:"Success",description:"Fee updated successfully"})}else{const{error:ae}=await Te.from("fees").insert([W]);if(ae)throw ae;r({title:"Success",description:"Fee created successfully"})}v(!1),z()}catch(W){console.error("Error saving fee:",W),r({variant:"destructive",title:"Error",description:"Failed to save fee"})}},G=async W=>{if(confirm("Are you sure you want to delete this fee? This will also remove all student assignments."))try{const{error:ae}=await Te.from("fees").delete().eq("id",W);if(ae)throw ae;r({title:"Success",description:"Fee deleted"}),z()}catch(ae){console.error("Error deleting fee:",ae),r({variant:"destructive",title:"Error",description:"Failed to delete fee"})}},F=async()=>{if(!_.name){r({variant:"destructive",title:"Error",description:"Please enter a name"});return}try{const{error:W}=await Te.from("fee_types").insert([{name:_.name,description:_.description||null,category:_.category,default_amount:_.default_amount?parseFloat(_.default_amount):null}]);if(W)throw W;r({title:"Success",description:"Fee type created"}),j(!1),N({name:"",description:"",category:"other",default_amount:""}),z()}catch(W){console.error("Error saving fee type:",W),r({variant:"destructive",title:"Error",description:"Failed to save fee type"})}},H=W=>{V(W),T(!0)},J=async()=>{if(k){P(!0);try{let W=Te.from("students").select("id, class_id").eq("status","active");if(k.scope==="grade_specific"&&k.grade_id){const{data:Ie}=await Te.from("classes").select("id").eq("grade_id",k.grade_id),Ae=(Ie==null?void 0:Ie.map(ce=>ce.id))||[];Ae.length>0&&(W=W.in("class_id",Ae))}else k.scope==="class_specific"&&k.class_id&&(W=W.eq("class_id",k.class_id));const{data:ae,error:fe}=await W;if(fe)throw fe;if(!ae||ae.length===0){r({variant:"destructive",title:"Error",description:"No students found for this scope"});return}const Q=ae.map(Ie=>({student_id:Ie.id,fee_id:k.id,amount:k.amount,status:"pending"})),{error:ke}=await Te.from("student_fees").upsert(Q,{onConflict:"student_id,fee_id",ignoreDuplicates:!0});if(ke)throw ke;r({title:"Success",description:`Fee assigned to ${ae.length} students`}),T(!1),z()}catch(W){console.error("Error assigning fee:",W),r({variant:"destructive",title:"Error",description:"Failed to assign fee"})}finally{P(!1)}}},A=W=>{const ae=U.find(fe=>fe.value===W);return(ae==null?void 0:ae.icon)||xs};if(f)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const M=n.reduce((W,ae)=>W+(ae.total_expected||0),0),K=n.reduce((W,ae)=>W+(ae.total_collected||0),0),L=n.filter(W=>W.status==="active");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Fees & Trips"}),s.jsx("p",{className:"text-slate-500",children:"Manage school fees, trips, and events"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ne,{variant:"outline",onClick:()=>j(!0),children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Fee Type"]}),s.jsxs(Ne,{onClick:()=>I(),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Create Fee"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:L.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Active Fees"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",K.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Collected"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",(M-K).toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Outstanding"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Ia,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(K/(M||1)*100),"%"]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Collection Rate"})]})]})})]}),s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsx(sr,{children:"All Fees"}),s.jsx(Sa,{children:"Manage and track fee collection"})]}),s.jsx(Xe,{children:n.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(xs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No fees created yet"}),s.jsx("p",{className:"text-sm",children:'Click "Create Fee" to add a new fee or trip'})]}):s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Fee Name"}),s.jsx(dt,{children:"Scope"}),s.jsx(dt,{className:"text-right",children:"Amount"}),s.jsx(dt,{className:"text-center",children:"Students"}),s.jsx(dt,{className:"text-center",children:"Collection"}),s.jsx(dt,{children:"Due Date"}),s.jsx(dt,{className:"text-right",children:"Actions"})]})}),s.jsx(Ba,{children:n.map(W=>{var Q,ke,Ie;const ae=A((Q=W.fee_type)==null?void 0:Q.category),fe=W.total_expected>0?Math.round(W.total_collected/W.total_expected*100):0;return s.jsxs(br,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:s.jsx(ae,{className:"h-4 w-4 text-slate-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:W.name}),W.description&&s.jsx("p",{className:"text-sm text-slate-500 truncate max-w-xs",children:W.description})]})]})}),s.jsx(ct,{children:s.jsxs(Ct,{variant:"outline",children:[W.scope==="school_wide"&&"All Students",W.scope==="grade_specific"&&((ke=W.grade)==null?void 0:ke.name),W.scope==="class_specific"&&((Ie=W.class)==null?void 0:Ie.name)]})}),s.jsxs(ct,{className:"text-right font-medium",children:["$",(W.amount||0).toFixed(2)]}),s.jsx(ct,{className:"text-center",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-green-600 font-medium",children:W.paid_count}),s.jsx("span",{className:"text-slate-400",children:" / "}),s.jsx("span",{children:W.total_students})]})}),s.jsx(ct,{className:"text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("div",{className:"w-20 h-2 bg-slate-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${fe}%`}})}),s.jsxs("span",{className:"text-sm font-medium",children:[fe,"%"]})]})}),s.jsx(ct,{children:W.due_date?new Date(W.due_date).toLocaleDateString():"-"}),s.jsx(ct,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>H(W),title:"Assign to students",children:s.jsx(Ere,{className:"h-4 w-4"})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>I(W),children:s.jsx(ma,{className:"h-4 w-4"})}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>G(W.id),children:s.jsx(za,{className:"h-4 w-4"})})]})})]},W.id)})})]})})]}),s.jsx(Zt,{open:p,onOpenChange:v,children:s.jsxs(Xt,{className:"max-w-2xl",children:[s.jsx(er,{children:s.jsx(tr,{children:m?"Edit Fee":"Create New Fee"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(ve,{children:"Name *"}),s.jsx(Ge,{value:g.name,onChange:W=>y({...g,name:W.target.value}),placeholder:"e.g., End of Year Trip"})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx(ve,{children:"Description"}),s.jsx(Nr,{value:g.description,onChange:W=>y({...g,description:W.target.value}),placeholder:"Details about this fee"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Fee Type"}),s.jsxs(wt,{value:g.fee_type_id,onValueChange:W=>y({...g,fee_type_id:W}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select type"})}),s.jsx(bt,{children:i.map(W=>s.jsx(Le,{value:W.id,children:W.name},W.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Amount *"}),s.jsx(Ge,{type:"number",step:"0.01",min:"0",value:g.amount,onChange:W=>y({...g,amount:W.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Scope *"}),s.jsxs(wt,{value:g.scope,onValueChange:W=>y({...g,scope:W,grade_id:"",class_id:""}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:q.map(W=>s.jsx(Le,{value:W.value,children:W.label},W.value))})]})]}),g.scope==="grade_specific"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Grade"}),s.jsxs(wt,{value:g.grade_id,onValueChange:W=>y({...g,grade_id:W}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select grade"})}),s.jsx(bt,{children:l.map(W=>s.jsx(Le,{value:W.id,children:W.name},W.id))})]})]}),g.scope==="class_specific"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Class"}),s.jsxs(wt,{value:g.class_id,onValueChange:W=>y({...g,class_id:W}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select class"})}),s.jsx(bt,{children:u.map(W=>{var ae;return s.jsxs(Le,{value:W.id,children:[W.name," (",(ae=W.grade)==null?void 0:ae.name,")"]},W.id)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Due Date"}),s.jsx(Ge,{type:"date",value:g.due_date,onChange:W=>y({...g,due_date:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Academic Year"}),s.jsxs(wt,{value:g.academic_year,onValueChange:W=>y({...g,academic_year:W}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"2024-2025",children:"2024-2025"}),s.jsx(Le,{value:"2025-2026",children:"2025-2026"})]})]})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),s.jsx(Ne,{onClick:R,className:"bg-blue-600 hover:bg-blue-700",children:m?"Update":"Create Fee"})]})]})}),s.jsx(Zt,{open:b,onOpenChange:j,children:s.jsxs(Xt,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Create Fee Type"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Name *"}),s.jsx(Ge,{value:_.name,onChange:W=>N({..._,name:W.target.value}),placeholder:"e.g., Annual Trip"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Category"}),s.jsxs(wt,{value:_.category,onValueChange:W=>N({..._,category:W}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:U.map(W=>s.jsx(Le,{value:W.value,children:W.label},W.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Default Amount"}),s.jsx(Ge,{type:"number",step:"0.01",min:"0",value:_.default_amount,onChange:W=>N({..._,default_amount:W.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Description"}),s.jsx(Nr,{value:_.description,onChange:W=>N({..._,description:W.target.value}),placeholder:"Description of this fee type"})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Ne,{onClick:F,className:"bg-blue-600 hover:bg-blue-700",children:"Create Type"})]})]})}),s.jsx(Zt,{open:S,onOpenChange:T,children:s.jsxs(Xt,{children:[s.jsx(er,{children:s.jsx(tr,{children:"Assign Fee to Students"})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["This will assign ",s.jsx("strong",{children:k==null?void 0:k.name})," ($",(Y=k==null?void 0:k.amount)==null?void 0:Y.toFixed(2),") to all applicable students."]}),s.jsxs("div",{className:"p-4 bg-slate-100 rounded-lg",children:[s.jsxs("p",{className:"font-medium",children:["Scope: ",(k==null?void 0:k.scope)==="school_wide"&&"All Students"]}),(k==null?void 0:k.scope)==="grade_specific"&&s.jsxs("p",{className:"font-medium",children:["Grade: ",(Z=k==null?void 0:k.grade)==null?void 0:Z.name]}),(k==null?void 0:k.scope)==="class_specific"&&s.jsxs("p",{className:"font-medium",children:["Class: ",(se=k==null?void 0:k.class)==null?void 0:se.name]})]}),s.jsx("p",{className:"text-sm text-slate-500 mt-4",children:"Students who already have this fee assigned will be skipped."})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),s.jsx(Ne,{onClick:J,disabled:C,className:"bg-blue-600 hover:bg-blue-700",children:C?"Assigning...":"Assign Fee"})]})]})})]})},PM=[{value:"all",label:"All Positions",color:"bg-slate-100 text-slate-700"},{value:"Vaad G",label:"Vaad Gabbai",color:"bg-purple-100 text-purple-700",category:"administration"},{value:"Vaad R",label:"Vaad Ruchani",color:"bg-indigo-100 text-indigo-700",category:"administration"},{value:"Menahal",label:"Menahal",color:"bg-blue-100 text-blue-700",category:"administration"},{value:"Sgan Menahal",label:"Sgan Menahal",color:"bg-blue-100 text-blue-700",category:"administration"},{value:"Principal",label:"Principal",color:"bg-blue-100 text-blue-700",category:"administration"},{value:"Manager",label:"Manager",color:"bg-cyan-100 text-cyan-700",category:"administration"},{value:"Bus Manager",label:"Bus Manager",color:"bg-cyan-100 text-cyan-700",category:"administration"},{value:"Sec",label:"Secretary",color:"bg-pink-100 text-pink-700",category:"administration"},{value:"Chinuch Mychud",label:"Chinuch Meyuchad",color:"bg-orange-100 text-orange-700",category:"teaching"},{value:"Melamed",label:"Melamed",color:"bg-green-100 text-green-700",category:"teaching"},{value:"Melamed / Driver",label:"Melamed/Driver",color:"bg-green-100 text-green-700",category:"teaching"},{value:"Helper",label:"Helper",color:"bg-teal-100 text-teal-700",category:"teaching"},{value:"English Teacher",label:"English Teacher",color:"bg-emerald-100 text-emerald-700",category:"teaching"},{value:"Curriculum Implementer",label:"Curriculum",color:"bg-amber-100 text-amber-700",category:"teaching"},{value:"Driver",label:"Driver",color:"bg-slate-100 text-slate-700",category:"support"}],WBe=[{value:"Rabbi",label:"Rabbi"},{value:"Mrs",label:"Mrs"},{value:"Miss",label:"Miss"},{value:"Mr",label:"Mr"}],qBe=({role:e,currentUser:t})=>{const[r,n]=O.useState([]),[a,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[d,f]=O.useState(null),[h,p]=O.useState("all"),[v,m]=O.useState(""),[x,g]=O.useState({position:"Melamed",title:"Rabbi",full_name:"",hebrew_name:"",first_name:"",last_name:"",address:"",city:"",state:"NY",zip_code:"",home_phone:"",cell_phone:"",class_assignment:""}),[y,b]=O.useState(!1),[j,_]=O.useState(!1),[N,S]=O.useState(null),[T,k]=O.useState({email:"",password:"",role:"teacher"}),[V,C]=O.useState(!1),{toast:P}=Tr(),U=[{value:"principal",label:"Principal"},{value:"principal_hebrew",label:"Principal (Hebrew)"},{value:"principal_english",label:"Principal (English)"},{value:"admin",label:"Admin"},{value:"teacher",label:"Teacher"},{value:"teacher_hebrew",label:"Teacher (Hebrew)"},{value:"teacher_english",label:"Teacher (English)"},{value:"tutor",label:"Tutor"},{value:"special_ed",label:"Special Education"}];O.useEffect(()=>{q()},[]);const q=async()=>{try{i(!0);const{data:W,error:ae}=await Te.from("staff_members").select("*").eq("is_active",!0).order("last_name",{ascending:!0});if(ae)throw ae;n(W||[])}catch(W){console.error("Error fetching staff:",W),P({variant:"destructive",title:"Error",description:"Failed to load staff directory."})}finally{i(!1)}},z=async W=>{W.preventDefault(),b(!0);try{if(c&&d){const{error:ae}=await Te.from("staff_members").update(x).eq("id",d.id);if(ae)throw ae;P({title:"Updated",description:"Staff member details updated successfully."})}else{const{error:ae}=await Te.from("staff_members").insert([x]);if(ae)throw ae;P({title:"Staff Added",description:`${x.full_name} has been added to the directory.`})}l(!1),J(),q()}catch(ae){P({variant:"destructive",title:"Error",description:ae.message})}finally{b(!1)}},I=async W=>{if(window.confirm(`Are you sure you want to remove ${W.full_name} from the directory?`))try{const{error:ae}=await Te.from("staff_members").update({is_active:!1}).eq("id",W.id);if(ae)throw ae;P({title:"Staff Removed",description:`${W.full_name} has been removed from the directory.`}),q()}catch{P({variant:"destructive",title:"Error",description:"Could not remove staff member."})}},R=W=>{S(W);let ae="teacher";const fe=(W.position||"").toLowerCase();fe.includes("menahal")||fe.includes("principal")||fe.includes("sgan")?ae="principal":fe.includes("english")?ae="teacher_english":fe.includes("chinuch")||fe.includes("special")?ae="special_ed":(fe.includes("sec")||fe.includes("manager")||fe.includes("vaad"))&&(ae="admin"),k({email:"",password:"",role:ae}),_(!0)},G=async W=>{W.preventDefault(),C(!0);try{const ae=(N.full_name||"").split(",").map(Ae=>Ae.trim()),fe=ae[0]||"",Q=ae[1]||N.first_name||"",ke=await fetch("/api/create-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:T.email,password:T.password,name:N.full_name||`${Q} ${fe}`,first_name:Q||N.first_name||"",last_name:fe||N.last_name||"",role:T.role,assigned_class:N.class_assignment||""})}),Ie=await ke.json();if(!ke.ok)throw new Error(Ie.error||"Failed to create login");Ie.warning?P({variant:"destructive",title:"Partial Success",description:`Auth account created but profile may need manual setup: ${Ie.warning}`}):P({title:"Login Account Created",description:`${N.full_name} can now log in with ${T.email} as ${T.role}.`}),_(!1)}catch(ae){P({variant:"destructive",title:"Error Creating Login",description:ae.message})}finally{C(!1)}},F=W=>{f(W),g({position:W.position||"Melamed",title:W.title||"Rabbi",full_name:W.full_name||"",hebrew_name:W.hebrew_name||"",first_name:W.first_name||"",last_name:W.last_name||"",address:W.address||"",city:W.city||"",state:W.state||"NY",zip_code:W.zip_code||"",home_phone:W.home_phone||"",cell_phone:W.cell_phone||"",class_assignment:W.class_assignment||""}),u(!0),l(!0)},H=()=>{J(),u(!1),l(!0)},J=()=>{g({position:"Melamed",title:"Rabbi",full_name:"",hebrew_name:"",first_name:"",last_name:"",address:"",city:"",state:"NY",zip_code:"",home_phone:"",cell_phone:"",class_assignment:""}),f(null),u(!1)},A=W=>{const ae=PM.find(fe=>fe.value===W);return ae?s.jsx(Ct,{className:ae.color,children:ae.label}):s.jsx(Ct,{variant:"outline",children:W})},M=r.filter(W=>{var Q,ke,Ie,Ae;const ae=h==="all"||h==="administration"&&["Vaad G","Vaad R","Menahal","Sgan Menahal","Principal","Manager","Bus Manager","Sec"].includes(W.position)||h==="teaching"&&["Melamed","Melamed / Driver","Helper","English Teacher","Chinuch Mychud","Curriculum Implementer"].includes(W.position)||h==="support"&&["Driver"].includes(W.position)||W.position===h,fe=!v||((Q=W.full_name)==null?void 0:Q.toLowerCase().includes(v.toLowerCase()))||((ke=W.hebrew_name)==null?void 0:ke.includes(v))||((Ie=W.cell_phone)==null?void 0:Ie.includes(v))||((Ae=W.class_assignment)==null?void 0:Ae.includes(v));return ae&&fe}),K=r.filter(W=>["Vaad G","Vaad R","Menahal","Sgan Menahal","Principal","Manager","Bus Manager","Sec"].includes(W.position)).length,L=r.filter(W=>["Melamed","Melamed / Driver","Helper","Chinuch Mychud"].includes(W.position)).length,Y=r.filter(W=>W.position==="English Teacher").length,Z=r.filter(W=>["Driver","Melamed / Driver"].includes(W.position)).length,se=()=>{const W=["Position","Title","Name","Hebrew Name","Address","City","State","Zip","Home Phone","Cell Phone","Class"],ae=M.map(Ae=>[Ae.position,Ae.title,Ae.full_name,Ae.hebrew_name,Ae.address,Ae.city,Ae.state,Ae.zip_code,Ae.home_phone,Ae.cell_phone,Ae.class_assignment]),fe=[W,...ae].map(Ae=>Ae.map(ce=>`"${ce||""}"`).join(",")).join(`
`),Q=new Blob([fe],{type:"text/csv"}),ke=URL.createObjectURL(Q),Ie=document.createElement("a");Ie.href=ke,Ie.download="staff_directory.csv",Ie.click()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"Staff Directory"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Complete staff directory with contact information"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ne,{variant:"outline",onClick:se,children:[s.jsx(Ad,{className:"mr-2 h-4 w-4"})," Export CSV"]}),s.jsxs(Ne,{onClick:H,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(lB,{className:"mr-2 h-4 w-4"})," Add Staff"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Ia,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:r.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Staff"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(ore,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:K}),s.jsx("p",{className:"text-sm text-slate-500",children:"Administration"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(sC,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:L}),s.jsx("p",{className:"text-sm text-slate-500",children:"Hebrew Teachers"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:s.jsx(h0,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Y}),s.jsx("p",{className:"text-sm text-slate-500",children:"English Teachers"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-slate-100 rounded-lg",children:s.jsx(Gh,{className:"h-6 w-6 text-slate-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Z}),s.jsx("p",{className:"text-sm text-slate-500",children:"Drivers"})]})]})})]}),s.jsx(Ye,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{placeholder:"Search by name, phone, or class...",value:v,onChange:W=>m(W.target.value),className:"pl-10"})]}),s.jsx(Jo,{value:h,onValueChange:p,className:"w-full md:w-auto",children:s.jsxs(uo,{children:[s.jsx(vr,{value:"all",children:"All"}),s.jsx(vr,{value:"administration",children:"Administration"}),s.jsx(vr,{value:"teaching",children:"Teaching"}),s.jsx(vr,{value:"support",children:"Support"})]})})]})})}),s.jsx(Ye,{children:s.jsx(Xe,{className:"p-0",children:a?s.jsxs("div",{className:"flex justify-center items-center py-20",children:[s.jsx(Sn,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-slate-500",children:"Loading staff directory..."})]}):M.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx(Ia,{className:"h-12 w-12 mx-auto text-slate-300 mb-4"}),s.jsx("p",{className:"text-slate-500",children:"No staff members found"})]}):s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{className:"bg-slate-50",children:[s.jsx(dt,{className:"font-semibold",children:"Position"}),s.jsx(dt,{className:"font-semibold",children:"Name"}),s.jsx(dt,{className:"font-semibold text-right",dir:"rtl",children:"Hebrew Name"}),s.jsx(dt,{className:"font-semibold",children:"Class"}),s.jsx(dt,{className:"font-semibold",children:"Cell Phone"}),s.jsx(dt,{className:"font-semibold",children:"Home Phone"}),s.jsx(dt,{className:"font-semibold",children:"Address"}),s.jsx(dt,{className:"font-semibold text-right",children:"Actions"})]})}),s.jsx(Ba,{children:M.map(W=>s.jsxs(br,{className:"hover:bg-slate-50",children:[s.jsx(ct,{children:A(W.position)}),s.jsxs(ct,{className:"font-medium",children:[W.title," ",W.full_name]}),s.jsx(ct,{className:"text-right font-medium",dir:"rtl",children:W.hebrew_name}),s.jsx(ct,{children:W.class_assignment&&s.jsx(Ct,{variant:"outline",className:"font-mono",children:W.class_assignment})}),s.jsx(ct,{children:W.cell_phone&&s.jsxs("a",{href:`tel:${W.cell_phone}`,className:"flex items-center gap-1 text-blue-600 hover:text-blue-800",children:[s.jsx(nf,{className:"h-3 w-3"}),W.cell_phone]})}),s.jsx(ct,{children:W.home_phone&&s.jsxs("a",{href:`tel:${W.home_phone}`,className:"flex items-center gap-1 text-slate-600 hover:text-slate-800",children:[s.jsx(_re,{className:"h-3 w-3"}),W.home_phone]})}),s.jsx(ct,{className:"max-w-[200px] truncate",children:W.address&&s.jsxs("span",{className:"flex items-center gap-1 text-slate-600 text-sm",children:[s.jsx(sB,{className:"h-3 w-3 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:[W.address,", ",W.city]})]})}),s.jsx(ct,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>R(W),title:"Create Login Account",children:s.jsx(AN,{className:"h-4 w-4 text-green-600"})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>F(W),children:s.jsx(ma,{className:"h-4 w-4"})}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>I(W),children:s.jsx(za,{className:"h-4 w-4"})})]})})]},W.id))})]})})}),s.jsx(Zt,{open:o,onOpenChange:l,children:s.jsxs(Xt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(er,{children:[s.jsx(tr,{children:c?"Edit Staff Member":"Add Staff Member"}),s.jsx(Nl,{children:c?"Update staff member information":"Add a new staff member to the directory"})]}),s.jsxs("form",{onSubmit:z,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Position *"}),s.jsxs(wt,{value:x.position,onValueChange:W=>g({...x,position:W}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:PM.filter(W=>W.value!=="all").map(W=>s.jsx(Le,{value:W.value,children:W.label},W.value))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Title"}),s.jsxs(wt,{value:x.title,onValueChange:W=>g({...x,title:W}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:WBe.map(W=>s.jsx(Le,{value:W.value,children:W.label},W.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Full Name *"}),s.jsx(Ge,{value:x.full_name,onChange:W=>g({...x,full_name:W.target.value}),required:!0,placeholder:"Last, First"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Hebrew Name"}),s.jsx(Ge,{value:x.hebrew_name,onChange:W=>g({...x,hebrew_name:W.target.value}),dir:"rtl",placeholder:"Full name"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"First Name"}),s.jsx(Ge,{value:x.first_name,onChange:W=>g({...x,first_name:W.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Last Name"}),s.jsx(Ge,{value:x.last_name,onChange:W=>g({...x,last_name:W.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Address"}),s.jsx(Ge,{value:x.address,onChange:W=>g({...x,address:W.target.value}),placeholder:"Street address"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"City"}),s.jsx(Ge,{value:x.city,onChange:W=>g({...x,city:W.target.value}),placeholder:"City"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"State"}),s.jsx(Ge,{value:x.state,onChange:W=>g({...x,state:W.target.value}),placeholder:"NY"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Zip Code"}),s.jsx(Ge,{value:x.zip_code,onChange:W=>g({...x,zip_code:W.target.value}),placeholder:"10952"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Cell Phone"}),s.jsx(Ge,{value:x.cell_phone,onChange:W=>g({...x,cell_phone:W.target.value}),placeholder:"845-000-0000"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Home Phone"}),s.jsx(Ge,{value:x.home_phone,onChange:W=>g({...x,home_phone:W.target.value}),placeholder:"845-000-0000"})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Class Assignment"}),s.jsx(Ge,{value:x.class_assignment,onChange:W=>g({...x,class_assignment:W.target.value}),placeholder:"e.g., A, B, C/1st"})]}),s.jsxs(yr,{children:[s.jsx(Ne,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(Ne,{type:"submit",disabled:y,className:"bg-blue-600 hover:bg-blue-700",children:[y&&s.jsx(Sn,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Save Changes":"Add Staff Member"]})]})]})]})}),s.jsx(Zt,{open:j,onOpenChange:_,children:s.jsxs(Xt,{className:"sm:max-w-[425px]",children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Create Login Account"}),s.jsxs(Nl,{children:["Create a system login for ",(N==null?void 0:N.full_name)||"this staff member"," so they can access the app."]})]}),s.jsxs("form",{onSubmit:G,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{children:"Staff Member"}),s.jsxs("div",{className:"text-sm text-slate-600 font-medium",children:[N==null?void 0:N.title," ",N==null?void 0:N.full_name]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"loginEmail",children:"Email Address"}),s.jsx(Ge,{id:"loginEmail",type:"email",value:T.email,onChange:W=>k({...T,email:W.target.value}),placeholder:"email@school.edu",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"loginPassword",children:"Password"}),s.jsx(Ge,{id:"loginPassword",type:"password",value:T.password,onChange:W=>k({...T,password:W.target.value}),placeholder:"Set a temporary password",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"loginRole",children:"System Role"}),s.jsxs(wt,{value:T.role,onValueChange:W=>k({...T,role:W}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select role"})}),s.jsx(bt,{children:U.map(W=>s.jsx(Le,{value:W.value,children:W.label},W.value))})]})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),s.jsxs(Ne,{type:"submit",disabled:V,className:"bg-green-600 hover:bg-green-700",children:[V?s.jsx(Sn,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(AN,{className:"mr-2 h-4 w-4"}),"Create Login"]})]})]})]})})]})},GBe=({role:e,currentUser:t})=>{var G,F;const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]);O.useState([]);const[l,c]=O.useState(!0),[u,d]=O.useState(""),[f,h]=O.useState("all"),[p,v]=O.useState(!1),[m,x]=O.useState(null),[g,y]=O.useState([]),[b,j]=O.useState({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),[_,N]=O.useState(!1),[S,T]=O.useState(""),k=[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"credit_card",label:"Credit Card"},{value:"bank_transfer",label:"Bank Transfer"},{value:"other",label:"Other"}];O.useEffect(()=>{V()},[]);const V=async()=>{c(!0);try{const{data:H,error:J}=await Te.from("payments").select(`
          *,
          student:students(id, first_name, last_name),
          student_fee:student_fees(id, fee:fees(name))
        `).order("payment_date",{ascending:!1}).limit(100);if(J)throw J;a(H||[]);const{data:A,error:M}=await Te.from("students").select("id, first_name, last_name, class_id").eq("status","active").order("last_name");if(M)throw M;o(A||[])}catch(H){console.error("Error loading data:",H),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{c(!1)}},C=n.filter(H=>{var L,Y;const A=`${((L=H.student)==null?void 0:L.first_name)||""} ${((Y=H.student)==null?void 0:Y.last_name)||""}`.toLowerCase().includes(u.toLowerCase())||H.reference_number&&H.reference_number.toLowerCase().includes(u.toLowerCase());if(f==="all")return A;const M=new Date(H.payment_date),K=new Date;if(f==="today")return A&&M.toDateString()===K.toDateString();if(f==="week"){const Z=new Date(K.setDate(K.getDate()-7));return A&&M>=Z}else if(f==="month")return A&&M.getMonth()===K.getMonth()&&M.getFullYear()===K.getFullYear();return A}),P=n.filter(H=>new Date(H.payment_date).toDateString()===new Date().toDateString()).reduce((H,J)=>H+J.amount,0),U=n.filter(H=>{const J=new Date(H.payment_date),A=new Date;return J.getMonth()===A.getMonth()&&J.getFullYear()===A.getFullYear()}).reduce((H,J)=>H+J.amount,0),q=async H=>{x(H),N(!1);try{const{data:J,error:A}=await Te.from("student_fees").select(`
          *,
          fee:fees(id, name, amount)
        `).eq("student_id",H.id).in("status",["pending","partial"]);if(A)throw A;y(J||[]),(J||[]).length>0&&j(M=>({...M,student_fee_id:J[0].id,amount:(J[0].amount-J[0].amount_paid).toFixed(2)})),v(!0)}catch(J){console.error("Error loading student fees:",J),r({variant:"destructive",title:"Error",description:"Failed to load student fees"})}},z=H=>{const J=g.find(A=>A.id===H);J&&j(A=>({...A,student_fee_id:H,amount:(J.amount-J.amount_paid).toFixed(2)}))},I=async()=>{if(!m||!b.amount){r({variant:"destructive",title:"Error",description:"Please enter an amount"});return}try{const{error:H}=await Te.from("payments").insert([{student_id:m.id,student_fee_id:b.student_fee_id||null,amount:parseFloat(b.amount),payment_method:b.payment_method,reference_number:b.reference_number||null,notes:b.notes||null,payment_date:new Date().toISOString().split("T")[0],received_by:t==null?void 0:t.id}]);if(H)throw H;r({title:"Success",description:"Payment recorded successfully"}),v(!1),x(null),y([]),j({student_fee_id:"",amount:"",payment_method:"cash",reference_number:"",notes:""}),V()}catch(H){console.error("Error saving payment:",H),r({variant:"destructive",title:"Error",description:"Failed to save payment"})}},R=i.filter(H=>`${H.first_name} ${H.last_name}`.toLowerCase().includes(S.toLowerCase()));return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Payments"}),s.jsx("p",{className:"text-slate-500",children:"Record and track student payments"})]}),s.jsxs(Ne,{onClick:()=>N(!0),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",P.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Today's Total"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",U.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"This Month"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Bg,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.filter(H=>new Date(H.payment_date).toDateString()===new Date().toDateString()).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Today's Payments"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Jm,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.filter(H=>H.payment_method==="check").length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Checks Received"})]})]})})]}),s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(sr,{children:"Payment History"}),s.jsx(Sa,{children:"Recent payments received"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{placeholder:"Search by student or reference...",value:u,onChange:H=>d(H.target.value),className:"pl-10 w-64"})]}),s.jsxs(wt,{value:f,onValueChange:h,children:[s.jsx(yt,{className:"w-32",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Time"}),s.jsx(Le,{value:"today",children:"Today"}),s.jsx(Le,{value:"week",children:"This Week"}),s.jsx(Le,{value:"month",children:"This Month"})]})]})]})]})}),s.jsx(Xe,{children:C.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Bg,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No payments found"}),s.jsx("p",{className:"text-sm",children:'Click "Record Payment" to add a new payment'})]}):s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Date"}),s.jsx(dt,{children:"Student"}),s.jsx(dt,{children:"For"}),s.jsx(dt,{className:"text-right",children:"Amount"}),s.jsx(dt,{children:"Method"}),s.jsx(dt,{children:"Reference"})]})}),s.jsx(Ba,{children:C.map(H=>{var J,A,M,K;return s.jsxs(br,{children:[s.jsx(ct,{className:"font-medium",children:new Date(H.payment_date).toLocaleDateString()}),s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-slate-100 flex items-center justify-center",children:s.jsx(as,{className:"h-4 w-4 text-slate-500"})}),s.jsxs("span",{children:[(J=H.student)==null?void 0:J.first_name," ",(A=H.student)==null?void 0:A.last_name]})]})}),s.jsx(ct,{children:((K=(M=H.student_fee)==null?void 0:M.fee)==null?void 0:K.name)||H.description||"General Payment"}),s.jsxs(ct,{className:"text-right font-bold text-green-600",children:["$",H.amount.toFixed(2)]}),s.jsx(ct,{children:s.jsx(Ct,{variant:"outline",className:"capitalize",children:H.payment_method.replace("_"," ")})}),s.jsx(ct,{className:"text-slate-500",children:H.reference_number||"-"})]},H.id)})})]})})]}),s.jsx(Zt,{open:_,onOpenChange:N,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:"Select Student"})}),s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{placeholder:"Search students...",value:S,onChange:H=>T(H.target.value),className:"pl-10",autoFocus:!0})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto space-y-1",children:R.map(H=>{var J,A;return s.jsxs("button",{onClick:()=>q(H),className:"w-full p-3 text-left hover:bg-slate-100 rounded-lg transition-colors flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"font-semibold text-blue-600",children:[(J=H.first_name)==null?void 0:J.charAt(0),(A=H.last_name)==null?void 0:A.charAt(0)]})}),s.jsx("div",{children:s.jsxs("p",{className:"font-medium",children:[H.first_name," ",H.last_name]})})]},H.id)})})]})]})}),s.jsx(Zt,{open:p,onOpenChange:v,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:"Record Payment"})}),s.jsxs("div",{className:"py-4 space-y-4",children:[m&&s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsxs("span",{className:"font-semibold text-blue-600",children:[(G=m.first_name)==null?void 0:G.charAt(0),(F=m.last_name)==null?void 0:F.charAt(0)]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[m.first_name," ",m.last_name]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Recording payment"})]})]}),g.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Apply to Fee"}),s.jsxs(wt,{value:b.student_fee_id,onValueChange:z,children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select fee"})}),s.jsx(bt,{children:g.map(H=>{var J;return s.jsxs(Le,{value:H.id,children:[(J=H.fee)==null?void 0:J.name," - Owed: $",(H.amount-H.amount_paid).toFixed(2)]},H.id)})})]})]}):s.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg text-sm text-yellow-800",children:"No outstanding fees found for this student. Payment will be recorded as a general payment."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Amount *"}),s.jsx(Ge,{type:"number",step:"0.01",min:"0",value:b.amount,onChange:H=>j({...b,amount:H.target.value}),placeholder:"0.00"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Payment Method"}),s.jsxs(wt,{value:b.payment_method,onValueChange:H=>j({...b,payment_method:H}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:k.map(H=>s.jsx(Le,{value:H.value,children:H.label},H.value))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Reference # (Check #, Transaction ID)"}),s.jsx(Ge,{value:b.reference_number,onChange:H=>j({...b,reference_number:H.target.value}),placeholder:"e.g., Check #1234"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Notes"}),s.jsx(Nr,{value:b.notes,onChange:H=>j({...b,notes:H.target.value}),placeholder:"Optional notes about this payment"})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>{v(!1),x(null),y([])},children:"Cancel"}),s.jsxs(Ne,{onClick:I,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(wi,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})]})},KBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState("all"),[f,h]=O.useState(""),[p,v]=O.useState("all"),[m,x]=O.useState([]),[g,y]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{a(!0);try{const{data:U,error:q}=await Te.from("fees").select("*").order("created_at",{ascending:!1});if(q)throw q;o(U||[]);const{data:z,error:I}=await Te.from("student_fees").select(`
          *,
          student:students(id, first_name, last_name, class_id, class:classes!class_id(id, name, grade_id, grade:grades(id, name))),
          fee:fees(id, name, amount, due_date)
        `);if(I)throw I;c(z||[]);const{data:R,error:G}=await Te.from("grades").select("*").order("grade_number");if(G)throw G;x(R||[])}catch(U){console.error("Error loading data:",U),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{a(!1)}},j=l.filter(U=>{var F,H,J,A;const z=`${((F=U.student)==null?void 0:F.first_name)||""} ${((H=U.student)==null?void 0:H.last_name)||""}`.toLowerCase().includes(f.toLowerCase()),I=u==="all"||U.fee_id===u,R=p==="all"||U.status===p,G=g==="all"||((A=(J=U.student)==null?void 0:J.class)==null?void 0:A.grade_id)===g;return z&&I&&R&&G}),_=j.reduce((U,q)=>U+(q.amount||0),0),N=j.reduce((U,q)=>U+(q.amount_paid||0),0),S=_-N,T=j.filter(U=>U.status==="paid").length,k=j.filter(U=>U.status==="pending").length,V=j.filter(U=>U.status==="partial").length,C=()=>{const U={};return l.forEach(q=>{var I;const z=((I=q.fee)==null?void 0:I.name)||"Unknown";U[z]||(U[z]={name:z,total:0,collected:0,students:0,paid:0}),U[z].total+=q.amount,U[z].collected+=q.amount_paid,U[z].students+=1,q.status==="paid"&&(U[z].paid+=1)}),Object.values(U)},P=()=>{const U=["Student Name","Class","Grade","Fee","Amount","Paid","Outstanding","Status"],q=j.map(F=>{var H,J,A,M,K,L,Y,Z;return[`${((H=F.student)==null?void 0:H.first_name)||""} ${((J=F.student)==null?void 0:J.last_name)||""}`,((M=(A=F.student)==null?void 0:A.class)==null?void 0:M.name)||"",((Y=(L=(K=F.student)==null?void 0:K.class)==null?void 0:L.grade)==null?void 0:Y.name)||"",((Z=F.fee)==null?void 0:Z.name)||"",(F.amount||0).toFixed(2),(F.amount_paid||0).toFixed(2),((F.amount||0)-(F.amount_paid||0)).toFixed(2),F.status]}),z=[U.join(","),...q.map(F=>F.map(H=>`"${H}"`).join(","))].join(`
`),I=new Blob([z],{type:"text/csv"}),R=window.URL.createObjectURL(I),G=document.createElement("a");G.href=R,G.download=`financial_report_${new Date().toISOString().split("T")[0]}.csv`,G.click(),window.URL.revokeObjectURL(R),r({title:"Success",description:"Report exported successfully"})};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Financial Reports"}),s.jsx("p",{className:"text-slate-500",children:"Track fee collection and outstanding balances"})]}),s.jsxs(Ne,{onClick:P,variant:"outline",children:[s.jsx(Ad,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(xs,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",_.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Expected"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(wi,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",N.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Collected"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(bi,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",S.toFixed(0)]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Outstanding"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:s.jsx(Ia,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:T}),s.jsx("p",{className:"text-sm text-slate-500",children:"Fully Paid"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Ia,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:k+V}),s.jsx("p",{className:"text-sm text-slate-500",children:"Unpaid/Partial"})]})]})})]}),s.jsxs(Jo,{defaultValue:"details",className:"space-y-4",children:[s.jsxs(uo,{children:[s.jsx(vr,{value:"details",children:"Student Details"}),s.jsx(vr,{value:"summary",children:"Fee Summary"}),s.jsx(vr,{value:"unpaid",children:"Unpaid List"})]}),s.jsx(Ur,{value:"details",children:s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(sr,{children:"Student Fee Details"}),s.jsx(Sa,{children:"Complete breakdown by student"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{placeholder:"Search student...",value:f,onChange:U=>h(U.target.value),className:"pl-10 w-48"})]}),s.jsxs(wt,{value:u,onValueChange:d,children:[s.jsx(yt,{className:"w-40",children:s.jsx(_t,{placeholder:"Select fee"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Fees"}),i.map(U=>s.jsx(Le,{value:U.id,children:U.name},U.id))]})]}),s.jsxs(wt,{value:g,onValueChange:y,children:[s.jsx(yt,{className:"w-36",children:s.jsx(_t,{placeholder:"Grade"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Grades"}),m.map(U=>s.jsx(Le,{value:U.id,children:U.name},U.id))]})]}),s.jsxs(wt,{value:p,onValueChange:v,children:[s.jsx(yt,{className:"w-32",children:s.jsx(_t,{placeholder:"Status"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Status"}),s.jsx(Le,{value:"paid",children:"Paid"}),s.jsx(Le,{value:"partial",children:"Partial"}),s.jsx(Le,{value:"pending",children:"Pending"})]})]})]})]})}),s.jsxs(Xe,{children:[s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Student"}),s.jsx(dt,{children:"Class"}),s.jsx(dt,{children:"Fee"}),s.jsx(dt,{className:"text-right",children:"Amount"}),s.jsx(dt,{className:"text-right",children:"Paid"}),s.jsx(dt,{className:"text-right",children:"Outstanding"}),s.jsx(dt,{className:"text-center",children:"Status"})]})}),s.jsx(Ba,{children:j.map(U=>{var q,z,I,R,G;return s.jsxs(br,{children:[s.jsxs(ct,{className:"font-medium",children:[(q=U.student)==null?void 0:q.first_name," ",(z=U.student)==null?void 0:z.last_name]}),s.jsx(ct,{children:s.jsx("span",{className:"text-slate-500",children:(R=(I=U.student)==null?void 0:I.class)==null?void 0:R.name})}),s.jsx(ct,{children:(G=U.fee)==null?void 0:G.name}),s.jsxs(ct,{className:"text-right",children:["$",U.amount.toFixed(2)]}),s.jsxs(ct,{className:"text-right text-green-600",children:["$",U.amount_paid.toFixed(2)]}),s.jsxs(ct,{className:"text-right font-medium text-red-600",children:["$",(U.amount-U.amount_paid).toFixed(2)]}),s.jsx(ct,{className:"text-center",children:s.jsx(Ct,{variant:U.status==="paid"?"default":U.status==="partial"?"secondary":"destructive",className:U.status==="paid"?"bg-green-500":"",children:U.status})})]},U.id)})})]}),j.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Ts,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No records found matching your filters"})]})]})]})}),s.jsx(Ur,{value:"summary",children:s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsx(sr,{children:"Fee Collection Summary"}),s.jsx(Sa,{children:"Overview of each fee's collection status"})]}),s.jsx(Xe,{children:s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Fee Name"}),s.jsx(dt,{className:"text-center",children:"Students"}),s.jsx(dt,{className:"text-right",children:"Total Expected"}),s.jsx(dt,{className:"text-right",children:"Collected"}),s.jsx(dt,{className:"text-right",children:"Outstanding"}),s.jsx(dt,{className:"text-center",children:"Collection %"}),s.jsx(dt,{className:"text-center",children:"Paid / Total"})]})}),s.jsx(Ba,{children:C().map((U,q)=>{const z=U.total>0?Math.round(U.collected/U.total*100):0;return s.jsxs(br,{children:[s.jsx(ct,{className:"font-semibold",children:U.name}),s.jsx(ct,{className:"text-center",children:U.students}),s.jsxs(ct,{className:"text-right",children:["$",U.total.toFixed(2)]}),s.jsxs(ct,{className:"text-right text-green-600",children:["$",U.collected.toFixed(2)]}),s.jsxs(ct,{className:"text-right text-red-600",children:["$",(U.total-U.collected).toFixed(2)]}),s.jsx(ct,{className:"text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("div",{className:"w-16 h-2 bg-slate-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${z>=80?"bg-green-500":z>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${z}%`}})}),s.jsxs("span",{className:"text-sm font-medium",children:[z,"%"]})]})}),s.jsx(ct,{className:"text-center",children:s.jsxs(Ct,{variant:"outline",children:[U.paid," / ",U.students]})})]},q)})})]})})]})}),s.jsx(Ur,{value:"unpaid",children:s.jsxs(Ye,{children:[s.jsxs(ir,{children:[s.jsx(sr,{className:"text-red-600",children:"Outstanding Balances"}),s.jsx(Sa,{children:"Students with unpaid or partial fees"})]}),s.jsxs(Xe,{children:[s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Student"}),s.jsx(dt,{children:"Class"}),s.jsx(dt,{children:"Grade"}),s.jsx(dt,{children:"Fee"}),s.jsx(dt,{className:"text-right",children:"Owed"}),s.jsx(dt,{children:"Due Date"}),s.jsx(dt,{className:"text-center",children:"Status"})]})}),s.jsx(Ba,{children:l.filter(U=>U.status!=="paid"&&U.status!=="waived").sort((U,q)=>q.amount-q.amount_paid-(U.amount-U.amount_paid)).map(U=>{var q,z,I,R,G,F,H,J,A;return s.jsxs(br,{className:"bg-red-50/50",children:[s.jsxs(ct,{className:"font-medium",children:[(q=U.student)==null?void 0:q.first_name," ",(z=U.student)==null?void 0:z.last_name]}),s.jsx(ct,{children:(R=(I=U.student)==null?void 0:I.class)==null?void 0:R.name}),s.jsx(ct,{children:(H=(F=(G=U.student)==null?void 0:G.class)==null?void 0:F.grade)==null?void 0:H.name}),s.jsx(ct,{children:(J=U.fee)==null?void 0:J.name}),s.jsxs(ct,{className:"text-right font-bold text-red-600",children:["$",(U.amount-U.amount_paid).toFixed(2)]}),s.jsx(ct,{children:(A=U.fee)!=null&&A.due_date?new Date(U.fee.due_date).toLocaleDateString():"-"}),s.jsx(ct,{className:"text-center",children:s.jsx(Ct,{variant:U.status==="partial"?"secondary":"destructive",children:U.status})})]},U.id)})})]}),l.filter(U=>U.status!=="paid"&&U.status!=="waived").length===0&&s.jsxs("div",{className:"text-center py-12 text-green-600",children:[s.jsx(wi,{className:"h-12 w-12 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"All caught up!"}),s.jsx("p",{className:"text-sm text-slate-500",children:"No outstanding balances"})]})]})]})})]})]})},H3=({students:e=[],value:t,onChange:r,onStudentSelect:n,placeholder:a="Search student...",disabled:i=!1,label:o})=>{var N;const[l,c]=O.useState(!1),[u,d]=O.useState(""),[f,h]=O.useState(!1),p=O.useRef(null),v=O.useRef(null),m=e.find(S=>S.id===t);O.useEffect(()=>{const S=T=>{p.current&&!p.current.contains(T.target)&&(c(!1),h(!1))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const g=[...e.filter(S=>{var k,V,C,P,U,q;if(!u&&!f)return!1;if(f&&!u)return!0;const T=u.toLowerCase();return((k=S.first_name)==null?void 0:k.toLowerCase().includes(T))||((V=S.last_name)==null?void 0:V.toLowerCase().includes(T))||((C=S.hebrew_name)==null?void 0:C.includes(u))||((P=S.father_name)==null?void 0:P.toLowerCase().includes(T))||((q=(U=S.class)==null?void 0:U.name)==null?void 0:q.toLowerCase().includes(T))})].sort((S,T)=>{var C,P;const k=((C=S.class)==null?void 0:C.name)||"",V=((P=T.class)==null?void 0:P.name)||"";return k!==V?k.localeCompare(V):(S.last_name||"").localeCompare(T.last_name||"")}),y={};f&&g.forEach(S=>{var k;const T=((k=S.class)==null?void 0:k.name)||"No class";y[T]||(y[T]=[]),y[T].push(S)});const b=S=>{r(S.id),n&&n(S),c(!1),h(!1),d("")},j=()=>{r(""),n&&n(null),d("")},_=S=>S?S.hebrew_name||`${S.first_name} ${S.last_name}`:"";return s.jsxs("div",{ref:p,className:"relative w-full",children:[m&&!l?s.jsxs("div",{className:"flex items-center justify-between border rounded-md px-3 py-2 bg-blue-50 border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-7 w-7 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 text-xs font-bold",children:_(m).charAt(0)}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-sm",children:_(m)}),((N=m.class)==null?void 0:N.name)&&s.jsx(Ct,{variant:"outline",className:"mr-2 text-[10px] py-0",children:m.class.name})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Ne,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{c(!0),setTimeout(()=>{var S;return(S=v.current)==null?void 0:S.focus()},50)},children:s.jsx(Ja,{className:"h-3 w-3 text-slate-400"})}),!i&&s.jsx(Ne,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:j,children:s.jsx(Q0,{className:"h-3 w-3 text-red-400"})})]})]}):s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400 pointer-events-none"}),s.jsx(Ge,{ref:v,value:u,onChange:S=>{d(S.target.value),c(!0),S.target.value&&h(!1)},onFocus:()=>c(!0),placeholder:a,disabled:i,className:"pr-10"})]}),l&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white border border-slate-200 rounded-lg shadow-xl max-h-80 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-slate-50",children:[s.jsx("span",{className:"text-xs text-slate-500",children:f?`${g.length} students`:u?`${g.length} results`:"Type a name or browse"}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"h-7 text-xs px-2",onClick:()=>{h(!f),d("")},children:f?s.jsxs(s.Fragment,{children:["Search ",s.jsx(Ja,{className:"h-3 w-3 mr-1"})]}):s.jsxs(s.Fragment,{children:["All Students ",s.jsx(iC,{className:"h-3 w-3 mr-1"})]})})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[f&&!u?Object.entries(y).map(([S,T])=>s.jsxs("div",{children:[s.jsxs("div",{className:"sticky top-0 bg-slate-100 px-3 py-1.5 text-xs font-bold text-slate-600 border-b",children:[S," (",T.length,")"]}),T.map(k=>s.jsx(OM,{student:k,onSelect:b,getDisplayName:_,isSelected:k.id===t},k.id))]},S)):g.map(S=>s.jsx(OM,{student:S,onSelect:b,getDisplayName:_,isSelected:S.id===t,showClass:!0},S.id)),u&&g.length===0&&s.jsxs("div",{className:"p-4 text-center text-sm text-slate-400",children:[s.jsx(as,{className:"h-8 w-8 mx-auto mb-2 opacity-40"}),'No students found for "',u,'"']}),!u&&!f&&s.jsx("div",{className:"p-4 text-center text-sm text-slate-400",children:'Type a name to search, or click "All Students" to browse'})]})]})]})},OM=({student:e,onSelect:t,getDisplayName:r,isSelected:n,showClass:a=!1})=>{var i,o;return s.jsxs("button",{type:"button",className:`w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-blue-50 transition-colors text-right ${n?"bg-blue-50 border-r-2 border-blue-500":""}`,onClick:()=>t(e),children:[s.jsx("div",{className:"h-7 w-7 rounded-full bg-slate-100 flex items-center justify-center text-slate-600 text-xs font-bold flex-shrink-0",children:r(e).charAt(0)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[s.jsx("span",{className:"font-medium truncate",children:r(e)}),e.hebrew_name&&e.first_name&&s.jsxs("span",{className:"text-xs text-slate-400 truncate",children:["(",e.first_name," ",e.last_name,")"]})]}),a&&((i=e.class)==null?void 0:i.name)&&s.jsx("span",{className:"text-xs text-slate-400",children:e.class.name})]}),!a&&((o=e.class)==null?void 0:o.name)&&s.jsx(Ct,{variant:"outline",className:"text-[10px] py-0 flex-shrink-0",children:e.class.name})]})},Nm=[{value:"monitoring",label:"Monitoring",color:"bg-yellow-100 text-yellow-800"},{value:"referral_pending",label:"Referral Pending",color:"bg-orange-100 text-orange-800"},{value:"being_evaluated",label:"Being Evaluated",color:"bg-blue-100 text-blue-800"},{value:"has_plan",label:"Has Plan",color:"bg-purple-100 text-purple-800"},{value:"receiving_services",label:"Receiving Services",color:"bg-green-100 text-green-800"},{value:"discharged",label:"Discharged",color:"bg-gray-100 text-gray-800"}],uS=[{value:"speech",label:"Speech Therapy"},{value:"OT",label:"OT - Occupational Therapy"},{value:"PT",label:"PT - Physical Therapy"},{value:"behavioral",label:"Behavioral"},{value:"academic",label:"Academic Support"},{value:"social_skills",label:"Social Skills"},{value:"reading",label:"Reading"},{value:"other",label:"Other"}],FM=[{value:"principal",label:"Principal"},{value:"teacher",label:"Teacher"},{value:"parent",label:"Parent"},{value:"private_tutor",label:"Private Tutor"},{value:"therapist",label:"Therapist"},{value:"other",label:"Other"}],DM=[{value:"psychoeducational",label:"Psychoeducational"},{value:"speech",label:"Speech"},{value:"OT",label:"OT"},{value:"behavioral",label:"Behavioral"},{value:"academic",label:"Academic"},{value:"other",label:"Other"}],dS=[{value:"coordinator",label:"Coordinator"},{value:"psychologist",label:"Psychologist"},{value:"speech_therapist",label:"Speech Therapist"},{value:"OT",label:"OT Therapist"},{value:"PT",label:"PT Therapist"},{value:"resource_teacher",label:"Resource Teacher"},{value:"aide",label:"Aide"},{value:"other",label:"Other"}],LM=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Shabbos"],YBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState("students"),[i,o]=O.useState(!0),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState([]),[m,x]=O.useState(""),[g,y]=O.useState("all"),[b,j]=O.useState(!1),[_,N]=O.useState(!1),[S,T]=O.useState(!1),[k,V]=O.useState(!1),[C,P]=O.useState(!1),[U,q]=O.useState(!1);O.useState(!1);const[z,I]=O.useState(!1),[R,G]=O.useState(!1),[F,H]=O.useState({}),[J,A]=O.useState(null),[M,K]=O.useState(null),[L,Y]=O.useState(null),[Z,se]=O.useState({student_id:"",status:"monitoring",referral_reason:"",help_type:"",help_description:"",current_plan:"",referral_date:new Date().toISOString().split("T")[0]}),[W,ae]=O.useState({source_type:"teacher",source_name:"",content:"",date_gathered:new Date().toISOString().split("T")[0]}),[fe,Q]=O.useState({evaluation_type:"psychoeducational",evaluator_name:"",evaluation_date:new Date().toISOString().split("T")[0],results:"",recommendations:"",plan:"",actual_actions:""}),[ke,Ie]=O.useState({tutor_name:"",tutor_phone:"",tutor_type:"private_teacher",subject:"",schedule_days:"",schedule_time:"",location:"",frequency:"weekly",session_duration_minutes:45,notes:"",start_date:new Date().toISOString().split("T")[0]}),[Ae,ce]=O.useState({name:"",hebrew_name:"",role:"resource_teacher",phone:"",email:"",specialization:"",certification:"",notes:""}),[Re,at]=O.useState({day_of_week:1,start_time:"08:00",end_time:"15:00",location:"",status:"in_school",notes:""}),[$e,et]=O.useState({special_ed_staff_id:"",tutor_name:"",session_date:new Date().toISOString().split("T")[0],session_time:"",duration_minutes:30,subject:"",content:"",progress_notes:"",goals_worked_on:""}),[xe,de]=O.useState({infoSources:[],evaluations:[],tutoring:[],sessionLogs:[]});O.useEffect(()=>{Be()},[]);const Be=async()=>{o(!0);try{const{data:le}=await Te.from("special_ed_students").select(`
          *,
          student:students(id, first_name, last_name, hebrew_name, class_id,
            class:classes!class_id(name, grade:grades(name))
          )
        `).eq("is_active",!0).order("created_at",{ascending:!1});c(le||[]);let Rt=null;const{data:kr,error:ar}=await Te.from("students").select("id, first_name, last_name, hebrew_name, class_id, class:classes!class_id(name)").eq("status","active").order("last_name");if(ar){console.error("Error loading students with class join, trying without:",ar);const{data:aa}=await Te.from("students").select("id, first_name, last_name, hebrew_name, class_id").eq("status","active").order("last_name");Rt=aa}else Rt=kr;d(Rt||[]);const{data:Bt}=await Te.from("special_ed_staff").select("*").eq("is_active",!0).order("name");h(Bt||[]);const{data:Jt}=await Te.from("classes").select("id, name, grade:grades(name)").order("name");v(Jt||[])}catch(le){console.error("Error loading data:",le),r({variant:"destructive",title:"Error",description:"Failed to load data"})}finally{o(!1)}},we=async le=>{try{const[Rt,kr,ar,Bt]=await Promise.all([Te.from("special_ed_info_sources").select("*").eq("special_ed_student_id",le).order("date_gathered",{ascending:!1}),Te.from("special_ed_evaluations").select("*").eq("special_ed_student_id",le).order("evaluation_date",{ascending:!1}),Te.from("special_ed_tutoring").select("*").eq("special_ed_student_id",le).eq("is_active",!0).order("created_at",{ascending:!1}),Te.from("special_ed_session_logs").select("*, staff:special_ed_staff(name)").eq("special_ed_student_id",le).order("session_date",{ascending:!1}).limit(20)]);de({infoSources:Rt.data||[],evaluations:kr.data||[],tutoring:ar.data||[],sessionLogs:Bt.data||[]})}catch(Rt){console.error("Error loading detail:",Rt)}},[ge,ze]=O.useState([]),tt=async le=>{const{data:Rt}=await Te.from("special_ed_staff_schedule").select("*").eq("special_ed_staff_id",le).eq("is_active",!0).order("day_of_week");ze(Rt||[])},ht=async le=>{L===le?Y(null):(Y(le),await we(le))},Se=async()=>{if(!Z.student_id){r({variant:"destructive",title:"Error",description:"Please select a student"});return}try{const le={student_id:Z.student_id,status:Z.status,referral_reason:Z.referral_reason||null,referral_date:Z.referral_date||null,help_type:Z.help_type||null,help_description:Z.help_description||null,current_plan:Z.current_plan||null,created_by:t==null?void 0:t.id};if(J){const{error:Rt}=await Te.from("special_ed_students").update(le).eq("id",J.id);if(Rt)throw Rt;r({title:"Updated",description:"Student record updated"})}else{const{error:Rt}=await Te.from("special_ed_students").insert([le]);if(Rt)throw Rt;r({title:"Added",description:"Student added to special education"})}j(!1),Be()}catch(le){console.error("Error saving:",le),r({variant:"destructive",title:"Error",description:le.message})}},st=async()=>{if(!W.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{const{error:le}=await Te.from("special_ed_info_sources").insert([{special_ed_student_id:J.id,source_type:W.source_type,source_name:W.source_name||null,content:W.content,date_gathered:W.date_gathered,gathered_by:t==null?void 0:t.id,gathered_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)}]);if(le)throw le;r({title:"Added",description:"Information recorded"}),N(!1),we(J.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},it=async()=>{try{const{error:le}=await Te.from("special_ed_evaluations").insert([{special_ed_student_id:J.id,evaluation_type:fe.evaluation_type,evaluator_name:fe.evaluator_name||null,evaluation_date:fe.evaluation_date,results:fe.results||null,recommendations:fe.recommendations||null,plan:fe.plan||null,actual_actions:fe.actual_actions||null,created_by:t==null?void 0:t.id}]);if(le)throw le;r({title:"Added",description:"Evaluation recorded"}),T(!1),we(J.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},qt=async()=>{if(!ke.tutor_name){r({variant:"destructive",title:"Error",description:"Please enter tutor name"});return}try{const{error:le}=await Te.from("special_ed_tutoring").insert([{special_ed_student_id:J.id,...ke}]);if(le)throw le;r({title:"Added",description:"Tutoring assignment saved"}),V(!1),we(J.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},jt=async()=>{if(!Ae.name){r({variant:"destructive",title:"Error",description:"Please enter staff name"});return}try{if(M){const{error:le}=await Te.from("special_ed_staff").update(Ae).eq("id",M.id);if(le)throw le;r({title:"Updated",description:"Staff record updated"})}else{const{error:le}=await Te.from("special_ed_staff").insert([Ae]);if(le)throw le;r({title:"Added",description:"Staff member added"})}P(!1),Be()}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},Sr=async()=>{try{const{error:le}=await Te.from("special_ed_staff_schedule").insert([{special_ed_staff_id:M.id,...Re}]);if(le)throw le;r({title:"Added",description:"Schedule saved"}),q(!1),tt(M.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},Gt=async()=>{if(!$e.content){r({variant:"destructive",title:"Error",description:"Please enter session content"});return}try{const{error:le}=await Te.from("special_ed_session_logs").insert([{special_ed_student_id:J.id,special_ed_staff_id:$e.special_ed_staff_id||null,tutor_name:$e.tutor_name||null,session_date:$e.session_date,session_time:$e.session_time||null,duration_minutes:$e.duration_minutes||null,subject:$e.subject||null,content:$e.content,progress_notes:$e.progress_notes||null,goals_worked_on:$e.goals_worked_on||null}]);if(le)throw le;r({title:"Added",description:"Session log saved"}),I(!1),we(J.id)}catch(le){r({variant:"destructive",title:"Error",description:le.message})}},or=le=>{const Rt=Nm.find(kr=>kr.value===le);return Rt?s.jsx(Ct,{className:Rt.color,children:Rt.label}):s.jsx(Ct,{children:le})},Wr=(le,Rt)=>{H({subject:le,body:Rt}),G(!0)},Ht=l.filter(le=>{var ar,Bt,Jt,aa,nn,Je,kt;const Rt=!m||((Bt=(ar=le.student)==null?void 0:ar.first_name)==null?void 0:Bt.toLowerCase().includes(m.toLowerCase()))||((aa=(Jt=le.student)==null?void 0:Jt.last_name)==null?void 0:aa.toLowerCase().includes(m.toLowerCase()))||((Je=(nn=le.student)==null?void 0:nn.hebrew_name)==null?void 0:Je.includes(m))||((kt=le.referral_reason)==null?void 0:kt.includes(m)),kr=g==="all"||le.status===g;return Rt&&kr}),Yr={total:l.length,monitoring:l.filter(le=>le.status==="monitoring").length,pendingEval:l.filter(le=>le.status==="referral_pending"||le.status==="being_evaluated").length,active:l.filter(le=>le.status==="receiving_services"||le.status==="has_plan").length};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Sn,{className:"h-8 w-8 animate-spin text-orange-600"})}):s.jsxs("div",{className:"space-y-6",dir:"ltr",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Special Education"}),s.jsx("p",{className:"text-slate-500",children:"Special Education Management - Students, Staff, Evaluations, and Plans"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ne,{variant:"outline",onClick:Be,children:[s.jsx(lC,{className:"h-4 w-4 mr-2"})," Refresh"]}),s.jsxs(Ne,{onClick:()=>{A(null),se({student_id:"",status:"monitoring",referral_reason:"",help_type:"",help_description:"",current_plan:"",referral_date:new Date().toISOString().split("T")[0]}),j(!0)},className:"bg-orange-600 hover:bg-orange-700",children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"})," Add Student"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(Ia,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Yr.total}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Students"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(bi,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Yr.monitoring}),s.jsx("p",{className:"text-sm text-slate-500",children:"Monitoring"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(nO,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Yr.pendingEval}),s.jsx("p",{className:"text-sm text-slate-500",children:"Pending / Being Evaluated"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(uO,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Yr.active}),s.jsx("p",{className:"text-sm text-slate-500",children:"Receiving Services"})]})]})})]}),s.jsxs(Jo,{value:n,onValueChange:a,children:[s.jsxs(uo,{className:"grid w-full grid-cols-3",children:[s.jsxs(vr,{value:"students",children:["Students (",l.length,")"]}),s.jsxs(vr,{value:"staff",children:["Staff (",f.length,")"]}),s.jsx(vr,{value:"overview",children:"Overview"})]}),s.jsxs(Ur,{value:"students",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{placeholder:"Search student...",value:m,onChange:le=>x(le.target.value),className:"pl-10"})]}),s.jsxs(wt,{value:g,onValueChange:y,children:[s.jsx(yt,{className:"w-[200px]",children:s.jsx(_t,{placeholder:"Status"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Statuses"}),Nm.map(le=>s.jsx(Le,{value:le.value,children:le.label},le.value))]})]})]}),s.jsxs("div",{className:"space-y-3",children:[Ht.map(le=>{var Rt,kr,ar,Bt,Jt,aa,nn,Je,kt,xt;return s.jsx(Ye,{className:"overflow-hidden",children:s.jsxs(Xe,{className:"p-0",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>ht(le.id),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-700 font-bold",children:((kr=(Rt=le.student)==null?void 0:Rt.hebrew_name)==null?void 0:kr.charAt(0))||((Bt=(ar=le.student)==null?void 0:ar.first_name)==null?void 0:Bt.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800",children:((Jt=le.student)==null?void 0:Jt.hebrew_name)||`${(aa=le.student)==null?void 0:aa.first_name} ${(nn=le.student)==null?void 0:nn.last_name}`}),s.jsxs("p",{className:"text-sm text-slate-500",children:[((kt=(Je=le.student)==null?void 0:Je.class)==null?void 0:kt.name)||"No Class"," | ",le.help_type?(xt=uS.find(At=>At.value===le.help_type))==null?void 0:xt.label:"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[or(le.status),le.referral_date&&s.jsx("span",{className:"text-xs text-slate-400",children:new Date(le.referral_date).toLocaleDateString("he-IL")}),L===le.id?s.jsx(fre,{className:"h-5 w-5 text-slate-400"}):s.jsx(iC,{className:"h-5 w-5 text-slate-400"})]})]}),le.referral_reason&&s.jsx("div",{className:"px-4 pb-2",children:s.jsxs("p",{className:"text-sm text-orange-700 bg-orange-50 p-2 rounded",children:[s.jsx("strong",{children:"Reason/Concern:"})," ",le.referral_reason]})}),L===le.id&&s.jsxs("div",{className:"border-t p-4 space-y-4 bg-slate-50",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Ne,{size:"sm",variant:"outline",onClick:At=>{At.stopPropagation(),A(le),se({student_id:le.student_id,status:le.status,referral_reason:le.referral_reason||"",help_type:le.help_type||"",help_description:le.help_description||"",current_plan:le.current_plan||"",referral_date:le.referral_date||""}),j(!0)},children:[s.jsx(ma,{className:"h-4 w-4 mr-1"})," Edit Status"]}),s.jsxs(Ne,{size:"sm",variant:"outline",onClick:At=>{At.stopPropagation(),A(le),ae({source_type:"teacher",source_name:"",content:"",date_gathered:new Date().toISOString().split("T")[0]}),N(!0)},children:[s.jsx(Ts,{className:"h-4 w-4 mr-1"})," Add Information"]}),s.jsxs(Ne,{size:"sm",variant:"outline",onClick:At=>{At.stopPropagation(),A(le),Q({evaluation_type:"psychoeducational",evaluator_name:"",evaluation_date:new Date().toISOString().split("T")[0],results:"",recommendations:"",plan:"",actual_actions:""}),T(!0)},children:[s.jsx(nO,{className:"h-4 w-4 mr-1"})," Add Evaluation"]}),s.jsxs(Ne,{size:"sm",variant:"outline",onClick:At=>{At.stopPropagation(),A(le),Ie({tutor_name:"",tutor_phone:"",tutor_type:"private_teacher",subject:"",schedule_days:"",schedule_time:"",location:"",frequency:"weekly",session_duration_minutes:45,notes:"",start_date:new Date().toISOString().split("T")[0]}),V(!0)},children:[s.jsx(h0,{className:"h-4 w-4 mr-1"})," Add Private Tutor"]}),s.jsxs(Ne,{size:"sm",variant:"outline",onClick:At=>{At.stopPropagation(),A(le),et({special_ed_staff_id:"",tutor_name:"",session_date:new Date().toISOString().split("T")[0],session_time:"",duration_minutes:30,subject:"",content:"",progress_notes:"",goals_worked_on:""}),I(!0)},children:[s.jsx(Ps,{className:"h-4 w-4 mr-1"})," Log Session"]}),s.jsxs(Ne,{size:"sm",variant:"outline",onClick:At=>{var zr,On,An,vn,re,ye;At.stopPropagation(),Wr(`Special Education Update - ${((zr=le.student)==null?void 0:zr.hebrew_name)||((On=le.student)==null?void 0:On.first_name)}`,`There is a new update regarding ${((An=le.student)==null?void 0:An.hebrew_name)||((vn=le.student)==null?void 0:vn.first_name)} ${(re=le.student)==null?void 0:re.last_name}

Status: ${(ye=Nm.find(he=>he.value===le.status))==null?void 0:ye.label}
${le.referral_reason?`Reason: ${le.referral_reason}`:""}`)},children:[s.jsx(pa,{className:"h-4 w-4 mr-1"})," Send Email"]})]}),le.current_plan&&s.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[s.jsx("h4",{className:"font-semibold text-purple-800 mb-1",children:"Plan:"}),s.jsx("p",{className:"text-sm text-purple-700",children:le.current_plan})]}),le.help_description&&s.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"Help Description:"}),s.jsx("p",{className:"text-sm text-green-700",children:le.help_description})]}),xe.infoSources.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Information Gathered (",xe.infoSources.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:xe.infoSources.map(At=>{var zr;return s.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx(Ct,{variant:"outline",children:((zr=FM.find(On=>On.value===At.source_type))==null?void 0:zr.label)||At.source_type}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(At.date_gathered).toLocaleDateString("he-IL")})]}),At.source_name&&s.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["From: ",At.source_name]}),s.jsx("p",{className:"text-slate-700",children:At.content})]},At.id)})})]}),xe.evaluations.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Evaluations (",xe.evaluations.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:xe.evaluations.map(At=>{var zr;return s.jsxs("div",{className:"p-3 bg-white rounded border text-sm space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ct,{variant:"outline",children:((zr=DM.find(On=>On.value===At.evaluation_type))==null?void 0:zr.label)||At.evaluation_type}),s.jsx("span",{className:"text-xs text-slate-400",children:At.evaluation_date&&new Date(At.evaluation_date).toLocaleDateString("he-IL")})]}),At.evaluator_name&&s.jsxs("p",{className:"text-xs text-slate-500",children:["Evaluator: ",At.evaluator_name]}),At.results&&s.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[s.jsx("strong",{children:"Results:"})," ",At.results]}),At.recommendations&&s.jsxs("div",{className:"bg-yellow-50 p-2 rounded",children:[s.jsx("strong",{children:"Recommendation:"})," ",At.recommendations]}),At.plan&&s.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[s.jsx("strong",{children:"Plan:"})," ",At.plan]}),At.actual_actions&&s.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[s.jsx("strong",{children:"Actual Actions:"})," ",At.actual_actions]})]},At.id)})})]}),xe.tutoring.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Private Tutors (",xe.tutoring.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:xe.tutoring.map(At=>s.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[s.jsx("p",{className:"font-bold",children:At.tutor_name}),At.tutor_phone&&s.jsx("p",{className:"text-slate-500",children:At.tutor_phone}),s.jsxs("p",{className:"text-orange-600",children:[At.subject||"N/A"," | ",At.schedule_days," ",At.schedule_time]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[At.frequency," | ",At.session_duration_minutes," min"]})]},At.id))})]}),xe.sessionLogs.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-700 mb-2",children:["Session Logs (",xe.sessionLogs.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:xe.sessionLogs.map(At=>{var zr;return s.jsxs("div",{className:"p-3 bg-white rounded border text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"font-medium",children:[((zr=At.staff)==null?void 0:zr.name)||At.tutor_name||"N/A"," - ",At.subject||""]}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(At.session_date).toLocaleDateString("he-IL")})]}),s.jsx("p",{className:"text-slate-600 mt-1",children:At.content}),At.progress_notes&&s.jsxs("p",{className:"text-green-600 text-xs mt-1",children:["Progress: ",At.progress_notes]})]},At.id)})})]})]})]})},le.id)}),Ht.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Ia,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No students found"})]})]})]}),s.jsxs(Ur,{value:"staff",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Special Education Staff"}),s.jsxs(Ne,{onClick:()=>{K(null),ce({name:"",hebrew_name:"",role:"resource_teacher",phone:"",email:"",specialization:"",certification:"",notes:""}),P(!0)},children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"})," Add Staff"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(le=>{var Rt;return s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:le.hebrew_name||le.name}),s.jsx(Ct,{variant:"outline",children:((Rt=dS.find(kr=>kr.value===le.role))==null?void 0:Rt.label)||le.role})]}),s.jsx("div",{className:"flex gap-1",children:s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{K(le),ce({name:le.name||"",hebrew_name:le.hebrew_name||"",role:le.role||"other",phone:le.phone||"",email:le.email||"",specialization:le.specialization||"",certification:le.certification||"",notes:le.notes||""}),P(!0)},children:s.jsx(ma,{className:"h-4 w-4"})})})]}),le.phone&&s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:le.phone}),le.email&&s.jsx("p",{className:"text-sm text-slate-500",children:le.email}),le.specialization&&s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:le.specialization}),s.jsx("div",{className:"mt-3 flex gap-2",children:s.jsxs(Ne,{size:"sm",variant:"outline",onClick:async()=>{K(le),await tt(le.id),q(!0)},children:[s.jsx(Ss,{className:"h-3 w-3 mr-1"})," Schedule"]})})]})},le.id)})}),f.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(uO,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No staff added yet"})]})]}),s.jsx(Ur,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{children:"Students by Status"})}),s.jsx(Xe,{children:Nm.map(le=>{const Rt=l.filter(kr=>kr.status===le.value).length;return Rt>0?s.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[s.jsx(Ct,{className:le.color,children:le.label}),s.jsx("span",{className:"font-bold",children:Rt})]},le.value):null})})]}),s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsx(sr,{children:"Students by Help Type"})}),s.jsx(Xe,{children:uS.map(le=>{const Rt=l.filter(kr=>kr.help_type===le.value).length;return Rt>0?s.jsxs("div",{className:"flex justify-between items-center py-2 border-b last:border-0",children:[s.jsx("span",{children:le.label}),s.jsx(Ct,{variant:"secondary",children:Rt})]},le.value):null})})]}),s.jsxs(Ye,{className:"md:col-span-2",children:[s.jsx(ir,{children:s.jsx(sr,{children:"Staff Overview"})}),s.jsx(Xe,{children:s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Name"}),s.jsx(dt,{children:"Role"}),s.jsx(dt,{children:"Phone"}),s.jsx(dt,{children:"Specialization"})]})}),s.jsx(Ba,{children:f.map(le=>{var Rt;return s.jsxs(br,{children:[s.jsx(ct,{className:"font-medium",children:le.hebrew_name||le.name}),s.jsx(ct,{children:((Rt=dS.find(kr=>kr.value===le.role))==null?void 0:Rt.label)||le.role}),s.jsx(ct,{children:le.phone}),s.jsx(ct,{children:le.specialization})]},le.id)})})]})})]})]})})]}),s.jsx(Zt,{open:b,onOpenChange:j,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:J?"Edit Student":"Add Student to Special Education"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Student *"}),s.jsx(H3,{students:u,value:Z.student_id,onChange:le=>se({...Z,student_id:le}),placeholder:"Search student...",disabled:!!J})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Status"}),s.jsxs(wt,{value:Z.status,onValueChange:le=>se({...Z,status:le}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:Nm.map(le=>s.jsx(Le,{value:le.value,children:le.label},le.value))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Reason / Concern (what needs to be evaluated)"}),s.jsx(Nr,{value:Z.referral_reason,onChange:le=>se({...Z,referral_reason:le.target.value}),placeholder:"Why does this child need to be evaluated?",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Help Type"}),s.jsxs(wt,{value:Z.help_type||"none",onValueChange:le=>se({...Z,help_type:le==="none"?"":le}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Choose..."})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"none",children:"None"}),uS.map(le=>s.jsx(Le,{value:le.value,children:le.label},le.value))]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Date"}),s.jsx(Ge,{type:"date",value:Z.referral_date,onChange:le=>se({...Z,referral_date:le.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Help Description"}),s.jsx(Nr,{value:Z.help_description,onChange:le=>se({...Z,help_description:le.target.value}),rows:2})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Plan"}),s.jsx(Nr,{value:Z.current_plan,onChange:le=>se({...Z,current_plan:le.target.value}),rows:2})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Ne,{onClick:Se,className:"bg-orange-600 hover:bg-orange-700",children:J?"Update":"Add"})]})]})}),s.jsx(Zt,{open:_,onOpenChange:N,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:"Add Information"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Source"}),s.jsxs(wt,{value:W.source_type,onValueChange:le=>ae({...W,source_type:le}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:FM.map(le=>s.jsx(Le,{value:le.value,children:le.label},le.value))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Name (optional)"}),s.jsx(Ge,{value:W.source_name,onChange:le=>ae({...W,source_name:le.target.value}),placeholder:"Source name"})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Date"}),s.jsx(Ge,{type:"date",value:W.date_gathered,onChange:le=>ae({...W,date_gathered:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Information *"}),s.jsx(Nr,{value:W.content,onChange:le=>ae({...W,content:le.target.value}),rows:4,placeholder:"What was said / found..."})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsx(Ne,{onClick:st,children:"Save"})]})]})}),s.jsx(Zt,{open:S,onOpenChange:T,children:s.jsxs(Xt,{className:"max-w-2xl",children:[s.jsx(er,{children:s.jsx(tr,{children:"Add Evaluation Results"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Evaluation Type"}),s.jsxs(wt,{value:fe.evaluation_type,onValueChange:le=>Q({...fe,evaluation_type:le}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:DM.map(le=>s.jsx(Le,{value:le.value,children:le.label},le.value))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Evaluator Name"}),s.jsx(Ge,{value:fe.evaluator_name,onChange:le=>Q({...fe,evaluator_name:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Date"}),s.jsx(Ge,{type:"date",value:fe.evaluation_date,onChange:le=>Q({...fe,evaluation_date:le.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Results"}),s.jsx(Nr,{value:fe.results,onChange:le=>Q({...fe,results:le.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Recommendations"}),s.jsx(Nr,{value:fe.recommendations,onChange:le=>Q({...fe,recommendations:le.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Plan"}),s.jsx(Nr,{value:fe.plan,onChange:le=>Q({...fe,plan:le.target.value}),rows:3})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Actual Actions Planned"}),s.jsx(Nr,{value:fe.actual_actions,onChange:le=>Q({...fe,actual_actions:le.target.value}),rows:3})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),s.jsx(Ne,{onClick:it,className:"bg-blue-600 hover:bg-blue-700",children:"Save Evaluation"})]})]})}),s.jsx(Zt,{open:k,onOpenChange:V,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:"Add Private Tutor / Therapist"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Name *"}),s.jsx(Ge,{value:ke.tutor_name,onChange:le=>Ie({...ke,tutor_name:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Phone"}),s.jsx(Ge,{value:ke.tutor_phone,onChange:le=>Ie({...ke,tutor_phone:le.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Type"}),s.jsxs(wt,{value:ke.tutor_type,onValueChange:le=>Ie({...ke,tutor_type:le}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"private_teacher",children:"Private Teacher"}),s.jsx(Le,{value:"speech",children:"Speech"}),s.jsx(Le,{value:"OT",children:"OT"}),s.jsx(Le,{value:"reading_specialist",children:"Reading Specialist"}),s.jsx(Le,{value:"the",children:"THE"}),s.jsx(Le,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Subject"}),s.jsx(Ge,{value:ke.subject,onChange:le=>Ie({...ke,subject:le.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Days"}),s.jsx(Ge,{value:ke.schedule_days,onChange:le=>Ie({...ke,schedule_days:le.target.value}),placeholder:"Monday, Wednesday"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Time"}),s.jsx(Ge,{value:ke.schedule_time,onChange:le=>Ie({...ke,schedule_time:le.target.value}),placeholder:"2:00-3:00"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Location"}),s.jsx(Ge,{value:ke.location,onChange:le=>Ie({...ke,location:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Frequency"}),s.jsxs(wt,{value:ke.frequency,onValueChange:le=>Ie({...ke,frequency:le}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"daily",children:"Daily"}),s.jsx(Le,{value:"weekly",children:"Weekly"}),s.jsx(Le,{value:"bi-weekly",children:"Bi-Weekly"}),s.jsx(Le,{value:"monthly",children:"Monthly"})]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Minutes"}),s.jsx(Ge,{type:"number",value:ke.session_duration_minutes,onChange:le=>Ie({...ke,session_duration_minutes:parseInt(le.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Notes"}),s.jsx(Nr,{value:ke.notes,onChange:le=>Ie({...ke,notes:le.target.value}),rows:2})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),s.jsx(Ne,{onClick:qt,children:"Save"})]})]})}),s.jsx(Zt,{open:C,onOpenChange:P,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:M?"Edit Staff":"Add Staff Member"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Name *"}),s.jsx(Ge,{value:Ae.name,onChange:le=>ce({...Ae,name:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Hebrew Name"}),s.jsx(Ge,{value:Ae.hebrew_name,onChange:le=>ce({...Ae,hebrew_name:le.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Role"}),s.jsxs(wt,{value:Ae.role,onValueChange:le=>ce({...Ae,role:le}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:dS.map(le=>s.jsx(Le,{value:le.value,children:le.label},le.value))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Specialization"}),s.jsx(Ge,{value:Ae.specialization,onChange:le=>ce({...Ae,specialization:le.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Phone"}),s.jsx(Ge,{value:Ae.phone,onChange:le=>ce({...Ae,phone:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Email"}),s.jsx(Ge,{type:"email",value:Ae.email,onChange:le=>ce({...Ae,email:le.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Certification"}),s.jsx(Ge,{value:Ae.certification,onChange:le=>ce({...Ae,certification:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Notes"}),s.jsx(Nr,{value:Ae.notes,onChange:le=>ce({...Ae,notes:le.target.value}),rows:2})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),s.jsx(Ne,{onClick:jt,className:"bg-orange-600 hover:bg-orange-700",children:M?"Update":"Add"})]})]})}),s.jsx(Zt,{open:U,onOpenChange:q,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsxs(tr,{children:["Schedule for ",(M==null?void 0:M.hebrew_name)||(M==null?void 0:M.name)]})}),s.jsxs("div",{className:"space-y-4",children:[ge.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Current Schedule:"}),ge.map(le=>s.jsxs("div",{className:"p-2 bg-slate-50 rounded border text-sm flex justify-between items-center",children:[s.jsxs("span",{children:[LM[le.day_of_week],": ",le.start_time," - ",le.end_time]}),s.jsx(Ct,{variant:le.status==="available"||le.status==="in_school"?"default":"destructive",children:le.status==="available"?"Available":le.status==="busy"?"Busy":le.status==="in_school"?"In School":"Unavailable"})]},le.id))]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Add New Time Slot:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Day"}),s.jsxs(wt,{value:String(Re.day_of_week),onValueChange:le=>at({...Re,day_of_week:parseInt(le)}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:LM.map((le,Rt)=>s.jsx(Le,{value:String(Rt),children:le},Rt))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Status"}),s.jsxs(wt,{value:Re.status,onValueChange:le=>at({...Re,status:le}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"in_school",children:"In School"}),s.jsx(Le,{value:"available",children:"Available"}),s.jsx(Le,{value:"busy",children:"Busy"}),s.jsx(Le,{value:"unavailable",children:"Unavailable"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"From"}),s.jsx(Ge,{type:"time",value:Re.start_time,onChange:le=>at({...Re,start_time:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"To"}),s.jsx(Ge,{type:"time",value:Re.end_time,onChange:le=>at({...Re,end_time:le.target.value})})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx(ve,{children:"Location"}),s.jsx(Ge,{value:Re.location,onChange:le=>at({...Re,location:le.target.value}),placeholder:"Room number"})]})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>q(!1),children:"Close"}),s.jsx(Ne,{onClick:Sr,children:"Add Time Slot"})]})]})}),s.jsx(Zt,{open:z,onOpenChange:I,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:"Log Session"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Staff Member"}),s.jsxs(wt,{value:$e.special_ed_staff_id||"none",onValueChange:le=>et({...$e,special_ed_staff_id:le==="none"?"":le}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Choose..."})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"none",children:"Other / External"}),f.map(le=>s.jsx(Le,{value:le.id,children:le.hebrew_name||le.name},le.id))]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Or: External Name"}),s.jsx(Ge,{value:$e.tutor_name,onChange:le=>et({...$e,tutor_name:le.target.value}),placeholder:"Name"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Date"}),s.jsx(Ge,{type:"date",value:$e.session_date,onChange:le=>et({...$e,session_date:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Time"}),s.jsx(Ge,{type:"time",value:$e.session_time,onChange:le=>et({...$e,session_time:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Minutes"}),s.jsx(Ge,{type:"number",value:$e.duration_minutes,onChange:le=>et({...$e,duration_minutes:parseInt(le.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Subject"}),s.jsx(Ge,{value:$e.subject,onChange:le=>et({...$e,subject:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Content *"}),s.jsx(Nr,{value:$e.content,onChange:le=>et({...$e,content:le.target.value}),rows:3,placeholder:"What was done..."})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Progress Notes"}),s.jsx(Nr,{value:$e.progress_notes,onChange:le=>et({...$e,progress_notes:le.target.value}),rows:2})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Goals Worked On"}),s.jsx(Ge,{value:$e.goals_worked_on,onChange:le=>et({...$e,goals_worked_on:le.target.value})})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),s.jsx(Ne,{onClick:Gt,children:"Save"})]})]})}),s.jsx(Oc,{isOpen:R,onClose:()=>G(!1),defaultSubject:F.subject,defaultBody:F.body,currentUser:t})]})},IM=[{value:"general",label:"General"},{value:"teacher_meeting",label:"Met with Teacher"},{value:"discipline",label:"Discipline"},{value:"academic",label:"Academic"},{value:"behavioral",label:"Behavior"},{value:"parent_feedback",label:"Parent Feedback"},{value:"other",label:"Other"}],XBe=({role:e,currentUser:t})=>{var K;const{toast:r}=Tr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState(null),[u,d]=O.useState([]),[f,h]=O.useState([]),[p,v]=O.useState({}),[m,x]=O.useState(null),[g,y]=O.useState(!1),[b,j]=O.useState(!1),[_,N]=O.useState(!1),[S,T]=O.useState({}),[k,V]=O.useState(null),[C,P]=O.useState({title:"",content:"",note_type:"general",edit_mode:"update"}),[U,q]=O.useState({title:"",content:"",edit_mode:"update"}),[z,I]=O.useState(null),[R,G]=O.useState("");O.useEffect(()=>{F()},[]),O.useEffect(()=>{l&&H(l.id)},[l]);const F=async()=>{a(!0);try{const{data:L}=await Te.from("classes").select(`
          *,
          grade:grades(id, name, grade_number),
          hebrew_staff:app_users!hebrew_teacher_id(id, first_name, last_name),
          english_staff:app_users!english_teacher_id(id, first_name, last_name),
          students:students!class_id(id)
        `).eq("is_active",!0).order("name");o((L||[]).map(Y=>{var Z;return{...Y,student_count:((Z=Y.students)==null?void 0:Z.length)||0}}))}catch(L){console.error("Error loading classes:",L)}finally{a(!1)}},H=async L=>{try{const{data:Y}=await Te.from("students").select(`
          *,
          class:classes!class_id(name, grade:grades(name))
        `).eq("class_id",L).eq("status","active").order("last_name");d(Y||[]);const{data:Z}=await Te.from("class_notes").select("*").eq("class_id",L).eq("is_active",!0).order("created_at",{ascending:!1});h(Z||[]);const se=(Y||[]).map(W=>W.id);if(se.length>0){const{data:W}=await Te.from("student_notes").select("*").in("student_id",se).eq("is_active",!0).order("created_at",{ascending:!1}).limit(100),ae={};(W||[]).forEach(fe=>{ae[fe.student_id]||(ae[fe.student_id]=[]),ae[fe.student_id].push(fe)}),v(ae)}}catch(Y){console.error("Error loading class data:",Y)}},J=async()=>{if(!U.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{if(z&&U.edit_mode==="edit"){const{error:L}=await Te.from("class_notes").update({title:U.title,content:U.content,previous_content:z.content,edit_mode:"edit",updated_at:new Date().toISOString()}).eq("id",z.id);if(L)throw L;r({title:"Edited",description:"Note has been updated"})}else{const{error:L}=await Te.from("class_notes").insert([{class_id:l.id,title:U.title||null,content:U.content,edit_mode:"update",created_by:t==null?void 0:t.id,created_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)}]);if(L)throw L;r({title:"Added",description:"Note has been added"})}y(!1),I(null),H(l.id)}catch(L){r({variant:"destructive",title:"Error",description:L.message})}},A=async()=>{if(!C.content){r({variant:"destructive",title:"Error",description:"Please enter content"});return}try{if(z&&C.edit_mode==="edit"){const{error:L}=await Te.from("student_notes").update({title:C.title,content:C.content,note_type:C.note_type,previous_content:z.content,edit_mode:"edit",updated_at:new Date().toISOString()}).eq("id",z.id);if(L)throw L;r({title:"Edited",description:"Note has been updated (previous version kept as record)"})}else{const{error:L}=await Te.from("student_notes").insert([{student_id:k.id,title:C.title||null,content:C.content,note_type:C.note_type,edit_mode:"update",created_by:t==null?void 0:t.id,created_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)}]);if(L)throw L;r({title:"Added",description:"Note has been added for this student"})}j(!1),I(null),H(l.id)}catch(L){r({variant:"destructive",title:"Error",description:L.message})}},M=u.filter(L=>{var Z,se,W,ae;if(!R)return!0;const Y=R.toLowerCase();return((Z=L.first_name)==null?void 0:Z.toLowerCase().includes(Y))||((se=L.last_name)==null?void 0:se.toLowerCase().includes(Y))||((W=L.hebrew_name)==null?void 0:W.includes(R))||((ae=L.father_name)==null?void 0:ae.toLowerCase().includes(Y))});return m?s.jsx(WG,{studentId:m,onBack:()=>x(null)}):n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Sn,{className:"h-8 w-8 animate-spin text-blue-600"})}):l?s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ne,{variant:"ghost",onClick:()=>c(null),children:s.jsx(nC,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Class ",l.name]}),s.jsxs("p",{className:"text-slate-500",children:[(K=l.grade)==null?void 0:K.name," | ",u.length," Students",l.hebrew_staff&&` | Teacher: ${l.hebrew_staff.first_name} ${l.hebrew_staff.last_name}`]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ne,{variant:"outline",onClick:()=>{I(null),q({title:"",content:"",edit_mode:"update"}),y(!0)},children:[s.jsx(Ts,{className:"h-4 w-4 ml-2"})," Note for Class"]}),s.jsxs(Ne,{variant:"outline",onClick:()=>{T({subject:`Class ${l.name} - Update`,body:`Update about Class ${l.name}

`}),N(!0)},children:[s.jsx(pa,{className:"h-4 w-4 ml-2"})," Send Email"]})]})]}),f.length>0&&s.jsxs(Ye,{children:[s.jsx(ir,{className:"pb-3",children:s.jsxs(sr,{className:"text-lg flex items-center gap-2",children:[s.jsx(Ts,{className:"h-5 w-5 text-blue-600"}),"Class Notes (",f.length,")"]})}),s.jsx(Xe,{children:s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:f.map(L=>s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[L.title&&s.jsx("span",{className:"font-bold",children:L.title}),L.edit_mode==="edit"&&s.jsx(Ct,{className:"bg-orange-100 text-orange-800 text-xs",children:"Edited"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-400",children:new Date(L.created_at).toLocaleDateString("he-IL")}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{I(L),q({title:L.title||"",content:L.content,edit_mode:"edit"}),y(!0)},children:s.jsx(ma,{className:"h-3 w-3"})})]})]}),s.jsx("p",{className:"text-slate-700",children:L.content}),L.previous_content&&s.jsxs("details",{className:"mt-2",children:[s.jsx("summary",{className:"text-xs text-orange-600 cursor-pointer",children:"Previous version"}),s.jsx("p",{className:"text-xs text-slate-400 mt-1 p-2 bg-white rounded",children:L.previous_content})]}),L.created_by_name&&s.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["By: ",L.created_by_name]})]},L.id))})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{value:R,onChange:L=>G(L.target.value),placeholder:"Search student in class...",className:"pr-10"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map(L=>s.jsx(Ye,{className:"hover:shadow-md transition-all",children:s.jsxs(Xe,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"cursor-pointer",onClick:()=>x(L.id),children:[s.jsx("h3",{className:"font-bold text-lg text-slate-800 hover:text-blue-600 transition-colors",children:L.hebrew_name||`${L.first_name} ${L.last_name}`}),L.hebrew_name&&s.jsxs("p",{className:"text-sm text-slate-500",children:[L.first_name," ",L.last_name]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{V(L),I(null),P({title:"",content:"",note_type:"general",edit_mode:"update"}),j(!0)},title:"Add Note",children:s.jsx(p0,{className:"h-4 w-4 text-blue-600"})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{T({subject:`About ${L.hebrew_name||L.first_name} ${L.last_name}`,body:`Information about ${L.hebrew_name||L.first_name} ${L.last_name}
Class: ${l.name}

`}),N(!0)},title:"Send Email",children:s.jsx(pa,{className:"h-4 w-4 text-green-600"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm text-slate-600 mb-3",children:[L.father_name&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Father:"})," ",L.father_name]}),L.father_phone&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.jsx("a",{href:`tel:${L.father_phone}`,className:"text-blue-600",children:L.father_phone})]}),L.mother_name&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Mother:"})," ",L.mother_name]}),L.mother_phone&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phone:"})," ",s.jsx("a",{href:`tel:${L.mother_phone}`,className:"text-blue-600",children:L.mother_phone})]}),L.address&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Address:"})," ",L.address]}),L.date_of_birth&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Birthday:"})," ",new Date(L.date_of_birth).toLocaleDateString("he-IL")]}),L.emergency_contact&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Emergency:"})," ",L.emergency_contact," ",L.emergency_phone]})]}),L.notes&&s.jsx("div",{className:"p-2 bg-yellow-50 rounded text-sm text-yellow-800 mb-2",children:L.notes}),p[L.id]&&p[L.id].length>0&&s.jsxs("div",{className:"border-t pt-2 mt-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-slate-500 mb-1",children:["Notes (",p[L.id].length,"):"]}),s.jsxs("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[p[L.id].slice(0,3).map(Y=>{var Z;return s.jsxs("div",{className:"p-2 bg-slate-50 rounded text-xs border",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ct,{variant:"outline",className:"text-[10px] py-0",children:((Z=IM.find(se=>se.value===Y.note_type))==null?void 0:Z.label)||Y.note_type}),Y.title&&s.jsx("span",{className:"font-medium",children:Y.title})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-slate-400",children:new Date(Y.created_at).toLocaleDateString("he-IL")}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{V(L),I(Y),P({title:Y.title||"",content:Y.content,note_type:Y.note_type,edit_mode:"edit"}),j(!0)},children:s.jsx(ma,{className:"h-3 w-3"})})]})]}),s.jsx("p",{className:"text-slate-600 mt-1",children:Y.content})]},Y.id)}),p[L.id].length>3&&s.jsxs("p",{className:"text-xs text-blue-600 cursor-pointer",onClick:()=>x(L.id),children:["+ ",p[L.id].length-3," more notes..."]})]})]})]})},L.id))}),M.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Ia,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No students found in this class"})]}),s.jsx(Zt,{open:g,onOpenChange:y,children:s.jsxs(Xt,{className:"max-w-lg",dir:"rtl",children:[s.jsx(er,{children:s.jsx(tr,{children:z?"Edit Class Note":"New Note for Class "+(l==null?void 0:l.name)})}),s.jsxs("div",{className:"space-y-4 py-2",children:[z&&s.jsxs("div",{children:[s.jsx(ve,{children:"Mode"}),s.jsxs(wt,{value:U.edit_mode,onValueChange:L=>q({...U,edit_mode:L}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"update",children:"UPDATE - Keep old, add new"}),s.jsx(Le,{value:"edit",children:"EDIT - Replace text (keep record)"})]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Title (optional)"}),s.jsx(Ge,{value:U.title,onChange:L=>q({...U,title:L.target.value}),placeholder:"Short description"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Content *"}),s.jsx(Nr,{value:U.content,onChange:L=>q({...U,content:L.target.value}),rows:5,placeholder:"Write here..."})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Ne,{onClick:J,children:z&&U.edit_mode==="edit"?"EDIT - Replace":"UPDATE - Add"})]})]})}),s.jsx(Zt,{open:b,onOpenChange:j,children:s.jsxs(Xt,{className:"max-w-lg",dir:"rtl",children:[s.jsx(er,{children:s.jsxs(tr,{children:[z?"Edit Note":"New Note"," - ",(k==null?void 0:k.hebrew_name)||(k==null?void 0:k.first_name)]})}),s.jsxs("div",{className:"space-y-4 py-2",children:[z&&s.jsxs("div",{children:[s.jsx(ve,{children:"Mode"}),s.jsxs(wt,{value:C.edit_mode,onValueChange:L=>P({...C,edit_mode:L}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"update",children:"UPDATE - Keep old, add new"}),s.jsx(Le,{value:"edit",children:"EDIT - Replace text (keep record)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Type"}),s.jsxs(wt,{value:C.note_type,onValueChange:L=>P({...C,note_type:L}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:IM.map(L=>s.jsx(Le,{value:L.value,children:L.label},L.value))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Title"}),s.jsx(Ge,{value:C.title,onChange:L=>P({...C,title:L.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Content * (Every communication about/with this child)"}),s.jsx(Nr,{value:C.content,onChange:L=>P({...C,content:L.target.value}),rows:5,placeholder:"What was discussed..."})]})]}),s.jsxs(yr,{className:"flex justify-between",children:[s.jsxs(Ne,{variant:"outline",onClick:()=>{T({subject:`Note - ${(k==null?void 0:k.hebrew_name)||(k==null?void 0:k.first_name)}`,body:`${C.title?C.title+`

`:""}${C.content}`}),N(!0)},children:[s.jsx(pa,{className:"h-4 w-4 ml-1"})," Send Email"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Ne,{onClick:A,children:z&&C.edit_mode==="edit"?"EDIT - Replace":"UPDATE - Add"})]})]})]})}),s.jsx(Oc,{isOpen:_,onClose:()=>N(!1),defaultSubject:S.subject,defaultBody:S.body,currentUser:t})]}):s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Classes - Detail View"}),s.jsx("p",{className:"text-slate-500",children:"Open a class to see all students with all information"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(L=>{var Y;return s.jsx(Ye,{className:"cursor-pointer hover:shadow-lg transition-all hover:border-blue-200",onClick:()=>c(L),children:s.jsxs(Xe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800",children:L.name}),s.jsx(aB,{className:"h-5 w-5 text-slate-400"})]}),s.jsx(Ct,{variant:"outline",className:"mb-3",children:(Y=L.grade)==null?void 0:Y.name}),s.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Students:"}),s.jsx(Ct,{variant:"secondary",children:L.student_count})]}),L.hebrew_staff&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Teacher:"}),s.jsxs("span",{children:[L.hebrew_staff.first_name," ",L.hebrew_staff.last_name]})]}),L.english_staff&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"English:"}),s.jsxs("span",{children:[L.english_staff.first_name," ",L.english_staff.last_name]})]})]})]})},L.id)})})]})},JBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(new Date().toISOString().split("T")[0]),[p,v]=O.useState("all"),[m,x]=O.useState(""),[g,y]=O.useState(!1),[b,j]=O.useState(!1),[_,N]=O.useState({}),[S,T]=O.useState({student_id:"",arrival_time:new Date().toTimeString().slice(0,5),minutes_late:"",reason:"",notes:""});O.useEffect(()=>{k()},[f]);const k=async()=>{a(!0);try{const{data:R}=await Te.from("late_arrivals").select(`
          *,
          student:students(id, first_name, last_name, hebrew_name, class_id,
            class:classes!class_id(name, grade:grades(name)),
            father_name, father_phone
          )
        `).eq("date",f).order("arrival_time",{ascending:!1});o(R||[]);const{data:G}=await Te.from("students").select("id, first_name, last_name, hebrew_name, class_id, class:classes!class_id(name)").eq("status","active").order("last_name");c(G||[]);const{data:F}=await Te.from("classes").select("id, name, grade:grades(name)").order("name");d(F||[])}catch(R){console.error("Error loading data:",R)}finally{a(!1)}},V=async()=>{if(!S.student_id){r({variant:"destructive",title:"Error",description:"Please select a student"});return}try{const{data:R,error:G}=await Te.from("late_arrivals").insert([{student_id:S.student_id,date:f,arrival_time:S.arrival_time||null,minutes_late:S.minutes_late?parseInt(S.minutes_late):null,reason:S.reason||null,notes:S.notes||null,recorded_by:t==null?void 0:t.id}]).select("*, student:students(*, class:classes!class_id(*))");if(G)throw G;r({title:"Recorded",description:"Late arrival has been recorded"}),y(!1),T({student_id:"",arrival_time:new Date().toTimeString().slice(0,5),minutes_late:"",reason:"",notes:""}),k(),R&&R[0]&&U(R[0])}catch(R){r({variant:"destructive",title:"Error",description:R.message})}},C=async R=>{await Te.from("late_arrivals").update({slip_printed:!0}).eq("id",R),k()},P=async R=>{await Te.from("late_arrivals").update({slip_given_to_teacher:!0}).eq("id",R),k()},U=R=>{var H,J,A,M,K;const G=`
      <html dir="rtl">
      <head><style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
        .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 15px; }
        .field { margin: 8px 0; font-size: 14px; }
        .label { font-weight: bold; }
        .footer { border-top: 1px solid #ccc; margin-top: 20px; padding-top: 10px; text-align: center; font-size: 12px; color: #666; }
      </style></head>
      <body>
        <div class="header">
          <h2>Slip - Late Arrival</h2>
          <p>${new Date(f).toLocaleDateString("en-US")}</p>
        </div>
        <div class="field"><span class="label">Student:</span> ${((H=R.student)==null?void 0:H.hebrew_name)||`${(J=R.student)==null?void 0:J.first_name} ${(A=R.student)==null?void 0:A.last_name}`}</div>
        <div class="field"><span class="label">Class:</span> ${((K=(M=R.student)==null?void 0:M.class)==null?void 0:K.name)||"N/A"}</div>
        <div class="field"><span class="label">Arrival Time:</span> ${R.arrival_time||"N/A"}</div>
        <div class="field"><span class="label">Minutes Late:</span> ${R.minutes_late||"N/A"}</div>
        ${R.reason?`<div class="field"><span class="label">Reason:</span> ${R.reason}</div>`:""}
        <div class="footer">Recorded by Assistant Principal</div>
      </body></html>
    `,F=window.open("","_blank");F.document.write(G),F.document.close(),F.print(),C(R.id)},q=()=>{const R=z.filter(H=>!H.slip_printed);if(R.length===0){r({title:"Info",description:"All slips have already been printed"});return}const G=R.map(H=>{var J,A,M,K,L;return`
      <div style="page-break-after: always; padding: 20px; max-width: 400px; margin: 0 auto; border: 1px solid #ccc; margin-bottom: 20px;">
        <div style="text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 15px;">
          <h3>Slip - Late Arrival</h3>
          <p>${new Date(f).toLocaleDateString("en-US")}</p>
        </div>
        <p><strong>Student:</strong> ${((J=H.student)==null?void 0:J.hebrew_name)||`${(A=H.student)==null?void 0:A.first_name} ${(M=H.student)==null?void 0:M.last_name}`}</p>
        <p><strong>Class:</strong> ${((L=(K=H.student)==null?void 0:K.class)==null?void 0:L.name)||"N/A"}</p>
        <p><strong>Time:</strong> ${H.arrival_time||"N/A"} (${H.minutes_late||"?"} minutes late)</p>
        ${H.reason?`<p><strong>Reason:</strong> ${H.reason}</p>`:""}
      </div>
    `}).join(""),F=window.open("","_blank");F.document.write(`<html dir="rtl"><head><style>body { font-family: Arial, sans-serif; }</style></head><body>${G}</body></html>`),F.document.close(),F.print(),R.forEach(H=>C(H.id))},z=i.filter(R=>{var H,J,A,M,K,L,Y;const G=p==="all"||((H=R.student)==null?void 0:H.class_id)===p,F=!m||((A=(J=R.student)==null?void 0:J.first_name)==null?void 0:A.toLowerCase().includes(m.toLowerCase()))||((K=(M=R.student)==null?void 0:M.last_name)==null?void 0:K.toLowerCase().includes(m.toLowerCase()))||((Y=(L=R.student)==null?void 0:L.hebrew_name)==null?void 0:Y.includes(m));return G&&F}),I={};return z.forEach(R=>{var F,H;const G=((H=(F=R.student)==null?void 0:F.class)==null?void 0:H.name)||"No Class";I[G]||(I[G]=[]),I[G].push(R)}),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Sn,{className:"h-8 w-8 animate-spin text-blue-600"})}):s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Late Arrivals"}),s.jsx("p",{className:"text-slate-500",children:"Track students who arrive late, print slips for teachers"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ne,{variant:"outline",onClick:q,children:[s.jsx(Ly,{className:"h-4 w-4 ml-2"})," Print All Slips"]}),s.jsxs(Ne,{onClick:()=>{T({student_id:"",arrival_time:new Date().toTimeString().slice(0,5),minutes_late:"",reason:"",notes:""}),y(!0)},className:"bg-amber-600 hover:bg-amber-700",children:[s.jsx(Zr,{className:"h-4 w-4 ml-2"})," Add Late Arrival"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(bi,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Late Today"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Ly,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(R=>!R.slip_printed).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Not Printed"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Ts,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(R=>R.slip_given_to_teacher).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Given to Teacher"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Ia,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Object.keys(I).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Classes Affected"})]})]})})]}),s.jsx(Ye,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Date"}),s.jsx(Ge,{type:"date",value:f,onChange:R=>h(R.target.value),className:"w-[200px]"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ve,{children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ja,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{value:m,onChange:R=>x(R.target.value),placeholder:"Search student...",className:"pr-10"})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Class"}),s.jsxs(wt,{value:p,onValueChange:v,children:[s.jsx(yt,{className:"w-[160px]",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Classes"}),u.map(R=>s.jsx(Le,{value:R.id,children:R.name},R.id))]})]})]})]})})}),s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsxs(sr,{children:["Late Arrivals - ",new Date(f).toLocaleDateString("en-US")]})}),s.jsx(Xe,{className:"p-0",children:s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Student"}),s.jsx(dt,{children:"Class"}),s.jsx(dt,{children:"Time"}),s.jsx(dt,{children:"Minutes Late"}),s.jsx(dt,{children:"Reason"}),s.jsx(dt,{children:"Slip"}),s.jsx(dt,{children:"Actions"})]})}),s.jsxs(Ba,{children:[z.map(R=>{var G,F,H,J,A;return s.jsxs(br,{children:[s.jsx(ct,{className:"font-medium",children:((G=R.student)==null?void 0:G.hebrew_name)||`${(F=R.student)==null?void 0:F.first_name} ${(H=R.student)==null?void 0:H.last_name}`}),s.jsx(ct,{children:s.jsx(Ct,{variant:"outline",children:((A=(J=R.student)==null?void 0:J.class)==null?void 0:A.name)||"N/A"})}),s.jsx(ct,{children:R.arrival_time||"-"}),s.jsx(ct,{children:R.minutes_late&&s.jsxs(Ct,{className:R.minutes_late>15?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:[R.minutes_late," min"]})}),s.jsx(ct,{className:"max-w-[200px] truncate",children:R.reason||"-"}),s.jsx(ct,{children:s.jsxs("div",{className:"flex gap-1",children:[R.slip_printed?s.jsx(Ct,{className:"bg-green-100 text-green-800",children:"Printed"}):s.jsx(Ct,{className:"bg-gray-100 text-gray-600",children:"No"}),R.slip_given_to_teacher&&s.jsx(Ct,{className:"bg-blue-100 text-blue-800",children:"Given"})]})}),s.jsx(ct,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>U(R),title:"Print Slip",children:s.jsx(Ly,{className:"h-4 w-4"})}),!R.slip_given_to_teacher&&R.slip_printed&&s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>P(R.id),title:"Mark as Given",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{var M,K,L,Y,Z;N({subject:`Late Arrival - ${((M=R.student)==null?void 0:M.hebrew_name)||((K=R.student)==null?void 0:K.first_name)}`,body:`${((L=R.student)==null?void 0:L.hebrew_name)||((Y=R.student)==null?void 0:Y.first_name)} ${(Z=R.student)==null?void 0:Z.last_name} arrived late on ${new Date(f).toLocaleDateString("en-US")}

Time: ${R.arrival_time||"N/A"}
Minutes Late: ${R.minutes_late||"N/A"}
Reason: ${R.reason||"N/A"}`}),j(!0)},children:s.jsx(pa,{className:"h-4 w-4 text-blue-600"})})]})})]},R.id)}),z.length===0&&s.jsx(br,{children:s.jsxs(ct,{colSpan:7,className:"text-center py-12 text-slate-500",children:[s.jsx(Ss,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsxs("p",{children:["No one arrived late on ",new Date(f).toLocaleDateString("en-US")]})]})})]})]})})]}),Object.keys(I).length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(I).map(([R,G])=>s.jsxs(Ye,{children:[s.jsx(ir,{className:"pb-2",children:s.jsxs(sr,{className:"text-sm flex items-center justify-between",children:[s.jsxs("span",{children:["Class ",R]}),s.jsxs(Ct,{children:[G.length," late"]})]})}),s.jsx(Xe,{children:s.jsx("div",{className:"space-y-1",children:G.map(F=>{var H,J;return s.jsxs("div",{className:"text-sm flex justify-between items-center py-1 border-b last:border-0",children:[s.jsx("span",{children:((H=F.student)==null?void 0:H.hebrew_name)||((J=F.student)==null?void 0:J.first_name)}),s.jsx("span",{className:"text-slate-400",children:F.arrival_time})]},F.id)})})})]},R))}),s.jsx(Zt,{open:g,onOpenChange:y,children:s.jsxs(Xt,{className:"max-w-lg",dir:"rtl",children:[s.jsx(er,{children:s.jsx(tr,{children:"Record Late Arrival"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Student *"}),s.jsx(H3,{students:l,value:S.student_id,onChange:R=>T({...S,student_id:R}),placeholder:"Search student..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Arrival Time"}),s.jsx(Ge,{type:"time",value:S.arrival_time,onChange:R=>T({...S,arrival_time:R.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Minutes Late"}),s.jsx(Ge,{type:"number",value:S.minutes_late,onChange:R=>T({...S,minutes_late:R.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Reason"}),s.jsx(Ge,{value:S.reason,onChange:R=>T({...S,reason:R.target.value}),placeholder:"Why late?"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Notes"}),s.jsx(Nr,{value:S.notes,onChange:R=>T({...S,notes:R.target.value}),rows:2})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Ne,{onClick:V,className:"bg-amber-600 hover:bg-amber-700",children:"Record"})]})]})}),s.jsx(Oc,{isOpen:b,onClose:()=>j(!1),defaultSubject:_.subject,defaultBody:_.body,currentUser:t})]})},QBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState(!0);O.useState("changes");const[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState([]),[f,h]=O.useState(new Date().toISOString().split("T")[0]),[p,v]=O.useState("all"),[m,x]=O.useState(!1),[g,y]=O.useState(!1),[b,j]=O.useState(!1),[_,N]=O.useState({}),[S,T]=O.useState(null),[k,V]=O.useState({route_name:"",route_number:"",driver_name:"",driver_phone:""}),[C,P]=O.useState({student_id:"",change_date:new Date().toISOString().split("T")[0],original_bus_id:"",new_bus_id:"",change_type:"one_time",reason:"",pickup_address:"",effective_from:"",effective_until:"",notes:""});O.useEffect(()=>{U()},[f]);const U=async()=>{a(!0);try{const[H,J,A]=await Promise.all([Te.from("bus_routes").select("*").eq("is_active",!0).order("route_name"),Te.from("bus_changes").select(`
          *,
          student:students(id, first_name, last_name, hebrew_name, class_id,
            class:classes!class_id(name)),
          original_bus:bus_routes!original_bus_id(route_name, route_number),
          new_bus:bus_routes!new_bus_id(route_name, route_number)
        `).gte("change_date",f).order("change_date",{ascending:!0}),Te.from("students").select("id, first_name, last_name, hebrew_name, class_id, class:classes!class_id(name)").eq("status","active").order("last_name")]);o(H.data||[]),c(J.data||[]),d(A.data||[])}catch(H){console.error("Error loading:",H)}finally{a(!1)}},q=async()=>{if(!k.route_name){r({variant:"destructive",title:"Error",description:"Please enter a route name"});return}try{if(S){const{error:H}=await Te.from("bus_routes").update(k).eq("id",S.id);if(H)throw H}else{const{error:H}=await Te.from("bus_routes").insert([k]);if(H)throw H}r({title:"Saved",description:"Bus route saved successfully"}),x(!1),U()}catch(H){r({variant:"destructive",title:"Error",description:H.message})}},z=async H=>{if(P(J=>({...J,student_id:H,original_bus_id:""})),!!H)try{const{data:J}=await Te.from("student_bus_assignments").select("bus_route_id").eq("student_id",H).eq("is_active",!0).single();J!=null&&J.bus_route_id&&P(A=>({...A,original_bus_id:J.bus_route_id}))}catch{}},I=async()=>{if(!C.student_id){r({variant:"destructive",title:"Error",description:"Please select a student"});return}try{const{error:H}=await Te.from("bus_changes").insert([{...C,original_bus_id:C.original_bus_id||null,new_bus_id:C.new_bus_id||null,effective_from:C.effective_from||C.change_date,effective_until:C.effective_until||null,created_by:t==null?void 0:t.id}]);if(H)throw H;r({title:"New Change",description:"Bus change recorded"}),y(!1),U()}catch(H){r({variant:"destructive",title:"Error",description:H.message})}},R=()=>{const H=l.filter(M=>M.change_date===f);if(H.length===0){r({title:"Info",description:"No changes for today"});return}const J=`
      <html dir="rtl">
      <head><style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h1 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: right; }
        th { background: #f0f0f0; }
        .footer { text-align: center; margin-top: 30px; font-size: 12px; color: #666; }
      </style></head>
      <body>
        <h1>Bus Changes - ${new Date(f).toLocaleDateString("en-US")}</h1>
        <table>
          <thead>
            <tr>
              <th>Student</th>
              <th>Class</th>
              <th>From Bus</th>
              <th>To Bus</th>
              <th>Type</th>
              <th>Reason</th>
            </tr>
          </thead>
          <tbody>
            ${H.map(M=>{var K,L,Y,Z,se,W,ae;return`
              <tr>
                <td>${((K=M.student)==null?void 0:K.hebrew_name)||`${(L=M.student)==null?void 0:L.first_name} ${(Y=M.student)==null?void 0:Y.last_name}`}</td>
                <td>${((se=(Z=M.student)==null?void 0:Z.class)==null?void 0:se.name)||"N/A"}</td>
                <td>${((W=M.original_bus)==null?void 0:W.route_name)||"-"}</td>
                <td>${((ae=M.new_bus)==null?void 0:ae.route_name)||"-"}</td>
                <td>${M.change_type==="one_time"?"One Time":M.change_type==="temporary"?"Temporary":"Permanent"}</td>
                <td>${M.reason||"-"}</td>
              </tr>
            `}).join("")}
          </tbody>
        </table>
        <div class="footer">Printed from system</div>
      </body></html>
    `,A=window.open("","_blank");A.document.write(J),A.document.close(),A.print()},G=async H=>{confirm("Are you sure?")&&(await Te.from("bus_routes").update({is_active:!1}).eq("id",H),U())},F=l.filter(H=>p==="all"||H.change_type===p);return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(Sn,{className:"h-8 w-8 animate-spin text-cyan-600"})}):s.jsxs("div",{className:"space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Bus Changes"}),s.jsx("p",{className:"text-slate-500",children:"Create and print bus changes"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ne,{variant:"outline",onClick:R,children:[s.jsx(Ly,{className:"h-4 w-4 ml-2"})," Print"]}),s.jsxs(Ne,{variant:"outline",onClick:()=>{T(null),V({route_name:"",route_number:"",driver_name:"",driver_phone:""}),x(!0)},children:[s.jsx(Cre,{className:"h-4 w-4 ml-2"})," New Route"]}),s.jsxs(Ne,{onClick:()=>{P({student_id:"",change_date:f,original_bus_id:"",new_bus_id:"",change_type:"one_time",reason:"",pickup_address:"",effective_from:"",effective_until:"",notes:""}),y(!0)},className:"bg-cyan-600 hover:bg-cyan-700",children:[s.jsx(Zr,{className:"h-4 w-4 ml-2"})," New Change"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-cyan-100 rounded-lg",children:s.jsx(Gh,{className:"h-6 w-6 text-cyan-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Bus Routes"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:s.jsx(bi,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:l.filter(H=>H.change_date===f).length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Changes Today"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Ps,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:l.length}),s.jsx("p",{className:"text-sm text-slate-500",children:"Total Upcoming"})]})]})})]}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"From Date"}),s.jsx(Ge,{type:"date",value:f,onChange:H=>h(H.target.value),className:"w-[200px]"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Change Type"}),s.jsxs(wt,{value:p,onValueChange:v,children:[s.jsx(yt,{className:"w-[180px]",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All"}),s.jsx(Le,{value:"one_time",children:"One Time"}),s.jsx(Le,{value:"temporary",children:"Temporary"}),s.jsx(Le,{value:"permanent",children:"Permanent"})]})]})]})]})}),s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsxs(sr,{className:"flex items-center gap-2",children:[s.jsx(Gh,{className:"h-5 w-5"})," Bus Routes (",i.length,")"]})}),s.jsx(Xe,{className:"p-0",children:s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Route Name"}),s.jsx(dt,{children:"Number"}),s.jsx(dt,{children:"Driver"}),s.jsx(dt,{children:"Phone"}),s.jsx(dt,{children:"Actions"})]})}),s.jsxs(Ba,{children:[i.map(H=>s.jsxs(br,{children:[s.jsx(ct,{className:"font-medium",children:H.route_name}),s.jsx(ct,{children:H.route_number||"-"}),s.jsx(ct,{children:H.driver_name||"-"}),s.jsx(ct,{children:H.driver_phone||"-"}),s.jsx(ct,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{T(H),V({route_name:H.route_name||"",route_number:H.route_number||"",driver_name:H.driver_name||"",driver_phone:H.driver_phone||""}),x(!0)},children:s.jsx(ma,{className:"h-4 w-4"})}),s.jsx(Ne,{variant:"ghost",size:"sm",className:"text-red-600",onClick:()=>G(H.id),children:s.jsx(za,{className:"h-4 w-4"})})]})})]},H.id)),i.length===0&&s.jsx(br,{children:s.jsx(ct,{colSpan:5,className:"text-center py-8 text-slate-500",children:"No routes found"})})]})]})})]}),s.jsxs(Ye,{children:[s.jsx(ir,{children:s.jsxs(sr,{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"h-5 w-5 text-amber-600"})," Changes (",F.length,")"]})}),s.jsx(Xe,{className:"p-0",children:s.jsxs(Ra,{children:[s.jsx($a,{children:s.jsxs(br,{children:[s.jsx(dt,{children:"Date"}),s.jsx(dt,{children:"Student"}),s.jsx(dt,{children:"Class"}),s.jsx(dt,{children:"From Bus"}),s.jsx(dt,{children:"To Bus"}),s.jsx(dt,{children:"Type"}),s.jsx(dt,{children:"Reason"}),s.jsx(dt,{children:"Actions"})]})}),s.jsxs(Ba,{children:[F.map(H=>{var J,A,M,K,L,Y,Z;return s.jsxs(br,{children:[s.jsx(ct,{children:new Date(H.change_date).toLocaleDateString("en-US")}),s.jsx(ct,{className:"font-medium",children:((J=H.student)==null?void 0:J.hebrew_name)||`${(A=H.student)==null?void 0:A.first_name} ${(M=H.student)==null?void 0:M.last_name}`}),s.jsx(ct,{children:s.jsx(Ct,{variant:"outline",children:((L=(K=H.student)==null?void 0:K.class)==null?void 0:L.name)||"N/A"})}),s.jsx(ct,{children:((Y=H.original_bus)==null?void 0:Y.route_name)||"-"}),s.jsx(ct,{children:((Z=H.new_bus)==null?void 0:Z.route_name)||"-"}),s.jsx(ct,{children:s.jsx(Ct,{className:H.change_type==="permanent"?"bg-red-100 text-red-800":H.change_type==="temporary"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800",children:H.change_type==="one_time"?"One Time":H.change_type==="temporary"?"Temporary":"Permanent"})}),s.jsx(ct,{className:"max-w-[150px] truncate",children:H.reason||"-"}),s.jsx(ct,{children:s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>{var se,W,ae,fe,Q,ke;N({subject:`Bus Change - ${((se=H.student)==null?void 0:se.hebrew_name)||((W=H.student)==null?void 0:W.first_name)}`,body:`Bus change for ${((ae=H.student)==null?void 0:ae.hebrew_name)||((fe=H.student)==null?void 0:fe.first_name)}

Date: ${new Date(H.change_date).toLocaleDateString("en-US")}
From: ${((Q=H.original_bus)==null?void 0:Q.route_name)||"N/A"}
To: ${((ke=H.new_bus)==null?void 0:ke.route_name)||"N/A"}
Reason: ${H.reason||"N/A"}`}),j(!0)},children:s.jsx(pa,{className:"h-4 w-4 text-blue-600"})})})]},H.id)}),F.length===0&&s.jsx(br,{children:s.jsxs(ct,{colSpan:8,className:"text-center py-8 text-slate-500",children:[s.jsx(Gh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No changes found"})]})})]})]})})]}),s.jsx(Zt,{open:m,onOpenChange:x,children:s.jsxs(Xt,{className:"max-w-lg",dir:"rtl",children:[s.jsx(er,{children:s.jsx(tr,{children:S?"Edit Route":"New Bus Route"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Route Name *"}),s.jsx(Ge,{value:k.route_name,onChange:H=>V({...k,route_name:H.target.value}),placeholder:"Bus 1"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Route Number"}),s.jsx(Ge,{value:k.route_number,onChange:H=>V({...k,route_number:H.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Driver Name"}),s.jsx(Ge,{value:k.driver_name,onChange:H=>V({...k,driver_name:H.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Driver Phone"}),s.jsx(Ge,{value:k.driver_phone,onChange:H=>V({...k,driver_phone:H.target.value})})]})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),s.jsx(Ne,{onClick:q,className:"bg-cyan-600 hover:bg-cyan-700",children:S?"Update":"Add"})]})]})}),s.jsx(Zt,{open:g,onOpenChange:y,children:s.jsxs(Xt,{className:"max-w-lg",dir:"rtl",children:[s.jsx(er,{children:s.jsx(tr,{children:"New Bus Change"})}),s.jsxs("div",{className:"space-y-4 py-2",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Student *"}),s.jsx(H3,{students:u,value:C.student_id,onChange:z,placeholder:"Search student..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"From Bus"}),s.jsxs(wt,{value:C.original_bus_id||"none",onValueChange:H=>P({...C,original_bus_id:H==="none"?"":H}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select..."})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"none",children:"None"}),i.map(H=>s.jsxs(Le,{value:H.id,children:[H.route_name," (",H.route_number,")"]},H.id))]})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"To Bus"}),s.jsxs(wt,{value:C.new_bus_id||"none",onValueChange:H=>P({...C,new_bus_id:H==="none"?"":H}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select..."})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"none",children:"None"}),i.map(H=>s.jsxs(Le,{value:H.id,children:[H.route_name," (",H.route_number,")"]},H.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Date"}),s.jsx(Ge,{type:"date",value:C.change_date,onChange:H=>P({...C,change_date:H.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Type"}),s.jsxs(wt,{value:C.change_type,onValueChange:H=>P({...C,change_type:H}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"one_time",children:"One Time"}),s.jsx(Le,{value:"temporary",children:"Temporary"}),s.jsx(Le,{value:"permanent",children:"Permanent"})]})]})]})]}),C.change_type==="temporary"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"From Date"}),s.jsx(Ge,{type:"date",value:C.effective_from,onChange:H=>P({...C,effective_from:H.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Until Date"}),s.jsx(Ge,{type:"date",value:C.effective_until,onChange:H=>P({...C,effective_until:H.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Alternate Address (if applicable)"}),s.jsx(Ge,{value:C.pickup_address,onChange:H=>P({...C,pickup_address:H.target.value}),placeholder:"New pickup address"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Reason"}),s.jsx(Ge,{value:C.reason,onChange:H=>P({...C,reason:H.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Notes"}),s.jsx(Nr,{value:C.notes,onChange:H=>P({...C,notes:H.target.value}),rows:2})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(Ne,{onClick:I,className:"bg-cyan-600 hover:bg-cyan-700",children:"Record"})]})]})}),s.jsx(Oc,{isOpen:b,onClose:()=>j(!1),defaultSubject:_.subject,defaultBody:_.body,currentUser:t})]})},MM=[{value:"general",label:"General"},{value:"meeting",label:"Meeting"},{value:"call",label:"Call"},{value:"deadline",label:"Deadline"},{value:"follow_up",label:"Follow-up"},{value:"evaluation",label:"Evaluation"},{value:"payment",label:"Payment"},{value:"other",label:"Other"}],ZBe=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState(!0),[i,o]=O.useState([]),[l,c]=O.useState(!1),[u,d]=O.useState(null),[f,h]=O.useState("active"),[p,v]=O.useState(""),[m,x]=O.useState({title:"",description:"",reminder_type:"general",reminder_date:"",reminder_time:"09:00",send_email:!1,email_recipients:"",priority:"normal",related_student_id:null,related_student_name:""}),[g,y]=O.useState([]),[b,j]=O.useState("");O.useEffect(()=>{_(),N()},[f]);const _=async()=>{a(!0);try{let F=Te.from("reminders").select("*").eq("is_active",!0).order("reminder_date",{ascending:!0});const H=new Date().toISOString().split("T")[0];f==="active"?F=F.eq("is_completed",!1):f==="completed"?F=F.eq("is_completed",!0):f==="overdue"&&(F=F.eq("is_completed",!1).lt("reminder_date",H));const{data:J,error:A}=await F;if(A)throw A;o(J||[])}catch(F){console.error("Error loading reminders:",F)}finally{a(!1)}},N=async()=>{const{data:F}=await Te.from("students").select("id, first_name, last_name, hebrew_name").eq("status","active").order("last_name");y(F||[])},S=async()=>{if(!m.title||!m.reminder_date){r({variant:"destructive",title:"Error",description:"Please fill in title and date"});return}try{const F={title:m.title,description:m.description||null,reminder_type:m.reminder_type,reminder_date:m.reminder_date,reminder_time:m.reminder_time||"09:00",send_email:m.send_email,email_recipients:m.send_email&&m.email_recipients?m.email_recipients.split(",").map(H=>H.trim()).filter(Boolean):null,priority:m.priority,related_student_id:m.related_student_id||null,related_student_name:m.related_student_name||null,created_by:t==null?void 0:t.id,created_by_name:(t==null?void 0:t.name)||(t==null?void 0:t.first_name)};if(u){const{error:H}=await Te.from("reminders").update(F).eq("id",u.id);if(H)throw H;r({title:"Updated",description:"Reminder has been updated"})}else{const{error:H}=await Te.from("reminders").insert([F]);if(H)throw H;r({title:"Added",description:"Reminder has been added"})}if(m.send_email&&m.email_recipients)try{const H=m.email_recipients.split(",").map(J=>J.trim());await HG({to:H,subject:`Reminder: ${m.title}`,body:`${m.description||m.title}

Date: ${m.reminder_date} ${m.reminder_time}`,relatedType:"reminder",sentBy:t==null?void 0:t.id}),r({title:"Email Sent",description:`Reminder email sent to ${H.length} recipient(s)`})}catch(H){console.error("Failed to send reminder email:",H),r({variant:"destructive",title:"Email Failed",description:H.message||"Could not send reminder email"})}c(!1),d(null),_()}catch(F){r({variant:"destructive",title:"Error",description:F.message})}},T=async F=>{try{const{error:H}=await Te.from("reminders").update({is_completed:!0,completed_at:new Date().toISOString()}).eq("id",F);if(H)throw H;r({title:"Done",description:"Reminder has been completed"}),_()}catch(H){r({variant:"destructive",title:"Error",description:H.message})}},k=async F=>{try{const{error:H}=await Te.from("reminders").update({is_active:!1}).eq("id",F);if(H)throw H;r({title:"Deleted",description:"Reminder has been deleted"}),_()}catch(H){r({variant:"destructive",title:"Error",description:H.message})}},V=()=>{d(null),x({title:"",description:"",reminder_type:"general",reminder_date:"",reminder_time:"09:00",send_email:!1,email_recipients:"",priority:"normal",related_student_id:null,related_student_name:""}),c(!0)},C=F=>{d(F),x({title:F.title,description:F.description||"",reminder_type:F.reminder_type||"general",reminder_date:F.reminder_date||"",reminder_time:F.reminder_time?F.reminder_time.slice(0,5):"09:00",send_email:F.send_email||!1,email_recipients:Array.isArray(F.email_recipients)?F.email_recipients.join(", "):F.email_recipients||"",priority:F.priority||"normal",related_student_id:F.related_student_id,related_student_name:F.related_student_name||""}),c(!0)},P=F=>F?new Date(F)<new Date&&new Date(F).toDateString()!==new Date().toDateString():!1,U=F=>F?new Date(F).toDateString()===new Date().toDateString():!1,q=i.filter(F=>{var J,A,M,K;if(!p)return!0;const H=p.toLowerCase();return((J=F.title)==null?void 0:J.toLowerCase().includes(H))||((A=F.description)==null?void 0:A.toLowerCase().includes(H))||((M=F.related_student_name)==null?void 0:M.toLowerCase().includes(H))||((K=F.title)==null?void 0:K.includes(p))});new Date().toISOString().split("T")[0];const z=i.filter(F=>!F.is_completed&&P(F.reminder_date)).length,I=i.filter(F=>!F.is_completed&&U(F.reminder_date)).length,R=g.filter(F=>{var J,A,M;if(!b)return!1;const H=b.toLowerCase();return((J=F.first_name)==null?void 0:J.toLowerCase().includes(H))||((A=F.last_name)==null?void 0:A.toLowerCase().includes(H))||((M=F.hebrew_name)==null?void 0:M.includes(b))}).slice(0,5),G=F=>F==="high"?s.jsx(Ct,{className:"bg-red-100 text-red-800",children:"High"}):F==="low"?s.jsx(Ct,{className:"bg-slate-100 text-slate-600",children:"Low"}):s.jsx(Ct,{className:"bg-blue-100 text-blue-800",children:"Normal"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Fy,{className:"h-6 w-6 text-amber-600"})," Reminders"]}),s.jsx("p",{className:"text-slate-500",children:"All reminders - with email option"})]}),s.jsxs(Ne,{onClick:V,children:[s.jsx(Zr,{className:"h-4 w-4 mr-2"})," New Reminder"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Ye,{className:`cursor-pointer ${f==="active"?"ring-2 ring-blue-400":""}`,onClick:()=>h("active"),children:s.jsxs(Xe,{className:"p-4 text-center",children:[s.jsx(Fy,{className:"h-6 w-6 mx-auto mb-1 text-blue-600"}),s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-slate-500",children:"Active"})]})}),s.jsx(Ye,{className:`cursor-pointer ${f==="overdue"?"ring-2 ring-red-400":""}`,onClick:()=>h("overdue"),children:s.jsxs(Xe,{className:"p-4 text-center",children:[s.jsx(bi,{className:"h-6 w-6 mx-auto mb-1 text-red-600"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:z}),s.jsx("p",{className:"text-xs text-slate-500",children:"Overdue"})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 text-center",children:[s.jsx(Ps,{className:"h-6 w-6 mx-auto mb-1 text-amber-600"}),s.jsx("p",{className:"text-2xl font-bold text-amber-600",children:I}),s.jsx("p",{className:"text-xs text-slate-500",children:"Today"})]})}),s.jsx(Ye,{className:`cursor-pointer ${f==="completed"?"ring-2 ring-green-400":""}`,onClick:()=>h("completed"),children:s.jsxs(Xe,{className:"p-4 text-center",children:[s.jsx(wi,{className:"h-6 w-6 mx-auto mb-1 text-green-600"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:""}),s.jsx("p",{className:"text-xs text-slate-500",children:"Completed"})]})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{value:p,onChange:F=>v(F.target.value),placeholder:"Search reminders...",className:"pl-10"})]}),s.jsxs(wt,{value:f,onValueChange:h,children:[s.jsx(yt,{className:"w-40",children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"active",children:"Active"}),s.jsx(Le,{value:"overdue",children:"Overdue"}),s.jsx(Le,{value:"completed",children:"Completed"}),s.jsx(Le,{value:"all",children:"All"})]})]})]}),n?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Sn,{className:"h-6 w-6 animate-spin text-blue-600"})}):q.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Fy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No reminders found"})]}):s.jsx("div",{className:"space-y-3",children:q.map(F=>{var A;const H=!F.is_completed&&P(F.reminder_date),J=U(F.reminder_date);return s.jsx(Ye,{className:`${H?"border-red-300 bg-red-50/50":J?"border-amber-300 bg-amber-50/50":""} ${F.is_completed?"opacity-60":""}`,children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:`font-bold text-lg ${F.is_completed?"line-through text-slate-400":"text-slate-800"}`,children:F.title}),s.jsx(Ct,{variant:"outline",className:"text-xs",children:((A=MM.find(M=>M.value===F.reminder_type))==null?void 0:A.label)||F.reminder_type}),G(F.priority),H&&s.jsx(Ct,{className:"bg-red-500 text-white",children:"Overdue!"}),J&&!F.is_completed&&s.jsx(Ct,{className:"bg-amber-500 text-white",children:"Today"}),F.send_email&&s.jsxs(Ct,{className:"bg-purple-100 text-purple-800",children:[s.jsx(pa,{className:"h-3 w-3 mr-1"})," Email"]})]}),F.description&&s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:F.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ps,{className:"h-3 w-3"}),F.reminder_date&&new Date(F.reminder_date+"T00:00:00").toLocaleDateString("he-IL")]}),F.reminder_time&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ss,{className:"h-3 w-3"}),F.reminder_time.slice(0,5)]}),F.related_student_name&&s.jsxs("span",{children:["Student: ",F.related_student_name]}),F.created_by_name&&s.jsxs("span",{children:["By: ",F.created_by_name]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[!F.is_completed&&s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>T(F.id),title:"Complete",children:s.jsx(wi,{className:"h-4 w-4 text-green-600"})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>C(F),title:"Edit",children:s.jsx(ma,{className:"h-4 w-4 text-blue-600"})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>k(F.id),title:"Delete",children:s.jsx(za,{className:"h-4 w-4 text-red-500"})})]})]})})},F.id)})}),s.jsx(Zt,{open:l,onOpenChange:c,children:s.jsxs(Xt,{className:"max-w-lg",children:[s.jsx(er,{children:s.jsx(tr,{children:u?"Edit Reminder":"New Reminder"})}),s.jsxs("div",{className:"space-y-4 py-2 max-h-[60vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Title *"}),s.jsx(Ge,{value:m.title,onChange:F=>x({...m,title:F.target.value}),placeholder:"What about?"})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Description"}),s.jsx(Nr,{value:m.description,onChange:F=>x({...m,description:F.target.value}),rows:3,placeholder:"More details..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Type"}),s.jsxs(wt,{value:m.reminder_type,onValueChange:F=>x({...m,reminder_type:F}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:MM.map(F=>s.jsx(Le,{value:F.value,children:F.label},F.value))})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Priority"}),s.jsxs(wt,{value:m.priority,onValueChange:F=>x({...m,priority:F}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"high",children:"High"}),s.jsx(Le,{value:"normal",children:"Normal"}),s.jsx(Le,{value:"low",children:"Low"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ve,{children:"Date *"}),s.jsx(Ge,{type:"date",value:m.reminder_date,onChange:F=>x({...m,reminder_date:F.target.value})})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Time"}),s.jsx(Ge,{type:"time",value:m.reminder_time,onChange:F=>x({...m,reminder_time:F.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ve,{children:"Link to a student (optional)"}),m.related_student_name?s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 rounded",children:[s.jsx("span",{children:m.related_student_name}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>x({...m,related_student_id:null,related_student_name:""}),children:s.jsx(za,{className:"h-3 w-3"})})]}):s.jsxs("div",{children:[s.jsx(Ge,{value:b,onChange:F=>j(F.target.value),placeholder:"Search student..."}),R.length>0&&s.jsx("div",{className:"mt-1 border rounded-md shadow-sm max-h-32 overflow-y-auto",children:R.map(F=>s.jsx("div",{className:"p-2 hover:bg-slate-100 cursor-pointer text-sm",onClick:()=>{x({...m,related_student_id:F.id,related_student_name:F.hebrew_name||`${F.first_name} ${F.last_name}`}),j("")},children:F.hebrew_name||`${F.first_name} ${F.last_name}`},F.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"send_email",checked:m.send_email,onChange:F=>x({...m,send_email:F.target.checked}),className:"rounded"}),s.jsx(ve,{htmlFor:"send_email",className:"cursor-pointer",children:"Send email notification"})]}),m.send_email&&s.jsxs("div",{children:[s.jsx(ve,{children:"Email addresses (comma-separated)"}),s.jsx(Ge,{type:"email",value:m.email_recipients,onChange:F=>x({...m,email_recipients:F.target.value}),placeholder:"email1@example.com, email2@example.com"})]})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Ne,{onClick:S,children:u?"Update":"Add"})]})]})})]})},fS=[{value:"general",label:"General",color:"bg-slate-100 text-slate-700"},{value:"academic",label:"Academic",color:"bg-blue-100 text-blue-700"},{value:"behavioral",label:"Behavioral",color:"bg-orange-100 text-orange-700"},{value:"special_ed",label:"Special Ed",color:"bg-purple-100 text-purple-700"},{value:"administrative",label:"Administrative",color:"bg-cyan-100 text-cyan-700"},{value:"communication",label:"Communication",color:"bg-green-100 text-green-700"}],hS=[{value:"low",label:"Low",color:"text-slate-500",icon:are},{value:"normal",label:"Normal",color:"text-blue-500",icon:nC},{value:"high",label:"High",color:"text-orange-500",icon:sre},{value:"urgent",label:"Urgent",color:"text-red-600",icon:bi}],e9e=({role:e,currentUser:t})=>{const{toast:r}=Tr(),[n,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState([]),[u,d]=O.useState(!0),[f,h]=O.useState("my-todos"),[p,v]=O.useState(""),[m,x]=O.useState("all"),[g,y]=O.useState("all"),[b,j]=O.useState(!1),[_,N]=O.useState(!1),[S,T]=O.useState(!1),[k,V]=O.useState(null),[C,P]=O.useState({title:"",description:"",student_id:"",student_name:"",category:"general",priority:"normal",due_date:"",assigned_to:"",notes:""}),[U,q]=O.useState(!1),[z,I]=O.useState(""),[R,G]=O.useState(""),[F,H]=O.useState(null),[J,A]=O.useState(!1);O.useEffect(()=>{Promise.all([M(),K(),L()])},[]);const M=async()=>{try{d(!0);const{data:ge,error:ze}=await Te.from("todos").select("*").order("created_at",{ascending:!1});if(ze)throw ze;a(ge||[])}catch(ge){console.error("Error fetching todos:",ge),r({variant:"destructive",title:"Error",description:"Failed to load to-do items."})}finally{d(!1)}},K=async()=>{try{const{data:ge}=await Te.from("app_users").select("id, name, email, role");o(ge||[])}catch{}},L=async()=>{try{const{data:ge}=await Te.from("students").select("id, first_name, last_name");c(ge||[])}catch{}},Y=()=>{V(null),P({title:"",description:"",student_id:"",student_name:"",category:e==="special_ed"?"special_ed":"general",priority:"normal",due_date:"",assigned_to:(t==null?void 0:t.id)||"",notes:""}),N(!0)},Z=ge=>{V(ge),P({title:ge.title||"",description:ge.description||"",student_id:ge.student_id||"",student_name:ge.student_name||"",category:ge.category||"general",priority:ge.priority||"normal",due_date:ge.due_date||"",assigned_to:ge.assigned_to||"",notes:ge.notes||""}),N(!0)},se=async ge=>{if(ge.preventDefault(),!C.title.trim()){r({variant:"destructive",title:"Error",description:"Title is required."});return}T(!0);try{const ze={title:C.title,description:C.description||null,student_id:C.student_id||null,student_name:C.student_name||null,category:C.category,priority:C.priority,due_date:C.due_date||null,assigned_to:C.assigned_to||(t==null?void 0:t.id),notes:C.notes||null,updated_at:new Date().toISOString()};if(k){const{error:tt}=await Te.from("todos").update(ze).eq("id",k.id);if(tt)throw tt;r({title:"Updated",description:"To-do item updated."})}else{ze.created_by=t==null?void 0:t.id,ze.status="pending";const{data:tt,error:ht}=await Te.from("todos").insert([ze]).select();if(ht)throw ht;r({title:"Created",description:"New to-do item created."});const Se=(tt==null?void 0:tt[0])||ze;W(Se)}N(!1),M()}catch(ze){r({variant:"destructive",title:"Error",description:ze.message})}finally{T(!1)}},W=ge=>{H(ge),A(!0)},ae=()=>{if(!F)return;const ge=F;ge.student_name&&`${ge.student_name}`,I(`New Task: ${ge.title}`),G(`A new task has been created:

Title: ${ge.title}
Category: ${ge.category}
Priority: ${ge.priority}
`+(ge.description?`Description: ${ge.description}
`:"")+(ge.student_name?`Student: ${ge.student_name}
`:"")+(ge.due_date?`Due: ${ge.due_date}
`:"")+`
Created by: ${(t==null?void 0:t.name)||(t==null?void 0:t.email)||"System"}`),A(!1),q(!0)},fe=async ge=>{const ze=ge.status==="completed"?"pending":"completed";try{const tt={status:ze,updated_at:new Date().toISOString()};ze==="completed"?(tt.completed_at=new Date().toISOString(),tt.completed_by=t==null?void 0:t.id):(tt.completed_at=null,tt.completed_by=null);const{error:ht}=await Te.from("todos").update(tt).eq("id",ge.id);if(ht)throw ht;a(Se=>Se.map(st=>st.id===ge.id?{...st,...tt}:st))}catch{r({variant:"destructive",title:"Error",description:"Failed to update status."})}},Q=async ge=>{if(window.confirm("Delete this to-do item?"))try{const{error:ze}=await Te.from("todos").delete().eq("id",ge);if(ze)throw ze;a(tt=>tt.filter(ht=>ht.id!==ge)),r({title:"Deleted",description:"To-do removed."})}catch{r({variant:"destructive",title:"Error",description:"Failed to delete."})}},ke=O.useMemo(()=>n.filter(ge=>ge.assigned_to===(t==null?void 0:t.id)),[n,t]),Ie=n,Ae=["principal","principal_hebrew","principal_english","admin"].includes(e),ce=ge=>ge.filter(ze=>{if(!b&&ze.status==="completed"||m!=="all"&&ze.category!==m||g!=="all"&&ze.priority!==g)return!1;if(p){const tt=p.toLowerCase();return(ze.title||"").toLowerCase().includes(tt)||(ze.student_name||"").toLowerCase().includes(tt)||(ze.description||"").toLowerCase().includes(tt)||(ze.notes||"").toLowerCase().includes(tt)}return!0}),Re=ge=>{const ze=i.find(tt=>tt.id===ge);return(ze==null?void 0:ze.name)||(ze==null?void 0:ze.email)||"Unknown"},at=ge=>{const ze=hS.find(ht=>ht.value===ge);if(!ze)return null;const tt=ze.icon;return s.jsx(tt,{className:`h-4 w-4 ${ze.color}`})},$e=ge=>{const ze=fS.find(tt=>tt.value===ge);return ze?s.jsx(Ct,{className:ze.color,children:ze.label}):s.jsx(Ct,{variant:"outline",children:ge})},et=ke.filter(ge=>ge.status==="pending").length,xe=ke.filter(ge=>ge.priority==="urgent"&&ge.status!=="completed").length,de=ke.filter(ge=>!ge.due_date||ge.status==="completed"?!1:ge.due_date===new Date().toISOString().split("T")[0]).length,Be=ke.filter(ge=>!ge.due_date||ge.status==="completed"?!1:ge.due_date<new Date().toISOString().split("T")[0]).length,we=ge=>{const ze=ge.status==="completed",tt=ge.due_date&&!ze&&ge.due_date<new Date().toISOString().split("T")[0];return s.jsxs("div",{className:`group flex items-start gap-3 p-4 border rounded-xl transition-all hover:shadow-sm ${ze?"bg-slate-50 opacity-60":tt?"bg-red-50 border-red-200":ge.priority==="urgent"?"bg-amber-50 border-amber-200":"bg-white border-slate-200"}`,children:[s.jsx("button",{onClick:()=>fe(ge),className:"mt-0.5 flex-shrink-0",children:ze?s.jsx(tO,{className:"h-6 w-6 text-green-500"}):s.jsx(hre,{className:`h-6 w-6 ${ge.priority==="urgent"?"text-red-400":"text-slate-300"} hover:text-green-400 transition-colors`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`font-medium ${ze?"line-through text-slate-400":"text-slate-800"}`,children:ge.title}),at(ge.priority),$e(ge.category),tt&&s.jsx(Ct,{className:"bg-red-100 text-red-700 text-xs",children:"Overdue"})]}),ge.description&&s.jsx("p",{className:`text-sm mt-1 ${ze?"text-slate-400":"text-slate-600"}`,children:ge.description}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-slate-500 flex-wrap",children:[ge.student_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(as,{className:"h-3 w-3"})," ",ge.student_name]}),ge.due_date&&s.jsxs("span",{className:`flex items-center gap-1 ${tt?"text-red-600 font-semibold":""}`,children:[s.jsx(eO,{className:"h-3 w-3"})," ",ge.due_date]}),ge.assigned_to&&ge.assigned_to!==(t==null?void 0:t.id)&&s.jsxs("span",{className:"flex items-center gap-1",children:["Assigned to: ",Re(ge.assigned_to)]}),ze&&ge.completed_at&&s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(tO,{className:"h-3 w-3"})," Done ",new Date(ge.completed_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>Z(ge),title:"Edit",children:s.jsx(aO,{className:"h-4 w-4 text-blue-500"})}),s.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>Q(ge.id),title:"Delete",children:s.jsx(za,{className:"h-4 w-4 text-red-400"})})]})]},ge.id)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"To-Do List"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Track tasks, follow-ups, and action items"})]}),s.jsxs(Ne,{onClick:Y,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Zr,{className:"mr-2 h-4 w-4"})," New Task"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(aO,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:et}),s.jsx("p",{className:"text-xs text-slate-500",children:"Pending"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(bi,{className:"h-5 w-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:xe}),s.jsx("p",{className:"text-xs text-slate-500",children:"Urgent"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:s.jsx(eO,{className:"h-5 w-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:de}),s.jsx("p",{className:"text-xs text-slate-500",children:"Due Today"})]})]})}),s.jsx(Ye,{children:s.jsxs(Xe,{className:"p-4 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:s.jsx(Ss,{className:"h-5 w-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:Be}),s.jsx("p",{className:"text-xs text-slate-500",children:"Overdue"})]})]})})]}),s.jsx(Ye,{children:s.jsx(Xe,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx(Ge,{placeholder:"Search tasks...",value:p,onChange:ge=>v(ge.target.value),className:"pl-10"})]}),s.jsxs(wt,{value:m,onValueChange:x,children:[s.jsx(yt,{className:"w-[160px]",children:s.jsx(_t,{placeholder:"Category"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Categories"}),fS.map(ge=>s.jsx(Le,{value:ge.value,children:ge.label},ge.value))]})]}),s.jsxs(wt,{value:g,onValueChange:y,children:[s.jsx(yt,{className:"w-[140px]",children:s.jsx(_t,{placeholder:"Priority"})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"all",children:"All Priorities"}),hS.map(ge=>s.jsx(Le,{value:ge.value,children:ge.label},ge.value))]})]}),s.jsxs(Ne,{variant:b?"default":"outline",onClick:()=>j(!b),className:"whitespace-nowrap",children:[s.jsx(zd,{className:"mr-1 h-4 w-4"}),b?"Hide Done":"Show Done"]})]})})}),s.jsxs(Jo,{value:f,onValueChange:h,children:[s.jsxs(uo,{children:[s.jsxs(vr,{value:"my-todos",children:["My Tasks (",ce(ke).length,")"]}),Ae&&s.jsxs(vr,{value:"all-todos",children:["All Tasks (",ce(Ie).length,")"]}),s.jsx(vr,{value:"by-student",children:"By Student"})]}),s.jsx(Ur,{value:"my-todos",children:u?s.jsx("div",{className:"flex justify-center p-12",children:s.jsx(Sn,{className:"animate-spin h-8 w-8 text-blue-500"})}):s.jsx("div",{className:"space-y-2",children:ce(ke).length===0?s.jsx(Ye,{children:s.jsxs(Xe,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx(zd,{className:"h-12 w-12 text-slate-300 mb-3"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"No pending tasks"}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Create a new task to get started"})]})}):ce(ke).map(we)})}),Ae&&s.jsx(Ur,{value:"all-todos",children:s.jsx("div",{className:"space-y-2",children:ce(Ie).length===0?s.jsx(Ye,{children:s.jsxs(Xe,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx(zd,{className:"h-12 w-12 text-slate-300 mb-3"}),s.jsx("p",{className:"text-slate-500",children:"No tasks found"})]})}):ce(Ie).map(we)})}),s.jsx(Ur,{value:"by-student",children:(()=>{const ge={};ce(f==="by-student"&&Ae?Ie:ke).forEach(tt=>{const ht=tt.student_name||"No Student";ge[ht]||(ge[ht]=[]),ge[ht].push(tt)});const ze=Object.keys(ge).sort();return ze.length===0?s.jsx(Ye,{children:s.jsxs(Xe,{className:"flex flex-col items-center justify-center py-16",children:[s.jsx(as,{className:"h-12 w-12 text-slate-300 mb-3"}),s.jsx("p",{className:"text-slate-500",children:"No student-linked tasks"})]})}):ze.map(tt=>s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"font-semibold text-slate-700 mb-2 flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4"})," ",tt,s.jsx(Ct,{variant:"outline",children:ge[tt].length})]}),s.jsx("div",{className:"space-y-2 ml-2",children:ge[tt].map(we)})]},tt))})()})]}),s.jsx(Zt,{open:_,onOpenChange:N,children:s.jsxs(Xt,{className:"sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[s.jsxs(er,{children:[s.jsx(tr,{children:k?"Edit Task":"New Task"}),s.jsx(Nl,{children:k?"Update task details.":"Create a new to-do item. You can link it to a student and assign it to someone."})]}),s.jsxs("form",{onSubmit:se,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"title",children:"Title *"}),s.jsx(Ge,{id:"title",value:C.title,onChange:ge=>P({...C,title:ge.target.value}),placeholder:"What needs to be done?",required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"description",children:"Description"}),s.jsx(Nr,{id:"description",value:C.description,onChange:ge=>P({...C,description:ge.target.value}),placeholder:"Additional details...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{children:"Category"}),s.jsxs(wt,{value:C.category,onValueChange:ge=>P({...C,category:ge}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:fS.map(ge=>s.jsx(Le,{value:ge.value,children:ge.label},ge.value))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{children:"Priority"}),s.jsxs(wt,{value:C.priority,onValueChange:ge=>P({...C,priority:ge}),children:[s.jsx(yt,{children:s.jsx(_t,{})}),s.jsx(bt,{children:hS.map(ge=>s.jsx(Le,{value:ge.value,children:ge.label},ge.value))})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{children:"Student (Optional)"}),s.jsxs(wt,{value:C.student_id,onValueChange:ge=>{const ze=l.find(tt=>tt.id===ge);P({...C,student_id:ge,student_name:ze?`${ze.first_name} ${ze.last_name}`:""})},children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Select student..."})}),s.jsxs(bt,{children:[s.jsx(Le,{value:"",children:"None"}),l.map(ge=>s.jsxs(Le,{value:ge.id,children:[ge.first_name," ",ge.last_name]},ge.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"due_date",children:"Due Date"}),s.jsx(Ge,{id:"due_date",type:"date",value:C.due_date,onChange:ge=>P({...C,due_date:ge.target.value})})]}),Ae&&s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{children:"Assign To"}),s.jsxs(wt,{value:C.assigned_to,onValueChange:ge=>P({...C,assigned_to:ge}),children:[s.jsx(yt,{children:s.jsx(_t,{placeholder:"Assign to..."})}),s.jsx(bt,{children:i.map(ge=>s.jsx(Le,{value:ge.id,children:ge.name||ge.email},ge.id))})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"notes",children:"Notes"}),s.jsx(Nr,{id:"notes",value:C.notes,onChange:ge=>P({...C,notes:ge.target.value}),placeholder:"Internal notes...",rows:2})]})]}),s.jsxs(yr,{children:[s.jsx(Ne,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsx(Ne,{type:"submit",disabled:S,children:S?s.jsx(Sn,{className:"mr-2 h-4 w-4 animate-spin"}):k?"Save Changes":"Create Task"})]})]})]})}),s.jsx(Zt,{open:J,onOpenChange:A,children:s.jsxs(Xt,{className:"sm:max-w-[350px]",children:[s.jsxs(er,{children:[s.jsxs(tr,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5 text-blue-500"})," Send Notification?"]}),s.jsx(Nl,{children:"Would you like to send an email to notify someone about this new task?"})]}),s.jsxs(yr,{className:"flex gap-2",children:[s.jsx(Ne,{variant:"outline",onClick:()=>A(!1),children:"No, Skip"}),s.jsxs(Ne,{onClick:ae,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(pa,{className:"mr-2 h-4 w-4"})," Yes, Send Email"]})]})]})}),s.jsx(Oc,{isOpen:U,onClose:()=>q(!1),defaultSubject:z,defaultBody:R,currentUser:t,relatedType:"todo",relatedId:F==null?void 0:F.id})]})},t9e=()=>{var y,b,j,_;XT();const{user:e,profile:t,signOut:r,loading:n}=cw(),[a,i]=O.useState("overview"),[o,l]=O.useState(!0),c=(t==null?void 0:t.role)||"teacher",[u,d]=O.useState(null),[f,h]=O.useState(!1);O.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:N}=await Te.from("app_settings").select("value").eq("key","menu_visibility").maybeSingle();N!=null&&N.value&&d(JSON.parse(N.value))}catch{}},v=async N=>{try{await Te.from("app_settings").upsert({key:"menu_visibility",value:JSON.stringify(N),updated_at:new Date().toISOString()},{onConflict:"key"}),d(N)}catch{console.log("Could not save menu settings")}},m=[{id:"overview",label:"Dashboard",icon:Are,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin","special_ed"],description:"Quick overview"},{id:"todos",label:"To-Do List",icon:zd,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin","special_ed"],description:"Tasks & follow-ups"},{id:"students",label:"Students",icon:Ia,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin","special_ed"],description:"Student directory"},{id:"grades",label:"Grades",icon:TN,roles:["principal","principal_hebrew","principal_english","admin"],description:"Grade levels"},{id:"classes",label:"Classes",icon:m0,roles:["principal","principal_hebrew","principal_english","admin"],description:"Manage classes"},{id:"class-detail",label:"Class Detail",icon:h0,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","admin"],description:"Class info with notes"},{id:"issues",label:"Issues",icon:Kh,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin","special_ed"],description:"Track issues"},{id:"calls",label:"Phone Calls",icon:nf,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","admin","special_ed"],description:"Call logs"},{id:"meetings",label:"Meetings",icon:Ps,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","tutor","admin","special_ed"],description:"Schedule meetings"},{id:"staff",label:"Staff Directory",icon:pre,roles:["principal","principal_hebrew","principal_english","admin"],description:"All staff contacts"},{id:"users",label:"User Management",icon:kre,roles:["principal","principal_hebrew","principal_english","admin"],description:"Manage login accounts & roles"},{id:"special-ed",label:"Special Education",icon:Dy,roles:["principal","principal_hebrew","admin","special_ed"],description:"Special education management"},{id:"late-tracking",label:"Late Tracking",icon:Ss,roles:["principal","principal_hebrew","principal_english","admin"],description:"Track late arrivals / print slips"},{id:"bus-changes",label:"Bus Changes",icon:Gh,roles:["principal","principal_hebrew","principal_english","admin"],description:"Bus routes and changes"},{id:"reminders",label:"Reminders",icon:Fy,roles:["principal","principal_hebrew","principal_english","teacher","teacher_hebrew","teacher_english","admin","special_ed"],description:"Reminders with email"},{id:"books",label:"Books",icon:nB,roles:["principal","principal_hebrew","principal_english","admin"],description:"Book inventory & requirements"},{id:"fees",label:"Fees & Trips",icon:xs,roles:["principal","principal_hebrew","principal_english","admin"],description:"Manage fees"},{id:"payments",label:"Payments",icon:Bg,roles:["principal","principal_hebrew","principal_english","admin"],description:"Record payments"},{id:"financial-reports",label:"Financial Reports",icon:mre,roles:["principal","principal_hebrew","principal_english","admin"],description:"Payment reports"},{id:"reports",label:"Reports",icon:ure,roles:["principal","principal_hebrew","principal_english","admin"],description:"General reports"},{id:"settings",label:"Settings",icon:cO,roles:["principal","principal_hebrew","principal_english","admin"],description:"System settings"}],x=()=>{const N={role:c,currentUser:t};switch(a){case"overview":return s.jsx(lM,{...N});case"grades":return s.jsx(UBe,{...N});case"classes":return s.jsx(DBe,{...N});case"students":return s.jsx(YRe,{...N});case"issues":return s.jsx(XRe,{...N});case"staff":return s.jsx(qBe,{...N});case"users":return s.jsx(zBe,{...N});case"calls":return s.jsx(JRe,{...N});case"meetings":return s.jsx(kM,{...N});case"calendar":return s.jsx(kM,{...N});case"books":return s.jsx(VBe,{...N});case"fees":return s.jsx(HBe,{...N});case"payments":return s.jsx(GBe,{...N});case"financial-reports":return s.jsx(KBe,{...N});case"templates":return s.jsx(FBe,{...N});case"timeslots":return s.jsx(T$e,{...N});case"bulkschedule":return s.jsx(C$e,{...N});case"reports":return s.jsx(kBe,{...N});case"activity":return s.jsx(PBe,{...N});case"settings":return s.jsx($Be,{...N});case"special-ed":return s.jsx(YBe,{...N});case"class-detail":return s.jsx(XBe,{...N});case"late-tracking":return s.jsx(JBe,{...N});case"bus-changes":return s.jsx(QBe,{...N});case"reminders":return s.jsx(ZBe,{...N});case"todos":return s.jsx(e9e,{...N});default:return s.jsx(lM,{...N})}};if(n||!t)return s.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-50",children:s.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[s.jsx("div",{className:"h-12 w-12 bg-blue-200 rounded-full mb-4"}),s.jsx("div",{className:"h-4 w-32 bg-slate-200 rounded"}),s.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Loading profile..."})]})});const g=m.filter(N=>{const S=N.roles.includes(c),T=t==null?void 0:t.custom_permissions;let k=!1;return T&&T[N.id]===!0&&(k=!0),!(T&&T[N.id]===!1||!S&&!k||u&&u[c]&&u[c][N.id]===!1)});return s.jsxs("div",{className:"flex h-screen overflow-hidden",dir:"ltr",children:[s.jsx(N6,{mode:"wait",children:o&&s.jsxs(HN.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{duration:.3,ease:"easeInOut"},className:"w-64 bg-white border-r border-slate-200 flex flex-col shadow-lg z-20",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("img",{src:"/logo.svg",alt:"Logo",className:"h-12 w-12 rounded-full shadow-md"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-sm font-bold text-slate-800 leading-tight",dir:"rtl",children:"    "}),s.jsx("p",{className:"text-xs text-slate-500",dir:"rtl",children:""})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm",children:((y=t==null?void 0:t.name)==null?void 0:y.charAt(0))||((b=e==null?void 0:e.email)==null?void 0:b.charAt(0))||"?"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:(t==null?void 0:t.name)||"User"}),s.jsx("p",{className:"text-xs text-slate-500 capitalize",children:c})]})]})]}),s.jsx("nav",{className:"flex-1 p-3 space-y-0.5 overflow-y-auto",children:g.map(N=>{const S=N.icon,T=a===N.id;return s.jsxs("button",{onClick:()=>i(N.id),className:`w-full group relative flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 ${T?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-200":"text-slate-700 hover:bg-slate-100 hover:shadow-sm"}`,children:[s.jsx(S,{size:22,className:T?"":"text-slate-500 group-hover:text-slate-700"}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:`font-semibold text-sm ${T?"text-white":"text-slate-800"}`,children:N.label}),s.jsx("div",{className:`text-xs ${T?"text-blue-100":"text-slate-500"}`,children:N.description})]})]},N.id)})}),s.jsxs("div",{className:"p-3 border-t bg-slate-50 space-y-1",children:[(c==="admin"||c==="principal")&&s.jsxs(Ne,{variant:"ghost",className:"w-full justify-start text-blue-600 hover:bg-blue-50 rounded-xl text-sm",onClick:()=>h(!0),children:[s.jsx(cO,{className:"ml-2 h-4 w-4"}),s.jsx("span",{children:"Menu Settings"})]}),s.jsxs(Ne,{variant:"ghost",className:"w-full justify-start text-red-600 hover:bg-red-50 hover:text-red-700 rounded-xl",onClick:r,children:[s.jsx(Sre,{className:"ml-2 h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Log Out"})]})]})]})}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between shadow-sm z-10",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>l(!o),className:"hover:bg-slate-100 rounded-xl",children:s.jsx(Nre,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:((j=m.find(N=>N.id===a))==null?void 0:j.label)||"Dashboard"}),s.jsx("p",{className:"text-xs text-slate-500",children:(_=m.find(N=>N.id===a))==null?void 0:_.description})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"hidden md:block text-right",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700",children:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date().toLocaleDateString("en-US",{weekday:"long"})})]})})]}),s.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6 bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/30",children:s.jsx(N6,{mode:"wait",children:s.jsx(HN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-7xl mx-auto",children:x()},a)})})]}),s.jsx(Zt,{open:f,onOpenChange:h,children:s.jsxs(Xt,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsx(er,{children:s.jsx(tr,{children:"Menu Settings - Configure which options each role can see"})}),s.jsx("div",{className:"space-y-6 py-4",children:["teacher","teacher_hebrew","teacher_english","tutor","principal_hebrew","principal_english","special_ed"].map(N=>{const S={teacher:"Teacher",teacher_hebrew:"Hebrew Teacher",teacher_english:"English Teacher",tutor:"Tutor",principal_hebrew:"Hebrew Principal",principal_english:"English Principal",special_ed:"Special Education"},T=m.filter(V=>V.roles.includes(N));if(T.length===0)return null;const k=(u==null?void 0:u[N])||{};return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-3",children:S[N]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:T.map(V=>{const C=k[V.id]!==!1;return s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer border ${C?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[s.jsx("input",{type:"checkbox",checked:C,onChange:P=>{const U={...u};U[N]||(U[N]={}),U[N][V.id]=P.target.checked,v(U)},className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:V.label})]},V.id)})})]},N)})})]})})]})},r9e=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(""),[a,i]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(""),[d,f]=O.useState(!1),{signIn:h}=cw(),{toast:p}=Tr(),v=async x=>{x.preventDefault(),i(!0);try{const{error:g}=await h(e,r);if(g)throw g}catch(g){p({variant:"destructive",title:"Authentication Failed",description:g.message||"Invalid credentials. Please try again."})}finally{i(!1)}},m=async x=>{x.preventDefault(),f(!0);try{const{error:g}=await Te.auth.resetPasswordForEmail(c,{redirectTo:window.location.origin+"/reset-password"});if(g)throw g;p({title:"Reset Link Sent",description:"Check your email for the password reset link."}),l(!1),u("")}catch(g){p({variant:"destructive",title:"Error",description:g.message})}finally{f(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center p-4",children:[s.jsxs(HN.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[s.jsxs(Ye,{className:"shadow-xl border-t-4 border-t-blue-600",children:[s.jsxs(ir,{className:"space-y-1 text-center pb-6",children:[s.jsx("div",{className:"mx-auto bg-blue-100 p-3 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:s.jsx(iO,{className:"w-8 h-8 text-blue-600"})}),s.jsx(sr,{className:"text-2xl font-bold",children:"School Management"}),s.jsx(Sa,{children:"Enter your credentials to access the system"})]}),s.jsxs("form",{onSubmit:v,children:[s.jsxs(Xe,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(pa,{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400"}),s.jsx(Ge,{id:"email",type:"email",placeholder:"name@school.edu",className:"pl-10",value:e,onChange:x=>t(x.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(ve,{htmlFor:"password",children:"Password"}),s.jsx(Ne,{variant:"link",className:"p-0 h-auto text-xs text-blue-600",onClick:x=>{x.preventDefault(),l(!0)},type:"button",children:"Forgot password?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(iO,{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400"}),s.jsx(Ge,{id:"password",type:"password",placeholder:"",className:"pl-10",value:r,onChange:x=>n(x.target.value),required:!0})]})]})]}),s.jsx(rv,{className:"flex flex-col gap-4",children:s.jsx(Ne,{className:"w-full bg-blue-600 hover:bg-blue-700",type:"submit",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Sn,{className:"mr-2 h-4 w-4 animate-spin"})," Signing in..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jre,{className:"mr-2 h-4 w-4"})," Sign In"]})})})]})]}),s.jsxs("p",{className:"text-center text-sm text-slate-500 mt-4",children:["Secure School Management System  ",new Date().getFullYear()]})]}),s.jsx(Zt,{open:o,onOpenChange:l,children:s.jsxs(Xt,{className:"sm:max-w-[425px]",children:[s.jsxs(er,{children:[s.jsx(tr,{children:"Reset Password"}),s.jsx(Nl,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsxs("form",{onSubmit:m,children:[s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ve,{htmlFor:"reset-email",children:"Email"}),s.jsx(Ge,{id:"reset-email",type:"email",value:c,onChange:x=>u(x.target.value),placeholder:"name@school.edu",required:!0})]})}),s.jsxs(yr,{children:[s.jsx(Ne,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(Ne,{type:"submit",disabled:d,children:d?s.jsx(Sn,{className:"mr-2 h-4 w-4 animate-spin"}):"Send Reset Link"})]})]})]})})]})},n9e=()=>{const{user:e,loading:t}=cw();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Sn,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-500",children:"Loading system..."})]})}):e?s.jsx(t9e,{}):s.jsx(r9e,{})};function a9e(){return s.jsx(Fee,{children:s.jsxs(Lee,{children:[s.jsxs(uN,{children:[s.jsx("title",{children:"School Management System"}),s.jsx("meta",{name:"description",content:"A comprehensive student management system."})]}),s.jsx("div",{className:"min-h-screen bg-slate-50 font-sans",dir:"ltr",children:s.jsx(n9e,{})}),s.jsx(Ire,{})]})})}pS.createRoot(document.getElementById("root")).render(s.jsx(a9e,{}));export{en as _,In as c,Hr as g};
